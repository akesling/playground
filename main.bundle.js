(()=>{var Zoe=Object.create;var $N=Object.defineProperty;var Goe=Object.getOwnPropertyDescriptor;var Xoe=Object.getOwnPropertyNames;var Qoe=Object.getPrototypeOf,Joe=Object.prototype.hasOwnProperty;var YB=(r=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(r,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):r)(function(r){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var ge=(r,e)=>()=>(r&&(e=r(r=0)),e);var sC=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),BE=(r,e)=>{for(var t in e)$N(r,t,{get:e[t],enumerable:!0})},ere=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Xoe(e))!Joe.call(r,n)&&n!==t&&$N(r,n,{get:()=>e[n],enumerable:!(i=Goe(e,n))||i.enumerable});return r};var aC=(r,e,t)=>(t=r!=null?Zoe(Qoe(r)):{},ere(e||!r||!r.__esModule?$N(t,"default",{value:r,enumerable:!0}):t,r));function nce(r,e){let t;return e.length===0?t=r:t=r.replace(/\{(\d+)\}/g,function(i,n){let o=n[0];return typeof e[o]<"u"?e[o]:i}),t}function g(r,e,...t){return nce(e,t)}var ke=ge(()=>{});function hx(){if(!Tj){Tj=!0;let r=new Uint8Array(2);r[0]=1,r[1]=2,Oj=new Uint16Array(r.buffer)[0]===(2<<8)+1}return Oj}var DP,lx,MC,AC,PC,oce,Nj,kP,rce,IP,sce,ax,cx,ace,gf,Hi,Qr,Pj,lce,LP,Ri,Je,Fi,_s,pa,Mj,Jr,dd,Aj,dx,ur,Oj,Tj,OP,Rj,Fj,Bj,wTe,xt=ge(()=>{lx="en",MC=!1,AC=!1,PC=!1,oce=!1,Nj=!1,kP=!1,rce=!1,IP=!1,sce=!1,cx=lx,Hi=typeof self=="object"?self:typeof global=="object"?global:{};typeof Hi.vscode<"u"&&typeof Hi.vscode.process<"u"?Qr=Hi.vscode.process:typeof process<"u"&&(Qr=process);Pj=typeof((DP=Qr?.versions)===null||DP===void 0?void 0:DP.electron)=="string",lce=Pj&&Qr?.type==="renderer";if(typeof navigator=="object"&&!lce)gf=navigator.userAgent,MC=gf.indexOf("Windows")>=0,AC=gf.indexOf("Macintosh")>=0,IP=(gf.indexOf("Macintosh")>=0||gf.indexOf("iPad")>=0||gf.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,PC=gf.indexOf("Linux")>=0,kP=!0,ax=navigator.language,cx=ax;else if(typeof Qr=="object"){MC=Qr.platform==="win32",AC=Qr.platform==="darwin",PC=Qr.platform==="linux",oce=PC&&!!Qr.env.SNAP&&!!Qr.env.SNAP_REVISION,rce=Pj,sce=!!Qr.env.CI||!!Qr.env.BUILD_ARTIFACTSTAGINGDIRECTORY,ax=lx,cx=lx;let r=Qr.env.VSCODE_NLS_CONFIG;if(r)try{let e=JSON.parse(r),t=e.availableLanguages["*"];ax=e.locale,cx=t||lx,ace=e._translationsConfigFile}catch{}Nj=!0}else console.error("Unable to resolve platform.");LP=0;AC?LP=1:MC?LP=3:PC&&(LP=2);Ri=MC,Je=AC,Fi=PC,_s=Nj,pa=kP,Mj=kP&&typeof Hi.importScripts=="function",Jr=IP,dd=gf,Aj=cx,dx=(()=>{if(typeof Hi.postMessage=="function"&&!Hi.importScripts){let r=[];Hi.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let i=0,n=r.length;i<n;i++){let o=r[i];if(o.id===t.data.vscodeScheduleAsyncWork){r.splice(i,1),o.callback();return}}});let e=0;return t=>{let i=++e;r.push({id:i,callback:t}),Hi.postMessage({vscodeScheduleAsyncWork:i},"*")}}return r=>setTimeout(r)})(),ur=AC||IP?2:MC?1:3,Oj=!0,Tj=!1;OP=!!(dd&&dd.indexOf("Chrome")>=0),Rj=!!(dd&&dd.indexOf("Firefox")>=0),Fj=!!(!OP&&dd&&dd.indexOf("Safari")>=0),Bj=!!(dd&&dd.indexOf("Edg/")>=0),wTe=!!(dd&&dd.indexOf("Android")>=0)});function cce(r=""){let e="(-?\\d*\\.\\d\\w*)|([^";for(let t of TP)r.indexOf(t)>=0||(e+="\\"+t);return e+="\\s]+)",new RegExp(e,"g")}function ux(r){let e=RC;if(r&&r instanceof RegExp)if(r.global)e=r;else{let t="g";r.ignoreCase&&(t+="i"),r.multiline&&(t+="m"),r.unicode&&(t+="u"),e=new RegExp(r.source,t)}return e.lastIndex=0,e}function mf(r,e,t,i,n=dce){if(t.length>n.maxLen){let c=r-n.maxLen/2;return c<0?c=0:i+=c,t=t.substring(c,r+n.maxLen/2),mf(r,e,t,i,n)}let o=Date.now(),s=r-1-i,a=-1,l=null;for(let c=1;!(Date.now()-o>=n.timeBudget);c++){let d=s-n.windowSize*c;e.lastIndex=Math.max(0,d);let h=hce(e,t,s,a);if(!h&&l||(l=h,d<=0))break;a=d}if(l){let c={word:l[0],startColumn:i+1+l.index,endColumn:i+1+l.index+l[0].length};return e.lastIndex=0,c}return null}function hce(r,e,t,i){let n;for(;n=r.exec(e);){let o=n.index||0;if(o<=t&&r.lastIndex>=t)return n;if(i>0&&o>i)return null}return null}var TP,RC,dce,Q_=ge(()=>{TP="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";RC=cce();dce={maxLen:1e3,windowSize:15,timeBudget:150}});function _a(r,e=0){return r[r.length-(1+e)]}function jj(r){if(r.length===0)throw new Error("Invalid tail call");return[r.slice(0,r.length-1),r[r.length-1]]}function Xn(r,e,t=(i,n)=>i===n){if(r===e)return!0;if(!r||!e||r.length!==e.length)return!1;for(let i=0,n=r.length;i<n;i++)if(!t(r[i],e[i]))return!1;return!0}function J_(r,e,t){let i=0,n=r.length-1;for(;i<=n;){let o=(i+n)/2|0,s=t(r[o],e);if(s<0)i=o+1;else if(s>0)n=o-1;else return o}return-(i+1)}function gx(r,e){let t=0,i=r.length;if(i===0)return 0;for(;t<i;){let n=Math.floor((t+i)/2);e(r[n])?i=n:t=n+1}return t}function fx(r,e,t){if(r=r|0,r>=e.length)throw new TypeError("invalid index");let i=e[Math.floor(e.length*Math.random())],n=[],o=[],s=[];for(let a of e){let l=t(a,i);l<0?n.push(a):l>0?o.push(a):s.push(a)}return r<n.length?fx(r,n,t):r<n.length+s.length?s[0]:fx(r-(n.length+s.length),o,t)}function NP(r,e){let t=[],i;for(let n of r.slice(0).sort(e))!i||e(i[0],n)!==0?(i=[n],t.push(i)):i.push(n);return t}function Il(r){return r.filter(e=>!!e)}function mx(r){return!Array.isArray(r)||r.length===0}function jn(r){return Array.isArray(r)&&r.length>0}function Ua(r,e=t=>t){let t=new Set;return r.filter(i=>{let n=e(i);return t.has(n)?!1:(t.add(n),!0)})}function Wj(r,e){let t=uce(r,e);if(t!==-1)return r[t]}function uce(r,e){for(let t=r.length-1;t>=0;t--){let i=r[t];if(e(i))return t}return-1}function px(r,e){return r.length>0?r[0]:e}function eb(r){return[].concat(...r)}function Do(r,e){let t=typeof e=="number"?r:0;typeof e=="number"?t=r:(t=0,e=r);let i=[];if(t<=e)for(let n=t;n<e;n++)i.push(n);else for(let n=t;n>e;n--)i.push(n);return i}function pf(r,e,t){let i=r.slice(0,e),n=r.slice(e);return i.concat(t,n)}function _x(r,e){let t=r.indexOf(e);t>-1&&(r.splice(t,1),r.unshift(e))}function FC(r,e){let t=r.indexOf(e);t>-1&&(r.splice(t,1),r.push(e))}function tb(r){return Array.isArray(r)?r:[r]}function fce(r,e,t){let i=Uj(r,e),n=r.length,o=t.length;r.length=n+o;for(let s=n-1;s>=i;s--)r[s+o]=r[s];for(let s=0;s<o;s++)r[s+i]=t[s]}function PP(r,e,t,i){let n=Uj(r,e),o=r.splice(n,t);return fce(r,n,i),o}function Uj(r,e){return e<0?Math.max(e+r.length,0):Math.min(e,r.length)}function ib(r,e){return(t,i)=>e(r(t),r(i))}function MP(r,e){if(r.length===0)return;let t=r[0];for(let i=1;i<r.length;i++){let n=r[i];e(n,t)>0&&(t=n)}return t}function Vj(r,e){if(r.length===0)return;let t=r[0];for(let i=1;i<r.length;i++){let n=r[i];e(n,t)>=0&&(t=n)}return t}function Hj(r,e){return MP(r,(t,i)=>-e(t,i))}var zj,Ol,jt=ge(()=>{zj=(r,e)=>r-e;Ol=class{constructor(e){this.items=e,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;let i=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,i}takeFromEndWhile(e){let t=this.lastIdx;for(;t>=0&&e(this.items[t]);)t--;let i=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,i}peek(){return this.items[this.firstIdx]}dequeue(){let e=this.items[this.firstIdx];return this.firstIdx++,e}takeCount(e){let t=this.items.slice(this.firstIdx,this.firstIdx+e);return this.firstIdx+=e,t}}});function bx(r){return Array.isArray(r)}function Nr(r){return typeof r=="string"}function Qn(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)&&!(r instanceof RegExp)&&!(r instanceof Date)}function Nl(r){return typeof r=="number"&&!isNaN(r)}function AP(r){return!!r&&typeof r[Symbol.iterator]=="function"}function vx(r){return r===!0||r===!1}function Xo(r){return typeof r>"u"}function $j(r){return!fr(r)}function fr(r){return Xo(r)||r===null}function Yt(r,e){if(!r)throw new Error(e?`Unexpected type, expected '${e}'`:"Unexpected type")}function BC(r){if(fr(r))throw new Error("Assertion Failed: argument is undefined or null");return r}function nb(r){return typeof r=="function"}function Kj(r,e){let t=Math.min(r.length,e.length);for(let i=0;i<t;i++)gce(r[i],e[i])}function gce(r,e){if(Nr(e)){if(typeof r!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(nb(e)){try{if(r instanceof e)return}catch{}if(!fr(r)&&r.constructor===e||e.length===1&&e.call(void 0,r)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function mce(r){let e=[],t=Object.getPrototypeOf(r);for(;Object.prototype!==t;)e=e.concat(Object.getOwnPropertyNames(t)),t=Object.getPrototypeOf(t);return e}function ob(r){let e=[];for(let t of mce(r))typeof r[t]=="function"&&e.push(t);return e}function qj(r,e){let t=n=>function(){let o=Array.prototype.slice.call(arguments,0);return e(n,o)},i={};for(let n of r)i[n]=t(n);return i}function za(r){return r===null?void 0:r}function rb(r,e="Unreachable"){throw new Error(e)}var ai=ge(()=>{});function Ml(r){if(!r||typeof r!="object"||r instanceof RegExp)return r;let e=Array.isArray(r)?[]:{};return Object.keys(r).forEach(t=>{r[t]&&typeof r[t]=="object"?e[t]=Ml(r[t]):e[t]=r[t]}),e}function Yj(r){if(!r||typeof r!="object")return r;let e=[r];for(;e.length>0;){let t=e.shift();Object.freeze(t);for(let i in t)if(Zj.call(t,i)){let n=t[i];typeof n=="object"&&!Object.isFrozen(n)&&e.push(n)}}return r}function Gj(r,e){return RP(r,e,new Set)}function RP(r,e,t){if(fr(r))return r;let i=e(r);if(typeof i<"u")return i;if(bx(r)){let n=[];for(let o of r)n.push(RP(o,e,t));return n}if(Qn(r)){if(t.has(r))throw new Error("Cannot clone recursive data-structure");t.add(r);let n={};for(let o in r)Zj.call(r,o)&&(n[o]=RP(r[o],e,t));return t.delete(r),n}return r}function gr(r,e,t=!0){return Qn(r)?(Qn(e)&&Object.keys(e).forEach(i=>{i in r?t&&(Qn(r[i])&&Qn(e[i])?gr(r[i],e[i],t):r[i]=e[i]):r[i]=e[i]}),r):e}function Qo(r,e){if(r===e)return!0;if(r==null||e===null||e===void 0||typeof r!=typeof e||typeof r!="object"||Array.isArray(r)!==Array.isArray(e))return!1;let t,i;if(Array.isArray(r)){if(r.length!==e.length)return!1;for(t=0;t<r.length;t++)if(!Qo(r[t],e[t]))return!1}else{let n=[];for(i in r)n.push(i);n.sort();let o=[];for(i in e)o.push(i);if(o.sort(),!Qo(n,o))return!1;for(t=0;t<n.length;t++)if(!Qo(r[n[t]],e[n[t]]))return!1}return!0}function vc(r,e,t){let i=e(r);return typeof i>"u"?t:i}var Zj,Jo=ge(()=>{ai();Zj=Object.prototype.hasOwnProperty});var Lo,jC=ge(()=>{Lo={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}}});function Ie(r){ws(r)||L6.onUnexpectedError(r)}function Si(r){ws(r)||L6.onUnexpectedExternalError(r)}function FP(r){if(r instanceof Error){let{name:e,message:t}=r,i=r.stacktrace||r.stack;return{$isError:!0,name:e,message:t,stack:i}}return r}function ws(r){return r instanceof hd?!0:r instanceof Error&&r.name===Sx&&r.message===Sx}function ab(){let r=new Error(Sx);return r.name=r.message,r}function is(r){return r?new Error(`Illegal argument: ${r}`):new Error("Illegal argument")}function k6(r){return r?new Error(`Illegal state: ${r}`):new Error("Illegal state")}var D6,L6,Sx,hd,BP,ut=ge(()=>{D6=class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?new Error(e.message+`

`+e.stack):e},0)}}emit(e){this.listeners.forEach(t=>{t(e)})}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},L6=new D6;Sx="Canceled";hd=class extends Error{constructor(){super(Sx);this.name=this.message}};BP=class extends Error{constructor(e){super("NotSupported");e&&(this.message=e)}}});function ba(r){let e=this,t=!1,i;return function(){return t||(t=!0,i=r.apply(e,arguments)),i}}var wm=ge(()=>{});var Ot,Va=ge(()=>{(function(r){function e(C){return C&&typeof C=="object"&&typeof C[Symbol.iterator]=="function"}r.is=e;let t=Object.freeze([]);function i(){return t}r.empty=i;function*n(C){yield C}r.single=n;function o(C){return C||t}r.from=o;function s(C){return!C||C[Symbol.iterator]().next().done===!0}r.isEmpty=s;function a(C){return C[Symbol.iterator]().next().value}r.first=a;function l(C,E){for(let L of C)if(E(L))return!0;return!1}r.some=l;function c(C,E){for(let L of C)if(E(L))return L}r.find=c;function*d(C,E){for(let L of C)E(L)&&(yield L)}r.filter=d;function*h(C,E){let L=0;for(let k of C)yield E(k,L++)}r.map=h;function*u(...C){for(let E of C)for(let L of E)yield L}r.concat=u;function*f(C){for(let E of C)for(let L of E)yield L}r.concatNested=f;function m(C,E,L){let k=L;for(let M of C)k=E(k,M);return k}r.reduce=m;function*_(C,E,L=C.length){for(E<0&&(E+=C.length),L<0?L+=C.length:L>C.length&&(L=C.length);E<L;E++)yield C[E]}r.slice=_;function w(C,E=Number.POSITIVE_INFINITY){let L=[];if(E===0)return[L,C];let k=C[Symbol.iterator]();for(let M=0;M<E;M++){let I=k.next();if(I.done)return[L,r.empty()];L.push(I.value)}return[L,{[Symbol.iterator](){return k}}]}r.consume=w;function y(C,E,L=(k,M)=>k===M){let k=C[Symbol.iterator](),M=E[Symbol.iterator]();for(;;){let I=k.next(),T=M.next();if(I.done!==T.done)return!1;if(I.done)return!0;if(!L(I.value,T.value))return!1}}r.equals=y})(Ot||(Ot={}))});function Dce(r){js=r}function zC(r){return js?.trackDisposable(r),r}function VC(r){js?.markAsDisposed(r)}function Ex(r,e){js?.setParent(r,e)}function Lce(r,e){if(!!js)for(let t of r)js.setParent(t,e)}function I6(r){return js?.markAsSingleton(r),r}function lb(r){return typeof r.dispose=="function"&&r.dispose.length===0}function dt(r){if(Ot.is(r)){let e=[];for(let t of r)if(t)try{t.dispose()}catch(i){e.push(i)}if(e.length===1)throw e[0];if(e.length>1)throw new O6(e);return Array.isArray(r)?[]:r}else if(r)return r.dispose(),r}function Ws(...r){let e=Ve(()=>dt(r));return Lce(r,e),e}function Ve(r){let e=zC({dispose:ba(()=>{VC(e),r()})});return e}var xce,js,O6,J,$,kn,jP,WP,re=ge(()=>{wm();Va();xce=!1,js=null;if(xce){let r="__is_disposable_tracked__";Dce(new class{trackDisposable(e){let t=new Error("Potentially leaked disposable").stack;setTimeout(()=>{e[r]||console.log(t)},3e3)}setParent(e,t){if(e&&e!==$.None)try{e[r]=!0}catch{}}markAsDisposed(e){if(e&&e!==$.None)try{e[r]=!0}catch{}}markAsSingleton(e){}})}O6=class extends Error{constructor(e){super(`Encountered errors while disposing of store. Errors: [${e.join(", ")}]`);this.errors=e}};J=class{constructor(){this._toDispose=new Set,this._isDisposed=!1,zC(this)}dispose(){this._isDisposed||(VC(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{dt(this._toDispose.values())}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return Ex(e,this),this._isDisposed?J.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}};J.DISABLE_DISPOSED_WARNING=!1;$=class{constructor(){this._store=new J,zC(this),Ex(this._store,this)}dispose(){VC(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};$.None=Object.freeze({dispose(){}});kn=class{constructor(){this._isDisposed=!1,zC(this)}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||((t=this._value)===null||t===void 0||t.dispose(),e&&Ex(e,this),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,VC(this),(e=this._value)===null||e===void 0||e.dispose(),this._value=void 0}clearAndLeak(){let e=this._value;return this._value=void 0,e&&Ex(e,null),e}},jP=class{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1,zC(this)}set(e){let t=e;return this.unset=()=>t=void 0,this.isset=()=>t!==void 0,this.dispose=()=>{t&&(t(),t=void 0,VC(this))},this}},WP=class{constructor(e){this.object=e}dispose(){}}});var In,fo,Ph=ge(()=>{In=class{constructor(e){this.element=e,this.next=In.Undefined,this.prev=In.Undefined}};In.Undefined=new In(void 0);fo=class{constructor(){this._first=In.Undefined,this._last=In.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===In.Undefined}clear(){let e=this._first;for(;e!==In.Undefined;){let t=e.next;e.prev=In.Undefined,e.next=In.Undefined,e=t}this._first=In.Undefined,this._last=In.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){let i=new In(e);if(this._first===In.Undefined)this._first=i,this._last=i;else if(t){let o=this._last;this._last=i,i.prev=o,o.next=i}else{let o=this._first;this._first=i,i.next=o,o.prev=i}this._size+=1;let n=!1;return()=>{n||(n=!0,this._remove(i))}}shift(){if(this._first!==In.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==In.Undefined){let e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==In.Undefined&&e.next!==In.Undefined){let t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===In.Undefined&&e.next===In.Undefined?(this._first=In.Undefined,this._last=In.Undefined):e.next===In.Undefined?(this._last=this._last.prev,this._last.next=In.Undefined):e.prev===In.Undefined&&(this._first=this._first.next,this._first.prev=In.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==In.Undefined;)yield e.element,e=e.next}}});var kce,fn,va=ge(()=>{xt();kce=Hi.performance&&typeof Hi.performance.now=="function",fn=class{constructor(e){this._highResolution=kce&&e,this._startTime=this._now(),this._stopTime=-1}static create(e=!0){return new fn(e)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?Hi.performance.now():Date.now()}}});var T6,Ice,xe,HC,N6,P6,cb,M6,B,Cm,UP,ym,xx,Ee=ge(()=>{ut();re();Ph();va();T6=!1,Ice=!1;(function(r){r.None=()=>$.None;function e(k){if(Ice){let{onListenerDidAdd:M}=k,I=cb.create(),T=0;k.onListenerDidAdd=()=>{++T===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),I.print()),M?.()}}}function t(k){return(M,I=null,T)=>{let R=!1,Z;return Z=k(q=>{if(!R)return Z?Z.dispose():R=!0,M.call(I,q)},null,T),R&&Z.dispose(),Z}}r.once=t;function i(k,M,I){return c((T,R=null,Z)=>k(q=>T.call(R,M(q)),null,Z),I)}r.map=i;function n(k,M,I){return c((T,R=null,Z)=>k(q=>{M(q),T.call(R,q)},null,Z),I)}r.forEach=n;function o(k,M,I){return c((T,R=null,Z)=>k(q=>M(q)&&T.call(R,q),null,Z),I)}r.filter=o;function s(k){return k}r.signal=s;function a(...k){return(M,I=null,T)=>Ws(...k.map(R=>R(Z=>M.call(I,Z),null,T)))}r.any=a;function l(k,M,I,T){let R=I;return i(k,Z=>(R=M(R,Z),R),T)}r.reduce=l;function c(k,M){let I,T={onFirstListenerAdd(){I=k(R.fire,R)},onLastListenerRemove(){I.dispose()}};M||e(T);let R=new B(T);return M&&M.add(R),R.event}function d(k,M,I=100,T=!1,R,Z){let q,te,ne,Ne=0,Oe={leakWarningThreshold:R,onFirstListenerAdd(){q=k(Ze=>{Ne++,te=M(te,Ze),T&&!ne&&(je.fire(te),te=void 0),clearTimeout(ne),ne=setTimeout(()=>{let $e=te;te=void 0,ne=void 0,(!T||Ne>1)&&je.fire($e),Ne=0},I)})},onLastListenerRemove(){q.dispose()}};Z||e(Oe);let je=new B(Oe);return Z&&Z.add(je),je.event}r.debounce=d;function h(k,M=(T,R)=>T===R,I){let T=!0,R;return o(k,Z=>{let q=T||!M(Z,R);return T=!1,R=Z,q},I)}r.latch=h;function u(k,M,I){return[r.filter(k,M,I),r.filter(k,T=>!M(T),I)]}r.split=u;function f(k,M=!1,I=[]){let T=I.slice(),R=k(te=>{T?T.push(te):q.fire(te)}),Z=()=>{T&&T.forEach(te=>q.fire(te)),T=null},q=new B({onFirstListenerAdd(){R||(R=k(te=>q.fire(te)))},onFirstListenerDidAdd(){T&&(M?setTimeout(Z):Z())},onLastListenerRemove(){R&&R.dispose(),R=null}});return q.event}r.buffer=f;class m{constructor(M){this.event=M}map(M){return new m(i(this.event,M))}forEach(M){return new m(n(this.event,M))}filter(M){return new m(o(this.event,M))}reduce(M,I){return new m(l(this.event,M,I))}latch(){return new m(h(this.event))}debounce(M,I=100,T=!1,R){return new m(d(this.event,M,I,T,R))}on(M,I,T){return this.event(M,I,T)}once(M,I,T){return t(this.event)(M,I,T)}}function _(k){return new m(k)}r.chain=_;function w(k,M,I=T=>T){let T=(...te)=>q.fire(I(...te)),R=()=>k.on(M,T),Z=()=>k.removeListener(M,T),q=new B({onFirstListenerAdd:R,onLastListenerRemove:Z});return q.event}r.fromNodeEventEmitter=w;function y(k,M,I=T=>T){let T=(...te)=>q.fire(I(...te)),R=()=>k.addEventListener(M,T),Z=()=>k.removeEventListener(M,T),q=new B({onFirstListenerAdd:R,onLastListenerRemove:Z});return q.event}r.fromDOMEventEmitter=y;function C(k){return new Promise(M=>t(k)(M))}r.toPromise=C;function E(k,M){return M(void 0),k(I=>M(I))}r.runAndSubscribe=E;function L(k,M){let I=null;function T(Z){I?.dispose(),I=new J,M(Z,I)}T(void 0);let R=k(Z=>T(Z));return Ve(()=>{R.dispose(),I?.dispose()})}r.runAndSubscribeWithStore=L})(xe||(xe={}));HC=class{constructor(e){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${e}_${HC._idPool++}`}start(e){this._stopWatch=new fn(!0),this._listenerCount=e}stop(){if(this._stopWatch){let e=this._stopWatch.elapsed();this._elapsedOverall+=e,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${e.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}};HC._idPool=0;N6=-1,P6=class{constructor(e,t=Math.random().toString(18).slice(2,5)){this.customThreshold=e,this.name=t,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(e,t){let i=N6;if(typeof this.customThreshold=="number"&&(i=this.customThreshold),i<=0||t<i)return;this._stacks||(this._stacks=new Map);let n=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,n+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=i*.5;let o,s=0;for(let[a,l]of this._stacks)(!o||s<l)&&(o=a,s=l);console.warn(`[${this.name}] potential listener LEAK detected, having ${t} listeners already. MOST frequent listener (${s}):`),console.warn(o)}return()=>{let o=this._stacks.get(e.value)||0;this._stacks.set(e.value,o-1)}}},cb=class{constructor(e){this.value=e}static create(){var e;return new cb((e=new Error().stack)!==null&&e!==void 0?e:"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},M6=class{constructor(e,t,i){this.callback=e,this.callbackThis=t,this.stack=i,this.subscription=new jP}invoke(e){this.callback.call(this.callbackThis,e)}},B=class{constructor(e){var t;this._disposed=!1,this._options=e,this._leakageMon=N6>0?new P6(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=!((t=this._options)===null||t===void 0)&&t._profName?new HC(this._options._profName):void 0}dispose(){var e,t,i,n;if(!this._disposed){if(this._disposed=!0,this._listeners){if(T6){let o=Array.from(this._listeners);queueMicrotask(()=>{var s;for(let a of o)a.subscription.isset()&&(a.subscription.unset(),(s=a.stack)===null||s===void 0||s.print())})}this._listeners.clear()}(e=this._deliveryQueue)===null||e===void 0||e.clear(),(i=(t=this._options)===null||t===void 0?void 0:t.onLastListenerRemove)===null||i===void 0||i.call(t),(n=this._leakageMon)===null||n===void 0||n.dispose()}}get event(){return this._event||(this._event=(e,t,i)=>{var n,o,s;this._listeners||(this._listeners=new fo);let a=this._listeners.isEmpty();a&&((n=this._options)===null||n===void 0?void 0:n.onFirstListenerAdd)&&this._options.onFirstListenerAdd(this);let l,c;this._leakageMon&&this._listeners.size>=30&&(c=cb.create(),l=this._leakageMon.check(c,this._listeners.size+1)),T6&&(c=c??cb.create());let d=new M6(e,t,c),h=this._listeners.push(d);a&&((o=this._options)===null||o===void 0?void 0:o.onFirstListenerDidAdd)&&this._options.onFirstListenerDidAdd(this),!((s=this._options)===null||s===void 0)&&s.onListenerDidAdd&&this._options.onListenerDidAdd(this,e,t);let u=d.subscription.set(()=>{l&&l(),this._disposed||(h(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return i instanceof J?i.add(u):Array.isArray(i)&&i.push(u),u}),this._event}fire(e){var t,i;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new fo);for(let n of this._listeners)this._deliveryQueue.push([n,e]);for((t=this._perfMon)===null||t===void 0||t.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){let[n,o]=this._deliveryQueue.shift();try{n.invoke(o)}catch(s){Ie(s)}}(i=this._perfMon)===null||i===void 0||i.stop()}}},Cm=class extends B{constructor(e){super(e);this._isPaused=0,this._eventQueue=new fo,this._mergeFn=e?.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){let e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(e){this._listeners&&(this._isPaused!==0?this._eventQueue.push(e):super.fire(e))}},UP=class extends Cm{constructor(e){var t;super(e);this._delay=(t=e.delay)!==null&&t!==void 0?t:100}fire(e){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(e)}},ym=class{constructor(){this.buffers=[]}wrapEvent(e){return(t,i,n)=>e(o=>{let s=this.buffers[this.buffers.length-1];s?s.push(()=>t.call(i,o)):t.call(i,o)},void 0,n)}bufferEvents(e){let t=[];this.buffers.push(t);let i=e();return this.buffers.pop(),t.forEach(n=>n()),i}},xx=class{constructor(){this.listening=!1,this.inputEvent=xe.None,this.inputEventListener=$.None,this.emitter=new B({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}});var A6,Qe,$C,Ki,Ei=ge(()=>{Ee();A6=Object.freeze(function(r,e){let t=setTimeout(r.bind(e),0);return{dispose(){clearTimeout(t)}}});(function(r){function e(t){return t===r.None||t===r.Cancelled||t instanceof $C?!0:!t||typeof t!="object"?!1:typeof t.isCancellationRequested=="boolean"&&typeof t.onCancellationRequested=="function"}r.isCancellationToken=e,r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:xe.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:A6})})(Qe||(Qe={}));$C=class{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?A6:(this._emitter||(this._emitter=new B),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},Ki=class{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new $C),this._token}cancel(){this._token?this._token instanceof $C&&this._token.cancel():this._token=Qe.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof $C&&this._token.dispose():this._token=Qe.None}}});function an(r,e){let t=(e&65535)<<16>>>0;return(r|t)>>>0}var Lx,Dx,zP,VP,$P,Tce,Nce,Pce,Mce,kx,HP,Mh,Ha=ge(()=>{Lx=class{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}},Dx=new Lx,zP=new Lx,VP=new Lx,$P=new Array(230),Tce={},Nce=[],Pce=Object.create(null),Mce=Object.create(null),kx=[],HP=[];for(let r=0;r<=193;r++)kx[r]=-1;for(let r=0;r<=127;r++)HP[r]=-1;(function(){let r="",e=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",r,r],[0,1,1,"Hyper",0,r,0,r,r,r],[0,1,2,"Super",0,r,0,r,r,r],[0,1,3,"Fn",0,r,0,r,r,r],[0,1,4,"FnLock",0,r,0,r,r,r],[0,1,5,"Suspend",0,r,0,r,r,r],[0,1,6,"Resume",0,r,0,r,r,r],[0,1,7,"Turbo",0,r,0,r,r,r],[0,1,8,"Sleep",0,r,0,"VK_SLEEP",r,r],[0,1,9,"WakeUp",0,r,0,r,r,r],[31,0,10,"KeyA",31,"A",65,"VK_A",r,r],[32,0,11,"KeyB",32,"B",66,"VK_B",r,r],[33,0,12,"KeyC",33,"C",67,"VK_C",r,r],[34,0,13,"KeyD",34,"D",68,"VK_D",r,r],[35,0,14,"KeyE",35,"E",69,"VK_E",r,r],[36,0,15,"KeyF",36,"F",70,"VK_F",r,r],[37,0,16,"KeyG",37,"G",71,"VK_G",r,r],[38,0,17,"KeyH",38,"H",72,"VK_H",r,r],[39,0,18,"KeyI",39,"I",73,"VK_I",r,r],[40,0,19,"KeyJ",40,"J",74,"VK_J",r,r],[41,0,20,"KeyK",41,"K",75,"VK_K",r,r],[42,0,21,"KeyL",42,"L",76,"VK_L",r,r],[43,0,22,"KeyM",43,"M",77,"VK_M",r,r],[44,0,23,"KeyN",44,"N",78,"VK_N",r,r],[45,0,24,"KeyO",45,"O",79,"VK_O",r,r],[46,0,25,"KeyP",46,"P",80,"VK_P",r,r],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",r,r],[48,0,27,"KeyR",48,"R",82,"VK_R",r,r],[49,0,28,"KeyS",49,"S",83,"VK_S",r,r],[50,0,29,"KeyT",50,"T",84,"VK_T",r,r],[51,0,30,"KeyU",51,"U",85,"VK_U",r,r],[52,0,31,"KeyV",52,"V",86,"VK_V",r,r],[53,0,32,"KeyW",53,"W",87,"VK_W",r,r],[54,0,33,"KeyX",54,"X",88,"VK_X",r,r],[55,0,34,"KeyY",55,"Y",89,"VK_Y",r,r],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",r,r],[22,0,36,"Digit1",22,"1",49,"VK_1",r,r],[23,0,37,"Digit2",23,"2",50,"VK_2",r,r],[24,0,38,"Digit3",24,"3",51,"VK_3",r,r],[25,0,39,"Digit4",25,"4",52,"VK_4",r,r],[26,0,40,"Digit5",26,"5",53,"VK_5",r,r],[27,0,41,"Digit6",27,"6",54,"VK_6",r,r],[28,0,42,"Digit7",28,"7",55,"VK_7",r,r],[29,0,43,"Digit8",29,"8",56,"VK_8",r,r],[30,0,44,"Digit9",30,"9",57,"VK_9",r,r],[21,0,45,"Digit0",21,"0",48,"VK_0",r,r],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",r,r],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",r,r],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",r,r],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",r,r],[10,1,50,"Space",10,"Space",32,"VK_SPACE",r,r],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,r,0,r,r,r],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",r,r],[59,1,64,"F1",59,"F1",112,"VK_F1",r,r],[60,1,65,"F2",60,"F2",113,"VK_F2",r,r],[61,1,66,"F3",61,"F3",114,"VK_F3",r,r],[62,1,67,"F4",62,"F4",115,"VK_F4",r,r],[63,1,68,"F5",63,"F5",116,"VK_F5",r,r],[64,1,69,"F6",64,"F6",117,"VK_F6",r,r],[65,1,70,"F7",65,"F7",118,"VK_F7",r,r],[66,1,71,"F8",66,"F8",119,"VK_F8",r,r],[67,1,72,"F9",67,"F9",120,"VK_F9",r,r],[68,1,73,"F10",68,"F10",121,"VK_F10",r,r],[69,1,74,"F11",69,"F11",122,"VK_F11",r,r],[70,1,75,"F12",70,"F12",123,"VK_F12",r,r],[0,1,76,"PrintScreen",0,r,0,r,r,r],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",r,r],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",r,r],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",r,r],[14,1,80,"Home",14,"Home",36,"VK_HOME",r,r],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",r,r],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",r,r],[13,1,83,"End",13,"End",35,"VK_END",r,r],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",r,r],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",r],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",r],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",r],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",r],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",r,r],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",r,r],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",r,r],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",r,r],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",r,r],[3,1,94,"NumpadEnter",3,r,0,r,r,r],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",r,r],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",r,r],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",r,r],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",r,r],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",r,r],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",r,r],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",r,r],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",r,r],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",r,r],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",r,r],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",r,r],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",r,r],[58,1,107,"ContextMenu",58,"ContextMenu",93,r,r,r],[0,1,108,"Power",0,r,0,r,r,r],[0,1,109,"NumpadEqual",0,r,0,r,r,r],[71,1,110,"F13",71,"F13",124,"VK_F13",r,r],[72,1,111,"F14",72,"F14",125,"VK_F14",r,r],[73,1,112,"F15",73,"F15",126,"VK_F15",r,r],[74,1,113,"F16",74,"F16",127,"VK_F16",r,r],[75,1,114,"F17",75,"F17",128,"VK_F17",r,r],[76,1,115,"F18",76,"F18",129,"VK_F18",r,r],[77,1,116,"F19",77,"F19",130,"VK_F19",r,r],[0,1,117,"F20",0,r,0,"VK_F20",r,r],[0,1,118,"F21",0,r,0,"VK_F21",r,r],[0,1,119,"F22",0,r,0,"VK_F22",r,r],[0,1,120,"F23",0,r,0,"VK_F23",r,r],[0,1,121,"F24",0,r,0,"VK_F24",r,r],[0,1,122,"Open",0,r,0,r,r,r],[0,1,123,"Help",0,r,0,r,r,r],[0,1,124,"Select",0,r,0,r,r,r],[0,1,125,"Again",0,r,0,r,r,r],[0,1,126,"Undo",0,r,0,r,r,r],[0,1,127,"Cut",0,r,0,r,r,r],[0,1,128,"Copy",0,r,0,r,r,r],[0,1,129,"Paste",0,r,0,r,r,r],[0,1,130,"Find",0,r,0,r,r,r],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",r,r],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",r,r],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",r,r],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",r,r],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",r,r],[0,1,136,"KanaMode",0,r,0,r,r,r],[0,0,137,"IntlYen",0,r,0,r,r,r],[0,1,138,"Convert",0,r,0,r,r,r],[0,1,139,"NonConvert",0,r,0,r,r,r],[0,1,140,"Lang1",0,r,0,r,r,r],[0,1,141,"Lang2",0,r,0,r,r,r],[0,1,142,"Lang3",0,r,0,r,r,r],[0,1,143,"Lang4",0,r,0,r,r,r],[0,1,144,"Lang5",0,r,0,r,r,r],[0,1,145,"Abort",0,r,0,r,r,r],[0,1,146,"Props",0,r,0,r,r,r],[0,1,147,"NumpadParenLeft",0,r,0,r,r,r],[0,1,148,"NumpadParenRight",0,r,0,r,r,r],[0,1,149,"NumpadBackspace",0,r,0,r,r,r],[0,1,150,"NumpadMemoryStore",0,r,0,r,r,r],[0,1,151,"NumpadMemoryRecall",0,r,0,r,r,r],[0,1,152,"NumpadMemoryClear",0,r,0,r,r,r],[0,1,153,"NumpadMemoryAdd",0,r,0,r,r,r],[0,1,154,"NumpadMemorySubtract",0,r,0,r,r,r],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",r,r],[0,1,156,"NumpadClearEntry",0,r,0,r,r,r],[5,1,0,r,5,"Ctrl",17,"VK_CONTROL",r,r],[4,1,0,r,4,"Shift",16,"VK_SHIFT",r,r],[6,1,0,r,6,"Alt",18,"VK_MENU",r,r],[57,1,0,r,57,"Meta",0,"VK_COMMAND",r,r],[5,1,157,"ControlLeft",5,r,0,"VK_LCONTROL",r,r],[4,1,158,"ShiftLeft",4,r,0,"VK_LSHIFT",r,r],[6,1,159,"AltLeft",6,r,0,"VK_LMENU",r,r],[57,1,160,"MetaLeft",57,r,0,"VK_LWIN",r,r],[5,1,161,"ControlRight",5,r,0,"VK_RCONTROL",r,r],[4,1,162,"ShiftRight",4,r,0,"VK_RSHIFT",r,r],[6,1,163,"AltRight",6,r,0,"VK_RMENU",r,r],[57,1,164,"MetaRight",57,r,0,"VK_RWIN",r,r],[0,1,165,"BrightnessUp",0,r,0,r,r,r],[0,1,166,"BrightnessDown",0,r,0,r,r,r],[0,1,167,"MediaPlay",0,r,0,r,r,r],[0,1,168,"MediaRecord",0,r,0,r,r,r],[0,1,169,"MediaFastForward",0,r,0,r,r,r],[0,1,170,"MediaRewind",0,r,0,r,r,r],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",r,r],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",r,r],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",r,r],[0,1,174,"Eject",0,r,0,r,r,r],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",r,r],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",r,r],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",r,r],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",r,r],[0,1,179,"LaunchApp1",0,r,0,"VK_MEDIA_LAUNCH_APP1",r,r],[0,1,180,"SelectTask",0,r,0,r,r,r],[0,1,181,"LaunchScreenSaver",0,r,0,r,r,r],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",r,r],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",r,r],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",r,r],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",r,r],[0,1,186,"BrowserStop",0,r,0,"VK_BROWSER_STOP",r,r],[0,1,187,"BrowserRefresh",0,r,0,"VK_BROWSER_REFRESH",r,r],[0,1,188,"BrowserFavorites",0,r,0,"VK_BROWSER_FAVORITES",r,r],[0,1,189,"ZoomToggle",0,r,0,r,r,r],[0,1,190,"MailReply",0,r,0,r,r,r],[0,1,191,"MailForward",0,r,0,r,r,r],[0,1,192,"MailSend",0,r,0,r,r,r],[109,1,0,r,109,"KeyInComposition",229,r,r,r],[111,1,0,r,111,"ABNT_C2",194,"VK_ABNT_C2",r,r],[91,1,0,r,91,"OEM_8",223,"VK_OEM_8",r,r],[0,1,0,r,0,r,0,"VK_KANA",r,r],[0,1,0,r,0,r,0,"VK_HANGUL",r,r],[0,1,0,r,0,r,0,"VK_JUNJA",r,r],[0,1,0,r,0,r,0,"VK_FINAL",r,r],[0,1,0,r,0,r,0,"VK_HANJA",r,r],[0,1,0,r,0,r,0,"VK_KANJI",r,r],[0,1,0,r,0,r,0,"VK_CONVERT",r,r],[0,1,0,r,0,r,0,"VK_NONCONVERT",r,r],[0,1,0,r,0,r,0,"VK_ACCEPT",r,r],[0,1,0,r,0,r,0,"VK_MODECHANGE",r,r],[0,1,0,r,0,r,0,"VK_SELECT",r,r],[0,1,0,r,0,r,0,"VK_PRINT",r,r],[0,1,0,r,0,r,0,"VK_EXECUTE",r,r],[0,1,0,r,0,r,0,"VK_SNAPSHOT",r,r],[0,1,0,r,0,r,0,"VK_HELP",r,r],[0,1,0,r,0,r,0,"VK_APPS",r,r],[0,1,0,r,0,r,0,"VK_PROCESSKEY",r,r],[0,1,0,r,0,r,0,"VK_PACKET",r,r],[0,1,0,r,0,r,0,"VK_DBE_SBCSCHAR",r,r],[0,1,0,r,0,r,0,"VK_DBE_DBCSCHAR",r,r],[0,1,0,r,0,r,0,"VK_ATTN",r,r],[0,1,0,r,0,r,0,"VK_CRSEL",r,r],[0,1,0,r,0,r,0,"VK_EXSEL",r,r],[0,1,0,r,0,r,0,"VK_EREOF",r,r],[0,1,0,r,0,r,0,"VK_PLAY",r,r],[0,1,0,r,0,r,0,"VK_ZOOM",r,r],[0,1,0,r,0,r,0,"VK_NONAME",r,r],[0,1,0,r,0,r,0,"VK_PA1",r,r],[0,1,0,r,0,r,0,"VK_OEM_CLEAR",r,r]],t=[],i=[];for(let n of e){let[o,s,a,l,c,d,h,u,f,m]=n;if(i[a]||(i[a]=!0,Nce[a]=l,Pce[l]=a,Mce[l.toLowerCase()]=a,s&&(kx[a]=c,c!==0&&c!==3&&c!==5&&c!==4&&c!==6&&c!==57&&(HP[c]=a))),!t[c]){if(t[c]=!0,!d)throw new Error(`String representation missing for key code ${c} around scan code ${l}`);Dx.define(c,d),zP.define(c,f||d),VP.define(c,m||f||d)}h&&($P[h]=c),u&&(Tce[u]=c)}HP[3]=46})();(function(r){function e(a){return Dx.keyCodeToStr(a)}r.toString=e;function t(a){return Dx.strToKeyCode(a)}r.fromString=t;function i(a){return zP.keyCodeToStr(a)}r.toUserSettingsUS=i;function n(a){return VP.keyCodeToStr(a)}r.toUserSettingsGeneral=n;function o(a){return zP.strToKeyCode(a)||VP.strToKeyCode(a)}r.fromUserSettings=o;function s(a){if(a>=93&&a<=108)return null;switch(a){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return Dx.keyCodeToStr(a)}r.toElectronAccelerator=s})(Mh||(Mh={}))});var db,Ix,R6,Cf,F6=ge(()=>{xt();if(typeof Hi.vscode<"u"&&typeof Hi.vscode.process<"u"){let r=Hi.vscode.process;db={get platform(){return r.platform},get arch(){return r.arch},get env(){return r.env},cwd(){return r.cwd()}}}else typeof process<"u"?db={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:db={get platform(){return Ri?"win32":Je?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};Ix=db.cwd,R6=db.env,Cf=db.platform});function ko(r,e){if(typeof r!="string")throw new qP(e,"string",r)}function gi(r){return r===Pr||r===wa}function KP(r){return r===Pr}function Sf(r){return r>=Rce&&r<=Bce||r>=Fce&&r<=jce}function Ox(r,e,t,i){let n="",o=0,s=-1,a=0,l=0;for(let c=0;c<=r.length;++c){if(c<r.length)l=r.charCodeAt(c);else{if(i(l))break;l=Pr}if(i(l)){if(!(s===c-1||a===1))if(a===2){if(n.length<2||o!==2||n.charCodeAt(n.length-1)!==Ef||n.charCodeAt(n.length-2)!==Ef){if(n.length>2){let d=n.lastIndexOf(t);d===-1?(n="",o=0):(n=n.slice(0,d),o=n.length-1-n.lastIndexOf(t)),s=c,a=0;continue}else if(n.length!==0){n="",o=0,s=c,a=0;continue}}e&&(n+=n.length>0?`${t}..`:"..",o=2)}else n.length>0?n+=`${t}${r.slice(s+1,c)}`:n=r.slice(s+1,c),o=c-s-1;s=c,a=0}else l===Ef&&a!==-1?++a:a=-1}return n}function B6(r,e){if(e===null||typeof e!="object")throw new qP("pathObject","Object",e);let t=e.dir||e.root,i=e.base||`${e.name||""}${e.ext||""}`;return t?t===e.root?`${t}${i}`:`${t}${r}${i}`:i}var Rce,Fce,Bce,jce,Ef,Pr,wa,yf,Wce,qP,Cs,gn,hb,j6,W6,Tx,ud,U6,fd,xf=ge(()=>{F6();Rce=65,Fce=97,Bce=90,jce=122,Ef=46,Pr=47,wa=92,yf=58,Wce=63,qP=class extends Error{constructor(e,t,i){let n;typeof t=="string"&&t.indexOf("not ")===0?(n="must not be",t=t.replace(/^not /,"")):n="must be";let o=e.indexOf(".")!==-1?"property":"argument",s=`The "${e}" ${o} ${n} of type ${t}`;s+=`. Received type ${typeof i}`;super(s);this.code="ERR_INVALID_ARG_TYPE"}};Cs={resolve(...r){let e="",t="",i=!1;for(let n=r.length-1;n>=-1;n--){let o;if(n>=0){if(o=r[n],ko(o,"path"),o.length===0)continue}else e.length===0?o=Ix():(o=R6[`=${e}`]||Ix(),(o===void 0||o.slice(0,2).toLowerCase()!==e.toLowerCase()&&o.charCodeAt(2)===wa)&&(o=`${e}\\`));let s=o.length,a=0,l="",c=!1,d=o.charCodeAt(0);if(s===1)gi(d)&&(a=1,c=!0);else if(gi(d))if(c=!0,gi(o.charCodeAt(1))){let h=2,u=h;for(;h<s&&!gi(o.charCodeAt(h));)h++;if(h<s&&h!==u){let f=o.slice(u,h);for(u=h;h<s&&gi(o.charCodeAt(h));)h++;if(h<s&&h!==u){for(u=h;h<s&&!gi(o.charCodeAt(h));)h++;(h===s||h!==u)&&(l=`\\\\${f}\\${o.slice(u,h)}`,a=h)}}}else a=1;else Sf(d)&&o.charCodeAt(1)===yf&&(l=o.slice(0,2),a=2,s>2&&gi(o.charCodeAt(2))&&(c=!0,a=3));if(l.length>0)if(e.length>0){if(l.toLowerCase()!==e.toLowerCase())continue}else e=l;if(i){if(e.length>0)break}else if(t=`${o.slice(a)}\\${t}`,i=c,c&&e.length>0)break}return t=Ox(t,!i,"\\",gi),i?`${e}\\${t}`:`${e}${t}`||"."},normalize(r){ko(r,"path");let e=r.length;if(e===0)return".";let t=0,i,n=!1,o=r.charCodeAt(0);if(e===1)return KP(o)?"\\":r;if(gi(o))if(n=!0,gi(r.charCodeAt(1))){let a=2,l=a;for(;a<e&&!gi(r.charCodeAt(a));)a++;if(a<e&&a!==l){let c=r.slice(l,a);for(l=a;a<e&&gi(r.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!gi(r.charCodeAt(a));)a++;if(a===e)return`\\\\${c}\\${r.slice(l)}\\`;a!==l&&(i=`\\\\${c}\\${r.slice(l,a)}`,t=a)}}}else t=1;else Sf(o)&&r.charCodeAt(1)===yf&&(i=r.slice(0,2),t=2,e>2&&gi(r.charCodeAt(2))&&(n=!0,t=3));let s=t<e?Ox(r.slice(t),!n,"\\",gi):"";return s.length===0&&!n&&(s="."),s.length>0&&gi(r.charCodeAt(e-1))&&(s+="\\"),i===void 0?n?`\\${s}`:s:n?`${i}\\${s}`:`${i}${s}`},isAbsolute(r){ko(r,"path");let e=r.length;if(e===0)return!1;let t=r.charCodeAt(0);return gi(t)||e>2&&Sf(t)&&r.charCodeAt(1)===yf&&gi(r.charCodeAt(2))},join(...r){if(r.length===0)return".";let e,t;for(let o=0;o<r.length;++o){let s=r[o];ko(s,"path"),s.length>0&&(e===void 0?e=t=s:e+=`\\${s}`)}if(e===void 0)return".";let i=!0,n=0;if(typeof t=="string"&&gi(t.charCodeAt(0))){++n;let o=t.length;o>1&&gi(t.charCodeAt(1))&&(++n,o>2&&(gi(t.charCodeAt(2))?++n:i=!1))}if(i){for(;n<e.length&&gi(e.charCodeAt(n));)n++;n>=2&&(e=`\\${e.slice(n)}`)}return Cs.normalize(e)},relative(r,e){if(ko(r,"from"),ko(e,"to"),r===e)return"";let t=Cs.resolve(r),i=Cs.resolve(e);if(t===i||(r=t.toLowerCase(),e=i.toLowerCase(),r===e))return"";let n=0;for(;n<r.length&&r.charCodeAt(n)===wa;)n++;let o=r.length;for(;o-1>n&&r.charCodeAt(o-1)===wa;)o--;let s=o-n,a=0;for(;a<e.length&&e.charCodeAt(a)===wa;)a++;let l=e.length;for(;l-1>a&&e.charCodeAt(l-1)===wa;)l--;let c=l-a,d=s<c?s:c,h=-1,u=0;for(;u<d;u++){let m=r.charCodeAt(n+u);if(m!==e.charCodeAt(a+u))break;m===wa&&(h=u)}if(u!==d){if(h===-1)return i}else{if(c>d){if(e.charCodeAt(a+u)===wa)return i.slice(a+u+1);if(u===2)return i.slice(a+u)}s>d&&(r.charCodeAt(n+u)===wa?h=u:u===2&&(h=3)),h===-1&&(h=0)}let f="";for(u=n+h+1;u<=o;++u)(u===o||r.charCodeAt(u)===wa)&&(f+=f.length===0?"..":"\\..");return a+=h,f.length>0?`${f}${i.slice(a,l)}`:(i.charCodeAt(a)===wa&&++a,i.slice(a,l))},toNamespacedPath(r){if(typeof r!="string")return r;if(r.length===0)return"";let e=Cs.resolve(r);if(e.length<=2)return r;if(e.charCodeAt(0)===wa){if(e.charCodeAt(1)===wa){let t=e.charCodeAt(2);if(t!==Wce&&t!==Ef)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(Sf(e.charCodeAt(0))&&e.charCodeAt(1)===yf&&e.charCodeAt(2)===wa)return`\\\\?\\${e}`;return r},dirname(r){ko(r,"path");let e=r.length;if(e===0)return".";let t=-1,i=0,n=r.charCodeAt(0);if(e===1)return gi(n)?r:".";if(gi(n)){if(t=i=1,gi(r.charCodeAt(1))){let a=2,l=a;for(;a<e&&!gi(r.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&gi(r.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!gi(r.charCodeAt(a));)a++;if(a===e)return r;a!==l&&(t=i=a+1)}}}}else Sf(n)&&r.charCodeAt(1)===yf&&(t=e>2&&gi(r.charCodeAt(2))?3:2,i=t);let o=-1,s=!0;for(let a=e-1;a>=i;--a)if(gi(r.charCodeAt(a))){if(!s){o=a;break}}else s=!1;if(o===-1){if(t===-1)return".";o=t}return r.slice(0,o)},basename(r,e){e!==void 0&&ko(e,"ext"),ko(r,"path");let t=0,i=-1,n=!0,o;if(r.length>=2&&Sf(r.charCodeAt(0))&&r.charCodeAt(1)===yf&&(t=2),e!==void 0&&e.length>0&&e.length<=r.length){if(e===r)return"";let s=e.length-1,a=-1;for(o=r.length-1;o>=t;--o){let l=r.charCodeAt(o);if(gi(l)){if(!n){t=o+1;break}}else a===-1&&(n=!1,a=o+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(i=o):(s=-1,i=a))}return t===i?i=a:i===-1&&(i=r.length),r.slice(t,i)}for(o=r.length-1;o>=t;--o)if(gi(r.charCodeAt(o))){if(!n){t=o+1;break}}else i===-1&&(n=!1,i=o+1);return i===-1?"":r.slice(t,i)},extname(r){ko(r,"path");let e=0,t=-1,i=0,n=-1,o=!0,s=0;r.length>=2&&r.charCodeAt(1)===yf&&Sf(r.charCodeAt(0))&&(e=i=2);for(let a=r.length-1;a>=e;--a){let l=r.charCodeAt(a);if(gi(l)){if(!o){i=a+1;break}continue}n===-1&&(o=!1,n=a+1),l===Ef?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===i+1?"":r.slice(t,n)},format:B6.bind(null,"\\"),parse(r){ko(r,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return e;let t=r.length,i=0,n=r.charCodeAt(0);if(t===1)return gi(n)?(e.root=e.dir=r,e):(e.base=e.name=r,e);if(gi(n)){if(i=1,gi(r.charCodeAt(1))){let h=2,u=h;for(;h<t&&!gi(r.charCodeAt(h));)h++;if(h<t&&h!==u){for(u=h;h<t&&gi(r.charCodeAt(h));)h++;if(h<t&&h!==u){for(u=h;h<t&&!gi(r.charCodeAt(h));)h++;h===t?i=h:h!==u&&(i=h+1)}}}}else if(Sf(n)&&r.charCodeAt(1)===yf){if(t<=2)return e.root=e.dir=r,e;if(i=2,gi(r.charCodeAt(2))){if(t===3)return e.root=e.dir=r,e;i=3}}i>0&&(e.root=r.slice(0,i));let o=-1,s=i,a=-1,l=!0,c=r.length-1,d=0;for(;c>=i;--c){if(n=r.charCodeAt(c),gi(n)){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),n===Ef?o===-1?o=c:d!==1&&(d=1):o!==-1&&(d=-1)}return a!==-1&&(o===-1||d===0||d===1&&o===a-1&&o===s+1?e.base=e.name=r.slice(s,a):(e.name=r.slice(s,o),e.base=r.slice(s,a),e.ext=r.slice(o,a))),s>0&&s!==i?e.dir=r.slice(0,s-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},gn={resolve(...r){let e="",t=!1;for(let i=r.length-1;i>=-1&&!t;i--){let n=i>=0?r[i]:Ix();ko(n,"path"),n.length!==0&&(e=`${n}/${e}`,t=n.charCodeAt(0)===Pr)}return e=Ox(e,!t,"/",KP),t?`/${e}`:e.length>0?e:"."},normalize(r){if(ko(r,"path"),r.length===0)return".";let e=r.charCodeAt(0)===Pr,t=r.charCodeAt(r.length-1)===Pr;return r=Ox(r,!e,"/",KP),r.length===0?e?"/":t?"./":".":(t&&(r+="/"),e?`/${r}`:r)},isAbsolute(r){return ko(r,"path"),r.length>0&&r.charCodeAt(0)===Pr},join(...r){if(r.length===0)return".";let e;for(let t=0;t<r.length;++t){let i=r[t];ko(i,"path"),i.length>0&&(e===void 0?e=i:e+=`/${i}`)}return e===void 0?".":gn.normalize(e)},relative(r,e){if(ko(r,"from"),ko(e,"to"),r===e||(r=gn.resolve(r),e=gn.resolve(e),r===e))return"";let t=1,i=r.length,n=i-t,o=1,s=e.length-o,a=n<s?n:s,l=-1,c=0;for(;c<a;c++){let h=r.charCodeAt(t+c);if(h!==e.charCodeAt(o+c))break;h===Pr&&(l=c)}if(c===a)if(s>a){if(e.charCodeAt(o+c)===Pr)return e.slice(o+c+1);if(c===0)return e.slice(o+c)}else n>a&&(r.charCodeAt(t+c)===Pr?l=c:c===0&&(l=0));let d="";for(c=t+l+1;c<=i;++c)(c===i||r.charCodeAt(c)===Pr)&&(d+=d.length===0?"..":"/..");return`${d}${e.slice(o+l)}`},toNamespacedPath(r){return r},dirname(r){if(ko(r,"path"),r.length===0)return".";let e=r.charCodeAt(0)===Pr,t=-1,i=!0;for(let n=r.length-1;n>=1;--n)if(r.charCodeAt(n)===Pr){if(!i){t=n;break}}else i=!1;return t===-1?e?"/":".":e&&t===1?"//":r.slice(0,t)},basename(r,e){e!==void 0&&ko(e,"ext"),ko(r,"path");let t=0,i=-1,n=!0,o;if(e!==void 0&&e.length>0&&e.length<=r.length){if(e===r)return"";let s=e.length-1,a=-1;for(o=r.length-1;o>=0;--o){let l=r.charCodeAt(o);if(l===Pr){if(!n){t=o+1;break}}else a===-1&&(n=!1,a=o+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(i=o):(s=-1,i=a))}return t===i?i=a:i===-1&&(i=r.length),r.slice(t,i)}for(o=r.length-1;o>=0;--o)if(r.charCodeAt(o)===Pr){if(!n){t=o+1;break}}else i===-1&&(n=!1,i=o+1);return i===-1?"":r.slice(t,i)},extname(r){ko(r,"path");let e=-1,t=0,i=-1,n=!0,o=0;for(let s=r.length-1;s>=0;--s){let a=r.charCodeAt(s);if(a===Pr){if(!n){t=s+1;break}continue}i===-1&&(n=!1,i=s+1),a===Ef?e===-1?e=s:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||i===-1||o===0||o===1&&e===i-1&&e===t+1?"":r.slice(e,i)},format:B6.bind(null,"/"),parse(r){ko(r,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return e;let t=r.charCodeAt(0)===Pr,i;t?(e.root="/",i=1):i=0;let n=-1,o=0,s=-1,a=!0,l=r.length-1,c=0;for(;l>=i;--l){let d=r.charCodeAt(l);if(d===Pr){if(!a){o=l+1;break}continue}s===-1&&(a=!1,s=l+1),d===Ef?n===-1?n=l:c!==1&&(c=1):n!==-1&&(c=-1)}if(s!==-1){let d=o===0&&t?1:o;n===-1||c===0||c===1&&n===s-1&&n===o+1?e.base=e.name=r.slice(d,s):(e.name=r.slice(d,n),e.base=r.slice(d,s),e.ext=r.slice(n,s))}return o>0?e.dir=r.slice(0,o-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};gn.win32=Cs.win32=Cs;gn.posix=Cs.posix=gn;hb=Cf==="win32"?Cs.normalize:gn.normalize,j6=Cf==="win32"?Cs.resolve:gn.resolve,W6=Cf==="win32"?Cs.relative:gn.relative,Tx=Cf==="win32"?Cs.dirname:gn.dirname,ud=Cf==="win32"?Cs.basename:gn.basename,U6=Cf==="win32"?Cs.extname:gn.extname,fd=Cf==="win32"?Cs.sep:gn.sep});function z6(r,e){if(!r.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${r.authority}", path: "${r.path}", query: "${r.query}", fragment: "${r.fragment}"}`);if(r.scheme&&!Uce.test(r.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(r.path){if(r.authority){if(!zce.test(r.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(Vce.test(r.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function Hce(r,e){return!r&&!e?"file":r}function $ce(r,e){switch(r){case"https":case"http":case"file":e?e[0]!==yc&&(e=yc+e):e=yc;break}return e}function V6(r,e){let t,i=-1;for(let n=0;n<r.length;n++){let o=r.charCodeAt(n);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||o===45||o===46||o===95||o===126||e&&o===47)i!==-1&&(t+=encodeURIComponent(r.substring(i,n)),i=-1),t!==void 0&&(t+=r.charAt(n));else{t===void 0&&(t=r.substr(0,n));let s=K6[o];s!==void 0?(i!==-1&&(t+=encodeURIComponent(r.substring(i,n)),i=-1),t+=s):i===-1&&(i=n)}}return i!==-1&&(t+=encodeURIComponent(r.substring(i))),t!==void 0?t:r}function qce(r){let e;for(let t=0;t<r.length;t++){let i=r.charCodeAt(t);i===35||i===63?(e===void 0&&(e=r.substr(0,t)),e+=K6[i]):e!==void 0&&(e+=r[t])}return e!==void 0?e:r}function KC(r,e){let t;return r.authority&&r.path.length>1&&r.scheme==="file"?t=`//${r.authority}${r.path}`:r.path.charCodeAt(0)===47&&(r.path.charCodeAt(1)>=65&&r.path.charCodeAt(1)<=90||r.path.charCodeAt(1)>=97&&r.path.charCodeAt(1)<=122)&&r.path.charCodeAt(2)===58?e?t=r.path.substr(1):t=r.path[1].toLowerCase()+r.path.substr(2):t=r.path,Ri&&(t=t.replace(/\//g,"\\")),t}function ZP(r,e){let t=e?qce:V6,i="",{scheme:n,authority:o,path:s,query:a,fragment:l}=r;if(n&&(i+=n,i+=":"),(o||n==="file")&&(i+=yc,i+=yc),o){let c=o.indexOf("@");if(c!==-1){let d=o.substr(0,c);o=o.substr(c+1),c=d.indexOf(":"),c===-1?i+=t(d,!1):(i+=t(d.substr(0,c),!1),i+=":",i+=t(d.substr(c+1),!1)),i+="@"}o=o.toLowerCase(),c=o.indexOf(":"),c===-1?i+=t(o,!1):(i+=t(o.substr(0,c),!1),i+=o.substr(c))}if(s){if(s.length>=3&&s.charCodeAt(0)===47&&s.charCodeAt(2)===58){let c=s.charCodeAt(1);c>=65&&c<=90&&(s=`/${String.fromCharCode(c+32)}:${s.substr(3)}`)}else if(s.length>=2&&s.charCodeAt(1)===58){let c=s.charCodeAt(0);c>=65&&c<=90&&(s=`${String.fromCharCode(c+32)}:${s.substr(2)}`)}i+=t(s,!0)}return a&&(i+="?",i+=t(a,!1)),l&&(i+="#",i+=e?l:V6(l,!1)),i}function q6(r){try{return decodeURIComponent(r)}catch{return r.length>3?r.substr(0,3)+q6(r.substr(3)):r}}function Nx(r){return r.match(H6)?r.replace(H6,e=>q6(e)):r}var Uce,zce,Vce,Mn,yc,Kce,De,$6,Sm,K6,H6,Oi=ge(()=>{xf();xt();Uce=/^\w[\w\d+.-]*$/,zce=/^\//,Vce=/^\/\//;Mn="",yc="/",Kce=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,De=class{constructor(e,t,i,n,o,s=!1){typeof e=="object"?(this.scheme=e.scheme||Mn,this.authority=e.authority||Mn,this.path=e.path||Mn,this.query=e.query||Mn,this.fragment=e.fragment||Mn):(this.scheme=Hce(e,s),this.authority=t||Mn,this.path=$ce(this.scheme,i||Mn),this.query=n||Mn,this.fragment=o||Mn,z6(this,s))}static isUri(e){return e instanceof De?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}get fsPath(){return KC(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:i,path:n,query:o,fragment:s}=e;return t===void 0?t=this.scheme:t===null&&(t=Mn),i===void 0?i=this.authority:i===null&&(i=Mn),n===void 0?n=this.path:n===null&&(n=Mn),o===void 0?o=this.query:o===null&&(o=Mn),s===void 0?s=this.fragment:s===null&&(s=Mn),t===this.scheme&&i===this.authority&&n===this.path&&o===this.query&&s===this.fragment?this:new Sm(t,i,n,o,s)}static parse(e,t=!1){let i=Kce.exec(e);return i?new Sm(i[2]||Mn,Nx(i[4]||Mn),Nx(i[5]||Mn),Nx(i[7]||Mn),Nx(i[9]||Mn),t):new Sm(Mn,Mn,Mn,Mn,Mn)}static file(e){let t=Mn;if(Ri&&(e=e.replace(/\\/g,yc)),e[0]===yc&&e[1]===yc){let i=e.indexOf(yc,2);i===-1?(t=e.substring(2),e=yc):(t=e.substring(2,i),e=e.substring(i)||yc)}return new Sm("file",t,e,Mn,Mn)}static from(e){let t=new Sm(e.scheme,e.authority,e.path,e.query,e.fragment);return z6(t,!0),t}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let i;return Ri&&e.scheme==="file"?i=De.file(Cs.join(KC(e,!0),...t)).path:i=gn.join(e.path,...t),e.with({path:i})}toString(e=!1){return ZP(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof De)return e;{let t=new Sm(e);return t._formatted=e.external,t._fsPath=e._sep===$6?e.fsPath:null,t}}else return e}},$6=Ri?1:void 0,Sm=class extends De{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=KC(this,!1)),this._fsPath}toString(e=!1){return e?ZP(this,!0):(this._formatted||(this._formatted=ZP(this,!1)),this._formatted)}toJSON(){let e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=$6),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}},K6={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};H6=/(%[0-9A-Za-z][0-9A-Za-z])+/g});var V,lt=ge(()=>{V=class{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new V(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return V.equals(this,e)}static equals(e,t){return!e&&!t?!0:!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return V.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<t.column}isBeforeOrEqual(e){return V.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<=t.column}static compare(e,t){let i=e.lineNumber|0,n=t.lineNumber|0;if(i===n){let o=e.column|0,s=t.column|0;return o-s}return i-n}clone(){return new V(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new V(e.lineNumber,e.column)}static isIPosition(e){return e&&typeof e.lineNumber=="number"&&typeof e.column=="number"}}});var D,ye=ge(()=>{lt();D=class{constructor(e,t,i,n){e>i||e===i&&t>n?(this.startLineNumber=i,this.startColumn=n,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=n)}isEmpty(){return D.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return D.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<e.startColumn||t.lineNumber===e.endLineNumber&&t.column>e.endColumn)}static strictContainsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<=e.startColumn||t.lineNumber===e.endLineNumber&&t.column>=e.endColumn)}containsRange(e){return D.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)}strictContainsRange(e){return D.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)}plusRange(e){return D.plusRange(this,e)}static plusRange(e,t){let i,n,o,s;return t.startLineNumber<e.startLineNumber?(i=t.startLineNumber,n=t.startColumn):t.startLineNumber===e.startLineNumber?(i=t.startLineNumber,n=Math.min(t.startColumn,e.startColumn)):(i=e.startLineNumber,n=e.startColumn),t.endLineNumber>e.endLineNumber?(o=t.endLineNumber,s=t.endColumn):t.endLineNumber===e.endLineNumber?(o=t.endLineNumber,s=Math.max(t.endColumn,e.endColumn)):(o=e.endLineNumber,s=e.endColumn),new D(i,n,o,s)}intersectRanges(e){return D.intersectRanges(this,e)}static intersectRanges(e,t){let i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,s=e.endColumn,a=t.startLineNumber,l=t.startColumn,c=t.endLineNumber,d=t.endColumn;return i<a?(i=a,n=l):i===a&&(n=Math.max(n,l)),o>c?(o=c,s=d):o===c&&(s=Math.min(s,d)),i>o||i===o&&n>s?null:new D(i,n,o,s)}equalsRange(e){return D.equalsRange(this,e)}static equalsRange(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return D.getEndPosition(this)}static getEndPosition(e){return new V(e.endLineNumber,e.endColumn)}getStartPosition(){return D.getStartPosition(this)}static getStartPosition(e){return new V(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new D(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new D(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return D.collapseToStart(this)}static collapseToStart(e){return new D(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}static fromPositions(e,t=e){return new D(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new D(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&typeof e.startLineNumber=="number"&&typeof e.startColumn=="number"&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){let o=e.startLineNumber|0,s=t.startLineNumber|0;if(o===s){let a=e.startColumn|0,l=t.startColumn|0;if(a===l){let c=e.endLineNumber|0,d=t.endLineNumber|0;if(c===d){let h=e.endColumn|0,u=t.endColumn|0;return h-u}return c-d}return a-l}return o-s}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}}});var he,mi=ge(()=>{lt();ye();he=class extends D{constructor(e,t,i,n){super(e,t,i,n);this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=i,this.positionColumn=n}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return he.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return this.getDirection()===0?new he(this.startLineNumber,this.startColumn,e,t):new he(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new V(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new V(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(e,t){return this.getDirection()===0?new he(e,t,this.endLineNumber,this.endColumn):new he(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new he(e.lineNumber,e.column,t.lineNumber,t.column)}static fromRange(e,t){return t===0?new he(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):new he(e.endLineNumber,e.endColumn,e.startLineNumber,e.startColumn)}static liftSelection(e){return new he(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let i=0,n=e.length;i<n;i++)if(!this.selectionsEqual(e[i],t[i]))return!1;return!0}static isISelection(e){return e&&typeof e.selectionStartLineNumber=="number"&&typeof e.selectionStartColumn=="number"&&typeof e.positionLineNumber=="number"&&typeof e.positionColumn=="number"}static createWithDirection(e,t,i,n,o){return o===0?new he(e,t,i,n):new he(i,n,e,t)}}});var GP,XP,Y6,Z6=ge(()=>{Ee();re();GP=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},XP=class{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new B,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._map.set(e,t),this.fire([e]),Ve(()=>{this._map.get(e)===t&&(this._map.delete(e),this.fire([e]))})}registerFactory(e,t){var i;(i=this._factories.get(e))===null||i===void 0||i.dispose();let n=new Y6(this,e,t);return this._factories.set(e,n),Ve(()=>{let o=this._factories.get(e);!o||o!==n||(this._factories.delete(e),o.dispose())})}getOrCreate(e){return GP(this,void 0,void 0,function*(){let t=this.get(e);if(t)return t;let i=this._factories.get(e);return!i||i.isResolved?null:(yield i.resolve(),this.get(e))})}get(e){return this._map.get(e)||null}isResolved(e){if(this.get(e))return!0;let i=this._factories.get(e);return!!(!i||i.isResolved)}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}},Y6=class extends ${constructor(e,t,i){super();this._registry=e,this._languageId=t,this._factory=i,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return GP(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return GP(this,void 0,void 0,function*(){let e=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,e&&!this._isDisposed&&this._register(this._registry.register(this._languageId,e))})}}});function G6(r){return r?r.replace(/\$\((.*?)\)/g,(e,t)=>` ${t} `).trim():""}var p,to,ln=ge(()=>{p=class{constructor(e,t,i){this.id=e,this.definition=t,this.description=i,p._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return p._allCodicons}};p._allCodicons=[];p.add=new p("add",{fontCharacter:"\\ea60"});p.plus=new p("plus",p.add.definition);p.gistNew=new p("gist-new",p.add.definition);p.repoCreate=new p("repo-create",p.add.definition);p.lightbulb=new p("lightbulb",{fontCharacter:"\\ea61"});p.lightBulb=new p("light-bulb",{fontCharacter:"\\ea61"});p.repo=new p("repo",{fontCharacter:"\\ea62"});p.repoDelete=new p("repo-delete",{fontCharacter:"\\ea62"});p.gistFork=new p("gist-fork",{fontCharacter:"\\ea63"});p.repoForked=new p("repo-forked",{fontCharacter:"\\ea63"});p.gitPullRequest=new p("git-pull-request",{fontCharacter:"\\ea64"});p.gitPullRequestAbandoned=new p("git-pull-request-abandoned",{fontCharacter:"\\ea64"});p.recordKeys=new p("record-keys",{fontCharacter:"\\ea65"});p.keyboard=new p("keyboard",{fontCharacter:"\\ea65"});p.tag=new p("tag",{fontCharacter:"\\ea66"});p.tagAdd=new p("tag-add",{fontCharacter:"\\ea66"});p.tagRemove=new p("tag-remove",{fontCharacter:"\\ea66"});p.person=new p("person",{fontCharacter:"\\ea67"});p.personFollow=new p("person-follow",{fontCharacter:"\\ea67"});p.personOutline=new p("person-outline",{fontCharacter:"\\ea67"});p.personFilled=new p("person-filled",{fontCharacter:"\\ea67"});p.gitBranch=new p("git-branch",{fontCharacter:"\\ea68"});p.gitBranchCreate=new p("git-branch-create",{fontCharacter:"\\ea68"});p.gitBranchDelete=new p("git-branch-delete",{fontCharacter:"\\ea68"});p.sourceControl=new p("source-control",{fontCharacter:"\\ea68"});p.mirror=new p("mirror",{fontCharacter:"\\ea69"});p.mirrorPublic=new p("mirror-public",{fontCharacter:"\\ea69"});p.star=new p("star",{fontCharacter:"\\ea6a"});p.starAdd=new p("star-add",{fontCharacter:"\\ea6a"});p.starDelete=new p("star-delete",{fontCharacter:"\\ea6a"});p.starEmpty=new p("star-empty",{fontCharacter:"\\ea6a"});p.comment=new p("comment",{fontCharacter:"\\ea6b"});p.commentAdd=new p("comment-add",{fontCharacter:"\\ea6b"});p.alert=new p("alert",{fontCharacter:"\\ea6c"});p.warning=new p("warning",{fontCharacter:"\\ea6c"});p.search=new p("search",{fontCharacter:"\\ea6d"});p.searchSave=new p("search-save",{fontCharacter:"\\ea6d"});p.logOut=new p("log-out",{fontCharacter:"\\ea6e"});p.signOut=new p("sign-out",{fontCharacter:"\\ea6e"});p.logIn=new p("log-in",{fontCharacter:"\\ea6f"});p.signIn=new p("sign-in",{fontCharacter:"\\ea6f"});p.eye=new p("eye",{fontCharacter:"\\ea70"});p.eyeUnwatch=new p("eye-unwatch",{fontCharacter:"\\ea70"});p.eyeWatch=new p("eye-watch",{fontCharacter:"\\ea70"});p.circleFilled=new p("circle-filled",{fontCharacter:"\\ea71"});p.primitiveDot=new p("primitive-dot",{fontCharacter:"\\ea71"});p.closeDirty=new p("close-dirty",{fontCharacter:"\\ea71"});p.debugBreakpoint=new p("debug-breakpoint",{fontCharacter:"\\ea71"});p.debugBreakpointDisabled=new p("debug-breakpoint-disabled",{fontCharacter:"\\ea71"});p.debugHint=new p("debug-hint",{fontCharacter:"\\ea71"});p.primitiveSquare=new p("primitive-square",{fontCharacter:"\\ea72"});p.edit=new p("edit",{fontCharacter:"\\ea73"});p.pencil=new p("pencil",{fontCharacter:"\\ea73"});p.info=new p("info",{fontCharacter:"\\ea74"});p.issueOpened=new p("issue-opened",{fontCharacter:"\\ea74"});p.gistPrivate=new p("gist-private",{fontCharacter:"\\ea75"});p.gitForkPrivate=new p("git-fork-private",{fontCharacter:"\\ea75"});p.lock=new p("lock",{fontCharacter:"\\ea75"});p.mirrorPrivate=new p("mirror-private",{fontCharacter:"\\ea75"});p.close=new p("close",{fontCharacter:"\\ea76"});p.removeClose=new p("remove-close",{fontCharacter:"\\ea76"});p.x=new p("x",{fontCharacter:"\\ea76"});p.repoSync=new p("repo-sync",{fontCharacter:"\\ea77"});p.sync=new p("sync",{fontCharacter:"\\ea77"});p.clone=new p("clone",{fontCharacter:"\\ea78"});p.desktopDownload=new p("desktop-download",{fontCharacter:"\\ea78"});p.beaker=new p("beaker",{fontCharacter:"\\ea79"});p.microscope=new p("microscope",{fontCharacter:"\\ea79"});p.vm=new p("vm",{fontCharacter:"\\ea7a"});p.deviceDesktop=new p("device-desktop",{fontCharacter:"\\ea7a"});p.file=new p("file",{fontCharacter:"\\ea7b"});p.fileText=new p("file-text",{fontCharacter:"\\ea7b"});p.more=new p("more",{fontCharacter:"\\ea7c"});p.ellipsis=new p("ellipsis",{fontCharacter:"\\ea7c"});p.kebabHorizontal=new p("kebab-horizontal",{fontCharacter:"\\ea7c"});p.mailReply=new p("mail-reply",{fontCharacter:"\\ea7d"});p.reply=new p("reply",{fontCharacter:"\\ea7d"});p.organization=new p("organization",{fontCharacter:"\\ea7e"});p.organizationFilled=new p("organization-filled",{fontCharacter:"\\ea7e"});p.organizationOutline=new p("organization-outline",{fontCharacter:"\\ea7e"});p.newFile=new p("new-file",{fontCharacter:"\\ea7f"});p.fileAdd=new p("file-add",{fontCharacter:"\\ea7f"});p.newFolder=new p("new-folder",{fontCharacter:"\\ea80"});p.fileDirectoryCreate=new p("file-directory-create",{fontCharacter:"\\ea80"});p.trash=new p("trash",{fontCharacter:"\\ea81"});p.trashcan=new p("trashcan",{fontCharacter:"\\ea81"});p.history=new p("history",{fontCharacter:"\\ea82"});p.clock=new p("clock",{fontCharacter:"\\ea82"});p.folder=new p("folder",{fontCharacter:"\\ea83"});p.fileDirectory=new p("file-directory",{fontCharacter:"\\ea83"});p.symbolFolder=new p("symbol-folder",{fontCharacter:"\\ea83"});p.logoGithub=new p("logo-github",{fontCharacter:"\\ea84"});p.markGithub=new p("mark-github",{fontCharacter:"\\ea84"});p.github=new p("github",{fontCharacter:"\\ea84"});p.terminal=new p("terminal",{fontCharacter:"\\ea85"});p.console=new p("console",{fontCharacter:"\\ea85"});p.repl=new p("repl",{fontCharacter:"\\ea85"});p.zap=new p("zap",{fontCharacter:"\\ea86"});p.symbolEvent=new p("symbol-event",{fontCharacter:"\\ea86"});p.error=new p("error",{fontCharacter:"\\ea87"});p.stop=new p("stop",{fontCharacter:"\\ea87"});p.variable=new p("variable",{fontCharacter:"\\ea88"});p.symbolVariable=new p("symbol-variable",{fontCharacter:"\\ea88"});p.array=new p("array",{fontCharacter:"\\ea8a"});p.symbolArray=new p("symbol-array",{fontCharacter:"\\ea8a"});p.symbolModule=new p("symbol-module",{fontCharacter:"\\ea8b"});p.symbolPackage=new p("symbol-package",{fontCharacter:"\\ea8b"});p.symbolNamespace=new p("symbol-namespace",{fontCharacter:"\\ea8b"});p.symbolObject=new p("symbol-object",{fontCharacter:"\\ea8b"});p.symbolMethod=new p("symbol-method",{fontCharacter:"\\ea8c"});p.symbolFunction=new p("symbol-function",{fontCharacter:"\\ea8c"});p.symbolConstructor=new p("symbol-constructor",{fontCharacter:"\\ea8c"});p.symbolBoolean=new p("symbol-boolean",{fontCharacter:"\\ea8f"});p.symbolNull=new p("symbol-null",{fontCharacter:"\\ea8f"});p.symbolNumeric=new p("symbol-numeric",{fontCharacter:"\\ea90"});p.symbolNumber=new p("symbol-number",{fontCharacter:"\\ea90"});p.symbolStructure=new p("symbol-structure",{fontCharacter:"\\ea91"});p.symbolStruct=new p("symbol-struct",{fontCharacter:"\\ea91"});p.symbolParameter=new p("symbol-parameter",{fontCharacter:"\\ea92"});p.symbolTypeParameter=new p("symbol-type-parameter",{fontCharacter:"\\ea92"});p.symbolKey=new p("symbol-key",{fontCharacter:"\\ea93"});p.symbolText=new p("symbol-text",{fontCharacter:"\\ea93"});p.symbolReference=new p("symbol-reference",{fontCharacter:"\\ea94"});p.goToFile=new p("go-to-file",{fontCharacter:"\\ea94"});p.symbolEnum=new p("symbol-enum",{fontCharacter:"\\ea95"});p.symbolValue=new p("symbol-value",{fontCharacter:"\\ea95"});p.symbolRuler=new p("symbol-ruler",{fontCharacter:"\\ea96"});p.symbolUnit=new p("symbol-unit",{fontCharacter:"\\ea96"});p.activateBreakpoints=new p("activate-breakpoints",{fontCharacter:"\\ea97"});p.archive=new p("archive",{fontCharacter:"\\ea98"});p.arrowBoth=new p("arrow-both",{fontCharacter:"\\ea99"});p.arrowDown=new p("arrow-down",{fontCharacter:"\\ea9a"});p.arrowLeft=new p("arrow-left",{fontCharacter:"\\ea9b"});p.arrowRight=new p("arrow-right",{fontCharacter:"\\ea9c"});p.arrowSmallDown=new p("arrow-small-down",{fontCharacter:"\\ea9d"});p.arrowSmallLeft=new p("arrow-small-left",{fontCharacter:"\\ea9e"});p.arrowSmallRight=new p("arrow-small-right",{fontCharacter:"\\ea9f"});p.arrowSmallUp=new p("arrow-small-up",{fontCharacter:"\\eaa0"});p.arrowUp=new p("arrow-up",{fontCharacter:"\\eaa1"});p.bell=new p("bell",{fontCharacter:"\\eaa2"});p.bold=new p("bold",{fontCharacter:"\\eaa3"});p.book=new p("book",{fontCharacter:"\\eaa4"});p.bookmark=new p("bookmark",{fontCharacter:"\\eaa5"});p.debugBreakpointConditionalUnverified=new p("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"});p.debugBreakpointConditional=new p("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"});p.debugBreakpointConditionalDisabled=new p("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"});p.debugBreakpointDataUnverified=new p("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"});p.debugBreakpointData=new p("debug-breakpoint-data",{fontCharacter:"\\eaa9"});p.debugBreakpointDataDisabled=new p("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"});p.debugBreakpointLogUnverified=new p("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"});p.debugBreakpointLog=new p("debug-breakpoint-log",{fontCharacter:"\\eaab"});p.debugBreakpointLogDisabled=new p("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"});p.briefcase=new p("briefcase",{fontCharacter:"\\eaac"});p.broadcast=new p("broadcast",{fontCharacter:"\\eaad"});p.browser=new p("browser",{fontCharacter:"\\eaae"});p.bug=new p("bug",{fontCharacter:"\\eaaf"});p.calendar=new p("calendar",{fontCharacter:"\\eab0"});p.caseSensitive=new p("case-sensitive",{fontCharacter:"\\eab1"});p.check=new p("check",{fontCharacter:"\\eab2"});p.checklist=new p("checklist",{fontCharacter:"\\eab3"});p.chevronDown=new p("chevron-down",{fontCharacter:"\\eab4"});p.dropDownButton=new p("drop-down-button",p.chevronDown.definition);p.chevronLeft=new p("chevron-left",{fontCharacter:"\\eab5"});p.chevronRight=new p("chevron-right",{fontCharacter:"\\eab6"});p.chevronUp=new p("chevron-up",{fontCharacter:"\\eab7"});p.chromeClose=new p("chrome-close",{fontCharacter:"\\eab8"});p.chromeMaximize=new p("chrome-maximize",{fontCharacter:"\\eab9"});p.chromeMinimize=new p("chrome-minimize",{fontCharacter:"\\eaba"});p.chromeRestore=new p("chrome-restore",{fontCharacter:"\\eabb"});p.circleOutline=new p("circle-outline",{fontCharacter:"\\eabc"});p.debugBreakpointUnverified=new p("debug-breakpoint-unverified",{fontCharacter:"\\eabc"});p.circleSlash=new p("circle-slash",{fontCharacter:"\\eabd"});p.circuitBoard=new p("circuit-board",{fontCharacter:"\\eabe"});p.clearAll=new p("clear-all",{fontCharacter:"\\eabf"});p.clippy=new p("clippy",{fontCharacter:"\\eac0"});p.closeAll=new p("close-all",{fontCharacter:"\\eac1"});p.cloudDownload=new p("cloud-download",{fontCharacter:"\\eac2"});p.cloudUpload=new p("cloud-upload",{fontCharacter:"\\eac3"});p.code=new p("code",{fontCharacter:"\\eac4"});p.collapseAll=new p("collapse-all",{fontCharacter:"\\eac5"});p.colorMode=new p("color-mode",{fontCharacter:"\\eac6"});p.commentDiscussion=new p("comment-discussion",{fontCharacter:"\\eac7"});p.compareChanges=new p("compare-changes",{fontCharacter:"\\eafd"});p.creditCard=new p("credit-card",{fontCharacter:"\\eac9"});p.dash=new p("dash",{fontCharacter:"\\eacc"});p.dashboard=new p("dashboard",{fontCharacter:"\\eacd"});p.database=new p("database",{fontCharacter:"\\eace"});p.debugContinue=new p("debug-continue",{fontCharacter:"\\eacf"});p.debugDisconnect=new p("debug-disconnect",{fontCharacter:"\\ead0"});p.debugPause=new p("debug-pause",{fontCharacter:"\\ead1"});p.debugRestart=new p("debug-restart",{fontCharacter:"\\ead2"});p.debugStart=new p("debug-start",{fontCharacter:"\\ead3"});p.debugStepInto=new p("debug-step-into",{fontCharacter:"\\ead4"});p.debugStepOut=new p("debug-step-out",{fontCharacter:"\\ead5"});p.debugStepOver=new p("debug-step-over",{fontCharacter:"\\ead6"});p.debugStop=new p("debug-stop",{fontCharacter:"\\ead7"});p.debug=new p("debug",{fontCharacter:"\\ead8"});p.deviceCameraVideo=new p("device-camera-video",{fontCharacter:"\\ead9"});p.deviceCamera=new p("device-camera",{fontCharacter:"\\eada"});p.deviceMobile=new p("device-mobile",{fontCharacter:"\\eadb"});p.diffAdded=new p("diff-added",{fontCharacter:"\\eadc"});p.diffIgnored=new p("diff-ignored",{fontCharacter:"\\eadd"});p.diffModified=new p("diff-modified",{fontCharacter:"\\eade"});p.diffRemoved=new p("diff-removed",{fontCharacter:"\\eadf"});p.diffRenamed=new p("diff-renamed",{fontCharacter:"\\eae0"});p.diff=new p("diff",{fontCharacter:"\\eae1"});p.discard=new p("discard",{fontCharacter:"\\eae2"});p.editorLayout=new p("editor-layout",{fontCharacter:"\\eae3"});p.emptyWindow=new p("empty-window",{fontCharacter:"\\eae4"});p.exclude=new p("exclude",{fontCharacter:"\\eae5"});p.extensions=new p("extensions",{fontCharacter:"\\eae6"});p.eyeClosed=new p("eye-closed",{fontCharacter:"\\eae7"});p.fileBinary=new p("file-binary",{fontCharacter:"\\eae8"});p.fileCode=new p("file-code",{fontCharacter:"\\eae9"});p.fileMedia=new p("file-media",{fontCharacter:"\\eaea"});p.filePdf=new p("file-pdf",{fontCharacter:"\\eaeb"});p.fileSubmodule=new p("file-submodule",{fontCharacter:"\\eaec"});p.fileSymlinkDirectory=new p("file-symlink-directory",{fontCharacter:"\\eaed"});p.fileSymlinkFile=new p("file-symlink-file",{fontCharacter:"\\eaee"});p.fileZip=new p("file-zip",{fontCharacter:"\\eaef"});p.files=new p("files",{fontCharacter:"\\eaf0"});p.filter=new p("filter",{fontCharacter:"\\eaf1"});p.flame=new p("flame",{fontCharacter:"\\eaf2"});p.foldDown=new p("fold-down",{fontCharacter:"\\eaf3"});p.foldUp=new p("fold-up",{fontCharacter:"\\eaf4"});p.fold=new p("fold",{fontCharacter:"\\eaf5"});p.folderActive=new p("folder-active",{fontCharacter:"\\eaf6"});p.folderOpened=new p("folder-opened",{fontCharacter:"\\eaf7"});p.gear=new p("gear",{fontCharacter:"\\eaf8"});p.gift=new p("gift",{fontCharacter:"\\eaf9"});p.gistSecret=new p("gist-secret",{fontCharacter:"\\eafa"});p.gist=new p("gist",{fontCharacter:"\\eafb"});p.gitCommit=new p("git-commit",{fontCharacter:"\\eafc"});p.gitCompare=new p("git-compare",{fontCharacter:"\\eafd"});p.gitMerge=new p("git-merge",{fontCharacter:"\\eafe"});p.githubAction=new p("github-action",{fontCharacter:"\\eaff"});p.githubAlt=new p("github-alt",{fontCharacter:"\\eb00"});p.globe=new p("globe",{fontCharacter:"\\eb01"});p.grabber=new p("grabber",{fontCharacter:"\\eb02"});p.graph=new p("graph",{fontCharacter:"\\eb03"});p.gripper=new p("gripper",{fontCharacter:"\\eb04"});p.heart=new p("heart",{fontCharacter:"\\eb05"});p.home=new p("home",{fontCharacter:"\\eb06"});p.horizontalRule=new p("horizontal-rule",{fontCharacter:"\\eb07"});p.hubot=new p("hubot",{fontCharacter:"\\eb08"});p.inbox=new p("inbox",{fontCharacter:"\\eb09"});p.issueClosed=new p("issue-closed",{fontCharacter:"\\eba4"});p.issueReopened=new p("issue-reopened",{fontCharacter:"\\eb0b"});p.issues=new p("issues",{fontCharacter:"\\eb0c"});p.italic=new p("italic",{fontCharacter:"\\eb0d"});p.jersey=new p("jersey",{fontCharacter:"\\eb0e"});p.json=new p("json",{fontCharacter:"\\eb0f"});p.kebabVertical=new p("kebab-vertical",{fontCharacter:"\\eb10"});p.key=new p("key",{fontCharacter:"\\eb11"});p.law=new p("law",{fontCharacter:"\\eb12"});p.lightbulbAutofix=new p("lightbulb-autofix",{fontCharacter:"\\eb13"});p.linkExternal=new p("link-external",{fontCharacter:"\\eb14"});p.link=new p("link",{fontCharacter:"\\eb15"});p.listOrdered=new p("list-ordered",{fontCharacter:"\\eb16"});p.listUnordered=new p("list-unordered",{fontCharacter:"\\eb17"});p.liveShare=new p("live-share",{fontCharacter:"\\eb18"});p.loading=new p("loading",{fontCharacter:"\\eb19"});p.location=new p("location",{fontCharacter:"\\eb1a"});p.mailRead=new p("mail-read",{fontCharacter:"\\eb1b"});p.mail=new p("mail",{fontCharacter:"\\eb1c"});p.markdown=new p("markdown",{fontCharacter:"\\eb1d"});p.megaphone=new p("megaphone",{fontCharacter:"\\eb1e"});p.mention=new p("mention",{fontCharacter:"\\eb1f"});p.milestone=new p("milestone",{fontCharacter:"\\eb20"});p.mortarBoard=new p("mortar-board",{fontCharacter:"\\eb21"});p.move=new p("move",{fontCharacter:"\\eb22"});p.multipleWindows=new p("multiple-windows",{fontCharacter:"\\eb23"});p.mute=new p("mute",{fontCharacter:"\\eb24"});p.noNewline=new p("no-newline",{fontCharacter:"\\eb25"});p.note=new p("note",{fontCharacter:"\\eb26"});p.octoface=new p("octoface",{fontCharacter:"\\eb27"});p.openPreview=new p("open-preview",{fontCharacter:"\\eb28"});p.package_=new p("package",{fontCharacter:"\\eb29"});p.paintcan=new p("paintcan",{fontCharacter:"\\eb2a"});p.pin=new p("pin",{fontCharacter:"\\eb2b"});p.play=new p("play",{fontCharacter:"\\eb2c"});p.run=new p("run",{fontCharacter:"\\eb2c"});p.plug=new p("plug",{fontCharacter:"\\eb2d"});p.preserveCase=new p("preserve-case",{fontCharacter:"\\eb2e"});p.preview=new p("preview",{fontCharacter:"\\eb2f"});p.project=new p("project",{fontCharacter:"\\eb30"});p.pulse=new p("pulse",{fontCharacter:"\\eb31"});p.question=new p("question",{fontCharacter:"\\eb32"});p.quote=new p("quote",{fontCharacter:"\\eb33"});p.radioTower=new p("radio-tower",{fontCharacter:"\\eb34"});p.reactions=new p("reactions",{fontCharacter:"\\eb35"});p.references=new p("references",{fontCharacter:"\\eb36"});p.refresh=new p("refresh",{fontCharacter:"\\eb37"});p.regex=new p("regex",{fontCharacter:"\\eb38"});p.remoteExplorer=new p("remote-explorer",{fontCharacter:"\\eb39"});p.remote=new p("remote",{fontCharacter:"\\eb3a"});p.remove=new p("remove",{fontCharacter:"\\eb3b"});p.replaceAll=new p("replace-all",{fontCharacter:"\\eb3c"});p.replace=new p("replace",{fontCharacter:"\\eb3d"});p.repoClone=new p("repo-clone",{fontCharacter:"\\eb3e"});p.repoForcePush=new p("repo-force-push",{fontCharacter:"\\eb3f"});p.repoPull=new p("repo-pull",{fontCharacter:"\\eb40"});p.repoPush=new p("repo-push",{fontCharacter:"\\eb41"});p.report=new p("report",{fontCharacter:"\\eb42"});p.requestChanges=new p("request-changes",{fontCharacter:"\\eb43"});p.rocket=new p("rocket",{fontCharacter:"\\eb44"});p.rootFolderOpened=new p("root-folder-opened",{fontCharacter:"\\eb45"});p.rootFolder=new p("root-folder",{fontCharacter:"\\eb46"});p.rss=new p("rss",{fontCharacter:"\\eb47"});p.ruby=new p("ruby",{fontCharacter:"\\eb48"});p.saveAll=new p("save-all",{fontCharacter:"\\eb49"});p.saveAs=new p("save-as",{fontCharacter:"\\eb4a"});p.save=new p("save",{fontCharacter:"\\eb4b"});p.screenFull=new p("screen-full",{fontCharacter:"\\eb4c"});p.screenNormal=new p("screen-normal",{fontCharacter:"\\eb4d"});p.searchStop=new p("search-stop",{fontCharacter:"\\eb4e"});p.server=new p("server",{fontCharacter:"\\eb50"});p.settingsGear=new p("settings-gear",{fontCharacter:"\\eb51"});p.settings=new p("settings",{fontCharacter:"\\eb52"});p.shield=new p("shield",{fontCharacter:"\\eb53"});p.smiley=new p("smiley",{fontCharacter:"\\eb54"});p.sortPrecedence=new p("sort-precedence",{fontCharacter:"\\eb55"});p.splitHorizontal=new p("split-horizontal",{fontCharacter:"\\eb56"});p.splitVertical=new p("split-vertical",{fontCharacter:"\\eb57"});p.squirrel=new p("squirrel",{fontCharacter:"\\eb58"});p.starFull=new p("star-full",{fontCharacter:"\\eb59"});p.starHalf=new p("star-half",{fontCharacter:"\\eb5a"});p.symbolClass=new p("symbol-class",{fontCharacter:"\\eb5b"});p.symbolColor=new p("symbol-color",{fontCharacter:"\\eb5c"});p.symbolCustomColor=new p("symbol-customcolor",{fontCharacter:"\\eb5c"});p.symbolConstant=new p("symbol-constant",{fontCharacter:"\\eb5d"});p.symbolEnumMember=new p("symbol-enum-member",{fontCharacter:"\\eb5e"});p.symbolField=new p("symbol-field",{fontCharacter:"\\eb5f"});p.symbolFile=new p("symbol-file",{fontCharacter:"\\eb60"});p.symbolInterface=new p("symbol-interface",{fontCharacter:"\\eb61"});p.symbolKeyword=new p("symbol-keyword",{fontCharacter:"\\eb62"});p.symbolMisc=new p("symbol-misc",{fontCharacter:"\\eb63"});p.symbolOperator=new p("symbol-operator",{fontCharacter:"\\eb64"});p.symbolProperty=new p("symbol-property",{fontCharacter:"\\eb65"});p.wrench=new p("wrench",{fontCharacter:"\\eb65"});p.wrenchSubaction=new p("wrench-subaction",{fontCharacter:"\\eb65"});p.symbolSnippet=new p("symbol-snippet",{fontCharacter:"\\eb66"});p.tasklist=new p("tasklist",{fontCharacter:"\\eb67"});p.telescope=new p("telescope",{fontCharacter:"\\eb68"});p.textSize=new p("text-size",{fontCharacter:"\\eb69"});p.threeBars=new p("three-bars",{fontCharacter:"\\eb6a"});p.thumbsdown=new p("thumbsdown",{fontCharacter:"\\eb6b"});p.thumbsup=new p("thumbsup",{fontCharacter:"\\eb6c"});p.tools=new p("tools",{fontCharacter:"\\eb6d"});p.triangleDown=new p("triangle-down",{fontCharacter:"\\eb6e"});p.triangleLeft=new p("triangle-left",{fontCharacter:"\\eb6f"});p.triangleRight=new p("triangle-right",{fontCharacter:"\\eb70"});p.triangleUp=new p("triangle-up",{fontCharacter:"\\eb71"});p.twitter=new p("twitter",{fontCharacter:"\\eb72"});p.unfold=new p("unfold",{fontCharacter:"\\eb73"});p.unlock=new p("unlock",{fontCharacter:"\\eb74"});p.unmute=new p("unmute",{fontCharacter:"\\eb75"});p.unverified=new p("unverified",{fontCharacter:"\\eb76"});p.verified=new p("verified",{fontCharacter:"\\eb77"});p.versions=new p("versions",{fontCharacter:"\\eb78"});p.vmActive=new p("vm-active",{fontCharacter:"\\eb79"});p.vmOutline=new p("vm-outline",{fontCharacter:"\\eb7a"});p.vmRunning=new p("vm-running",{fontCharacter:"\\eb7b"});p.watch=new p("watch",{fontCharacter:"\\eb7c"});p.whitespace=new p("whitespace",{fontCharacter:"\\eb7d"});p.wholeWord=new p("whole-word",{fontCharacter:"\\eb7e"});p.window=new p("window",{fontCharacter:"\\eb7f"});p.wordWrap=new p("word-wrap",{fontCharacter:"\\eb80"});p.zoomIn=new p("zoom-in",{fontCharacter:"\\eb81"});p.zoomOut=new p("zoom-out",{fontCharacter:"\\eb82"});p.listFilter=new p("list-filter",{fontCharacter:"\\eb83"});p.listFlat=new p("list-flat",{fontCharacter:"\\eb84"});p.listSelection=new p("list-selection",{fontCharacter:"\\eb85"});p.selection=new p("selection",{fontCharacter:"\\eb85"});p.listTree=new p("list-tree",{fontCharacter:"\\eb86"});p.debugBreakpointFunctionUnverified=new p("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"});p.debugBreakpointFunction=new p("debug-breakpoint-function",{fontCharacter:"\\eb88"});p.debugBreakpointFunctionDisabled=new p("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"});p.debugStackframeActive=new p("debug-stackframe-active",{fontCharacter:"\\eb89"});p.debugStackframeDot=new p("debug-stackframe-dot",{fontCharacter:"\\eb8a"});p.debugStackframe=new p("debug-stackframe",{fontCharacter:"\\eb8b"});p.debugStackframeFocused=new p("debug-stackframe-focused",{fontCharacter:"\\eb8b"});p.debugBreakpointUnsupported=new p("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"});p.symbolString=new p("symbol-string",{fontCharacter:"\\eb8d"});p.debugReverseContinue=new p("debug-reverse-continue",{fontCharacter:"\\eb8e"});p.debugStepBack=new p("debug-step-back",{fontCharacter:"\\eb8f"});p.debugRestartFrame=new p("debug-restart-frame",{fontCharacter:"\\eb90"});p.callIncoming=new p("call-incoming",{fontCharacter:"\\eb92"});p.callOutgoing=new p("call-outgoing",{fontCharacter:"\\eb93"});p.menu=new p("menu",{fontCharacter:"\\eb94"});p.expandAll=new p("expand-all",{fontCharacter:"\\eb95"});p.feedback=new p("feedback",{fontCharacter:"\\eb96"});p.groupByRefType=new p("group-by-ref-type",{fontCharacter:"\\eb97"});p.ungroupByRefType=new p("ungroup-by-ref-type",{fontCharacter:"\\eb98"});p.account=new p("account",{fontCharacter:"\\eb99"});p.bellDot=new p("bell-dot",{fontCharacter:"\\eb9a"});p.debugConsole=new p("debug-console",{fontCharacter:"\\eb9b"});p.library=new p("library",{fontCharacter:"\\eb9c"});p.output=new p("output",{fontCharacter:"\\eb9d"});p.runAll=new p("run-all",{fontCharacter:"\\eb9e"});p.syncIgnored=new p("sync-ignored",{fontCharacter:"\\eb9f"});p.pinned=new p("pinned",{fontCharacter:"\\eba0"});p.githubInverted=new p("github-inverted",{fontCharacter:"\\eba1"});p.debugAlt=new p("debug-alt",{fontCharacter:"\\eb91"});p.serverProcess=new p("server-process",{fontCharacter:"\\eba2"});p.serverEnvironment=new p("server-environment",{fontCharacter:"\\eba3"});p.pass=new p("pass",{fontCharacter:"\\eba4"});p.stopCircle=new p("stop-circle",{fontCharacter:"\\eba5"});p.playCircle=new p("play-circle",{fontCharacter:"\\eba6"});p.record=new p("record",{fontCharacter:"\\eba7"});p.debugAltSmall=new p("debug-alt-small",{fontCharacter:"\\eba8"});p.vmConnect=new p("vm-connect",{fontCharacter:"\\eba9"});p.cloud=new p("cloud",{fontCharacter:"\\ebaa"});p.merge=new p("merge",{fontCharacter:"\\ebab"});p.exportIcon=new p("export",{fontCharacter:"\\ebac"});p.graphLeft=new p("graph-left",{fontCharacter:"\\ebad"});p.magnet=new p("magnet",{fontCharacter:"\\ebae"});p.notebook=new p("notebook",{fontCharacter:"\\ebaf"});p.redo=new p("redo",{fontCharacter:"\\ebb0"});p.checkAll=new p("check-all",{fontCharacter:"\\ebb1"});p.pinnedDirty=new p("pinned-dirty",{fontCharacter:"\\ebb2"});p.passFilled=new p("pass-filled",{fontCharacter:"\\ebb3"});p.circleLargeFilled=new p("circle-large-filled",{fontCharacter:"\\ebb4"});p.circleLargeOutline=new p("circle-large-outline",{fontCharacter:"\\ebb5"});p.combine=new p("combine",{fontCharacter:"\\ebb6"});p.gather=new p("gather",{fontCharacter:"\\ebb6"});p.table=new p("table",{fontCharacter:"\\ebb7"});p.variableGroup=new p("variable-group",{fontCharacter:"\\ebb8"});p.typeHierarchy=new p("type-hierarchy",{fontCharacter:"\\ebb9"});p.typeHierarchySub=new p("type-hierarchy-sub",{fontCharacter:"\\ebba"});p.typeHierarchySuper=new p("type-hierarchy-super",{fontCharacter:"\\ebbb"});p.gitPullRequestCreate=new p("git-pull-request-create",{fontCharacter:"\\ebbc"});p.runAbove=new p("run-above",{fontCharacter:"\\ebbd"});p.runBelow=new p("run-below",{fontCharacter:"\\ebbe"});p.notebookTemplate=new p("notebook-template",{fontCharacter:"\\ebbf"});p.debugRerun=new p("debug-rerun",{fontCharacter:"\\ebc0"});p.workspaceTrusted=new p("workspace-trusted",{fontCharacter:"\\ebc1"});p.workspaceUntrusted=new p("workspace-untrusted",{fontCharacter:"\\ebc2"});p.workspaceUnspecified=new p("workspace-unspecified",{fontCharacter:"\\ebc3"});p.terminalCmd=new p("terminal-cmd",{fontCharacter:"\\ebc4"});p.terminalDebian=new p("terminal-debian",{fontCharacter:"\\ebc5"});p.terminalLinux=new p("terminal-linux",{fontCharacter:"\\ebc6"});p.terminalPowershell=new p("terminal-powershell",{fontCharacter:"\\ebc7"});p.terminalTmux=new p("terminal-tmux",{fontCharacter:"\\ebc8"});p.terminalUbuntu=new p("terminal-ubuntu",{fontCharacter:"\\ebc9"});p.terminalBash=new p("terminal-bash",{fontCharacter:"\\ebca"});p.arrowSwap=new p("arrow-swap",{fontCharacter:"\\ebcb"});p.copy=new p("copy",{fontCharacter:"\\ebcc"});p.personAdd=new p("person-add",{fontCharacter:"\\ebcd"});p.filterFilled=new p("filter-filled",{fontCharacter:"\\ebce"});p.wand=new p("wand",{fontCharacter:"\\ebcf"});p.debugLineByLine=new p("debug-line-by-line",{fontCharacter:"\\ebd0"});p.inspect=new p("inspect",{fontCharacter:"\\ebd1"});p.layers=new p("layers",{fontCharacter:"\\ebd2"});p.layersDot=new p("layers-dot",{fontCharacter:"\\ebd3"});p.layersActive=new p("layers-active",{fontCharacter:"\\ebd4"});p.compass=new p("compass",{fontCharacter:"\\ebd5"});p.compassDot=new p("compass-dot",{fontCharacter:"\\ebd6"});p.compassActive=new p("compass-active",{fontCharacter:"\\ebd7"});p.azure=new p("azure",{fontCharacter:"\\ebd8"});p.issueDraft=new p("issue-draft",{fontCharacter:"\\ebd9"});p.gitPullRequestClosed=new p("git-pull-request-closed",{fontCharacter:"\\ebda"});p.gitPullRequestDraft=new p("git-pull-request-draft",{fontCharacter:"\\ebdb"});p.debugAll=new p("debug-all",{fontCharacter:"\\ebdc"});p.debugCoverage=new p("debug-coverage",{fontCharacter:"\\ebdd"});p.runErrors=new p("run-errors",{fontCharacter:"\\ebde"});p.folderLibrary=new p("folder-library",{fontCharacter:"\\ebdf"});p.debugContinueSmall=new p("debug-continue-small",{fontCharacter:"\\ebe0"});p.beakerStop=new p("beaker-stop",{fontCharacter:"\\ebe1"});p.graphLine=new p("graph-line",{fontCharacter:"\\ebe2"});p.graphScatter=new p("graph-scatter",{fontCharacter:"\\ebe3"});p.pieChart=new p("pie-chart",{fontCharacter:"\\ebe4"});p.bracket=new p("bracket",p.json.definition);p.bracketDot=new p("bracket-dot",{fontCharacter:"\\ebe5"});p.bracketError=new p("bracket-error",{fontCharacter:"\\ebe6"});p.lockSmall=new p("lock-small",{fontCharacter:"\\ebe7"});p.azureDevops=new p("azure-devops",{fontCharacter:"\\ebe8"});p.verifiedFilled=new p("verified-filled",{fontCharacter:"\\ebe9"});p.newLine=new p("newline",{fontCharacter:"\\ebea"});p.layout=new p("layout",{fontCharacter:"\\ebeb"});p.layoutActivitybarLeft=new p("layout-activitybar-left",{fontCharacter:"\\ebec"});p.layoutActivitybarRight=new p("layout-activitybar-right",{fontCharacter:"\\ebed"});p.layoutPanelLeft=new p("layout-panel-left",{fontCharacter:"\\ebee"});p.layoutPanelCenter=new p("layout-panel-center",{fontCharacter:"\\ebef"});p.layoutPanelJustify=new p("layout-panel-justify",{fontCharacter:"\\ebf0"});p.layoutPanelRight=new p("layout-panel-right",{fontCharacter:"\\ebf1"});p.layoutPanel=new p("layout-panel",{fontCharacter:"\\ebf2"});p.layoutSidebarLeft=new p("layout-sidebar-left",{fontCharacter:"\\ebf3"});p.layoutSidebarRight=new p("layout-sidebar-right",{fontCharacter:"\\ebf4"});p.layoutStatusbar=new p("layout-statusbar",{fontCharacter:"\\ebf5"});p.layoutMenubar=new p("layout-menubar",{fontCharacter:"\\ebf6"});p.layoutCentered=new p("layout-centered",{fontCharacter:"\\ebf7"});p.target=new p("target",{fontCharacter:"\\ebf8"});p.indent=new p("indent",{fontCharacter:"\\ebf9"});p.recordSmall=new p("record-small",{fontCharacter:"\\ebfa"});p.errorSmall=new p("error-small",{fontCharacter:"\\ebfb"});p.arrowCircleDown=new p("arrow-circle-down",{fontCharacter:"\\ebfc"});p.arrowCircleLeft=new p("arrow-circle-left",{fontCharacter:"\\ebfd"});p.arrowCircleRight=new p("arrow-circle-right",{fontCharacter:"\\ebfe"});p.arrowCircleUp=new p("arrow-circle-up",{fontCharacter:"\\ebff"});p.dialogError=new p("dialog-error",p.error.definition);p.dialogWarning=new p("dialog-warning",p.warning.definition);p.dialogInfo=new p("dialog-info",p.info.definition);p.dialogClose=new p("dialog-close",p.close.definition);p.treeItemExpanded=new p("tree-item-expanded",p.chevronDown.definition);p.treeFilterOnTypeOn=new p("tree-filter-on-type-on",p.listFilter.definition);p.treeFilterOnTypeOff=new p("tree-filter-on-type-off",p.listSelection.definition);p.treeFilterClear=new p("tree-filter-clear",p.close.definition);p.treeItemLoading=new p("tree-item-loading",p.loading.definition);p.menuSelection=new p("menu-selection",p.check.definition);p.menuSubmenu=new p("menu-submenu",p.chevronRight.definition);p.menuBarMore=new p("menubar-more",p.more.definition);p.scrollbarButtonLeft=new p("scrollbar-button-left",p.triangleLeft.definition);p.scrollbarButtonRight=new p("scrollbar-button-right",p.triangleRight.definition);p.scrollbarButtonUp=new p("scrollbar-button-up",p.triangleUp.definition);p.scrollbarButtonDown=new p("scrollbar-button-down",p.triangleDown.definition);p.toolBarMore=new p("toolbar-more",p.more.definition);p.quickInputBack=new p("quick-input-back",p.arrowLeft.definition);(function(r){r.iconNameSegment="[A-Za-z0-9]+",r.iconNameExpression="[A-Za-z0-9-]+",r.iconModifierExpression="~[A-Za-z]+",r.iconNameCharacter="[A-Za-z0-9~-]";let e=new RegExp(`^(${r.iconNameExpression})(${r.iconModifierExpression})?$`);function t(o){if(o instanceof p)return["codicon","codicon-"+o.id];let s=e.exec(o.id);if(!s)return t(p.error);let[,a,l]=s,c=["codicon","codicon-"+a];return l&&c.push("codicon-modifier-"+l.substr(1)),c}r.asClassNameArray=t;function i(o){return t(o).join(" ")}r.asClassName=i;function n(o){return"."+t(o).join(".")}r.asCSSSelector=n})(to||(to={}))});function Q6(r){return r&&De.isUri(r.uri)&&D.isIRange(r.range)&&(D.isIRange(r.originSelectionRange)||D.isIRange(r.targetSelectionRange))}var tr,gd,xm,Df,Em,ys,$a,ub,X6,Ca,Px,qC,bi,cn=ge(()=>{Oi();ye();Z6();ln();tr=class{static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static getFontStyle(e){return(e&15360)>>>10}static getForeground(e){return(e&8372224)>>>14}static getBackground(e){return(e&4286578688)>>>23}static getClassNameFromMetadata(e){let t=this.getForeground(e),i="mtk"+t,n=this.getFontStyle(e);return n&1&&(i+=" mtki"),n&2&&(i+=" mtkb"),n&4&&(i+=" mtku"),n&8&&(i+=" mtks"),i}static getInlineStyleFromMetadata(e,t){let i=this.getForeground(e),n=this.getFontStyle(e),o=`color: ${t[i]};`;n&1&&(o+="font-style: italic;"),n&2&&(o+="font-weight: bold;");let s="";return n&4&&(s+=" underline"),n&8&&(s+=" line-through"),s&&(o+=`text-decoration:${s};`),o}static getPresentationFromMetadata(e){let t=this.getForeground(e),i=this.getFontStyle(e);return{foreground:t,italic:Boolean(i&1),bold:Boolean(i&2),underline:Boolean(i&4),strikethrough:Boolean(i&8)}}},gd=class{constructor(e,t,i){this._tokenBrand=void 0,this.offset=e,this.type=t,this.language=i}toString(){return"("+this.offset+", "+this.type+")"}},xm=class{constructor(e,t){this._tokenizationResultBrand=void 0,this.tokens=e,this.endState=t}},Df=class{constructor(e,t){this._encodedTokenizationResultBrand=void 0,this.tokens=e,this.endState=t}};(function(r){let e=new Map;e.set(0,p.symbolMethod),e.set(1,p.symbolFunction),e.set(2,p.symbolConstructor),e.set(3,p.symbolField),e.set(4,p.symbolVariable),e.set(5,p.symbolClass),e.set(6,p.symbolStruct),e.set(7,p.symbolInterface),e.set(8,p.symbolModule),e.set(9,p.symbolProperty),e.set(10,p.symbolEvent),e.set(11,p.symbolOperator),e.set(12,p.symbolUnit),e.set(13,p.symbolValue),e.set(15,p.symbolEnum),e.set(14,p.symbolConstant),e.set(15,p.symbolEnum),e.set(16,p.symbolEnumMember),e.set(17,p.symbolKeyword),e.set(27,p.symbolSnippet),e.set(18,p.symbolText),e.set(19,p.symbolColor),e.set(20,p.symbolFile),e.set(21,p.symbolReference),e.set(22,p.symbolCustomColor),e.set(23,p.symbolFolder),e.set(24,p.symbolTypeParameter),e.set(25,p.account),e.set(26,p.issues);function t(o){let s=e.get(o);return s||(console.info("No codicon found for CompletionItemKind "+o),s=p.symbolProperty),s}r.toIcon=t;let i=new Map;i.set("method",0),i.set("function",1),i.set("constructor",2),i.set("field",3),i.set("variable",4),i.set("class",5),i.set("struct",6),i.set("interface",7),i.set("module",8),i.set("property",9),i.set("event",10),i.set("operator",11),i.set("unit",12),i.set("value",13),i.set("constant",14),i.set("enum",15),i.set("enum-member",16),i.set("enumMember",16),i.set("keyword",17),i.set("snippet",27),i.set("text",18),i.set("color",19),i.set("file",20),i.set("reference",21),i.set("customcolor",22),i.set("folder",23),i.set("type-parameter",24),i.set("typeParameter",24),i.set("account",25),i.set("issue",26);function n(o,s){let a=i.get(o);return typeof a>"u"&&!s&&(a=9),a}r.fromString=n})(Em||(Em={}));(function(r){r[r.Automatic=0]="Automatic",r[r.Explicit=1]="Explicit"})(ys||(ys={}));(function(r){r[r.Invoke=1]="Invoke",r[r.TriggerCharacter=2]="TriggerCharacter",r[r.ContentChange=3]="ContentChange"})($a||($a={}));(function(r){r[r.Text=0]="Text",r[r.Read=1]="Read",r[r.Write=2]="Write"})(ub||(ub={}));(function(r){let e=new Map;e.set(0,p.symbolFile),e.set(1,p.symbolModule),e.set(2,p.symbolNamespace),e.set(3,p.symbolPackage),e.set(4,p.symbolClass),e.set(5,p.symbolMethod),e.set(6,p.symbolProperty),e.set(7,p.symbolField),e.set(8,p.symbolConstructor),e.set(9,p.symbolEnum),e.set(10,p.symbolInterface),e.set(11,p.symbolFunction),e.set(12,p.symbolVariable),e.set(13,p.symbolConstant),e.set(14,p.symbolString),e.set(15,p.symbolNumber),e.set(16,p.symbolBoolean),e.set(17,p.symbolArray),e.set(18,p.symbolObject),e.set(19,p.symbolKey),e.set(20,p.symbolNull),e.set(21,p.symbolEnumMember),e.set(22,p.symbolStruct),e.set(23,p.symbolEvent),e.set(24,p.symbolOperator),e.set(25,p.symbolTypeParameter);function t(i){let n=e.get(i);return n||(console.info("No codicon found for SymbolKind "+i),n=p.symbolProperty),n}r.toIcon=t})(X6||(X6={}));Ca=class{constructor(e){this.value=e}};Ca.Comment=new Ca("comment");Ca.Imports=new Ca("imports");Ca.Region=new Ca("region");(function(r){function e(t){return!t||typeof t!="object"?!1:typeof t.id=="string"&&typeof t.title=="string"}r.is=e})(Px||(Px={}));(function(r){r[r.Type=1]="Type",r[r.Parameter=2]="Parameter"})(qC||(qC={}));bi=new XP});var JP,J6=ge(()=>{JP=class{constructor(e){this.computeFn=e,this.lastCache=void 0,this.lastArgKey=void 0}get(e){let t=JSON.stringify(e);return this.lastArgKey!==t&&(this.lastArgKey=t,this.lastCache=this.computeFn(e)),this.lastCache}}});var Sc,YC=ge(()=>{Sc=class{constructor(e){this.executor=e,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}});function bD(r){return!r||typeof r!="string"?!0:r.trim().length===0}function Ec(r,...e){return e.length===0?r:r.replace(Zce,function(t,i){let n=parseInt(i,10);return isNaN(n)||n<0||n>=e.length?t:e[n]})}function gb(r){return r.replace(/[<>&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function Io(r){return r.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function vD(r,e){if(!r||!e)return r;let t=e.length;if(t===0||r.length===0)return r;let i=0;for(;r.indexOf(e,i)===i;)i=i+t;return r.substring(i)}function iW(r,e){if(!r||!e)return r;let t=e.length,i=r.length;if(t===0||i===0)return r;let n=i,o=-1;for(;o=r.lastIndexOf(e,n-1),!(o===-1||o+t!==n);){if(o===0)return"";n=o}return r.substring(0,n)}function nW(r){return r.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function wD(r,e,t={}){if(!r)throw new Error("Cannot create regex from empty string");e||(r=Io(r)),t.wholeWord&&(/\B/.test(r.charAt(0))||(r="\\b"+r),/\B/.test(r.charAt(r.length-1))||(r=r+"\\b"));let i="";return t.global&&(i+="g"),t.matchCase||(i+="i"),t.multiline&&(i+="m"),t.unicode&&(i+="u"),new RegExp(r,i)}function oW(r){return r.source==="^"||r.source==="^$"||r.source==="$"||r.source==="^\\s*$"?!1:!!(r.exec("")&&r.lastIndex===0)}function CD(r){return(r.global?"g":"")+(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")}function mr(r){return r.split(/\r\n|\r|\n/)}function wn(r){for(let e=0,t=r.length;e<t;e++){let i=r.charCodeAt(e);if(i!==32&&i!==9)return e}return-1}function ni(r,e=0,t=r.length){for(let i=e;i<t;i++){let n=r.charCodeAt(i);if(n!==32&&n!==9)return r.substring(e,i)}return r.substring(e,t)}function Mr(r,e=r.length-1){for(let t=e;t>=0;t--){let i=r.charCodeAt(t);if(i!==32&&i!==9)return t}return-1}function Lf(r,e){return r<e?-1:r>e?1:0}function yD(r,e,t=0,i=r.length,n=0,o=e.length){for(;t<i&&n<o;t++,n++){let l=r.charCodeAt(t),c=e.charCodeAt(n);if(l<c)return-1;if(l>c)return 1}let s=i-t,a=o-n;return s<a?-1:s>a?1:0}function ZC(r,e){return mb(r,e,0,r.length,0,e.length)}function mb(r,e,t=0,i=r.length,n=0,o=e.length){for(;t<i&&n<o;t++,n++){let l=r.charCodeAt(t),c=e.charCodeAt(n);if(l===c)continue;if(l>=128||c>=128)return yD(r.toLowerCase(),e.toLowerCase(),t,i,n,o);md(l)&&(l-=32),md(c)&&(c-=32);let d=l-c;if(d!==0)return d}let s=i-t,a=o-n;return s<a?-1:s>a?1:0}function md(r){return r>=97&&r<=122}function qa(r){return r>=65&&r<=90}function Rh(r,e){return r.length===e.length&&mb(r,e)===0}function pb(r,e){let t=e.length;return e.length>r.length?!1:mb(r,e,0,t)===0}function xc(r,e){let t,i=Math.min(r.length,e.length);for(t=0;t<i;t++)if(r.charCodeAt(t)!==e.charCodeAt(t))return t;return i}function Lm(r,e){let t,i=Math.min(r.length,e.length),n=r.length-1,o=e.length-1;for(t=0;t<i;t++)if(r.charCodeAt(n-t)!==e.charCodeAt(o-t))return t;return i}function Ji(r){return 55296<=r&&r<=56319}function pd(r){return 56320<=r&&r<=57343}function SD(r,e){return(r-55296<<10)+(e-56320)+65536}function _b(r,e,t){let i=r.charCodeAt(t);if(Ji(i)&&t+1<e){let n=r.charCodeAt(t+1);if(pd(n))return SD(i,n)}return i}function Gce(r,e){let t=r.charCodeAt(e-1);if(pd(t)&&e>1){let i=r.charCodeAt(e-2);if(Ji(i))return SD(i,t)}return t}function GC(r,e){return new bb(r,e).nextGraphemeLength()}function eM(r,e){return new bb(r,e).prevGraphemeLength()}function rW(r,e){e>0&&pd(r.charCodeAt(e))&&e--;let t=e+GC(r,e);return[t-eM(r,t),t]}function kf(r){return Xce.test(r)}function If(r){return Qce.test(r)}function xD(r){return tM.test(r)}function Ya(r){return r>=11904&&r<=55215||r>=63744&&r<=64255||r>=65281&&r<=65374}function XC(r){return r>=127462&&r<=127487||r===8986||r===8987||r===9200||r===9203||r>=9728&&r<=10175||r===11088||r===11093||r>=127744&&r<=128591||r>=128640&&r<=128764||r>=128992&&r<=129008||r>=129280&&r<=129535||r>=129648&&r<=129782}function vb(r){return!!(r&&r.length>0&&r.charCodeAt(0)===65279)}function aW(r,e=!1){return r?(e&&(r=r.replace(/\\./g,"")),r.toLowerCase()!==r):!1}function DD(r){return r=r%(2*26),r<26?String.fromCharCode(97+r):String.fromCharCode(65+r-26)}function eW(r,e){return r===0?e!==5&&e!==7:r===2&&e===3?!1:r===4||r===2||r===3||e===4||e===2||e===3?!0:!(r===8&&(e===8||e===9||e===11||e===12)||(r===11||r===9)&&(e===9||e===10)||(r===12||r===10)&&e===10||e===5||e===13||e===7||r===1||r===13&&e===14||r===6&&e===6)}function Jce(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function lW(r,e){if(r===0)return 0;let t=ede(r,e);if(t!==void 0)return t;let i=new ED(e,r);return i.prevCodePoint(),i.offset}function ede(r,e){let t=new ED(e,r),i=t.prevCodePoint();for(;tde(i)||i===65039||i===8419;){if(t.offset===0)return;i=t.prevCodePoint()}if(!XC(i))return;let n=t.offset;return n>0&&t.prevCodePoint()===8205&&(n=t.offset),n}function tde(r){return 127995<=r&&r<=127999}var tW,Zce,ED,bb,Xce,Qce,tM,sW,Ah,cW,ya,Ka,He=ge(()=>{J6();YC();Zce=/{(\d+)}/g;ED=class{constructor(e,t=0){this._str=e,this._len=e.length,this._offset=t}get offset(){return this._offset}setOffset(e){this._offset=e}prevCodePoint(){let e=Gce(this._str,this._offset);return this._offset-=e>=65536?2:1,e}nextCodePoint(){let e=_b(this._str,this._len,this._offset);return this._offset+=e>=65536?2:1,e}eol(){return this._offset>=this._len}},bb=class{constructor(e,t=0){this._iterator=new ED(e,t)}get offset(){return this._iterator.offset}nextGraphemeLength(){let e=Ah.getInstance(),t=this._iterator,i=t.offset,n=e.getGraphemeBreakType(t.nextCodePoint());for(;!t.eol();){let o=t.offset,s=e.getGraphemeBreakType(t.nextCodePoint());if(eW(n,s)){t.setOffset(o);break}n=s}return t.offset-i}prevGraphemeLength(){let e=Ah.getInstance(),t=this._iterator,i=t.offset,n=e.getGraphemeBreakType(t.prevCodePoint());for(;t.offset>0;){let o=t.offset,s=e.getGraphemeBreakType(t.prevCodePoint());if(eW(s,n)){t.setOffset(o);break}n=s}return i-t.offset}eol(){return this._iterator.eol()}};Xce=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;Qce=/^[\t\n\r\x20-\x7E]*$/;tM=/[\u2028\u2029]/;sW=String.fromCharCode(65279);Ah=class{constructor(){this._data=Jce()}static getInstance(){return Ah._INSTANCE||(Ah._INSTANCE=new Ah),Ah._INSTANCE}getGraphemeBreakType(e){if(e<32)return e===10?3:e===13?2:4;if(e<127)return 0;let t=this._data,i=t.length/3,n=1;for(;n<=i;)if(e<t[3*n])n=2*n;else if(e>t[3*n+1])n=2*n+1;else return t[3*n+2];return 0}};Ah._INSTANCE=null;cW="\xA0",ya=class{constructor(e){this.confusableDictionary=e}static getInstance(e){return ya.cache.get(Array.from(e))}static getLocales(){return ya._locales.getValue()}isAmbiguous(e){return this.confusableDictionary.has(e)}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}};tW=ya;ya.ambiguousCharacterData=new Sc(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'));ya.cache=new JP(r=>{function e(c){let d=new Map;for(let h=0;h<c.length;h+=2)d.set(c[h],c[h+1]);return d}function t(c,d){let h=new Map(c);for(let[u,f]of d)h.set(u,f);return h}function i(c,d){if(!c)return d;let h=new Map;for(let[u,f]of c)d.has(u)&&h.set(u,f);return h}let n=tW.ambiguousCharacterData.getValue(),o=r.filter(c=>!c.startsWith("_")&&c in n);o.length===0&&(o=["_default"]);let s;for(let c of o){let d=e(n[c]);s=i(s,d)}let a=e(n._common),l=t(a,s);return new ya(l)});ya._locales=new Sc(()=>Object.keys(ya.ambiguousCharacterData.getValue()).filter(r=>!r.startsWith("_")));Ka=class{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(Ka.getRawData())),this._data}static isInvisibleCharacter(e){return Ka.getData().has(e)}static get codePoints(){return Ka.getData()}};Ka._data=void 0});var Za={};BE(Za,{PixelRatio:()=>Fh,getZoomFactor:()=>iM,isAndroid:()=>oM,isChrome:()=>nM,isElectron:()=>ide,isFirefox:()=>$n,isSafari:()=>ir,isStandalone:()=>JC,isWebKit:()=>Al,isWebkitWebView:()=>QC});function iM(){return LD.INSTANCE.getZoomFactor()}var LD,dW,hW,uW,Fh,wb,$n,Al,nM,ir,QC,ide,oM,JC,Oo=ge(()=>{Ee();re();LD=class{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}};LD.INSTANCE=new LD;dW=class extends ${constructor(){super();this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(e){this._mediaQueryList&&this._mediaQueryList.removeEventListener("change",this._listener),this._mediaQueryList=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),e&&this._onDidChange.fire()}},hW=class extends ${constructor(){super();this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();let e=this._register(new dW);this._register(e.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}get value(){return this._value}_getPixelRatio(){let e=document.createElement("canvas").getContext("2d"),t=window.devicePixelRatio||1,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/i}},uW=class{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=new hW),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}},Fh=new uW;wb=navigator.userAgent,$n=wb.indexOf("Firefox")>=0,Al=wb.indexOf("AppleWebKit")>=0,nM=wb.indexOf("Chrome")>=0,ir=!nM&&wb.indexOf("Safari")>=0,QC=!nM&&!ir&&Al,ide=wb.indexOf("Electron/")>=0,oM=wb.indexOf("Android")>=0,JC=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches});function rde(r,e,t){e[Rl.DI_TARGET]===e?e[Rl.DI_DEPENDENCIES].push({id:r,index:t}):(e[Rl.DI_DEPENDENCIES]=[{id:r,index:t}],e[Rl.DI_TARGET]=e)}function Fe(r){if(Rl.serviceIds.has(r))return Rl.serviceIds.get(r);let e=function(t,i,n){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");rde(e,t,n)};return e.toString=()=>r,Rl.serviceIds.set(r,e),e}var Rl,ze,Ye=ge(()=>{(function(r){r.serviceIds=new Map,r.DI_TARGET="$di$target",r.DI_DEPENDENCIES="$di$dependencies";function e(t){return t[r.DI_DEPENDENCIES]||[]}r.getServiceDependencies=e})(Rl||(Rl={}));ze=Fe("instantiationService")});var Tt,io=ge(()=>{Ye();Tt=Fe("codeEditorService")});function yb(r,e){if(!r)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}var lM=ge(()=>{});var Of,t0=ge(()=>{Of={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}});function pW(r){return!r.isTooLargeForSyncing()&&!r.isForSimpleWidget}var Ar,Rr,Fl,km,Bh,i0,hM,uM,Us=ge(()=>{Jo();(function(r){r[r.Left=1]="Left",r[r.Center=2]="Center",r[r.Right=4]="Right",r[r.Full=7]="Full"})(Ar||(Ar={}));(function(r){r[r.Inline=1]="Inline",r[r.Gutter=2]="Gutter"})(Rr||(Rr={}));(function(r){r[r.Both=0]="Both",r[r.Right=1]="Right",r[r.Left=2]="Left",r[r.None=3]="None"})(Fl||(Fl={}));km=class{constructor(e){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,e.tabSize|0),this.indentSize=e.tabSize|0,this.insertSpaces=Boolean(e.insertSpaces),this.defaultEOL=e.defaultEOL|0,this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace),this.bracketPairColorizationOptions=e.bracketPairColorizationOptions}equals(e){return this.tabSize===e.tabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&Qo(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}},Bh=class{constructor(e,t){this._findMatchBrand=void 0,this.range=e,this.matches=t}},i0=class{constructor(e,t,i,n,o,s){this.identifier=e,this.range=t,this.text=i,this.forceMoveMarkers=n,this.isAutoWhitespaceEdit=o,this._isTracked=s}},hM=class{constructor(e,t,i){this.regex=e,this.wordSeparators=t,this.simpleSearch=i}},uM=class{constructor(e,t,i){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=i}}});function n0(r,e,t){r.has(e)?r.get(e).push(t):r.set(e,[t])}var yn,o0,fM,Sb=ge(()=>{(function(r){r[r.None=0]="None",r[r.Indent=1]="Indent",r[r.IndentOutdent=2]="IndentOutdent",r[r.Outdent=3]="Outdent"})(yn||(yn={}));o0=class{constructor(e){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=e.open,this.close=e.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++)switch(e.notIn[t]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(e,t){if(e.getTokenCount()===0)return!0;let i=e.findTokenIndexAtOffset(t-2),n=e.getStandardTokenType(i);return this.isOK(n)}_findNeutralCharacterInRange(e,t){for(let i=e;i<=t;i++){let n=String.fromCharCode(i);if(!this.open.includes(n)&&!this.close.includes(n))return n}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}},fM=class{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(let t of e)n0(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),n0(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),n0(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),n0(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),t.close.length===1&&t.open.length===1&&n0(this.autoClosingPairsCloseSingleChar,t.close,t)}}});function Im(r,e){let t=r.getCount(),i=r.findTokenIndexAtOffset(e),n=r.getLanguageId(i),o=i;for(;o+1<t&&r.getLanguageId(o+1)===n;)o++;let s=i;for(;s>0&&r.getLanguageId(s-1)===n;)s--;return new _W(r,n,s,o+1,r.getStartOffset(s),r.getEndOffset(o))}function Bl(r){return(r&3)!==0}var _W,Eb=ge(()=>{_W=class{constructor(e,t,i,n,o,s){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=i,this._lastTokenIndex=n,this.firstCharOffset=o,this._lastCharOffset=s}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}});function bW(r){return r.filter(([e,t])=>e!==""&&t!=="")}var xb,vW=ge(()=>{Sb();xb=class{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(t=>new o0(t)):e.brackets?this._autoClosingPairs=e.brackets.map(t=>new o0({open:t[0],close:t[1]})):this._autoClosingPairs=[],e.colorizedBracketPairs?this._colorizedBracketPairs=bW(e.colorizedBracketPairs.map(t=>[t[0],t[1]])):e.brackets?this._colorizedBracketPairs=bW(e.brackets.map(t=>[t[0],t[1]]).filter(t=>!(t[0]==="<"&&t[1]===">"))):this._colorizedBracketPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){let t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new o0({open:t.open,close:t.close||""}))}this._autoCloseBefore=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:xb.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}};xb.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`});function CW(r,e){return r[e+0]<<0>>>0|r[e+1]<<8>>>0}function yW(r,e,t){r[t+0]=e&255,e=e>>>8,r[t+1]=e&255}function Xa(r,e){return r[e]*Math.pow(2,24)+r[e+1]*Math.pow(2,16)+r[e+2]*Math.pow(2,8)+r[e+3]}function Qa(r,e,t){r[t+3]=e,e=e>>>8,r[t+2]=e,e=e>>>8,r[t+1]=e,e=e>>>8,r[t]=e}function mM(r,e){return r[e]}function pM(r,e,t){r[t]=e}var wW,gM,Om,Db=ge(()=>{wW=typeof Buffer<"u",Om=class{constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}static wrap(e){return wW&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new Om(e)}toString(){return wW?this.buffer.toString():(gM||(gM=new TextDecoder),gM.decode(this.buffer))}}});function SW(){return bM||(bM=new TextDecoder("UTF-16LE")),bM}function lde(){return vM||(vM=new TextDecoder("UTF-16BE")),vM}function CM(){return wM||(wM=hx()?SW():lde()),wM}function cde(r,e,t){let i=new Uint16Array(r.buffer,e,t);return t>0&&(i[0]===65279||i[0]===65534)?EW(r,e,t):SW().decode(i)}function EW(r,e,t){let i=[],n=0;for(let o=0;o<t;o++){let s=CW(r,e);e+=2,i[n++]=String.fromCharCode(s)}return i.join("")}var bM,vM,wM,yM,jl,OD,xW,DW,Tf=ge(()=>{He();xt();Db();yM=typeof TextDecoder<"u";yM?(jl=r=>new xW(r),OD=cde):(jl=r=>new DW,OD=EW);xW=class{constructor(e){this._capacity=e|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";let e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return CM().decode(e)}_flushBuffer(){let e=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}write1(e){let t=this._capacity-this._bufferLength;t<=1&&(t===0||Ji(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCII(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIIString(e){let t=e.length;if(this._bufferLength+t>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=e;return}for(let i=0;i<t;i++)this._buffer[this._bufferLength++]=e.charCodeAt(i)}},DW=class{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCII(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCIIString(e){this._pieces[this._piecesLen++]=e}}});function hde(r){let e=r.length;r=r.map(s=>[s[0].toLowerCase(),s[1].toLowerCase()]);let t=[];for(let s=0;s<e;s++)t[s]=s;let i=(s,a)=>{let[l,c]=s,[d,h]=a;return l===d||l===h||c===d||c===h},n=(s,a)=>{let l=Math.min(s,a),c=Math.max(s,a);for(let d=0;d<e;d++)t[d]===c&&(t[d]=l)};for(let s=0;s<e;s++){let a=r[s];for(let l=s+1;l<e;l++){let c=r[l];i(a,c)&&n(t[s],t[l])}}let o=[];for(let s=0;s<e;s++){let a=[],l=[];for(let c=0;c<e;c++)if(t[c]===s){let[d,h]=r[c];a.push(d),l.push(h)}a.length>0&&o.push({open:a,close:l})}return o}function LW(r,e,t,i){for(let n=0,o=e.length;n<o;n++){if(n===t)continue;let s=e[n];for(let a of s.open)a.indexOf(r)>=0&&i.push(a);for(let a of s.close)a.indexOf(r)>=0&&i.push(a)}}function kW(r,e){return r.length-e.length}function TD(r){if(r.length<=1)return r;let e=[],t=new Set;for(let i of r)t.has(i)||(e.push(i),t.add(i));return e}function ude(r,e,t,i){let n=[];n=n.concat(r),n=n.concat(e);for(let o=0,s=n.length;o<s;o++)LW(n[o],t,i,n);return n=TD(n),n.sort(kW),n.reverse(),ND(n)}function fde(r,e,t,i){let n=[];n=n.concat(r),n=n.concat(e);for(let o=0,s=n.length;o<s;o++)LW(n[o],t,i,n);return n=TD(n),n.sort(kW),n.reverse(),ND(n.map(EM))}function gde(r){let e=[];for(let t of r){for(let i of t.open)e.push(i);for(let i of t.close)e.push(i)}return e=TD(e),ND(e)}function mde(r){let e=[];for(let t of r){for(let i of t.open)e.push(i);for(let i of t.close)e.push(i)}return e=TD(e),ND(e.map(EM))}function pde(r){let e=/^[\w ]+$/.test(r);return r=Io(r),e?`\\b${r}\\b`:r}function ND(r){let e=`(${r.map(pde).join(")|(")})`;return wD(e,!0)}var r0,SM,EM,zs,PD=ge(()=>{He();Tf();ye();r0=class{constructor(e,t,i,n,o,s){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=i,this.close=n,this.forwardRegex=o,this.reversedRegex=s,this._openSet=r0._toSet(this.open),this._closeSet=r0._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){let t=new Set;for(let i of e)t.add(i);return t}};SM=class{constructor(e,t){this._richEditBracketsBrand=void 0;let i=hde(t);this.brackets=i.map((n,o)=>new r0(e,o,n.open,n.close,ude(n.open,n.close,i,o),fde(n.open,n.close,i,o))),this.forwardRegex=gde(this.brackets),this.reversedRegex=mde(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(let n of this.brackets){for(let o of n.open)this.textIsBracket[o]=n,this.textIsOpenBracket[o]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,o.length);for(let o of n.close)this.textIsBracket[o]=n,this.textIsOpenBracket[o]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,o.length)}}};EM=function(){function r(i){if(yM){let n=new Uint16Array(i.length),o=0;for(let s=i.length-1;s>=0;s--)n[o++]=i.charCodeAt(s);return CM().decode(n)}else{let n=[],o=0;for(let s=i.length-1;s>=0;s--)n[o++]=i.charAt(s);return n.join("")}}let e=null,t=null;return function(n){return e!==n&&(e=n,t=r(e)),t}}(),zs=class{static _findPrevBracketInText(e,t,i,n){let o=i.match(e);if(!o)return null;let s=i.length-(o.index||0),a=o[0].length,l=n+s;return new D(t,l-a+1,t,l+1)}static findPrevBracketInRange(e,t,i,n,o){let a=EM(i).substring(i.length-o,i.length-n);return this._findPrevBracketInText(e,t,a,n)}static findNextBracketInText(e,t,i,n){let o=i.match(e);if(!o)return null;let s=o.index||0,a=o[0].length;if(a===0)return null;let l=n+s;return new D(t,l+1,t,l+1+a)}static findNextBracketInRange(e,t,i,n,o){let s=i.substring(n,o);return this.findNextBracketInText(e,t,s,n)}}});var xM,IW=ge(()=>{jt();Eb();PD();xM=class{constructor(e){this._richEditBrackets=e}getElectricCharacters(){let e=[];if(this._richEditBrackets)for(let t of this._richEditBrackets.brackets)for(let i of t.close){let n=i.charAt(i.length-1);e.push(n)}return Ua(e)}onElectricCharacter(e,t,i){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;let n=t.findTokenIndexAtOffset(i-1);if(Bl(t.getStandardTokenType(n)))return null;let o=this._richEditBrackets.reversedRegex,s=t.getLineContent().substring(0,i-1)+e,a=zs.findPrevBracketInRange(o,1,s,0,s.length);if(!a)return null;let l=s.substring(a.startColumn-1,a.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[l])return null;let d=t.getActualLineContentBefore(a.startColumn-1);return/^\s*$/.test(d)?{matchOpenBracket:l}:null}}});function MD(r){return r.global&&(r.lastIndex=0),!0}var DM,OW=ge(()=>{DM=class{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&MD(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&MD(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&MD(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&MD(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}});var Nf,TW=ge(()=>{ut();He();Sb();Nf=class{constructor(e){e=e||{},e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(t=>{let i=Nf._createOpenBracketRegExp(t[0]),n=Nf._createCloseBracketRegExp(t[1]);i&&n&&this._brackets.push({open:t[0],openRegExp:i,close:t[1],closeRegExp:n})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,n){if(e>=3)for(let o=0,s=this._regExpRules.length;o<s;o++){let a=this._regExpRules[o];if([{reg:a.beforeText,text:i},{reg:a.afterText,text:n},{reg:a.previousLineText,text:t}].every(c=>c.reg?(c.reg.lastIndex=0,c.reg.test(c.text)):!0))return a.action}if(e>=2&&i.length>0&&n.length>0)for(let o=0,s=this._brackets.length;o<s;o++){let a=this._brackets[o];if(a.openRegExp.test(i)&&a.closeRegExp.test(n))return{indentAction:yn.IndentOutdent}}if(e>=2&&i.length>0){for(let o=0,s=this._brackets.length;o<s;o++)if(this._brackets[o].openRegExp.test(i))return{indentAction:yn.Indent}}return null}static _createOpenBracketRegExp(e){let t=Io(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",Nf._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=Io(e);return/\B/.test(t.charAt(t.length-1))||(t=t+"\\b"),t="^\\s*"+t,Nf._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return Ie(t),null}}}});function LM(r,e){let t=Object.create(null);for(let i in r)AD(t,i,r[i],e);return t}function AD(r,e,t,i){let n=e.split("."),o=n.pop(),s=r;for(let a=0;a<n.length;a++){let l=n[a],c=s[l];switch(typeof c){case"undefined":c=s[l]=Object.create(null);break;case"object":break;default:i(`Ignoring ${e} as ${n.slice(0,a+1).join(".")} is ${JSON.stringify(c)}`);return}s=c}if(typeof s=="object"&&s!==null)try{s[o]=t}catch{i(`Ignoring ${e} as ${n.join(".")} is ${JSON.stringify(s)}`)}else i(`Ignoring ${e} as ${n.join(".")} is ${JSON.stringify(s)}`)}function NW(r,e){let t=e.split(".");PW(r,t)}function PW(r,e){let t=e.shift();if(e.length===0){delete r[t];return}if(Object.keys(r).indexOf(t)!==-1){let i=r[t];typeof i=="object"&&!Array.isArray(i)&&(PW(i,e),Object.keys(i).length===0&&delete r[t])}}function kM(r,e,t){function i(s,a){let l=s;for(let c of a){if(typeof l!="object"||l===null)return;l=l[c]}return l}let n=e.split("."),o=i(r,n);return typeof o>"u"?t:o}var Ht,Fr=ge(()=>{Ye();Ht=Fe("configurationService")});var Gt,Vo=ge(()=>{Ye();Gt=Fe("languageService")});var Sa,RD=ge(()=>{Sa=class{constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}});function Lt(r,e,t){e instanceof Sa||(e=new Sa(e,[],t)),MW.push([r,e])}function IM(){return MW}var MW,Ss=ge(()=>{RD();MW=[]});function bde(r,e,t){let i=qi.getLanguageConfiguration(r);if(!i){if(!t.isRegisteredLanguageId(r))throw new Error(`Language id "${r}" is not configured nor known`);i=new Lb(r,{})}let n=vde(i.languageId,e),o=jW([i.underlyingConfig,n]);return new Lb(i.languageId,o)}function vde(r,e){let t=e.getValue(TM.brackets,{overrideIdentifier:r}),i=e.getValue(TM.colorizedBracketPairs,{overrideIdentifier:r});return{brackets:RW(t),colorizedBracketPairs:RW(i)}}function RW(r){if(!!Array.isArray(r))return r.map(e=>{if(!(!Array.isArray(e)||e.length!==2))return[e[0],e[1]]}).filter(e=>!!e)}function jW(r){let e={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(let t of r)e={comments:t.comments||e.comments,brackets:t.brackets||e.brackets,wordPattern:t.wordPattern||e.wordPattern,indentationRules:t.indentationRules||e.indentationRules,onEnterRules:t.onEnterRules||e.onEnterRules,autoClosingPairs:t.autoClosingPairs||e.autoClosingPairs,surroundingPairs:t.surroundingPairs||e.surroundingPairs,autoCloseBefore:t.autoCloseBefore||e.autoCloseBefore,folding:t.folding||e.folding,colorizedBracketPairs:t.colorizedBracketPairs||e.colorizedBracketPairs,__electricCharacterSupport:t.__electricCharacterSupport||e.__electricCharacterSupport};return e}var _de,AW,FD,en,OM,TM,NM,FW,qi,BW,PM,Lb,no=ge(()=>{Ee();re();He();Q_();Sb();Eb();vW();IW();OW();TW();PD();Ye();Fr();Vo();Ss();_de=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},AW=function(r,e){return function(t,i){e(t,i,r)}},FD=class{constructor(e){this.languageId=e}affects(e){return this.languageId?this.languageId===e:!0}},en=Fe("languageConfigurationService"),OM=class extends ${constructor(e,t){super();this.configurationService=e,this.languageService=t,this.onDidChangeEmitter=this._register(new B),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;let i=new Set(Object.values(TM));this._register(this.configurationService.onDidChangeConfiguration(n=>{let o=n.change.keys.some(a=>i.has(a)),s=n.change.overrides.filter(([a,l])=>l.some(c=>i.has(c))).map(([a])=>a);if(o)this.configurations.clear(),this.onDidChangeEmitter.fire(new FD(void 0));else for(let a of s)this.languageService.isRegisteredLanguageId(a)&&(this.configurations.delete(a),this.onDidChangeEmitter.fire(new FD(a)))})),this._register(qi.onDidChange(n=>{this.configurations.delete(n.languageId),this.onDidChangeEmitter.fire(new FD(n.languageId))}))}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=bde(e,this.configurationService,this.languageService),this.configurations.set(e,t)),t}};OM=_de([AW(0,Ht),AW(1,Gt)],OM);TM={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};NM=class{constructor(e){this.languageId=e}},FW=class{constructor(){this._entries=new Map,this._onDidChange=new B,this.onDidChange=this._onDidChange.event}register(e,t,i=0){let n=this._entries.get(e);n||(n=new BW(e),this._entries.set(e,n));let o=n.register(t,i);return this._onDidChange.fire(new NM(e)),Ve(()=>{o.dispose(),this._onDidChange.fire(new NM(e))})}getLanguageConfiguration(e){let t=this._entries.get(e);return t?.getResolvedConfiguration()||null}getComments(e){let t=this.getLanguageConfiguration(e);return t&&t.comments||null}getIndentRulesSupport(e){let t=this.getLanguageConfiguration(e);return t&&t.indentRulesSupport||null}getPrecedingValidLine(e,t,i){let n=e.getLanguageIdAtPosition(t,0);if(t>1){let o,s=-1;for(o=t-1;o>=1;o--){if(e.getLanguageIdAtPosition(o,0)!==n)return s;let a=e.getLineContent(o);if(i.shouldIgnore(a)||/^\s+$/.test(a)||a===""){s=o;continue}return o}}return-1}getInheritIndentForLine(e,t,i,n=!0){if(e<4)return null;let o=this.getIndentRulesSupport(t.getLanguageId());if(!o)return null;if(i<=1)return{indentation:"",action:null};let s=this.getPrecedingValidLine(t,i,o);if(s<0)return null;if(s<1)return{indentation:"",action:null};let a=t.getLineContent(s);if(o.shouldIncrease(a)||o.shouldIndentNextLine(a))return{indentation:ni(a),action:yn.Indent,line:s};if(o.shouldDecrease(a))return{indentation:ni(a),action:null,line:s};{if(s===1)return{indentation:ni(t.getLineContent(s)),action:null,line:s};let l=s-1,c=o.getIndentMetadata(t.getLineContent(l));if(!(c&3)&&c&4){let d=0;for(let h=l-1;h>0;h--)if(!o.shouldIndentNextLine(t.getLineContent(h))){d=h;break}return{indentation:ni(t.getLineContent(d+1)),action:null,line:d+1}}if(n)return{indentation:ni(t.getLineContent(s)),action:null,line:s};for(let d=s;d>0;d--){let h=t.getLineContent(d);if(o.shouldIncrease(h))return{indentation:ni(h),action:yn.Indent,line:d};if(o.shouldIndentNextLine(h)){let u=0;for(let f=d-1;f>0;f--)if(!o.shouldIndentNextLine(t.getLineContent(d))){u=f;break}return{indentation:ni(t.getLineContent(u+1)),action:null,line:u+1}}else if(o.shouldDecrease(h))return{indentation:ni(h),action:null,line:d}}return{indentation:ni(t.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(e,t,i,n,o){if(e<4)return null;let s=this.getLanguageConfiguration(i);if(!s)return null;let a=this.getIndentRulesSupport(i);if(!a)return null;let l=this.getInheritIndentForLine(e,t,n),c=t.getLineContent(n);if(l){let d=l.line;if(d!==void 0){let h=s.onEnter(e,"",t.getLineContent(d),"");if(h){let u=ni(t.getLineContent(d));return h.removeText&&(u=u.substring(0,u.length-h.removeText)),h.indentAction===yn.Indent||h.indentAction===yn.IndentOutdent?u=o.shiftIndent(u):h.indentAction===yn.Outdent&&(u=o.unshiftIndent(u)),a.shouldDecrease(c)&&(u=o.unshiftIndent(u)),h.appendText&&(u+=h.appendText),ni(u)}}return a.shouldDecrease(c)?l.action===yn.Indent?l.indentation:o.unshiftIndent(l.indentation):l.action===yn.Indent?o.shiftIndent(l.indentation):l.indentation}return null}getIndentForEnter(e,t,i,n){if(e<4)return null;t.forceTokenization(i.startLineNumber);let o=t.getLineTokens(i.startLineNumber),s=Im(o,i.startColumn-1),a=s.getLineContent(),l=!1,c;s.firstCharOffset>0&&o.getLanguageId(0)!==s.languageId?(l=!0,c=a.substr(0,i.startColumn-1-s.firstCharOffset)):c=o.getLineContent().substring(0,i.startColumn-1);let d;i.isEmpty()?d=a.substr(i.startColumn-1-s.firstCharOffset):d=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-s.firstCharOffset);let h=this.getIndentRulesSupport(s.languageId);if(!h)return null;let u=c,f=ni(c),m={getLineTokens:C=>t.getLineTokens(C),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(C,E)=>t.getLanguageIdAtPosition(C,E),getLineContent:C=>C===i.startLineNumber?u:t.getLineContent(C)},_=ni(o.getLineContent()),w=this.getInheritIndentForLine(e,m,i.startLineNumber+1);if(!w){let C=l?_:f;return{beforeEnter:C,afterEnter:C}}let y=l?_:w.indentation;return w.action===yn.Indent&&(y=n.shiftIndent(y)),h.shouldDecrease(d)&&(y=n.unshiftIndent(y)),{beforeEnter:l?_:f,afterEnter:y}}getIndentActionForType(e,t,i,n,o){if(e<4)return null;let s=this.getScopedLineTokens(t,i.startLineNumber,i.startColumn);if(s.firstCharOffset)return null;let a=this.getIndentRulesSupport(s.languageId);if(!a)return null;let l=s.getLineContent(),c=l.substr(0,i.startColumn-1-s.firstCharOffset),d;if(i.isEmpty()?d=l.substr(i.startColumn-1-s.firstCharOffset):d=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-s.firstCharOffset),!a.shouldDecrease(c+d)&&a.shouldDecrease(c+n+d)){let h=this.getInheritIndentForLine(e,t,i.startLineNumber,!1);if(!h)return null;let u=h.indentation;return h.action!==yn.Indent&&(u=o.unshiftIndent(u)),u}return null}getIndentMetadata(e,t){let i=this.getIndentRulesSupport(e.getLanguageId());return!i||t<1||t>e.getLineCount()?null:i.getIndentMetadata(e.getLineContent(t))}getEnterAction(e,t,i){let n=this.getScopedLineTokens(t,i.startLineNumber,i.startColumn),o=this.getLanguageConfiguration(n.languageId);if(!o)return null;let s=n.getLineContent(),a=s.substr(0,i.startColumn-1-n.firstCharOffset),l;i.isEmpty()?l=s.substr(i.startColumn-1-n.firstCharOffset):l=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-n.firstCharOffset);let c="";if(i.startLineNumber>1&&n.firstCharOffset===0){let _=this.getScopedLineTokens(t,i.startLineNumber-1);_.languageId===n.languageId&&(c=_.getLineContent())}let d=o.onEnter(e,c,a,l);if(!d)return null;let h=d.indentAction,u=d.appendText,f=d.removeText||0;u?h===yn.Indent&&(u="	"+u):h===yn.Indent||h===yn.IndentOutdent?u="	":u="";let m=this.getIndentationAtPosition(t,i.startLineNumber,i.startColumn);return f&&(m=m.substring(0,m.length-f)),{indentAction:h,appendText:u,removeText:f,indentation:m}}getIndentationAtPosition(e,t,i){let n=e.getLineContent(t),o=ni(n);return o.length>i-1&&(o=o.substring(0,i-1)),o}getScopedLineTokens(e,t,i){e.forceTokenization(t);let n=e.getLineTokens(t),o=typeof i>"u"?e.getLineMaxColumn(t)-1:i-1;return Im(n,o)}},qi=new FW,BW=class{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){let i=new PM(e,t,++this._order);return this._entries.push(i),this._resolved=null,Ve(()=>{for(let n=0;n<this._entries.length;n++)if(this._entries[n]===i){this._entries.splice(n,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){let e=this._resolve();e&&(this._resolved=new Lb(this.languageId,e))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(PM.cmp),jW(this._entries.map(e=>e.configuration)))}};PM=class{constructor(e,t,i){this.configuration=e,this.priority=t,this.order=i}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}},Lb=class{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new Nf(this.underlyingConfig):null,this.comments=Lb._handleComments(this.underlyingConfig),this.characterPair=new xb(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||RC,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new DM(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return ux(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new SM(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new xM(this.brackets)),this._electricCharacter}onEnter(e,t,i,n){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,n):null}getAutoClosingPairs(){return new fM(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(e){let t=e.comments;if(!t)return null;let i={};if(t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment){let[n,o]=t.blockComment;i.blockCommentStartToken=n,i.blockCommentEndToken=o}return i}};Lt(en,OM)});function WW(r,e){return new xm([new gd(0,"",r)],e)}function BD(r,e){let t=new Uint32Array(2);return t[0]=0,t[1]=(r<<0|0<<8|0<<10|1<<14|2<<23)>>>0,new Df(t,e===null?Pf:e)}var Pf,s0=ge(()=>{cn();Pf=new class{clone(){return this}equals(r){return this===r}}});var ii,ns=ge(()=>{Ye();ii=Fe("modelService")});function UW(r){return!!r&&typeof r.then=="function"}function xi(r){let e=new Ki,t=r(e.token),i=new Promise((n,o)=>{let s=e.token.onCancellationRequested(()=>{s.dispose(),e.dispose(),o(new hd)});Promise.resolve(t).then(a=>{s.dispose(),e.dispose(),n(a)},a=>{s.dispose(),e.dispose(),o(a)})});return new class{cancel(){e.cancel()}then(n,o){return i.then(n,o)}catch(n){return this.then(void 0,n)}finally(n){return i.finally(n)}}}function kb(r,e,t){return new Promise((i,n)=>{let o=e.onCancellationRequested(()=>{o.dispose(),i(t)});r.then(i,n).finally(()=>o.dispose())})}function Wl(r,e){return e?new Promise((t,i)=>{let n=setTimeout(()=>{o.dispose(),t()},r),o=e.onCancellationRequested(()=>{clearTimeout(n),o.dispose(),i(new hd)})}):xi(t=>Wl(r,t))}function Ul(r,e=0){let t=setTimeout(r,e);return Ve(()=>clearTimeout(t))}function WD(r,e=i=>!!i,t=null){let i=0,n=r.length,o=()=>{if(i>=n)return Promise.resolve(t);let s=r[i++];return Promise.resolve(s()).then(l=>e(l)?Promise.resolve(l):o())};return o()}function HW(r){let e=new Ki,t=r(e.token);return new VW(e,i=>Ja(this,void 0,void 0,function*(){var n,o;let s=e.token.onCancellationRequested(()=>{s.dispose(),e.dispose(),i.reject(new hd)});try{try{for(var a=a0(t),l;l=yield a.next(),!l.done;){let c=l.value;if(e.token.isCancellationRequested)return;i.emitOne(c)}}catch(c){n={error:c}}finally{try{l&&!l.done&&(o=a.return)&&(yield o.call(a))}finally{if(n)throw n.error}}s.dispose(),e.dispose()}catch(c){s.dispose(),e.dispose(),i.reject(c)}}))}var Ja,a0,zW,wde,Cde,MM,pr,AM,mn,bd,wt,Tm,el,l0,jD,dn,VW,nt=ge(()=>{Ei();ut();Ee();re();xt();Ja=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},a0=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=r[o]&&function(s){return new Promise(function(a,l){s=r[o](s),n(a,l,s.done,s.value)})}}function n(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}};zW=class{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){let t=()=>{this.queuedPromise=null;let i=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,i};this.queuedPromise=new Promise(i=>{this.activePromise.then(t,t).then(i)})}return new Promise((t,i)=>{this.queuedPromise.then(t,i)})}return this.activePromise=e(),new Promise((t,i)=>{this.activePromise.then(n=>{this.activePromise=null,t(n)},n=>{this.activePromise=null,i(n)})})}},wde=(r,e)=>{let t=!0,i=setTimeout(()=>{t=!1,e()},r);return{isTriggered:()=>t,dispose:()=>{clearTimeout(i),t=!1}}},Cde=r=>{let e=!0;return queueMicrotask(()=>{e&&(e=!1,r())}),{isTriggered:()=>e,dispose:()=>{e=!1}}},MM=Symbol("MicrotaskDelay"),pr=class{constructor(e){this.defaultDelay=e,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,t=this.defaultDelay){this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((n,o)=>{this.doResolve=n,this.doReject=o}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){let n=this.task;return this.task=null,n()}}));let i=()=>{var n;this.deferred=null,(n=this.doResolve)===null||n===void 0||n.call(this,null)};return this.deferred=t===MM?Cde(i):wde(t,i),this.completionPromise}isTriggered(){var e;return!!(!((e=this.deferred)===null||e===void 0)&&e.isTriggered())}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(new hd),this.completionPromise=null)}cancelTimeout(){var e;(e=this.deferred)===null||e===void 0||e.dispose(),this.deferred=null}dispose(){this.cancel()}},AM=class{constructor(e){this.delayer=new pr(e),this.throttler=new zW}trigger(e,t){return this.delayer.trigger(()=>this.throttler.queue(e),t)}dispose(){this.delayer.dispose()}};mn=class{constructor(e,t){this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}},bd=class{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setInterval(()=>{e()},t)}},wt=class{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}};(function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?Tm=r=>{dx(()=>{if(e)return;let t=Date.now()+15;r(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,t-Date.now())}}))});let e=!1;return{dispose(){e||(e=!0)}}}:Tm=(r,e)=>{let t=requestIdleCallback(r,typeof e=="number"?{timeout:e}:void 0),i=!1;return{dispose(){i||(i=!0,cancelIdleCallback(t))}}}})();el=class{constructor(e){this._didRun=!1,this._executor=()=>{try{this._value=e()}catch(t){this._error=t}finally{this._didRun=!0}},this._handle=Tm(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}},l0=class{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((e,t)=>{this.completeCallback=e,this.errorCallback=t})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(e){return new Promise(t=>{this.completeCallback(e),this.resolved=!0,t()})}cancel(){new Promise(e=>{this.errorCallback(new hd),this.rejected=!0,e()})}};(function(r){function e(i){return Ja(this,void 0,void 0,function*(){let n,o=yield Promise.all(i.map(s=>s.then(a=>a,a=>{n||(n=a)})));if(typeof n<"u")throw n;return o})}r.settled=e;function t(i){return new Promise((n,o)=>Ja(this,void 0,void 0,function*(){try{yield i(n,o)}catch(s){o(s)}}))}r.withAsyncBody=t})(jD||(jD={}));dn=class{constructor(e){this._state=0,this._results=[],this._error=null,this._onStateChanged=new B,queueMicrotask(()=>Ja(this,void 0,void 0,function*(){let t={emitOne:i=>this.emitOne(i),emitMany:i=>this.emitMany(i),reject:i=>this.reject(i)};try{yield Promise.resolve(e(t)),this.resolve()}catch(i){this.reject(i)}finally{t.emitOne=void 0,t.emitMany=void 0,t.reject=void 0}}))}static fromArray(e){return new dn(t=>{t.emitMany(e)})}static fromPromise(e){return new dn(t=>Ja(this,void 0,void 0,function*(){t.emitMany(yield e)}))}static fromPromises(e){return new dn(t=>Ja(this,void 0,void 0,function*(){yield Promise.all(e.map(i=>Ja(this,void 0,void 0,function*(){return t.emitOne(yield i)})))}))}static merge(e){return new dn(t=>Ja(this,void 0,void 0,function*(){yield Promise.all(e.map(i=>{var n,o;return Ja(this,void 0,void 0,function*(){var s,a;try{for(n=a0(i);o=yield n.next(),!o.done;){let l=o.value;t.emitOne(l)}}catch(l){s={error:l}}finally{try{o&&!o.done&&(a=n.return)&&(yield a.call(n))}finally{if(s)throw s.error}}})}))}))}[Symbol.asyncIterator](){let e=0;return{next:()=>Ja(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};yield xe.toPromise(this._onStateChanged.event)}while(!0)})}}static map(e,t){return new dn(i=>Ja(this,void 0,void 0,function*(){var n,o;try{for(var s=a0(e),a;a=yield s.next(),!a.done;){let l=a.value;i.emitOne(t(l))}}catch(l){n={error:l}}finally{try{a&&!a.done&&(o=s.return)&&(yield o.call(s))}finally{if(n)throw n.error}}}))}map(e){return dn.map(this,e)}static filter(e,t){return new dn(i=>Ja(this,void 0,void 0,function*(){var n,o;try{for(var s=a0(e),a;a=yield s.next(),!a.done;){let l=a.value;t(l)&&i.emitOne(l)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(o=s.return)&&(yield o.call(s))}finally{if(n)throw n.error}}}))}filter(e){return dn.filter(this,e)}static coalesce(e){return dn.filter(e,t=>!!t)}coalesce(){return dn.coalesce(this)}static toPromise(e){var t,i,n,o;return Ja(this,void 0,void 0,function*(){let s=[];try{for(t=a0(e);i=yield t.next(),!i.done;){let a=i.value;s.push(a)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(n)throw n.error}}return s})}toPromise(){return dn.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}};dn.EMPTY=dn.fromArray([]);VW=class extends dn{constructor(e,t){super(t);this._source=e}cancel(){this._source.cancel()}}});function UD(r){return h0(r,0)}function h0(r,e){switch(typeof r){case"object":return r===null?jh(349,e):Array.isArray(r)?Lde(r,e):kde(r,e);case"string":return zD(r,e);case"boolean":return Dde(r,e);case"number":return jh(r,e);case"undefined":return jh(937,e);default:return jh(617,e)}}function jh(r,e){return(e<<5)-e+r|0}function Dde(r,e){return jh(r?433:863,e)}function zD(r,e){e=jh(149417,e);for(let t=0,i=r.length;t<i;t++)e=jh(r.charCodeAt(t),e);return e}function Lde(r,e){return e=jh(104579,e),r.reduce((t,i)=>h0(i,t),e)}function kde(r,e){return e=jh(181387,e),Object.keys(r).sort().reduce((t,i)=>(t=zD(i,t),h0(r[i],t)),e)}function jM(r,e,t=32){let i=t-e,n=~((1<<i)-1);return(r<<e|(n&r)>>>i)>>>0}function tU(r,e=0,t=r.byteLength,i=0){for(let n=0;n<t;n++)r[e+n]=i}function Ide(r,e,t="0"){for(;r.length<e;)r=t+r;return r}function d0(r,e=32){return r instanceof ArrayBuffer?Array.from(new Uint8Array(r)).map(t=>t.toString(16).padStart(2,"0")).join(""):Ide((r>>>0).toString(16),e/4)}var Ob,Tb=ge(()=>{He();Ob=class{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){let t=e.length;if(t===0)return;let i=this._buff,n=this._buffLen,o=this._leftoverHighSurrogate,s,a;for(o!==0?(s=o,a=-1,o=0):(s=e.charCodeAt(0),a=0);;){let l=s;if(Ji(s))if(a+1<t){let c=e.charCodeAt(a+1);pd(c)?(a++,l=SD(s,c)):l=65533}else{o=s;break}else pd(s)&&(l=65533);if(n=this._push(i,n,l),a++,a<t)s=e.charCodeAt(a);else break}this._buffLen=n,this._leftoverHighSurrogate=o}_push(e,t,i){return i<128?e[t++]=i:i<2048?(e[t++]=192|(i&1984)>>>6,e[t++]=128|(i&63)>>>0):i<65536?(e[t++]=224|(i&61440)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0):(e[t++]=240|(i&1835008)>>>18,e[t++]=128|(i&258048)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64+0],e[1]=e[64+1],e[2]=e[64+2]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),d0(this._h0)+d0(this._h1)+d0(this._h2)+d0(this._h3)+d0(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,tU(this._buff,this._buffLen),this._buffLen>56&&(this._step(),tU(this._buff));let e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){let e=Ob._bigBlock32,t=this._buffDV;for(let h=0;h<64;h+=4)e.setUint32(h,t.getUint32(h,!1),!1);for(let h=64;h<320;h+=4)e.setUint32(h,jM(e.getUint32(h-12,!1)^e.getUint32(h-32,!1)^e.getUint32(h-56,!1)^e.getUint32(h-64,!1),1),!1);let i=this._h0,n=this._h1,o=this._h2,s=this._h3,a=this._h4,l,c,d;for(let h=0;h<80;h++)h<20?(l=n&o|~n&s,c=1518500249):h<40?(l=n^o^s,c=1859775393):h<60?(l=n&o|n&s|o&s,c=2400959708):(l=n^o^s,c=3395469782),d=jM(i,5)+l+a+c+e.getUint32(h*4,!1)&4294967295,a=s,s=o,o=jM(n,30),n=i,i=d;this._h0=this._h0+i&4294967295,this._h1=this._h1+n&4294967295,this._h2=this._h2+o&4294967295,this._h3=this._h3+s&4294967295,this._h4=this._h4+a&4294967295}};Ob._bigBlock32=new DataView(new ArrayBuffer(320))});function Mm(r){return r<0?0:r>255?255:r|0}function Am(r){return r<0?0:r>4294967295?4294967295:r|0}var u0=ge(()=>{});var wd,Cd,Rm=ge(()=>{u0();wd=class{constructor(e){let t=Mm(e);this._defaultValue=t,this._asciiMap=wd._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){let t=new Uint8Array(256);for(let i=0;i<256;i++)t[i]=e;return t}set(e,t){let i=Mm(t);e>=0&&e<256?this._asciiMap[e]=i:this._map.set(e,i)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}},Cd=class{constructor(){this._actual=new wd(0)}add(e){this._actual.set(e,1)}has(e){return this._actual.get(e)===1}}});function Mde(r){let e={};return t=>(e.hasOwnProperty(t)||(e[t]=r(t)),e[t])}var cU,Br,Mb=ge(()=>{Rm();cU=class extends wd{constructor(e){super(0);for(let t=0,i=e.length;t<i;t++)this.set(e.charCodeAt(t),2);this.set(32,1),this.set(9,1)}};Br=Mde(r=>new cU(r))});function Rde(r){if(!r||r.length===0)return!1;for(let e=0,t=r.length;e<t;e++)if(r.charCodeAt(e)===92){if(e++,e>=t)break;let n=r.charCodeAt(e);if(n===110||n===114||n===87)return!0}return!1}function Mf(r,e,t){if(!t)return new Bh(r,null);let i=[];for(let n=0,o=e.length;n<o;n++)i[n]=e[n];return new Bh(r,i)}function Fde(r,e,t,i,n){if(i===0)return!0;let o=e.charCodeAt(i-1);if(r.get(o)!==0||o===13||o===10)return!0;if(n>0){let s=e.charCodeAt(i);if(r.get(s)!==0)return!0}return!1}function Bde(r,e,t,i,n){if(i+n===t)return!0;let o=e.charCodeAt(i+n);if(r.get(o)!==0||o===13||o===10)return!0;if(n>0){let s=e.charCodeAt(i+n-1);if(r.get(s)!==0)return!0}return!1}function VD(r,e,t,i,n){return Fde(r,e,t,i,n)&&Bde(r,e,t,i,n)}var Ade,yd,XM,Ab,Wh,p0=ge(()=>{He();Mb();lt();ye();Us();Ade=999,yd=class{constructor(e,t,i,n){this.searchString=e,this.isRegex=t,this.matchCase=i,this.wordSeparators=n}parseSearchRequest(){if(this.searchString==="")return null;let e;this.isRegex?e=Rde(this.searchString):e=this.searchString.indexOf(`
`)>=0;let t=null;try{t=wD(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch{return null}if(!t)return null;let i=!this.isRegex&&!e;return i&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(i=this.matchCase),new hM(t,this.wordSeparators?Br(this.wordSeparators):null,i?this.searchString:null)}};XM=class{constructor(e){let t=[],i=0;for(let n=0,o=e.length;n<o;n++)e.charCodeAt(n)===10&&(t[i++]=n);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){let t=this._lineFeedsOffsets,i=0,n=t.length-1;if(n===-1||e<=t[0])return 0;for(;i<n;){let o=i+((n-i)/2>>0);t[o]>=e?n=o-1:t[o+1]>=e?(i=o,n=o):i=o+1}return i+1}},Ab=class{static findMatches(e,t,i,n,o){let s=t.parseSearchRequest();return s?s.regex.multiline?this._doFindMatchesMultiline(e,i,new Wh(s.wordSeparators,s.regex),n,o):this._doFindMatchesLineByLine(e,i,s,n,o):[]}static _getMultilineMatchRange(e,t,i,n,o,s){let a,l=0;n?(l=n.findLineFeedCountBeforeOffset(o),a=t+o+l):a=t+o;let c;if(n){let f=n.findLineFeedCountBeforeOffset(o+s.length)-l;c=a+s.length+f}else c=a+s.length;let d=e.getPositionAt(a),h=e.getPositionAt(c);return new D(d.lineNumber,d.column,h.lineNumber,h.column)}static _doFindMatchesMultiline(e,t,i,n,o){let s=e.getOffsetAt(t.getStartPosition()),a=e.getValueInRange(t,1),l=e.getEOL()===`\r
`?new XM(a):null,c=[],d=0,h;for(i.reset(0);h=i.next(a);)if(c[d++]=Mf(this._getMultilineMatchRange(e,s,a,l,h.index,h[0]),h,n),d>=o)return c;return c}static _doFindMatchesLineByLine(e,t,i,n,o){let s=[],a=0;if(t.startLineNumber===t.endLineNumber){let c=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return a=this._findMatchesInLine(i,c,t.startLineNumber,t.startColumn-1,a,s,n,o),s}let l=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);a=this._findMatchesInLine(i,l,t.startLineNumber,t.startColumn-1,a,s,n,o);for(let c=t.startLineNumber+1;c<t.endLineNumber&&a<o;c++)a=this._findMatchesInLine(i,e.getLineContent(c),c,0,a,s,n,o);if(a<o){let c=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);a=this._findMatchesInLine(i,c,t.endLineNumber,0,a,s,n,o)}return s}static _findMatchesInLine(e,t,i,n,o,s,a,l){let c=e.wordSeparators;if(!a&&e.simpleSearch){let u=e.simpleSearch,f=u.length,m=t.length,_=-f;for(;(_=t.indexOf(u,_+f))!==-1;)if((!c||VD(c,t,m,_,f))&&(s[o++]=new Bh(new D(i,_+1+n,i,_+1+f+n),null),o>=l))return o;return o}let d=new Wh(e.wordSeparators,e.regex),h;d.reset(0);do if(h=d.next(t),h&&(s[o++]=Mf(new D(i,h.index+1+n,i,h.index+1+h[0].length+n),h,a),o>=l))return o;while(h);return o}static findNextMatch(e,t,i,n){let o=t.parseSearchRequest();if(!o)return null;let s=new Wh(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindNextMatchMultiline(e,i,s,n):this._doFindNextMatchLineByLine(e,i,s,n)}static _doFindNextMatchMultiline(e,t,i,n){let o=new V(t.lineNumber,1),s=e.getOffsetAt(o),a=e.getLineCount(),l=e.getValueInRange(new D(o.lineNumber,o.column,a,e.getLineMaxColumn(a)),1),c=e.getEOL()===`\r
`?new XM(l):null;i.reset(t.column-1);let d=i.next(l);return d?Mf(this._getMultilineMatchRange(e,s,l,c,d.index,d[0]),d,n):t.lineNumber!==1||t.column!==1?this._doFindNextMatchMultiline(e,new V(1,1),i,n):null}static _doFindNextMatchLineByLine(e,t,i,n){let o=e.getLineCount(),s=t.lineNumber,a=e.getLineContent(s),l=this._findFirstMatchInLine(i,a,s,t.column,n);if(l)return l;for(let c=1;c<=o;c++){let d=(s+c-1)%o,h=e.getLineContent(d+1),u=this._findFirstMatchInLine(i,h,d+1,1,n);if(u)return u}return null}static _findFirstMatchInLine(e,t,i,n,o){e.reset(n-1);let s=e.next(t);return s?Mf(new D(i,s.index+1,i,s.index+1+s[0].length),s,o):null}static findPreviousMatch(e,t,i,n){let o=t.parseSearchRequest();if(!o)return null;let s=new Wh(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindPreviousMatchMultiline(e,i,s,n):this._doFindPreviousMatchLineByLine(e,i,s,n)}static _doFindPreviousMatchMultiline(e,t,i,n){let o=this._doFindMatchesMultiline(e,new D(1,1,t.lineNumber,t.column),i,n,10*Ade);if(o.length>0)return o[o.length-1];let s=e.getLineCount();return t.lineNumber!==s||t.column!==e.getLineMaxColumn(s)?this._doFindPreviousMatchMultiline(e,new V(s,e.getLineMaxColumn(s)),i,n):null}static _doFindPreviousMatchLineByLine(e,t,i,n){let o=e.getLineCount(),s=t.lineNumber,a=e.getLineContent(s).substring(0,t.column-1),l=this._findLastMatchInLine(i,a,s,n);if(l)return l;for(let c=1;c<=o;c++){let d=(o+s-c-1)%o,h=e.getLineContent(d+1),u=this._findLastMatchInLine(i,h,d+1,n);if(u)return u}return null}static _findLastMatchInLine(e,t,i,n){let o=null,s;for(e.reset(0);s=e.next(t);)o=Mf(new D(i,s.index+1,i,s.index+1+s[0].length),s,n);return o}};Wh=class{constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){let t=e.length,i;do{if(this._prevMatchStartIndex+this._prevMatchLength===t||(i=this._searchRegex.exec(e),!i))return null;let n=i.index,o=i[0].length;if(n===this._prevMatchStartIndex&&o===this._prevMatchLength){if(o===0){_b(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=n,this._prevMatchLength=o,!this._wordSeparators||VD(this._wordSeparators,e,t,n,o))return i}while(i);return null}}});var Fb,HD,_0=ge(()=>{Ye();Fb=Fe("textResourceConfigurationService"),HD=Fe("textResourcePropertiesService")});var go,zl,uU,fU,JM,eA,Vl=ge(()=>{Ee();re();Ye();go=Fe("logService");(function(r){r[r.Trace=0]="Trace",r[r.Debug=1]="Debug",r[r.Info=2]="Info",r[r.Warning=3]="Warning",r[r.Error=4]="Error",r[r.Critical=5]="Critical",r[r.Off=6]="Off"})(zl||(zl={}));uU=zl.Info,fU=class extends ${constructor(){super(...arguments);this.level=uU,this._onDidChangeLogLevel=this._register(new B)}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}},JM=class extends fU{constructor(e=uU){super();this.setLevel(e)}trace(e,...t){this.getLevel()<=zl.Trace&&console.log("%cTRACE","color: #888",e,...t)}debug(e,...t){this.getLevel()<=zl.Debug&&console.log("%cDEBUG","background: #eee; color: #888",e,...t)}info(e,...t){this.getLevel()<=zl.Info&&console.log("%c INFO","color: #33f",e,...t)}error(e,...t){this.getLevel()<=zl.Error&&console.log("%c  ERR","color: #f33",e,...t)}dispose(){}},eA=class extends ${constructor(e){super();this.logger=e,this._register(e)}getLevel(){return this.logger.getLevel()}trace(e,...t){this.logger.trace(e,...t)}debug(e,...t){this.logger.debug(e,...t)}info(e,...t){this.logger.info(e,...t)}error(e,...t){this.logger.error(e,...t)}}});var ve,hi=ge(()=>{Ye();ve=Fe("ILanguageFeaturesService")});var tn,YD,Sd=ge(()=>{cn();tn=class{constructor(e,t,i){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this._languageIdCodec=i}static createEmpty(e,t){let i=tn.defaultTokenMetadata,n=new Uint32Array(2);return n[0]=e.length,n[1]=i,new tn(n,e,t)}equals(e){return e instanceof tn?this.slicedEquals(e,0,this._tokensCount):!1}slicedEquals(e,t,i){if(this._text!==e._text||this._tokensCount!==e._tokensCount)return!1;let n=t<<1,o=n+(i<<1);for(let s=n;s<o;s++)if(this._tokens[s]!==e._tokens[s])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[(e<<1)+1]}getLanguageId(e){let t=this._tokens[(e<<1)+1],i=tr.getLanguageId(t);return this._languageIdCodec.decodeLanguageId(i)}getStandardTokenType(e){let t=this._tokens[(e<<1)+1];return tr.getTokenType(t)}getForeground(e){let t=this._tokens[(e<<1)+1];return tr.getForeground(t)}getClassName(e){let t=this._tokens[(e<<1)+1];return tr.getClassNameFromMetadata(t)}getInlineStyle(e,t){let i=this._tokens[(e<<1)+1];return tr.getInlineStyleFromMetadata(i,t)}getPresentation(e){let t=this._tokens[(e<<1)+1];return tr.getPresentationFromMetadata(t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return tn.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,i){return new YD(this,e,t,i)}static convertToEndOffset(e,t){let n=(e.length>>>1)-1;for(let o=0;o<n;o++)e[o<<1]=e[o+1<<1];e[n<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let i=0,n=(e.length>>>1)-1;for(;i<n;){let o=i+Math.floor((n-i)/2),s=e[o<<1];if(s===t)return o+1;s<t?i=o+1:s>t&&(n=o)}return i}withInserted(e){if(e.length===0)return this;let t=0,i=0,n="",o=new Array,s=0;for(;;){let a=t<this._tokensCount?this._tokens[t<<1]:-1,l=i<e.length?e[i]:null;if(a!==-1&&(l===null||a<=l.offset)){n+=this._text.substring(s,a);let c=this._tokens[(t<<1)+1];o.push(n.length,c),t++,s=a}else if(l){if(l.offset>s){n+=this._text.substring(s,l.offset);let c=this._tokens[(t<<1)+1];o.push(n.length,c),s=l.offset}n+=l.text,o.push(n.length,l.tokenMetadata),i++}else break}return new tn(new Uint32Array(o),n,this._languageIdCodec)}};tn.defaultTokenMetadata=(0<<10|1<<14|2<<23)>>>0;YD=class{constructor(e,t,i,n){this._source=e,this._startOffset=t,this._endOffset=i,this._deltaOffset=n,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(let o=this._firstTokenIndex,s=e.getCount();o<s&&!(e.getStartOffset(o)>=i);o++)this._tokensCount++}getMetadata(e){return this._source.getMetadata(this._firstTokenIndex+e)}getLanguageId(e){return this._source.getLanguageId(this._firstTokenIndex+e)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){return e instanceof YD?this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){let t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}getPresentation(e){return this._source.getPresentation(this._firstTokenIndex+e)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}});var Vm,XD=ge(()=>{Oo();xt();Vm={clipboard:{writeText:_s||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:_s||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>_s||JC?0:navigator.keyboard||ir?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}});function D0(r,e){if(r===0)return null;let t=(r&65535)>>>0,i=(r&4294901760)>>>16;return i!==0?new zb([fA(t,e),fA(i,e)]):new zb([fA(t,e)])}function fA(r,e){let t=!!(r&2048),i=!!(r&256),n=e===2?i:t,o=!!(r&1024),s=!!(r&512),a=e===2?t:i,l=r&255;return new Hl(n,o,s,a,l)}var Hl,zb,gA,mA,Hm=ge(()=>{ut();Hl=class{constructor(e,t,i,n,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyCode=o}equals(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new zb([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}},zb=class{constructor(e){if(e.length===0)throw is("parts");this.parts=e}},gA=class{constructor(e,t,i,n,o,s){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyLabel=o,this.keyAriaLabel=s}},mA=class{}});function ehe(r){if(r.charCode){let t=String.fromCharCode(r.charCode).toUpperCase();return Mh.fromString(t)}let e=r.keyCode;if(e===3)return 7;if($n){if(e===59)return 80;if(e===107)return 81;if(e===109)return 83;if(Je&&e===224)return 57}else if(Al){if(e===91)return 57;if(Je&&e===93)return 57;if(!Je&&e===92)return 57}return $P[e]||0}var the,ihe,nhe,ohe,$t,os=ge(()=>{Oo();Ha();Hm();xt();the=Je?256:2048,ihe=512,nhe=1024,ohe=Je?2048:256,$t=class{constructor(e){this._standardKeyboardEventBrand=!0;let t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.keyCode=ehe(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=the),this.altKey&&(t|=ihe),this.shiftKey&&(t|=nhe),this.metaKey&&(t|=ohe),t|=e,t}_computeRuntimeKeybinding(){let e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new Hl(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}});function rhe(r){if(!r.parent||r.parent===r)return null;try{let e=r.location,t=r.parent.location;if(e.origin!=="null"&&t.origin!=="null"&&e.origin!==t.origin)return pA=!0,null}catch{return pA=!0,null}return r.parent}var pA,Vb,Hb,_A=ge(()=>{pA=!1,Vb=null;Hb=class{static getSameOriginWindowChain(){if(!Vb){Vb=[];let e=window,t;do t=rhe(e),t?Vb.push({window:e,iframeElement:e.frameElement||null}):Vb.push({window:e,iframeElement:null}),e=t;while(e)}return Vb.slice(0)}static hasDifferentOriginAncestor(){return Vb||this.getSameOriginWindowChain(),pA}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let i=0,n=0,o=this.getSameOriginWindowChain();for(let s of o){if(i+=s.window.scrollY,n+=s.window.scrollX,s.window===t||!s.iframeElement)break;let a=s.iframeElement.getBoundingClientRect();i+=a.top,n+=a.left}return{top:i,left:n}}}});var To,Lc,il=ge(()=>{Oo();_A();xt();To=class{constructor(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=e.button===0,this.middleButton=e.button===1,this.rightButton=e.button===2,this.buttons=e.buttons,this.target=e.target,this.detail=e.detail||1,e.type==="dblclick"&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,typeof e.pageX=="number"?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);let t=Hb.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=t.left,this.posy-=t.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}},Lc=class{constructor(e,t=0,i=0){if(this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t,e){let n=e,o=e;if(typeof n.wheelDeltaY<"u")this.deltaY=n.wheelDeltaY/120;else if(typeof o.VERTICAL_AXIS<"u"&&o.axis===o.VERTICAL_AXIS)this.deltaY=-o.detail/3;else if(e.type==="wheel"){let s=e;s.deltaMode===s.DOM_DELTA_LINE?$n&&!Je?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof n.wheelDeltaX<"u")ir&&Ri?this.deltaX=-(n.wheelDeltaX/120):this.deltaX=n.wheelDeltaX/120;else if(typeof o.HORIZONTAL_AXIS<"u"&&o.axis===o.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){let s=e;s.deltaMode===s.DOM_DELTA_LINE?$n&&!Je?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}});var rt,she,TU,bA,$b,QD,rs=ge(()=>{xt();Oi();(function(r){r.inMemory="inmemory",r.vscode="vscode",r.internal="private",r.walkThrough="walkThrough",r.walkThroughSnippet="walkThroughSnippet",r.http="http",r.https="https",r.file="file",r.mailto="mailto",r.untitled="untitled",r.data="data",r.command="command",r.vscodeRemote="vscode-remote",r.vscodeRemoteResource="vscode-remote-resource",r.userData="vscode-userdata",r.vscodeCustomEditor="vscode-custom-editor",r.vscodeNotebook="vscode-notebook",r.vscodeNotebookCell="vscode-notebook-cell",r.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",r.vscodeNotebookCellOutput="vscode-notebook-cell-output",r.vscodeInteractive="vscode-interactive",r.vscodeInteractiveInput="vscode-interactive-input",r.vscodeSettings="vscode-settings",r.vscodeWorkspaceTrust="vscode-workspace-trust",r.vscodeTerminal="vscode-terminal",r.webviewPanel="webview-panel",r.vscodeWebview="vscode-webview",r.extension="extension",r.vscodeFileResource="vscode-file",r.tmp="tmp",r.vsls="vsls"})(rt||(rt={}));she="tkn",TU=class{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(e){this._preferredWebSchema=e}rewrite(e){if(this._delegate)return this._delegate(e);let t=e.authority,i=this._hosts[t];i&&i.indexOf(":")!==-1&&(i=`[${i}]`);let n=this._ports[t],o=this._connectionTokens[t],s=`path=${encodeURIComponent(e.path)}`;return typeof o=="string"&&(s+=`&${she}=${encodeURIComponent(o)}`),De.from({scheme:pa?this._preferredWebSchema:rt.vscodeRemoteResource,authority:`${i}:${n}`,path:"/vscode-remote-resource",query:s})}},bA=new TU,$b=class{asBrowserUri(e,t){let i=this.toUri(e,t);return i.scheme===rt.vscodeRemote?bA.rewrite(i):i.scheme===rt.file&&(_s||Mj&&Hi.origin===`${rt.vscodeFileResource}://${$b.FALLBACK_AUTHORITY}`)?i.with({scheme:rt.vscodeFileResource,authority:i.authority||$b.FALLBACK_AUTHORITY,query:null,fragment:null}):i}toUri(e,t){return De.isUri(e)?e:De.parse(t.toUrl(e))}};$b.FALLBACK_AUTHORITY="vscode-app";QD=new $b});function nn(r){for(;r.firstChild;)r.firstChild.remove()}function Kb(r){var e;return(e=r?.isConnected)!==null&&e!==void 0?e:!1}function se(r,e,t,i){return new CA(r,e,t,i)}function NU(r){return function(e){return r(new To(e))}}function ahe(r){return function(e){return r(new $t(e))}}function eL(r,e,t){return se(r,Jr&&Vm.pointerEvents?Re.POINTER_DOWN:Re.MOUSE_DOWN,e,t)}function yA(r,e,t){return se(r,Jr&&Vm.pointerEvents?Re.POINTER_UP:Re.MOUSE_UP,e,t)}function qb(r,e){return se(r,"mouseout",t=>{let i=t.relatedTarget;for(;i&&i!==r;)i=i.parentNode;i!==r&&e(t)})}function MU(r,e){return se(r,"pointerout",t=>{let i=t.relatedTarget;for(;i&&i!==r;)i=i.parentNode;i!==r&&e(t)})}function $l(r,e,t){let i=null,n=l=>a.fire(l),o=()=>{i||(i=new CA(r,e,n,t))},s=()=>{i&&(i.dispose(),i=null)},a=new B({onFirstListenerAdd:o,onLastListenerRemove:s});return a}function lhe(r){if(!vA){let e=t=>setTimeout(()=>t(new Date().getTime()),0);vA=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||e}return vA.call(self,r)}function I0(r,e,t,i,n){return new AU(r,e,t,i,n)}function tL(r){return document.defaultView.getComputedStyle(r,null)}function Ff(r){if(r!==document.body)return new ui(r.clientWidth,r.clientHeight);if(Jr&&window.visualViewport)return new ui(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new ui(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new ui(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new ui(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}function iL(r){let e=r.offsetParent,t=r.offsetTop,i=r.offsetLeft;for(;(r=r.parentNode)!==null&&r!==document.body&&r!==document.documentElement;){t-=r.scrollTop;let n=BU(r)?null:tL(r);n&&(i-=n.direction!=="rtl"?r.scrollLeft:-r.scrollLeft),r===e&&(i+=On.getBorderLeftWidth(r),t+=On.getBorderTopWidth(r),t+=r.offsetTop,i+=r.offsetLeft,e=r.offsetParent)}return{left:i,top:t}}function RU(r,e,t){typeof e=="number"&&(r.style.width=`${e}px`),typeof t=="number"&&(r.style.height=`${t}px`)}function ji(r){let e=r.getBoundingClientRect();return{left:e.left+kc.scrollX,top:e.top+kc.scrollY,width:e.width,height:e.height}}function Vs(r){let e=On.getMarginLeft(r)+On.getMarginRight(r);return r.offsetWidth+e}function nL(r){let e=On.getBorderLeftWidth(r)+On.getBorderRightWidth(r),t=On.getPaddingLeft(r)+On.getPaddingRight(r);return r.offsetWidth-e-t}function FU(r){let e=On.getBorderTopWidth(r)+On.getBorderBottomWidth(r),t=On.getPaddingTop(r)+On.getPaddingBottom(r);return r.offsetHeight-e-t}function O0(r){let e=On.getMarginTop(r)+On.getMarginBottom(r);return r.offsetHeight+e}function Kl(r,e){for(;r;){if(r===e)return!0;r=r.parentNode}return!1}function EA(r,e,t){for(;r&&r.nodeType===r.ELEMENT_NODE;){if(r.classList.contains(e))return r;if(t){if(typeof t=="string"){if(r.classList.contains(t))return null}else if(r===t)return null}r=r.parentNode}return null}function xA(r,e,t){return!!EA(r,e,t)}function BU(r){return r&&!!r.host&&!!r.mode}function Vh(r){return!!nl(r)}function nl(r){for(;r.parentNode;){if(r===document.body)return null;r=r.parentNode}return BU(r)?r:null}function Bf(){let r=document.activeElement;for(;r?.shadowRoot;)r=r.shadowRoot.activeElement;return r}function po(r=document.getElementsByTagName("head")[0]){let e=document.createElement("style");return e.type="text/css",e.media="screen",r.appendChild(e),e}function jU(){return wA||(wA=po()),wA}function hhe(r){var e,t;return!((e=r?.sheet)===null||e===void 0)&&e.rules?r.sheet.rules:!((t=r?.sheet)===null||t===void 0)&&t.cssRules?r.sheet.cssRules:[]}function T0(r,e,t=jU()){!t||!e||t.sheet.insertRule(r+"{"+e+"}",0)}function DA(r,e=jU()){if(!e)return;let t=hhe(e),i=[];for(let n=0;n<t.length;n++)t[n].selectorText.indexOf(r)!==-1&&i.push(n);for(let n=i.length-1;n>=0;n--)e.sheet.deleteRule(i[n])}function oL(r){return typeof HTMLElement=="object"?r instanceof HTMLElement:r&&typeof r=="object"&&r.nodeType===1&&typeof r.nodeName=="string"}function WU(r){let e=[];for(let t=0;r&&r.nodeType===r.ELEMENT_NODE;t++)e[t]=r.scrollTop,r=r.parentNode;return e}function UU(r,e){for(let t=0;r&&r.nodeType===r.ELEMENT_NODE;t++)r.scrollTop!==e[t]&&(r.scrollTop=e[t]),r=r.parentNode}function Ic(r){return new L0(r)}function ee(r,...e){if(r.append(...e),e.length===1&&typeof e[0]!="string")return e[0]}function zU(r,e){return r.insertBefore(e,r.firstChild),e}function ql(r,...e){r.innerText="",ee(r,...e)}function VU(r,e,t,...i){let n=uhe.exec(e);if(!n)throw new Error("Bad use of emmet");t=Object.assign({},t||{});let o=n[1]||"div",s;return r!==k0.HTML?s=document.createElementNS(r,o):s=document.createElement(o),n[3]&&(s.id=n[3]),n[4]&&(s.className=n[4].replace(/\./g," ").trim()),Object.keys(t).forEach(a=>{let l=t[a];typeof l>"u"||(/^on\w+$/.test(a)?s[a]=l:a==="selected"?l&&s.setAttribute(a,"true"):s.setAttribute(a,l))}),s.append(...i),s}function le(r,e,...t){return VU(k0.HTML,r,e,...t)}function Ho(...r){for(let e of r)e.style.display="",e.removeAttribute("aria-hidden")}function No(...r){for(let e of r)e.style.display="none",e.setAttribute("aria-hidden","true")}function HU(r){return Array.prototype.slice.call(document.getElementsByTagName(r),0)}function LA(r){let e=window.devicePixelRatio*r;return Math.max(1,Math.floor(e))/window.devicePixelRatio}function rL(r){window.open(r,"_blank","noopener")}function $U(r){let e=()=>{r(),t=Es(e)},t=Es(e);return Ve(()=>t.dispose())}function Ld(r){return r?`url('${QD.asBrowserUri(r).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function kA(r){return`'${r.replace(/'/g,"%27")}'`}function KU(r,e){window.matchMedia(r).addEventListener("change",e)}var CA,Bi,PU,vA,SA,Es,JD,che,dhe,AU,On,ui,kc,wA,Re,Kt,L0,uhe,k0,Dd,Be=ge(()=>{Oo();XD();os();il();nt();ut();Ee();re();rs();xt();CA=class{constructor(e,t,i,n){this._node=e,this._type=t,this._handler=i,this._options=n||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}};Bi=function(e,t,i,n){let o=i;return t==="click"||t==="mousedown"?o=NU(i):(t==="keydown"||t==="keypress"||t==="keyup")&&(o=ahe(i)),se(e,t,o,n)},PU=function(e,t,i){let n=NU(t);return eL(e,n,i)};vA=null;JD=class{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){Ie(e)}}static sort(e,t){return t.priority-e.priority}};(function(){let r=[],e=null,t=!1,i=!1,n=()=>{for(t=!1,e=r,r=[],i=!0;e.length>0;)e.sort(JD.sort),e.shift().execute();i=!1};Es=(o,s=0)=>{let a=new JD(o,s);return r.push(a),t||(t=!0,lhe(n)),a},SA=(o,s)=>{if(i){let a=new JD(o,s);return e.push(a),a}else return Es(o,s)}})();che=8,dhe=function(r,e){return e},AU=class extends ${constructor(e,t,i,n=dhe,o=che){super();let s=null,a=0,l=this._register(new mn),c=()=>{a=new Date().getTime(),i(s),s=null};this._register(se(e,t,d=>{s=n(s,d);let h=new Date().getTime()-a;h>=o?(l.cancel(),c()):l.setIfNotSet(c,o-h)}))}};On=class{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,i){let n=tL(e),o="0";return n&&(n.getPropertyValue?o=n.getPropertyValue(t):o=n.getAttribute(i)),On.convertToPixels(e,o)}static getBorderLeftWidth(e){return On.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return On.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return On.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return On.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return On.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return On.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return On.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return On.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return On.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return On.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return On.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return On.getDimension(e,"margin-bottom","marginBottom")}},ui=class{constructor(e,t){this.width=e,this.height=t}with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new ui(e,t):this}static is(e){return typeof e=="object"&&typeof e.height=="number"&&typeof e.width=="number"}static lift(e){return e instanceof ui?e:new ui(e.width,e.height)}static equals(e,t){return e===t?!0:!e||!t?!1:e.width===t.width&&e.height===t.height}};ui.None=new ui(0,0);kc=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};wA=null;Re={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:Al?"webkitAnimationStart":"animationstart",ANIMATION_END:Al?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:Al?"webkitAnimationIteration":"animationiteration"},Kt={stop:function(r,e){r.preventDefault?r.preventDefault():r.returnValue=!1,e&&(r.stopPropagation?r.stopPropagation():r.cancelBubble=!0)}};L0=class extends ${constructor(e){super();this._onDidFocus=this._register(new B),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new B),this.onDidBlur=this._onDidBlur.event;let t=L0.hasFocusWithin(e),i=!1,n=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},o=()=>{t&&(i=!0,window.setTimeout(()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{L0.hasFocusWithin(e)!==t&&(t?o():n())},this._register(se(e,Re.FOCUS,n,!0)),this._register(se(e,Re.BLUR,o,!0)),this._register(se(e,Re.FOCUS_IN,()=>this._refreshStateHandler())),this._register(se(e,Re.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(e){let t=nl(e),i=t?t.activeElement:document.activeElement;return Kl(i,e)}};uhe=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;(function(r){r.HTML="http://www.w3.org/1999/xhtml",r.SVG="http://www.w3.org/2000/svg"})(k0||(k0={}));le.SVG=function(r,e,...t){return VU(k0.SVG,r,e,...t)};bA.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");Dd=class extends B{constructor(){super();this._subscriptions=new J,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(se(window,"keydown",e=>{if(e.defaultPrevented)return;let t=new $t(e);if(!(t.keyCode===6&&e.repeat)){if(e.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(e.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(e.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(e.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(t.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=e,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(se(window,"keyup",e=>{e.defaultPrevented||(!e.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!e.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!e.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!e.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=e,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(se(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(se(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(se(document.body,"mousemove",e=>{e.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(se(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Dd.instance||(Dd.instance=new Dd),Dd.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}});var qU=ge(()=>{});function ZU(r){$m=document.createElement("div"),$m.className="monaco-aria-container";let e=()=>{let i=document.createElement("div");return i.className="monaco-alert",i.setAttribute("role","alert"),i.setAttribute("aria-atomic","true"),$m.appendChild(i),i};sL=e(),IA=e();let t=()=>{let i=document.createElement("div");return i.className="monaco-status",i.setAttribute("role","complementary"),i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),$m.appendChild(i),i};aL=t(),OA=t(),r.appendChild($m)}function Sn(r){!$m||(sL.textContent!==r?(nn(IA),lL(sL,r)):(nn(sL),lL(IA,r)))}function Km(r){!$m||(Je?Sn(r):aL.textContent!==r?(nn(OA),lL(aL,r)):(nn(aL),lL(OA,r)))}function lL(r,e){nn(r),e.length>YU&&(e=e.substr(0,YU)),r.textContent=e,r.style.visibility="hidden",r.style.visibility="visible"}var YU,$m,sL,IA,aL,OA,xs=ge(()=>{Be();xt();qU();YU=2e4});var Tn,xa=ge(()=>{Ye();Tn=Fe("textModelService")});var cL,Kn,Yl,$o,Hh,Zb,ss=ge(()=>{Ee();re();ke();cL=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},Kn=class extends ${constructor(e,t="",i="",n=!0,o){super();this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=e,this._label=t,this._cssClass=i,this._enabled=n,this._actionCallback=o}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}run(e,t){return cL(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(e))})}},Yl=class extends ${constructor(){super(...arguments);this._onBeforeRun=this._register(new B),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new B),this.onDidRun=this._onDidRun.event}run(e,t){return cL(this,void 0,void 0,function*(){if(!e.enabled)return;this._onBeforeRun.fire({action:e});let i;try{yield this.runAction(e,t)}catch(n){i=n}this._onDidRun.fire({action:e,error:i})})}runAction(e,t){return cL(this,void 0,void 0,function*(){yield e.run(t)})}},$o=class extends Kn{constructor(e){super($o.ID,e,e?"separator text":"separator");this.checked=!1,this.enabled=!1}};$o.ID="vs.actions.separator";Hh=class{constructor(e,t,i,n){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=e,this.label=t,this.class=n,this._actions=i}get actions(){return this._actions}dispose(){}run(){return cL(this,void 0,void 0,function*(){})}},Zb=class extends Kn{constructor(){super(Zb.ID,g("submenu.empty","(empty)"),void 0,!1)}};Zb.ID="vs.actions.empty"});var pi,ht,on=ge(()=>{Ee();Va();re();Ph();ai();Ye();pi=Fe("commandService"),ht=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new B,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(r,e){if(!r)throw new Error("invalid command");if(typeof r=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:r,handler:e})}if(r.description){let s=[];for(let l of r.description.args)s.push(l.constraint);let a=r.handler;r.handler=function(l,...c){return Kj(c,s),a(l,...c)}}let{id:t}=r,i=this._commands.get(t);i||(i=new fo,this._commands.set(t,i));let n=i.unshift(r),o=Ve(()=>{n();let s=this._commands.get(t);s?.isEmpty()&&this._commands.delete(t)});return this._onDidRegisterCommand.fire(t),o}registerCommandAlias(r,e){return ht.registerCommand(r,(t,...i)=>t.get(pi).executeCommand(e,...i))}getCommand(r){let e=this._commands.get(r);if(!(!e||e.isEmpty()))return Ot.first(e)}getCommands(){let r=new Map;for(let e of this._commands.keys()){let t=this.getCommand(e);t&&r.set(e,t)}return r}};ht.registerCommand("noop",()=>{})});function GU(r,e){let t=r?r.substituteConstants():void 0,i=e?e.substituteConstants():void 0;return!t&&!i?!0:!t||!i?!1:t.equals(i)}function Gb(r,e){return r.cmp(e)}function fL(r,e){if(typeof r=="string"){let t=parseFloat(r);isNaN(t)||(r=t)}return typeof r=="string"||typeof r=="number"?e(r):Hs.INSTANCE}function XU(r){let e=null;for(let t=0,i=r.length;t<i;t++){let n=r[t].substituteConstants();if(r[t]!==n&&e===null){e=[];for(let o=0;o<t;o++)e[o]=r[o]}e!==null&&(e[t]=n)}return e===null?r:e}function JU(r,e){return r<e?-1:r>e?1:0}function Ym(r,e,t,i){return r<t?-1:r>t?1:e<i?-1:e>i?1:0}function NA(r,e){if(e.type===6&&r.type!==9&&r.type!==6){for(let n of e.expr)if(r.equals(n))return!0}let t=r.negate(),i=dL(t).concat(dL(e));i.sort(Gb);for(let n=0;n<i.length;n++){let s=i[n].negate();for(let a=n+1;a<i.length;a++){let l=i[a];if(s.equals(l))return!0}}return!1}function dL(r){return r.type===9?r.expr:[r]}var vr,fhe,Ce,Hs,Da,Kh,qm,hL,uL,P0,jf,M0,A0,R0,F0,N0,gL,$h,kd,Se,Le,QU,Et=ge(()=>{xt();He();Ye();vr=new Map;vr.set("false",!1);vr.set("true",!0);vr.set("isMac",Je);vr.set("isLinux",Fi);vr.set("isWindows",Ri);vr.set("isWeb",pa);vr.set("isMacNative",Je&&!pa);vr.set("isEdge",Bj);vr.set("isFirefox",Rj);vr.set("isChrome",OP);vr.set("isSafari",Fj);fhe=Object.prototype.hasOwnProperty,Ce=class{static has(e){return Kh.create(e)}static equals(e,t){return qm.create(e,t)}static regex(e,t){return N0.create(e,t)}static not(e){return jf.create(e)}static and(...e){return $h.create(e,null)}static or(...e){return kd.create(e,null,!0)}static deserialize(e,t=!1){if(!!e)return this._deserializeOrExpression(e,t)}static _deserializeOrExpression(e,t){let i=e.split("||");return kd.create(i.map(n=>this._deserializeAndExpression(n,t)),null,!0)}static _deserializeAndExpression(e,t){let i=e.split("&&");return $h.create(i.map(n=>this._deserializeOne(n,t)),null)}static _deserializeOne(e,t){if(e=e.trim(),e.indexOf("!=")>=0){let i=e.split("!=");return P0.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("==")>=0){let i=e.split("==");return qm.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("=~")>=0){let i=e.split("=~");return N0.create(i[0].trim(),this._deserializeRegexValue(i[1],t))}if(e.indexOf(" in ")>=0){let i=e.split(" in ");return hL.create(i[0].trim(),i[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(e)){let i=e.split(">=");return A0.create(i[0].trim(),i[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(e)){let i=e.split(">");return M0.create(i[0].trim(),i[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(e)){let i=e.split("<=");return F0.create(i[0].trim(),i[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(e)){let i=e.split("<");return R0.create(i[0].trim(),i[1].trim())}return/^\!\s*/.test(e)?jf.create(e.substr(1).trim()):Kh.create(e)}static _deserializeValue(e,t){if(e=e.trim(),e==="true")return!0;if(e==="false")return!1;let i=/^'([^']*)'$/.exec(e);return i?i[1].trim():e}static _deserializeRegexValue(e,t){if(bD(e)){if(t)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let i=e.indexOf("/"),n=e.lastIndexOf("/");if(i===n||i<0){if(t)throw new Error(`bad regexp-value '${e}', missing /-enclosure`);return console.warn(`bad regexp-value '${e}', missing /-enclosure`),null}let o=e.slice(i+1,n),s=e[n+1]==="i"?"i":"";try{return new RegExp(o,s)}catch(a){if(t)throw new Error(`bad regexp-value '${e}', parse error: ${a}`);return console.warn(`bad regexp-value '${e}', parse error: ${a}`),null}}};Hs=class{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return Da.INSTANCE}};Hs.INSTANCE=new Hs;Da=class{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return Hs.INSTANCE}};Da.INSTANCE=new Da;Kh=class{constructor(e,t){this.key=e,this.negated=t,this.type=2}static create(e,t=null){let i=vr.get(e);return typeof i=="boolean"?i?Da.INSTANCE:Hs.INSTANCE:new Kh(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:JU(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=vr.get(this.key);return typeof e=="boolean"?e?Da.INSTANCE:Hs.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=jf.create(this.key,this)),this.negated}},qm=class{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=4}static create(e,t,i=null){if(typeof t=="boolean")return t?Kh.create(e,i):jf.create(e,i);let n=vr.get(e);return typeof n=="boolean"?t===(n?"true":"false")?Da.INSTANCE:Hs.INSTANCE:new qm(e,t,i)}cmp(e){return e.type!==this.type?this.type-e.type:Ym(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=vr.get(this.key);if(typeof e=="boolean"){let t=e?"true":"false";return this.value===t?Da.INSTANCE:Hs.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=P0.create(this.key,this.value,this)),this.negated}},hL=class{constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}static create(e,t){return new hL(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:Ym(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.indexOf(i)>=0:typeof i=="string"&&typeof t=="object"&&t!==null?fhe.call(t,i):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=uL.create(this)),this.negated}},uL=class{constructor(e){this._actual=e,this.type=11}static create(e){return new uL(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}},P0=class{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=5}static create(e,t,i=null){if(typeof t=="boolean")return t?jf.create(e,i):Kh.create(e,i);let n=vr.get(e);return typeof n=="boolean"?t===(n?"true":"false")?Hs.INSTANCE:Da.INSTANCE:new P0(e,t,i)}cmp(e){return e.type!==this.type?this.type-e.type:Ym(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=vr.get(this.key);if(typeof e=="boolean"){let t=e?"true":"false";return this.value===t?Hs.INSTANCE:Da.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=qm.create(this.key,this.value,this)),this.negated}},jf=class{constructor(e,t){this.key=e,this.negated=t,this.type=3}static create(e,t=null){let i=vr.get(e);return typeof i=="boolean"?i?Hs.INSTANCE:Da.INSTANCE:new jf(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:JU(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=vr.get(this.key);return typeof e=="boolean"?e?Hs.INSTANCE:Da.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Kh.create(this.key,this)),this.negated}};M0=class{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=12}static create(e,t,i=null){return fL(t,n=>new M0(e,n,i))}cmp(e){return e.type!==this.type?this.type-e.type:Ym(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=F0.create(this.key,this.value,this)),this.negated}},A0=class{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=13}static create(e,t,i=null){return fL(t,n=>new A0(e,n,i))}cmp(e){return e.type!==this.type?this.type-e.type:Ym(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=R0.create(this.key,this.value,this)),this.negated}},R0=class{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=14}static create(e,t,i=null){return fL(t,n=>new R0(e,n,i))}cmp(e){return e.type!==this.type?this.type-e.type:Ym(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=A0.create(this.key,this.value,this)),this.negated}},F0=class{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=15}static create(e,t,i=null){return fL(t,n=>new F0(e,n,i))}cmp(e){return e.type!==this.type?this.type-e.type:Ym(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=M0.create(this.key,this.value,this)),this.negated}},N0=class{constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}static create(e,t){return new N0(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;let t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){let t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1}serialize(){let e=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=gL.create(this)),this.negated}},gL=class{constructor(e){this._actual=e,this.type=8}static create(e){return new gL(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}};$h=class{constructor(e,t){this.expr=e,this.negated=t,this.type=6}static create(e,t){return $h._normalizeArr(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){let n=Gb(this.expr[t],e.expr[t]);if(n!==0)return n}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=XU(this.expr);return e===this.expr?this:$h.create(e,this.negated)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t){let i=[],n=!1;for(let o of e)if(!!o){if(o.type===1){n=!0;continue}if(o.type===0)return Hs.INSTANCE;if(o.type===6){i.push(...o.expr);continue}i.push(o)}if(i.length===0&&n)return Da.INSTANCE;if(i.length!==0){if(i.length===1)return i[0];i.sort(Gb);for(let o=1;o<i.length;o++)i[o-1].equals(i[o])&&(i.splice(o,1),o--);if(i.length===1)return i[0];for(;i.length>1;){let o=i[i.length-1];if(o.type!==9)break;i.pop();let s=i.pop(),a=i.length===0,l=kd.create(o.expr.map(c=>$h.create([c,s],null)),null,a);l&&(i.push(l),i.sort(Gb))}return i.length===1?i[0]:new $h(i,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());this.negated=kd.create(e,this,!0)}return this.negated}},kd=class{constructor(e,t){this.expr=e,this.negated=t,this.type=9}static create(e,t,i){return kd._normalizeArr(e,t,i)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){let n=Gb(this.expr[t],e.expr[t]);if(n!==0)return n}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=XU(this.expr);return e===this.expr?this:kd.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,i){let n=[],o=!1;if(e){for(let s=0,a=e.length;s<a;s++){let l=e[s];if(!!l){if(l.type===0){o=!0;continue}if(l.type===1)return Da.INSTANCE;if(l.type===9){n=n.concat(l.expr);continue}n.push(l)}}if(n.length===0&&o)return Hs.INSTANCE;n.sort(Gb)}if(n.length!==0){if(n.length===1)return n[0];for(let s=1;s<n.length;s++)n[s-1].equals(n[s])&&(n.splice(s,1),s--);if(n.length===1)return n[0];if(i){for(let s=0;s<n.length;s++)for(let a=s+1;a<n.length;a++)NA(n[s],n[a])&&(n.splice(a,1),a--);if(n.length===1)return n[0]}return new kd(n,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());for(;e.length>1;){let t=e.shift(),i=e.shift(),n=[];for(let s of dL(t))for(let a of dL(i))n.push($h.create([s,a],null));let o=e.length===0;e.unshift(kd.create(n,null,o))}this.negated=e[0]}return this.negated}},Se=class extends Kh{constructor(e,t,i){super(e,null);this._defaultValue=t,typeof i=="object"?Se._info.push(Object.assign(Object.assign({},i),{key:e})):i!==!0&&Se._info.push({key:e,description:i,type:t!=null?typeof t:void 0})}static all(){return Se._info.values()}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return qm.create(this.key,e)}};Se._info=[];Le=Fe("contextKeyService"),QU="setContext"});var ez,Ti,as=ge(()=>{lM();ai();ez=class{constructor(){this.data=new Map}add(e,t){yb(Nr(e)),yb(Qn(t)),yb(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}},Ti=new ez});var $s,B0=ge(()=>{(function(r){r.DARK="dark",r.LIGHT="light",r.HIGH_CONTRAST="hc"})($s||($s={}))});function rn(r){return{id:r}}function Zm(r){switch(r){case $s.DARK:return"vs-dark";case $s.HIGH_CONTRAST:return"hc-black";default:return"vs"}}function yt(r){return iz.onColorThemeChange(r)}var Ft,PA,Qt,MA,tz,iz,AA,pt=ge(()=>{ln();Ee();re();Ye();as();B0();Ft=Fe("themeService");(function(r){function e(t){return t&&typeof t=="object"&&typeof t.id=="string"}r.isThemeColor=e})(PA||(PA={}));(function(r){function e(c){return c&&typeof c=="object"&&typeof c.id=="string"&&(typeof c.color>"u"||PA.isThemeColor(c.color))}r.isThemeIcon=e;let t=new RegExp(`^\\$\\((${to.iconNameExpression}(?:${to.iconModifierExpression})?)\\)$`);function i(c){let d=t.exec(c);if(!d)return;let[,h]=d;return{id:h}}r.fromString=i;function n(c){return{id:c}}r.fromId=n;function o(c,d){let h=c.id,u=h.lastIndexOf("~");return u!==-1&&(h=h.substring(0,u)),d&&(h=`${h}~${d}`),{id:h}}r.modify=o;function s(c){let d=c.id.lastIndexOf("~");if(d!==-1)return c.id.substring(d+1)}r.getModifier=s;function a(c,d){var h,u;return c.id===d.id&&((h=c.color)===null||h===void 0?void 0:h.id)===((u=d.color)===null||u===void 0?void 0:u.id)}r.isEqual=a;function l(c,d){return{id:c.id,color:d?rn(d):void 0}}r.asThemeIcon=l,r.asClassNameArray=to.asClassNameArray,r.asClassName=to.asClassName,r.asCSSSelector=to.asCSSSelector})(Qt||(Qt={}));MA={ThemingContribution:"base.contributions.theming"},tz=class{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new B}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),Ve(()=>{let t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}getThemingParticipants(){return this.themingParticipants}},iz=new tz;Ti.add(MA.ThemingContribution,iz);AA=class extends ${constructor(e){super();this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(t=>this.onThemeChange(t)))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}});function Wf(r){return r.command!==void 0}var ghe,nz,H,La,Po,Gm,Zl,Mo=ge(()=>{ss();ln();Ee();Va();re();Ph();on();Et();Ye();pt();ghe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},nz=function(r,e){return function(t,i){e(t,i,r)}};H=class{constructor(e){this.id=H._idPool++,this._debugName=e}};H._idPool=0;H.CommandPalette=new H("CommandPalette");H.DebugBreakpointsContext=new H("DebugBreakpointsContext");H.DebugCallStackContext=new H("DebugCallStackContext");H.DebugConsoleContext=new H("DebugConsoleContext");H.DebugVariablesContext=new H("DebugVariablesContext");H.DebugWatchContext=new H("DebugWatchContext");H.DebugToolBar=new H("DebugToolBar");H.EditorContext=new H("EditorContext");H.SimpleEditorContext=new H("SimpleEditorContext");H.EditorContextCopy=new H("EditorContextCopy");H.EditorContextPeek=new H("EditorContextPeek");H.EditorTitle=new H("EditorTitle");H.EditorTitleRun=new H("EditorTitleRun");H.EditorTitleContext=new H("EditorTitleContext");H.EmptyEditorGroup=new H("EmptyEditorGroup");H.EmptyEditorGroupContext=new H("EmptyEditorGroupContext");H.ExplorerContext=new H("ExplorerContext");H.ExtensionContext=new H("ExtensionContext");H.GlobalActivity=new H("GlobalActivity");H.LayoutControlMenuSubmenu=new H("LayoutControlMenuSubmenu");H.LayoutControlMenu=new H("LayoutControlMenu");H.MenubarMainMenu=new H("MenubarMainMenu");H.MenubarAppearanceMenu=new H("MenubarAppearanceMenu");H.MenubarDebugMenu=new H("MenubarDebugMenu");H.MenubarEditMenu=new H("MenubarEditMenu");H.MenubarCopy=new H("MenubarCopy");H.MenubarFileMenu=new H("MenubarFileMenu");H.MenubarGoMenu=new H("MenubarGoMenu");H.MenubarHelpMenu=new H("MenubarHelpMenu");H.MenubarLayoutMenu=new H("MenubarLayoutMenu");H.MenubarNewBreakpointMenu=new H("MenubarNewBreakpointMenu");H.MenubarPanelAlignmentMenu=new H("MenubarPanelAlignmentMenu");H.MenubarPanelPositionMenu=new H("MenubarPanelPositionMenu");H.MenubarPreferencesMenu=new H("MenubarPreferencesMenu");H.MenubarRecentMenu=new H("MenubarRecentMenu");H.MenubarSelectionMenu=new H("MenubarSelectionMenu");H.MenubarSwitchEditorMenu=new H("MenubarSwitchEditorMenu");H.MenubarSwitchGroupMenu=new H("MenubarSwitchGroupMenu");H.MenubarTerminalMenu=new H("MenubarTerminalMenu");H.MenubarViewMenu=new H("MenubarViewMenu");H.MenubarHomeMenu=new H("MenubarHomeMenu");H.OpenEditorsContext=new H("OpenEditorsContext");H.ProblemsPanelContext=new H("ProblemsPanelContext");H.SCMChangeContext=new H("SCMChangeContext");H.SCMResourceContext=new H("SCMResourceContext");H.SCMResourceFolderContext=new H("SCMResourceFolderContext");H.SCMResourceGroupContext=new H("SCMResourceGroupContext");H.SCMSourceControl=new H("SCMSourceControl");H.SCMTitle=new H("SCMTitle");H.SearchContext=new H("SearchContext");H.StatusBarWindowIndicatorMenu=new H("StatusBarWindowIndicatorMenu");H.StatusBarRemoteIndicatorMenu=new H("StatusBarRemoteIndicatorMenu");H.TestItem=new H("TestItem");H.TestItemGutter=new H("TestItemGutter");H.TestPeekElement=new H("TestPeekElement");H.TestPeekTitle=new H("TestPeekTitle");H.TouchBarContext=new H("TouchBarContext");H.TitleBarContext=new H("TitleBarContext");H.TunnelContext=new H("TunnelContext");H.TunnelPrivacy=new H("TunnelPrivacy");H.TunnelProtocol=new H("TunnelProtocol");H.TunnelPortInline=new H("TunnelInline");H.TunnelTitle=new H("TunnelTitle");H.TunnelLocalAddressInline=new H("TunnelLocalAddressInline");H.TunnelOriginInline=new H("TunnelOriginInline");H.ViewItemContext=new H("ViewItemContext");H.ViewContainerTitle=new H("ViewContainerTitle");H.ViewContainerTitleContext=new H("ViewContainerTitleContext");H.ViewTitle=new H("ViewTitle");H.ViewTitleContext=new H("ViewTitleContext");H.CommentThreadTitle=new H("CommentThreadTitle");H.CommentThreadActions=new H("CommentThreadActions");H.CommentTitle=new H("CommentTitle");H.CommentActions=new H("CommentActions");H.InteractiveToolbar=new H("InteractiveToolbar");H.InteractiveCellTitle=new H("InteractiveCellTitle");H.InteractiveCellExecute=new H("InteractiveCellExecute");H.InteractiveInputExecute=new H("InteractiveInputExecute");H.NotebookToolbar=new H("NotebookToolbar");H.NotebookCellTitle=new H("NotebookCellTitle");H.NotebookCellInsert=new H("NotebookCellInsert");H.NotebookCellBetween=new H("NotebookCellBetween");H.NotebookCellListTop=new H("NotebookCellTop");H.NotebookCellExecute=new H("NotebookCellExecute");H.NotebookCellExecutePrimary=new H("NotebookCellExecutePrimary");H.NotebookDiffCellInputTitle=new H("NotebookDiffCellInputTitle");H.NotebookDiffCellMetadataTitle=new H("NotebookDiffCellMetadataTitle");H.NotebookDiffCellOutputsTitle=new H("NotebookDiffCellOutputsTitle");H.NotebookOutputToolbar=new H("NotebookOutputToolbar");H.NotebookEditorLayoutConfigure=new H("NotebookEditorLayoutConfigure");H.BulkEditTitle=new H("BulkEditTitle");H.BulkEditContext=new H("BulkEditContext");H.TimelineItemContext=new H("TimelineItemContext");H.TimelineTitle=new H("TimelineTitle");H.TimelineTitleContext=new H("TimelineTitleContext");H.AccountsContext=new H("AccountsContext");H.PanelTitle=new H("PanelTitle");H.AuxiliaryBarTitle=new H("AuxiliaryBarTitle");H.TerminalInstanceContext=new H("TerminalInstanceContext");H.TerminalEditorInstanceContext=new H("TerminalEditorInstanceContext");H.TerminalNewDropdownContext=new H("TerminalNewDropdownContext");H.TerminalTabContext=new H("TerminalTabContext");H.TerminalTabEmptyAreaContext=new H("TerminalTabEmptyAreaContext");H.TerminalInlineTabContext=new H("TerminalInlineTabContext");H.WebviewContext=new H("WebviewContext");H.InlineCompletionsActions=new H("InlineCompletionsActions");H.NewFile=new H("NewFile");La=Fe("menuService"),Po=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new B,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:r=>r===H.CommandPalette}}addCommand(r){return this.addCommands(Ot.single(r))}addCommands(r){for(let e of r)this._commands.set(e.id,e);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),Ve(()=>{let e=!1;for(let t of r)e=this._commands.delete(t.id)||e;e&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(r){return this._commands.get(r)}getCommands(){let r=new Map;return this._commands.forEach((e,t)=>r.set(t,e)),r}appendMenuItem(r,e){return this.appendMenuItems(Ot.single({id:r,item:e}))}appendMenuItems(r){let e=new Set,t=new fo;for(let{id:i,item:n}of r){let o=this._menuItems.get(i);o||(o=new fo,this._menuItems.set(i,o)),t.push(o.push(n)),e.add(i)}return this._onDidChangeMenu.fire(e),Ve(()=>{if(t.size>0){for(let i of t)i();this._onDidChangeMenu.fire(e),t.clear()}})}getMenuItems(r){let e;return this._menuItems.has(r)?e=[...this._menuItems.get(r)]:e=[],r===H.CommandPalette&&this._appendImplicitItems(e),e}_appendImplicitItems(r){let e=new Set;for(let t of r)Wf(t)&&(e.add(t.command.id),t.alt&&e.add(t.alt.id));this._commands.forEach((t,i)=>{e.has(i)||r.push({command:t})})}},Gm=class extends Hh{constructor(e,t,i,n){super(`submenuitem.${e.submenu.id}`,typeof e.title=="string"?e.title:e.title.value,[],"submenu");this.item=e,this._menuService=t,this._contextKeyService=i,this._options=n}get actions(){let e=[],t=this._menuService.createMenu(this.item.submenu,this._contextKeyService),i=t.getActions(this._options);t.dispose();for(let[,n]of i)n.length>0&&(e.push(...n),e.push(new $o));return e.length&&e.pop(),e}},Zl=class oz{constructor(e,t,i,n,o){var s,a;if(this._commandService=o,this.id=e.id,this.label=i?.renderShortTitle&&e.shortTitle?typeof e.shortTitle=="string"?e.shortTitle:e.shortTitle.value:typeof e.title=="string"?e.title:e.title.value,this.tooltip=(a=typeof e.tooltip=="string"?e.tooltip:(s=e.tooltip)===null||s===void 0?void 0:s.value)!==null&&a!==void 0?a:"",this.enabled=!e.precondition||n.contextMatchesRules(e.precondition),this.checked=void 0,e.toggled){let l=e.toggled.condition?e.toggled:{condition:e.toggled};this.checked=n.contextMatchesRules(l.condition),this.checked&&l.tooltip&&(this.tooltip=typeof l.tooltip=="string"?l.tooltip:l.tooltip.value),l.title&&(this.label=typeof l.title=="string"?l.title:l.title.value)}this.item=e,this.alt=t?new oz(t,void 0,i,n,o):void 0,this._options=i,Qt.isThemeIcon(e.icon)&&(this.class=to.asClassName(e.icon))}dispose(){}run(...e){var t,i;let n=[];return!((t=this._options)===null||t===void 0)&&t.arg&&(n=[...n,this._options.arg]),!((i=this._options)===null||i===void 0)&&i.shouldForwardArgs&&(n=[...n,...e]),this._commandService.executeCommand(this.id,...n)}};Zl=ghe([nz(3,Le),nz(4,pi)],Zl)});function phe(r,e){return r.weight1!==e.weight1?r.weight1-e.weight1:r.command<e.command?-1:r.command>e.command?1:r.weight2-e.weight2}var j0,qn,mhe,qh=ge(()=>{Hm();xt();on();as();j0=class{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(ur===1){if(e&&e.win)return e.win}else if(ur===2){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){let t=j0.bindToCurrentPlatform(e);if(t&&t.primary){let i=D0(t.primary,ur);i&&this._registerDefaultKeybinding(i,e.id,e.args,e.weight,0,e.when)}if(t&&Array.isArray(t.secondary))for(let i=0,n=t.secondary.length;i<n;i++){let o=t.secondary[i],s=D0(o,ur);s&&this._registerDefaultKeybinding(s,e.id,e.args,e.weight,-i-1,e.when)}}registerCommandAndKeybindingRule(e){this.registerKeybindingRule(e),ht.registerCommand(e)}static _mightProduceChar(e){return e>=21&&e<=30||e>=31&&e<=56?!0:e===80||e===81||e===82||e===83||e===84||e===85||e===86||e===110||e===111||e===87||e===88||e===89||e===90||e===91||e===92}_assertNoCtrlAlt(e,t){e.ctrlKey&&e.altKey&&!e.metaKey&&j0._mightProduceChar(e.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t)}_registerDefaultKeybinding(e,t,i,n,o,s){ur===1&&this._assertNoCtrlAlt(e.parts[0],t),this._coreKeybindings.push({keybinding:e.parts,command:t,commandArgs:i,when:s,weight1:n,weight2:o,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(phe)),this._cachedMergedKeybindings.slice(0)}},qn=new j0,mhe={EditorModes:"platform.keybindingsRegistry"};Ti.add(mhe.EditorModes,qn)});var ka,Xm=ge(()=>{Ye();ka=Fe("telemetryService")});function Ks(r,e){ht.registerCommand(r,function(t,...i){let n=t.get(ze),[o,s]=i;Yt(De.isUri(o)),Yt(V.isIPosition(s));let a=t.get(ii).getModel(o);if(a){let l=V.lift(s);return n.invokeFunction(e,a,l,...i.slice(2))}return t.get(Tn).createModelReference(o).then(l=>new Promise((c,d)=>{try{let h=n.invokeFunction(e,l.object.textEditorModel,V.lift(s),i.slice(2));c(h)}catch(h){d(h)}}).finally(()=>{l.dispose()}))})}function me(r){return Ia.INSTANCE.registerEditorCommand(r),r}function de(r){let e=new r;return Ia.INSTANCE.registerEditorAction(e),e}function FA(r){return Ia.INSTANCE.registerEditorAction(r),r}function _L(r){Ia.INSTANCE.registerEditorAction(r)}function st(r,e){Ia.INSTANCE.registerEditorContribution(r,e)}function W0(r){return r.register(),r}var Xb,Uf,RA,Yi,we,pL,Id,_he,Ia,BA,jA,rz,kt=ge(()=>{ke();Oi();io();lt();ns();xa();Mo();on();Et();Ye();qh();as();Xm();ai();Vl();Xb=class{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this._description=e.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){let e=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(let t of e){let i=t.kbExpr;this.precondition&&(i?i=Ce.and(i,this.precondition):i=this.precondition);let n={id:this.id,weight:t.weight,args:t.args,when:i,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};qn.registerKeybindingRule(n)}}ht.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),description:this._description})}_registerMenuItem(e){Po.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}},Uf=class extends Xb{constructor(){super(...arguments);this._implementations=[]}addImplementation(e,t,i){return this._implementations.push({priority:e,name:t,implementation:i}),this._implementations.sort((n,o)=>o.priority-n.priority),{dispose:()=>{for(let n=0;n<this._implementations.length;n++)if(this._implementations[n].implementation===i){this._implementations.splice(n,1);return}}}}runCommand(e,t){let i=e.get(go);i.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(let n of this._implementations){let o=n.implementation(e,t);if(o)return i.trace(`Command '${this.id}' was handled by '${n.name}'.`),typeof o=="boolean"?void 0:o}i.trace(`The Command '${this.id}' was not handled by any implementation.`)}},RA=class extends Xb{constructor(e,t){super(t);this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}},Yi=class extends Xb{static bindToContribution(e){return class extends Yi{constructor(i){super(i);this._callback=i.handler}runEditorCommand(i,n,o){let s=e(n);s&&this._callback(s,o)}}}runCommand(e,t){let i=e.get(Tt),n=i.getFocusedCodeEditor()||i.getActiveCodeEditor();if(!!n)return n.invokeWithinContext(o=>{if(!!o.get(Le).contextMatchesRules(za(this.precondition)))return this.runEditorCommand(o,n,t)})}},we=class extends Yi{constructor(e){super(we.convertOptions(e));this.label=e.label,this.alias=e.alias}static convertOptions(e){let t;Array.isArray(e.menuOpts)?t=e.menuOpts:e.menuOpts?t=[e.menuOpts]:t=[];function i(n){return n.menuId||(n.menuId=H.EditorContext),n.title||(n.title=e.label),n.when=Ce.and(e.precondition,n.when),n}return Array.isArray(e.contextMenuOpts)?t.push(...e.contextMenuOpts.map(i)):e.contextMenuOpts&&t.push(i(e.contextMenuOpts)),e.menuOpts=t,e}runEditorCommand(e,t,i){return this.reportTelemetry(e,t),this.run(e,t,i||{})}reportTelemetry(e,t){e.get(ka).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}},pL=class extends we{constructor(){super(...arguments);this._implementations=[]}addImplementation(e,t){return this._implementations.push([e,t]),this._implementations.sort((i,n)=>n[0]-i[0]),{dispose:()=>{for(let i=0;i<this._implementations.length;i++)if(this._implementations[i][1]===t){this._implementations.splice(i,1);return}}}}run(e,t,i){for(let n of this._implementations){let o=n[1](e,t,i);if(o)return typeof o=="boolean"?void 0:o}}};(function(r){function e(s){return Ia.INSTANCE.getEditorCommand(s)}r.getEditorCommand=e;function t(){return Ia.INSTANCE.getEditorActions()}r.getEditorActions=t;function i(){return Ia.INSTANCE.getEditorContributions()}r.getEditorContributions=i;function n(s){return Ia.INSTANCE.getEditorContributions().filter(a=>s.indexOf(a.id)>=0)}r.getSomeEditorContributions=n;function o(){return Ia.INSTANCE.getDiffEditorContributions()}r.getDiffEditorContributions=o})(Id||(Id={}));_he={EditorCommonContributions:"editor.contributions"},Ia=class{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t){this.editorContributions.push({id:e,ctor:t})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}};Ia.INSTANCE=new Ia;Ti.add(_he.EditorCommonContributions,Ia.INSTANCE);BA=W0(new Uf({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:H.MenubarEditMenu,group:"1_do",title:g({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:H.CommandPalette,group:"",title:g("undo","Undo"),order:1}]}));W0(new RA(BA,{id:"default:undo",precondition:void 0}));jA=W0(new Uf({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:H.MenubarEditMenu,group:"1_do",title:g({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:H.CommandPalette,group:"",title:g("redo","Redo"),order:1}]}));W0(new RA(jA,{id:"default:redo",precondition:void 0}));rz=W0(new Uf({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:H.MenubarSelectionMenu,group:"1_basic",title:g({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:H.CommandPalette,group:"",title:g("selectAll","Select All"),order:1}]}))});function zf(r,e){let t=Math.pow(10,e);return Math.round(r*t)/t}var At,Gl,Xl,X,Yn=ge(()=>{At=class{constructor(e,t,i,n=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,t))|0,this.b=Math.min(255,Math.max(0,i))|0,this.a=zf(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}},Gl=class{constructor(e,t,i,n){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=zf(Math.max(Math.min(1,t),0),3),this.l=zf(Math.max(Math.min(1,i),0),3),this.a=zf(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){let t=e.r/255,i=e.g/255,n=e.b/255,o=e.a,s=Math.max(t,i,n),a=Math.min(t,i,n),l=0,c=0,d=(a+s)/2,h=s-a;if(h>0){switch(c=Math.min(d<=.5?h/(2*d):h/(2-2*d),1),s){case t:l=(i-n)/h+(i<n?6:0);break;case i:l=(n-t)/h+2;break;case n:l=(t-i)/h+4;break}l*=60,l=Math.round(l)}return new Gl(l,c,d,o)}static _hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}static toRGBA(e){let t=e.h/360,{s:i,l:n,a:o}=e,s,a,l;if(i===0)s=a=l=n;else{let c=n<.5?n*(1+i):n+i-n*i,d=2*n-c;s=Gl._hue2rgb(d,c,t+1/3),a=Gl._hue2rgb(d,c,t),l=Gl._hue2rgb(d,c,t-1/3)}return new At(Math.round(s*255),Math.round(a*255),Math.round(l*255),o)}},Xl=class{constructor(e,t,i,n){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=zf(Math.max(Math.min(1,t),0),3),this.v=zf(Math.max(Math.min(1,i),0),3),this.a=zf(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){let t=e.r/255,i=e.g/255,n=e.b/255,o=Math.max(t,i,n),s=Math.min(t,i,n),a=o-s,l=o===0?0:a/o,c;return a===0?c=0:o===t?c=((i-n)/a%6+6)%6:o===i?c=(n-t)/a+2:c=(t-i)/a+4,new Xl(Math.round(c*60),l,o,e.a)}static toRGBA(e){let{h:t,s:i,v:n,a:o}=e,s=n*i,a=s*(1-Math.abs(t/60%2-1)),l=n-s,[c,d,h]=[0,0,0];return t<60?(c=s,d=a):t<120?(c=a,d=s):t<180?(d=s,h=a):t<240?(d=a,h=s):t<300?(c=a,h=s):t<=360&&(c=s,h=a),c=Math.round((c+l)*255),d=Math.round((d+l)*255),h=Math.round((h+l)*255),new At(c,d,h,o)}},X=class{constructor(e){if(e)if(e instanceof At)this.rgba=e;else if(e instanceof Gl)this._hsla=e,this.rgba=Gl.toRGBA(e);else if(e instanceof Xl)this._hsva=e,this.rgba=Xl.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(e){return X.Format.CSS.parseHex(e)||X.red}get hsla(){return this._hsla?this._hsla:Gl.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:Xl.fromRGBA(this.rgba)}equals(e){return!!e&&At.equals(this.rgba,e.rgba)&&Gl.equals(this.hsla,e.hsla)&&Xl.equals(this.hsva,e.hsva)}getRelativeLuminance(){let e=X._relativeLuminanceForComponent(this.rgba.r),t=X._relativeLuminanceForComponent(this.rgba.g),i=X._relativeLuminanceForComponent(this.rgba.b),n=.2126*e+.7152*t+.0722*i;return zf(n,4)}static _relativeLuminanceForComponent(e){let t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(e){let t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t>i}isDarkerThan(e){let t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t<i}lighten(e){return new X(new Gl(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new X(new Gl(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){let{r:t,g:i,b:n,a:o}=this.rgba;return new X(new At(t,i,n,o*e))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new X(new At(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=X.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,i){if(e.isLighterThan(t))return e;i=i||.5;let n=e.getRelativeLuminance(),o=t.getRelativeLuminance();return i=i*(o-n)/o,e.lighten(i)}static getDarkerColor(e,t,i){if(e.isDarkerThan(t))return e;i=i||.5;let n=e.getRelativeLuminance(),o=t.getRelativeLuminance();return i=i*(n-o)/n,e.darken(i)}};X.white=new X(new At(255,255,255,1));X.black=new X(new At(0,0,0,1));X.red=new X(new At(255,0,0,1));X.blue=new X(new At(0,0,255,1));X.green=new X(new At(0,255,0,1));X.cyan=new X(new At(0,255,255,1));X.lightgrey=new X(new At(211,211,211,1));X.transparent=new X(new At(0,0,0,0));(function(r){let e;(function(t){let i;(function(n){function o(_){return _.rgba.a===1?`rgb(${_.rgba.r}, ${_.rgba.g}, ${_.rgba.b})`:r.Format.CSS.formatRGBA(_)}n.formatRGB=o;function s(_){return`rgba(${_.rgba.r}, ${_.rgba.g}, ${_.rgba.b}, ${+_.rgba.a.toFixed(2)})`}n.formatRGBA=s;function a(_){return _.hsla.a===1?`hsl(${_.hsla.h}, ${(_.hsla.s*100).toFixed(2)}%, ${(_.hsla.l*100).toFixed(2)}%)`:r.Format.CSS.formatHSLA(_)}n.formatHSL=a;function l(_){return`hsla(${_.hsla.h}, ${(_.hsla.s*100).toFixed(2)}%, ${(_.hsla.l*100).toFixed(2)}%, ${_.hsla.a.toFixed(2)})`}n.formatHSLA=l;function c(_){let w=_.toString(16);return w.length!==2?"0"+w:w}function d(_){return`#${c(_.rgba.r)}${c(_.rgba.g)}${c(_.rgba.b)}`}n.formatHex=d;function h(_,w=!1){return w&&_.rgba.a===1?r.Format.CSS.formatHex(_):`#${c(_.rgba.r)}${c(_.rgba.g)}${c(_.rgba.b)}${c(Math.round(_.rgba.a*255))}`}n.formatHexA=h;function u(_){return _.isOpaque()?r.Format.CSS.formatHex(_):r.Format.CSS.formatRGBA(_)}n.format=u;function f(_){let w=_.length;if(w===0||_.charCodeAt(0)!==35)return null;if(w===7){let y=16*m(_.charCodeAt(1))+m(_.charCodeAt(2)),C=16*m(_.charCodeAt(3))+m(_.charCodeAt(4)),E=16*m(_.charCodeAt(5))+m(_.charCodeAt(6));return new r(new At(y,C,E,1))}if(w===9){let y=16*m(_.charCodeAt(1))+m(_.charCodeAt(2)),C=16*m(_.charCodeAt(3))+m(_.charCodeAt(4)),E=16*m(_.charCodeAt(5))+m(_.charCodeAt(6)),L=16*m(_.charCodeAt(7))+m(_.charCodeAt(8));return new r(new At(y,C,E,L/255))}if(w===4){let y=m(_.charCodeAt(1)),C=m(_.charCodeAt(2)),E=m(_.charCodeAt(3));return new r(new At(16*y+y,16*C+C,16*E+E))}if(w===5){let y=m(_.charCodeAt(1)),C=m(_.charCodeAt(2)),E=m(_.charCodeAt(3)),L=m(_.charCodeAt(4));return new r(new At(16*y+y,16*C+C,16*E+E,(16*L+L)/255))}return null}n.parseHex=f;function m(_){switch(_){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(i=t.CSS||(t.CSS={}))})(e=r.Format||(r.Format={}))})(X||(X={}))});function Dhe(r){return r.length>0&&r.charAt(r.length-1)==="#"?r.substring(0,r.length-1):r}var Jm,uz,Lhe,vL=ge(()=>{Ee();as();Jm={JSONContribution:"base.contributions.json"};uz=class{constructor(){this._onDidChangeSchema=new B,this.schemasById={}}registerSchema(e,t){this.schemasById[Dhe(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}},Lhe=new uz;Ti.add(Jm.JSONContribution,Lhe)});function EL(r){return`--vscode-${r.replace(/\./g,"-")}`}function W(r,e,t,i,n){return xL.registerColor(r,e,t,i,n)}function khe(r,e){var t,i,n;switch(r.op){case 0:return(t=Od(r.value,e))===null||t===void 0?void 0:t.darken(r.factor);case 1:return(i=Od(r.value,e))===null||i===void 0?void 0:i.lighten(r.factor);case 2:return(n=Od(r.value,e))===null||n===void 0?void 0:n.transparent(r.factor);case 3:for(let o of r.values){let s=Od(o,e);if(s)return s}return;case 5:return Od(e.defines(r.if)?r.then:r.else,e);case 4:{let o=Od(r.value,e);if(!o)return;let s=Od(r.background,e);return s?o.isDarkerThan(s)?X.getLighterColor(o,s,r.factor).transparent(r.transparency):X.getDarkerColor(o,s,r.factor).transparent(r.transparency):o.transparent(r.factor*r.transparency)}default:throw rb(r)}}function hv(r,e){return{op:0,value:r,factor:e}}function $f(r,e){return{op:1,value:r,factor:e}}function at(r,e){return{op:2,value:r,factor:e}}function tv(...r){return{op:3,values:r}}function Ihe(r,e,t){return{op:5,if:r,then:e,else:t}}function bz(r,e,t,i){return{op:4,value:r,background:e,factor:t,transparency:i}}function Od(r,e){if(r!==null){if(typeof r=="string")return r[0]==="#"?X.fromHex(r):e.getColor(r);if(r instanceof X)return r;if(typeof r=="object")return khe(r,e)}}var zA,wz,xL,Te,Cz,K2e,DL,Tc,Ni,ro,q2e,Y2e,Kf,qf,Z2e,G2e,X2e,LL,Ql,iv,nv,ov,Y0,Q2e,Z0,G0,J2e,kL,IL,OL,TL,NL,PL,ML,AL,RL,ep,eFe,V0,UA,tFe,iFe,nFe,yz,wL,Sz,oFe,rFe,fz,sFe,tp,ip,Jl,Zh,Gh,Xh,Ez,xz,Td,FL,Dz,qs,op,Lz,jr,rv,kz,Iz,aFe,nr,ec,or,Nd,Qh,Oz,VA,Tz,Nz,Pz,Mz,Az,Rz,Fz,Bz,Pd,jz,X0,Q0,Wz,Uz,Md,zz,Vz,np,Hz,lFe,cFe,$z,iu,BL,jL,Kz,sv,Vf,Hf,qz,Yz,Zz,Gz,Xz,Qz,CL,yL,HA,$A,Jz,eV,tV,iV,nV,oV,rV,sV,aV,lV,cV,dV,hV,Jh,eu,H0,uV,fV,gV,mV,pV,_V,bV,vV,Nc,WL,dFe,hFe,uFe,wV,CV,yV,fFe,gFe,SV,EV,xV,mFe,gz,av,lv,cv,DV,LV,kV,IV,OV,TV,NV,SL,pFe,_Fe,bFe,vFe,wFe,CFe,yFe,SFe,EFe,xFe,DFe,PV,mz,pz,_z,tu,ev,$0,LFe,K0,kFe,q0,IFe,KA,OFe,TFe,NFe,UL,zL,Jb,dv,qA,MV,AV,RV,FV,BV,jV,WV,UV,zV,VV,PFe,MFe,AFe,RFe,FFe,BFe,jFe,WFe,HV,$V,vz,Li=ge(()=>{nt();Yn();Ee();ai();ke();vL();as();zA={ColorContribution:"base.contributions.colors"},wz=class{constructor(){this._onDidChangeSchema=new B,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,i,n=!1,o){let s={id:e,description:i,defaults:t,needsTransparency:n,deprecationMessage:o};this.colorsById[e]=s;let a={type:"string",description:i,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return o&&(a.deprecationMessage=o),this.colorSchema.properties[e]=a,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}getColors(){return Object.keys(this.colorsById).map(e=>this.colorsById[e])}resolveDefaultColor(e,t){let i=this.colorsById[e];if(i&&i.defaults){let n=i.defaults[t.type];return Od(n,t)}}getColorSchema(){return this.colorSchema}toString(){let e=(t,i)=>{let n=t.indexOf(".")===-1?0:1,o=i.indexOf(".")===-1?0:1;return n!==o?n-o:t.localeCompare(i)};return Object.keys(this.colorsById).sort(e).map(t=>`- \`${t}\`: ${this.colorsById[t].description}`).join(`
`)}},xL=new wz;Ti.add(zA.ColorContribution,xL);Te=W("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},g("foreground","Overall foreground color. This color is only used if not overridden by a component.")),Cz=W("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},g("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),K2e=W("descriptionForeground",{light:"#717171",dark:at(Te,.7),hc:at(Te,.7)},g("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),DL=W("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},g("iconForeground","The default color for icons in the workbench.")),Tc=W("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},g("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),Ni=W("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},g("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),ro=W("contrastActiveBorder",{light:null,dark:null,hc:Tc},g("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),q2e=W("selection.background",{light:null,dark:null,hc:null},g("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),Y2e=W("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hc:X.black},g("textSeparatorForeground","Color for text separators.")),Kf=W("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},g("textLinkForeground","Foreground color for links in text.")),qf=W("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},g("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),Z2e=W("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hc:"#D7BA7D"},g("textPreformatForeground","Foreground color for preformatted text segments.")),G2e=W("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hc:null},g("textBlockQuoteBackground","Background color for block quotes in text.")),X2e=W("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hc:X.white},g("textBlockQuoteBorder","Border color for block quotes in text.")),LL=W("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:X.black},g("textCodeBlockBackground","Background color for code blocks in text.")),Ql=W("widget.shadow",{dark:at(X.black,.36),light:at(X.black,.16),hc:null},g("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),iv=W("input.background",{dark:"#3C3C3C",light:X.white,hc:X.black},g("inputBoxBackground","Input box background.")),nv=W("input.foreground",{dark:Te,light:Te,hc:Te},g("inputBoxForeground","Input box foreground.")),ov=W("input.border",{dark:null,light:null,hc:Ni},g("inputBoxBorder","Input box border.")),Y0=W("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:Ni},g("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),Q2e=W("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hc:null},g("inputOption.hoverBackground","Background color of activated options in input fields.")),Z0=W("inputOption.activeBackground",{dark:at(Tc,.4),light:at(Tc,.2),hc:X.transparent},g("inputOption.activeBackground","Background hover color of options in input fields.")),G0=W("inputOption.activeForeground",{dark:X.white,light:X.black,hc:null},g("inputOption.activeForeground","Foreground color of activated options in input fields.")),J2e=W("input.placeholderForeground",{light:at(Te,.5),dark:at(Te,.5),hc:at(Te,.7)},g("inputPlaceholderForeground","Input box foreground color for placeholder text.")),kL=W("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:X.black},g("inputValidationInfoBackground","Input validation background color for information severity.")),IL=W("inputValidation.infoForeground",{dark:null,light:null,hc:null},g("inputValidationInfoForeground","Input validation foreground color for information severity.")),OL=W("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:Ni},g("inputValidationInfoBorder","Input validation border color for information severity.")),TL=W("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:X.black},g("inputValidationWarningBackground","Input validation background color for warning severity.")),NL=W("inputValidation.warningForeground",{dark:null,light:null,hc:null},g("inputValidationWarningForeground","Input validation foreground color for warning severity.")),PL=W("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:Ni},g("inputValidationWarningBorder","Input validation border color for warning severity.")),ML=W("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:X.black},g("inputValidationErrorBackground","Input validation background color for error severity.")),AL=W("inputValidation.errorForeground",{dark:null,light:null,hc:null},g("inputValidationErrorForeground","Input validation foreground color for error severity.")),RL=W("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:Ni},g("inputValidationErrorBorder","Input validation border color for error severity.")),ep=W("dropdown.background",{dark:"#3C3C3C",light:X.white,hc:X.black},g("dropdownBackground","Dropdown background.")),eFe=W("dropdown.listBackground",{dark:null,light:null,hc:X.black},g("dropdownListBackground","Dropdown list background.")),V0=W("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:X.white},g("dropdownForeground","Dropdown foreground.")),UA=W("dropdown.border",{dark:ep,light:"#CECECE",hc:Ni},g("dropdownBorder","Dropdown border.")),tFe=W("checkbox.background",{dark:ep,light:ep,hc:ep},g("checkbox.background","Background color of checkbox widget.")),iFe=W("checkbox.foreground",{dark:V0,light:V0,hc:V0},g("checkbox.foreground","Foreground color of checkbox widget.")),nFe=W("checkbox.border",{dark:UA,light:UA,hc:UA},g("checkbox.border","Border color of checkbox widget.")),yz=W("button.foreground",{dark:X.white,light:X.white,hc:X.white},g("buttonForeground","Button foreground color.")),wL=W("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},g("buttonBackground","Button background color.")),Sz=W("button.hoverBackground",{dark:$f(wL,.2),light:hv(wL,.2),hc:null},g("buttonHoverBackground","Button background color when hovering.")),oFe=W("button.border",{dark:Ni,light:Ni,hc:Ni},g("buttonBorder","Button border color.")),rFe=W("button.secondaryForeground",{dark:X.white,light:X.white,hc:X.white},g("buttonSecondaryForeground","Secondary button foreground color.")),fz=W("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hc:null},g("buttonSecondaryBackground","Secondary button background color.")),sFe=W("button.secondaryHoverBackground",{dark:$f(fz,.2),light:hv(fz,.2),hc:null},g("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),tp=W("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:X.black},g("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),ip=W("badge.foreground",{dark:X.white,light:"#333",hc:X.white},g("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),Jl=W("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},g("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),Zh=W("scrollbarSlider.background",{dark:X.fromHex("#797979").transparent(.4),light:X.fromHex("#646464").transparent(.4),hc:at(Ni,.6)},g("scrollbarSliderBackground","Scrollbar slider background color.")),Gh=W("scrollbarSlider.hoverBackground",{dark:X.fromHex("#646464").transparent(.7),light:X.fromHex("#646464").transparent(.7),hc:at(Ni,.8)},g("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Xh=W("scrollbarSlider.activeBackground",{dark:X.fromHex("#BFBFBF").transparent(.4),light:X.fromHex("#000000").transparent(.6),hc:Ni},g("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Ez=W("progressBar.background",{dark:X.fromHex("#0E70C0"),light:X.fromHex("#0E70C0"),hc:Ni},g("progressBarBackground","Background color of the progress bar that can show for long running operations.")),xz=W("editorError.background",{dark:null,light:null,hc:null},g("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Td=W("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},g("editorError.foreground","Foreground color of error squigglies in the editor.")),FL=W("editorError.border",{dark:null,light:null,hc:X.fromHex("#E47777").transparent(.8)},g("errorBorder","Border color of error boxes in the editor.")),Dz=W("editorWarning.background",{dark:null,light:null,hc:null},g("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),qs=W("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},g("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),op=W("editorWarning.border",{dark:null,light:null,hc:X.fromHex("#FFCC00").transparent(.8)},g("warningBorder","Border color of warning boxes in the editor.")),Lz=W("editorInfo.background",{dark:null,light:null,hc:null},g("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),jr=W("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},g("editorInfo.foreground","Foreground color of info squigglies in the editor.")),rv=W("editorInfo.border",{dark:null,light:null,hc:X.fromHex("#3794FF").transparent(.8)},g("infoBorder","Border color of info boxes in the editor.")),kz=W("editorHint.foreground",{dark:X.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},g("editorHint.foreground","Foreground color of hint squigglies in the editor.")),Iz=W("editorHint.border",{dark:null,light:null,hc:X.fromHex("#eeeeee").transparent(.8)},g("hintBorder","Border color of hint boxes in the editor.")),aFe=W("sash.hoverBorder",{dark:Tc,light:Tc,hc:Tc},g("sashActiveBorder","Border color of active sashes.")),nr=W("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:X.black},g("editorBackground","Editor background color.")),ec=W("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:X.white},g("editorForeground","Editor default foreground color.")),or=W("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},g("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),Nd=W("editorWidget.foreground",{dark:Te,light:Te,hc:Te},g("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),Qh=W("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:Ni},g("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),Oz=W("editorWidget.resizeBorder",{light:null,dark:null,hc:null},g("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),VA=W("quickInput.background",{dark:or,light:or,hc:or},g("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),Tz=W("quickInput.foreground",{dark:Nd,light:Nd,hc:Nd},g("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),Nz=W("quickInputTitle.background",{dark:new X(new At(255,255,255,.105)),light:new X(new At(0,0,0,.06)),hc:"#000000"},g("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Pz=W("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:X.white},g("pickerGroupForeground","Quick picker color for grouping labels.")),Mz=W("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:X.white},g("pickerGroupBorder","Quick picker color for grouping borders.")),Az=W("keybindingLabel.background",{dark:new X(new At(128,128,128,.17)),light:new X(new At(221,221,221,.4)),hc:X.transparent},g("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Rz=W("keybindingLabel.foreground",{dark:X.fromHex("#CCCCCC"),light:X.fromHex("#555555"),hc:X.white},g("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Fz=W("keybindingLabel.border",{dark:new X(new At(51,51,51,.6)),light:new X(new At(204,204,204,.4)),hc:new X(new At(111,195,223))},g("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),Bz=W("keybindingLabel.bottomBorder",{dark:new X(new At(68,68,68,.6)),light:new X(new At(187,187,187,.4)),hc:new X(new At(111,195,223))},g("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),Pd=W("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},g("editorSelectionBackground","Color of the editor selection.")),jz=W("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},g("editorSelectionForeground","Color of the selected text for high contrast.")),X0=W("editor.inactiveSelectionBackground",{light:at(Pd,.5),dark:at(Pd,.5),hc:at(Pd,.5)},g("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),Q0=W("editor.selectionHighlightBackground",{light:bz(Pd,nr,.3,.6),dark:bz(Pd,nr,.3,.6),hc:null},g("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),Wz=W("editor.selectionHighlightBorder",{light:null,dark:null,hc:ro},g("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),Uz=W("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},g("editorFindMatch","Color of the current search match.")),Md=W("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},g("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),zz=W("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},g("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Vz=W("editor.findMatchBorder",{light:null,dark:null,hc:ro},g("editorFindMatchBorder","Border color of the current search match.")),np=W("editor.findMatchHighlightBorder",{light:null,dark:null,hc:ro},g("findMatchHighlightBorder","Border color of the other search matches.")),Hz=W("editor.findRangeHighlightBorder",{dark:null,light:null,hc:at(ro,.4)},g("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),lFe=W("searchEditor.findMatchBackground",{light:at(Md,.66),dark:at(Md,.66),hc:Md},g("searchEditor.queryMatch","Color of the Search Editor query matches.")),cFe=W("searchEditor.findMatchBorder",{light:at(np,.66),dark:at(np,.66),hc:np},g("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),$z=W("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},g("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),iu=W("editorHoverWidget.background",{light:or,dark:or,hc:or},g("hoverBackground","Background color of the editor hover.")),BL=W("editorHoverWidget.foreground",{light:Nd,dark:Nd,hc:Nd},g("hoverForeground","Foreground color of the editor hover.")),jL=W("editorHoverWidget.border",{light:Qh,dark:Qh,hc:Qh},g("hoverBorder","Border color of the editor hover.")),Kz=W("editorHoverWidget.statusBarBackground",{dark:$f(iu,.2),light:hv(iu,.05),hc:or},g("statusBarBackground","Background color of the editor hover status bar.")),sv=W("editorLink.activeForeground",{dark:"#4E94CE",light:X.blue,hc:X.cyan},g("activeLinkForeground","Color of active links.")),Vf=W("editorInlayHint.foreground",{dark:at(ip,.8),light:at(ip,.8),hc:ip},g("editorInlayHintForeground","Foreground color of inline hints")),Hf=W("editorInlayHint.background",{dark:at(tp,.6),light:at(tp,.3),hc:tp},g("editorInlayHintBackground","Background color of inline hints")),qz=W("editorInlayHint.typeForeground",{dark:Vf,light:Vf,hc:Vf},g("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),Yz=W("editorInlayHint.typeBackground",{dark:Hf,light:Hf,hc:Hf},g("editorInlayHintBackgroundTypes","Background color of inline hints for types")),Zz=W("editorInlayHint.parameterForeground",{dark:Vf,light:Vf,hc:Vf},g("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),Gz=W("editorInlayHint.parameterBackground",{dark:Hf,light:Hf,hc:Hf},g("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),Xz=W("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},g("editorLightBulbForeground","The color used for the lightbulb actions icon.")),Qz=W("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},g("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),CL=new X(new At(155,185,85,.2)),yL=new X(new At(255,0,0,.2)),HA=W("diffEditor.insertedTextBackground",{dark:CL,light:CL,hc:null},g("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),$A=W("diffEditor.removedTextBackground",{dark:yL,light:yL,hc:null},g("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Jz=W("diffEditor.insertedLineBackground",{dark:null,light:null,hc:null},g("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),eV=W("diffEditor.removedLineBackground",{dark:null,light:null,hc:null},g("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),tV=W("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hc:null},g("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),iV=W("diffEditorGutter.removedLineBackground",{dark:null,light:null,hc:null},g("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),nV=W("diffEditorOverview.insertedForeground",{dark:null,light:null,hc:null},g("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),oV=W("diffEditorOverview.removedForeground",{dark:null,light:null,hc:null},g("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),rV=W("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},g("diffEditorInsertedOutline","Outline color for the text that got inserted.")),sV=W("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},g("diffEditorRemovedOutline","Outline color for text that got removed.")),aV=W("diffEditor.border",{dark:null,light:null,hc:Ni},g("diffEditorBorder","Border color between the two text editors.")),lV=W("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},g("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),cV=W("list.focusBackground",{dark:null,light:null,hc:null},g("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),dV=W("list.focusForeground",{dark:null,light:null,hc:null},g("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),hV=W("list.focusOutline",{dark:Tc,light:Tc,hc:ro},g("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Jh=W("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},g("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),eu=W("list.activeSelectionForeground",{dark:X.white,light:X.white,hc:null},g("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),H0=W("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},g("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),uV=W("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},g("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),fV=W("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},g("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),gV=W("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},g("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),mV=W("list.inactiveFocusBackground",{dark:null,light:null,hc:null},g("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),pV=W("list.inactiveFocusOutline",{dark:null,light:null,hc:null},g("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),_V=W("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},g("listHoverBackground","List/Tree background when hovering over items using the mouse.")),bV=W("list.hoverForeground",{dark:null,light:null,hc:null},g("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),vV=W("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},g("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),Nc=W("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:Tc},g("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),WL=W("list.focusHighlightForeground",{dark:Nc,light:Ihe(Jh,Nc,"#9DDDFF"),hc:Nc},g("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),dFe=W("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hc:"#B89500"},g("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),hFe=W("list.errorForeground",{dark:"#F88070",light:"#B01011",hc:null},g("listErrorForeground","Foreground color of list items containing errors.")),uFe=W("list.warningForeground",{dark:"#CCA700",light:"#855F00",hc:null},g("listWarningForeground","Foreground color of list items containing warnings.")),wV=W("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:X.black},g("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),CV=W("listFilterWidget.outline",{dark:X.transparent,light:X.transparent,hc:"#f38518"},g("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),yV=W("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:Ni},g("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),fFe=W("list.filterMatchBackground",{dark:Md,light:Md,hc:null},g("listFilterMatchHighlight","Background color of the filtered match.")),gFe=W("list.filterMatchBorder",{dark:np,light:np,hc:Ni},g("listFilterMatchHighlightBorder","Border color of the filtered match.")),SV=W("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},g("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),EV=W("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},g("tableColumnsBorder","Table border color between columns.")),xV=W("tree.tableOddRowsBackground",{dark:at(Te,.04),light:at(Te,.04),hc:null},g("tableOddRowsBackgroundColor","Background color for odd table rows.")),mFe=W("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hc:"#A7A8A9"},g("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),gz=W("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,g("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),av=W("quickInputList.focusForeground",{dark:eu,light:eu,hc:eu},g("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),lv=W("quickInputList.focusIconForeground",{dark:H0,light:H0,hc:H0},g("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),cv=W("quickInputList.focusBackground",{dark:tv(gz,Jh),light:tv(gz,Jh),hc:null},g("quickInput.listFocusBackground","Quick picker background color for the focused item.")),DV=W("menu.border",{dark:null,light:null,hc:Ni},g("menuBorder","Border color of menus.")),LV=W("menu.foreground",{dark:V0,light:Te,hc:V0},g("menuForeground","Foreground color of menu items.")),kV=W("menu.background",{dark:ep,light:ep,hc:ep},g("menuBackground","Background color of menu items.")),IV=W("menu.selectionForeground",{dark:eu,light:eu,hc:eu},g("menuSelectionForeground","Foreground color of the selected menu item in menus.")),OV=W("menu.selectionBackground",{dark:Jh,light:Jh,hc:Jh},g("menuSelectionBackground","Background color of the selected menu item in menus.")),TV=W("menu.selectionBorder",{dark:null,light:null,hc:ro},g("menuSelectionBorder","Border color of the selected menu item in menus.")),NV=W("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:Ni},g("menuSeparatorBackground","Color of a separator menu item in menus.")),SL=W("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},g("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),pFe=W("toolbar.hoverOutline",{dark:null,light:null,hc:ro},g("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),_Fe=W("toolbar.activeBackground",{dark:$f(SL,.1),light:hv(SL,.1),hc:null},g("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),bFe=W("editor.snippetTabstopHighlightBackground",{dark:new X(new At(124,124,124,.3)),light:new X(new At(10,50,100,.2)),hc:new X(new At(124,124,124,.3))},g("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),vFe=W("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},g("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),wFe=W("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},g("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),CFe=W("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new X(new At(10,50,100,.5)),hc:"#525252"},g("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),yFe=W("breadcrumb.foreground",{light:at(Te,.8),dark:at(Te,.8),hc:at(Te,.8)},g("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),SFe=W("breadcrumb.background",{light:nr,dark:nr,hc:nr},g("breadcrumbsBackground","Background color of breadcrumb items.")),EFe=W("breadcrumb.focusForeground",{light:hv(Te,.2),dark:$f(Te,.1),hc:$f(Te,.1)},g("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),xFe=W("breadcrumb.activeSelectionForeground",{light:hv(Te,.2),dark:$f(Te,.1),hc:$f(Te,.1)},g("breadcrumbsSelectedForegound","Color of selected breadcrumb items.")),DFe=W("breadcrumbPicker.background",{light:or,dark:or,hc:or},g("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),PV=.5,mz=X.fromHex("#40C8AE").transparent(PV),pz=X.fromHex("#40A6FF").transparent(PV),_z=X.fromHex("#606060").transparent(.4),tu=.4,ev=1,$0=W("merge.currentHeaderBackground",{dark:mz,light:mz,hc:null},g("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),LFe=W("merge.currentContentBackground",{dark:at($0,tu),light:at($0,tu),hc:at($0,tu)},g("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),K0=W("merge.incomingHeaderBackground",{dark:pz,light:pz,hc:null},g("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),kFe=W("merge.incomingContentBackground",{dark:at(K0,tu),light:at(K0,tu),hc:at(K0,tu)},g("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),q0=W("merge.commonHeaderBackground",{dark:_z,light:_z,hc:null},g("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),IFe=W("merge.commonContentBackground",{dark:at(q0,tu),light:at(q0,tu),hc:at(q0,tu)},g("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),KA=W("merge.border",{dark:null,light:null,hc:"#C3DF6F"},g("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),OFe=W("editorOverviewRuler.currentContentForeground",{dark:at($0,ev),light:at($0,ev),hc:KA},g("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),TFe=W("editorOverviewRuler.incomingContentForeground",{dark:at(K0,ev),light:at(K0,ev),hc:KA},g("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),NFe=W("editorOverviewRuler.commonContentForeground",{dark:at(q0,ev),light:at(q0,ev),hc:KA},g("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),UL=W("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},g("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),zL=W("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},g("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Jb=W("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},g("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),dv=W("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},g("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),qA=W("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},g("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),MV=W("minimap.errorHighlight",{dark:new X(new At(255,18,18,.7)),light:new X(new At(255,18,18,.7)),hc:new X(new At(255,50,50,1))},g("minimapError","Minimap marker color for errors.")),AV=W("minimap.warningHighlight",{dark:qs,light:qs,hc:op},g("overviewRuleWarning","Minimap marker color for warnings.")),RV=W("minimap.background",{dark:null,light:null,hc:null},g("minimapBackground","Minimap background color.")),FV=W("minimap.foregroundOpacity",{dark:X.fromHex("#000f"),light:X.fromHex("#000f"),hc:X.fromHex("#000f")},g("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),BV=W("minimapSlider.background",{light:at(Zh,.5),dark:at(Zh,.5),hc:at(Zh,.5)},g("minimapSliderBackground","Minimap slider background color.")),jV=W("minimapSlider.hoverBackground",{light:at(Gh,.5),dark:at(Gh,.5),hc:at(Gh,.5)},g("minimapSliderHoverBackground","Minimap slider background color when hovering.")),WV=W("minimapSlider.activeBackground",{light:at(Xh,.5),dark:at(Xh,.5),hc:at(Xh,.5)},g("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),UV=W("problemsErrorIcon.foreground",{dark:Td,light:Td,hc:Td},g("problemsErrorIconForeground","The color used for the problems error icon.")),zV=W("problemsWarningIcon.foreground",{dark:qs,light:qs,hc:qs},g("problemsWarningIconForeground","The color used for the problems warning icon.")),VV=W("problemsInfoIcon.foreground",{dark:jr,light:jr,hc:jr},g("problemsInfoIconForeground","The color used for the problems info icon.")),PFe=W("charts.foreground",{dark:Te,light:Te,hc:Te},g("chartsForeground","The foreground color used in charts.")),MFe=W("charts.lines",{dark:at(Te,.5),light:at(Te,.5),hc:at(Te,.5)},g("chartsLines","The color used for horizontal lines in charts.")),AFe=W("charts.red",{dark:Td,light:Td,hc:Td},g("chartsRed","The red color used in chart visualizations.")),RFe=W("charts.blue",{dark:jr,light:jr,hc:jr},g("chartsBlue","The blue color used in chart visualizations.")),FFe=W("charts.yellow",{dark:qs,light:qs,hc:qs},g("chartsYellow","The yellow color used in chart visualizations.")),BFe=W("charts.orange",{dark:Jb,light:Jb,hc:Jb},g("chartsOrange","The orange color used in chart visualizations.")),jFe=W("charts.green",{dark:"#89D185",light:"#388A34",hc:"#89D185"},g("chartsGreen","The green color used in chart visualizations.")),WFe=W("charts.purple",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},g("chartsPurple","The purple color used in chart visualizations."));HV="vscode://schemas/workbench-colors",$V=Ti.as(Jm.JSONContribution);$V.registerSchema(HV,xL.getColorSchema());vz=new wt(()=>$V.notifySchemaChanged(HV),200);xL.onDidChangeSchema(()=>{vz.isScheduled()||vz.schedule()})});var Zi,Mc=ge(()=>{He();Zi=class{static _nextVisibleColumn(e,t,i){return e===9?Zi.nextRenderTabStop(t,i):Ya(e)||XC(e)?t+2:t+1}static visibleColumnFromColumn(e,t,i){let n=Math.min(t-1,e.length),o=e.substring(0,n),s=new bb(o),a=0;for(;!s.eol();){let l=_b(o,n,s.offset);s.nextGraphemeLength(),a=this._nextVisibleColumn(l,a,i)}return a}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;let n=e.length,o=new bb(e),s=0,a=1;for(;!o.eol();){let l=_b(e,n,o.offset);o.nextGraphemeLength();let c=this._nextVisibleColumn(l,s,i),d=o.offset+1;if(c>=t){let h=t-s;return c-t<h?d:a}s=c,a=d}return n+1}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}});var Ys,oy=ge(()=>{(function(r){r.text="text/plain",r.binary="application/octet-stream",r.unknown="application/unknown",r.markdown="text/markdown",r.latex="text/latex",r.uriList="text/uri-list"})(Ys||(Ys={}))});var oH,uR,Rhe,Fhe,Bhe,jhe,YL,rH,lp,fv,gv,ZL,dR,sH,aH,n5e,lH,XL,cH,dH,Whe,hH,uH,fH,gH,mH,hR,o5e,pH,_H,bH,QL,JL,ek,tk,ik,nk,vH,wH,CH,yH,SH,EH,xH,DH,LH,kH,IH,OH,TH,r5e,Gs=ge(()=>{ke();Yn();Li();pt();oH=W("editor.lineHighlightBackground",{dark:null,light:null,hc:null},g("lineHighlight","Background color for the highlight of line at the cursor position.")),uR=W("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},g("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),Rhe=W("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},g("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),Fhe=W("editor.rangeHighlightBorder",{dark:null,light:null,hc:ro},g("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),Bhe=W("editor.symbolHighlightBackground",{dark:Md,light:Md,hc:null},g("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),jhe=W("editor.symbolHighlightBorder",{dark:null,light:null,hc:ro},g("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),YL=W("editorCursor.foreground",{dark:"#AEAFAD",light:X.black,hc:X.white},g("caret","Color of the editor cursor.")),rH=W("editorCursor.background",null,g("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),lp=W("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},g("editorWhitespaces","Color of whitespace characters in the editor.")),fv=W("editorIndentGuide.background",{dark:lp,light:lp,hc:lp},g("editorIndentGuides","Color of the editor indentation guides.")),gv=W("editorIndentGuide.activeBackground",{dark:lp,light:lp,hc:lp},g("editorActiveIndentGuide","Color of the active editor indentation guides.")),ZL=W("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:X.white},g("editorLineNumbers","Color of editor line numbers.")),dR=W("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:ro},g("editorActiveLineNumber","Color of editor active line number"),!1,g("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),sH=W("editorLineNumber.activeForeground",{dark:dR,light:dR,hc:dR},g("editorActiveLineNumber","Color of editor active line number")),aH=W("editorRuler.foreground",{dark:"#5A5A5A",light:X.lightgrey,hc:X.white},g("editorRuler","Color of the editor rulers.")),n5e=W("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},g("editorCodeLensForeground","Foreground color of editor CodeLens")),lH=W("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},g("editorBracketMatchBackground","Background color behind matching brackets")),XL=W("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:Ni},g("editorBracketMatchBorder","Color for matching brackets boxes")),cH=W("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},g("editorOverviewRulerBorder","Color of the overview ruler border.")),dH=W("editorOverviewRuler.background",null,g("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),Whe=W("editorGutter.background",{dark:nr,light:nr,hc:nr},g("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),hH=W("editorUnnecessaryCode.border",{dark:null,light:null,hc:X.fromHex("#fff").transparent(.8)},g("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),uH=W("editorUnnecessaryCode.opacity",{dark:X.fromHex("#000a"),light:X.fromHex("#0007"),hc:null},g("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),fH=W("editorGhostText.border",{dark:null,light:null,hc:X.fromHex("#fff").transparent(.8)},g("editorGhostTextBorder","Border color of ghost text in the editor.")),gH=W("editorGhostText.foreground",{dark:X.fromHex("#ffffff56"),light:X.fromHex("#0007"),hc:null},g("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),mH=W("editorGhostText.background",{dark:null,light:null,hc:null},g("editorGhostTextBackground","Background color of the ghost text in the editor.")),hR=new X(new At(0,122,204,.6)),o5e=W("editorOverviewRuler.rangeHighlightForeground",{dark:hR,light:hR,hc:hR},g("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),pH=W("editorOverviewRuler.errorForeground",{dark:new X(new At(255,18,18,.7)),light:new X(new At(255,18,18,.7)),hc:new X(new At(255,50,50,1))},g("overviewRuleError","Overview ruler marker color for errors.")),_H=W("editorOverviewRuler.warningForeground",{dark:qs,light:qs,hc:op},g("overviewRuleWarning","Overview ruler marker color for warnings.")),bH=W("editorOverviewRuler.infoForeground",{dark:jr,light:jr,hc:rv},g("overviewRuleInfo","Overview ruler marker color for infos.")),QL=W("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},g("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),JL=W("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},g("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),ek=W("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},g("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),tk=W("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),ik=W("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),nk=W("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),vH=W("editorBracketHighlight.unexpectedBracket.foreground",{dark:new X(new At(255,18,18,.8)),light:new X(new At(255,18,18,.8)),hc:new X(new At(255,50,50,1))},g("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),wH=W("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),CH=W("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),yH=W("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),SH=W("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),EH=W("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),xH=W("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),DH=W("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),LH=W("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),kH=W("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),IH=W("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),OH=W("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),TH=W("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),r5e=W("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hc:"#ff0000"},g("editorUnicodeHighlight.border","Border color used to highlight unicode characters."));yt((r,e)=>{let t=r.getColor(nr);t&&e.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${t}; }`);let i=r.getColor(ec);i&&e.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${i}; }`);let n=r.getColor(Whe);n&&e.addRule(`.monaco-editor .margin { background-color: ${n}; }`);let o=r.getColor(Rhe);o&&e.addRule(`.monaco-editor .rangeHighlight { background-color: ${o}; }`);let s=r.getColor(Fhe);s&&e.addRule(`.monaco-editor .rangeHighlight { border: 1px ${r.type==="hc"?"dotted":"solid"} ${s}; }`);let a=r.getColor(Bhe);a&&e.addRule(`.monaco-editor .symbolHighlight { background-color: ${a}; }`);let l=r.getColor(jhe);l&&e.addRule(`.monaco-editor .symbolHighlight { border: 1px ${r.type==="hc"?"dotted":"solid"} ${l}; }`);let c=r.getColor(lp);c&&(e.addRule(`.monaco-editor .mtkw { color: ${c} !important; }`),e.addRule(`.monaco-editor .mtkz { color: ${c} !important; }`))})});function zhe(r,e,t){let i=0;for(let o=0;o<r.length;o++)r.charAt(o)==="	"?i+=e:i++;let n="";if(!t){let o=Math.floor(i/e);i=i%e;for(let s=0;s<o;s++)n+="	"}for(let o=0;o<i;o++)n+=" ";return n}function cp(r,e,t){let i=wn(r);return i===-1&&(i=r.length),zhe(r.substring(0,i),e,t)+r.substring(i)}var ok=ge(()=>{He()});var F,Wi=ge(()=>{ke();Et();(function(r){r.editorSimpleInput=new Se("editorSimpleInput",!1,!0),r.editorTextFocus=new Se("editorTextFocus",!1,g("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),r.focus=new Se("editorFocus",!1,g("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),r.textInputFocus=new Se("textInputFocus",!1,g("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),r.readOnly=new Se("editorReadonly",!1,g("editorReadonly","Whether the editor is read only")),r.inDiffEditor=new Se("inDiffEditor",!1,g("inDiffEditor","Whether the context is a diff editor")),r.columnSelection=new Se("editorColumnSelection",!1,g("editorColumnSelection","Whether `editor.columnSelection` is enabled")),r.writable=r.readOnly.toNegated(),r.hasNonEmptySelection=new Se("editorHasSelection",!1,g("editorHasSelection","Whether the editor has text selected")),r.hasOnlyEmptySelection=r.hasNonEmptySelection.toNegated(),r.hasMultipleSelections=new Se("editorHasMultipleSelections",!1,g("editorHasMultipleSelections","Whether the editor has multiple selections")),r.hasSingleSelection=r.hasMultipleSelections.toNegated(),r.tabMovesFocus=new Se("editorTabMovesFocus",!1,g("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),r.tabDoesNotMoveFocus=r.tabMovesFocus.toNegated(),r.isInWalkThroughSnippet=new Se("isInEmbeddedEditor",!1,!0),r.canUndo=new Se("canUndo",!1,!0),r.canRedo=new Se("canRedo",!1,!0),r.hoverVisible=new Se("editorHoverVisible",!1,g("editorHoverVisible","Whether the editor hover is visible")),r.inCompositeEditor=new Se("inCompositeEditor",void 0,g("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),r.notInCompositeEditor=r.inCompositeEditor.toNegated(),r.languageId=new Se("editorLangId","",g("editorLangId","The language identifier of the editor")),r.hasCompletionItemProvider=new Se("editorHasCompletionItemProvider",!1,g("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),r.hasCodeActionsProvider=new Se("editorHasCodeActionsProvider",!1,g("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),r.hasCodeLensProvider=new Se("editorHasCodeLensProvider",!1,g("editorHasCodeLensProvider","Whether the editor has a code lens provider")),r.hasDefinitionProvider=new Se("editorHasDefinitionProvider",!1,g("editorHasDefinitionProvider","Whether the editor has a definition provider")),r.hasDeclarationProvider=new Se("editorHasDeclarationProvider",!1,g("editorHasDeclarationProvider","Whether the editor has a declaration provider")),r.hasImplementationProvider=new Se("editorHasImplementationProvider",!1,g("editorHasImplementationProvider","Whether the editor has an implementation provider")),r.hasTypeDefinitionProvider=new Se("editorHasTypeDefinitionProvider",!1,g("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),r.hasHoverProvider=new Se("editorHasHoverProvider",!1,g("editorHasHoverProvider","Whether the editor has a hover provider")),r.hasDocumentHighlightProvider=new Se("editorHasDocumentHighlightProvider",!1,g("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),r.hasDocumentSymbolProvider=new Se("editorHasDocumentSymbolProvider",!1,g("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),r.hasReferenceProvider=new Se("editorHasReferenceProvider",!1,g("editorHasReferenceProvider","Whether the editor has a reference provider")),r.hasRenameProvider=new Se("editorHasRenameProvider",!1,g("editorHasRenameProvider","Whether the editor has a rename provider")),r.hasSignatureHelpProvider=new Se("editorHasSignatureHelpProvider",!1,g("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),r.hasInlayHintsProvider=new Se("editorHasInlayHintsProvider",!1,g("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),r.hasDocumentFormattingProvider=new Se("editorHasDocumentFormattingProvider",!1,g("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),r.hasDocumentSelectionFormattingProvider=new Se("editorHasDocumentSelectionFormattingProvider",!1,g("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),r.hasMultipleDocumentFormattingProvider=new Se("editorHasMultipleDocumentFormattingProvider",!1,g("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),r.hasMultipleDocumentSelectionFormattingProvider=new Se("editorHasMultipleDocumentSelectionFormattingProvider",!1,g("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(F||(F={}))});var BR,VH=ge(()=>{BR=class{constructor(){this._isDisposed=!1}dispose(){this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}});function pp(r,e){let t=0,i=0,n=r.length;for(;i<n;){let o=r.charCodeAt(i);if(o===32)t++;else if(o===9)t=t-t%e+e;else break;i++}return i===n?-1:t}var gk=ge(()=>{});var cu,Bd,Sv,mk=ge(()=>{(function(r){r[r.Disabled=0]="Disabled",r[r.EnabledForActive=1]="EnabledForActive",r[r.Enabled=2]="Enabled"})(cu||(cu={}));Bd=class{constructor(e,t,i){this.visibleColumn=e,this.className=t,this.horizontalLine=i}},Sv=class{constructor(e,t){this.top=e,this.endColumn=t}}});var jR,pk,WR=ge(()=>{jt();He();Mc();ye();VH();gk();mk();jR=class extends BR{constructor(e,t){super();this.textModel=e,this.languageConfigurationService=t}getLanguageConfiguration(e){return this.languageConfigurationService.getLanguageConfiguration(e)}_computeIndentLevel(e){return pp(this.textModel.getLineContent(e+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(e,t,i){this.assertNotDisposed();let n=this.textModel.getLineCount();if(e<1||e>n)throw new Error("Illegal value for lineNumber");let o=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,s=Boolean(o&&o.offSide),a=-2,l=-1,c=-2,d=-1,h=I=>{if(a!==-1&&(a===-2||a>I-1)){a=-1,l=-1;for(let T=I-2;T>=0;T--){let R=this._computeIndentLevel(T);if(R>=0){a=T,l=R;break}}}if(c===-2){c=-1,d=-1;for(let T=I;T<n;T++){let R=this._computeIndentLevel(T);if(R>=0){c=T,d=R;break}}}},u=-2,f=-1,m=-2,_=-1,w=I=>{if(u===-2){u=-1,f=-1;for(let T=I-2;T>=0;T--){let R=this._computeIndentLevel(T);if(R>=0){u=T,f=R;break}}}if(m!==-1&&(m===-2||m<I-1)){m=-1,_=-1;for(let T=I;T<n;T++){let R=this._computeIndentLevel(T);if(R>=0){m=T,_=R;break}}}},y=0,C=!0,E=0,L=!0,k=0,M=0;for(let I=0;C||L;I++){let T=e-I,R=e+I;I>1&&(T<1||T<t)&&(C=!1),I>1&&(R>n||R>i)&&(L=!1),I>5e4&&(C=!1,L=!1);let Z=-1;if(C&&T>=1){let te=this._computeIndentLevel(T-1);te>=0?(c=T-1,d=te,Z=Math.ceil(te/this.textModel.getOptions().indentSize)):(h(T),Z=this._getIndentLevelForWhitespaceLine(s,l,d))}let q=-1;if(L&&R<=n){let te=this._computeIndentLevel(R-1);te>=0?(u=R-1,f=te,q=Math.ceil(te/this.textModel.getOptions().indentSize)):(w(R),q=this._getIndentLevelForWhitespaceLine(s,f,_))}if(I===0){M=Z;continue}if(I===1){if(R<=n&&q>=0&&M+1===q){C=!1,y=R,E=R,k=q;continue}if(T>=1&&Z>=0&&Z-1===M){L=!1,y=T,E=T,k=Z;continue}if(y=e,E=e,k=M,k===0)return{startLineNumber:y,endLineNumber:E,indent:k}}C&&(Z>=k?y=T:C=!1),L&&(q>=k?E=R:L=!1)}return{startLineNumber:y,endLineNumber:E,indent:k}}getLinesBracketGuides(e,t,i,n){var o,s,a,l,c;let d=[],h=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new D(e,1,t,this.textModel.getLineMaxColumn(t))),u;if(i&&h.length>0){let y=e<=i.lineNumber&&i.lineNumber<=t?h.filter(C=>D.strictContainsPosition(C.range,i)):this.textModel.bracketPairs.getBracketPairsInRange(D.fromPositions(i));u=(o=Wj(y,C=>C.range.startLineNumber!==C.range.endLineNumber))===null||o===void 0?void 0:o.range}let f=new Ol(h),m=new Array,_=new Array,w=new pk;for(let y=e;y<=t;y++){let C=new Array;_.length>0&&(C=C.concat(_),_.length=0),d.push(C);for(let L of f.takeWhile(k=>k.openingBracketRange.startLineNumber<=y)||[]){if(L.range.startLineNumber===L.range.endLineNumber)continue;let k=Math.min(this.getVisibleColumnFromPosition(L.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition((a=(s=L.closingBracketRange)===null||s===void 0?void 0:s.getStartPosition())!==null&&a!==void 0?a:L.range.getEndPosition()),L.minVisibleColumnIndentation+1),M=!1;L.closingBracketRange&&wn(this.textModel.getLineContent(L.closingBracketRange.startLineNumber))<L.closingBracketRange.startColumn-1&&(M=!0);let I=L.openingBracketRange.getStartPosition(),T=(c=(l=L.closingBracketRange)===null||l===void 0?void 0:l.getStartPosition())!==null&&c!==void 0?c:L.range.getEndPosition();L.closingBracketRange===void 0?m[L.nestingLevel]=null:m[L.nestingLevel]={nestingLevel:L.nestingLevel,guideVisibleColumn:k,start:I,visibleStartColumn:this.getVisibleColumnFromPosition(I),end:T,visibleEndColumn:this.getVisibleColumnFromPosition(T),bracketPair:L,renderHorizontalEndLineAtTheBottom:M}}for(let L of m){if(!L)continue;let k=u&&L.bracketPair.range.equalsRange(u),M=w.getInlineClassNameOfLevel(L.nestingLevel)+(n.highlightActive&&k?" "+w.activeClassName:"");(k&&n.horizontalGuides!==cu.Disabled||n.includeInactive&&n.horizontalGuides===cu.Enabled)&&(L.start.lineNumber===y&&L.guideVisibleColumn<L.visibleStartColumn&&C.push(new Bd(L.guideVisibleColumn,M,new Sv(!1,L.start.column))),L.end.lineNumber===y+1&&L.guideVisibleColumn<L.visibleEndColumn&&_.push(new Bd(L.guideVisibleColumn,M,new Sv(!L.renderHorizontalEndLineAtTheBottom,L.end.column))))}let E=Number.MAX_SAFE_INTEGER;for(let L=m.length-1;L>=0;L--){let k=m[L];if(!k)continue;let M=n.highlightActive&&u&&k.bracketPair.range.equalsRange(u),I=w.getInlineClassNameOfLevel(k.nestingLevel)+(M?" "+w.activeClassName:"");(M||n.includeInactive)&&k.renderHorizontalEndLineAtTheBottom&&k.end.lineNumber===y+1&&_.push(new Bd(k.guideVisibleColumn,I,null)),!(k.end.lineNumber<=y||k.start.lineNumber>=y)&&(k.guideVisibleColumn>=E&&!M||(E=k.guideVisibleColumn,(M||n.includeInactive)&&C.push(new Bd(k.guideVisibleColumn,I,null))))}C.sort((L,k)=>L.visibleColumn-k.visibleColumn)}return d}getVisibleColumnFromPosition(e){return Zi.visibleColumnFromColumn(this.textModel.getLineContent(e.lineNumber),e.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(e,t){this.assertNotDisposed();let i=this.textModel.getLineCount();if(e<1||e>i)throw new Error("Illegal value for startLineNumber");if(t<1||t>i)throw new Error("Illegal value for endLineNumber");let n=this.textModel.getOptions(),o=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,s=Boolean(o&&o.offSide),a=new Array(t-e+1),l=-2,c=-1,d=-2,h=-1;for(let u=e;u<=t;u++){let f=u-e,m=this._computeIndentLevel(u-1);if(m>=0){l=u-1,c=m,a[f]=Math.ceil(m/n.indentSize);continue}if(l===-2){l=-1,c=-1;for(let _=u-2;_>=0;_--){let w=this._computeIndentLevel(_);if(w>=0){l=_,c=w;break}}}if(d!==-1&&(d===-2||d<u-1)){d=-1,h=-1;for(let _=u;_<i;_++){let w=this._computeIndentLevel(_);if(w>=0){d=_,h=w;break}}}a[f]=this._getIndentLevelForWhitespaceLine(s,c,h)}return a}_getIndentLevelForWhitespaceLine(e,t,i){let n=this.textModel.getOptions();return t===-1||i===-1?0:t<i?1+Math.floor(t/n.indentSize):t===i||e?Math.ceil(i/n.indentSize):1+Math.floor(i/n.indentSize)}},pk=class{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel(e){return`bracket-indent-guide lvl-${e%30}`}}});var l2,ls,Sk,c2,d2,h2,jd,my,Iv,rg=ge(()=>{l2=class{constructor(){this.changeType=1}},ls=class{constructor(e,t,i,n,o){this.ownerId=e,this.lineNumber=t,this.column=i,this.options=n,this.order=o}static applyInjectedText(e,t){if(!t||t.length===0)return e;let i="",n=0;for(let o of t)i+=e.substring(n,o.column-1),n=o.column-1,i+=o.options.content;return i+=e.substring(n),i}static fromDecorations(e){let t=[];for(let i of e)i.options.before&&i.options.before.content.length>0&&t.push(new ls(i.ownerId,i.range.startLineNumber,i.range.startColumn,i.options.before,0)),i.options.after&&i.options.after.content.length>0&&t.push(new ls(i.ownerId,i.range.endLineNumber,i.range.endColumn,i.options.after,1));return t.sort((i,n)=>i.lineNumber===n.lineNumber?i.column===n.column?i.order-n.order:i.column-n.column:i.lineNumber-n.lineNumber),t}},Sk=class{constructor(e,t,i){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=i}},c2=class{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}},d2=class{constructor(e,t,i,n){this.changeType=4,this.injectedTexts=n,this.fromLineNumber=e,this.toLineNumber=t,this.detail=i}},h2=class{constructor(){this.changeType=5}},jd=class{constructor(e,t,i,n){this.changes=e,this.versionId=t,this.isUndoing=i,this.isRedoing=n,this.resultingSelection=null}containsEvent(e){for(let t=0,i=this.changes.length;t<i;t++)if(this.changes[t].changeType===e)return!0;return!1}static merge(e,t){let i=[].concat(e.changes).concat(t.changes),n=t.versionId,o=e.isUndoing||t.isUndoing,s=e.isRedoing||t.isRedoing;return new jd(i,n,o,s)}},my=class{constructor(e){this.changes=e}},Iv=class{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){let t=jd.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),i=Iv._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new Iv(t,i)}static _mergeChangeEvents(e,t){let i=[].concat(e.changes).concat(t.changes),n=t.eol,o=t.versionId,s=e.isUndoing||t.isUndoing,a=e.isRedoing||t.isRedoing,l=e.isFlush||t.isFlush;return{changes:i,eol:n,versionId:o,isUndoing:s,isRedoing:a,isFlush:l}}}});function T2(r){let e=[];if(Mv.test(r)){let t=o$.exec(r);for(;t?.length;){let i=t[1].trim();i&&e.push(i),t=o$.exec(r)}}return Ua(e)}function sue(r){switch(Array.isArray(r)?r[0]:r){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}function aue(r){return r.trim()?Mv.test(r)?g("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",r):a$.getConfigurationProperties()[r]!==void 0?g("config.property.duplicate","Cannot register '{0}'. This property is already registered.",r):null:g("config.property.empty","Cannot register an empty property")}var al,D2,L2,k2,I2,O2,Dk,yy,n$,r$,s$,o$,yp,Mv,a$,Sp=ge(()=>{jt();Ee();ai();ke();vL();as();al={Configuration:"base.contributions.configuration"},D2={properties:{},patternProperties:{}},L2={properties:{},patternProperties:{}},k2={properties:{},patternProperties:{}},I2={properties:{},patternProperties:{}},O2={properties:{},patternProperties:{}},Dk={properties:{},patternProperties:{}},yy="vscode://schemas/settings/resourceLanguage",n$=Ti.as(Jm.JSONContribution),r$=class{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new B,this._onDidUpdateConfiguration=new B,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:g("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},n$.registerSchema(yy,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){let i=this.doRegisterConfigurations(e,t);n$.registerSchema(yy,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}registerDefaultConfigurations(e){var t;let i=[],n=[];for(let{overrides:o,source:s}of e)for(let a in o)if(i.push(a),Mv.test(a)){let l=Object.assign(Object.assign({},((t=this.configurationDefaultsOverrides.get(a))===null||t===void 0?void 0:t.value)||{}),o[a]);this.configurationDefaultsOverrides.set(a,{source:s,value:l});let c={type:"object",default:l,description:g("defaultLanguageConfiguration.description","Configure settings to be overridden for {0} language.",a),$ref:yy,defaultDefaultValue:l,source:Nr(s)?void 0:s};n.push(...T2(a)),this.configurationProperties[a]=c,this.defaultLanguageConfigurationOverridesNode.properties[a]=c}else{this.configurationDefaultsOverrides.set(a,{value:o[a],source:s});let l=this.configurationProperties[a];l&&(this.updatePropertyDefaultValue(a,l),this.updateSchema(a,l))}this.registerOverrideIdentifiers(n),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i,defaultsOverrides:!0})}registerOverrideIdentifiers(e){for(let t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t){let i=[];return e.forEach(n=>{i.push(...this.validateAndRegisterProperties(n,t,n.extensionInfo,n.restrictedProperties)),this.configurationContributors.push(n),this.registerJSONConfiguration(n)}),i}validateAndRegisterProperties(e,t=!0,i,n,o=3){o=fr(e.scope)?o:e.scope;let s=[],a=e.properties;if(a)for(let c in a){if(t&&aue(c)){delete a[c];continue}let d=a[c];if(d.source=i,d.defaultDefaultValue=a[c].default,this.updatePropertyDefaultValue(c,d),Mv.test(c)?d.scope=void 0:(d.scope=fr(d.scope)?o:d.scope,d.restricted=fr(d.restricted)?!!n?.includes(c):d.restricted),a[c].hasOwnProperty("included")&&!a[c].included){this.excludedConfigurationProperties[c]=a[c],delete a[c];continue}else this.configurationProperties[c]=a[c];!a[c].deprecationMessage&&a[c].markdownDeprecationMessage&&(a[c].deprecationMessage=a[c].markdownDeprecationMessage),s.push(c)}let l=e.allOf;if(l)for(let c of l)s.push(...this.validateAndRegisterProperties(c,t,i,n,o));return s}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(e){let t=i=>{let n=i.properties;if(n)for(let s in n)this.updateSchema(s,n[s]);let o=i.allOf;o&&o.forEach(t)};t(e)}updateSchema(e,t){switch(D2.properties[e]=t,t.scope){case 1:L2.properties[e]=t;break;case 2:k2.properties[e]=t;break;case 6:I2.properties[e]=t;break;case 3:O2.properties[e]=t;break;case 4:Dk.properties[e]=t;break;case 5:Dk.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t;break}}updateOverridePropertyPatternKey(){for(let e of this.overrideIdentifiers.values()){let t=`[${e}]`,i={type:"object",description:g("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:g("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:yy};this.updatePropertyDefaultValue(t,i),D2.properties[t]=i,L2.properties[t]=i,k2.properties[t]=i,I2.properties[t]=i,O2.properties[t]=i,Dk.properties[t]=i}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){let e={type:"object",description:g("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:g("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:yy};D2.patternProperties[yp]=e,L2.patternProperties[yp]=e,k2.patternProperties[yp]=e,I2.patternProperties[yp]=e,O2.patternProperties[yp]=e,Dk.patternProperties[yp]=e,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){let i=this.configurationDefaultsOverrides.get(e),n=i?.value,o=i?.source;Xo(n)&&(n=t.defaultDefaultValue,o=void 0),Xo(n)&&(n=sue(t.type)),t.default=n,t.defaultValueSource=o}},s$="\\[([^\\]]+)\\]",o$=new RegExp(s$,"g"),yp=`^(${s$})+$`,Mv=new RegExp(yp);a$=new r$;Ti.add(al.Configuration,a$)});var lue,l$,ag,zr,cue,Wd=ge(()=>{ke();Ee();no();as();oy();Sp();lue={ModesRegistry:"editor.modesRegistry"},l$=class{constructor(){this._onDidChangeLanguages=new B,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,i=this._languages.length;t<i;t++)if(this._languages[t]===e){this._languages.splice(t,1);return}}}}getLanguages(){return this._languages}},ag=new l$;Ti.add(lue.ModesRegistry,ag);zr="plaintext",cue=".txt";ag.registerLanguage({id:zr,extensions:[cue],aliases:[g("plainText.alias","Plain Text"),"text"],mimetypes:[Ys.text]});qi.register(zr,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0);Ti.as(al.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])});var Rv,_$,M2,b$=ge(()=>{Rv=class{constructor(e,t,i){this.range=e,this.nestingLevel=t,this.isInvalid=i}},_$=class{constructor(e,t,i,n){this.range=e,this.openingBracketRange=t,this.closingBracketRange=i,this.nestingLevel=n}},M2=class extends _${constructor(e,t,i,n,o){super(e,t,i,n);this.minVisibleColumnIndentation=o}}});function v$(r,e,t,i){return r!==t?pn(t-r,i):pn(0,i-e)}function w$(r){return r===0}function pn(r,e){return r*Ta+e}function Bc(r){let e=r,t=Math.floor(e/Ta),i=e-t*Ta;return new Ok(t,i)}function C$(r){return Math.floor(r/Ta)}function _n(r,e){return e<Ta?r+e:r-r%Ta+e}function y$(r,e){let t=r,i=e;if(i-t<=0)return Xs;let o=Math.floor(t/Ta),s=Math.floor(i/Ta),a=i-s*Ta;if(o===s){let l=t-o*Ta;return pn(0,a-l)}else return pn(s-o,a)}function Fv(r,e){return r<e}function hu(r,e){return r<=e}function Sy(r,e){return r>=e}function Ey(r){return pn(r.lineNumber-1,r.column-1)}function lg(r,e){let t=r,i=Math.floor(t/Ta),n=t-i*Ta,o=e,s=Math.floor(o/Ta),a=o-s*Ta;return new D(i+1,n+1,s+1,a+1)}function S$(r){let e=mr(r);return pn(e.length-1,e[e.length-1].length)}var Ok,Xs,Ta,uu=ge(()=>{He();ye();Ok=class{constructor(e,t){this.lineCount=e,this.columnCount=t}toString(){return`${this.lineCount},${this.columnCount}`}};Ok.zero=new Ok(0,0);Xs=0;Ta=Math.pow(2,26)});var Tk,A2,Nk,R2=ge(()=>{uu();Tk=class{constructor(e,t,i){this.startOffset=e,this.endOffset=t,this.newLength=i}},A2=class{constructor(e,t){this.documentLength=t,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map(i=>Nk.from(i))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);let t=this.edits[this.nextEditIdx],i=t?this.translateOldToCur(t.offsetObj):this.documentLength;return y$(e,i)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?pn(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):pn(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){let t=Bc(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?pn(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):pn(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){let t=this.edits[this.nextEditIdx],i=this.translateOldToCur(t.endOffsetAfterObj);if(hu(i,e)){this.nextEditIdx++;let n=Bc(i),o=Bc(this.translateOldToCur(t.endOffsetBeforeObj)),s=n.lineCount-o.lineCount;this.deltaOldToNewLineCount+=s;let a=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,l=n.columnCount-o.columnCount;this.deltaOldToNewColumnCount=a+l,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}else break}}},Nk=class{constructor(e,t,i){this.endOffsetBeforeObj=Bc(t),this.endOffsetAfterObj=Bc(_n(e,i)),this.offsetObj=Bc(e)}static from(e){return new Nk(e.startOffset,e.endOffset,e.newLength)}}});var Pk,Dn,F2,xy,xp=ge(()=>{Pk=new Array,Dn=class{constructor(e,t){this.items=e,this.additionalItems=t}static create(e,t){if(e<=128&&t.length===0){let i=Dn.cache[e];return i||(i=new Dn(e,t),Dn.cache[e]=i),i}return new Dn(e,t)}static getEmpty(){return this.empty}add(e,t){let i=t.getKey(e),n=i>>5;if(n===0){let s=1<<i|this.items;return s===this.items?this:Dn.create(s,this.additionalItems)}n--;let o=this.additionalItems.slice(0);for(;o.length<n;)o.push(0);return o[n]|=1<<(i&31),Dn.create(this.items,o)}merge(e){let t=this.items|e.items;if(this.additionalItems===Pk&&e.additionalItems===Pk)return t===this.items?this:t===e.items?e:Dn.create(t,Pk);let i=new Array;for(let n=0;n<Math.max(this.additionalItems.length,e.additionalItems.length);n++){let o=this.additionalItems[n]||0,s=e.additionalItems[n]||0;i.push(o|s)}return Dn.create(t,i)}intersects(e){if((this.items&e.items)!==0)return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if((this.additionalItems[t]&e.additionalItems[t])!==0)return!0;return!1}};Dn.cache=new Array(129);Dn.empty=Dn.create(0,Pk);F2={getKey(r){return r}},xy=class{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return t===void 0&&(t=this.items.size,this.items.set(e,t)),t}}});var Mk,Dp,ll,Bv,E$,Dy,x$,uue,Ak,cg,jv,B2,Ly=ge(()=>{Mc();uu();xp();Mk=class{constructor(e){this._length=e}get length(){return this._length}},Dp=class extends Mk{constructor(e,t,i,n,o){super(e);this.openingBracket=t,this.child=i,this.closingBracket=n,this.missingOpeningBracketIds=o}static create(e,t,i){let n=e.length;return t&&(n=_n(n,t.length)),i&&(n=_n(n,i.length)),new Dp(n,e,t,i,t?t.missingOpeningBracketIds:Dn.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){let e=new Array;return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}canBeReused(e){return!(this.closingBracket===null||e.intersects(this.missingOpeningBracketIds))}deepClone(){return new Dp(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation(_n(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}},ll=class extends Mk{constructor(e,t,i){super(e);this.listHeight=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}static create23(e,t,i,n=!1){let o=e.length,s=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(o=_n(o,t.length),s=s.merge(t.missingOpeningBracketIds),i){if(e.listHeight!==i.listHeight)throw new Error("Invalid list heights");o=_n(o,i.length),s=s.merge(i.missingOpeningBracketIds)}return n?new E$(o,e.listHeight+1,e,t,i,s):new Bv(o,e.listHeight+1,e,t,i,s)}static getEmpty(){return new x$(Xs,0,[],Dn.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();let e=this.childrenLength;if(e===0)return;let t=this.getChild(e-1),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(e-1,i),i}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;let t=this.getChild(0),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(0,i),i}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds))return!1;let t=this,i;for(;t.kind===4&&(i=t.childrenLength)>0;)t=t.getChild(i-1);return t.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();let e=this.childrenLength,t=this.getChild(0).length,i=this.getChild(0).missingOpeningBracketIds;for(let n=1;n<e;n++){let o=this.getChild(n);t=_n(t,o.length),i=i.merge(o.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let i=Number.MAX_SAFE_INTEGER,n=e;for(let o=0;o<this.childrenLength;o++){let s=this.getChild(o);s&&(i=Math.min(i,s.computeMinIndentation(n,t)),n=_n(n,s.length))}return this.cachedMinIndentation=i,i}},Bv=class extends ll{constructor(e,t,i,n,o,s){super(e,t,s);this._item1=i,this._item2=n,this._item3=o}get childrenLength(){return this._item3!==null?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:this._item1=t;return;case 1:this._item2=t;return;case 2:this._item3=t;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new Bv(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();let e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();let e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}},E$=class extends Bv{toMutable(){return new Bv(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}},Dy=class extends ll{constructor(e,t,i,n){super(e,t,n);this._children=i}get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}deepClone(){let e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new Dy(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();let e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();let e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}},x$=class extends Dy{toMutable(){return new Dy(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}},uue=[],Ak=class extends Mk{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return uue}deepClone(){return this}},cg=class extends Ak{get kind(){return 0}get missingOpeningBracketIds(){return Dn.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){let i=Bc(e),n=(i.columnCount===0?i.lineCount:i.lineCount+1)+1,o=C$(_n(e,this.length))+1,s=Number.MAX_SAFE_INTEGER;for(let a=n;a<=o;a++){let l=t.getLineFirstNonWhitespaceColumn(a),c=t.getLineContent(a);if(l===0)continue;let d=Zi.visibleColumnFromColumn(c,l,t.getOptions().tabSize);s=Math.min(s,d)}return s}},jv=class extends Ak{constructor(e,t,i){super(e);this.languageId=t,this.bracketIds=i}static create(e,t,i){return new jv(e,t,i)}get kind(){return 1}get missingOpeningBracketIds(){return Dn.getEmpty()}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}},B2=class extends Ak{constructor(e,t){super(t);this.missingOpeningBracketIds=e}get kind(){return 3}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}});var Ud,ky,D$,j2,Rk=ge(()=>{ut();cn();Ly();uu();xp();Ud=class{constructor(e,t,i,n,o){this.length=e,this.kind=t,this.bracketId=i,this.bracketIds=n,this.astNode=o}},ky=class{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new D$(this.textModel,this.bracketTokens),this._offset=Xs,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return pn(this.textBufferLineCount,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=_n(this._offset,e);let t=Bc(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=_n(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}},D$=class{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){let o=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=o.length,o}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));let e=this.lineIdx,t=this.lineCharOffset,i=0;for(;;){let o=this.lineTokens,s=o.getCount(),a=null;if(this.lineTokenOffset<s){let l=o.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<s&&l===o.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;let c=tr.getTokenType(l)===0,d=o.getEndOffset(this.lineTokenOffset);if(c&&d!==this.lineCharOffset){let h=o.getLanguageId(this.lineTokenOffset),u=this.line.substring(this.lineCharOffset,d),f=this.bracketTokens.getSingleLanguageBracketTokens(h),m=f.regExpGlobal;if(m){m.lastIndex=0;let _=m.exec(u);_&&(a=f.getToken(_[0]),a&&(this.lineCharOffset+=_.index))}}if(i+=d-this.lineCharOffset,a)if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=a;break}else return this.lineCharOffset+=a.length,a;else this.lineTokenOffset++,this.lineCharOffset=d}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,i+=33,i>1e3))break;if(i>1500)break}let n=v$(e,t,this.lineIdx,this.lineCharOffset);return new Ud(n,0,-1,Dn.getEmpty(),new cg(n))}},j2=class{constructor(e,t){this.text=e,this._offset=Xs,this.idx=0;let n=t.getRegExpStr()?new RegExp(t.getRegExpStr()+`|
`,"g"):null,o=[],s,a=0,l=0,c=0,d=0,h=new Array;for(let m=0;m<60;m++)h.push(new Ud(pn(0,m),0,-1,Dn.getEmpty(),new cg(pn(0,m))));let u=new Array;for(let m=0;m<60;m++)u.push(new Ud(pn(1,m),0,-1,Dn.getEmpty(),new cg(pn(1,m))));if(n)for(n.lastIndex=0;(s=n.exec(e))!==null;){let m=s.index,_=s[0];if(_===`
`)a++,l=m+1;else{if(c!==m){let w;if(d===a){let y=m-c;if(y<h.length)w=h[y];else{let C=pn(0,y);w=new Ud(C,0,-1,Dn.getEmpty(),new cg(C))}}else{let y=a-d,C=m-l;if(y===1&&C<u.length)w=u[C];else{let E=pn(y,C);w=new Ud(E,0,-1,Dn.getEmpty(),new cg(E))}}o.push(w)}o.push(t.getToken(_)),c=m+_.length,d=a}}let f=e.length;if(c!==f){let m=d===a?pn(0,f-c):pn(a-d,f-l);o.push(new Ud(m,0,-1,Dn.getEmpty(),new cg(m)))}this.length=pn(a,f-l),this.tokens=o}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new BP}}});function gue(r){let e=Io(r);return/^[\w ]+$/.test(r)?`\\b${e}\\b`:e}var Iy,Oy,W2=ge(()=>{He();Ly();uu();xp();Rk();Iy=class{constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(e,t){function i(l,c){return t.getKey(`${l}:::${c}`)}let n=e.characterPair.getColorizedBrackets(),o=new Map,s=new Set;for(let[l,c]of n){s.add(l);let d=o.get(c),h=i(e.languageId,l);d||(d={openingBrackets:Dn.getEmpty(),first:h},o.set(c,d)),d.openingBrackets=d.openingBrackets.add(h,F2)}let a=new Map;for(let[l,c]of o){let d=pn(0,l.length);a.set(l,new Ud(d,2,c.first,c.openingBrackets,jv.create(d,e.languageId,c.openingBrackets)))}for(let l of s){let c=pn(0,l.length),d=i(e.languageId,l),h=Dn.getEmpty().add(d,F2);a.set(l,new Ud(c,1,d,h,jv.create(c,e.languageId,h)))}return new Iy(a)}getRegExpStr(){if(this.isEmpty)return null;{let e=[...this.map.keys()];return e.sort(),e.reverse(),e.map(t=>gue(t)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){let e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e)}findClosingTokenText(e){for(let[t,i]of this.map)if(i.bracketIds.intersects(e))return t}get isEmpty(){return this.map.size===0}};Oy=class{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){let t=this.languageIdToBracketTokens.get(e);if(!t)return!1;let i=Iy.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider).getRegExpStr();return t.getRegExpStr()!==i}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=Iy.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}});function k$(r){if(r.length===0)return null;if(r.length===1)return r[0];let e=0;function t(){if(e>=r.length)return null;let s=e,a=r[s].listHeight;for(e++;e<r.length&&r[e].listHeight===a;)e++;return e-s>=2?z2(s===0&&e===r.length?r:r.slice(s,e),!1):r[s]}let i=t(),n=t();if(!n)return i;for(let s=t();s;s=t())L$(i,n)<=L$(n,s)?(i=U2(i,n),n=s):n=U2(n,s);return U2(i,n)}function z2(r,e=!1){if(r.length===0)return null;if(r.length===1)return r[0];let t=r.length;for(;t>3;){let i=t>>1;for(let n=0;n<i;n++){let o=n<<1;r[n]=ll.create23(r[o],r[o+1],o+3===t?r[o+2]:null,e)}t=i}return ll.create23(r[0],r[1],t>=3?r[2]:null,e)}function L$(r,e){return Math.abs(r.listHeight-e.listHeight)}function U2(r,e){return r.listHeight===e.listHeight?ll.create23(r,e,null,!1):r.listHeight>e.listHeight?mue(r,e):pue(e,r)}function mue(r,e){r=r.toMutable();let t=r,i=new Array,n;for(;;){if(e.listHeight===t.listHeight){n=e;break}if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeLastElementMutable()}for(let o=i.length-1;o>=0;o--){let s=i[o];n?s.childrenLength>=3?n=ll.create23(s.unappendChild(),n,null,!1):(s.appendChildOfSameHeight(n),n=void 0):s.handleChildrenChanged()}return n?ll.create23(r,n,null,!1):r}function pue(r,e){r=r.toMutable();let t=r,i=new Array;for(;e.listHeight!==t.listHeight;){if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeFirstElementMutable()}let n=e;for(let o=i.length-1;o>=0;o--){let s=i[o];n?s.childrenLength>=3?n=ll.create23(n,s.unprependChild(),null,!1):(s.prependChildOfSameHeight(n),n=void 0):s.handleChildrenChanged()}return n?ll.create23(n,r,null,!1):r}var I$=ge(()=>{Ly()});function V2(r,e=-1){for(;;){if(e++,e>=r.childrenLength)return-1;if(r.getChild(e))return e}}function Ty(r){return r.length>0?r[r.length-1]:void 0}var H2,O$=ge(()=>{uu();H2=class{constructor(e){this.lastOffset=Xs,this.nextNodes=[e],this.offsets=[Xs],this.idxs=[]}readLongestNodeAt(e,t){if(Fv(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){let i=Ty(this.nextNodes);if(!i)return;let n=Ty(this.offsets);if(Fv(e,n))return;if(Fv(n,e))if(_n(n,i.length)<=e)this.nextNodeAfterCurrent();else{let o=V2(i);o!==-1?(this.nextNodes.push(i.getChild(o)),this.offsets.push(n),this.idxs.push(o)):this.nextNodeAfterCurrent()}else{if(t(i))return this.nextNodeAfterCurrent(),i;{let o=V2(i);if(o===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(i.getChild(o)),this.offsets.push(n),this.idxs.push(o)}}}}nextNodeAfterCurrent(){for(;;){let e=Ty(this.offsets),t=Ty(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;let i=Ty(this.nextNodes),n=V2(i,this.idxs[this.idxs.length-1]);if(n!==-1){this.nextNodes.push(i.getChild(n)),this.offsets.push(_n(e,t.length)),this.idxs[this.idxs.length-1]=n;break}else this.idxs.pop()}}}});function Ny(r,e,t,i){return new T$(r,e,t,i).parseDocument()}var T$,$2=ge(()=>{Ly();R2();xp();uu();I$();O$();T$=class{constructor(e,t,i,n){if(this.tokenizer=e,this.createImmutableLists=n,this._itemsConstructed=0,this._itemsFromCache=0,i&&n)throw new Error("Not supported");this.oldNodeReader=i?new H2(i):void 0,this.positionMapper=new A2(t,e.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(Dn.getEmpty());return e||(e=ll.getEmpty()),e}parseList(e){let t=new Array;for(;;){let n=this.tokenizer.peek();if(!n||n.kind===2&&n.bracketIds.intersects(e))break;let o=this.parseChild(e);o.kind===4&&o.childrenLength===0||t.push(o)}return this.oldNodeReader?k$(t):z2(t,this.createImmutableLists)}parseChild(e){if(this.oldNodeReader){let i=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!w$(i)){let n=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),o=>Fv(o.length,i)?o.canBeReused(e):!1);if(n)return this._itemsFromCache++,this.tokenizer.skip(n.length),n}}this._itemsConstructed++;let t=this.tokenizer.read();switch(t.kind){case 2:return new B2(t.bracketIds,t.length);case 0:return t.astNode;case 1:{let i=e.merge(t.bracketIds),n=this.parseList(i),o=this.tokenizer.peek();return o&&o.kind===2&&(o.bracketId===t.bracketId||o.bracketIds.intersects(t.bracketIds))?(this.tokenizer.read(),Dp.create(t.astNode,n,o.astNode)):Dp.create(t.astNode,n,null)}default:throw new Error("unexpected")}}}});function K2(r,e,t,i,n,o,s=0){if(r.kind===4)for(let a of r.children)t=_n(e,a.length),hu(e,n)&&Sy(t,i)&&K2(a,e,t,i,n,o,s),e=t;else if(r.kind===2){s++;{let a=r.openingBracket;if(t=_n(e,a.length),hu(e,n)&&Sy(t,i)){let l=lg(e,t);o.push(new Rv(l,s-1,!r.closingBracket))}e=t}if(r.child){let a=r.child;t=_n(e,a.length),hu(e,n)&&Sy(t,i)&&K2(a,e,t,i,n,o,s),e=t}if(r.closingBracket){let a=r.closingBracket;if(t=_n(e,a.length),hu(e,n)&&Sy(t,i)){let l=lg(e,t);o.push(new Rv(l,s-1,!1))}e=t}}else if(r.kind===3){let a=lg(e,t);o.push(new Rv(a,s-1,!0))}else if(r.kind===1){let a=lg(e,t);o.push(new Rv(a,s-1,!1))}}function P$(r,e,t,i,n,o,s=0){var a;if(r.kind===2){let c=_n(e,r.openingBracket.length),d=-1;o.includeMinIndentation&&(d=r.computeMinIndentation(e,o.textModel)),o.result.push(new M2(lg(e,t),lg(e,c),r.closingBracket?lg(_n(c,((a=r.child)===null||a===void 0?void 0:a.length)||Xs),t):void 0,s,d)),s++}let l=e;for(let c of r.children){let d=l;l=_n(l,c.length),hu(d,n)&&hu(i,l)&&P$(c,d,l,i,n,o,s)}}var q2,N$,M$=ge(()=>{Ee();re();ye();b$();R2();W2();uu();$2();xp();Rk();q2=class extends ${constructor(e,t){super();if(this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new B,this.denseKeyProvider=new xy,this.brackets=new Oy(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,e.backgroundTokenizationState===0){let i=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),n=new j2(this.textModel.getValue(),i);this.initialAstWithoutTokens=Ny(n,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else e.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):e.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(e){return this.brackets.didLanguageChange(e)}handleDidChangeBackgroundTokenizationState(){if(this.textModel.backgroundTokenizationState===2){let e=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:e}){let t=e.map(i=>new Tk(pn(i.fromLineNumber-1,0),pn(i.toLineNumber,0),pn(i.toLineNumber-i.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(t,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(e){let t=e.changes.map(i=>{let n=D.lift(i.range);return new Tk(Ey(n.getStartPosition()),Ey(n.getEndPosition()),S$(i.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(t,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(t,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(e,t,i){let o=t,s=new ky(this.textModel,this.brackets);return Ny(s,e,o,i)}getBracketsInRange(e){let t=pn(e.startLineNumber-1,e.startColumn-1),i=pn(e.endLineNumber-1,e.endColumn-1),n=new Array,o=this.initialAstWithoutTokens||this.astWithTokens;return K2(o,Xs,o.length,t,i,n),n}getBracketPairsInRange(e,t){let i=new Array,n=Ey(e.getStartPosition()),o=Ey(e.getEndPosition()),s=this.initialAstWithoutTokens||this.astWithTokens,a=new N$(i,t,this.textModel);return P$(s,Xs,s.length,n,o,a),i}};N$=class{constructor(e,t,i){this.result=e,this.includeMinIndentation=t,this.textModel=i}}});function _ue(r,e){return{object:r,dispose:()=>e?.dispose()}}function Y2(r){if(typeof r>"u")return()=>!0;{let e=Date.now();return()=>Date.now()-e<=r}}function Fk(r){return r instanceof zd?null:r}var Z2,zd,A$=ge(()=>{Ee();re();M$();Eb();PD();Z2=class extends ${constructor(e,t){super();this.textModel=e,this.languageConfigurationService=t,this.bracketPairsTree=this._register(new kn),this.onDidChangeEmitter=new B,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(i=>{var n;(!i.languageId||((n=this.bracketPairsTree.value)===null||n===void 0?void 0:n.object.didLanguageChange(i.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get isDocumentSupported(){return this.textModel.getValueLength()<=5e6}handleDidChangeOptions(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(e){var t;(t=this.bracketPairsTree.value)===null||t===void 0||t.object.handleContentChanged(e)}handleDidChangeBackgroundTokenizationState(){var e;(e=this.bracketPairsTree.value)===null||e===void 0||e.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(e){var t;(t=this.bracketPairsTree.value)===null||t===void 0||t.object.handleDidChangeTokens(e)}updateBracketPairsTree(){if(this.bracketsRequested&&this.isDocumentSupported){if(!this.bracketPairsTree.value){let e=new J;this.bracketPairsTree.value=_ue(e.add(new q2(this.textModel,t=>this.languageConfigurationService.getLanguageConfiguration(t))),e),e.add(this.bracketPairsTree.value.object.onDidChange(t=>this.onDidChangeEmitter.fire(t))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getBracketPairsInRange(e,!1))||[]}getBracketPairsInRangeWithMinIndentation(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getBracketPairsInRange(e,!0))||[]}getBracketsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getBracketsInRange(e))||[]}findMatchingBracketUp(e,t,i){let n=e.toLowerCase(),o=this.textModel.validatePosition(t),s=this.textModel.getLanguageIdAtPosition(o.lineNumber,o.column),a=this.languageConfigurationService.getLanguageConfiguration(s).brackets;if(!a)return null;let l=a.textIsBracket[n];return l?Fk(this._findMatchingBracketUp(l,o,Y2(i))):null}matchBracket(e,t){let i=Y2(t);return this._matchBracket(this.textModel.validatePosition(e),i)}_establishBracketSearchOffsets(e,t,i,n){let o=t.getCount(),s=t.getLanguageId(n),a=Math.max(0,e.column-1-i.maxBracketLength);for(let c=n-1;c>=0;c--){let d=t.getEndOffset(c);if(d<=a)break;if(Bl(t.getStandardTokenType(c))||t.getLanguageId(c)!==s){a=d;break}}let l=Math.min(t.getLineContent().length,e.column-1+i.maxBracketLength);for(let c=n+1;c<o;c++){let d=t.getStartOffset(c);if(d>=l)break;if(Bl(t.getStandardTokenType(c))||t.getLanguageId(c)!==s){l=d;break}}return{searchStartOffset:a,searchEndOffset:l}}_matchBracket(e,t){let i=e.lineNumber,n=this.textModel.getLineTokens(i),o=this.textModel.getLineContent(i),s=n.findTokenIndexAtOffset(e.column-1);if(s<0)return null;let a=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId(s)).brackets;if(a&&!Bl(n.getStandardTokenType(s))){let{searchStartOffset:l,searchEndOffset:c}=this._establishBracketSearchOffsets(e,n,a,s),d=null;for(;;){let h=zs.findNextBracketInRange(a.forwardRegex,i,o,l,c);if(!h)break;if(h.startColumn<=e.column&&e.column<=h.endColumn){let u=o.substring(h.startColumn-1,h.endColumn-1).toLowerCase(),f=this._matchFoundBracket(h,a.textIsBracket[u],a.textIsOpenBracket[u],t);if(f){if(f instanceof zd)return null;d=f}}l=h.endColumn-1}if(d)return d}if(s>0&&n.getStartOffset(s)===e.column-1){let l=s-1,c=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId(l)).brackets;if(c&&!Bl(n.getStandardTokenType(l))){let{searchStartOffset:d,searchEndOffset:h}=this._establishBracketSearchOffsets(e,n,c,l),u=zs.findPrevBracketInRange(c.reversedRegex,i,o,d,h);if(u&&u.startColumn<=e.column&&e.column<=u.endColumn){let f=o.substring(u.startColumn-1,u.endColumn-1).toLowerCase(),m=this._matchFoundBracket(u,c.textIsBracket[f],c.textIsOpenBracket[f],t);if(m)return m instanceof zd?null:m}}}return null}_matchFoundBracket(e,t,i,n){if(!t)return null;let o=i?this._findMatchingBracketDown(t,e.getEndPosition(),n):this._findMatchingBracketUp(t,e.getStartPosition(),n);return o?o instanceof zd?o:[e,o]:null}_findMatchingBracketUp(e,t,i){let n=e.languageId,o=e.reversedRegex,s=-1,a=0,l=(c,d,h,u)=>{for(;;){if(i&&++a%100===0&&!i())return zd.INSTANCE;let f=zs.findPrevBracketInRange(o,c,d,h,u);if(!f)break;let m=d.substring(f.startColumn-1,f.endColumn-1).toLowerCase();if(e.isOpen(m)?s++:e.isClose(m)&&s--,s===0)return f;u=f.startColumn-1}return null};for(let c=t.lineNumber;c>=1;c--){let d=this.textModel.getLineTokens(c),h=d.getCount(),u=this.textModel.getLineContent(c),f=h-1,m=u.length,_=u.length;c===t.lineNumber&&(f=d.findTokenIndexAtOffset(t.column-1),m=t.column-1,_=t.column-1);let w=!0;for(;f>=0;f--){let y=d.getLanguageId(f)===n&&!Bl(d.getStandardTokenType(f));if(y)w?m=d.getStartOffset(f):(m=d.getStartOffset(f),_=d.getEndOffset(f));else if(w&&m!==_){let C=l(c,u,m,_);if(C)return C}w=y}if(w&&m!==_){let y=l(c,u,m,_);if(y)return y}}return null}_findMatchingBracketDown(e,t,i){let n=e.languageId,o=e.forwardRegex,s=1,a=0,l=(d,h,u,f)=>{for(;;){if(i&&++a%100===0&&!i())return zd.INSTANCE;let m=zs.findNextBracketInRange(o,d,h,u,f);if(!m)break;let _=h.substring(m.startColumn-1,m.endColumn-1).toLowerCase();if(e.isOpen(_)?s++:e.isClose(_)&&s--,s===0)return m;u=m.endColumn-1}return null},c=this.textModel.getLineCount();for(let d=t.lineNumber;d<=c;d++){let h=this.textModel.getLineTokens(d),u=h.getCount(),f=this.textModel.getLineContent(d),m=0,_=0,w=0;d===t.lineNumber&&(m=h.findTokenIndexAtOffset(t.column-1),_=t.column-1,w=t.column-1);let y=!0;for(;m<u;m++){let C=h.getLanguageId(m)===n&&!Bl(h.getStandardTokenType(m));if(C)y||(_=h.getStartOffset(m)),w=h.getEndOffset(m);else if(y&&_!==w){let E=l(d,f,_,w);if(E)return E}y=C}if(y&&_!==w){let C=l(d,f,_,w);if(C)return C}}return null}findPrevBracket(e){let t=this.textModel.validatePosition(e),i=null,n=null;for(let o=t.lineNumber;o>=1;o--){let s=this.textModel.getLineTokens(o),a=s.getCount(),l=this.textModel.getLineContent(o),c=a-1,d=l.length,h=l.length;if(o===t.lineNumber){c=s.findTokenIndexAtOffset(t.column-1),d=t.column-1,h=t.column-1;let f=s.getLanguageId(c);i!==f&&(i=f,n=this.languageConfigurationService.getLanguageConfiguration(i).brackets)}let u=!0;for(;c>=0;c--){let f=s.getLanguageId(c);if(i!==f){if(n&&u&&d!==h){let _=zs.findPrevBracketInRange(n.reversedRegex,o,l,d,h);if(_)return this._toFoundBracket(n,_);u=!1}i=f,n=this.languageConfigurationService.getLanguageConfiguration(i).brackets}let m=!!n&&!Bl(s.getStandardTokenType(c));if(m)u?d=s.getStartOffset(c):(d=s.getStartOffset(c),h=s.getEndOffset(c));else if(n&&u&&d!==h){let _=zs.findPrevBracketInRange(n.reversedRegex,o,l,d,h);if(_)return this._toFoundBracket(n,_)}u=m}if(n&&u&&d!==h){let f=zs.findPrevBracketInRange(n.reversedRegex,o,l,d,h);if(f)return this._toFoundBracket(n,f)}}return null}findNextBracket(e){let t=this.textModel.validatePosition(e),i=this.textModel.getLineCount(),n=null,o=null;for(let s=t.lineNumber;s<=i;s++){let a=this.textModel.getLineTokens(s),l=a.getCount(),c=this.textModel.getLineContent(s),d=0,h=0,u=0;if(s===t.lineNumber){d=a.findTokenIndexAtOffset(t.column-1),h=t.column-1,u=t.column-1;let m=a.getLanguageId(d);n!==m&&(n=m,o=this.languageConfigurationService.getLanguageConfiguration(n).brackets)}let f=!0;for(;d<l;d++){let m=a.getLanguageId(d);if(n!==m){if(o&&f&&h!==u){let w=zs.findNextBracketInRange(o.forwardRegex,s,c,h,u);if(w)return this._toFoundBracket(o,w);f=!1}n=m,o=this.languageConfigurationService.getLanguageConfiguration(n).brackets}let _=!!o&&!Bl(a.getStandardTokenType(d));if(_)f||(h=a.getStartOffset(d)),u=a.getEndOffset(d);else if(o&&f&&h!==u){let w=zs.findNextBracketInRange(o.forwardRegex,s,c,h,u);if(w)return this._toFoundBracket(o,w)}f=_}if(o&&f&&h!==u){let m=zs.findNextBracketInRange(o.forwardRegex,s,c,h,u);if(m)return this._toFoundBracket(o,m)}}return null}findEnclosingBrackets(e,t){let i=Y2(t),n=this.textModel.validatePosition(e),o=this.textModel.getLineCount(),s=new Map,a=[],l=(f,m)=>{if(!s.has(f)){let _=[];for(let w=0,y=m?m.brackets.length:0;w<y;w++)_[w]=0;s.set(f,_)}a=s.get(f)},c=0,d=(f,m,_,w,y)=>{for(;;){if(i&&++c%100===0&&!i())return zd.INSTANCE;let C=zs.findNextBracketInRange(f.forwardRegex,m,_,w,y);if(!C)break;let E=_.substring(C.startColumn-1,C.endColumn-1).toLowerCase(),L=f.textIsBracket[E];if(L&&(L.isOpen(E)?a[L.index]++:L.isClose(E)&&a[L.index]--,a[L.index]===-1))return this._matchFoundBracket(C,L,!1,i);w=C.endColumn-1}return null},h=null,u=null;for(let f=n.lineNumber;f<=o;f++){let m=this.textModel.getLineTokens(f),_=m.getCount(),w=this.textModel.getLineContent(f),y=0,C=0,E=0;if(f===n.lineNumber){y=m.findTokenIndexAtOffset(n.column-1),C=n.column-1,E=n.column-1;let k=m.getLanguageId(y);h!==k&&(h=k,u=this.languageConfigurationService.getLanguageConfiguration(h).brackets,l(h,u))}let L=!0;for(;y<_;y++){let k=m.getLanguageId(y);if(h!==k){if(u&&L&&C!==E){let I=d(u,f,w,C,E);if(I)return Fk(I);L=!1}h=k,u=this.languageConfigurationService.getLanguageConfiguration(h).brackets,l(h,u)}let M=!!u&&!Bl(m.getStandardTokenType(y));if(M)L||(C=m.getStartOffset(y)),E=m.getEndOffset(y);else if(u&&L&&C!==E){let I=d(u,f,w,C,E);if(I)return Fk(I)}L=M}if(u&&L&&C!==E){let k=d(u,f,w,C,E);if(k)return Fk(k)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.textModel.getValueInRange(t);i=i.toLowerCase();let n=e.textIsBracket[i];return n?{range:t,open:n.open,close:n.close,isOpen:e.textIsOpenBracket[i]}:null}};zd=class{constructor(){this._searchCanceledBrand=void 0}};zd.INSTANCE=new zd});var G2,X2,R$=ge(()=>{Ee();re();ye();Gs();pt();G2=class extends ${constructor(e){super();this.textModel=e,this.colorProvider=new X2,this.onDidChangeEmitter=new B,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.bracketPairs.onDidChange(t=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(e){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(e,t,i){if(t===void 0)return[];if(!this.colorizationOptions.enabled)return[];let n=new Array,o=this.textModel.bracketPairs.getBracketsInRange(e);for(let s of o)n.push({id:`bracket${s.range.toString()}-${s.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(s)},ownerId:0,range:s.range});return n}getAllDecorations(e,t){return e===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new D(1,1,this.textModel.getLineCount(),1),e,t):[]}},X2=class{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(e.nestingLevel)}getInlineClassNameOfLevel(e){return`bracket-highlighting-${e%30}`}};yt((r,e)=>{let t=[QL,JL,ek,tk,ik,nk],i=new X2;e.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${r.getColor(vH)}; }`);let n=t.map(o=>r.getColor(o)).filter(o=>!!o).filter(o=>!o.isTransparent());for(let o=0;o<30;o++){let s=n[o%n.length];e.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(o)} { color: ${s}; }`)}})});function Bk(r){return r.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}function F$(r,e){return r===null||r.length===0?e:new jc(r,e).compress()}var bo,jc,Q2=ge(()=>{Db();Tf();bo=class{constructor(e,t,i,n){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=n}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${Bk(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${Bk(this.oldText)}")`:`(replace@${this.oldPosition} "${Bk(this.oldText)}" with "${Bk(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){let n=t.length;Qa(e,n,i),i+=4;for(let o=0;o<n;o++)yW(e,t.charCodeAt(o),i),i+=2;return i}static _readString(e,t){let i=Xa(e,t);return t+=4,OD(e,t,i)}writeSize(){return 4+4+bo._writeStringSize(this.oldText)+bo._writeStringSize(this.newText)}write(e,t){return Qa(e,this.oldPosition,t),t+=4,Qa(e,this.newPosition,t),t+=4,t=bo._writeString(e,this.oldText,t),t=bo._writeString(e,this.newText,t),t}static read(e,t,i){let n=Xa(e,t);t+=4;let o=Xa(e,t);t+=4;let s=bo._readString(e,t);t+=bo._writeStringSize(s);let a=bo._readString(e,t);return t+=bo._writeStringSize(a),i.push(new bo(n,s,o,a)),t}};jc=class{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),n=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(i===null){this._acceptCurr(n),n=this._getCurr(++t);continue}if(n===null){this._acceptPrev(i),i=this._getPrev(++e);continue}if(n.oldEnd<=i.newPosition){this._acceptCurr(n),n=this._getCurr(++t);continue}if(i.newEnd<=n.oldPosition){this._acceptPrev(i),i=this._getPrev(++e);continue}if(n.oldPosition<i.newPosition){let[c,d]=jc._splitCurr(n,i.newPosition-n.oldPosition);this._acceptCurr(c),n=d;continue}if(i.newPosition<n.oldPosition){let[c,d]=jc._splitPrev(i,n.oldPosition-i.newPosition);this._acceptPrev(c),i=d;continue}let a,l;if(n.oldEnd===i.newEnd)a=i,l=n,i=this._getPrev(++e),n=this._getCurr(++t);else if(n.oldEnd<i.newEnd){let[c,d]=jc._splitPrev(i,n.oldLength);a=c,l=n,i=d,n=this._getCurr(++t)}else{let[c,d]=jc._splitCurr(n,i.newLength);a=i,l=c,i=this._getPrev(++e),n=d}this._result[this._resultLen++]=new bo(a.oldPosition,a.oldText,l.newPosition,l.newText),this._prevDeltaOffset+=a.newLength-a.oldLength,this._currDeltaOffset+=l.newLength-l.oldLength}let o=jc._merge(this._result);return jc._removeNoOps(o)}_acceptCurr(e){this._result[this._resultLen++]=jc._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=jc._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new bo(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new bo(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){let i=e.newText.substr(0,t),n=e.newText.substr(t);return[new bo(e.oldPosition,e.oldText,e.newPosition,i),new bo(e.oldEnd,"",e.newPosition+t,n)]}static _splitCurr(e,t){let i=e.oldText.substr(0,t),n=e.oldText.substr(t);return[new bo(e.oldPosition,i,e.newPosition,e.newText),new bo(e.oldPosition+t,n,e.newEnd,"")]}static _merge(e){if(e.length===0)return e;let t=[],i=0,n=e[0];for(let o=1;o<e.length;o++){let s=e[o];n.oldEnd===s.oldPosition?n=new bo(n.oldPosition,n.oldText+s.oldText,n.newPosition,n.newText+s.newText):(t[i++]=n,n=s)}return t[i++]=n,t}static _removeNoOps(e){if(e.length===0)return e;let t=[],i=0;for(let n=0;n<e.length;n++){let o=e[n];o.oldText!==o.newText&&(t[i++]=o)}return t}}});function dg(r){return r===47||r===92}function J2(r){return r.replace(/[\\/]/g,gn.sep)}function B$(r){return r.indexOf("/")===-1&&(r=J2(r)),/^[a-zA-Z]:(\/|$)/.test(r)&&(r="/"+r),r}function eF(r,e=gn.sep){if(!r)return"";let t=r.length,i=r.charCodeAt(0);if(dg(i)){if(dg(r.charCodeAt(1))&&!dg(r.charCodeAt(2))){let o=3,s=o;for(;o<t&&!dg(r.charCodeAt(o));o++);if(s!==o&&!dg(r.charCodeAt(o+1))){for(o+=1;o<t;o++)if(dg(r.charCodeAt(o)))return r.slice(0,o+1).replace(/[\\/]/g,e)}}return e}else if(j$(i)&&r.charCodeAt(1)===58)return dg(r.charCodeAt(2))?r.slice(0,2)+e:r.slice(0,2);let n=r.indexOf("://");if(n!==-1){for(n+=3;n<t;n++)if(dg(r.charCodeAt(n)))return r.slice(0,n+1)}return""}function Py(r,e,t,i=fd){if(r===e)return!0;if(!r||!e||e.length>r.length)return!1;if(t){if(!pb(r,e))return!1;if(e.length===r.length)return!0;let o=e.length;return e.charAt(e.length-1)===i&&o--,r.charAt(o)===i}return e.charAt(e.length-1)!==i&&(e+=i),r.indexOf(e)===0}function j$(r){return r>=65&&r<=90||r>=97&&r<=122}function W$(r){let e=hb(r);return Ri?r.length>3?!1:tF(e)&&(r.length===2||e.charCodeAt(2)===92):e===gn.sep}function tF(r,e){return(e!==void 0?e:Ri)?j$(r.charCodeAt(0))&&r.charCodeAt(1)===58:!1}var jk=ge(()=>{xf();xt();He()});function Wc(r){return KC(r,!0)}var Wk,Ui,NUe,PUe,Uk,MUe,AUe,V$,qo,H$,hg,$$,K$,RUe,iF,FUe,U$,z$,BUe,jUe,Vd,Vr=ge(()=>{jk();rs();xf();xt();He();Oi();Wk=class{constructor(e){this._ignorePathCasing=e}compare(e,t,i=!1){return e===t?0:Lf(this.getComparisonKey(e,i),this.getComparisonKey(t,i))}isEqual(e,t,i=!1){return e===t?!0:!e||!t?!1:this.getComparisonKey(e,i)===this.getComparisonKey(t,i)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(e,t,i=!1){if(e.scheme===t.scheme){if(e.scheme===rt.file)return Py(Wc(e),Wc(t),this._ignorePathCasing(e))&&e.query===t.query&&(i||e.fragment===t.fragment);if(U$(e.authority,t.authority))return Py(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(i||e.fragment===t.fragment)}return!1}joinPath(e,...t){return De.joinPath(e,...t)}basenameOrAuthority(e){return qo(e)||e.authority}basename(e){return gn.basename(e.path)}extname(e){return gn.extname(e.path)}dirname(e){if(e.path.length===0)return e;let t;return e.scheme===rt.file?t=De.file(Tx(Wc(e))).path:(t=gn.dirname(e.path),e.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return e.scheme===rt.file?t=De.file(hb(Wc(e))).path:t=gn.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!U$(e.authority,t.authority))return;if(e.scheme===rt.file){let o=W6(Wc(e),Wc(t));return Ri?J2(o):o}let i=e.path||"/",n=t.path||"/";if(this._ignorePathCasing(e)){let o=0;for(let s=Math.min(i.length,n.length);o<s&&!(i.charCodeAt(o)!==n.charCodeAt(o)&&i.charAt(o).toLowerCase()!==n.charAt(o).toLowerCase());o++);i=n.substr(0,o)+i.substr(o)}return gn.relative(i,n)}resolvePath(e,t){if(e.scheme===rt.file){let i=De.file(j6(Wc(e),t));return e.with({authority:i.authority,path:i.path})}return t=B$(t),e.with({path:gn.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,t){return e===t||e!==void 0&&t!==void 0&&Rh(e,t)}hasTrailingPathSeparator(e,t=fd){if(e.scheme===rt.file){let i=Wc(e);return i.length>eF(i).length&&i[i.length-1]===t}else{let i=e.path;return i.length>1&&i.charCodeAt(i.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=fd){return z$(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=fd){let i=!1;if(e.scheme===rt.file){let n=Wc(e);i=n!==void 0&&n.length===eF(n).length&&n[n.length-1]===t}else{t="/";let n=e.path;i=n.length===1&&n.charCodeAt(n.length-1)===47}return!i&&!z$(e,t)?e.with({path:e.path+"/"}):e}},Ui=new Wk(()=>!1),NUe=new Wk(r=>r.scheme===rt.file?!Fi:!0),PUe=new Wk(r=>!0),Uk=Ui.isEqual.bind(Ui),MUe=Ui.isEqualOrParent.bind(Ui),AUe=Ui.getComparisonKey.bind(Ui),V$=Ui.basenameOrAuthority.bind(Ui),qo=Ui.basename.bind(Ui),H$=Ui.extname.bind(Ui),hg=Ui.dirname.bind(Ui),$$=Ui.joinPath.bind(Ui),K$=Ui.normalizePath.bind(Ui),RUe=Ui.relativePath.bind(Ui),iF=Ui.resolvePath.bind(Ui),FUe=Ui.isAbsolutePath.bind(Ui),U$=Ui.isEqualAuthority.bind(Ui),z$=Ui.hasTrailingPathSeparator.bind(Ui),BUe=Ui.removeTrailingPathSeparator.bind(Ui),jUe=Ui.addTrailingPathSeparator.bind(Ui);(function(r){r.META_DATA_LABEL="label",r.META_DATA_DESCRIPTION="description",r.META_DATA_SIZE="size",r.META_DATA_MIME="mime";function e(t){let i=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(s=>{let[a,l]=s.split(":");a&&l&&i.set(a,l)});let o=t.path.substring(0,t.path.indexOf(";"));return o&&i.set(r.META_DATA_MIME,o),i}r.parseMetaData=e})(Vd||(Vd={}))});function Wv(r){return r.toString()}function nF(r){return r.getEOL()===`
`?0:1}function Hd(r){return r?r instanceof oF||r instanceof q$:!1}var vo,oF,q$,My,rF=ge(()=>{ke();ut();mi();Oi();Q2();Db();Vr();vo=class{constructor(e,t,i,n,o,s,a){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=i,this.afterEOL=n,this.beforeCursorState=o,this.afterCursorState=s,this.changes=a}static create(e,t){let i=e.getAlternativeVersionId(),n=nF(e);return new vo(i,i,n,n,t,t,[])}append(e,t,i,n,o){t.length>0&&(this.changes=F$(this.changes,t)),this.afterEOL=i,this.afterVersionId=n,this.afterCursorState=o}static _writeSelectionsSize(e){return 4+4*4*(e?e.length:0)}static _writeSelections(e,t,i){if(Qa(e,t?t.length:0,i),i+=4,t)for(let n of t)Qa(e,n.selectionStartLineNumber,i),i+=4,Qa(e,n.selectionStartColumn,i),i+=4,Qa(e,n.positionLineNumber,i),i+=4,Qa(e,n.positionColumn,i),i+=4;return i}static _readSelections(e,t,i){let n=Xa(e,t);t+=4;for(let o=0;o<n;o++){let s=Xa(e,t);t+=4;let a=Xa(e,t);t+=4;let l=Xa(e,t);t+=4;let c=Xa(e,t);t+=4,i.push(new he(s,a,l,c))}return t}serialize(){let e=10+vo._writeSelectionsSize(this.beforeCursorState)+vo._writeSelectionsSize(this.afterCursorState)+4;for(let n of this.changes)e+=n.writeSize();let t=new Uint8Array(e),i=0;Qa(t,this.beforeVersionId,i),i+=4,Qa(t,this.afterVersionId,i),i+=4,pM(t,this.beforeEOL,i),i+=1,pM(t,this.afterEOL,i),i+=1,i=vo._writeSelections(t,this.beforeCursorState,i),i=vo._writeSelections(t,this.afterCursorState,i),Qa(t,this.changes.length,i),i+=4;for(let n of this.changes)i=n.write(t,i);return t.buffer}static deserialize(e){let t=new Uint8Array(e),i=0,n=Xa(t,i);i+=4;let o=Xa(t,i);i+=4;let s=mM(t,i);i+=1;let a=mM(t,i);i+=1;let l=[];i=vo._readSelections(t,i,l);let c=[];i=vo._readSelections(t,i,c);let d=Xa(t,i);i+=4;let h=[];for(let u=0;u<d;u++)i=bo.read(t,i,h);return new vo(n,o,s,a,l,c,h)}},oF=class{constructor(e,t){this.model=e,this._data=vo.create(e,t)}get type(){return 0}get resource(){return De.isUri(this.model)?this.model:this.model.uri}get label(){return g("edit","Typing")}toString(){return(this._data instanceof vo?this._data:vo.deserialize(this._data)).changes.map(t=>t.toString()).join(", ")}matchesResource(e){return(De.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof vo}append(e,t,i,n,o){this._data instanceof vo&&this._data.append(e,t,i,n,o)}close(){this._data instanceof vo&&(this._data=this._data.serialize())}open(){this._data instanceof vo||(this._data=vo.deserialize(this._data))}undo(){if(De.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof vo&&(this._data=this._data.serialize());let e=vo.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(De.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof vo&&(this._data=this._data.serialize());let e=vo.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof vo&&(this._data=this._data.serialize()),this._data.byteLength+168}},q$=class{constructor(e,t){this.type=1,this.label=e,this._isOpen=!0,this._editStackElementsArr=t.slice(0),this._editStackElementsMap=new Map;for(let i of this._editStackElementsArr){let n=Wv(i.resource);this._editStackElementsMap.set(n,i)}this._delegate=null}get resources(){return this._editStackElementsArr.map(e=>e.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){let t=Wv(e);return this._editStackElementsMap.has(t)}setModel(e){let t=Wv(De.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;let t=Wv(e.uri);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).canAppend(e):!1}append(e,t,i,n,o){let s=Wv(e.uri);this._editStackElementsMap.get(s).append(e,t,i,n,o)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(let e of this._editStackElementsArr)e.undo()}redo(){for(let e of this._editStackElementsArr)e.redo()}heapSize(e){let t=Wv(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){let e=[];for(let t of this._editStackElementsArr)e.push(`${qo(t.resource)}: ${t}`);return`{${e.join(", ")}}`}};My=class{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){let e=this._undoRedoService.getLastElement(this._model.uri);Hd(e)&&e.close()}popStackElement(){let e=this._undoRedoService.getLastElement(this._model.uri);Hd(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e){let t=this._undoRedoService.getLastElement(this._model.uri);if(Hd(t)&&t.canAppend(this._model))return t;let i=new oF(this._model,e);return this._undoRedoService.pushElement(i),i}pushEOL(e){let t=this._getOrCreateEditStackElement(null);this._model.setEOL(e),t.append(this._model,[],nF(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,i){let n=this._getOrCreateEditStackElement(e),o=this._model.applyEdits(t,!0),s=My._computeCursorState(i,o),a=o.map((l,c)=>({index:c,textChange:l.textChange}));return a.sort((l,c)=>l.textChange.oldPosition===c.textChange.oldPosition?l.index-c.index:l.textChange.oldPosition-c.textChange.oldPosition),n.append(this._model,a.map(l=>l.textChange),nF(this._model),this._model.getAlternativeVersionId(),s),s}static _computeCursorState(e,t){try{return e?e(t):null}catch(i){return Ie(i),null}}}});function wue(r,e,t,i,n){n.spacesDiff=0,n.looksLikeAlignment=!1;let o;for(o=0;o<e&&o<i;o++){let u=r.charCodeAt(o),f=t.charCodeAt(o);if(u!==f)break}let s=0,a=0;for(let u=o;u<e;u++)r.charCodeAt(u)===32?s++:a++;let l=0,c=0;for(let u=o;u<i;u++)t.charCodeAt(u)===32?l++:c++;if(s>0&&a>0||l>0&&c>0)return;let d=Math.abs(a-c),h=Math.abs(s-l);if(d===0){n.spacesDiff=h,h>0&&0<=l-1&&l-1<r.length&&l<t.length&&t.charCodeAt(l)!==32&&r.charCodeAt(l-1)===32&&r.charCodeAt(r.length-1)===44&&(n.looksLikeAlignment=!0);return}if(h%d===0){n.spacesDiff=h/d;return}}function sF(r,e,t){let i=Math.min(r.getLineCount(),1e4),n=0,o=0,s="",a=0,l=[2,4,6,8,3,5,7],c=8,d=[0,0,0,0,0,0,0,0,0],h=new Y$;for(let m=1;m<=i;m++){let _=r.getLineLength(m),w=r.getLineContent(m),y=_<=65536,C=!1,E=0,L=0,k=0;for(let I=0,T=_;I<T;I++){let R=y?w.charCodeAt(I):r.getLineCharCode(m,I);if(R===9)k++;else if(R===32)L++;else{C=!0,E=I;break}}if(!C||(k>0?n++:L>1&&o++,wue(s,a,w,E,h),h.looksLikeAlignment&&!(t&&e===h.spacesDiff)))continue;let M=h.spacesDiff;M<=c&&d[M]++,s=w,a=E}let u=t;n!==o&&(u=n<o);let f=e;if(u){let m=u?0:.1*i;l.forEach(_=>{let w=d[_];w>m&&(m=w,f=_)}),f===4&&d[4]>0&&d[2]>0&&d[2]>=d[4]/2&&(f=2)}return{insertSpaces:u,tabSize:f}}var Y$,Z$=ge(()=>{Y$=class{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}});function Ls(r){return(r.metadata&1)>>>0}function Xi(r,e){r.metadata=r.metadata&254|e<<0}function rr(r){return(r.metadata&2)>>>1===1}function zi(r,e){r.metadata=r.metadata&253|(e?1:0)<<1}function tK(r){return(r.metadata&4)>>>2===1}function G$(r,e){r.metadata=r.metadata&251|(e?1:0)<<2}function Cue(r){return(r.metadata&24)>>>3}function X$(r,e){r.metadata=r.metadata&231|e<<3}function yue(r){return(r.metadata&32)>>>5===1}function Q$(r,e){r.metadata=r.metadata&223|(e?1:0)<<5}function Sue(r){let e=r.root,t=0;for(;e!==Pt;){if(e.left!==Pt&&!rr(e.left)){e=e.left;continue}if(e.right!==Pt&&!rr(e.right)){t+=e.delta,e=e.right;continue}e.start=t+e.start,e.end=t+e.end,e.delta=0,fu(e),zi(e,!0),zi(e.left,!1),zi(e.right,!1),e===e.parent.right&&(t-=e.parent.delta),e=e.parent}zi(r.root,!1)}function Uv(r,e,t,i){return r<t?!0:r>t||i===1?!1:i===2?!0:e}function Eue(r,e,t,i,n){let o=Cue(r),s=o===0||o===2,a=o===1||o===2,l=t-e,c=i,d=Math.min(l,c),h=r.start,u=!1,f=r.end,m=!1;e<=h&&f<=t&&yue(r)&&(r.start=e,u=!0,r.end=e,m=!0);{let w=n?1:l>0?2:0;!u&&Uv(h,s,e,w)&&(u=!0),!m&&Uv(f,a,e,w)&&(m=!0)}if(d>0&&!n){let w=l>c?2:0;!u&&Uv(h,s,e+d,w)&&(u=!0),!m&&Uv(f,a,e+d,w)&&(m=!0)}{let w=n?1:0;!u&&Uv(h,s,t,w)&&(r.start=e+c,u=!0),!m&&Uv(f,a,t,w)&&(r.end=e+c,m=!0)}let _=c-l;u||(r.start=Math.max(0,h+_)),m||(r.end=Math.max(0,f+_)),r.start>r.end&&(r.end=r.start)}function xue(r,e,t){let i=r.root,n=0,o=0,s=0,a=0,l=[],c=0;for(;i!==Pt;){if(rr(i)){zi(i.left,!1),zi(i.right,!1),i===i.parent.right&&(n-=i.parent.delta),i=i.parent;continue}if(!rr(i.left)){if(o=n+i.maxEnd,o<e){zi(i,!0);continue}if(i.left!==Pt){i=i.left;continue}}if(s=n+i.start,s>t){zi(i,!0);continue}if(a=n+i.end,a>=e&&(i.setCachedOffsets(s,a,0),l[c++]=i),zi(i,!0),i.right!==Pt&&!rr(i.right)){n+=i.delta,i=i.right;continue}}return zi(r.root,!1),l}function Due(r,e,t,i){let n=r.root,o=0,s=0,a=0,l=i-(t-e);for(;n!==Pt;){if(rr(n)){zi(n.left,!1),zi(n.right,!1),n===n.parent.right&&(o-=n.parent.delta),fu(n),n=n.parent;continue}if(!rr(n.left)){if(s=o+n.maxEnd,s<e){zi(n,!0);continue}if(n.left!==Pt){n=n.left;continue}}if(a=o+n.start,a>t){n.start+=l,n.end+=l,n.delta+=l,(n.delta<-1073741824||n.delta>1073741824)&&(r.requestNormalizeDelta=!0),zi(n,!0);continue}if(zi(n,!0),n.right!==Pt&&!rr(n.right)){o+=n.delta,n=n.right;continue}}zi(r.root,!1)}function Lue(r,e){let t=r.root,i=[],n=0;for(;t!==Pt;){if(rr(t)){zi(t.left,!1),zi(t.right,!1),t=t.parent;continue}if(t.left!==Pt&&!rr(t.left)){t=t.left;continue}if(t.ownerId===e&&(i[n++]=t),zi(t,!0),t.right!==Pt&&!rr(t.right)){t=t.right;continue}}return zi(r.root,!1),i}function kue(r){let e=r.root,t=[],i=0;for(;e!==Pt;){if(rr(e)){zi(e.left,!1),zi(e.right,!1),e=e.parent;continue}if(e.left!==Pt&&!rr(e.left)){e=e.left;continue}if(e.right!==Pt&&!rr(e.right)){e=e.right;continue}t[i++]=e,zi(e,!0)}return zi(r.root,!1),t}function Iue(r,e,t,i){let n=r.root,o=0,s=0,a=0,l=[],c=0;for(;n!==Pt;){if(rr(n)){zi(n.left,!1),zi(n.right,!1),n===n.parent.right&&(o-=n.parent.delta),n=n.parent;continue}if(n.left!==Pt&&!rr(n.left)){n=n.left;continue}s=o+n.start,a=o+n.end,n.setCachedOffsets(s,a,i);let d=!0;if(e&&n.ownerId&&n.ownerId!==e&&(d=!1),t&&tK(n)&&(d=!1),d&&(l[c++]=n),zi(n,!0),n.right!==Pt&&!rr(n.right)){o+=n.delta,n=n.right;continue}}return zi(r.root,!1),l}function Oue(r,e,t,i,n,o){let s=r.root,a=0,l=0,c=0,d=0,h=[],u=0;for(;s!==Pt;){if(rr(s)){zi(s.left,!1),zi(s.right,!1),s===s.parent.right&&(a-=s.parent.delta),s=s.parent;continue}if(!rr(s.left)){if(l=a+s.maxEnd,l<e){zi(s,!0);continue}if(s.left!==Pt){s=s.left;continue}}if(c=a+s.start,c>t){zi(s,!0);continue}if(d=a+s.end,d>=e){s.setCachedOffsets(c,d,o);let f=!0;i&&s.ownerId&&s.ownerId!==i&&(f=!1),n&&tK(s)&&(f=!1),f&&(h[u++]=s)}if(zi(s,!0),s.right!==Pt&&!rr(s.right)){a+=s.delta,s=s.right;continue}}return zi(r.root,!1),h}function J$(r,e){if(r.root===Pt)return e.parent=Pt,e.left=Pt,e.right=Pt,Xi(e,0),r.root=e,r.root;Tue(r,e),ug(e.parent);let t=e;for(;t!==r.root&&Ls(t.parent)===1;)if(t.parent===t.parent.parent.left){let i=t.parent.parent.right;Ls(i)===1?(Xi(t.parent,0),Xi(i,0),Xi(t.parent.parent,1),t=t.parent.parent):(t===t.parent.right&&(t=t.parent,Ay(r,t)),Xi(t.parent,0),Xi(t.parent.parent,1),Ry(r,t.parent.parent))}else{let i=t.parent.parent.left;Ls(i)===1?(Xi(t.parent,0),Xi(i,0),Xi(t.parent.parent,1),t=t.parent.parent):(t===t.parent.left&&(t=t.parent,Ry(r,t)),Xi(t.parent,0),Xi(t.parent.parent,1),Ay(r,t.parent.parent))}return Xi(r.root,0),e}function Tue(r,e){let t=0,i=r.root,n=e.start,o=e.end;for(;;)if(Pue(n,o,i.start+t,i.end+t)<0)if(i.left===Pt){e.start-=t,e.end-=t,e.maxEnd-=t,i.left=e;break}else i=i.left;else if(i.right===Pt){e.start-=t+i.delta,e.end-=t+i.delta,e.maxEnd-=t+i.delta,i.right=e;break}else t+=i.delta,i=i.right;e.parent=i,e.left=Pt,e.right=Pt,Xi(e,1)}function eK(r,e){let t,i;if(e.left===Pt?(t=e.right,i=e,t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(r.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta):e.right===Pt?(t=e.left,i=e):(i=Nue(e.right),t=i.right,t.start+=i.delta,t.end+=i.delta,t.delta+=i.delta,(t.delta<-1073741824||t.delta>1073741824)&&(r.requestNormalizeDelta=!0),i.start+=e.delta,i.end+=e.delta,i.delta=e.delta,(i.delta<-1073741824||i.delta>1073741824)&&(r.requestNormalizeDelta=!0)),i===r.root){r.root=t,Xi(t,0),e.detach(),aF(),fu(t),r.root.parent=Pt;return}let n=Ls(i)===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?t.parent=i.parent:(i.parent===e?t.parent=i:t.parent=i.parent,i.left=e.left,i.right=e.right,i.parent=e.parent,Xi(i,Ls(e)),e===r.root?r.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==Pt&&(i.left.parent=i),i.right!==Pt&&(i.right.parent=i)),e.detach(),n){ug(t.parent),i!==e&&(ug(i),ug(i.parent)),aF();return}ug(t),ug(t.parent),i!==e&&(ug(i),ug(i.parent));let o;for(;t!==r.root&&Ls(t)===0;)t===t.parent.left?(o=t.parent.right,Ls(o)===1&&(Xi(o,0),Xi(t.parent,1),Ay(r,t.parent),o=t.parent.right),Ls(o.left)===0&&Ls(o.right)===0?(Xi(o,1),t=t.parent):(Ls(o.right)===0&&(Xi(o.left,0),Xi(o,1),Ry(r,o),o=t.parent.right),Xi(o,Ls(t.parent)),Xi(t.parent,0),Xi(o.right,0),Ay(r,t.parent),t=r.root)):(o=t.parent.left,Ls(o)===1&&(Xi(o,0),Xi(t.parent,1),Ry(r,t.parent),o=t.parent.left),Ls(o.left)===0&&Ls(o.right)===0?(Xi(o,1),t=t.parent):(Ls(o.left)===0&&(Xi(o.right,0),Xi(o,1),Ay(r,o),o=t.parent.left),Xi(o,Ls(t.parent)),Xi(t.parent,0),Xi(o.left,0),Ry(r,t.parent),t=r.root));Xi(t,0),aF()}function Nue(r){for(;r.left!==Pt;)r=r.left;return r}function aF(){Pt.parent=Pt,Pt.delta=0,Pt.start=0,Pt.end=0}function Ay(r,e){let t=e.right;t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(r.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta,e.right=t.left,t.left!==Pt&&(t.left.parent=e),t.parent=e.parent,e.parent===Pt?r.root=t:e===e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,fu(e),fu(t)}function Ry(r,e){let t=e.left;e.delta-=t.delta,(e.delta<-1073741824||e.delta>1073741824)&&(r.requestNormalizeDelta=!0),e.start-=t.delta,e.end-=t.delta,e.left=t.right,t.right!==Pt&&(t.right.parent=e),t.parent=e.parent,e.parent===Pt?r.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,fu(e),fu(t)}function iK(r){let e=r.end;if(r.left!==Pt){let t=r.left.maxEnd;t>e&&(e=t)}if(r.right!==Pt){let t=r.right.maxEnd+r.delta;t>e&&(e=t)}return e}function fu(r){r.maxEnd=iK(r)}function ug(r){for(;r!==Pt;){let e=iK(r);if(r.maxEnd===e)return;r.maxEnd=e,r=r.parent}}function Pue(r,e,t,i){return r===t?e-i:r-t}var zk,Pt,Fy,nK=ge(()=>{zk=class{constructor(e,t,i){this.metadata=0,this.parent=this,this.left=this,this.right=this,Xi(this,1),this.start=t,this.end=i,this.delta=0,this.maxEnd=i,this.id=e,this.ownerId=0,this.options=null,G$(this,!1),X$(this,1),Q$(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=null,zi(this,!1)}reset(e,t,i,n){this.start=t,this.end=i,this.maxEnd=i,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=n}setOptions(e){this.options=e;let t=this.options.className;G$(this,t==="squiggly-error"||t==="squiggly-warning"||t==="squiggly-info"),X$(this,this.options.stickiness),Q$(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}},Pt=new zk(null,0,0);Pt.parent=Pt;Pt.left=Pt;Pt.right=Pt;Xi(Pt,0);Fy=class{constructor(){this.root=Pt,this.requestNormalizeDelta=!1}intervalSearch(e,t,i,n,o){return this.root===Pt?[]:Oue(this,e,t,i,n,o)}search(e,t,i){return this.root===Pt?[]:Iue(this,e,t,i)}collectNodesFromOwner(e){return Lue(this,e)}collectNodesPostOrder(){return kue(this)}insert(e){J$(this,e),this._normalizeDeltaIfNecessary()}delete(e){eK(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){let i=e,n=0;for(;e!==this.root;)e===e.parent.right&&(n+=e.parent.delta),e=e.parent;let o=i.start+n,s=i.end+n;i.setCachedOffsets(o,s,t)}acceptReplace(e,t,i,n){let o=xue(this,e,e+t);for(let s=0,a=o.length;s<a;s++){let l=o[s];eK(this,l)}this._normalizeDeltaIfNecessary(),Due(this,e,e+t,i),this._normalizeDeltaIfNecessary();for(let s=0,a=o.length;s<a;s++){let l=o[s];l.start=l.cachedAbsoluteStart,l.end=l.cachedAbsoluteEnd,Eue(l,e,e+t,i,n),l.maxEnd=l.end,J$(this,l)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,Sue(this))}}});function Vk(r){for(;r.left!==ft;)r=r.left;return r}function cF(r){for(;r.right!==ft;)r=r.right;return r}function dF(r){return r===ft?0:r.size_left+r.piece.length+dF(r.right)}function hF(r){return r===ft?0:r.lf_left+r.piece.lineFeedCnt+hF(r.right)}function lF(){ft.parent=ft}function jy(r,e){let t=e.right;t.size_left+=e.size_left+(e.piece?e.piece.length:0),t.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=t.left,t.left!==ft&&(t.left.parent=e),t.parent=e.parent,e.parent===ft?r.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}function Wy(r,e){let t=e.left;e.left=t.right,t.right!==ft&&(t.right.parent=e),t.parent=e.parent,e.size_left-=t.size_left+(t.piece?t.piece.length:0),e.lf_left-=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),e.parent===ft?r.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}function zy(r,e){let t,i;if(e.left===ft?(i=e,t=i.right):e.right===ft?(i=e,t=i.left):(i=Vk(e.right),t=i.right),i===r.root){r.root=t,t.color=0,e.detach(),lF(),r.root.parent=ft;return}let n=i.color===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?(t.parent=i.parent,By(r,t)):(i.parent===e?t.parent=i:t.parent=i.parent,By(r,t),i.left=e.left,i.right=e.right,i.parent=e.parent,i.color=e.color,e===r.root?r.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==ft&&(i.left.parent=i),i.right!==ft&&(i.right.parent=i),i.size_left=e.size_left,i.lf_left=e.lf_left,By(r,i)),e.detach(),t.parent.left===t){let s=dF(t),a=hF(t);if(s!==t.parent.size_left||a!==t.parent.lf_left){let l=s-t.parent.size_left,c=a-t.parent.lf_left;t.parent.size_left=s,t.parent.lf_left=a,$d(r,t.parent,l,c)}}if(By(r,t.parent),n){lF();return}let o;for(;t!==r.root&&t.color===0;)t===t.parent.left?(o=t.parent.right,o.color===1&&(o.color=0,t.parent.color=1,jy(r,t.parent),o=t.parent.right),o.left.color===0&&o.right.color===0?(o.color=1,t=t.parent):(o.right.color===0&&(o.left.color=0,o.color=1,Wy(r,o),o=t.parent.right),o.color=t.parent.color,t.parent.color=0,o.right.color=0,jy(r,t.parent),t=r.root)):(o=t.parent.left,o.color===1&&(o.color=0,t.parent.color=1,Wy(r,t.parent),o=t.parent.left),o.left.color===0&&o.right.color===0?(o.color=1,t=t.parent):(o.left.color===0&&(o.right.color=0,o.color=1,jy(r,o),o=t.parent.left),o.color=t.parent.color,t.parent.color=0,o.left.color=0,Wy(r,t.parent),t=r.root));t.color=0,lF()}function uF(r,e){for(By(r,e);e!==r.root&&e.parent.color===1;)if(e.parent===e.parent.parent.left){let t=e.parent.parent.right;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&(e=e.parent,jy(r,e)),e.parent.color=0,e.parent.parent.color=1,Wy(r,e.parent.parent))}else{let t=e.parent.parent.left;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&(e=e.parent,Wy(r,e)),e.parent.color=0,e.parent.parent.color=1,jy(r,e.parent.parent))}r.root.color=0}function $d(r,e,t,i){for(;e!==r.root&&e!==ft;)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}function By(r,e){let t=0,i=0;if(e!==r.root){for(;e!==r.root&&e===e.parent.right;)e=e.parent;if(e!==r.root)for(e=e.parent,t=dF(e.left)-e.size_left,i=hF(e.left)-e.lf_left,e.size_left+=t,e.lf_left+=i;e!==r.root&&(t!==0||i!==0);)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}}var Uy,ft,oK=ge(()=>{Uy=class{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==ft)return Vk(this.right);let e=this;for(;e.parent!==ft&&e.parent.left!==e;)e=e.parent;return e.parent===ft?ft:e.parent}prev(){if(this.left!==ft)return cF(this.left);let e=this;for(;e.parent!==ft&&e.parent.right!==e;)e=e.parent;return e.parent===ft?ft:e.parent}detach(){this.parent=null,this.left=null,this.right=null}},ft=new Uy(null,0);ft.parent=ft;ft.left=ft;ft.right=ft;ft.color=0});function rK(r){let e;return r[r.length-1]<65536?e=new Uint16Array(r.length):e=new Uint32Array(r.length),e.set(r,0),e}function Kd(r,e=!0){let t=[0],i=1;for(let n=0,o=r.length;n<o;n++){let s=r.charCodeAt(n);s===13?n+1<o&&r.charCodeAt(n+1)===10?(t[i++]=n+2,n++):t[i++]=n+1:s===10&&(t[i++]=n+1)}return e?rK(t):t}function aK(r,e){r.length=0,r[0]=0;let t=1,i=0,n=0,o=0,s=!0;for(let l=0,c=e.length;l<c;l++){let d=e.charCodeAt(l);d===13?l+1<c&&e.charCodeAt(l+1)===10?(o++,r[t++]=l+2,l++):(i++,r[t++]=l+1):d===10?(n++,r[t++]=l+1):s&&d!==9&&(d<32||d>126)&&(s=!1)}let a=new sK(rK(r),i,n,o,s);return r.length=0,a}var gu,sK,ks,mu,lK,cK,fF,gF=ge(()=>{lt();ye();Us();oK();p0();gu=65535;sK=class{constructor(e,t,i,n,o){this.lineStarts=e,this.cr=t,this.lf=i,this.crlf=n,this.isBasicASCII=o}};ks=class{constructor(e,t,i,n,o){this.bufferIndex=e,this.start=t,this.end=i,this.lineFeedCnt=n,this.length=o}},mu=class{constructor(e,t){this.buffer=e,this.lineStarts=t}},lK=class{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==ft&&e.iterate(e.root,i=>(i!==ft&&this._pieces.push(i.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}},cK=class{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){let i=this._cache[t];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e)return i}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){let i=this._cache[t];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e)return i}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1,i=this._cache;for(let n=0;n<i.length;n++){let o=i[n];if(o.node.parent===null||o.nodeStartOffset>=e){i[n]=null,t=!0;continue}}if(t){let n=[];for(let o of i)o!==null&&n.push(o);this._cache=n}}},fF=class{constructor(e,t,i){this.create(e,t,i)}create(e,t,i){this._buffers=[new mu("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=ft,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=i;let n=null;for(let o=0,s=e.length;o<s;o++)if(e[o].buffer.length>0){e[o].lineStarts||(e[o].lineStarts=Kd(e[o].buffer));let a=new ks(o+1,{line:0,column:0},{line:e[o].lineStarts.length-1,column:e[o].buffer.length-e[o].lineStarts[e[o].lineStarts.length-1]},e[o].lineStarts.length-1,e[o].buffer.length);this._buffers.push(e[o]),n=this.rbInsertRight(n,a)}this._searchCache=new cK(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){let t=gu,i=t-Math.floor(t/3),n=i*2,o="",s=0,a=[];if(this.iterate(this.root,l=>{let c=this.getNodeContent(l),d=c.length;if(s<=i||s+d<n)return o+=c,s+=d,!0;let h=o.replace(/\r\n|\r|\n/g,e);return a.push(new mu(h,Kd(h))),o=c,s=d,!0}),s>0){let l=o.replace(/\r\n|\r|\n/g,e);a.push(new mu(l,Kd(l)))}this.create(a,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new lK(this,e)}getOffsetAt(e,t){let i=0,n=this.root;for(;n!==ft;)if(n.left!==ft&&n.lf_left+1>=e)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt+1>=e)return i+=n.size_left,i+=this.getAccumulatedValue(n,e-n.lf_left-2)+t-1;e-=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right}return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,i=0,n=e;for(;t!==ft;)if(t.size_left!==0&&t.size_left>=e)t=t.left;else if(t.size_left+t.piece.length>=e){let o=this.getIndexOf(t,e-t.size_left);if(i+=t.lf_left+o.index,o.index===0){let s=this.getOffsetAt(i+1,1),a=n-s;return new V(i+1,a+1)}return new V(i+1,o.remainder+1)}else if(e-=t.size_left+t.piece.length,i+=t.lf_left+t.piece.lineFeedCnt,t.right===ft){let o=this.getOffsetAt(i+1,1),s=n-e-o;return new V(i+1,s+1)}else t=t.right;return new V(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";let i=this.nodeAt2(e.startLineNumber,e.startColumn),n=this.nodeAt2(e.endLineNumber,e.endColumn),o=this.getValueInRange2(i,n);return t?t!==this._EOL||!this._EOLNormalized?o.replace(/\r\n|\r|\n/g,t):t===this.getEOL()&&this._EOLNormalized?o:o.replace(/\r\n|\r|\n/g,t):o}getValueInRange2(e,t){if(e.node===t.node){let a=e.node,l=this._buffers[a.piece.bufferIndex].buffer,c=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return l.substring(c+e.remainder,c+t.remainder)}let i=e.node,n=this._buffers[i.piece.bufferIndex].buffer,o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start),s=n.substring(o+e.remainder,o+i.piece.length);for(i=i.next();i!==ft;){let a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===t.node){s+=a.substring(l,l+t.remainder);break}else s+=a.substr(l,i.piece.length);i=i.next()}return s}getLinesContent(){let e=[],t=0,i="",n=!1;return this.iterate(this.root,o=>{if(o===ft)return!0;let s=o.piece,a=s.length;if(a===0)return!0;let l=this._buffers[s.bufferIndex].buffer,c=this._buffers[s.bufferIndex].lineStarts,d=s.start.line,h=s.end.line,u=c[d]+s.start.column;if(n&&(l.charCodeAt(u)===10&&(u++,a--),e[t++]=i,i="",n=!1,a===0))return!0;if(d===h)return!this._EOLNormalized&&l.charCodeAt(u+a-1)===13?(n=!0,i+=l.substr(u,a-1)):i+=l.substr(u,a),!0;i+=this._EOLNormalized?l.substring(u,Math.max(u,c[d+1]-this._EOLLength)):l.substring(u,c[d+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;for(let f=d+1;f<h;f++)i=this._EOLNormalized?l.substring(c[f],c[f+1]-this._EOLLength):l.substring(c[f],c[f+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;return!this._EOLNormalized&&l.charCodeAt(c[h]+s.end.column-1)===13?(n=!0,s.end.column===0?t--:i=l.substr(c[h],s.end.column-1)):i=l.substr(c[h],s.end.column),!0}),n&&(e[t++]=i,i=""),e[t++]=i,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(e){if(e.remainder===e.node.piece.length){let t=e.node.next();if(!t)return 0;let i=this._buffers[t.piece.bufferIndex],n=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return i.buffer.charCodeAt(n)}else{let t=this._buffers[e.node.piece.bufferIndex],n=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(n)}}getLineCharCode(e,t){let i=this.nodeAt2(e,t+1);return this._getCharCode(i)}getLineLength(e){if(e===this.getLineCount()){let t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,i,n,o,s,a,l,c,d,h){let u=this._buffers[e.piece.bufferIndex],f=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),m=this.offsetInBuffer(e.piece.bufferIndex,o),_=this.offsetInBuffer(e.piece.bufferIndex,s),w,y={line:0,column:0},C,E;t._wordSeparators?(C=u.buffer.substring(m,_),E=L=>L+m,t.reset(0)):(C=u.buffer,E=L=>L,t.reset(m));do if(w=t.next(C),w){if(E(w.index)>=_)return d;this.positionInBuffer(e,E(w.index)-f,y);let L=this.getLineFeedCnt(e.piece.bufferIndex,o,y),k=y.line===o.line?y.column-o.column+n:y.column+1,M=k+w[0].length;if(h[d++]=Mf(new D(i+L,k,i+L,M),w,l),E(w.index)+w[0].length>=_||d>=c)return d}while(w);return d}findMatchesLineByLine(e,t,i,n){let o=[],s=0,a=new Wh(t.wordSeparators,t.regex),l=this.nodeAt2(e.startLineNumber,e.startColumn);if(l===null)return[];let c=this.nodeAt2(e.endLineNumber,e.endColumn);if(c===null)return[];let d=this.positionInBuffer(l.node,l.remainder),h=this.positionInBuffer(c.node,c.remainder);if(l.node===c.node)return this.findMatchesInNode(l.node,a,e.startLineNumber,e.startColumn,d,h,t,i,n,s,o),o;let u=e.startLineNumber,f=l.node;for(;f!==c.node;){let _=this.getLineFeedCnt(f.piece.bufferIndex,d,f.piece.end);if(_>=1){let y=this._buffers[f.piece.bufferIndex].lineStarts,C=this.offsetInBuffer(f.piece.bufferIndex,f.piece.start),E=y[d.line+_],L=u===e.startLineNumber?e.startColumn:1;if(s=this.findMatchesInNode(f,a,u,L,d,this.positionInBuffer(f,E-C),t,i,n,s,o),s>=n)return o;u+=_}let w=u===e.startLineNumber?e.startColumn-1:0;if(u===e.endLineNumber){let y=this.getLineContent(u).substring(w,e.endColumn-1);return s=this._findMatchesInLine(t,a,y,e.endLineNumber,w,s,o,i,n),o}if(s=this._findMatchesInLine(t,a,this.getLineContent(u).substr(w),u,w,s,o,i,n),s>=n)return o;u++,l=this.nodeAt2(u,1),f=l.node,d=this.positionInBuffer(l.node,l.remainder)}if(u===e.endLineNumber){let _=u===e.startLineNumber?e.startColumn-1:0,w=this.getLineContent(u).substring(_,e.endColumn-1);return s=this._findMatchesInLine(t,a,w,e.endLineNumber,_,s,o,i,n),o}let m=u===e.startLineNumber?e.startColumn:1;return s=this.findMatchesInNode(c.node,a,u,m,d,h,t,i,n,s,o),o}_findMatchesInLine(e,t,i,n,o,s,a,l,c){let d=e.wordSeparators;if(!l&&e.simpleSearch){let u=e.simpleSearch,f=u.length,m=i.length,_=-f;for(;(_=i.indexOf(u,_+f))!==-1;)if((!d||VD(d,i,m,_,f))&&(a[s++]=new Bh(new D(n,_+1+o,n,_+1+f+o),null),s>=c))return s;return s}let h;t.reset(0);do if(h=t.next(i),h&&(a[s++]=Mf(new D(n,h.index+1+o,n,h.index+1+h[0].length+o),h,l),s>=c))return s;while(h);return s}insert(e,t,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==ft){let{node:n,remainder:o,nodeStartOffset:s}=this.nodeAt(e),a=n.piece,l=a.bufferIndex,c=this.positionInBuffer(n,o);if(n.piece.bufferIndex===0&&a.end.line===this._lastChangeBufferPos.line&&a.end.column===this._lastChangeBufferPos.column&&s+a.length===e&&t.length<gu){this.appendToNode(n,t),this.computeBufferMetadata();return}if(s===e)this.insertContentToNodeLeft(t,n),this._searchCache.validate(e);else if(s+n.piece.length>e){let d=[],h=new ks(a.bufferIndex,c,a.end,this.getLineFeedCnt(a.bufferIndex,c,a.end),this.offsetInBuffer(l,a.end)-this.offsetInBuffer(l,c));if(this.shouldCheckCRLF()&&this.endWithCR(t)&&this.nodeCharCodeAt(n,o)===10){let _={line:h.start.line+1,column:0};h=new ks(h.bufferIndex,_,h.end,this.getLineFeedCnt(h.bufferIndex,_,h.end),h.length-1),t+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(t))if(this.nodeCharCodeAt(n,o-1)===13){let _=this.positionInBuffer(n,o-1);this.deleteNodeTail(n,_),t="\r"+t,n.piece.length===0&&d.push(n)}else this.deleteNodeTail(n,c);else this.deleteNodeTail(n,c);let u=this.createNewPieces(t);h.length>0&&this.rbInsertRight(n,h);let f=n;for(let m=0;m<u.length;m++)f=this.rbInsertRight(f,u[m]);this.deleteNodes(d)}else this.insertContentToNodeRight(t,n)}else{let n=this.createNewPieces(t),o=this.rbInsertLeft(null,n[0]);for(let s=1;s<n.length;s++)o=this.rbInsertRight(o,n[s])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===ft)return;let i=this.nodeAt(e),n=this.nodeAt(e+t),o=i.node,s=n.node;if(o===s){let u=this.positionInBuffer(o,i.remainder),f=this.positionInBuffer(o,n.remainder);if(i.nodeStartOffset===e){if(t===o.piece.length){let m=o.next();zy(this,o),this.validateCRLFWithPrevNode(m),this.computeBufferMetadata();return}this.deleteNodeHead(o,f),this._searchCache.validate(e),this.validateCRLFWithPrevNode(o),this.computeBufferMetadata();return}if(i.nodeStartOffset+o.piece.length===e+t){this.deleteNodeTail(o,u),this.validateCRLFWithNextNode(o),this.computeBufferMetadata();return}this.shrinkNode(o,u,f),this.computeBufferMetadata();return}let a=[],l=this.positionInBuffer(o,i.remainder);this.deleteNodeTail(o,l),this._searchCache.validate(e),o.piece.length===0&&a.push(o);let c=this.positionInBuffer(s,n.remainder);this.deleteNodeHead(s,c),s.piece.length===0&&a.push(s);let d=o.next();for(let u=d;u!==ft&&u!==s;u=u.next())a.push(u);let h=o.piece.length===0?o.prev():o;this.deleteNodes(a),this.validateCRLFWithNextNode(h),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){let i=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){let s=t.piece,a={line:s.start.line+1,column:0},l=new ks(s.bufferIndex,a,s.end,this.getLineFeedCnt(s.bufferIndex,a,s.end),s.length-1);t.piece=l,e+=`
`,$d(this,t,-1,-1),t.piece.length===0&&i.push(t)}let n=this.createNewPieces(e),o=this.rbInsertLeft(t,n[n.length-1]);for(let s=n.length-2;s>=0;s--)o=this.rbInsertLeft(o,n[s]);this.validateCRLFWithPrevNode(o),this.deleteNodes(i)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+=`
`);let i=this.createNewPieces(e),n=this.rbInsertRight(t,i[0]),o=n;for(let s=1;s<i.length;s++)o=this.rbInsertRight(o,i[s]);this.validateCRLFWithPrevNode(n)}positionInBuffer(e,t,i){let n=e.piece,o=e.piece.bufferIndex,s=this._buffers[o].lineStarts,l=s[n.start.line]+n.start.column+t,c=n.start.line,d=n.end.line,h=0,u=0,f=0;for(;c<=d&&(h=c+(d-c)/2|0,f=s[h],h!==d);)if(u=s[h+1],l<f)d=h-1;else if(l>=u)c=h+1;else break;return i?(i.line=h,i.column=l-f,null):{line:h,column:l-f}}getLineFeedCnt(e,t,i){if(i.column===0)return i.line-t.line;let n=this._buffers[e].lineStarts;if(i.line===n.length-1)return i.line-t.line;let o=n[i.line+1],s=n[i.line]+i.column;if(o>s+1)return i.line-t.line;let a=s-1;return this._buffers[e].buffer.charCodeAt(a)===13?i.line-t.line+1:i.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)zy(this,e[t])}createNewPieces(e){if(e.length>gu){let d=[];for(;e.length>gu;){let u=e.charCodeAt(gu-1),f;u===13||u>=55296&&u<=56319?(f=e.substring(0,gu-1),e=e.substring(gu-1)):(f=e.substring(0,gu),e=e.substring(gu));let m=Kd(f);d.push(new ks(this._buffers.length,{line:0,column:0},{line:m.length-1,column:f.length-m[m.length-1]},m.length-1,f.length)),this._buffers.push(new mu(f,m))}let h=Kd(e);return d.push(new ks(this._buffers.length,{line:0,column:0},{line:h.length-1,column:e.length-h[h.length-1]},h.length-1,e.length)),this._buffers.push(new mu(e,h)),d}let t=this._buffers[0].buffer.length,i=Kd(e,!1),n=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&t!==0&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},n=this._lastChangeBufferPos;for(let d=0;d<i.length;d++)i[d]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(t!==0)for(let d=0;d<i.length;d++)i[d]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=e}let o=this._buffers[0].buffer.length,s=this._buffers[0].lineStarts.length-1,a=o-this._buffers[0].lineStarts[s],l={line:s,column:a},c=new ks(0,n,l,this.getLineFeedCnt(0,n,l),o-t);return this._lastChangeBufferPos=l,[c]}getLineRawContent(e,t=0){let i=this.root,n="",o=this._searchCache.get2(e);if(o){i=o.node;let s=this.getAccumulatedValue(i,e-o.nodeStartLineNumber-1),a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(o.nodeStartLineNumber+i.piece.lineFeedCnt===e)n=a.substring(l+s,l+i.piece.length);else{let c=this.getAccumulatedValue(i,e-o.nodeStartLineNumber);return a.substring(l+s,l+c-t)}}else{let s=0,a=e;for(;i!==ft;)if(i.left!==ft&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){let l=this.getAccumulatedValue(i,e-i.lf_left-2),c=this.getAccumulatedValue(i,e-i.lf_left-1),d=this._buffers[i.piece.bufferIndex].buffer,h=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return s+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:s,nodeStartLineNumber:a-(e-1-i.lf_left)}),d.substring(h+l,h+c-t)}else if(i.lf_left+i.piece.lineFeedCnt===e-1){let l=this.getAccumulatedValue(i,e-i.lf_left-2),c=this._buffers[i.piece.bufferIndex].buffer,d=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n=c.substring(d+l,d+i.piece.length);break}else e-=i.lf_left+i.piece.lineFeedCnt,s+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==ft;){let s=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){let a=this.getAccumulatedValue(i,0),l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n+=s.substring(l,l+a-t),n}else{let a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n+=s.substr(a,i.piece.length)}i=i.next()}return n}computeBufferMetadata(){let e=this.root,t=1,i=0;for(;e!==ft;)t+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=i,this._searchCache.validate(this._length)}getIndexOf(e,t){let i=e.piece,n=this.positionInBuffer(e,t),o=n.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t){let s=this.getLineFeedCnt(e.piece.bufferIndex,i.start,n);if(s!==o)return{index:s,remainder:0}}return{index:o,remainder:n.column}}getAccumulatedValue(e,t){if(t<0)return 0;let i=e.piece,n=this._buffers[i.bufferIndex].lineStarts,o=i.start.line+t+1;return o>i.end.line?n[i.end.line]+i.end.column-n[i.start.line]-i.start.column:n[o]-n[i.start.line]-i.start.column}deleteNodeTail(e,t){let i=e.piece,n=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.end),s=t,a=this.offsetInBuffer(i.bufferIndex,s),l=this.getLineFeedCnt(i.bufferIndex,i.start,s),c=l-n,d=a-o,h=i.length+d;e.piece=new ks(i.bufferIndex,i.start,s,l,h),$d(this,e,d,c)}deleteNodeHead(e,t){let i=e.piece,n=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.start),s=t,a=this.getLineFeedCnt(i.bufferIndex,s,i.end),l=this.offsetInBuffer(i.bufferIndex,s),c=a-n,d=o-l,h=i.length+d;e.piece=new ks(i.bufferIndex,s,i.end,a,h),$d(this,e,d,c)}shrinkNode(e,t,i){let n=e.piece,o=n.start,s=n.end,a=n.length,l=n.lineFeedCnt,c=t,d=this.getLineFeedCnt(n.bufferIndex,n.start,c),h=this.offsetInBuffer(n.bufferIndex,t)-this.offsetInBuffer(n.bufferIndex,o);e.piece=new ks(n.bufferIndex,n.start,c,d,h),$d(this,e,h-a,d-l);let u=new ks(n.bufferIndex,i,s,this.getLineFeedCnt(n.bufferIndex,i,s),this.offsetInBuffer(n.bufferIndex,s)-this.offsetInBuffer(n.bufferIndex,i)),f=this.rbInsertRight(e,u);this.validateCRLFWithPrevNode(f)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+=`
`);let i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),n=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;let o=Kd(t,!1);for(let f=0;f<o.length;f++)o[f]+=n;if(i){let f=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:n-f}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));let s=this._buffers[0].lineStarts.length-1,a=this._buffers[0].buffer.length-this._buffers[0].lineStarts[s],l={line:s,column:a},c=e.piece.length+t.length,d=e.piece.lineFeedCnt,h=this.getLineFeedCnt(0,e.piece.start,l),u=h-d;e.piece=new ks(e.piece.bufferIndex,e.piece.start,l,h,c),this._lastChangeBufferPos=l,$d(this,e,t.length,u)}nodeAt(e){let t=this.root,i=this._searchCache.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let n=0;for(;t!==ft;)if(t.size_left>e)t=t.left;else if(t.size_left+t.piece.length>=e){n+=t.size_left;let o={node:t,remainder:e-t.size_left,nodeStartOffset:n};return this._searchCache.set(o),o}else e-=t.size_left+t.piece.length,n+=t.size_left+t.piece.length,t=t.right;return null}nodeAt2(e,t){let i=this.root,n=0;for(;i!==ft;)if(i.left!==ft&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){let o=this.getAccumulatedValue(i,e-i.lf_left-2),s=this.getAccumulatedValue(i,e-i.lf_left-1);return n+=i.size_left,{node:i,remainder:Math.min(o+t-1,s),nodeStartOffset:n}}else if(i.lf_left+i.piece.lineFeedCnt===e-1){let o=this.getAccumulatedValue(i,e-i.lf_left-2);if(o+t-1<=i.piece.length)return{node:i,remainder:o+t-1,nodeStartOffset:n};t-=i.piece.length-o;break}else e-=i.lf_left+i.piece.lineFeedCnt,n+=i.size_left+i.piece.length,i=i.right;for(i=i.next();i!==ft;){if(i.piece.lineFeedCnt>0){let o=this.getAccumulatedValue(i,0),s=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,o),nodeStartOffset:s}}else if(i.piece.length>=t-1){let o=this.offsetOfNode(i);return{node:i,remainder:t-1,nodeStartOffset:o}}else t-=i.piece.length;i=i.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;let i=this._buffers[e.piece.bufferIndex],n=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return i.buffer.charCodeAt(n)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(e){if(typeof e=="string")return e.charCodeAt(0)===10;if(e===ft||e.piece.lineFeedCnt===0)return!1;let t=e.piece,i=this._buffers[t.bufferIndex].lineStarts,n=t.start.line,o=i[n]+t.start.column;return n===i.length-1||i[n+1]>o+1?!1:this._buffers[t.bufferIndex].buffer.charCodeAt(o)===10}endWithCR(e){return typeof e=="string"?e.charCodeAt(e.length-1)===13:e===ft||e.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(e,e.piece.length-1)===13}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){let t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){let i=[],n=this._buffers[e.piece.bufferIndex].lineStarts,o;e.piece.end.column===0?o={line:e.piece.end.line-1,column:n[e.piece.end.line]-n[e.piece.end.line-1]-1}:o={line:e.piece.end.line,column:e.piece.end.column-1};let s=e.piece.length-1,a=e.piece.lineFeedCnt-1;e.piece=new ks(e.piece.bufferIndex,e.piece.start,o,a,s),$d(this,e,-1,-1),e.piece.length===0&&i.push(e);let l={line:t.piece.start.line+1,column:0},c=t.piece.length-1,d=this.getLineFeedCnt(t.piece.bufferIndex,l,t.piece.end);t.piece=new ks(t.piece.bufferIndex,l,t.piece.end,d,c),$d(this,t,-1,-1),t.piece.length===0&&i.push(t);let h=this.createNewPieces(`\r
`);this.rbInsertRight(e,h[0]);for(let u=0;u<i.length;u++)zy(this,i[u])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let i=t.next();if(this.startWithLF(i)){if(e+=`
`,i.piece.length===1)zy(this,i);else{let n=i.piece,o={line:n.start.line+1,column:0},s=n.length-1,a=this.getLineFeedCnt(n.bufferIndex,o,n.end);i.piece=new ks(n.bufferIndex,o,n.end,a,s),$d(this,i,-1,-1)}return!0}}return!1}iterate(e,t){if(e===ft)return t(ft);let i=this.iterate(e.left,t);return i&&t(e)&&this.iterate(e.right,t)}getNodeContent(e){if(e===ft)return"";let t=this._buffers[e.piece.bufferIndex],i,n=e.piece,o=this.offsetInBuffer(n.bufferIndex,n.start),s=this.offsetInBuffer(n.bufferIndex,n.end);return i=t.buffer.substring(o,s),i}getPieceContent(e){let t=this._buffers[e.bufferIndex],i=this.offsetInBuffer(e.bufferIndex,e.start),n=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(i,n)}rbInsertRight(e,t){let i=new Uy(t,1);if(i.left=ft,i.right=ft,i.parent=ft,i.size_left=0,i.lf_left=0,this.root===ft)this.root=i,i.color=0;else if(e.right===ft)e.right=i,i.parent=e;else{let o=Vk(e.right);o.left=i,i.parent=o}return uF(this,i),i}rbInsertLeft(e,t){let i=new Uy(t,1);if(i.left=ft,i.right=ft,i.parent=ft,i.size_left=0,i.lf_left=0,this.root===ft)this.root=i,i.color=0;else if(e.left===ft)e.left=i,i.parent=e;else{let n=cF(e.left);n.right=i,i.parent=n}return uF(this,i),i}}});function tc(r){let e=0,t=0,i=0,n=0;for(let o=0,s=r.length;o<s;o++){let a=r.charCodeAt(o);a===13?(e===0&&(t=o),e++,o+1<s&&r.charCodeAt(o+1)===10?(n|=2,o++):n|=3,i=o+1):a===10&&(n|=1,e===0&&(t=o),e++,i=o+1)}return e===0&&(t=r.length),[e,t,r.length-i,n]}var zv=ge(()=>{});var pu,mF=ge(()=>{Ee();He();ye();Us();gF();zv();Q2();re();pu=class extends ${constructor(e,t,i,n,o,s,a){super();this._onDidChangeContent=this._register(new B),this._BOM=t,this._mightContainNonBasicASCII=!s,this._mightContainRTL=n,this._mightContainUnusualLineTerminators=o,this._pieceTree=new fF(e,i,a)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){let i=e+t,n=this.getPositionAt(e),o=this.getPositionAt(i);return new D(n.lineNumber,n.column,o.lineNumber,o.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";let i=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,i)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;let i=this.getOffsetAt(e.startLineNumber,e.startColumn);return this.getOffsetAt(e.endLineNumber,e.endColumn)-i}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let i=0,n=e.startLineNumber,o=e.endLineNumber;for(let s=n;s<=o;s++){let a=this.getLineContent(s),l=s===n?e.startColumn-1:0,c=s===o?e.endColumn-1:a.length;for(let d=l;d<c;d++)Ji(a.charCodeAt(d))?(i=i+1,d=d+1):i=i+1}return i+=this._getEndOfLine(t).length*(o-n),i}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){let t=wn(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){let t=Mr(this.getLineContent(e));return t===-1?0:t+2}_getEndOfLine(e){switch(e){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,i){let n=this._mightContainRTL,o=this._mightContainUnusualLineTerminators,s=this._mightContainNonBasicASCII,a=!0,l=[];for(let _=0;_<e.length;_++){let w=e[_];a&&w._isTracked&&(a=!1);let y=w.range;if(w.text){let M=!0;s||(M=!If(w.text),s=M),!n&&M&&(n=kf(w.text)),!o&&M&&(o=xD(w.text))}let C="",E=0,L=0,k=0;if(w.text){let M;[E,L,k,M]=tc(w.text);let I=this.getEOL();M===0||M===(I===`\r
`?2:1)?C=w.text:C=w.text.replace(/\r\n|\r|\n/g,I)}l[_]={sortIndex:_,identifier:w.identifier||null,range:y,rangeOffset:this.getOffsetAt(y.startLineNumber,y.startColumn),rangeLength:this.getValueLengthInRange(y),text:C,eolCount:E,firstLineLength:L,lastLineLength:k,forceMoveMarkers:Boolean(w.forceMoveMarkers),isAutoWhitespaceEdit:w.isAutoWhitespaceEdit||!1}}l.sort(pu._sortOpsAscending);let c=!1;for(let _=0,w=l.length-1;_<w;_++){let y=l[_].range.getEndPosition(),C=l[_+1].range.getStartPosition();if(C.isBeforeOrEqual(y)){if(C.isBefore(y))throw new Error("Overlapping ranges are not allowed!");c=!0}}a&&(l=this._reduceOperations(l));let d=i||t?pu._getInverseEditRanges(l):[],h=[];if(t)for(let _=0;_<l.length;_++){let w=l[_],y=d[_];if(w.isAutoWhitespaceEdit&&w.range.isEmpty())for(let C=y.startLineNumber;C<=y.endLineNumber;C++){let E="";C===y.startLineNumber&&(E=this.getLineContent(w.range.startLineNumber),wn(E)!==-1)||h.push({lineNumber:C,oldContent:E})}}let u=null;if(i){let _=0;u=[];for(let w=0;w<l.length;w++){let y=l[w],C=d[w],E=this.getValueInRange(y.range),L=y.rangeOffset+_;_+=y.text.length-E.length,u[w]={sortIndex:y.sortIndex,identifier:y.identifier,range:C,text:E,textChange:new bo(y.rangeOffset,E,L,y.text)}}c||u.sort((w,y)=>w.sortIndex-y.sortIndex)}this._mightContainRTL=n,this._mightContainUnusualLineTerminators=o,this._mightContainNonBasicASCII=s;let f=this._doApplyEdits(l),m=null;if(t&&h.length>0){h.sort((_,w)=>w.lineNumber-_.lineNumber),m=[];for(let _=0,w=h.length;_<w;_++){let y=h[_].lineNumber;if(_>0&&h[_-1].lineNumber===y)continue;let C=h[_].oldContent,E=this.getLineContent(y);E.length===0||E===C||wn(E)!==-1||m.push(y)}}return this._onDidChangeContent.fire(),new uM(u,f,m)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1,i=e[0].range,n=e[e.length-1].range,o=new D(i.startLineNumber,i.startColumn,n.endLineNumber,n.endColumn),s=i.startLineNumber,a=i.startColumn,l=[];for(let f=0,m=e.length;f<m;f++){let _=e[f],w=_.range;t=t||_.forceMoveMarkers,l.push(this.getValueInRange(new D(s,a,w.startLineNumber,w.startColumn))),_.text.length>0&&l.push(_.text),s=w.endLineNumber,a=w.endColumn}let c=l.join(""),[d,h,u]=tc(c);return{sortIndex:0,identifier:e[0].identifier,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o,0),text:c,eolCount:d,firstLineLength:h,lastLineLength:u,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(pu._sortOpsDescending);let t=[];for(let i=0;i<e.length;i++){let n=e[i],o=n.range.startLineNumber,s=n.range.startColumn,a=n.range.endLineNumber,l=n.range.endColumn;if(o===a&&s===l&&n.text.length===0)continue;n.text?(this._pieceTree.delete(n.rangeOffset,n.rangeLength),this._pieceTree.insert(n.rangeOffset,n.text,!0)):this._pieceTree.delete(n.rangeOffset,n.rangeLength);let c=new D(o,s,a,l);t.push({range:c,rangeLength:n.rangeLength,text:n.text,rangeOffset:n.rangeOffset,forceMoveMarkers:n.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,i,n){return this._pieceTree.findMatchesLineByLine(e,t,i,n)}static _getInverseEditRanges(e){let t=[],i=0,n=0,o=null;for(let s=0,a=e.length;s<a;s++){let l=e[s],c,d;o?o.range.endLineNumber===l.range.startLineNumber?(c=i,d=n+(l.range.startColumn-o.range.endColumn)):(c=i+(l.range.startLineNumber-o.range.endLineNumber),d=l.range.startColumn):(c=l.range.startLineNumber,d=l.range.startColumn);let h;if(l.text.length>0){let u=l.eolCount+1;u===1?h=new D(c,d,c,d+l.firstLineLength):h=new D(c,d,c+u-1,l.lastLineLength+1)}else h=new D(c,d,c,d);i=h.endLineNumber,n=h.endColumn,t.push(h),o=l}return t}static _sortOpsAscending(e,t){let i=D.compareRangesUsingEnds(e.range,t.range);return i===0?e.sortIndex-t.sortIndex:i}static _sortOpsDescending(e,t){let i=D.compareRangesUsingEnds(e.range,t.range);return i===0?t.sortIndex-e.sortIndex:-i}}});var dK,pF,hK=ge(()=>{He();gF();mF();dK=class{constructor(e,t,i,n,o,s,a,l,c){this._chunks=e,this._bom=t,this._cr=i,this._lf=n,this._crlf=o,this._containsRTL=s,this._containsUnusualLineTerminators=a,this._isBasicASCII=l,this._normalizeEOL=c}_getEOL(e){let t=this._cr+this._lf+this._crlf,i=this._cr+this._crlf;return t===0?e===1?`
`:`\r
`:i>t/2?`\r
`:`
`}create(e){let t=this._getEOL(e),i=this._chunks;if(this._normalizeEOL&&(t===`\r
`&&(this._cr>0||this._lf>0)||t===`
`&&(this._cr>0||this._crlf>0)))for(let o=0,s=i.length;o<s;o++){let a=i[o].buffer.replace(/\r\n|\r|\n/g,t),l=Kd(a);i[o]=new mu(a,l)}let n=new pu(i,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:n,disposable:n}}},pF=class{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(e.length===0)return;this.chunks.length===0&&vb(e)&&(this.BOM=sW,e=e.substr(1));let t=e.charCodeAt(e.length-1);t===13||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){!t&&e.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){let t=aK(this._tmpLineStarts,e);this.chunks.push(new mu(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,this.isBasicASCII&&(this.isBasicASCII=t.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=kf(e)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=xD(e))}finish(e=!0){return this._finish(),new dK(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);let t=Kd(e.buffer);e.lineStarts=t,this._previousChar===13&&this.cr++}}}});var _F,uK=ge(()=>{_F=class{constructor(e,t){this._startLineNumber=e,this._tokens=t}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(e){return this._tokens[e-this._startLineNumber]}appendLineTokens(e){this._tokens.push(e)}}});var Vy,fK=ge(()=>{uK();Vy=class{constructor(){this._tokens=[]}add(e,t){if(this._tokens.length>0){let i=this._tokens[this._tokens.length-1];if(i.endLineNumber+1===e){i.appendLineTokens(t);return}}this._tokens.push(new _F(e,[t]))}finalize(){return this._tokens}}});function Mue(r){if(r.isTooLargeForTokenization())return[null,null];let e=bi.get(r.getLanguageId());if(!e)return[null,null];let t;try{t=e.getInitialState()}catch(i){return Ie(i),[null,null]}return[e,t]}function Hy(r,e,t,i,n,o){let s=null;if(t)try{s=t.tokenizeEncoded(i,n,o.clone())}catch(a){Ie(a)}return s||(s=BD(r.encodeLanguageId(e),o)),tn.convertToEndOffset(s.tokens,i.length),s}var bF,gK,vF,mK=ge(()=>{jt();ut();Sd();cn();s0();re();va();zv();fK();nt();xt();bF=class{constructor(e){this._default=e,this._store=[]}get(e){return e<this._store.length?this._store[e]:this._default}set(e,t){for(;e>=this._store.length;)this._store[this._store.length]=this._default;this._store[e]=t}delete(e,t){t===0||e>=this._store.length||this._store.splice(e,t)}insert(e,t){if(t===0||e>=this._store.length)return;let i=[];for(let n=0;n<t;n++)i[n]=this._default;this._store=pf(this._store,e,i)}},gK=class{constructor(e,t){this.tokenizationSupport=e,this.initialState=t,this._lineBeginState=new bF(null),this._lineNeedsTokenization=new bF(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(e){this._lineNeedsTokenization.set(e,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,e)}getBeginState(e){return this._lineBeginState.get(e)}setEndState(e,t,i){if(this._lineNeedsTokenization.set(t,!1),this._firstLineNeedsTokenization=t+1,t===e-1)return;let n=this._lineBeginState.get(t+1);if(n===null||!i.equals(n)){this._lineBeginState.set(t+1,i),this.markMustBeTokenized(t+1);return}let o=t+1;for(;o<e&&!this._lineNeedsTokenization.get(o);)o++;this._firstLineNeedsTokenization=o}applyEdits(e,t){this.markMustBeTokenized(e.startLineNumber-1),this._lineBeginState.delete(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineNeedsTokenization.delete(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineBeginState.insert(e.startLineNumber,t),this._lineNeedsTokenization.insert(e.startLineNumber,t)}},vF=class extends ${constructor(e,t){super();this._textModel=e,this._languageIdCodec=t,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(bi.onDidChange(i=>{let n=this._textModel.getLanguageId();i.changedLanguages.indexOf(n)!==-1&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}handleDidChangeContent(e){if(e.isFlush){this._resetTokenizationState();return}if(this._tokenizationStateStore)for(let t=0,i=e.changes.length;t<i;t++){let n=e.changes[t],[o]=tc(n.text);this._tokenizationStateStore.applyEdits(n.range,o)}this._beginBackgroundTokenization()}handleDidChangeAttached(){this._beginBackgroundTokenization()}handleDidChangeLanguage(e){this._resetTokenizationState(),this._textModel.clearTokens()}_resetTokenizationState(){let[e,t]=Mue(this._textModel);e&&t?this._tokenizationStateStore=new gK(e,t):this._tokenizationStateStore=null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,Tm(e=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(e)}))}_backgroundTokenizeWithDeadline(e){let t=Date.now()+e.timeRemaining(),i=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<t?dx(i):this._beginBackgroundTokenization())};i()}_backgroundTokenizeForAtLeast1ms(){let e=this._textModel.getLineCount(),t=new Vy,i=fn.create(!1);do if(i.elapsed()>1||this._tokenizeOneInvalidLine(t)>=e)break;while(this._hasLinesToTokenize());this._textModel.setTokens(t.finalize(),!this._hasLinesToTokenize())}tokenizeViewport(e,t){let i=new Vy;this._tokenizeViewport(i,e,t),this._textModel.setTokens(i.finalize(),!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(e){let t=new Vy;this._updateTokensUntilLine(t,e),this._textModel.setTokens(t.finalize(),!this._hasLinesToTokenize())}getTokenTypeIfInsertingCharacter(e,t){if(!this._tokenizationStateStore)return 0;this.forceTokenization(e.lineNumber);let i=this._tokenizationStateStore.getBeginState(e.lineNumber-1);if(!i)return 0;let n=this._textModel.getLanguageId(),o=this._textModel.getLineContent(e.lineNumber),s=o.substring(0,e.column-1)+t+o.substring(e.column-1),a=Hy(this._languageIdCodec,n,this._tokenizationStateStore.tokenizationSupport,s,!0,i),l=new tn(a.tokens,s,this._languageIdCodec);if(l.getCount()===0)return 0;let c=l.findTokenIndexAtOffset(e.column-1);return l.getStandardTokenType(c)}tokenizeLineWithEdit(e,t,i){let n=e.lineNumber,o=e.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(n);let s=this._tokenizationStateStore.getBeginState(n-1);if(!s)return null;let a=this._textModel.getLineContent(n),l=a.substring(0,o-1)+i+a.substring(o-1+t),c=this._textModel.getLanguageIdAtPosition(n,0),d=Hy(this._languageIdCodec,c,this._tokenizationStateStore.tokenizationSupport,l,!0,s);return new tn(d.tokens,l,this._languageIdCodec)}isCheapToTokenize(e){if(!this._tokenizationStateStore)return!0;let t=this._tokenizationStateStore.invalidLineStartIndex+1;return e>t?!1:e<t||this._textModel.getLineLength(e)<2048}_hasLinesToTokenize(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(e){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;let t=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(e,t),t}_updateTokensUntilLine(e,t){if(!this._tokenizationStateStore)return;let i=this._textModel.getLanguageId(),n=this._textModel.getLineCount(),o=t-1;for(let s=this._tokenizationStateStore.invalidLineStartIndex;s<=o;s++){let a=this._textModel.getLineContent(s+1),l=this._tokenizationStateStore.getBeginState(s),c=Hy(this._languageIdCodec,i,this._tokenizationStateStore.tokenizationSupport,a,!0,l);e.add(s+1,c.tokens),this._tokenizationStateStore.setEndState(n,s,c.endState),s=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(e,t,i){if(!this._tokenizationStateStore||i<=this._tokenizationStateStore.invalidLineStartIndex)return;if(t<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(e,i);return}let n=this._textModel.getLineFirstNonWhitespaceColumn(t),o=[],s=null;for(let c=t-1;n>1&&c>=1;c--){let d=this._textModel.getLineFirstNonWhitespaceColumn(c);if(d!==0&&d<n){if(s=this._tokenizationStateStore.getBeginState(c-1),s)break;o.push(this._textModel.getLineContent(c)),n=d}}s||(s=this._tokenizationStateStore.initialState);let a=this._textModel.getLanguageId(),l=s;for(let c=o.length-1;c>=0;c--)l=Hy(this._languageIdCodec,a,this._tokenizationStateStore.tokenizationSupport,o[c],!1,l).endState;for(let c=t;c<=i;c++){let d=this._textModel.getLineContent(c),h=Hy(this._languageIdCodec,a,this._tokenizationStateStore.tokenizationSupport,d,!0,l);e.add(c,h.tokens),this._tokenizationStateStore.markMustBeTokenized(c-1),l=h.endState}}}});function Yd(r){return r instanceof Uint32Array?r:new Uint32Array(r)}var qd,ic,pK=ge(()=>{Sd();qd=new Uint32Array(0).buffer,ic=class{static deleteBeginning(e,t){return e===null||e===qd?e:ic.delete(e,0,t)}static deleteEnding(e,t){if(e===null||e===qd)return e;let i=Yd(e),n=i[i.length-2];return ic.delete(e,t,n)}static delete(e,t,i){if(e===null||e===qd||t===i)return e;let n=Yd(e),o=n.length>>>1;if(t===0&&n[n.length-2]===i)return qd;let s=tn.findIndexInTokensArray(n,t),a=s>0?n[s-1<<1]:0,l=n[s<<1];if(i<l){let f=i-t;for(let m=s;m<o;m++)n[m<<1]-=f;return e}let c,d;a!==t?(n[s<<1]=t,c=s+1<<1,d=t):(c=s<<1,d=a);let h=i-t;for(let f=s+1;f<o;f++){let m=n[f<<1]-h;m>d&&(n[c++]=m,n[c++]=n[(f<<1)+1],d=m)}if(c===n.length)return e;let u=new Uint32Array(c);return u.set(n.subarray(0,c),0),u.buffer}static append(e,t){if(t===qd)return e;if(e===qd)return t;if(e===null)return e;if(t===null)return null;let i=Yd(e),n=Yd(t),o=n.length>>>1,s=new Uint32Array(i.length+n.length);s.set(i,0);let a=i.length,l=i[i.length-2];for(let c=0;c<o;c++)s[a++]=n[c<<1]+l,s[a++]=n[(c<<1)+1];return s.buffer}static insert(e,t,i){if(e===null||e===qd)return e;let n=Yd(e),o=n.length>>>1,s=tn.findIndexInTokensArray(n,t);s>0&&n[s-1<<1]===t&&s--;for(let a=s;a<o;a++)n[a<<1]+=i;return e}}});function _K(r){return(r<<0|0<<8|0<<10|1<<14|2<<23)>>>0}var Vv,bK=ge(()=>{jt();lt();pK();Sd();cn();Vv=class{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}getTokens(e,t,i){let n=null;if(t<this._len&&(n=this._lineTokens[t]),n!==null&&n!==qd)return new tn(Yd(n),i,this._languageIdCodec);let o=new Uint32Array(2);return o[0]=i.length,o[1]=_K(this._languageIdCodec.encodeLanguageId(e)),new tn(o,i,this._languageIdCodec)}static _massageTokens(e,t,i){let n=i?Yd(i):null;if(t===0){let o=!1;if(n&&n.length>1&&(o=tr.getLanguageId(n[1])!==e),!o)return qd}if(!n||n.length===0){let o=new Uint32Array(2);return o[0]=t,o[1]=_K(e),o.buffer}return n[n.length-2]=t,n.byteOffset===0&&n.byteLength===n.buffer.byteLength?n.buffer:n}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(t===0)return;let i=[];for(let n=0;n<t;n++)i[n]=null;this._lineTokens=pf(this._lineTokens,e,i),this._len+=t}setTokens(e,t,i,n,o){let s=Vv._massageTokens(this._languageIdCodec.encodeLanguageId(e),i,n);this._ensureLine(t);let a=this._lineTokens[t];return this._lineTokens[t]=s,o?!Vv._equals(a,s):!1}static _equals(e,t){if(!e||!t)return!e&&!t;let i=Yd(e),n=Yd(t);if(i.length!==n.length)return!1;for(let o=0,s=i.length;o<s;o++)if(i[o]!==n[o])return!1;return!0}acceptEdit(e,t,i){this._acceptDeleteRange(e),this._acceptInsertText(new V(e.startLineNumber,e.startColumn),t,i)}_acceptDeleteRange(e){let t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._lineTokens[t]=ic.delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1);return}this._lineTokens[t]=ic.deleteEnding(this._lineTokens[t],e.startColumn-1);let i=e.endLineNumber-1,n=null;i<this._len&&(n=ic.deleteBeginning(this._lineTokens[i],e.endColumn-1)),this._lineTokens[t]=ic.append(this._lineTokens[t],n),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,i){if(t===0&&i===0)return;let n=e.lineNumber-1;if(!(n>=this._len)){if(t===0){this._lineTokens[n]=ic.insert(this._lineTokens[n],e.column-1,i);return}this._lineTokens[n]=ic.deleteEnding(this._lineTokens[n],e.column-1),this._lineTokens[n]=ic.insert(this._lineTokens[n],e.column-1,i),this._insertLines(e.lineNumber,t)}}}});var $y,vK=ge(()=>{jt();Sd();$y=class{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let i=e;if(t.length>0){let o=t[0].getRange(),s=t[t.length-1].getRange();if(!o||!s)return e;i=e.plusRange(o).plusRange(s)}let n=null;for(let o=0,s=this._pieces.length;o<s;o++){let a=this._pieces[o];if(a.endLineNumber<i.startLineNumber)continue;if(a.startLineNumber>i.endLineNumber){n=n||{index:o};break}if(a.removeTokens(i),a.isEmpty()){this._pieces.splice(o,1),o--,s--;continue}if(a.endLineNumber<i.startLineNumber)continue;if(a.startLineNumber>i.endLineNumber){n=n||{index:o};continue}let[l,c]=a.split(i);if(l.isEmpty()){n=n||{index:o};continue}c.isEmpty()||(this._pieces.splice(o,1,l,c),o++,s++,n=n||{index:o})}return n=n||{index:this._pieces.length},t.length>0&&(this._pieces=pf(this._pieces,n.index,t)),i}isComplete(){return this._isComplete}addSparseTokens(e,t){let i=this._pieces;if(i.length===0)return t;let n=$y._findFirstPieceWithLine(i,e),o=i[n].getLineTokens(e);if(!o)return t;let s=t.getCount(),a=o.getCount(),l=0,c=[],d=0,h=0,u=(f,m)=>{f!==h&&(h=f,c[d++]=f,c[d++]=m)};for(let f=0;f<a;f++){let m=o.getStartCharacter(f),_=o.getEndCharacter(f),w=o.getMetadata(f),y=((w&1?1024:0)|(w&2?2048:0)|(w&4?4096:0)|(w&8?8192:0)|(w&16?8372224:0)|(w&32?4286578688:0))>>>0,C=~y>>>0;for(;l<s&&t.getEndOffset(l)<=m;)u(t.getEndOffset(l),t.getMetadata(l)),l++;for(l<s&&t.getStartOffset(l)<m&&u(m,t.getMetadata(l));l<s&&t.getEndOffset(l)<_;)u(t.getEndOffset(l),t.getMetadata(l)&C|w&y),l++;if(l<s)u(_,t.getMetadata(l)&C|w&y),t.getEndOffset(l)===_&&l++;else{let E=Math.min(Math.max(0,l-1),s-1);u(_,t.getMetadata(E)&C|w&y)}}for(;l<s;)u(t.getEndOffset(l),t.getMetadata(l)),l++;return new tn(new Uint32Array(c),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let i=0,n=e.length-1;for(;i<n;){let o=i+Math.floor((n-i)/2);if(e[o].endLineNumber<t)i=o+1;else if(e[o].startLineNumber>t)n=o-1;else{for(;o>i&&e[o-1].startLineNumber<=t&&t<=e[o-1].endLineNumber;)o--;return o}}return i}acceptEdit(e,t,i,n,o){for(let s of this._pieces)s.acceptEdit(e,t,i,n,o)}}});var gg,Hk,fg,nc,Ky=ge(()=>{Ye();gg=Fe("undoRedoService"),Hk=class{constructor(e,t){this.resource=e,this.elements=t}},fg=class{constructor(){this.id=fg._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}};fg._ID=0;fg.None=new fg;nc=class{constructor(){this.id=nc._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}};nc._ID=0;nc.None=new nc});function Rue(){return new pF}function Fue(r){let e=Rue();return e.acceptChunk(r),e.finish()}function wK(r,e){return(typeof r=="string"?Fue(r):r).create(e)}function Wue(r){let e=0;for(let t of r)if(t===" "||t==="	")e++;else break;return e}function CF(r){return!!(r.options.overviewRuler&&r.options.overviewRuler.color)}function yF(r){return!!r.options.after||!!r.options.before}function mg(r){return r.replace(/[^a-z0-9\-_]/gi," ")}function yK(r){return r instanceof ot?r:ot.createDynamic(r)}var Aue,wF,$k,Bue,jue,SK,qy,Uc,SF,EF,EK,xK,Zd,ot,CK,DK,LK,Fo=ge(()=>{jt();Yn();ut();Ee();re();He();Oi();lt();ye();mi();Us();A$();R$();rF();WR();Z$();nK();mF();hK();rg();p0();mK();zv();bK();vK();Q_();no();Vo();Ky();jC();ok();Aue=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},wF=function(r,e){return function(t,i){e(t,i,r)}};$k=0,Bue=999,jue=1e4,SK=class{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;let e=[],t=0,i=0;do{let n=this._source.read();if(n===null)return this._eos=!0,t===0?null:e.join("");if(n.length>0&&(e[t++]=n,i+=n.length),i>=64*1024)return e.join("")}while(!0)}},qy=()=>{throw new Error("Invalid change accessor")},Uc=class Lp extends ${constructor(e,t,i,n=null,o,s,a){super();this._undoRedoService=o,this._languageService=s,this._languageConfigurationService=a,this._onWillDispose=this._register(new B),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new DK(u=>this.handleBeforeFireDecorationsChangedEvent(u))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new B),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new B),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new B),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new B),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new B),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new B),this._eventEmitter=this._register(new LK),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new B),$k++,this.id="$model"+$k,this.isForSimpleWidget=i.isForSimpleWidget,typeof n>"u"||n===null?this._associatedResource=De.parse("inmemory://model/"+$k):this._associatedResource=n,this._attachedEditorCount=0;let{textBuffer:l,disposable:c}=wK(e,i.defaultEOL);this._buffer=l,this._bufferDisposable=c,this._options=Lp.resolveOptions(this._buffer,i);let d=this._buffer.getLineCount(),h=this._buffer.getValueLengthInRange(new D(1,1,d,this._buffer.getLineLength(d)+1),0);i.largeFileOptimizations?this._isTooLargeForTokenization=h>Lp.LARGE_FILE_SIZE_THRESHOLD||d>Lp.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=h>Lp.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageId=t,this._languageRegistryListener=this._languageConfigurationService.onDidChange(u=>{u.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=DD($k),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new SF,this._commandManager=new My(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new Vv(this._languageService.languageIdCodec),this._semanticTokens=new $y(this._languageService.languageIdCodec),this._tokenization=new vF(this,this._languageService.languageIdCodec),this._bracketPairColorizer=this._register(new Z2(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new jR(this,this._languageConfigurationService)),this._decorationProvider=this._register(new G2(this)),this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(e,t){if(t.detectIndentation){let i=sF(e,t.tabSize,t.insertSpaces);return new km({tabSize:i.tabSize,indentSize:i.tabSize,insertSpaces:i.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new km({tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}onDidChangeContent(e){return this._eventEmitter.slowEvent(t=>e(t.contentChangedEvent))}onDidChangeContentOrInjectedText(e){return Ws(this._eventEmitter.fastEvent(t=>e(t.rawContentChangedEvent)),this._onDidChangeInjectedText.event(t=>e(t)))}get bracketPairs(){return this._bracketPairColorizer}get guides(){return this._guidesTextModelPart}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(e){if(this._backgroundTokenizationState===2)return;let t=e?2:1;this._backgroundTokenizationState!==t&&(this._backgroundTokenizationState=t,this._bracketPairColorizer.handleDidChangeBackgroundTokenizationState(),this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;let e=new pu([],"",`
`,!1,!1,!0,!0);e.dispose(),this._buffer=e,this._bufferDisposable=$.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(e,t){this._isDisposing||(this._bracketPairColorizer.handleDidChangeContent(t),this._tokenization.handleDidChangeContent(t),this._eventEmitter.fire(new Iv(e,t)))}setValue(e){if(this._assertNotDisposed(),e===null)return;let{textBuffer:t,disposable:i}=wK(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,i)}_createContentChanged2(e,t,i,n,o,s,a){return{changes:[{range:e,rangeOffset:t,rangeLength:i,text:n}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:o,isRedoing:s,isFlush:a}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();let i=this.getFullModelRange(),n=this.getValueLengthInRange(i),o=this.getLineCount(),s=this.getLineMaxColumn(o);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._tokens.flush(),this._semanticTokens.flush(),this._decorations=Object.create(null),this._decorationsTree=new SF,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new jd([new l2],this._versionId,!1,!1),this._createContentChanged2(new D(1,1,o,s),0,n,this.getValue(),!1,!1,!0))}setEOL(e){this._assertNotDisposed();let t=e===1?`\r
`:`
`;if(this._buffer.getEOL()===t)return;let i=this.getFullModelRange(),n=this.getValueLengthInRange(i),o=this.getLineCount(),s=this.getLineMaxColumn(o);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new jd([new h2],this._versionId,!1,!1),this._createContentChanged2(new D(1,1,o,s),0,n,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){let e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let i=0,n=t.length;i<n;i++){let o=t[i],s=o.range,a=o.cachedAbsoluteStart-o.start,l=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),c=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);o.cachedAbsoluteStart=l,o.cachedAbsoluteEnd=c,o.cachedVersionId=e,o.start=l-a,o.end=c-a,fu(o)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenization.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenization.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0,i=this._buffer.getLineCount();for(let n=1;n<=i;n++){let o=this._buffer.getLineLength(n);o>=jue?t+=o:e+=o}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();let t=typeof e.tabSize<"u"?e.tabSize:this._options.tabSize,i=typeof e.indentSize<"u"?e.indentSize:this._options.indentSize,n=typeof e.insertSpaces<"u"?e.insertSpaces:this._options.insertSpaces,o=typeof e.trimAutoWhitespace<"u"?e.trimAutoWhitespace:this._options.trimAutoWhitespace,s=typeof e.bracketColorizationOptions<"u"?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions,a=new km({tabSize:t,indentSize:i,insertSpaces:n,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:o,bracketPairColorizationOptions:s});if(this._options.equals(a))return;let l=this._options.createChangeEvent(a);this._options=a,this._bracketPairColorizer.handleDidChangeOptions(l),this._decorationProvider.handleDidChangeOptions(l),this._onDidChangeOptions.fire(l)}detectIndentation(e,t){this._assertNotDisposed();let i=sF(this._buffer,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}normalizeIndentation(e){return this._assertNotDisposed(),cp(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){let t=this.findMatches(tM.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map(i=>({range:i.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();let t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();let t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){this._assertNotDisposed();let i=this.getFullModelRange(),n=this.getValueInRange(i,e);return t?this._buffer.getBOM()+n:n}createSnapshot(e=!1){return new SK(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();let i=this.getFullModelRange(),n=this.getValueLengthInRange(i,e);return t?this._buffer.getBOM().length+n:n}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){let t=this._buffer.getLineCount(),i=e.startLineNumber,n=e.startColumn,o=Math.floor(typeof i=="number"&&!isNaN(i)?i:1),s=Math.floor(typeof n=="number"&&!isNaN(n)?n:1);if(o<1)o=1,s=1;else if(o>t)o=t,s=this.getLineMaxColumn(o);else if(s<=1)s=1;else{let h=this.getLineMaxColumn(o);s>=h&&(s=h)}let a=e.endLineNumber,l=e.endColumn,c=Math.floor(typeof a=="number"&&!isNaN(a)?a:1),d=Math.floor(typeof l=="number"&&!isNaN(l)?l:1);if(c<1)c=1,d=1;else if(c>t)c=t,d=this.getLineMaxColumn(c);else if(d<=1)d=1;else{let h=this.getLineMaxColumn(c);d>=h&&(d=h)}return i===o&&n===s&&a===c&&l===d&&e instanceof D&&!(e instanceof he)?e:new D(o,s,c,d)}_isValidPosition(e,t,i){if(typeof e!="number"||typeof t!="number"||isNaN(e)||isNaN(t)||e<1||t<1||(e|0)!==e||(t|0)!==t)return!1;let n=this._buffer.getLineCount();if(e>n)return!1;if(t===1)return!0;let o=this.getLineMaxColumn(e);if(t>o)return!1;if(i===1){let s=this._buffer.getLineCharCode(e,t-2);if(Ji(s))return!1}return!0}_validatePosition(e,t,i){let n=Math.floor(typeof e=="number"&&!isNaN(e)?e:1),o=Math.floor(typeof t=="number"&&!isNaN(t)?t:1),s=this._buffer.getLineCount();if(n<1)return new V(1,1);if(n>s)return new V(s,this.getLineMaxColumn(s));if(o<=1)return new V(n,1);let a=this.getLineMaxColumn(n);if(o>=a)return new V(n,a);if(i===1){let l=this._buffer.getLineCharCode(n,o-2);if(Ji(l))return new V(n,o-1)}return new V(n,o)}validatePosition(e){return this._assertNotDisposed(),e instanceof V&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){let i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,s=e.endColumn;if(!this._isValidPosition(i,n,0)||!this._isValidPosition(o,s,0))return!1;if(t===1){let a=n>1?this._buffer.getLineCharCode(i,n-2):0,l=s>1&&s<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,s-2):0,c=Ji(a),d=Ji(l);return!c&&!d}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof D&&!(e instanceof he)&&this._isValidRange(e,1))return e;let i=this._validatePosition(e.startLineNumber,e.startColumn,0),n=this._validatePosition(e.endLineNumber,e.endColumn,0),o=i.lineNumber,s=i.column,a=n.lineNumber,l=n.column;{let c=s>1?this._buffer.getLineCharCode(o,s-2):0,d=l>1&&l<=this._buffer.getLineLength(a)?this._buffer.getLineCharCode(a,l-2):0,h=Ji(c),u=Ji(d);return!h&&!u?new D(o,s,a,l):o===a&&s===l?new D(o,s-1,a,l-1):h&&u?new D(o,s-1,a,l+1):h?new D(o,s-1,a,l):new D(o,s,a,l+1)}return new D(o,s,a,l)}modifyPosition(e,t){this._assertNotDisposed();let i=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();let e=this.getLineCount();return new D(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,i,n){return this._buffer.findMatchesLineByLine(e,t,i,n)}findMatches(e,t,i,n,o,s,a=Bue){this._assertNotDisposed();let l=null;t!==null&&(Array.isArray(t)||(t=[t]),t.every(h=>D.isIRange(h))&&(l=t.map(h=>this.validateRange(h)))),l===null&&(l=[this.getFullModelRange()]),l=l.sort((h,u)=>h.startLineNumber-u.startLineNumber||h.startColumn-u.startColumn);let c=[];c.push(l.reduce((h,u)=>D.areIntersecting(h,u)?h.plusRange(u):(c.push(h),u)));let d;if(!i&&e.indexOf(`
`)<0){let u=new yd(e,i,n,o).parseSearchRequest();if(!u)return[];d=f=>this.findMatchesLineByLine(f,u,s,a)}else d=h=>Ab.findMatches(this,new yd(e,i,n,o),h,s,a);return c.map(d).reduce((h,u)=>h.concat(u),[])}findNextMatch(e,t,i,n,o,s){this._assertNotDisposed();let a=this.validatePosition(t);if(!i&&e.indexOf(`
`)<0){let c=new yd(e,i,n,o).parseSearchRequest();if(!c)return null;let d=this.getLineCount(),h=new D(a.lineNumber,a.column,d,this.getLineMaxColumn(d)),u=this.findMatchesLineByLine(h,c,s,1);return Ab.findNextMatch(this,new yd(e,i,n,o),a,s),u.length>0||(h=new D(1,1,a.lineNumber,this.getLineMaxColumn(a.lineNumber)),u=this.findMatchesLineByLine(h,c,s,1),u.length>0)?u[0]:null}return Ab.findNextMatch(this,new yd(e,i,n,o),a,s)}findPreviousMatch(e,t,i,n,o,s){this._assertNotDisposed();let a=this.validatePosition(t);return Ab.findPreviousMatch(this,new yd(e,i,n,o),a,s)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if((this.getEOL()===`
`?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof i0?e:new i0(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){let t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this._validateEditOperation(e[i]);return t}pushEditOperations(e,t,i){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),i)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,i){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let n=t.map(s=>({range:this.validateRange(s.range),text:s.text})),o=!0;if(e)for(let s=0,a=e.length;s<a;s++){let l=e[s],c=!1;for(let d=0,h=n.length;d<h;d++){let u=n[d].range,f=u.startLineNumber>l.endLineNumber,m=l.startLineNumber>u.endLineNumber;if(!f&&!m){c=!0;break}}if(!c){o=!1;break}}if(o)for(let s=0,a=this._trimAutoWhitespaceLines.length;s<a;s++){let l=this._trimAutoWhitespaceLines[s],c=this.getLineMaxColumn(l),d=!0;for(let h=0,u=n.length;h<u;h++){let f=n[h].range,m=n[h].text;if(!(l<f.startLineNumber||l>f.endLineNumber)&&!(l===f.startLineNumber&&f.startColumn===c&&f.isEmpty()&&m&&m.length>0&&m.charAt(0)===`
`)&&!(l===f.startLineNumber&&f.startColumn===1&&f.isEmpty()&&m&&m.length>0&&m.charAt(m.length-1)===`
`)){d=!1;break}}if(d){let h=new D(l,1,l,c);t.push(new i0(null,h,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,i)}_applyUndo(e,t,i,n){let o=e.map(s=>{let a=this.getPositionAt(s.newPosition),l=this.getPositionAt(s.newEnd);return{range:new D(a.lineNumber,a.column,l.lineNumber,l.column),text:s.oldText}});this._applyUndoRedoEdits(o,t,!0,!1,i,n)}_applyRedo(e,t,i,n){let o=e.map(s=>{let a=this.getPositionAt(s.oldPosition),l=this.getPositionAt(s.oldEnd);return{range:new D(a.lineNumber,a.column,l.lineNumber,l.column),text:s.newText}});this._applyUndoRedoEdits(o,t,!1,!0,i,n)}_applyUndoRedoEdits(e,t,i,n,o,s){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=n,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(o)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(s),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();let i=this._validateEditOperations(e);return this._doApplyEdits(i,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){let i=this._buffer.getLineCount(),n=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),o=this._buffer.getLineCount(),s=n.changes;if(this._trimAutoWhitespaceLines=n.trimAutoWhitespaceLineNumbers,s.length!==0){for(let c=0,d=s.length;c<d;c++){let h=s[c],[u,f,m]=tc(h.text);this._tokens.acceptEdit(h.range,u,f),this._semanticTokens.acceptEdit(h.range,u,f,m,h.text.length>0?h.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(h.rangeOffset,h.rangeLength,h.text.length,h.forceMoveMarkers)}let a=[];this._increaseVersionId();let l=i;for(let c=0,d=s.length;c<d;c++){let h=s[c],[u]=tc(h.text);this._onDidChangeDecorations.fire();let f=h.range.startLineNumber,m=h.range.endLineNumber,_=m-f,w=u,y=Math.min(_,w),C=w-_,E=o-l-C+f,L=E,k=E+w,M=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new V(L,1)),this.getOffsetAt(new V(k,this.getLineMaxColumn(k))),0),I=ls.fromDecorations(M),T=new Ol(I);for(let R=y;R>=0;R--){let Z=f+R,q=E+R;T.takeFromEndWhile(ne=>ne.lineNumber>q);let te=T.takeFromEndWhile(ne=>ne.lineNumber===q);a.push(new Sk(Z,this.getLineContent(q),te))}if(y<_){let R=f+y;a.push(new c2(R+1,m))}if(y<w){let R=new Ol(I),Z=f+y,q=w-y,te=o-l-q+Z+1,ne=[],Ne=[];for(let Oe=0;Oe<q;Oe++){let je=te+Oe;Ne[Oe]=this.getLineContent(je),R.takeWhile(Ze=>Ze.lineNumber<je),ne[Oe]=R.takeWhile(Ze=>Ze.lineNumber===je)}a.push(new d2(Z+1,f+w,Ne,ne))}l+=C}this._emitContentChangedEvent(new jd(a,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:s,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return n.reverseEdits===null?void 0:n.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(e===null||e.size===0)return;let i=[...e].map(n=>new Sk(n,this.getLineContent(n),this._getInjectedTextInLine(n)));this._onDidChangeInjectedText.fire(new my(i))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){let i={addDecoration:(o,s)=>this._deltaDecorationsImpl(e,[],[{range:o,options:s}])[0],changeDecoration:(o,s)=>{this._changeDecorationImpl(o,s)},changeDecorationOptions:(o,s)=>{this._changeDecorationOptionsImpl(o,yK(s))},removeDecoration:o=>{this._deltaDecorationsImpl(e,[o],[])},deltaDecorations:(o,s)=>o.length===0&&s.length===0?[]:this._deltaDecorationsImpl(e,o,s)},n=null;try{n=t(i)}catch(o){Ie(o)}return i.addDecoration=qy,i.changeDecoration=qy,i.changeDecorationOptions=qy,i.removeDecoration=qy,i.deltaDecorations=qy,n}deltaDecorations(e,t,i=0){if(this._assertNotDisposed(),e||(e=[]),e.length===0&&t.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,i){let n=e?this._decorations[e]:null;if(!n)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:CK[i]}])[0]:null;if(!t)return this._decorationsTree.delete(n),delete this._decorations[n.id],null;let o=this._validateRangeRelaxedNoAllocations(t),s=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),a=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);return this._decorationsTree.delete(n),n.reset(this.getVersionId(),s,a,o),n.setOptions(CK[i]),this._decorationsTree.insert(n),n.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;let t=this._decorationsTree.collectNodesFromOwner(e);for(let i=0,n=t.length;i<n;i++){let o=t[i];this._decorationsTree.delete(o),delete this._decorations[o.id]}}getDecorationOptions(e){let t=this._decorations[e];return t?t.options:null}getDecorationRange(e){let t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,i=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)}getLinesDecorations(e,t,i=0,n=!1){let o=this.getLineCount(),s=Math.min(o,Math.max(1,e)),a=Math.min(o,Math.max(1,t)),l=this.getLineMaxColumn(a),c=new D(s,1,a,l),d=this._getDecorationsInRange(c,i,n);return d.push(...this._decorationProvider.getDecorationsInRange(c,i,n)),d}getDecorationsInRange(e,t=0,i=!1){let n=this.validateRange(e),o=this._getDecorationsInRange(n,t,i);return o.push(...this._decorationProvider.getDecorationsInRange(n,t,i)),o}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){let t=this._buffer.getOffsetAt(e,1),i=t+this._buffer.getLineLength(e),n=this._decorationsTree.getInjectedTextInInterval(this,t,i,0);return ls.fromDecorations(n).filter(o=>o.lineNumber===e)}getAllDecorations(e=0,t=!1){let i=this._decorationsTree.getAll(this,e,t,!1);return i=i.concat(this._decorationProvider.getAllDecorations(e,t)),i}_getDecorationsInRange(e,t,i){let n=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),o=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,n,o,t,i)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){let i=this._decorations[e];if(!i)return;if(i.options.after){let a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.endLineNumber)}if(i.options.before){let a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.startLineNumber)}let n=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(n.startLineNumber,n.startColumn),s=this._buffer.getOffsetAt(n.endLineNumber,n.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),o,s,n),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options),i.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(n.endLineNumber),i.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(n.startLineNumber)}_changeDecorationOptionsImpl(e,t){let i=this._decorations[e];if(!i)return;let n=!!(i.options.overviewRuler&&i.options.overviewRuler.color),o=!!(t.overviewRuler&&t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(t),i.options.after||t.after){let s=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(s.endLineNumber)}if(i.options.before||t.before){let s=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(s.startLineNumber)}n!==o?(this._decorationsTree.delete(i),i.setOptions(t),this._decorationsTree.insert(i)):i.setOptions(t)}_deltaDecorationsImpl(e,t,i){let n=this.getVersionId(),o=t.length,s=0,a=i.length,l=0,c=new Array(a);for(;s<o||l<a;){let d=null;if(s<o){do d=this._decorations[t[s++]];while(!d&&s<o);if(d){if(d.options.after){let h=this._decorationsTree.getNodeRange(this,d);this._onDidChangeDecorations.recordLineAffectedByInjectedText(h.endLineNumber)}if(d.options.before){let h=this._decorationsTree.getNodeRange(this,d);this._onDidChangeDecorations.recordLineAffectedByInjectedText(h.startLineNumber)}this._decorationsTree.delete(d),this._onDidChangeDecorations.checkAffectedAndFire(d.options)}}if(l<a){if(!d){let w=++this._lastDecorationId,y=`${this._instanceId};${w}`;d=new zk(y,0,0),this._decorations[y]=d}let h=i[l],u=this._validateRangeRelaxedNoAllocations(h.range),f=yK(h.options),m=this._buffer.getOffsetAt(u.startLineNumber,u.startColumn),_=this._buffer.getOffsetAt(u.endLineNumber,u.endColumn);d.ownerId=e,d.reset(n,m,_,u),d.setOptions(f),d.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(u.endLineNumber),d.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(u.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(f),this._decorationsTree.insert(d),c[l]=d.id,l++}else d&&delete this._decorations[d.id]}return c}setTokens(e,t=!1){if(e.length!==0){let i=[];for(let n=0,o=e.length;n<o;n++){let s=e[n],a=0,l=0,c=!1;for(let d=s.startLineNumber;d<=s.endLineNumber;d++)c?(this._tokens.setTokens(this._languageId,d-1,this._buffer.getLineLength(d),s.getLineTokens(d),!1),l=d):this._tokens.setTokens(this._languageId,d-1,this._buffer.getLineLength(d),s.getLineTokens(d),!0)&&(c=!0,a=d,l=d);c&&i.push({fromLineNumber:a,toLineNumber:l})}i.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:i})}this.handleTokenizationProgress(t)}setSemanticTokens(e,t){this._semanticTokens.set(e,t),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:e!==null,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;let i=this.validateRange(this._semanticTokens.setPartial(e,t));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}tokenizeViewport(e,t){e=Math.max(1,e),t=Math.min(this._buffer.getLineCount(),t),this._tokenization.tokenizeViewport(e,t)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(e){this._isDisposing||(this._bracketPairColorizer.handleDidChangeTokens(e),this._onDidChangeTokens.fire(e))}resetTokenization(){this._tokenization.reset()}forceTokenization(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(e)}isCheapToTokenize(e){return this._tokenization.isCheapToTokenize(e)}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}getLineTokens(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(e)}_getLineTokens(e){let t=this.getLineContent(e),i=this._tokens.getTokens(this._languageId,e-1,t);return this._semanticTokens.addSparseTokens(e,i)}getLanguageId(){return this._languageId}setMode(e){if(this._languageId===e)return;let t={oldLanguage:this._languageId,newLanguage:e};this._languageId=e,this._bracketPairColorizer.handleDidChangeLanguage(t),this._tokenization.handleDidChangeLanguage(t),this._onDidChangeLanguage.fire(t),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(e,t){let i=this.validatePosition(new V(e,t)),n=this.getLineTokens(i.lineNumber);return n.getLanguageId(n.findTokenIndexAtOffset(i.column-1))}getTokenTypeIfInsertingCharacter(e,t,i){let n=this.validatePosition(new V(e,t));return this._tokenization.getTokenTypeIfInsertingCharacter(n,i)}tokenizeLineWithEdit(e,t,i){let n=this.validatePosition(e);return this._tokenization.tokenizeLineWithEdit(n,t,i)}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}getWordAtPosition(e){this._assertNotDisposed();let t=this.validatePosition(e),i=this.getLineContent(t.lineNumber),n=this._getLineTokens(t.lineNumber),o=n.findTokenIndexAtOffset(t.column-1),[s,a]=Lp._findLanguageBoundaries(n,o),l=mf(t.column,this.getLanguageConfiguration(n.getLanguageId(o)).getWordDefinition(),i.substring(s,a),s);if(l&&l.startColumn<=e.column&&e.column<=l.endColumn)return l;if(o>0&&s===t.column-1){let[c,d]=Lp._findLanguageBoundaries(n,o-1),h=mf(t.column,this.getLanguageConfiguration(n.getLanguageId(o-1)).getWordDefinition(),i.substring(c,d),c);if(h&&h.startColumn<=e.column&&e.column<=h.endColumn)return h}return null}static _findLanguageBoundaries(e,t){let i=e.getLanguageId(t),n=0;for(let s=t;s>=0&&e.getLanguageId(s)===i;s--)n=e.getStartOffset(s);let o=e.getLineContent().length;for(let s=t,a=e.getCount();s<a&&e.getLanguageId(s)===i;s++)o=e.getEndOffset(s);return[n,o]}getWordUntilPosition(e){let t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}normalizePosition(e,t){return e}getLineIndentColumn(e){return Wue(this.getLineContent(e))+1}};Uc.MODEL_SYNC_LIMIT=50*1024*1024;Uc.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024;Uc.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3;Uc.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:Lo.tabSize,indentSize:Lo.indentSize,insertSpaces:Lo.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:Lo.trimAutoWhitespace,largeFileOptimizations:Lo.largeFileOptimizations,bracketPairColorizationOptions:Lo.bracketPairColorizationOptions};Uc=Aue([wF(4,gg),wF(5,Gt),wF(6,en)],Uc);SF=class{constructor(){this._decorationsTree0=new Fy,this._decorationsTree1=new Fy,this._injectedTextDecorationsTree=new Fy}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1)}_ensureNodesHaveRanges(e,t){for(let i of t)i.range===null&&(i.range=e.getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd));return t}getAllInInterval(e,t,i,n,o){let s=e.getVersionId(),a=this._intervalSearch(t,i,n,o,s);return this._ensureNodesHaveRanges(e,a)}_intervalSearch(e,t,i,n,o){let s=this._decorationsTree0.intervalSearch(e,t,i,n,o),a=this._decorationsTree1.intervalSearch(e,t,i,n,o),l=this._injectedTextDecorationsTree.intervalSearch(e,t,i,n,o);return s.concat(a).concat(l)}getInjectedTextInInterval(e,t,i,n){let o=e.getVersionId(),s=this._injectedTextDecorationsTree.intervalSearch(t,i,n,!1,o);return this._ensureNodesHaveRanges(e,s).filter(a=>a.options.showIfCollapsed||!a.range.isEmpty())}getAllInjectedText(e,t){let i=e.getVersionId(),n=this._injectedTextDecorationsTree.search(t,!1,i);return this._ensureNodesHaveRanges(e,n).filter(o=>o.options.showIfCollapsed||!o.range.isEmpty())}getAll(e,t,i,n){let o=e.getVersionId(),s=this._search(t,i,n,o);return this._ensureNodesHaveRanges(e,s)}_search(e,t,i,n){if(i)return this._decorationsTree1.search(e,t,n);{let o=this._decorationsTree0.search(e,t,n),s=this._decorationsTree1.search(e,t,n),a=this._injectedTextDecorationsTree.search(e,t,n);return o.concat(s).concat(a)}}collectNodesFromOwner(e){let t=this._decorationsTree0.collectNodesFromOwner(e),i=this._decorationsTree1.collectNodesFromOwner(e),n=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(i).concat(n)}collectNodesPostOrder(){let e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),i=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(i)}insert(e){yF(e)?this._injectedTextDecorationsTree.insert(e):CF(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){yF(e)?this._injectedTextDecorationsTree.delete(e):CF(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){let i=e.getVersionId();return t.cachedVersionId!==i&&this._resolveNode(t,i),t.range===null&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){yF(e)?this._injectedTextDecorationsTree.resolveNode(e,t):CF(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,i,n){this._decorationsTree0.acceptReplace(e,t,i,n),this._decorationsTree1.acceptReplace(e,t,i,n),this._injectedTextDecorationsTree.acceptReplace(e,t,i,n)}};EF=class{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}},EK=class extends EF{constructor(e){super(e);this._resolvedColor=null,this.position=typeof e.position=="number"?e.position:Ar.Center}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if(typeof e=="string")return e;let i=e?t.getColor(e.id):null;return i?i.toString():""}},xK=class extends EF{constructor(e){super(e);this.position=e.position}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return typeof e=="string"?X.fromHex(e):t.getColor(e.id)}},Zd=class{constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=e.attachedData||null,this.cursorStops=e.cursorStops||null}static from(e){return e instanceof Zd?e:new Zd(e)}},ot=class{constructor(e){var t,i;this.description=e.description,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?mg(e.className):null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new EK(e.overviewRuler):null,this.minimap=e.minimap?new xK(e.minimap):null,this.glyphMarginClassName=e.glyphMarginClassName?mg(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?mg(e.linesDecorationsClassName):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?mg(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?mg(e.marginClassName):null,this.inlineClassName=e.inlineClassName?mg(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?mg(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?mg(e.afterContentClassName):null,this.after=e.after?Zd.from(e.after):null,this.before=e.before?Zd.from(e.before):null,this.hideInCommentTokens=(t=e.hideInCommentTokens)!==null&&t!==void 0?t:!1,this.hideInStringTokens=(i=e.hideInStringTokens)!==null&&i!==void 0?i:!1}static register(e){return new ot(e)}static createDynamic(e){return new ot(e)}};ot.EMPTY=ot.register({description:"empty"});CK=[ot.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),ot.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),ot.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),ot.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];DK=class extends ${constructor(e){super();this.handleBeforeFire=e,this._actual=this._register(new B),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var e;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);let t={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(t)}(e=this._affectedInjectedTextLines)===null||e===void 0||e.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){this._affectsMinimap||(this._affectsMinimap=!!(e.minimap&&e.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(e.overviewRuler&&e.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}},LK=class extends ${constructor(){super();this._fastEmitter=this._register(new B),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new B),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;let t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e;return}this._fastEmitter.fire(e),this._slowEmitter.fire(e)}}});var pfe,Yo,vu=ge(()=>{Ye();pfe="editorWorkerService",Yo=Fe(pfe)});var SKe,oc,ea,Vc=ge(()=>{Ye();SKe=Object.freeze({total(){},worked(){},done(){}}),oc=class{constructor(e){this.callback=e}report(e){this._value=e,this.callback(this._value)}};oc.None=Object.freeze({report(){}});ea=Fe("editorProgressService")});var dq,hq,uq,fq,gq,mq,l1,Jd,pq,wo,_q,ta,ia=ge(()=>{He();uq=class{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){let t=e.charCodeAt(0),i=this._value.charCodeAt(this._pos);return t-i}value(){return this._value[this._pos]}},fq=class{constructor(e=!0){this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?yD(e,this._value,0,e.length,this._from,this._to):mb(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}},gq=class{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t}reset(e){this._from=0,this._to=0,this._value=e,this._valueLen=e.length;for(let t=e.length-1;t>=0;t--,this._valueLen--){let i=this._value.charCodeAt(t);if(!(i===47||this._splitOnBackslash&&i===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let e=!0;for(;this._to<this._valueLen;this._to++){let t=this._value.charCodeAt(this._to);if(t===47||this._splitOnBackslash&&t===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?yD(e,this._value,0,e.length,this._from,this._to):mb(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}},mq=class{constructor(e){this._ignorePathCasing=e,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new gq(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return ZC(e,this._value.scheme);if(this._states[this._stateIdx]===2)return ZC(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return Lf(e,this._value.query);if(this._states[this._stateIdx]===5)return Lf(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}},l1=class{constructor(){this.height=1}rotateLeft(){let e=this.right;return this.right=e.left,e.left=this,this.updateHeight(),e.updateHeight(),e}rotateRight(){let e=this.left;return this.left=e.right,e.right=this,this.updateHeight(),e.updateHeight(),e}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var e,t;return(t=(e=this.left)===null||e===void 0?void 0:e.height)!==null&&t!==void 0?t:0}get heightRight(){var e,t;return(t=(e=this.right)===null||e===void 0?void 0:e.height)!==null&&t!==void 0?t:0}},Jd=class{constructor(e){this._iter=e}static forUris(e=()=>!1){return new Jd(new mq(e))}static forStrings(){return new Jd(new uq)}static forConfigKeys(){return new Jd(new fq)}clear(){this._root=void 0}set(e,t){let i=this._iter.reset(e),n;this._root||(this._root=new l1,this._root.segment=i.value());let o=[];for(n=this._root;;){let a=i.cmp(n.segment);if(a>0)n.left||(n.left=new l1,n.left.segment=i.value()),o.push([-1,n]),n=n.left;else if(a<0)n.right||(n.right=new l1,n.right.segment=i.value()),o.push([1,n]),n=n.right;else if(i.hasNext())i.next(),n.mid||(n.mid=new l1,n.mid.segment=i.value()),o.push([0,n]),n=n.mid;else break}let s=n.value;n.value=t,n.key=e;for(let a=o.length-1;a>=0;a--){let l=o[a][1];l.updateHeight();let c=l.balanceFactor();if(c<-1||c>1){let d=o[a][0],h=o[a+1][0];if(d===1&&h===1)o[a][1]=l.rotateLeft();else if(d===-1&&h===-1)o[a][1]=l.rotateRight();else if(d===1&&h===-1)l.right=o[a+1][1]=o[a+1][1].rotateRight(),o[a][1]=l.rotateLeft();else if(d===-1&&h===1)l.left=o[a+1][1]=o[a+1][1].rotateLeft(),o[a][1]=l.rotateRight();else throw new Error;if(a>0)switch(o[a-1][0]){case-1:o[a-1][1].left=o[a][1];break;case 1:o[a-1][1].right=o[a][1];break;case 0:o[a-1][1].mid=o[a][1];break}else this._root=o[0][1]}}return s}get(e){var t;return(t=this._getNode(e))===null||t===void 0?void 0:t.value}_getNode(e){let t=this._iter.reset(e),i=this._root;for(;i;){let n=t.cmp(i.segment);if(n>0)i=i.left;else if(n<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else break}return i}has(e){let t=this._getNode(e);return!(t?.value===void 0&&t?.mid===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){var i;let n=this._iter.reset(e),o=[],s=this._root;for(;s;){let a=n.cmp(s.segment);if(a>0)o.push([-1,s]),s=s.left;else if(a<0)o.push([1,s]),s=s.right;else if(n.hasNext())n.next(),o.push([0,s]),s=s.mid;else break}if(!!s){if(t?(s.left=void 0,s.mid=void 0,s.right=void 0,s.height=1):(s.key=void 0,s.value=void 0),!s.mid&&!s.value)if(s.left&&s.right){let a=this._min(s.right),{key:l,value:c,segment:d}=a;this._delete(a.key,!1),s.key=l,s.value=c,s.segment=d}else{let a=(i=s.left)!==null&&i!==void 0?i:s.right;if(o.length>0){let[l,c]=o[o.length-1];switch(l){case-1:c.left=a;break;case 0:c.mid=a;break;case 1:c.right=a;break}}else this._root=a}for(let a=o.length-1;a>=0;a--){let l=o[a][1];l.updateHeight();let c=l.balanceFactor();if(c>1?(l.right.balanceFactor()>=0||(l.right=l.right.rotateRight()),o[a][1]=l.rotateLeft()):c<-1&&(l.left.balanceFactor()<=0||(l.left=l.left.rotateLeft()),o[a][1]=l.rotateRight()),a>0)switch(o[a-1][0]){case-1:o[a-1][1].left=o[a][1];break;case 1:o[a-1][1].right=o[a][1];break;case 0:o[a-1][1].mid=o[a][1];break}else this._root=o[0][1]}}}_min(e){for(;e.left;)e=e.left;return e}findSubstr(e){let t=this._iter.reset(e),i=this._root,n;for(;i;){let o=t.cmp(i.segment);if(o>0)i=i.left;else if(o<0)i=i.right;else if(t.hasNext())t.next(),n=i.value||n,i=i.mid;else break}return i&&i.value||n}findSuperstr(e){let t=this._iter.reset(e),i=this._root;for(;i;){let n=t.cmp(i.segment);if(n>0)i=i.left;else if(n<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else return i.mid?this._entries(i.mid):void 0}}forEach(e){for(let[t,i]of this)e(i,t)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){!e||(e.left&&(yield*this._entries(e.left)),e.value&&(yield[e.key,e.value]),e.mid&&(yield*this._entries(e.mid)),e.right&&(yield*this._entries(e.right)))}},pq=class{constructor(e,t){this.uri=e,this.value=t}},wo=class{constructor(e,t){this[dq]="ResourceMap",e instanceof wo?(this.map=new Map(e.map),this.toKey=t??wo.defaultToKey):(this.map=new Map,this.toKey=e??wo.defaultToKey)}set(e,t){return this.map.set(this.toKey(e),new pq(e,t)),this}get(e){var t;return(t=this.map.get(this.toKey(e)))===null||t===void 0?void 0:t.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){typeof t<"u"&&(e=e.bind(t));for(let[i,n]of this.map)e(n.value,n.uri,this)}*values(){for(let e of this.map.values())yield e.value}*keys(){for(let e of this.map.values())yield e.uri}*entries(){for(let e of this.map.values())yield[e.uri,e.value]}*[(dq=Symbol.toStringTag,Symbol.iterator)](){for(let[,e]of this.map)yield[e.uri,e.value]}};wo.defaultToKey=r=>r.toString();_q=class{constructor(){this[hq]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,t=0){let i=this._map.get(e);if(!!i)return t!==0&&this.touch(i,t),i.value}set(e,t,i=0){let n=this._map.get(e);if(n)n.value=t,i!==0&&this.touch(n,i);else{switch(n={key:e,value:t,next:void 0,previous:void 0},i){case 0:this.addItemLast(n);break;case 1:this.addItemFirst(n);break;case 2:this.addItemLast(n);break;default:this.addItemLast(n);break}this._map.set(e,n),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(!!t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let i=this._state,n=this._head;for(;n;){if(t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){let e=this,t=this._state,i=this._head,n={[Symbol.iterator](){return n},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let o={value:i.key,done:!1};return i=i.next,o}else return{value:void 0,done:!0}}};return n}values(){let e=this,t=this._state,i=this._head,n={[Symbol.iterator](){return n},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let o={value:i.value,done:!1};return i=i.next,o}else return{value:void 0,done:!0}}};return n}entries(){let e=this,t=this._state,i=this._head,n={[Symbol.iterator](){return n},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let o={value:[i.key,i.value],done:!1};return i=i.next,o}else return{value:void 0,done:!0}}};return n}[(hq=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.next,i--;this._head=t,this._size=i,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,i=e.previous;if(!t||!i)throw new Error("Invalid list");t.previous=i,i.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;let i=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(i.previous=n,n.next=i),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===2){if(e===this._tail)return;let i=e.next,n=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=n,n.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,i)=>{e.push([i,t])}),e}fromJSON(e){this.clear();for(let[t,i]of e)this.set(t,i)}},ta=class extends _q{constructor(e,t=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}});function sr(r,e,t){return Math.min(Math.max(r,e),t)}var aI,i4,Gv=ge(()=>{aI=class{constructor(){this._n=1,this._val=0}update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}},i4=class{constructor(e){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(e),this._values.fill(0,0,e)}update(e){let t=this._values[this._index];return this._values[this._index]=e,this._index=(this._index+1)%this._values.length,this._sum-=t,this._sum+=e,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}});var Dfe,Lfe,Co,lI,bq,n4,rc=ge(()=>{Tb();ia();Gv();Ss();Ye();Vl();Dfe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Lfe=function(r,e){return function(t,i){e(t,i,r)}},Co=Fe("ILanguageFeatureDebounceService");(function(r){let e=new WeakMap,t=0;function i(n){let o=e.get(n);return o===void 0&&(o=++t,e.set(n,o)),o}r.of=i})(lI||(lI={}));bq=class{constructor(e,t,i,n,o,s){this._logService=e,this._name=t,this._registry=i,this._default=n,this._min=o,this._max=s,this._cache=new ta(50,.7)}_key(e){return e.id+this._registry.all(e).reduce((t,i)=>h0(lI.of(i),t),0)}get(e){let t=this._key(e),i=this._cache.get(t);return i?sr(i.value,this._min,this._max):this.default()}update(e,t){let i=this._key(e),n=this._cache.get(i);n||(n=new i4(6),this._cache.set(i,n));let o=sr(n.update(t),this._min,this._max);return this._logService.trace(`[DEBOUNCE: ${this._name}] for ${e.uri.toString()} is ${o}ms`),o}_overall(){let e=new aI;for(let[,t]of this._cache)e.update(t.value);return e.value}default(){let e=this._overall()|0||this._default;return sr(e,this._min,this._max)}},n4=class{constructor(e){this._logService=e,this._data=new Map}for(e,t,i){var n,o,s;let a=(n=i?.min)!==null&&n!==void 0?n:50,l=(o=i?.max)!==null&&o!==void 0?o:Math.pow(a,2),c=(s=i?.key)!==null&&s!==void 0?s:void 0,d=`${lI.of(e)},${a}${c?","+c:""}`,h=this._data.get(d);return h||(h=new bq(this._logService,t,e,this._overallAverage()|0||a*1.5,a,l),this._data.set(d,h)),h}_overallAverage(){let e=new aI;for(let t of this._data.values())e.update(t.default());return e.value}};n4=Dfe([Lfe(0,go)],n4);Lt(Co,n4,!0)});var vi,sc=ge(()=>{ye();vi=class{static insert(e,t){return{range:new D(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}});var jp,y1,B4,_Y=ge(()=>{lt();ye();zv();jp=class{constructor(e,t){this._startLineNumber=e,this._tokens=t,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(e,t){return new jp(e,new y1(t))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(e){return this._startLineNumber<=e&&e<=this._endLineNumber?this._tokens.getLineTokens(e-this._startLineNumber):null}getRange(){let e=this._tokens.getRange();return e&&new D(this._startLineNumber+e.startLineNumber,e.startColumn,this._startLineNumber+e.endLineNumber,e.endColumn)}removeTokens(e){let t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(t,e.startColumn-1,i,e.endColumn-1),this._updateEndLineNumber()}split(e){let t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber,[n,o,s]=this._tokens.split(t,e.startColumn-1,i,e.endColumn-1);return[new jp(this._startLineNumber,n),new jp(this._startLineNumber+s,o)]}applyEdit(e,t){let[i,n,o]=tc(t);this.acceptEdit(e,i,n,o,t.length>0?t.charCodeAt(0):0)}acceptEdit(e,t,i,n,o){this._acceptDeleteRange(e),this._acceptInsertText(new V(e.startLineNumber,e.startColumn),t,i,n,o),this._updateEndLineNumber()}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return;let t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber;if(i<0){let o=i-t;this._startLineNumber-=o;return}let n=this._tokens.getMaxDeltaLine();if(!(t>=n+1)){if(t<0&&i>=n+1){this._startLineNumber=0,this._tokens.clear();return}if(t<0){let o=-t;this._startLineNumber-=o,this._tokens.acceptDeleteRange(e.startColumn-1,0,0,i,e.endColumn-1)}else this._tokens.acceptDeleteRange(0,t,e.startColumn-1,i,e.endColumn-1)}}_acceptInsertText(e,t,i,n,o){if(t===0&&i===0)return;let s=e.lineNumber-this._startLineNumber;if(s<0){this._startLineNumber+=t;return}let a=this._tokens.getMaxDeltaLine();s>=a+1||this._tokens.acceptInsertText(s,e.column-1,t,i,n,o)}},y1=class{constructor(e){this._tokens=e,this._tokenCount=e.length/4}toString(e){let t=[];for(let i=0;i<this._tokenCount;i++)t.push(`(${this._getDeltaLine(i)+e},${this._getStartCharacter(i)}-${this._getEndCharacter(i)})`);return`[${t.join(",")}]`}getMaxDeltaLine(){let e=this._getTokenCount();return e===0?-1:this._getDeltaLine(e-1)}getRange(){let e=this._getTokenCount();if(e===0)return null;let t=this._getStartCharacter(0),i=this._getDeltaLine(e-1),n=this._getEndCharacter(e-1);return new D(0,t+1,i,n+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(e){return this._tokens[4*e]}_getStartCharacter(e){return this._tokens[4*e+1]}_getEndCharacter(e){return this._tokens[4*e+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(e){let t=0,i=this._getTokenCount()-1;for(;t<i;){let n=t+Math.floor((i-t)/2),o=this._getDeltaLine(n);if(o<e)t=n+1;else if(o>e)i=n-1;else{let s=n;for(;s>t&&this._getDeltaLine(s-1)===e;)s--;let a=n;for(;a<i&&this._getDeltaLine(a+1)===e;)a++;return new B4(this._tokens.subarray(4*s,4*a+4))}}return this._getDeltaLine(t)===e?new B4(this._tokens.subarray(4*t,4*t+4)):null}clear(){this._tokenCount=0}removeTokens(e,t,i,n){let o=this._tokens,s=this._tokenCount,a=0,l=!1,c=0;for(let d=0;d<s;d++){let h=4*d,u=o[h],f=o[h+1],m=o[h+2],_=o[h+3];if((u>e||u===e&&m>=t)&&(u<i||u===i&&f<=n))l=!0;else{if(a===0&&(c=u),l){let w=4*a;o[w]=u-c,o[w+1]=f,o[w+2]=m,o[w+3]=_}a++}}return this._tokenCount=a,c}split(e,t,i,n){let o=this._tokens,s=this._tokenCount,a=[],l=[],c=a,d=0,h=0;for(let u=0;u<s;u++){let f=4*u,m=o[f],_=o[f+1],w=o[f+2],y=o[f+3];if(m>e||m===e&&w>=t){if(m<i||m===i&&_<=n)continue;c!==l&&(c=l,d=0,h=m)}c[d++]=m-h,c[d++]=_,c[d++]=w,c[d++]=y}return[new y1(new Uint32Array(a)),new y1(new Uint32Array(l)),h]}acceptDeleteRange(e,t,i,n,o){let s=this._tokens,a=this._tokenCount,l=n-t,c=0,d=!1;for(let h=0;h<a;h++){let u=4*h,f=s[u],m=s[u+1],_=s[u+2],w=s[u+3];if(f<t||f===t&&_<=i){c++;continue}else if(f===t&&m<i)f===n&&_>o?_-=o-i:_=i;else if(f===t&&m===i)if(f===n&&_>o)_-=o-i;else{d=!0;continue}else if(f<n||f===n&&m<o)if(f===n&&_>o)f===t?(m=i,_=m+(_-o)):(m=0,_=m+(_-o));else{d=!0;continue}else if(f>n){if(l===0&&!d){c=a;break}f-=l}else if(f===n&&m>=o)e&&f===0&&(m+=e,_+=e),f-=l,m-=o-i,_-=o-i;else throw new Error("Not possible!");let y=4*c;s[y]=f,s[y+1]=m,s[y+2]=_,s[y+3]=w,c++}this._tokenCount=c}acceptInsertText(e,t,i,n,o,s){let a=i===0&&n===1&&(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122),l=this._tokens,c=this._tokenCount;for(let d=0;d<c;d++){let h=4*d,u=l[h],f=l[h+1],m=l[h+2];if(!(u<e||u===e&&m<t)){if(u===e&&m===t)if(a)m+=1;else continue;else if(u===e&&f<t&&t<m)i===0?m+=n:m=t;else{if(u===e&&f===t&&a)continue;if(u===e)if(u+=i,i===0)f+=n,m+=n;else{let _=m-f;f=o+(f-t),m=f+_}else u+=i}l[h]=u,l[h+1]=f,l[h+2]=m}}}},B4=class{constructor(e){this._tokens=e}getCount(){return this._tokens.length/4}getStartCharacter(e){return this._tokens[4*e+1]}getEndCharacter(e){return this._tokens[4*e+2]}getMetadata(e){return this._tokens[4*e+3]}}});function AI(r,e,t){let i=r.data,n=r.data.length/5|0,o=Math.max(Math.ceil(n/1024),400),s=[],a=0,l=1,c=0;for(;a<n;){let d=a,h=Math.min(d+o,n);if(h<n){let E=h;for(;E-1>d&&i[5*E]===0;)E--;if(E-1===d){let L=h;for(;L+1<n&&i[5*L]===0;)L++;h=L}else h=E}let u=new Uint32Array((h-d)*4),f=0,m=0,_=0,w=0,y=0;for(;a<h;){let E=5*a,L=i[E],k=i[E+1],M=l+L|0,I=L===0?c+k|0:k,T=i[E+2],R=i[E+3],Z=i[E+4],q=e.getMetadata(R,Z,t);q!==2147483647&&(m===0&&(m=M),_===M&&y>I&&(e.warnOverlappingSemanticTokens(M,I+1),w<I?u[f-4+2]=I:f-=4),u[f]=M-m,u[f+1]=I,u[f+2]=I+T,u[f+3]=q,f+=4,_=M,w=I,y=I+T),l=M,c=I,a++}f!==u.length&&(u=u.subarray(0,f));let C=jp.create(m,u);s.push(C)}return s}var Lge,j4,MI,bY,nh,W4=ge(()=>{cn();pt();Vl();_Y();Vo();Lge=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},j4=function(r,e){return function(t,i){e(t,i,r)}},MI=class{constructor(e,t,i,n){this._legend=e,this._themeService=t,this._languageService=i,this._logService=n,this._hashTable=new nh,this._hasWarnedOverlappingTokens=!1}getMetadata(e,t,i){let n=this._languageService.languageIdCodec.encodeLanguageId(i),o=this._hashTable.get(e,t,n),s;if(o)s=o.metadata,this._logService.getLevel()===zl.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${tr.getForeground(s)}, fontStyle ${tr.getFontStyle(s).toString(2)}`);else{let a=this._legend.tokenTypes[e],l=[];if(a){let c=t;for(let h=0;c>0&&h<this._legend.tokenModifiers.length;h++)c&1&&l.push(this._legend.tokenModifiers[h]),c=c>>1;c>0&&this._logService.getLevel()===zl.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),l.push("not-in-legend"));let d=this._themeService.getColorTheme().getTokenStyleMetadata(a,l,i);typeof d>"u"?s=2147483647:(s=0,typeof d.italic<"u"&&(s|=(d.italic?1:0)<<10|1),typeof d.bold<"u"&&(s|=(d.bold?2:0)<<10|2),typeof d.underline<"u"&&(s|=(d.underline?4:0)<<10|4),typeof d.strikethrough<"u"&&(s|=(d.strikethrough?8:0)<<10|8),d.foreground&&(s|=d.foreground<<14|16),s===0&&(s=2147483647))}else this._logService.getLevel()===zl.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),s=2147483647,a="not-in-legend";this._hashTable.add(e,t,n,s),this._logService.getLevel()===zl.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${a}) / ${t} (${l.join(" ")}): foreground ${tr.getForeground(s)}, fontStyle ${tr.getFontStyle(s).toString(2)}`)}return s}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}};MI=Lge([j4(1,Ft),j4(2,Gt),j4(3,go)],MI);bY=class{constructor(e,t,i,n){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=i,this.metadata=n,this.next=null}},nh=class{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=nh._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<nh._SIZES.length?2/3*this._currentLength:0),this._elements=[],nh._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let i=0;i<t;i++)e[i]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,i){return this._hash2(this._hash2(e,t),i)%this._currentLength}get(e,t,i){let n=this._hashFunc(e,t,i),o=this._elements[n];for(;o;){if(o.tokenTypeIndex===e&&o.tokenModifierSet===t&&o.languageId===i)return o;o=o.next}return null}add(e,t,i,n){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){let o=this._elements;this._currentLengthIndex++,this._currentLength=nh._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<nh._SIZES.length?2/3*this._currentLength:0),this._elements=[],nh._nullOutEntries(this._elements,this._currentLength);for(let s of o){let a=s;for(;a;){let l=a.next;a.next=null,this._add(a),a=l}}}this._add(new bY(e,t,i,n))}_add(e){let t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}};nh._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]});function kge(r){for(let e=0,t=r.length;e<t;e+=4){let i=r[e+0],n=r[e+1],o=r[e+2],s=r[e+3];r[e+0]=s,r[e+1]=o,r[e+2]=n,r[e+3]=i}}function Ige(r){let e=new Uint8Array(r.buffer,r.byteOffset,r.length*4);return hx()||kge(e),Om.wrap(e)}function U4(r){let e=new Uint32Array(Oge(r)),t=0;if(e[t++]=r.id,r.type==="full")e[t++]=1,e[t++]=r.data.length,e.set(r.data,t),t+=r.data.length;else{e[t++]=2,e[t++]=r.deltas.length;for(let i of r.deltas)e[t++]=i.start,e[t++]=i.deleteCount,i.data?(e[t++]=i.data.length,e.set(i.data,t),t+=i.data.length):e[t++]=0}return Ige(e)}function Oge(r){let e=0;if(e+=1+1,r.type==="full")e+=1+r.data.length;else{e+=1,e+=(1+1+1)*r.deltas.length;for(let t of r.deltas)t.data&&(e+=t.data.length)}return e}var vY=ge(()=>{Db();xt()});function S1(r){return r&&!!r.data}function z4(r){return r&&Array.isArray(r.edits)}function V4(r,e){return r.has(e)}function Tge(r,e){let t=r.orderedGroups(e);return t.length>0?t[0]:[]}function H4(r,e,t,i,n){return Eg(this,void 0,void 0,function*(){let o=Tge(r,e),s=yield Promise.all(o.map(a=>Eg(this,void 0,void 0,function*(){let l,c=null;try{l=yield a.provideDocumentSemanticTokens(e,a===t?i:null,n)}catch(d){c=d,l=null}return(!l||!S1(l)&&!z4(l))&&(l=null),new wY(a,l,c)})));for(let a of s){if(a.error)throw a.error;if(a.tokens)return a}return s.length>0?s[0]:null})}function Nge(r,e){let t=r.orderedGroups(e);return t.length>0?t[0]:null}function yY(r,e){return r.has(e)}function SY(r,e){let t=r.orderedGroups(e);return t.length>0?t[0]:[]}function RI(r,e,t,i){return Eg(this,void 0,void 0,function*(){let n=SY(r,e),o=yield Promise.all(n.map(s=>Eg(this,void 0,void 0,function*(){let a;try{a=yield s.provideDocumentRangeSemanticTokens(e,t,i)}catch(l){Si(l),a=null}return(!a||!S1(a))&&(a=null),new CY(s,a)})));for(let s of o)if(s.tokens)return s;return o.length>0?o[0]:null})}var Eg,wY,CY,$4=ge(()=>{Ei();ut();Oi();ns();on();ai();vY();ye();hi();Eg=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};wY=class{constructor(e,t,i){this.provider=e,this.tokens=t,this.error=i}};CY=class{constructor(e,t){this.provider=e,this.tokens=t}};ht.registerCommand("_provideDocumentSemanticTokensLegend",(r,...e)=>Eg(void 0,void 0,void 0,function*(){let[t]=e;Yt(t instanceof De);let i=r.get(ii).getModel(t);if(!i)return;let{documentSemanticTokensProvider:n}=r.get(ve),o=Nge(n,i);return o?o[0].getLegend():r.get(pi).executeCommand("_provideDocumentRangeSemanticTokensLegend",t)}));ht.registerCommand("_provideDocumentSemanticTokens",(r,...e)=>Eg(void 0,void 0,void 0,function*(){let[t]=e;Yt(t instanceof De);let i=r.get(ii).getModel(t);if(!i)return;let{documentSemanticTokensProvider:n}=r.get(ve);if(!V4(n,i))return r.get(pi).executeCommand("_provideDocumentRangeSemanticTokens",t,i.getFullModelRange());let o=yield H4(n,i,null,null,Qe.None);if(!o)return;let{provider:s,tokens:a}=o;if(!a||!S1(a))return;let l=U4({id:0,type:"full",data:a.data});return a.resultId&&s.releaseDocumentSemanticTokens(a.resultId),l}));ht.registerCommand("_provideDocumentRangeSemanticTokensLegend",(r,...e)=>Eg(void 0,void 0,void 0,function*(){let[t,i]=e;Yt(t instanceof De);let n=r.get(ii).getModel(t);if(!n)return;let{documentRangeSemanticTokensProvider:o}=r.get(ve),s=SY(o,n);if(s.length===0)return;if(s.length===1)return s[0].getLegend();if(!i||!D.isIRange(i))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),s[0].getLegend();let a=yield RI(o,n,D.lift(i),Qe.None);if(!!a)return a.provider.getLegend()}));ht.registerCommand("_provideDocumentRangeSemanticTokens",(r,...e)=>Eg(void 0,void 0,void 0,function*(){let[t,i]=e;Yt(t instanceof De),Yt(D.isIRange(i));let n=r.get(ii).getModel(t);if(!n)return;let{documentRangeSemanticTokensProvider:o}=r.get(ve),s=yield RI(o,n,D.lift(i),Qe.None);if(!(!s||!s.tokens))return U4({id:0,type:"full",data:s.tokens.data})}))});function xg(r){return r.toString()}function EY(r){let e=new Ob,t=r.createSnapshot(),i;for(;i=t.read();)e.update(i);return e.digest()}function FI(r,e,t){var i;let n=(i=t.getValue(BI,{overrideIdentifier:r.getLanguageId(),resource:r.uri}))===null||i===void 0?void 0:i.enabled;return typeof n=="boolean"?n:e.getColorTheme().semanticHighlighting}var q4,cs,xY,Pge,DY,x1,BI,K4,LY,kY,D1,Y4=ge(()=>{Ee();re();xt();ut();Fo();jC();Wd();Vo();ns();_0();Fr();nt();Ei();pt();Vl();Ky();Tb();rF();rs();W4();$4();Jo();no();rc();va();hi();q4=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},cs=function(r,e){return function(t,i){e(t,i,r)}};xY=class{constructor(e,t,i){this._modelEventListeners=new J,this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(n=>i(e,n)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(e){this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(e.languageId)),this.model.setMode(e.languageId)}},Pge=Fi||Je?1:2,DY=class{constructor(e,t,i,n,o,s,a,l){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=n,this.heapSize=o,this.sha1=s,this.versionId=a,this.alternativeVersionId=l}},x1=class E1 extends ${constructor(e,t,i,n,o,s,a,l,c){super();this._configurationService=e,this._resourcePropertiesService=t,this._themeService=i,this._logService=n,this._undoRedoService=o,this._languageService=s,this._languageConfigurationService=a,this._languageFeatureDebounceService=l,this._onModelAdded=this._register(new B),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new B),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new B),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new LY(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new K4(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService,c))}static _readModelOptions(e,t){var i;let n=Lo.tabSize;if(e.editor&&typeof e.editor.tabSize<"u"){let f=parseInt(e.editor.tabSize,10);isNaN(f)||(n=f),n<1&&(n=1)}let o=n;if(e.editor&&typeof e.editor.indentSize<"u"&&e.editor.indentSize!=="tabSize"){let f=parseInt(e.editor.indentSize,10);isNaN(f)||(o=f),o<1&&(o=1)}let s=Lo.insertSpaces;e.editor&&typeof e.editor.insertSpaces<"u"&&(s=e.editor.insertSpaces==="false"?!1:Boolean(e.editor.insertSpaces));let a=Pge,l=e.eol;l===`\r
`?a=2:l===`
`&&(a=1);let c=Lo.trimAutoWhitespace;e.editor&&typeof e.editor.trimAutoWhitespace<"u"&&(c=e.editor.trimAutoWhitespace==="false"?!1:Boolean(e.editor.trimAutoWhitespace));let d=Lo.detectIndentation;e.editor&&typeof e.editor.detectIndentation<"u"&&(d=e.editor.detectIndentation==="false"?!1:Boolean(e.editor.detectIndentation));let h=Lo.largeFileOptimizations;e.editor&&typeof e.editor.largeFileOptimizations<"u"&&(h=e.editor.largeFileOptimizations==="false"?!1:Boolean(e.editor.largeFileOptimizations));let u=Lo.bracketPairColorizationOptions;return((i=e.editor)===null||i===void 0?void 0:i.bracketPairColorization)&&typeof e.editor.bracketPairColorization=="object"&&(u={enabled:!!e.editor.bracketPairColorization.enabled}),{isForSimpleWidget:t,tabSize:n,indentSize:o,insertSpaces:s,detectIndentation:d,defaultEOL:a,trimAutoWhitespace:c,largeFileOptimizations:h,bracketPairColorizationOptions:u}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);let i=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return i&&typeof i=="string"&&i!=="auto"?i:ur===3||ur===2?`
`:`\r
`}_shouldRestoreUndoStack(){let e=this._configurationService.getValue("files.restoreUndoStack");return typeof e=="boolean"?e:!0}getCreationOptions(e,t,i){let n=this._modelCreationOptionsByLanguageAndResource[e+t];if(!n){let o=this._configurationService.getValue("editor",{overrideIdentifier:e,resource:t}),s=this._getEOL(t,e);n=E1._readModelOptions({editor:o,eol:s},i),this._modelCreationOptionsByLanguageAndResource[e+t]=n}return n}_updateModelOptions(){let e=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);let t=Object.keys(this._models);for(let i=0,n=t.length;i<n;i++){let o=t[i],s=this._models[o],a=s.model.getLanguageId(),l=s.model.uri,c=e[a+l],d=this.getCreationOptions(a,l,s.model.isForSimpleWidget);E1._setModelOptionsForModel(s.model,d,c)}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&e.getLineCount()===1&&e.setEOL(t.defaultEOL===1?0:1),!(i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.indentSize===t.indentSize&&i.trimAutoWhitespace===t.trimAutoWhitespace&&Qo(i.bracketPairColorizationOptions,t.bracketPairColorizationOptions))&&(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(xg(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){let t=this._disposedModels.get(xg(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(xg(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){let t=[];for(this._disposedModels.forEach(i=>{i.sharesUndoRedoStack||t.push(i)}),t.sort((i,n)=>i.time-n.time);t.length>0&&this._disposedModelsHeapSize>e;){let i=t.shift();this._removeDisposedModel(i.uri),i.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(i.initialUndoRedoSnapshot)}}}_createModelData(e,t,i,n){let o=this.getCreationOptions(t,i,n),s=new Uc(e,t,o,i,this._undoRedoService,this._languageService,this._languageConfigurationService);if(i&&this._disposedModels.has(xg(i))){let c=this._removeDisposedModel(i),d=this._undoRedoService.getElements(i),h=EY(s)===c.sha1;if(h||c.sharesUndoRedoStack){for(let u of d.past)Hd(u)&&u.matchesResource(i)&&u.setModel(s);for(let u of d.future)Hd(u)&&u.matchesResource(i)&&u.setModel(s);this._undoRedoService.setElementsValidFlag(i,!0,u=>Hd(u)&&u.matchesResource(i)),h&&(s._overwriteVersionId(c.versionId),s._overwriteAlternativeVersionId(c.alternativeVersionId),s._overwriteInitialUndoRedoSnapshot(c.initialUndoRedoSnapshot))}else c.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(c.initialUndoRedoSnapshot)}let a=xg(s.uri);if(this._models[a])throw new Error("ModelService: Cannot add model because it already exists!");let l=new xY(s,c=>this._onWillDispose(c),(c,d)=>this._onDidChangeLanguage(c,d));return this._models[a]=l,l}createModel(e,t,i,n=!1){let o;return t?(o=this._createModelData(e,t.languageId,i,n),this.setMode(o.model,t)):o=this._createModelData(e,zr,i,n),this._onModelAdded.fire(o.model),o.model}setMode(e,t){if(!t)return;let i=this._models[xg(e.uri)];!i||i.setLanguage(t)}getModels(){let e=[],t=Object.keys(this._models);for(let i=0,n=t.length;i<n;i++){let o=t[i];e.push(this._models[o].model)}return e}getModel(e){let t=xg(e),i=this._models[t];return i?i.model:null}getSemanticTokensProviderStyling(e){return this._semanticStyling.get(e)}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===rt.file||e.scheme===rt.vscodeRemote||e.scheme===rt.userData||e.scheme===rt.vscodeNotebookCell||e.scheme==="fake-fs"}_onWillDispose(e){let t=xg(e.uri),i=this._models[t],n=this._undoRedoService.getUriComparisonKey(e.uri)!==e.uri.toString(),o=!1,s=0;if(n||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(e.uri)){let l=this._undoRedoService.getElements(e.uri);if(l.past.length>0||l.future.length>0){for(let c of l.past)Hd(c)&&c.matchesResource(e.uri)&&(o=!0,s+=c.heapSize(e.uri),c.setModel(e.uri));for(let c of l.future)Hd(c)&&c.matchesResource(e.uri)&&(o=!0,s+=c.heapSize(e.uri),c.setModel(e.uri))}}let a=E1.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(o)if(!n&&s>a){let l=i.model.getInitialUndoRedoSnapshot();l!==null&&this._undoRedoService.restoreSnapshot(l)}else this._ensureDisposedModelsHeapSize(a-s),this._undoRedoService.setElementsValidFlag(e.uri,!1,l=>Hd(l)&&l.matchesResource(e.uri)),this._insertDisposedModel(new DY(e.uri,i.model.getInitialUndoRedoSnapshot(),Date.now(),n,s,EY(e),e.getVersionId(),e.getAlternativeVersionId()));else if(!n){let l=i.model.getInitialUndoRedoSnapshot();l!==null&&this._undoRedoService.restoreSnapshot(l)}delete this._models[t],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageId()+e.uri],this._onModelRemoved.fire(e)}_onDidChangeLanguage(e,t){let i=t.oldLanguage,n=e.getLanguageId(),o=this.getCreationOptions(i,e.uri,e.isForSimpleWidget),s=this.getCreationOptions(n,e.uri,e.isForSimpleWidget);E1._setModelOptionsForModel(e,s,o),this._onModelModeChanged.fire({model:e,oldLanguageId:i})}};x1.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024;x1=q4([cs(0,Ht),cs(1,HD),cs(2,Ft),cs(3,go),cs(4,gg),cs(5,Gt),cs(6,en),cs(7,Co),cs(8,ve)],x1);BI="editor.semanticHighlighting";K4=class extends ${constructor(e,t,i,n,o,s){super();this._watchers=Object.create(null),this._semanticStyling=e;let a=d=>{this._watchers[d.uri.toString()]=new D1(d,this._semanticStyling,i,o,s)},l=(d,h)=>{h.dispose(),delete this._watchers[d.uri.toString()]},c=()=>{for(let d of t.getModels()){let h=this._watchers[d.uri.toString()];FI(d,i,n)?h||a(d):h&&l(d,h)}};this._register(t.onModelAdded(d=>{FI(d,i,n)&&a(d)})),this._register(t.onModelRemoved(d=>{let h=this._watchers[d.uri.toString()];h&&l(d,h)})),this._register(n.onDidChangeConfiguration(d=>{d.affectsConfiguration(BI)&&c()})),this._register(i.onDidColorThemeChange(c))}};K4=q4([cs(1,ii),cs(2,Ft),cs(3,Ht),cs(4,Co),cs(5,ve)],K4);LY=class extends ${constructor(e,t,i){super();this._themeService=e,this._languageService=t,this._logService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(e){return this._caches.has(e)||this._caches.set(e,new MI(e.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(e)}},kY=class{constructor(e,t,i){this.provider=e,this.resultId=t,this.data=i}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}},D1=class Wp extends ${constructor(e,t,i,n,o){super();this._isDisposed=!1,this._model=e,this._semanticStyling=t,this._provider=o.documentSemanticTokensProvider,this._debounceInformation=n.for(this._provider,"DocumentSemanticTokens",{min:Wp.REQUEST_MIN_DELAY,max:Wp.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new wt(()=>this._fetchDocumentSemanticTokensNow(),Wp.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));let s=()=>{dt(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(let a of this._provider.all(e))typeof a.onDidChange=="function"&&this._documentProvidersChangeListeners.push(a.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};s(),this._register(this._provider.onDidChange(()=>{s(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(i.onDidColorThemeChange(a=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!V4(this._provider,this._model)){this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1);return}let e=new Ki,t=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,i=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,n=H4(this._provider,this._model,t,i,e.token);this._currentDocumentRequestCancellationTokenSource=e;let o=[],s=this._model.onDidChangeContent(l=>{o.push(l)}),a=new fn(!1);n.then(l=>{if(this._debounceInformation.update(this._model,a.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,s.dispose(),!l)this._setDocumentSemanticTokens(null,null,null,o);else{let{provider:c,tokens:d}=l,h=this._semanticStyling.get(c);this._setDocumentSemanticTokens(c,d||null,h,o)}},l=>{l&&(ws(l)||typeof l.message=="string"&&l.message.indexOf("busy")!==-1)||Ie(l),this._currentDocumentRequestCancellationTokenSource=null,s.dispose(),o.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(e,t,i,n,o){for(let s=0;s<o;s++)i[n+s]=e[t+s]}_setDocumentSemanticTokens(e,t,i,n){let o=this._currentDocumentResponse,s=()=>{n.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){e&&t&&e.releaseDocumentSemanticTokens(t.resultId);return}if(!e||!i){this._model.setSemanticTokens(null,!1);return}if(!t){this._model.setSemanticTokens(null,!0),s();return}if(z4(t)){if(!o){this._model.setSemanticTokens(null,!0);return}if(t.edits.length===0)t={resultId:t.resultId,data:o.data};else{let a=0;for(let u of t.edits)a+=(u.data?u.data.length:0)-u.deleteCount;let l=o.data,c=new Uint32Array(l.length+a),d=l.length,h=c.length;for(let u=t.edits.length-1;u>=0;u--){let f=t.edits[u],m=d-(f.start+f.deleteCount);m>0&&(Wp._copy(l,d-m,c,h-m,m),h-=m),f.data&&(Wp._copy(f.data,0,c,h-f.data.length,f.data.length),h-=f.data.length),d=f.start}d>0&&Wp._copy(l,0,c,0,d),t={resultId:t.resultId,data:c}}}if(S1(t)){this._currentDocumentResponse=new kY(e,t.resultId,t.data);let a=AI(t,i,this._model.getLanguageId());if(n.length>0)for(let l of n)for(let c of a)for(let d of l.changes)c.applyEdit(d.range,d.text);this._model.setSemanticTokens(a,!0)}else this._model.setSemanticTokens(null,!0);s()}};D1.REQUEST_MIN_DELAY=300;D1.REQUEST_MAX_DELAY=2e3;D1=q4([cs(2,Ft),cs(3,Co),cs(4,ve)],D1)});var l3,MG,c3,AG=ge(()=>{kt();Et();Ei();Ph();Ye();Ss();ke();l3=Fe("IEditorCancelService"),MG=new Se("cancellableOperation",!1,g("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));Lt(l3,class{constructor(){this._tokens=new WeakMap}add(r,e){let t=this._tokens.get(r);t||(t=r.invokeWithinContext(n=>{let o=MG.bindTo(n.get(Le)),s=new fo;return{key:o,tokens:s}}),this._tokens.set(r,t));let i;return t.key.set(!0),i=t.tokens.push(e),()=>{i&&(i(),t.key.set(!t.tokens.isEmpty()),i=void 0)}}cancel(r){let e=this._tokens.get(r);if(!e)return;let t=e.tokens.pop();t&&(t.cancel(),e.key.set(!e.tokens.isEmpty()))}},!0);c3=class extends Ki{constructor(e,t){super(t);this.editor=e,this._unregister=e.invokeWithinContext(i=>i.get(l3).add(e,this))}dispose(){this._unregister(),super.dispose()}};me(new class extends Yi{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:MG})}runEditorCommand(r,e){r.get(l3).cancel(e)}})});var Og,Ou,Cw,Jp=ge(()=>{He();ye();Ei();re();AG();Og=class{constructor(e,t){if(this.flags=t,(this.flags&1)!==0){let i=e.getModel();this.modelVersionId=i?Ec("{0}#{1}",i.uri.toString(),i.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!==0?this.position=e.getPosition():this.position=null,(this.flags&2)!==0?this.selection=e.getSelection():this.selection=null,(this.flags&8)!==0?(this.scrollLeft=e.getScrollLeft(),this.scrollTop=e.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(e){if(!(e instanceof Og))return!1;let t=e;return!(this.modelVersionId!==t.modelVersionId||this.scrollLeft!==t.scrollLeft||this.scrollTop!==t.scrollTop||!this.position&&t.position||this.position&&!t.position||this.position&&t.position&&!this.position.equals(t.position)||!this.selection&&t.selection||this.selection&&!t.selection||this.selection&&t.selection&&!this.selection.equalsRange(t.selection))}validate(e){return this._equals(new Og(e,this.flags))}},Ou=class extends c3{constructor(e,t,i,n){super(e,n);this._listener=new J,t&4&&this._listener.add(e.onDidChangeCursorPosition(o=>{(!i||!D.containsPosition(i,o.position))&&this.cancel()})),t&2&&this._listener.add(e.onDidChangeCursorSelection(o=>{(!i||!D.containsRange(i,o.selection))&&this.cancel()})),t&8&&this._listener.add(e.onDidScrollChange(o=>this.cancel())),t&1&&(this._listener.add(e.onDidChangeModel(o=>this.cancel())),this._listener.add(e.onDidChangeModelContent(o=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}},Cw=class extends Ki{constructor(e,t){super(t);this._listener=e.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}});function uh(r){return r&&typeof r.getEditorType=="function"?r.getEditorType()===Of.ICodeEditor:!1}var d3=ge(()=>{t0()});var Tu,h3=ge(()=>{sc();ye();Tu=class{static _handleEolEdits(e,t){let i,n=[];for(let o of t)typeof o.eol=="number"&&(i=o.eol),o.range&&typeof o.text=="string"&&n.push(o);return typeof i=="number"&&e.hasModel()&&e.getModel().pushEOL(i),n}static _isFullModelReplaceEdit(e,t){if(!e.hasModel())return!1;let i=e.getModel(),n=i.validateRange(t.range);return i.getFullModelRange().equalsRange(n)}static execute(e,t,i){i&&e.pushUndoStop();let n=Tu._handleEolEdits(e,t);n.length===1&&Tu._isFullModelReplaceEdit(e,n[0])?e.executeEdits("formatEditsCommand",n.map(o=>vi.replace(D.lift(o.range),o.text))):e.executeEdits("formatEditsCommand",n.map(o=>vi.replaceMove(D.lift(o.range),o.text))),i&&e.pushUndoStop()}}});var iS,RG=ge(()=>{iS=class{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return typeof e=="string"?e.toLowerCase():e._lower}}});function WO(r){if(r=r.filter(n=>n.range),!r.length)return;let{range:e}=r[0];for(let n=1;n<r.length;n++)e=D.plusRange(e,r[n].range);let{startLineNumber:t,endLineNumber:i}=e;t===i?r.length===1?Sn(g("hint11","Made 1 formatting edit on line {0}",t)):Sn(g("hintn1","Made {0} formatting edits on line {1}",r.length,t)):r.length===1?Sn(g("hint1n","Made 1 formatting edit between lines {0} and {1}",t,i)):Sn(g("hintnn","Made {0} formatting edits between lines {1} and {2}",r.length,t,i))}function FG(r,e,t){let i=[],n=new Set,o=r.ordered(t);for(let a of o)i.push(a),a.extensionId&&n.add(iS.toKey(a.extensionId));let s=e.ordered(t);for(let a of s){if(a.extensionId){if(n.has(iS.toKey(a.extensionId)))continue;n.add(iS.toKey(a.extensionId))}i.push({displayName:a.displayName,extensionId:a.extensionId,provideDocumentFormattingEdits(l,c,d){return a.provideDocumentRangeFormattingEdits(l,l.getFullModelRange(),c,d)}})}return i}function u3(r,e,t,i,n,o){return $c(this,void 0,void 0,function*(){let s=r.get(ze),{documentRangeFormattingEditProvider:a}=r.get(ve),l=uh(e)?e.getModel():e,c=a.ordered(l),d=yield Nu.select(c,l,i);d&&(n.report(d),yield s.invokeFunction(Ype,d,e,t,o))})}function Ype(r,e,t,i,n){return $c(this,void 0,void 0,function*(){let o=r.get(Yo),s,a;uh(t)?(s=t.getModel(),a=new Ou(t,5,void 0,n)):(s=t,a=new Cw(t,n));let l=[],c=0;for(let m of tb(i).sort(D.compareRangesUsingStarts))c>0&&D.areIntersectingOrTouching(l[c-1],m)?l[c-1]=D.fromPositions(l[c-1].getStartPosition(),m.getEndPosition()):c=l.push(m);let d=m=>$c(this,void 0,void 0,function*(){return(yield e.provideDocumentRangeFormattingEdits(s,m,s.getFormattingOptions(),a.token))||[]}),h=(m,_)=>{if(!m.length||!_.length)return!1;let w=m.reduce((y,C)=>D.plusRange(y,C.range),m[0].range);if(!_.some(y=>D.intersectRanges(w,y.range)))return!1;for(let y of m)for(let C of _)if(D.intersectRanges(y.range,C.range))return!0;return!1},u=[],f=[];try{for(let m of l){if(a.token.isCancellationRequested)return!0;f.push(yield d(m))}for(let m=0;m<l.length;++m)for(let _=m+1;_<l.length;++_){if(a.token.isCancellationRequested)return!0;if(h(f[m],f[_])){let w=D.plusRange(l[m],l[_]),y=yield d(w);l.splice(_,1),l.splice(m,1),l.push(w),f.splice(_,1),f.splice(m,1),f.push(y),m=0,_=0}}for(let m of f){if(a.token.isCancellationRequested)return!0;let _=yield o.computeMoreMinimalEdits(s.uri,m);_&&u.push(..._)}}finally{a.dispose()}if(u.length===0)return!1;if(uh(t))Tu.execute(t,u,!0),WO(u),t.revealPositionInCenterIfOutsideViewport(t.getPosition(),1);else{let[{range:m}]=u,_=new he(m.startLineNumber,m.startColumn,m.endLineNumber,m.endColumn);s.pushEditOperations([_],u.map(w=>({text:w.text,range:D.lift(w.range),forceMoveMarkers:!0})),w=>{for(let{range:y}of w)if(D.areIntersectingOrTouching(y,_))return[new he(y.startLineNumber,y.startColumn,y.endLineNumber,y.endColumn)];return null})}return!0})}function BG(r,e,t,i,n){return $c(this,void 0,void 0,function*(){let o=r.get(ze),s=r.get(ve),a=uh(e)?e.getModel():e,l=FG(s.documentFormattingEditProvider,s.documentRangeFormattingEditProvider,a),c=yield Nu.select(l,a,t);c&&(i.report(c),yield o.invokeFunction(Zpe,c,e,t,n))})}function Zpe(r,e,t,i,n){return $c(this,void 0,void 0,function*(){let o=r.get(Yo),s,a;uh(t)?(s=t.getModel(),a=new Ou(t,5,void 0,n)):(s=t,a=new Cw(t,n));let l;try{let c=yield e.provideDocumentFormattingEdits(s,s.getFormattingOptions(),a.token);if(l=yield o.computeMoreMinimalEdits(s.uri,c),a.token.isCancellationRequested)return!0}finally{a.dispose()}if(!l||l.length===0)return!1;if(uh(t))Tu.execute(t,l,i!==2),i!==2&&(WO(l),t.revealPositionInCenterIfOutsideViewport(t.getPosition(),1));else{let[{range:c}]=l,d=new he(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn);s.pushEditOperations([d],l.map(h=>({text:h.text,range:D.lift(h.range),forceMoveMarkers:!0})),h=>{for(let{range:u}of h)if(D.areIntersectingOrTouching(u,d))return[new he(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn)];return null})}return!0})}function Gpe(r,e,t,i,n,o){return $c(this,void 0,void 0,function*(){let s=e.documentRangeFormattingEditProvider.ordered(t);for(let a of s){let l=yield Promise.resolve(a.provideDocumentRangeFormattingEdits(t,i,n,o)).catch(Si);if(jn(l))return yield r.computeMoreMinimalEdits(t.uri,l)}})}function Xpe(r,e,t,i,n){return $c(this,void 0,void 0,function*(){let o=FG(e.documentFormattingEditProvider,e.documentRangeFormattingEditProvider,t);for(let s of o){let a=yield Promise.resolve(s.provideDocumentFormattingEdits(t,i,n)).catch(Si);if(jn(a))return yield r.computeMoreMinimalEdits(t.uri,a)}})}function f3(r,e,t,i,n,o,s){let a=e.onTypeFormattingEditProvider.ordered(t);return a.length===0||a[0].autoFormatTriggerCharacters.indexOf(n)<0?Promise.resolve(void 0):Promise.resolve(a[0].provideOnTypeFormattingEdits(t,i,n,o,s)).catch(Si).then(l=>r.computeMoreMinimalEdits(t.uri,l))}var $c,Nu,g3=ge(()=>{xs();jt();Ei();ut();Va();Ph();ai();Oi();Jp();d3();lt();ye();mi();vu();xa();h3();ke();on();RG();Ye();hi();$c=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};Nu=class{static setFormatterSelector(e){return{dispose:Nu._selectors.unshift(e)}}static select(e,t,i){return $c(this,void 0,void 0,function*(){if(e.length===0)return;let n=Ot.first(Nu._selectors);if(n)return yield n(e,t,i)})}};Nu._selectors=new fo;ht.registerCommand("_executeFormatRangeProvider",function(r,...e){return $c(this,void 0,void 0,function*(){let[t,i,n]=e;Yt(De.isUri(t)),Yt(D.isIRange(i));let o=r.get(Tn),s=r.get(Yo),a=r.get(ve),l=yield o.createModelReference(t);try{return Gpe(s,a,l.object.textEditorModel,D.lift(i),n,Qe.None)}finally{l.dispose()}})});ht.registerCommand("_executeFormatDocumentProvider",function(r,...e){return $c(this,void 0,void 0,function*(){let[t,i]=e;Yt(De.isUri(t));let n=r.get(Tn),o=r.get(Yo),s=r.get(ve),a=yield n.createModelReference(t);try{return Xpe(o,s,a.object.textEditorModel,i,Qe.None)}finally{a.dispose()}})});ht.registerCommand("_executeFormatOnTypeProvider",function(r,...e){return $c(this,void 0,void 0,function*(){let[t,i,n,o]=e;Yt(De.isUri(t)),Yt(V.isIPosition(i)),Yt(typeof n=="string");let s=r.get(Tn),a=r.get(Yo),l=r.get(ve),c=yield s.createModelReference(t);try{return f3(a,l,c.object.textEditorModel,V.lift(i),n,o,Qe.None)}finally{c.dispose()}})})});var eee=sC(C_=>{jt();Ei();ut();Ha();re();kt();io();Rm();ye();Wi();vu();hi();g3();h3();ke();on();Et();Ye();Vc();var XJ=C_&&C_.__decorate||function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},jT=C_&&C_.__param||function(r,e){return function(t,i){e(t,i,r)}},E8=C_&&C_.__awaiter||function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},eE=class{constructor(e,t,i){this._editor=e,this._languageFeaturesService=t,this._workerService=i,this._disposables=new J,this._sessionDisposables=new J,this._disposables.add(t.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(n=>{n.hasChanged(49)&&this._update()}))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(49)||!this._editor.hasModel())return;let e=this._editor.getModel(),[t]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;let i=new Cd;for(let n of t.autoFormatTriggerCharacters)i.add(n.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(n=>{let o=n.charCodeAt(n.length-1);i.has(o)&&this._trigger(String.fromCharCode(o))}))}_trigger(e){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;let t=this._editor.getModel(),i=this._editor.getPosition(),n=new Ki,o=this._editor.onDidChangeModelContent(s=>{if(s.isFlush){n.cancel(),o.dispose();return}for(let a=0,l=s.changes.length;a<l;a++)if(s.changes[a].range.endLineNumber<=i.lineNumber){n.cancel(),o.dispose();return}});f3(this._workerService,this._languageFeaturesService,t,i,e,t.getFormattingOptions(),n.token).then(s=>{n.token.isCancellationRequested||jn(s)&&(Tu.execute(this._editor,s,!0),WO(s))}).finally(()=>{o.dispose()})}};eE.ID="editor.contrib.autoFormat";eE=XJ([jT(1,ve),jT(2,Yo)],eE);var tE=class{constructor(e,t,i){this.editor=e,this._languageFeaturesService=t,this._instantiationService=i,this._callOnDispose=new J,this._callOnModel=new J,this._callOnDispose.add(e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(t.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(48)&&(!this.editor.hasModel()||!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:e})=>this._trigger(e))))}_trigger(e){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(u3,this.editor,e,2,oc.None,Qe.None).catch(Ie)}};tE.ID="editor.contrib.formatOnPaste";tE=XJ([jT(1,ve),jT(2,ze)],tE);var QJ=class extends we{constructor(){super({id:"editor.action.formatDocument",label:g("formatDocument.label","Format Document"),alias:"Format Document",precondition:Ce.and(F.notInCompositeEditor,F.writable,F.hasDocumentFormattingProvider),kbOpts:{kbExpr:F.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(e,t){return E8(this,void 0,void 0,function*(){if(t.hasModel()){let i=e.get(ze);yield e.get(ea).showWhile(i.invokeFunction(BG,t,1,oc.None,Qe.None),250)}})}},JJ=class extends we{constructor(){super({id:"editor.action.formatSelection",label:g("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:Ce.and(F.writable,F.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:F.editorTextFocus,primary:an(2089,2084),weight:100},contextMenuOpts:{when:F.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(e,t){return E8(this,void 0,void 0,function*(){if(!t.hasModel())return;let i=e.get(ze),n=t.getModel(),o=t.getSelections().map(a=>a.isEmpty()?new D(a.startLineNumber,1,a.startLineNumber,n.getLineMaxColumn(a.startLineNumber)):a);yield e.get(ea).showWhile(i.invokeFunction(u3,t,o,1,oc.None,Qe.None),250)})}};st(eE.ID,eE);st(tE.ID,tE);de(QJ);de(JJ);ht.registerCommand("editor.action.format",r=>E8(void 0,void 0,void 0,function*(){let e=r.get(Tt).getFocusedCodeEditor();if(!e||!e.hasModel())return;let t=r.get(pi);e.getSelection().isEmpty()?yield t.executeCommand("editor.action.formatDocument"):yield t.executeCommand("editor.action.formatSelection")}))});var Fve,x8,Bve,y_,D8,tee,qu,k8,L8,iee=ge(()=>{jt();Ei();ut();Va();ia();lt();ye();rc();Ye();Ss();ns();re();hi();Fve=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},x8=function(r,e){return function(t,i){e(t,i,r)}},Bve=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},y_=class{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(e,t){let i;typeof e=="string"?i=`${t.id}/${e}`:(i=`${t.id}/${e.name}`,t.children.get(i)!==void 0&&(i=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let n=i;for(let o=0;t.children.get(n)!==void 0;o++)n=`${i}_${o}`;return n}static empty(e){return e.children.size===0}},D8=class extends y_{constructor(e,t,i){super();this.id=e,this.parent=t,this.symbol=i,this.children=new Map}},tee=class extends y_{constructor(e,t,i,n){super();this.id=e,this.parent=t,this.label=i,this.order=n,this.children=new Map}},qu=class extends y_{constructor(e){super();this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(e,t,i){let n=new Ki(i),o=new qu(t.uri),s=e.ordered(t),a=s.map((c,d)=>{var h;let u=y_.findId(`provider_${d}`,o),f=new tee(u,o,(h=c.displayName)!==null&&h!==void 0?h:"Unknown Outline Provider",d);return Promise.resolve(c.provideDocumentSymbols(t,n.token)).then(m=>{for(let _ of m||[])qu._makeOutlineElement(_,f);return f},m=>(Si(m),f)).then(m=>{y_.empty(m)?m.remove():o._groups.set(u,m)})}),l=e.onDidChange(()=>{let c=e.ordered(t);Xn(c,s)||n.cancel()});return Promise.all(a).then(()=>n.token.isCancellationRequested&&!i.isCancellationRequested?qu.create(e,t,i):o._compact()).finally(()=>{l.dispose()})}static _makeOutlineElement(e,t){let i=y_.findId(e,t),n=new D8(i,t,e);if(e.children)for(let o of e.children)qu._makeOutlineElement(o,n);t.children.set(n.id,n)}_compact(){let e=0;for(let[t,i]of this._groups)i.children.size===0?this._groups.delete(t):e+=1;if(e!==1)this.children=this._groups;else{let t=Ot.first(this._groups.values());for(let[,i]of t.children)i.parent=this,this.children.set(i.id,i)}return this}getTopLevelSymbols(){let e=[];for(let t of this.children.values())t instanceof D8?e.push(t.symbol):e.push(...Ot.map(t.children.values(),i=>i.symbol));return e.sort((t,i)=>D.compareRangesUsingStarts(t.range,i.range))}asListOfDocumentSymbols(){let e=this.getTopLevelSymbols(),t=[];return qu._flattenDocumentSymbols(t,e,""),t.sort((i,n)=>V.compare(D.getStartPosition(i.range),D.getStartPosition(n.range))||V.compare(D.getEndPosition(n.range),D.getEndPosition(i.range)))}static _flattenDocumentSymbols(e,t,i){for(let n of t)e.push({kind:n.kind,tags:n.tags,name:n.name,detail:n.detail,containerName:n.containerName||i,range:n.range,selectionRange:n.selectionRange,children:void 0}),n.children&&qu._flattenDocumentSymbols(e,n.children,n.name)}},k8=Fe("IOutlineModelService"),L8=class{constructor(e,t,i){this._languageFeaturesService=e,this._disposables=new J,this._cache=new ta(10,.7),this._debounceInformation=t.for(e.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(i.onModelRemoved(n=>{this._cache.delete(n.id)}))}dispose(){this._disposables.dispose()}getOrCreate(e,t){return Bve(this,void 0,void 0,function*(){let i=this._languageFeaturesService.documentSymbolProvider,n=i.ordered(e),o=this._cache.get(e.id);if(!o||o.versionId!==e.getVersionId()||!Xn(o.provider,n)){let a=new Ki;o={versionId:e.getVersionId(),provider:n,promiseCnt:0,source:a,promise:qu.create(i,e,a.token),model:void 0},this._cache.set(e.id,o);let l=Date.now();o.promise.then(c=>{o.model=c,this._debounceInformation.update(e,Date.now()-l)}).catch(c=>{this._cache.delete(e.id)})}if(o.model)return o.model;o.promiseCnt+=1;let s=t.onCancellationRequested(()=>{--o.promiseCnt===0&&(o.source.cancel(),this._cache.delete(e.id))});try{return yield o.promise}finally{s.dispose()}})}};L8=Fve([x8(0,ve),x8(1,Co),x8(2,ii)],L8);Lt(k8,L8,!0)});var nee=sC(I8=>{Ei();ai();Oi();xa();iee();on();var jve=I8&&I8.__awaiter||function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};ht.registerCommand("_executeDocumentSymbolProvider",function(r,...e){return jve(this,void 0,void 0,function*(){let[t]=e;Yt(De.isUri(t));let i=r.get(k8),o=yield r.get(Tn).createModelReference(t);try{return(yield i.getOrCreate(o.object.textEditorModel,Qe.None)).getTopLevelSymbols()}finally{o.dispose()}})})});var rB,Qee=ge(()=>{mi();rB=class{constructor(e,t,i){this._editRange=e,this._originalSelection=t,this._text=i}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new he(n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn),n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn)):new he(n.endLineNumber,n.endColumn-this._text.length,n.endLineNumber,n.endColumn)}}});var tte=sC(vE=>{nt();ut();Jp();kt();ye();mi();Wi();Fo();vu();Gs();ke();pt();Qee();var hCe=vE&&vE.__decorate||function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},uCe=vE&&vE.__param||function(r,e){return function(t,i){e(t,i,r)}},Hg=class sB{constructor(e,t){this.decorationIds=[],this.editor=e,this.editorWorkerService=t}static get(e){return e.getContribution(sB.ID)}dispose(){}run(e,t){this.currentRequest&&this.currentRequest.cancel();let i=this.editor.getSelection(),n=this.editor.getModel();if(!n||!i)return;let o=i;if(o.startLineNumber!==o.endLineNumber)return;let s=new Og(this.editor,5),a=n.uri;return this.editorWorkerService.canNavigateValueSet(a)?(this.currentRequest=xi(l=>this.editorWorkerService.navigateValueSet(a,o,t)),this.currentRequest.then(l=>{if(!l||!l.range||!l.value||!s.validate(this.editor))return;let c=D.lift(l.range),d=l.range,h=l.value.length-(o.endColumn-o.startColumn);d={startLineNumber:d.startLineNumber,startColumn:d.startColumn,endLineNumber:d.endLineNumber,endColumn:d.startColumn+l.value.length},h>1&&(o=new he(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn+h-1));let u=new rB(c,o,l.value);this.editor.pushUndoStop(),this.editor.executeCommand(e,u),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:d,options:sB.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=Wl(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(Ie)}).catch(Ie)):Promise.resolve(void 0)}};Hg.ID="editor.contrib.inPlaceReplaceController";Hg.DECORATION=ot.register({description:"in-place-replace",className:"valueSetReplacement"});Hg=hCe([uCe(1,Yo)],Hg);var Jee=class extends we{constructor(){super({id:"editor.action.inPlaceReplace.up",label:g("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:3154,weight:100}})}run(e,t){let i=Hg.get(t);return i?i.run(this.id,!0):Promise.resolve(void 0)}},ete=class extends we{constructor(){super({id:"editor.action.inPlaceReplace.down",label:g("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:3156,weight:100}})}run(e,t){let i=Hg.get(t);return i?i.run(this.id,!1):Promise.resolve(void 0)}};st(Hg.ID,Hg);de(Jee);de(ete);yt((r,e)=>{let t=r.getColor(XL);t&&e.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${t}; }`)})});var uie=sC(OE=>{nt();re();kt();$4();ns();Y4();W4();Fr();pt();rc();va();hi();var ZCe=OE&&OE.__decorate||function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},kE=OE&&OE.__param||function(r,e){return function(t,i){e(t,i,r)}},IE=class extends ${constructor(e,t,i,n,o,s){super();this._modelService=t,this._themeService=i,this._configurationService=n,this._editor=e,this._provider=s.documentRangeSemanticTokensProvider,this._debounceInformation=o.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new wt(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];let a=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{a()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),a()})),this._register(this._editor.onDidChangeModelContent(l=>{this._cancelAll(),a()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),a()})),this._register(this._configurationService.onDidChangeConfiguration(l=>{l.affectsConfiguration(BI)&&(this._cancelAll(),a())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),a()}))}_cancelAll(){for(let e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,i=this._outstandingRequests.length;t<i;t++)if(this._outstandingRequests[t]===e){this._outstandingRequests.splice(t,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;let e=this._editor.getModel();if(e.hasCompleteSemanticTokens())return;if(!FI(e,this._themeService,this._configurationService)){e.hasSomeSemanticTokens()&&e.setSemanticTokens(null,!1);return}if(!yY(this._provider,e)){e.hasSomeSemanticTokens()&&e.setSemanticTokens(null,!1);return}let t=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(t.map(i=>this._requestRange(e,i)))}_requestRange(e,t){let i=e.getVersionId(),n=xi(s=>Promise.resolve(RI(this._provider,e,t,s))),o=new fn(!1);return n.then(s=>{if(this._debounceInformation.update(e,o.elapsed()),!s||!s.tokens||e.isDisposed()||e.getVersionId()!==i)return;let{provider:a,tokens:l}=s,c=this._modelService.getSemanticTokensProviderStyling(a);e.setPartialSemanticTokens(t,AI(l,c,e.getLanguageId()))}).then(()=>this._removeOutstandingRequest(n),()=>this._removeOutstandingRequest(n)),n}};IE.ID="editor.contrib.viewportSemanticTokens";IE=ZCe([kE(1,ii),kE(2,Ft),kE(3,Ht),kE(4,Co),kE(5,ve)],IE);st(IE.ID,IE)});var Jie={};BE(Jie,{conf:()=>c0e,language:()=>d0e});var c0e,d0e,ene=ge(()=>{c0e={comments:{lineComment:"#",blockComment:["=begin","=end"]},brackets:[["(",")"],["{","}"],["[","]"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],indentationRules:{increaseIndentPattern:new RegExp(`^\\s*((begin|class|(private|protected)\\s+def|def|else|elsif|ensure|for|if|module|rescue|unless|until|when|while|case)|([^#]*\\sdo\\b)|([^#]*=\\s*(case|if|unless)))\\b([^#\\{;]|("|'|/).*\\4)*(#.*)?$`),decreaseIndentPattern:new RegExp("^\\s*([}\\]]([,)]?\\s*(#|$)|\\.[a-zA-Z_]\\w*\\b)|(end|rescue|ensure|else|elsif|when)\\b)")}},d0e={tokenPostfix:".ruby",keywords:["__LINE__","__ENCODING__","__FILE__","BEGIN","END","alias","and","begin","break","case","class","def","defined?","do","else","elsif","end","ensure","for","false","if","in","module","next","nil","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield"],keywordops:["::","..","...","?",":","=>"],builtins:["require","public","private","include","extend","attr_reader","protected","private_class_method","protected_class_method","new"],declarations:["module","class","def","case","do","begin","for","if","while","until","unless"],linedecls:["def","case","do","begin","for","if","while","until","unless"],operators:["^","&","|","<=>","==","===","!~","=~",">",">=","<","<=","<<",">>","+","-","*","/","%","**","~","+@","-@","[]","[]=","`","+=","-=","*=","**=","/=","^=","%=","<<=",">>=","&=","&&=","||=","|="],brackets:[{open:"(",close:")",token:"delimiter.parenthesis"},{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"}],symbols:/[=><!~?:&|+\-*\/\^%\.]+/,escape:/(?:[abefnrstv\\"'\n\r]|[0-7]{1,3}|x[0-9A-Fa-f]{1,2}|u[0-9A-Fa-f]{4})/,escapes:/\\(?:C\-(@escape|.)|c(@escape|.)|@escape)/,decpart:/\d(_?\d)*/,decimal:/0|@decpart/,delim:/[^a-zA-Z0-9\s\n\r]/,heredelim:/(?:\w+|'[^']*'|"[^"]*"|`[^`]*`)/,regexpctl:/[(){}\[\]\$\^|\-*+?\.]/,regexpesc:/\\(?:[AzZbBdDfnrstvwWn0\\\/]|@regexpctl|c[A-Z]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4})?/,tokenizer:{root:[[/^(\s*)([a-z_]\w*[!?=]?)/,["white",{cases:{"for|until|while":{token:"keyword.$2",next:"@dodecl.$2"},"@declarations":{token:"keyword.$2",next:"@root.$2"},end:{token:"keyword.$S2",next:"@pop"},"@keywords":"keyword","@builtins":"predefined","@default":"identifier"}}]],[/[a-z_]\w*[!?=]?/,{cases:{"if|unless|while|until":{token:"keyword.$0x",next:"@modifier.$0x"},for:{token:"keyword.$2",next:"@dodecl.$2"},"@linedecls":{token:"keyword.$0",next:"@root.$0"},end:{token:"keyword.$S2",next:"@pop"},"@keywords":"keyword","@builtins":"predefined","@default":"identifier"}}],[/[A-Z][\w]*[!?=]?/,"constructor.identifier"],[/\$[\w]*/,"global.constant"],[/@[\w]*/,"namespace.instance.identifier"],[/@@@[\w]*/,"namespace.class.identifier"],[/<<[-~](@heredelim).*/,{token:"string.heredoc.delimiter",next:"@heredoc.$1"}],[/[ \t\r\n]+<<(@heredelim).*/,{token:"string.heredoc.delimiter",next:"@heredoc.$1"}],[/^<<(@heredelim).*/,{token:"string.heredoc.delimiter",next:"@heredoc.$1"}],{include:"@whitespace"},[/"/,{token:"string.d.delim",next:'@dstring.d."'}],[/'/,{token:"string.sq.delim",next:"@sstring.sq"}],[/%([rsqxwW]|Q?)/,{token:"@rematch",next:"pstring"}],[/`/,{token:"string.x.delim",next:"@dstring.x.`"}],[/:(\w|[$@])\w*[!?=]?/,"string.s"],[/:"/,{token:"string.s.delim",next:'@dstring.s."'}],[/:'/,{token:"string.s.delim",next:"@sstring.s"}],[/\/(?=(\\\/|[^\/\n])+\/)/,{token:"regexp.delim",next:"@regexp"}],[/[{}()\[\]]/,"@brackets"],[/@symbols/,{cases:{"@keywordops":"keyword","@operators":"operator","@default":""}}],[/[;,]/,"delimiter"],[/0[xX][0-9a-fA-F](_?[0-9a-fA-F])*/,"number.hex"],[/0[_oO][0-7](_?[0-7])*/,"number.octal"],[/0[bB][01](_?[01])*/,"number.binary"],[/0[dD]@decpart/,"number"],[/@decimal((\.@decpart)?([eE][\-+]?@decpart)?)/,{cases:{$1:"number.float","@default":"number"}}]],dodecl:[[/^/,{token:"",switchTo:"@root.$S2"}],[/[a-z_]\w*[!?=]?/,{cases:{end:{token:"keyword.$S2",next:"@pop"},do:{token:"keyword",switchTo:"@root.$S2"},"@linedecls":{token:"@rematch",switchTo:"@root.$S2"},"@keywords":"keyword","@builtins":"predefined","@default":"identifier"}}],{include:"@root"}],modifier:[[/^/,"","@pop"],[/[a-z_]\w*[!?=]?/,{cases:{end:{token:"keyword.$S2",next:"@pop"},"then|else|elsif|do":{token:"keyword",switchTo:"@root.$S2"},"@linedecls":{token:"@rematch",switchTo:"@root.$S2"},"@keywords":"keyword","@builtins":"predefined","@default":"identifier"}}],{include:"@root"}],sstring:[[/[^\\']+/,"string.$S2"],[/\\\\|\\'|\\$/,"string.$S2.escape"],[/\\./,"string.$S2.invalid"],[/'/,{token:"string.$S2.delim",next:"@pop"}]],dstring:[[/[^\\`"#]+/,"string.$S2"],[/#/,"string.$S2.escape","@interpolated"],[/\\$/,"string.$S2.escape"],[/@escapes/,"string.$S2.escape"],[/\\./,"string.$S2.escape.invalid"],[/[`"]/,{cases:{"$#==$S3":{token:"string.$S2.delim",next:"@pop"},"@default":"string.$S2"}}]],heredoc:[[/^(\s*)(@heredelim)$/,{cases:{"$2==$S2":["string.heredoc",{token:"string.heredoc.delimiter",next:"@pop"}],"@default":["string.heredoc","string.heredoc"]}}],[/.*/,"string.heredoc"]],interpolated:[[/\$\w*/,"global.constant","@pop"],[/@\w*/,"namespace.class.identifier","@pop"],[/@@@\w*/,"namespace.instance.identifier","@pop"],[/[{]/,{token:"string.escape.curly",switchTo:"@interpolated_compound"}],["","","@pop"]],interpolated_compound:[[/[}]/,{token:"string.escape.curly",next:"@pop"}],{include:"@root"}],pregexp:[{include:"@whitespace"},[/[^\(\{\[\\]/,{cases:{"$#==$S3":{token:"regexp.delim",next:"@pop"},"$#==$S2":{token:"regexp.delim",next:"@push"},"~[)}\\]]":"@brackets.regexp.escape.control","~@regexpctl":"regexp.escape.control","@default":"regexp"}}],{include:"@regexcontrol"}],regexp:[{include:"@regexcontrol"},[/[^\\\/]/,"regexp"],["/[ixmp]*",{token:"regexp.delim"},"@pop"]],regexcontrol:[[/(\{)(\d+(?:,\d*)?)(\})/,["@brackets.regexp.escape.control","regexp.escape.control","@brackets.regexp.escape.control"]],[/(\[)(\^?)/,["@brackets.regexp.escape.control",{token:"regexp.escape.control",next:"@regexrange"}]],[/(\()(\?[:=!])/,["@brackets.regexp.escape.control","regexp.escape.control"]],[/\(\?#/,{token:"regexp.escape.control",next:"@regexpcomment"}],[/[()]/,"@brackets.regexp.escape.control"],[/@regexpctl/,"regexp.escape.control"],[/\\$/,"regexp.escape"],[/@regexpesc/,"regexp.escape"],[/\\\./,"regexp.invalid"],[/#/,"regexp.escape","@interpolated"]],regexrange:[[/-/,"regexp.escape.control"],[/\^/,"regexp.invalid"],[/\\$/,"regexp.escape"],[/@regexpesc/,"regexp.escape"],[/[^\]]/,"regexp"],[/\]/,"@brackets.regexp.escape.control","@pop"]],regexpcomment:[[/[^)]+/,"comment"],[/\)/,{token:"regexp.escape.control",next:"@pop"}]],pstring:[[/%([qws])\(/,{token:"string.$1.delim",switchTo:"@qstring.$1.(.)"}],[/%([qws])\[/,{token:"string.$1.delim",switchTo:"@qstring.$1.[.]"}],[/%([qws])\{/,{token:"string.$1.delim",switchTo:"@qstring.$1.{.}"}],[/%([qws])</,{token:"string.$1.delim",switchTo:"@qstring.$1.<.>"}],[/%([qws])(@delim)/,{token:"string.$1.delim",switchTo:"@qstring.$1.$2.$2"}],[/%r\(/,{token:"regexp.delim",switchTo:"@pregexp.(.)"}],[/%r\[/,{token:"regexp.delim",switchTo:"@pregexp.[.]"}],[/%r\{/,{token:"regexp.delim",switchTo:"@pregexp.{.}"}],[/%r</,{token:"regexp.delim",switchTo:"@pregexp.<.>"}],[/%r(@delim)/,{token:"regexp.delim",switchTo:"@pregexp.$1.$1"}],[/%(x|W|Q?)\(/,{token:"string.$1.delim",switchTo:"@qqstring.$1.(.)"}],[/%(x|W|Q?)\[/,{token:"string.$1.delim",switchTo:"@qqstring.$1.[.]"}],[/%(x|W|Q?)\{/,{token:"string.$1.delim",switchTo:"@qqstring.$1.{.}"}],[/%(x|W|Q?)</,{token:"string.$1.delim",switchTo:"@qqstring.$1.<.>"}],[/%(x|W|Q?)(@delim)/,{token:"string.$1.delim",switchTo:"@qqstring.$1.$2.$2"}],[/%([rqwsxW]|Q?)./,{token:"invalid",next:"@pop"}],[/./,{token:"invalid",next:"@pop"}]],qstring:[[/\\$/,"string.$S2.escape"],[/\\./,"string.$S2.escape"],[/./,{cases:{"$#==$S4":{token:"string.$S2.delim",next:"@pop"},"$#==$S3":{token:"string.$S2.delim",next:"@push"},"@default":"string.$S2"}}]],qqstring:[[/#/,"string.$S2.escape","@interpolated"],{include:"@qstring"}],whitespace:[[/[ \t\r\n]+/,""],[/^\s*=begin\b/,"comment","@comment"],[/#.*$/,"comment"]],comment:[[/[^=]+/,"comment"],[/^\s*=begin\b/,"comment.invalid"],[/^\s*=end\b.*/,"comment","@pop"],[/[=]/,"comment"]]}}});var tne=sC((NN,MB)=>{var PB=function(){var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(t){t=t||{};var t=typeof t<"u"?t:{},i,n;t.ready=new Promise(function(b,S){i=b,n=S}),Object.getOwnPropertyDescriptor(t.ready,"_main")||(Object.defineProperty(t.ready,"_main",{configurable:!0,get:function(){v("You are getting _main on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_main",{configurable:!0,set:function(){v("You are setting _main on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_artichoke_eval")||(Object.defineProperty(t.ready,"_artichoke_eval",{configurable:!0,get:function(){v("You are getting _artichoke_eval on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_artichoke_eval",{configurable:!0,set:function(){v("You are setting _artichoke_eval on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_artichoke_string_free")||(Object.defineProperty(t.ready,"_artichoke_string_free",{configurable:!0,get:function(){v("You are getting _artichoke_string_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_artichoke_string_free",{configurable:!0,set:function(){v("You are setting _artichoke_string_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_artichoke_string_getch")||(Object.defineProperty(t.ready,"_artichoke_string_getch",{configurable:!0,get:function(){v("You are getting _artichoke_string_getch on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_artichoke_string_getch",{configurable:!0,set:function(){v("You are setting _artichoke_string_getch on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_artichoke_string_getlen")||(Object.defineProperty(t.ready,"_artichoke_string_getlen",{configurable:!0,get:function(){v("You are getting _artichoke_string_getlen on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_artichoke_string_getlen",{configurable:!0,set:function(){v("You are setting _artichoke_string_getlen on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_artichoke_string_new")||(Object.defineProperty(t.ready,"_artichoke_string_new",{configurable:!0,get:function(){v("You are getting _artichoke_string_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_artichoke_string_new",{configurable:!0,set:function(){v("You are setting _artichoke_string_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_artichoke_string_putch")||(Object.defineProperty(t.ready,"_artichoke_string_putch",{configurable:!0,get:function(){v("You are getting _artichoke_string_putch on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_artichoke_string_putch",{configurable:!0,set:function(){v("You are setting _artichoke_string_putch on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_artichoke_web_repl_init")||(Object.defineProperty(t.ready,"_artichoke_web_repl_init",{configurable:!0,get:function(){v("You are getting _artichoke_web_repl_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_artichoke_web_repl_init",{configurable:!0,set:function(){v("You are setting _artichoke_web_repl_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_artichoke_free")||(Object.defineProperty(t.ready,"_mrb_ary_artichoke_free",{configurable:!0,get:function(){v("You are getting _mrb_ary_artichoke_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_artichoke_free",{configurable:!0,set:function(){v("You are setting _mrb_ary_artichoke_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_concat")||(Object.defineProperty(t.ready,"_mrb_ary_concat",{configurable:!0,get:function(){v("You are getting _mrb_ary_concat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_concat",{configurable:!0,set:function(){v("You are setting _mrb_ary_concat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_new")||(Object.defineProperty(t.ready,"_mrb_ary_new",{configurable:!0,get:function(){v("You are getting _mrb_ary_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_new",{configurable:!0,set:function(){v("You are setting _mrb_ary_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_new_capa")||(Object.defineProperty(t.ready,"_mrb_ary_new_capa",{configurable:!0,get:function(){v("You are getting _mrb_ary_new_capa on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_new_capa",{configurable:!0,set:function(){v("You are setting _mrb_ary_new_capa on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_new_from_values")||(Object.defineProperty(t.ready,"_mrb_ary_new_from_values",{configurable:!0,get:function(){v("You are getting _mrb_ary_new_from_values on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_new_from_values",{configurable:!0,set:function(){v("You are setting _mrb_ary_new_from_values on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_pop")||(Object.defineProperty(t.ready,"_mrb_ary_pop",{configurable:!0,get:function(){v("You are getting _mrb_ary_pop on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_pop",{configurable:!0,set:function(){v("You are setting _mrb_ary_pop on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_push")||(Object.defineProperty(t.ready,"_mrb_ary_push",{configurable:!0,get:function(){v("You are getting _mrb_ary_push on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_push",{configurable:!0,set:function(){v("You are setting _mrb_ary_push on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_ref")||(Object.defineProperty(t.ready,"_mrb_ary_ref",{configurable:!0,get:function(){v("You are getting _mrb_ary_ref on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_ref",{configurable:!0,set:function(){v("You are setting _mrb_ary_ref on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_set")||(Object.defineProperty(t.ready,"_mrb_ary_set",{configurable:!0,get:function(){v("You are getting _mrb_ary_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_set",{configurable:!0,set:function(){v("You are setting _mrb_ary_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_shift")||(Object.defineProperty(t.ready,"_mrb_ary_shift",{configurable:!0,get:function(){v("You are getting _mrb_ary_shift on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_shift",{configurable:!0,set:function(){v("You are setting _mrb_ary_shift on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_splat")||(Object.defineProperty(t.ready,"_mrb_ary_splat",{configurable:!0,get:function(){v("You are getting _mrb_ary_splat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_splat",{configurable:!0,set:function(){v("You are setting _mrb_ary_splat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_unshift")||(Object.defineProperty(t.ready,"_mrb_ary_unshift",{configurable:!0,get:function(){v("You are getting _mrb_ary_unshift on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_unshift",{configurable:!0,set:function(){v("You are setting _mrb_ary_unshift on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_assoc_new")||(Object.defineProperty(t.ready,"_mrb_assoc_new",{configurable:!0,get:function(){v("You are getting _mrb_assoc_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_assoc_new",{configurable:!0,set:function(){v("You are setting _mrb_assoc_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_check_intern")||(Object.defineProperty(t.ready,"_mrb_check_intern",{configurable:!0,get:function(){v("You are getting _mrb_check_intern on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_check_intern",{configurable:!0,set:function(){v("You are setting _mrb_check_intern on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_check_intern_cstr")||(Object.defineProperty(t.ready,"_mrb_check_intern_cstr",{configurable:!0,get:function(){v("You are getting _mrb_check_intern_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_check_intern_cstr",{configurable:!0,set:function(){v("You are setting _mrb_check_intern_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_check_intern_str")||(Object.defineProperty(t.ready,"_mrb_check_intern_str",{configurable:!0,get:function(){v("You are getting _mrb_check_intern_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_check_intern_str",{configurable:!0,set:function(){v("You are setting _mrb_check_intern_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_free_symtbl")||(Object.defineProperty(t.ready,"_mrb_free_symtbl",{configurable:!0,get:function(){v("You are getting _mrb_free_symtbl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_free_symtbl",{configurable:!0,set:function(){v("You are setting _mrb_free_symtbl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_init_symtbl")||(Object.defineProperty(t.ready,"_mrb_init_symtbl",{configurable:!0,get:function(){v("You are getting _mrb_init_symtbl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_init_symtbl",{configurable:!0,set:function(){v("You are setting _mrb_init_symtbl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_intern")||(Object.defineProperty(t.ready,"_mrb_intern",{configurable:!0,get:function(){v("You are getting _mrb_intern on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_intern",{configurable:!0,set:function(){v("You are setting _mrb_intern on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_intern_check")||(Object.defineProperty(t.ready,"_mrb_intern_check",{configurable:!0,get:function(){v("You are getting _mrb_intern_check on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_intern_check",{configurable:!0,set:function(){v("You are setting _mrb_intern_check on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_intern_check_cstr")||(Object.defineProperty(t.ready,"_mrb_intern_check_cstr",{configurable:!0,get:function(){v("You are getting _mrb_intern_check_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_intern_check_cstr",{configurable:!0,set:function(){v("You are setting _mrb_intern_check_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_intern_check_str")||(Object.defineProperty(t.ready,"_mrb_intern_check_str",{configurable:!0,get:function(){v("You are getting _mrb_intern_check_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_intern_check_str",{configurable:!0,set:function(){v("You are setting _mrb_intern_check_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_intern_cstr")||(Object.defineProperty(t.ready,"_mrb_intern_cstr",{configurable:!0,get:function(){v("You are getting _mrb_intern_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_intern_cstr",{configurable:!0,set:function(){v("You are setting _mrb_intern_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_intern_static")||(Object.defineProperty(t.ready,"_mrb_intern_static",{configurable:!0,get:function(){v("You are getting _mrb_intern_static on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_intern_static",{configurable:!0,set:function(){v("You are setting _mrb_intern_static on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_intern_str")||(Object.defineProperty(t.ready,"_mrb_intern_str",{configurable:!0,get:function(){v("You are getting _mrb_intern_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_intern_str",{configurable:!0,set:function(){v("You are setting _mrb_intern_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sym_dump")||(Object.defineProperty(t.ready,"_mrb_sym_dump",{configurable:!0,get:function(){v("You are getting _mrb_sym_dump on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sym_dump",{configurable:!0,set:function(){v("You are setting _mrb_sym_dump on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sym_name")||(Object.defineProperty(t.ready,"_mrb_sym_name",{configurable:!0,get:function(){v("You are getting _mrb_sym_name on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sym_name",{configurable:!0,set:function(){v("You are setting _mrb_sym_name on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sym_name_len")||(Object.defineProperty(t.ready,"_mrb_sym_name_len",{configurable:!0,get:function(){v("You are getting _mrb_sym_name_len on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sym_name_len",{configurable:!0,set:function(){v("You are setting _mrb_sym_name_len on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sym_str")||(Object.defineProperty(t.ready,"_mrb_sym_str",{configurable:!0,get:function(){v("You are getting _mrb_sym_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sym_str",{configurable:!0,set:function(){v("You are setting _mrb_sym_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_to_flo")||(Object.defineProperty(t.ready,"_mrb_to_flo",{configurable:!0,get:function(){v("You are getting _mrb_to_flo on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_to_flo",{configurable:!0,set:function(){v("You are setting _mrb_to_flo on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_rust_eh_personality")||(Object.defineProperty(t.ready,"_rust_eh_personality",{configurable:!0,get:function(){v("You are getting _rust_eh_personality on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_rust_eh_personality",{configurable:!0,set:function(){v("You are setting _rust_eh_personality on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_emscripten_stack_get_end")||(Object.defineProperty(t.ready,"_emscripten_stack_get_end",{configurable:!0,get:function(){v("You are getting _emscripten_stack_get_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_emscripten_stack_get_end",{configurable:!0,set:function(){v("You are setting _emscripten_stack_get_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_emscripten_stack_get_free")||(Object.defineProperty(t.ready,"_emscripten_stack_get_free",{configurable:!0,get:function(){v("You are getting _emscripten_stack_get_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_emscripten_stack_get_free",{configurable:!0,set:function(){v("You are setting _emscripten_stack_get_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_emscripten_stack_init")||(Object.defineProperty(t.ready,"_emscripten_stack_init",{configurable:!0,get:function(){v("You are getting _emscripten_stack_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_emscripten_stack_init",{configurable:!0,set:function(){v("You are setting _emscripten_stack_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_stackSave")||(Object.defineProperty(t.ready,"_stackSave",{configurable:!0,get:function(){v("You are getting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_stackSave",{configurable:!0,set:function(){v("You are setting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_stackRestore")||(Object.defineProperty(t.ready,"_stackRestore",{configurable:!0,get:function(){v("You are getting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_stackRestore",{configurable:!0,set:function(){v("You are setting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_stackAlloc")||(Object.defineProperty(t.ready,"_stackAlloc",{configurable:!0,get:function(){v("You are getting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_stackAlloc",{configurable:!0,set:function(){v("You are setting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"___wasm_call_ctors")||(Object.defineProperty(t.ready,"___wasm_call_ctors",{configurable:!0,get:function(){v("You are getting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"___wasm_call_ctors",{configurable:!0,set:function(){v("You are setting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_fflush")||(Object.defineProperty(t.ready,"_fflush",{configurable:!0,get:function(){v("You are getting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_fflush",{configurable:!0,set:function(){v("You are setting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"___errno_location")||(Object.defineProperty(t.ready,"___errno_location",{configurable:!0,get:function(){v("You are getting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"___errno_location",{configurable:!0,set:function(){v("You are setting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_malloc")||(Object.defineProperty(t.ready,"_malloc",{configurable:!0,get:function(){v("You are getting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_malloc",{configurable:!0,set:function(){v("You are setting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_free")||(Object.defineProperty(t.ready,"_free",{configurable:!0,get:function(){v("You are getting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_free",{configurable:!0,set:function(){v("You are setting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"___cxa_is_pointer_type")||(Object.defineProperty(t.ready,"___cxa_is_pointer_type",{configurable:!0,get:function(){v("You are getting ___cxa_is_pointer_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"___cxa_is_pointer_type",{configurable:!0,set:function(){v("You are setting ___cxa_is_pointer_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"___cxa_can_catch")||(Object.defineProperty(t.ready,"___cxa_can_catch",{configurable:!0,get:function(){v("You are getting ___cxa_can_catch on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"___cxa_can_catch",{configurable:!0,set:function(){v("You are setting ___cxa_can_catch on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_setThrew")||(Object.defineProperty(t.ready,"_setThrew",{configurable:!0,get:function(){v("You are getting _setThrew on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_setThrew",{configurable:!0,set:function(){v("You are setting _setThrew on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_saveSetjmp")||(Object.defineProperty(t.ready,"_saveSetjmp",{configurable:!0,get:function(){v("You are getting _saveSetjmp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_saveSetjmp",{configurable:!0,set:function(){v("You are setting _saveSetjmp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_ntohs")||(Object.defineProperty(t.ready,"_ntohs",{configurable:!0,get:function(){v("You are getting _ntohs on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_ntohs",{configurable:!0,set:function(){v("You are setting _ntohs on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_htonl")||(Object.defineProperty(t.ready,"_htonl",{configurable:!0,get:function(){v("You are getting _htonl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_htonl",{configurable:!0,set:function(){v("You are setting _htonl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_htons")||(Object.defineProperty(t.ready,"_htons",{configurable:!0,get:function(){v("You are getting _htons on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_htons",{configurable:!0,set:function(){v("You are setting _htons on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_emscripten_main_thread_process_queued_calls")||(Object.defineProperty(t.ready,"_emscripten_main_thread_process_queued_calls",{configurable:!0,get:function(){v("You are getting _emscripten_main_thread_process_queued_calls on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_emscripten_main_thread_process_queued_calls",{configurable:!0,set:function(){v("You are setting _emscripten_main_thread_process_queued_calls on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_sysconf")||(Object.defineProperty(t.ready,"_sysconf",{configurable:!0,get:function(){v("You are getting _sysconf on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_sysconf",{configurable:!0,set:function(){v("You are setting _sysconf on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_gc_protect")||(Object.defineProperty(t.ready,"_mrb_gc_protect",{configurable:!0,get:function(){v("You are getting _mrb_gc_protect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_gc_protect",{configurable:!0,set:function(){v("You are setting _mrb_gc_protect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_value_is_dead")||(Object.defineProperty(t.ready,"_mrb_sys_value_is_dead",{configurable:!0,get:function(){v("You are getting _mrb_sys_value_is_dead on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_value_is_dead",{configurable:!0,set:function(){v("You are setting _mrb_sys_value_is_dead on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_gc_arena_restore")||(Object.defineProperty(t.ready,"_mrb_sys_gc_arena_restore",{configurable:!0,get:function(){v("You are getting _mrb_sys_gc_arena_restore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_gc_arena_restore",{configurable:!0,set:function(){v("You are setting _mrb_sys_gc_arena_restore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_defined_under")||(Object.defineProperty(t.ready,"_mrb_class_defined_under",{configurable:!0,get:function(){v("You are getting _mrb_class_defined_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_defined_under",{configurable:!0,set:function(){v("You are setting _mrb_class_defined_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_get_under")||(Object.defineProperty(t.ready,"_mrb_class_get_under",{configurable:!0,get:function(){v("You are getting _mrb_class_get_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_get_under",{configurable:!0,set:function(){v("You are setting _mrb_class_get_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_defined")||(Object.defineProperty(t.ready,"_mrb_class_defined",{configurable:!0,get:function(){v("You are getting _mrb_class_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_defined",{configurable:!0,set:function(){v("You are setting _mrb_class_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_get")||(Object.defineProperty(t.ready,"_mrb_class_get",{configurable:!0,get:function(){v("You are getting _mrb_class_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_get",{configurable:!0,set:function(){v("You are setting _mrb_class_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_class_of_value")||(Object.defineProperty(t.ready,"_mrb_sys_class_of_value",{configurable:!0,get:function(){v("You are getting _mrb_sys_class_of_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_class_of_value",{configurable:!0,set:function(){v("You are setting _mrb_sys_class_of_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_gc_arena_save")||(Object.defineProperty(t.ready,"_mrb_sys_gc_arena_save",{configurable:!0,get:function(){v("You are getting _mrb_sys_gc_arena_save on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_gc_arena_save",{configurable:!0,set:function(){v("You are setting _mrb_sys_gc_arena_save on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_obj_frozen")||(Object.defineProperty(t.ready,"_mrb_sys_obj_frozen",{configurable:!0,get:function(){v("You are getting _mrb_sys_obj_frozen on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_obj_frozen",{configurable:!0,set:function(){v("You are setting _mrb_sys_obj_frozen on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_class")||(Object.defineProperty(t.ready,"_mrb_define_class",{configurable:!0,get:function(){v("You are getting _mrb_define_class on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_class",{configurable:!0,set:function(){v("You are setting _mrb_define_class on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_module")||(Object.defineProperty(t.ready,"_mrb_define_module",{configurable:!0,get:function(){v("You are getting _mrb_define_module on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_module",{configurable:!0,set:function(){v("You are setting _mrb_define_module on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_class_method")||(Object.defineProperty(t.ready,"_mrb_define_class_method",{configurable:!0,get:function(){v("You are getting _mrb_define_class_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_class_method",{configurable:!0,set:function(){v("You are setting _mrb_define_class_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_singleton_method")||(Object.defineProperty(t.ready,"_mrb_define_singleton_method",{configurable:!0,get:function(){v("You are getting _mrb_define_singleton_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_singleton_method",{configurable:!0,set:function(){v("You are setting _mrb_define_singleton_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_method")||(Object.defineProperty(t.ready,"_mrb_define_method",{configurable:!0,get:function(){v("You are getting _mrb_define_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_method",{configurable:!0,set:function(){v("You are setting _mrb_define_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_module_function")||(Object.defineProperty(t.ready,"_mrb_define_module_function",{configurable:!0,get:function(){v("You are getting _mrb_define_module_function on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_module_function",{configurable:!0,set:function(){v("You are setting _mrb_define_module_function on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_class_under")||(Object.defineProperty(t.ready,"_mrb_define_class_under",{configurable:!0,get:function(){v("You are getting _mrb_define_class_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_class_under",{configurable:!0,set:function(){v("You are setting _mrb_define_class_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_alloc_rarray")||(Object.defineProperty(t.ready,"_mrb_sys_alloc_rarray",{configurable:!0,get:function(){v("You are getting _mrb_sys_alloc_rarray on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_alloc_rarray",{configurable:!0,set:function(){v("You are setting _mrb_sys_alloc_rarray on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_data_check_get_ptr")||(Object.defineProperty(t.ready,"_mrb_data_check_get_ptr",{configurable:!0,get:function(){v("You are getting _mrb_data_check_get_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_data_check_get_ptr",{configurable:!0,set:function(){v("You are setting _mrb_data_check_get_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_module_under")||(Object.defineProperty(t.ready,"_mrb_define_module_under",{configurable:!0,get:function(){v("You are getting _mrb_define_module_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_module_under",{configurable:!0,set:function(){v("You are setting _mrb_define_module_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_data_object_alloc")||(Object.defineProperty(t.ready,"_mrb_data_object_alloc",{configurable:!0,get:function(){v("You are getting _mrb_data_object_alloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_data_object_alloc",{configurable:!0,set:function(){v("You are setting _mrb_data_object_alloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_obj_value")||(Object.defineProperty(t.ready,"_mrb_sys_obj_value",{configurable:!0,get:function(){v("You are getting _mrb_sys_obj_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_obj_value",{configurable:!0,set:function(){v("You are setting _mrb_sys_obj_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_close")||(Object.defineProperty(t.ready,"_mrb_close",{configurable:!0,get:function(){v("You are getting _mrb_close on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_close",{configurable:!0,set:function(){v("You are setting _mrb_close on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_class_value")||(Object.defineProperty(t.ready,"_mrb_sys_class_value",{configurable:!0,get:function(){v("You are getting _mrb_sys_class_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_class_value",{configurable:!0,set:function(){v("You are setting _mrb_sys_class_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_new")||(Object.defineProperty(t.ready,"_mrb_obj_new",{configurable:!0,get:function(){v("You are getting _mrb_obj_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_new",{configurable:!0,set:function(){v("You are setting _mrb_obj_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_value_is_nil")||(Object.defineProperty(t.ready,"_mrb_sys_value_is_nil",{configurable:!0,get:function(){v("You are getting _mrb_sys_value_is_nil on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_value_is_nil",{configurable:!0,set:function(){v("You are setting _mrb_sys_value_is_nil on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_value_is_true")||(Object.defineProperty(t.ready,"_mrb_sys_value_is_true",{configurable:!0,get:function(){v("You are getting _mrb_sys_value_is_true on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_value_is_true",{configurable:!0,set:function(){v("You are setting _mrb_sys_value_is_true on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_value_is_false")||(Object.defineProperty(t.ready,"_mrb_sys_value_is_false",{configurable:!0,get:function(){v("You are getting _mrb_sys_value_is_false on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_value_is_false",{configurable:!0,set:function(){v("You are setting _mrb_sys_value_is_false on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_global_const")||(Object.defineProperty(t.ready,"_mrb_define_global_const",{configurable:!0,get:function(){v("You are getting _mrb_define_global_const on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_global_const",{configurable:!0,set:function(){v("You are setting _mrb_define_global_const on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_const")||(Object.defineProperty(t.ready,"_mrb_define_const",{configurable:!0,get:function(){v("You are getting _mrb_define_const on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_const",{configurable:!0,set:function(){v("You are setting _mrb_define_const on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_false_value")||(Object.defineProperty(t.ready,"_mrb_sys_false_value",{configurable:!0,get:function(){v("You are getting _mrb_sys_false_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_false_value",{configurable:!0,set:function(){v("You are setting _mrb_sys_false_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_true_value")||(Object.defineProperty(t.ready,"_mrb_sys_true_value",{configurable:!0,get:function(){v("You are getting _mrb_sys_true_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_true_value",{configurable:!0,set:function(){v("You are setting _mrb_sys_true_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_nil_value")||(Object.defineProperty(t.ready,"_mrb_sys_nil_value",{configurable:!0,get:function(){v("You are getting _mrb_sys_nil_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_nil_value",{configurable:!0,set:function(){v("You are setting _mrb_sys_nil_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_new")||(Object.defineProperty(t.ready,"_mrb_str_new",{configurable:!0,get:function(){v("You are getting _mrb_str_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_new",{configurable:!0,set:function(){v("You are setting _mrb_str_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_string_value_ptr")||(Object.defineProperty(t.ready,"_mrb_string_value_ptr",{configurable:!0,get:function(){v("You are getting _mrb_string_value_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_string_value_ptr",{configurable:!0,set:function(){v("You are setting _mrb_string_value_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_string_value_len")||(Object.defineProperty(t.ready,"_mrb_string_value_len",{configurable:!0,get:function(){v("You are getting _mrb_string_value_len on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_string_value_len",{configurable:!0,set:function(){v("You are setting _mrb_string_value_len on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_fixnum_value")||(Object.defineProperty(t.ready,"_mrb_sys_fixnum_value",{configurable:!0,get:function(){v("You are getting _mrb_sys_fixnum_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_fixnum_value",{configurable:!0,set:function(){v("You are setting _mrb_sys_fixnum_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_fixnum_to_cint")||(Object.defineProperty(t.ready,"_mrb_sys_fixnum_to_cint",{configurable:!0,get:function(){v("You are getting _mrb_sys_fixnum_to_cint on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_fixnum_to_cint",{configurable:!0,set:function(){v("You are setting _mrb_sys_fixnum_to_cint on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_float_value")||(Object.defineProperty(t.ready,"_mrb_sys_float_value",{configurable:!0,get:function(){v("You are getting _mrb_sys_float_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_float_value",{configurable:!0,set:function(){v("You are setting _mrb_sys_float_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_float_to_cdouble")||(Object.defineProperty(t.ready,"_mrb_sys_float_to_cdouble",{configurable:!0,get:function(){v("You are getting _mrb_sys_float_to_cdouble on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_float_to_cdouble",{configurable:!0,set:function(){v("You are setting _mrb_sys_float_to_cdouble on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_new_capa")||(Object.defineProperty(t.ready,"_mrb_hash_new_capa",{configurable:!0,get:function(){v("You are getting _mrb_hash_new_capa on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_new_capa",{configurable:!0,set:function(){v("You are setting _mrb_hash_new_capa on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_set")||(Object.defineProperty(t.ready,"_mrb_hash_set",{configurable:!0,get:function(){v("You are getting _mrb_hash_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_set",{configurable:!0,set:function(){v("You are setting _mrb_hash_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_keys")||(Object.defineProperty(t.ready,"_mrb_hash_keys",{configurable:!0,get:function(){v("You are getting _mrb_hash_keys on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_keys",{configurable:!0,set:function(){v("You are setting _mrb_hash_keys on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_get")||(Object.defineProperty(t.ready,"_mrb_hash_get",{configurable:!0,get:function(){v("You are getting _mrb_hash_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_get",{configurable:!0,set:function(){v("You are setting _mrb_hash_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_cptr_value")||(Object.defineProperty(t.ready,"_mrb_sys_cptr_value",{configurable:!0,get:function(){v("You are getting _mrb_sys_cptr_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_cptr_value",{configurable:!0,set:function(){v("You are setting _mrb_sys_cptr_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_protect")||(Object.defineProperty(t.ready,"_mrb_protect",{configurable:!0,get:function(){v("You are getting _mrb_protect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_protect",{configurable:!0,set:function(){v("You are setting _mrb_protect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_gc_live_objects")||(Object.defineProperty(t.ready,"_mrb_sys_gc_live_objects",{configurable:!0,get:function(){v("You are getting _mrb_sys_gc_live_objects on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_gc_live_objects",{configurable:!0,set:function(){v("You are setting _mrb_sys_gc_live_objects on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_safe_gc_mark")||(Object.defineProperty(t.ready,"_mrb_sys_safe_gc_mark",{configurable:!0,get:function(){v("You are getting _mrb_sys_safe_gc_mark on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_safe_gc_mark",{configurable:!0,set:function(){v("You are setting _mrb_sys_safe_gc_mark on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_incremental_gc")||(Object.defineProperty(t.ready,"_mrb_incremental_gc",{configurable:!0,get:function(){v("You are getting _mrb_incremental_gc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_incremental_gc",{configurable:!0,set:function(){v("You are setting _mrb_incremental_gc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_full_gc")||(Object.defineProperty(t.ready,"_mrb_full_gc",{configurable:!0,get:function(){v("You are getting _mrb_full_gc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_full_gc",{configurable:!0,set:function(){v("You are setting _mrb_full_gc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_gc_enable")||(Object.defineProperty(t.ready,"_mrb_sys_gc_enable",{configurable:!0,get:function(){v("You are getting _mrb_sys_gc_enable on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_gc_enable",{configurable:!0,set:function(){v("You are setting _mrb_sys_gc_enable on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_gc_disable")||(Object.defineProperty(t.ready,"_mrb_sys_gc_disable",{configurable:!0,get:function(){v("You are getting _mrb_sys_gc_disable on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_gc_disable",{configurable:!0,set:function(){v("You are setting _mrb_sys_gc_disable on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_gv_set")||(Object.defineProperty(t.ready,"_mrb_gv_set",{configurable:!0,get:function(){v("You are getting _mrb_gv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_gv_set",{configurable:!0,set:function(){v("You are setting _mrb_gv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrbc_filename")||(Object.defineProperty(t.ready,"_mrbc_filename",{configurable:!0,get:function(){v("You are getting _mrbc_filename on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrbc_filename",{configurable:!0,set:function(){v("You are setting _mrbc_filename on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_top_self")||(Object.defineProperty(t.ready,"_mrb_top_self",{configurable:!0,get:function(){v("You are getting _mrb_top_self on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_top_self",{configurable:!0,set:function(){v("You are setting _mrb_top_self on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_module_value")||(Object.defineProperty(t.ready,"_mrb_sys_module_value",{configurable:!0,get:function(){v("You are getting _mrb_sys_module_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_module_value",{configurable:!0,set:function(){v("You are setting _mrb_sys_module_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_basic_ptr")||(Object.defineProperty(t.ready,"_mrb_sys_basic_ptr",{configurable:!0,get:function(){v("You are getting _mrb_sys_basic_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_basic_ptr",{configurable:!0,set:function(){v("You are setting _mrb_sys_basic_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_write_barrier")||(Object.defineProperty(t.ready,"_mrb_write_barrier",{configurable:!0,get:function(){v("You are getting _mrb_write_barrier on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_write_barrier",{configurable:!0,set:function(){v("You are setting _mrb_write_barrier on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_get_args")||(Object.defineProperty(t.ready,"_mrb_get_args",{configurable:!0,get:function(){v("You are getting _mrb_get_args on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_get_args",{configurable:!0,set:function(){v("You are setting _mrb_get_args on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_set_instance_tt")||(Object.defineProperty(t.ready,"_mrb_sys_set_instance_tt",{configurable:!0,get:function(){v("You are getting _mrb_sys_set_instance_tt on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_set_instance_tt",{configurable:!0,set:function(){v("You are setting _mrb_sys_set_instance_tt on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_const_defined_at")||(Object.defineProperty(t.ready,"_mrb_const_defined_at",{configurable:!0,get:function(){v("You are getting _mrb_const_defined_at on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_const_defined_at",{configurable:!0,set:function(){v("You are setting _mrb_const_defined_at on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_module_get_under")||(Object.defineProperty(t.ready,"_mrb_module_get_under",{configurable:!0,get:function(){v("You are getting _mrb_module_get_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_module_get_under",{configurable:!0,set:function(){v("You are setting _mrb_module_get_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_module_get")||(Object.defineProperty(t.ready,"_mrb_module_get",{configurable:!0,get:function(){v("You are getting _mrb_module_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_module_get",{configurable:!0,set:function(){v("You are setting _mrb_module_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrbc_context_new")||(Object.defineProperty(t.ready,"_mrbc_context_new",{configurable:!0,get:function(){v("You are getting _mrbc_context_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrbc_context_new",{configurable:!0,set:function(){v("You are setting _mrbc_context_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrbc_context_free")||(Object.defineProperty(t.ready,"_mrbc_context_free",{configurable:!0,get:function(){v("You are getting _mrbc_context_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrbc_context_free",{configurable:!0,set:function(){v("You are setting _mrbc_context_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_data_init")||(Object.defineProperty(t.ready,"_mrb_sys_data_init",{configurable:!0,get:function(){v("You are getting _mrb_sys_data_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_data_init",{configurable:!0,set:function(){v("You are setting _mrb_sys_data_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_exc_raise")||(Object.defineProperty(t.ready,"_mrb_exc_raise",{configurable:!0,get:function(){v("You are getting _mrb_exc_raise on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_exc_raise",{configurable:!0,set:function(){v("You are setting _mrb_exc_raise on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_raise")||(Object.defineProperty(t.ready,"_mrb_sys_raise",{configurable:!0,get:function(){v("You are getting _mrb_sys_raise on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_raise",{configurable:!0,set:function(){v("You are setting _mrb_sys_raise on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_class_ptr")||(Object.defineProperty(t.ready,"_mrb_sys_class_ptr",{configurable:!0,get:function(){v("You are getting _mrb_sys_class_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_class_ptr",{configurable:!0,set:function(){v("You are setting _mrb_sys_class_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_new_symbol")||(Object.defineProperty(t.ready,"_mrb_sys_new_symbol",{configurable:!0,get:function(){v("You are getting _mrb_sys_new_symbol on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_new_symbol",{configurable:!0,set:function(){v("You are setting _mrb_sys_new_symbol on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_repack_into_rarray")||(Object.defineProperty(t.ready,"_mrb_sys_repack_into_rarray",{configurable:!0,get:function(){v("You are getting _mrb_sys_repack_into_rarray on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_repack_into_rarray",{configurable:!0,set:function(){v("You are setting _mrb_sys_repack_into_rarray on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_cptr_ptr")||(Object.defineProperty(t.ready,"_mrb_sys_cptr_ptr",{configurable:!0,get:function(){v("You are getting _mrb_sys_cptr_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_cptr_ptr",{configurable:!0,set:function(){v("You are setting _mrb_sys_cptr_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_funcall_with_block")||(Object.defineProperty(t.ready,"_mrb_funcall_with_block",{configurable:!0,get:function(){v("You are getting _mrb_funcall_with_block on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_funcall_with_block",{configurable:!0,set:function(){v("You are setting _mrb_funcall_with_block on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_funcall_argv")||(Object.defineProperty(t.ready,"_mrb_funcall_argv",{configurable:!0,get:function(){v("You are getting _mrb_funcall_argv on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_funcall_argv",{configurable:!0,set:function(){v("You are setting _mrb_funcall_argv on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_load_nstring_cxt")||(Object.defineProperty(t.ready,"_mrb_load_nstring_cxt",{configurable:!0,get:function(){v("You are getting _mrb_load_nstring_cxt on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_load_nstring_cxt",{configurable:!0,set:function(){v("You are setting _mrb_load_nstring_cxt on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_yield")||(Object.defineProperty(t.ready,"_mrb_yield",{configurable:!0,get:function(){v("You are getting _mrb_yield on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_yield",{configurable:!0,set:function(){v("You are setting _mrb_yield on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_range_beg_len")||(Object.defineProperty(t.ready,"_mrb_range_beg_len",{configurable:!0,get:function(){v("You are getting _mrb_range_beg_len on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_range_beg_len",{configurable:!0,set:function(){v("You are setting _mrb_range_beg_len on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_default_allocf")||(Object.defineProperty(t.ready,"_mrb_default_allocf",{configurable:!0,get:function(){v("You are getting _mrb_default_allocf on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_default_allocf",{configurable:!0,set:function(){v("You are setting _mrb_default_allocf on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_open_allocf")||(Object.defineProperty(t.ready,"_mrb_open_allocf",{configurable:!0,get:function(){v("You are getting _mrb_open_allocf on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_open_allocf",{configurable:!0,set:function(){v("You are setting _mrb_open_allocf on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_alloc")||(Object.defineProperty(t.ready,"_mrb_obj_alloc",{configurable:!0,get:function(){v("You are getting _mrb_obj_alloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_alloc",{configurable:!0,set:function(){v("You are setting _mrb_obj_alloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_data_check_type")||(Object.defineProperty(t.ready,"_mrb_data_check_type",{configurable:!0,get:function(){v("You are getting _mrb_data_check_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_data_check_type",{configurable:!0,set:function(){v("You are setting _mrb_data_check_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_check_type")||(Object.defineProperty(t.ready,"_mrb_check_type",{configurable:!0,get:function(){v("You are getting _mrb_check_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_check_type",{configurable:!0,set:function(){v("You are setting _mrb_check_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_exc_get_id")||(Object.defineProperty(t.ready,"_mrb_exc_get_id",{configurable:!0,get:function(){v("You are getting _mrb_exc_get_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_exc_get_id",{configurable:!0,set:function(){v("You are setting _mrb_exc_get_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_raisef")||(Object.defineProperty(t.ready,"_mrb_raisef",{configurable:!0,get:function(){v("You are getting _mrb_raisef on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_raisef",{configurable:!0,set:function(){v("You are setting _mrb_raisef on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_data_get_ptr")||(Object.defineProperty(t.ready,"_mrb_data_get_ptr",{configurable:!0,get:function(){v("You are getting _mrb_data_get_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_data_get_ptr",{configurable:!0,set:function(){v("You are setting _mrb_data_get_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_to_sym")||(Object.defineProperty(t.ready,"_mrb_obj_to_sym",{configurable:!0,get:function(){v("You are getting _mrb_obj_to_sym on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_to_sym",{configurable:!0,set:function(){v("You are setting _mrb_obj_to_sym on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_int_id")||(Object.defineProperty(t.ready,"_mrb_int_id",{configurable:!0,get:function(){v("You are getting _mrb_int_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_int_id",{configurable:!0,set:function(){v("You are setting _mrb_int_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_float_id")||(Object.defineProperty(t.ready,"_mrb_float_id",{configurable:!0,get:function(){v("You are getting _mrb_float_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_float_id",{configurable:!0,set:function(){v("You are setting _mrb_float_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_id")||(Object.defineProperty(t.ready,"_mrb_obj_id",{configurable:!0,get:function(){v("You are getting _mrb_obj_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_id",{configurable:!0,set:function(){v("You are setting _mrb_obj_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_fiber_resume")||(Object.defineProperty(t.ready,"_mrb_fiber_resume",{configurable:!0,get:function(){v("You are getting _mrb_fiber_resume on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_fiber_resume",{configurable:!0,set:function(){v("You are setting _mrb_fiber_resume on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_fiber_alive_p")||(Object.defineProperty(t.ready,"_mrb_fiber_alive_p",{configurable:!0,get:function(){v("You are getting _mrb_fiber_alive_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_fiber_alive_p",{configurable:!0,set:function(){v("You are setting _mrb_fiber_alive_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_fiber_yield")||(Object.defineProperty(t.ready,"_mrb_fiber_yield",{configurable:!0,get:function(){v("You are getting _mrb_fiber_yield on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_fiber_yield",{configurable:!0,set:function(){v("You are setting _mrb_fiber_yield on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_exc_new")||(Object.defineProperty(t.ready,"_mrb_exc_new",{configurable:!0,get:function(){v("You are getting _mrb_exc_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_exc_new",{configurable:!0,set:function(){v("You are setting _mrb_exc_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_exc_new_str")||(Object.defineProperty(t.ready,"_mrb_exc_new_str",{configurable:!0,get:function(){v("You are getting _mrb_exc_new_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_exc_new_str",{configurable:!0,set:function(){v("You are setting _mrb_exc_new_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_format")||(Object.defineProperty(t.ready,"_mrb_format",{configurable:!0,get:function(){v("You are getting _mrb_format on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_format",{configurable:!0,set:function(){v("You are setting _mrb_format on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_vformat")||(Object.defineProperty(t.ready,"_mrb_vformat",{configurable:!0,get:function(){v("You are getting _mrb_vformat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_vformat",{configurable:!0,set:function(){v("You are setting _mrb_vformat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_to_str")||(Object.defineProperty(t.ready,"_mrb_to_str",{configurable:!0,get:function(){v("You are getting _mrb_to_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_to_str",{configurable:!0,set:function(){v("You are setting _mrb_to_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_attr_get")||(Object.defineProperty(t.ready,"_mrb_attr_get",{configurable:!0,get:function(){v("You are getting _mrb_attr_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_attr_get",{configurable:!0,set:function(){v("You are setting _mrb_attr_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_classname")||(Object.defineProperty(t.ready,"_mrb_obj_classname",{configurable:!0,get:function(){v("You are getting _mrb_obj_classname on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_classname",{configurable:!0,set:function(){v("You are setting _mrb_obj_classname on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_new_cstr")||(Object.defineProperty(t.ready,"_mrb_str_new_cstr",{configurable:!0,get:function(){v("You are getting _mrb_str_new_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_new_cstr",{configurable:!0,set:function(){v("You are setting _mrb_str_new_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_class")||(Object.defineProperty(t.ready,"_mrb_obj_class",{configurable:!0,get:function(){v("You are getting _mrb_obj_class on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_class",{configurable:!0,set:function(){v("You are setting _mrb_obj_class on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_as_string")||(Object.defineProperty(t.ready,"_mrb_obj_as_string",{configurable:!0,get:function(){v("You are getting _mrb_obj_as_string on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_as_string",{configurable:!0,set:function(){v("You are setting _mrb_obj_as_string on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_is_kind_of")||(Object.defineProperty(t.ready,"_mrb_obj_is_kind_of",{configurable:!0,get:function(){v("You are getting _mrb_obj_is_kind_of on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_is_kind_of",{configurable:!0,set:function(){v("You are setting _mrb_obj_is_kind_of on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_raise")||(Object.defineProperty(t.ready,"_mrb_raise",{configurable:!0,get:function(){v("You are getting _mrb_raise on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_raise",{configurable:!0,set:function(){v("You are setting _mrb_raise on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_p")||(Object.defineProperty(t.ready,"_mrb_p",{configurable:!0,get:function(){v("You are getting _mrb_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_p",{configurable:!0,set:function(){v("You are setting _mrb_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_new_capa")||(Object.defineProperty(t.ready,"_mrb_str_new_capa",{configurable:!0,get:function(){v("You are getting _mrb_str_new_capa on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_new_capa",{configurable:!0,set:function(){v("You are setting _mrb_str_new_capa on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_inspect")||(Object.defineProperty(t.ready,"_mrb_inspect",{configurable:!0,get:function(){v("You are getting _mrb_inspect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_inspect",{configurable:!0,set:function(){v("You are setting _mrb_inspect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_cat")||(Object.defineProperty(t.ready,"_mrb_str_cat",{configurable:!0,get:function(){v("You are getting _mrb_str_cat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_cat",{configurable:!0,set:function(){v("You are setting _mrb_str_cat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_name_error")||(Object.defineProperty(t.ready,"_mrb_name_error",{configurable:!0,get:function(){v("You are getting _mrb_name_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_name_error",{configurable:!0,set:function(){v("You are setting _mrb_name_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_warn")||(Object.defineProperty(t.ready,"_mrb_warn",{configurable:!0,get:function(){v("You are getting _mrb_warn on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_warn",{configurable:!0,set:function(){v("You are setting _mrb_warn on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_bug")||(Object.defineProperty(t.ready,"_mrb_bug",{configurable:!0,get:function(){v("You are getting _mrb_bug on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_bug",{configurable:!0,set:function(){v("You are setting _mrb_bug on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_make_exception")||(Object.defineProperty(t.ready,"_mrb_make_exception",{configurable:!0,get:function(){v("You are getting _mrb_make_exception on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_make_exception",{configurable:!0,set:function(){v("You are setting _mrb_make_exception on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_argnum_error")||(Object.defineProperty(t.ready,"_mrb_argnum_error",{configurable:!0,get:function(){v("You are getting _mrb_argnum_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_argnum_error",{configurable:!0,set:function(){v("You are setting _mrb_argnum_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_respond_to")||(Object.defineProperty(t.ready,"_mrb_respond_to",{configurable:!0,get:function(){v("You are getting _mrb_respond_to on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_respond_to",{configurable:!0,set:function(){v("You are setting _mrb_respond_to on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_iv_set")||(Object.defineProperty(t.ready,"_mrb_iv_set",{configurable:!0,get:function(){v("You are getting _mrb_iv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_iv_set",{configurable:!0,set:function(){v("You are setting _mrb_iv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_fail")||(Object.defineProperty(t.ready,"_mrb_sys_fail",{configurable:!0,get:function(){v("You are getting _mrb_sys_fail on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_fail",{configurable:!0,set:function(){v("You are setting _mrb_sys_fail on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_funcall")||(Object.defineProperty(t.ready,"_mrb_funcall",{configurable:!0,get:function(){v("You are getting _mrb_funcall on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_funcall",{configurable:!0,set:function(){v("You are setting _mrb_funcall on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_no_method_error")||(Object.defineProperty(t.ready,"_mrb_no_method_error",{configurable:!0,get:function(){v("You are getting _mrb_no_method_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_no_method_error",{configurable:!0,set:function(){v("You are setting _mrb_no_method_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_frozen_error")||(Object.defineProperty(t.ready,"_mrb_frozen_error",{configurable:!0,get:function(){v("You are getting _mrb_frozen_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_frozen_error",{configurable:!0,set:function(){v("You are setting _mrb_frozen_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_free")||(Object.defineProperty(t.ready,"_mrb_free",{configurable:!0,get:function(){v("You are getting _mrb_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_free",{configurable:!0,set:function(){v("You are setting _mrb_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_exc_backtrace")||(Object.defineProperty(t.ready,"_mrb_exc_backtrace",{configurable:!0,get:function(){v("You are getting _mrb_exc_backtrace on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_exc_backtrace",{configurable:!0,set:function(){v("You are setting _mrb_exc_backtrace on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_new_static")||(Object.defineProperty(t.ready,"_mrb_str_new_static",{configurable:!0,get:function(){v("You are getting _mrb_str_new_static on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_new_static",{configurable:!0,set:function(){v("You are setting _mrb_str_new_static on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_equal")||(Object.defineProperty(t.ready,"_mrb_obj_equal",{configurable:!0,get:function(){v("You are getting _mrb_obj_equal on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_equal",{configurable:!0,set:function(){v("You are setting _mrb_obj_equal on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_clone")||(Object.defineProperty(t.ready,"_mrb_obj_clone",{configurable:!0,get:function(){v("You are getting _mrb_obj_clone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_clone",{configurable:!0,set:function(){v("You are setting _mrb_obj_clone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_funcall_id")||(Object.defineProperty(t.ready,"_mrb_funcall_id",{configurable:!0,get:function(){v("You are getting _mrb_funcall_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_funcall_id",{configurable:!0,set:function(){v("You are setting _mrb_funcall_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_get_arg1")||(Object.defineProperty(t.ready,"_mrb_get_arg1",{configurable:!0,get:function(){v("You are getting _mrb_get_arg1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_get_arg1",{configurable:!0,set:function(){v("You are setting _mrb_get_arg1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_mt_foreach")||(Object.defineProperty(t.ready,"_mrb_mt_foreach",{configurable:!0,get:function(){v("You are getting _mrb_mt_foreach on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_mt_foreach",{configurable:!0,set:function(){v("You are setting _mrb_mt_foreach on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_path")||(Object.defineProperty(t.ready,"_mrb_class_path",{configurable:!0,get:function(){v("You are getting _mrb_class_path on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_path",{configurable:!0,set:function(){v("You are setting _mrb_class_path on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_module_id")||(Object.defineProperty(t.ready,"_mrb_define_module_id",{configurable:!0,get:function(){v("You are getting _mrb_define_module_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_module_id",{configurable:!0,set:function(){v("You are setting _mrb_define_module_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_gc_mark")||(Object.defineProperty(t.ready,"_mrb_gc_mark",{configurable:!0,get:function(){v("You are getting _mrb_gc_mark on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_gc_mark",{configurable:!0,set:function(){v("You are setting _mrb_gc_mark on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_iv_defined")||(Object.defineProperty(t.ready,"_mrb_obj_iv_defined",{configurable:!0,get:function(){v("You are getting _mrb_obj_iv_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_iv_defined",{configurable:!0,set:function(){v("You are setting _mrb_obj_iv_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_iv_get")||(Object.defineProperty(t.ready,"_mrb_obj_iv_get",{configurable:!0,get:function(){v("You are getting _mrb_obj_iv_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_iv_get",{configurable:!0,set:function(){v("You are setting _mrb_obj_iv_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_dup")||(Object.defineProperty(t.ready,"_mrb_str_dup",{configurable:!0,get:function(){v("You are getting _mrb_str_dup on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_dup",{configurable:!0,set:function(){v("You are setting _mrb_str_dup on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_const_get")||(Object.defineProperty(t.ready,"_mrb_const_get",{configurable:!0,get:function(){v("You are getting _mrb_const_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_const_get",{configurable:!0,set:function(){v("You are setting _mrb_const_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_malloc")||(Object.defineProperty(t.ready,"_mrb_malloc",{configurable:!0,get:function(){v("You are getting _mrb_malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_malloc",{configurable:!0,set:function(){v("You are setting _mrb_malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_iv_set")||(Object.defineProperty(t.ready,"_mrb_obj_iv_set",{configurable:!0,get:function(){v("You are getting _mrb_obj_iv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_iv_set",{configurable:!0,set:function(){v("You are setting _mrb_obj_iv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_module_under_id")||(Object.defineProperty(t.ready,"_mrb_define_module_under_id",{configurable:!0,get:function(){v("You are getting _mrb_define_module_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_module_under_id",{configurable:!0,set:function(){v("You are setting _mrb_define_module_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_class_id")||(Object.defineProperty(t.ready,"_mrb_define_class_id",{configurable:!0,get:function(){v("You are getting _mrb_define_class_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_class_id",{configurable:!0,set:function(){v("You are setting _mrb_define_class_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_new")||(Object.defineProperty(t.ready,"_mrb_class_new",{configurable:!0,get:function(){v("You are getting _mrb_class_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_new",{configurable:!0,set:function(){v("You are setting _mrb_class_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_real")||(Object.defineProperty(t.ready,"_mrb_class_real",{configurable:!0,get:function(){v("You are getting _mrb_class_real on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_real",{configurable:!0,set:function(){v("You are setting _mrb_class_real on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_func_basic_p")||(Object.defineProperty(t.ready,"_mrb_func_basic_p",{configurable:!0,get:function(){v("You are getting _mrb_func_basic_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_func_basic_p",{configurable:!0,set:function(){v("You are setting _mrb_func_basic_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_const_defined")||(Object.defineProperty(t.ready,"_mrb_const_defined",{configurable:!0,get:function(){v("You are getting _mrb_const_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_const_defined",{configurable:!0,set:function(){v("You are setting _mrb_const_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_defined_id")||(Object.defineProperty(t.ready,"_mrb_class_defined_id",{configurable:!0,get:function(){v("You are getting _mrb_class_defined_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_defined_id",{configurable:!0,set:function(){v("You are setting _mrb_class_defined_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_defined_under_id")||(Object.defineProperty(t.ready,"_mrb_class_defined_under_id",{configurable:!0,get:function(){v("You are getting _mrb_class_defined_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_defined_under_id",{configurable:!0,set:function(){v("You are setting _mrb_class_defined_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_get_under_id")||(Object.defineProperty(t.ready,"_mrb_class_get_under_id",{configurable:!0,get:function(){v("You are getting _mrb_class_get_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_get_under_id",{configurable:!0,set:function(){v("You are setting _mrb_class_get_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_get_id")||(Object.defineProperty(t.ready,"_mrb_class_get_id",{configurable:!0,get:function(){v("You are getting _mrb_class_get_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_get_id",{configurable:!0,set:function(){v("You are setting _mrb_class_get_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_module_get_under_id")||(Object.defineProperty(t.ready,"_mrb_module_get_under_id",{configurable:!0,get:function(){v("You are getting _mrb_module_get_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_module_get_under_id",{configurable:!0,set:function(){v("You are setting _mrb_module_get_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_module_get_id")||(Object.defineProperty(t.ready,"_mrb_module_get_id",{configurable:!0,get:function(){v("You are getting _mrb_module_get_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_module_get_id",{configurable:!0,set:function(){v("You are setting _mrb_module_get_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_class_under_id")||(Object.defineProperty(t.ready,"_mrb_define_class_under_id",{configurable:!0,get:function(){v("You are getting _mrb_define_class_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_class_under_id",{configurable:!0,set:function(){v("You are setting _mrb_define_class_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_method_raw")||(Object.defineProperty(t.ready,"_mrb_define_method_raw",{configurable:!0,get:function(){v("You are getting _mrb_define_method_raw on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_method_raw",{configurable:!0,set:function(){v("You are setting _mrb_define_method_raw on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_field_write_barrier")||(Object.defineProperty(t.ready,"_mrb_field_write_barrier",{configurable:!0,get:function(){v("You are getting _mrb_field_write_barrier on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_field_write_barrier",{configurable:!0,set:function(){v("You are setting _mrb_field_write_barrier on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_method_id")||(Object.defineProperty(t.ready,"_mrb_define_method_id",{configurable:!0,get:function(){v("You are getting _mrb_define_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_method_id",{configurable:!0,set:function(){v("You are setting _mrb_define_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_notimplement")||(Object.defineProperty(t.ready,"_mrb_notimplement",{configurable:!0,get:function(){v("You are getting _mrb_notimplement on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_notimplement",{configurable:!0,set:function(){v("You are setting _mrb_notimplement on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_notimplement_m")||(Object.defineProperty(t.ready,"_mrb_notimplement_m",{configurable:!0,get:function(){v("You are getting _mrb_notimplement_m on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_notimplement_m",{configurable:!0,set:function(){v("You are setting _mrb_notimplement_m on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_get_argc")||(Object.defineProperty(t.ready,"_mrb_get_argc",{configurable:!0,get:function(){v("You are getting _mrb_get_argc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_get_argc",{configurable:!0,set:function(){v("You are setting _mrb_get_argc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_get_argv")||(Object.defineProperty(t.ready,"_mrb_get_argv",{configurable:!0,get:function(){v("You are getting _mrb_get_argv on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_get_argv",{configurable:!0,set:function(){v("You are setting _mrb_get_argv on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_string_cstr")||(Object.defineProperty(t.ready,"_mrb_string_cstr",{configurable:!0,get:function(){v("You are getting _mrb_string_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_string_cstr",{configurable:!0,set:function(){v("You are setting _mrb_string_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_to_int")||(Object.defineProperty(t.ready,"_mrb_to_int",{configurable:!0,get:function(){v("You are getting _mrb_to_int on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_to_int",{configurable:!0,set:function(){v("You are setting _mrb_to_int on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_dup")||(Object.defineProperty(t.ready,"_mrb_hash_dup",{configurable:!0,get:function(){v("You are getting _mrb_hash_dup on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_dup",{configurable:!0,set:function(){v("You are setting _mrb_hash_dup on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_new")||(Object.defineProperty(t.ready,"_mrb_hash_new",{configurable:!0,get:function(){v("You are getting _mrb_hash_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_new",{configurable:!0,set:function(){v("You are setting _mrb_hash_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_key_p")||(Object.defineProperty(t.ready,"_mrb_hash_key_p",{configurable:!0,get:function(){v("You are getting _mrb_hash_key_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_key_p",{configurable:!0,set:function(){v("You are setting _mrb_hash_key_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_delete_key")||(Object.defineProperty(t.ready,"_mrb_hash_delete_key",{configurable:!0,get:function(){v("You are getting _mrb_hash_delete_key on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_delete_key",{configurable:!0,set:function(){v("You are setting _mrb_hash_delete_key on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_empty_p")||(Object.defineProperty(t.ready,"_mrb_hash_empty_p",{configurable:!0,get:function(){v("You are getting _mrb_hash_empty_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_empty_p",{configurable:!0,set:function(){v("You are setting _mrb_hash_empty_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_include_module")||(Object.defineProperty(t.ready,"_mrb_include_module",{configurable:!0,get:function(){v("You are getting _mrb_include_module on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_include_module",{configurable:!0,set:function(){v("You are setting _mrb_include_module on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_prepend_module")||(Object.defineProperty(t.ready,"_mrb_prepend_module",{configurable:!0,get:function(){v("You are getting _mrb_prepend_module on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_prepend_module",{configurable:!0,set:function(){v("You are setting _mrb_prepend_module on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_singleton_class_ptr")||(Object.defineProperty(t.ready,"_mrb_singleton_class_ptr",{configurable:!0,get:function(){v("You are getting _mrb_singleton_class_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_singleton_class_ptr",{configurable:!0,set:function(){v("You are setting _mrb_singleton_class_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_singleton_class")||(Object.defineProperty(t.ready,"_mrb_singleton_class",{configurable:!0,get:function(){v("You are getting _mrb_singleton_class on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_singleton_class",{configurable:!0,set:function(){v("You are setting _mrb_singleton_class on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_singleton_method_id")||(Object.defineProperty(t.ready,"_mrb_define_singleton_method_id",{configurable:!0,get:function(){v("You are getting _mrb_define_singleton_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_singleton_method_id",{configurable:!0,set:function(){v("You are setting _mrb_define_singleton_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_class_method_id")||(Object.defineProperty(t.ready,"_mrb_define_class_method_id",{configurable:!0,get:function(){v("You are getting _mrb_define_class_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_class_method_id",{configurable:!0,set:function(){v("You are setting _mrb_define_class_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_module_function_id")||(Object.defineProperty(t.ready,"_mrb_define_module_function_id",{configurable:!0,get:function(){v("You are getting _mrb_define_module_function_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_module_function_id",{configurable:!0,set:function(){v("You are setting _mrb_define_module_function_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_method_search_vm")||(Object.defineProperty(t.ready,"_mrb_method_search_vm",{configurable:!0,get:function(){v("You are getting _mrb_method_search_vm on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_method_search_vm",{configurable:!0,set:function(){v("You are setting _mrb_method_search_vm on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_method_search")||(Object.defineProperty(t.ready,"_mrb_method_search",{configurable:!0,get:function(){v("You are getting _mrb_method_search on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_method_search",{configurable:!0,set:function(){v("You are setting _mrb_method_search on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_respond_to")||(Object.defineProperty(t.ready,"_mrb_obj_respond_to",{configurable:!0,get:function(){v("You are getting _mrb_obj_respond_to on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_respond_to",{configurable:!0,set:function(){v("You are setting _mrb_obj_respond_to on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_name")||(Object.defineProperty(t.ready,"_mrb_class_name",{configurable:!0,get:function(){v("You are getting _mrb_class_name on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_name",{configurable:!0,set:function(){v("You are setting _mrb_class_name on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ptr_to_str")||(Object.defineProperty(t.ready,"_mrb_ptr_to_str",{configurable:!0,get:function(){v("You are getting _mrb_ptr_to_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ptr_to_str",{configurable:!0,set:function(){v("You are setting _mrb_ptr_to_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_cat_str")||(Object.defineProperty(t.ready,"_mrb_str_cat_str",{configurable:!0,get:function(){v("You are getting _mrb_str_cat_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_cat_str",{configurable:!0,set:function(){v("You are setting _mrb_str_cat_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_module_new")||(Object.defineProperty(t.ready,"_mrb_module_new",{configurable:!0,get:function(){v("You are getting _mrb_module_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_module_new",{configurable:!0,set:function(){v("You are setting _mrb_module_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_alias_method")||(Object.defineProperty(t.ready,"_mrb_alias_method",{configurable:!0,get:function(){v("You are getting _mrb_alias_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_alias_method",{configurable:!0,set:function(){v("You are setting _mrb_alias_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_alias")||(Object.defineProperty(t.ready,"_mrb_define_alias",{configurable:!0,get:function(){v("You are getting _mrb_define_alias on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_alias",{configurable:!0,set:function(){v("You are setting _mrb_define_alias on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_alias_id")||(Object.defineProperty(t.ready,"_mrb_define_alias_id",{configurable:!0,get:function(){v("You are getting _mrb_define_alias_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_alias_id",{configurable:!0,set:function(){v("You are setting _mrb_define_alias_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_iv_get")||(Object.defineProperty(t.ready,"_mrb_iv_get",{configurable:!0,get:function(){v("You are getting _mrb_iv_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_iv_get",{configurable:!0,set:function(){v("You are setting _mrb_iv_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_any_to_s")||(Object.defineProperty(t.ready,"_mrb_any_to_s",{configurable:!0,get:function(){v("You are getting _mrb_any_to_s on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_any_to_s",{configurable:!0,set:function(){v("You are setting _mrb_any_to_s on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_undef_method_id")||(Object.defineProperty(t.ready,"_mrb_undef_method_id",{configurable:!0,get:function(){v("You are getting _mrb_undef_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_undef_method_id",{configurable:!0,set:function(){v("You are setting _mrb_undef_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_undef_method")||(Object.defineProperty(t.ready,"_mrb_undef_method",{configurable:!0,get:function(){v("You are getting _mrb_undef_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_undef_method",{configurable:!0,set:function(){v("You are setting _mrb_undef_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_undef_class_method_id")||(Object.defineProperty(t.ready,"_mrb_undef_class_method_id",{configurable:!0,get:function(){v("You are getting _mrb_undef_class_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_undef_class_method_id",{configurable:!0,set:function(){v("You are setting _mrb_undef_class_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_undef_class_method")||(Object.defineProperty(t.ready,"_mrb_undef_class_method",{configurable:!0,get:function(){v("You are getting _mrb_undef_class_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_undef_class_method",{configurable:!0,set:function(){v("You are setting _mrb_undef_class_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_remove_method")||(Object.defineProperty(t.ready,"_mrb_remove_method",{configurable:!0,get:function(){v("You are getting _mrb_remove_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_remove_method",{configurable:!0,set:function(){v("You are setting _mrb_remove_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_iv_copy")||(Object.defineProperty(t.ready,"_mrb_iv_copy",{configurable:!0,get:function(){v("You are getting _mrb_iv_copy on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_iv_copy",{configurable:!0,set:function(){v("You are setting _mrb_iv_copy on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_iv_remove")||(Object.defineProperty(t.ready,"_mrb_iv_remove",{configurable:!0,get:function(){v("You are getting _mrb_iv_remove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_iv_remove",{configurable:!0,set:function(){v("You are setting _mrb_iv_remove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_dup")||(Object.defineProperty(t.ready,"_mrb_obj_dup",{configurable:!0,get:function(){v("You are getting _mrb_obj_dup on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_dup",{configurable:!0,set:function(){v("You are setting _mrb_obj_dup on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_const_id")||(Object.defineProperty(t.ready,"_mrb_define_const_id",{configurable:!0,get:function(){v("You are getting _mrb_define_const_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_const_id",{configurable:!0,set:function(){v("You are setting _mrb_define_const_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_yield_with_class")||(Object.defineProperty(t.ready,"_mrb_yield_with_class",{configurable:!0,get:function(){v("You are getting _mrb_yield_with_class on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_yield_with_class",{configurable:!0,set:function(){v("You are setting _mrb_yield_with_class on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ensure_string_type")||(Object.defineProperty(t.ready,"_mrb_ensure_string_type",{configurable:!0,get:function(){v("You are getting _mrb_ensure_string_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ensure_string_type",{configurable:!0,set:function(){v("You are setting _mrb_ensure_string_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_index")||(Object.defineProperty(t.ready,"_mrb_str_index",{configurable:!0,get:function(){v("You are getting _mrb_str_index on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_index",{configurable:!0,set:function(){v("You are setting _mrb_str_index on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_const_set")||(Object.defineProperty(t.ready,"_mrb_const_set",{configurable:!0,get:function(){v("You are getting _mrb_const_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_const_set",{configurable:!0,set:function(){v("You are setting _mrb_const_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_calloc")||(Object.defineProperty(t.ready,"_mrb_calloc",{configurable:!0,get:function(){v("You are getting _mrb_calloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_calloc",{configurable:!0,set:function(){v("You are setting _mrb_calloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_alloca")||(Object.defineProperty(t.ready,"_mrb_alloca",{configurable:!0,get:function(){v("You are getting _mrb_alloca on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_alloca",{configurable:!0,set:function(){v("You are setting _mrb_alloca on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_iv_name_sym_check")||(Object.defineProperty(t.ready,"_mrb_iv_name_sym_check",{configurable:!0,get:function(){v("You are getting _mrb_iv_name_sym_check on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_iv_name_sym_check",{configurable:!0,set:function(){v("You are setting _mrb_iv_name_sym_check on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_proc_new_cfunc_with_env")||(Object.defineProperty(t.ready,"_mrb_proc_new_cfunc_with_env",{configurable:!0,get:function(){v("You are getting _mrb_proc_new_cfunc_with_env on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_proc_new_cfunc_with_env",{configurable:!0,set:function(){v("You are setting _mrb_proc_new_cfunc_with_env on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_proc_cfunc_env_get")||(Object.defineProperty(t.ready,"_mrb_proc_cfunc_env_get",{configurable:!0,get:function(){v("You are getting _mrb_proc_cfunc_env_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_proc_cfunc_env_get",{configurable:!0,set:function(){v("You are setting _mrb_proc_cfunc_env_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_proc_new_cfunc")||(Object.defineProperty(t.ready,"_mrb_proc_new_cfunc",{configurable:!0,get:function(){v("You are getting _mrb_proc_new_cfunc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_proc_new_cfunc",{configurable:!0,set:function(){v("You are setting _mrb_proc_new_cfunc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_closure_new_cfunc")||(Object.defineProperty(t.ready,"_mrb_closure_new_cfunc",{configurable:!0,get:function(){v("You are getting _mrb_closure_new_cfunc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_closure_new_cfunc",{configurable:!0,set:function(){v("You are setting _mrb_closure_new_cfunc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_iv_foreach")||(Object.defineProperty(t.ready,"_mrb_iv_foreach",{configurable:!0,get:function(){v("You are getting _mrb_iv_foreach on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_iv_foreach",{configurable:!0,set:function(){v("You are setting _mrb_iv_foreach on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_iv_defined")||(Object.defineProperty(t.ready,"_mrb_iv_defined",{configurable:!0,get:function(){v("You are getting _mrb_iv_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_iv_defined",{configurable:!0,set:function(){v("You are setting _mrb_iv_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_iv_name_sym_p")||(Object.defineProperty(t.ready,"_mrb_iv_name_sym_p",{configurable:!0,get:function(){v("You are getting _mrb_iv_name_sym_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_iv_name_sym_p",{configurable:!0,set:function(){v("You are setting _mrb_iv_name_sym_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_cat_cstr")||(Object.defineProperty(t.ready,"_mrb_str_cat_cstr",{configurable:!0,get:function(){v("You are getting _mrb_str_cat_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_cat_cstr",{configurable:!0,set:function(){v("You are setting _mrb_str_cat_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_cv_get")||(Object.defineProperty(t.ready,"_mrb_cv_get",{configurable:!0,get:function(){v("You are getting _mrb_cv_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_cv_get",{configurable:!0,set:function(){v("You are setting _mrb_cv_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_mod_cv_set")||(Object.defineProperty(t.ready,"_mrb_mod_cv_set",{configurable:!0,get:function(){v("You are getting _mrb_mod_cv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_mod_cv_set",{configurable:!0,set:function(){v("You are setting _mrb_mod_cv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_cv_set")||(Object.defineProperty(t.ready,"_mrb_cv_set",{configurable:!0,get:function(){v("You are getting _mrb_cv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_cv_set",{configurable:!0,set:function(){v("You are setting _mrb_cv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_cv_defined")||(Object.defineProperty(t.ready,"_mrb_cv_defined",{configurable:!0,get:function(){v("You are getting _mrb_cv_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_cv_defined",{configurable:!0,set:function(){v("You are setting _mrb_cv_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_const_remove")||(Object.defineProperty(t.ready,"_mrb_const_remove",{configurable:!0,get:function(){v("You are getting _mrb_const_remove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_const_remove",{configurable:!0,set:function(){v("You are setting _mrb_const_remove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_gv_get")||(Object.defineProperty(t.ready,"_mrb_gv_get",{configurable:!0,get:function(){v("You are getting _mrb_gv_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_gv_get",{configurable:!0,set:function(){v("You are setting _mrb_gv_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_gv_remove")||(Object.defineProperty(t.ready,"_mrb_gv_remove",{configurable:!0,get:function(){v("You are getting _mrb_gv_remove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_gv_remove",{configurable:!0,set:function(){v("You are setting _mrb_gv_remove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_float_to_str")||(Object.defineProperty(t.ready,"_mrb_float_to_str",{configurable:!0,get:function(){v("You are getting _mrb_float_to_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_float_to_str",{configurable:!0,set:function(){v("You are setting _mrb_float_to_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_float_to_cstr")||(Object.defineProperty(t.ready,"_mrb_float_to_cstr",{configurable:!0,get:function(){v("You are getting _mrb_float_to_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_float_to_cstr",{configurable:!0,set:function(){v("You are setting _mrb_float_to_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_eq")||(Object.defineProperty(t.ready,"_mrb_obj_eq",{configurable:!0,get:function(){v("You are getting _mrb_obj_eq on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_eq",{configurable:!0,set:function(){v("You are setting _mrb_obj_eq on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_equal")||(Object.defineProperty(t.ready,"_mrb_equal",{configurable:!0,get:function(){v("You are getting _mrb_equal on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_equal",{configurable:!0,set:function(){v("You are setting _mrb_equal on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_freeze")||(Object.defineProperty(t.ready,"_mrb_obj_freeze",{configurable:!0,get:function(){v("You are getting _mrb_obj_freeze on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_freeze",{configurable:!0,set:function(){v("You are setting _mrb_obj_freeze on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_type_convert")||(Object.defineProperty(t.ready,"_mrb_type_convert",{configurable:!0,get:function(){v("You are getting _mrb_type_convert on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_type_convert",{configurable:!0,set:function(){v("You are setting _mrb_type_convert on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_type_convert_check")||(Object.defineProperty(t.ready,"_mrb_type_convert_check",{configurable:!0,get:function(){v("You are getting _mrb_type_convert_check on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_type_convert_check",{configurable:!0,set:function(){v("You are setting _mrb_type_convert_check on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_flo_to_fixnum")||(Object.defineProperty(t.ready,"_mrb_flo_to_fixnum",{configurable:!0,get:function(){v("You are getting _mrb_flo_to_fixnum on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_flo_to_fixnum",{configurable:!0,set:function(){v("You are setting _mrb_flo_to_fixnum on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_convert_to_integer")||(Object.defineProperty(t.ready,"_mrb_convert_to_integer",{configurable:!0,get:function(){v("You are getting _mrb_convert_to_integer on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_convert_to_integer",{configurable:!0,set:function(){v("You are setting _mrb_convert_to_integer on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_to_inum")||(Object.defineProperty(t.ready,"_mrb_str_to_inum",{configurable:!0,get:function(){v("You are getting _mrb_str_to_inum on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_to_inum",{configurable:!0,set:function(){v("You are setting _mrb_str_to_inum on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_check_string_type")||(Object.defineProperty(t.ready,"_mrb_check_string_type",{configurable:!0,get:function(){v("You are getting _mrb_check_string_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_check_string_type",{configurable:!0,set:function(){v("You are setting _mrb_check_string_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_Integer")||(Object.defineProperty(t.ready,"_mrb_Integer",{configurable:!0,get:function(){v("You are getting _mrb_Integer on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_Integer",{configurable:!0,set:function(){v("You are setting _mrb_Integer on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_Float")||(Object.defineProperty(t.ready,"_mrb_Float",{configurable:!0,get:function(){v("You are getting _mrb_Float on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_Float",{configurable:!0,set:function(){v("You are setting _mrb_Float on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_to_dbl")||(Object.defineProperty(t.ready,"_mrb_str_to_dbl",{configurable:!0,get:function(){v("You are getting _mrb_str_to_dbl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_to_dbl",{configurable:!0,set:function(){v("You are setting _mrb_str_to_dbl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_string_type")||(Object.defineProperty(t.ready,"_mrb_string_type",{configurable:!0,get:function(){v("You are getting _mrb_string_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_string_type",{configurable:!0,set:function(){v("You are setting _mrb_string_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ensure_array_type")||(Object.defineProperty(t.ready,"_mrb_ensure_array_type",{configurable:!0,get:function(){v("You are getting _mrb_ensure_array_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ensure_array_type",{configurable:!0,set:function(){v("You are setting _mrb_ensure_array_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_check_array_type")||(Object.defineProperty(t.ready,"_mrb_check_array_type",{configurable:!0,get:function(){v("You are getting _mrb_check_array_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_check_array_type",{configurable:!0,set:function(){v("You are setting _mrb_check_array_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ensure_hash_type")||(Object.defineProperty(t.ready,"_mrb_ensure_hash_type",{configurable:!0,get:function(){v("You are getting _mrb_ensure_hash_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ensure_hash_type",{configurable:!0,set:function(){v("You are setting _mrb_ensure_hash_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_check_hash_type")||(Object.defineProperty(t.ready,"_mrb_check_hash_type",{configurable:!0,get:function(){v("You are getting _mrb_check_hash_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_check_hash_type",{configurable:!0,set:function(){v("You are setting _mrb_check_hash_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_eql")||(Object.defineProperty(t.ready,"_mrb_eql",{configurable:!0,get:function(){v("You are getting _mrb_eql on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_eql",{configurable:!0,set:function(){v("You are setting _mrb_eql on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_inspect")||(Object.defineProperty(t.ready,"_mrb_obj_inspect",{configurable:!0,get:function(){v("You are getting _mrb_obj_inspect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_inspect",{configurable:!0,set:function(){v("You are setting _mrb_obj_inspect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_is_instance_of")||(Object.defineProperty(t.ready,"_mrb_obj_is_instance_of",{configurable:!0,get:function(){v("You are getting _mrb_obj_is_instance_of on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_is_instance_of",{configurable:!0,set:function(){v("You are setting _mrb_obj_is_instance_of on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_f_raise")||(Object.defineProperty(t.ready,"_mrb_f_raise",{configurable:!0,get:function(){v("You are getting _mrb_f_raise on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_f_raise",{configurable:!0,set:function(){v("You are setting _mrb_f_raise on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_entry")||(Object.defineProperty(t.ready,"_mrb_ary_entry",{configurable:!0,get:function(){v("You are getting _mrb_ary_entry on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_entry",{configurable:!0,set:function(){v("You are setting _mrb_ary_entry on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_realloc")||(Object.defineProperty(t.ready,"_mrb_realloc",{configurable:!0,get:function(){v("You are getting _mrb_realloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_realloc",{configurable:!0,set:function(){v("You are setting _mrb_realloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_strlen")||(Object.defineProperty(t.ready,"_mrb_str_strlen",{configurable:!0,get:function(){v("You are getting _mrb_str_strlen on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_strlen",{configurable:!0,set:function(){v("You are setting _mrb_str_strlen on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_modify_keep_ascii")||(Object.defineProperty(t.ready,"_mrb_str_modify_keep_ascii",{configurable:!0,get:function(){v("You are getting _mrb_str_modify_keep_ascii on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_modify_keep_ascii",{configurable:!0,set:function(){v("You are setting _mrb_str_modify_keep_ascii on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_modify")||(Object.defineProperty(t.ready,"_mrb_str_modify",{configurable:!0,get:function(){v("You are getting _mrb_str_modify on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_modify",{configurable:!0,set:function(){v("You are setting _mrb_str_modify on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_resize")||(Object.defineProperty(t.ready,"_mrb_str_resize",{configurable:!0,get:function(){v("You are getting _mrb_str_resize on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_resize",{configurable:!0,set:function(){v("You are setting _mrb_str_resize on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_to_cstr")||(Object.defineProperty(t.ready,"_mrb_str_to_cstr",{configurable:!0,get:function(){v("You are getting _mrb_str_to_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_to_cstr",{configurable:!0,set:function(){v("You are setting _mrb_str_to_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_concat")||(Object.defineProperty(t.ready,"_mrb_str_concat",{configurable:!0,get:function(){v("You are getting _mrb_str_concat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_concat",{configurable:!0,set:function(){v("You are setting _mrb_str_concat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_fixnum_to_str")||(Object.defineProperty(t.ready,"_mrb_fixnum_to_str",{configurable:!0,get:function(){v("You are getting _mrb_fixnum_to_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_fixnum_to_str",{configurable:!0,set:function(){v("You are setting _mrb_fixnum_to_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_plus")||(Object.defineProperty(t.ready,"_mrb_str_plus",{configurable:!0,get:function(){v("You are getting _mrb_str_plus on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_plus",{configurable:!0,set:function(){v("You are setting _mrb_str_plus on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_cmp")||(Object.defineProperty(t.ready,"_mrb_str_cmp",{configurable:!0,get:function(){v("You are getting _mrb_str_cmp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_cmp",{configurable:!0,set:function(){v("You are setting _mrb_str_cmp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_equal")||(Object.defineProperty(t.ready,"_mrb_str_equal",{configurable:!0,get:function(){v("You are getting _mrb_str_equal on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_equal",{configurable:!0,set:function(){v("You are setting _mrb_str_equal on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_substr")||(Object.defineProperty(t.ready,"_mrb_str_substr",{configurable:!0,get:function(){v("You are getting _mrb_str_substr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_substr",{configurable:!0,set:function(){v("You are setting _mrb_str_substr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_intern")||(Object.defineProperty(t.ready,"_mrb_str_intern",{configurable:!0,get:function(){v("You are getting _mrb_str_intern on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_intern",{configurable:!0,set:function(){v("You are setting _mrb_str_intern on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_cstr_to_inum")||(Object.defineProperty(t.ready,"_mrb_cstr_to_inum",{configurable:!0,get:function(){v("You are getting _mrb_cstr_to_inum on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_cstr_to_inum",{configurable:!0,set:function(){v("You are setting _mrb_cstr_to_inum on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_string_value_cstr")||(Object.defineProperty(t.ready,"_mrb_string_value_cstr",{configurable:!0,get:function(){v("You are getting _mrb_string_value_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_string_value_cstr",{configurable:!0,set:function(){v("You are setting _mrb_string_value_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_float_read")||(Object.defineProperty(t.ready,"_mrb_float_read",{configurable:!0,get:function(){v("You are getting _mrb_float_read on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_float_read",{configurable:!0,set:function(){v("You are setting _mrb_float_read on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_cstr_to_dbl")||(Object.defineProperty(t.ready,"_mrb_cstr_to_dbl",{configurable:!0,get:function(){v("You are getting _mrb_cstr_to_dbl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_cstr_to_dbl",{configurable:!0,set:function(){v("You are setting _mrb_cstr_to_dbl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_append")||(Object.defineProperty(t.ready,"_mrb_str_append",{configurable:!0,get:function(){v("You are getting _mrb_str_append on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_append",{configurable:!0,set:function(){v("You are setting _mrb_str_append on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ensure")||(Object.defineProperty(t.ready,"_mrb_ensure",{configurable:!0,get:function(){v("You are getting _mrb_ensure on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ensure",{configurable:!0,set:function(){v("You are setting _mrb_ensure on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_rescue")||(Object.defineProperty(t.ready,"_mrb_rescue",{configurable:!0,get:function(){v("You are getting _mrb_rescue on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_rescue",{configurable:!0,set:function(){v("You are setting _mrb_rescue on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_rescue_exceptions")||(Object.defineProperty(t.ready,"_mrb_rescue_exceptions",{configurable:!0,get:function(){v("You are getting _mrb_rescue_exceptions on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_rescue_exceptions",{configurable:!0,set:function(){v("You are setting _mrb_rescue_exceptions on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_realloc_simple")||(Object.defineProperty(t.ready,"_mrb_realloc_simple",{configurable:!0,get:function(){v("You are getting _mrb_realloc_simple on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_realloc_simple",{configurable:!0,set:function(){v("You are setting _mrb_realloc_simple on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_malloc_simple")||(Object.defineProperty(t.ready,"_mrb_malloc_simple",{configurable:!0,get:function(){v("You are getting _mrb_malloc_simple on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_malloc_simple",{configurable:!0,set:function(){v("You are setting _mrb_malloc_simple on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_object_dead_p")||(Object.defineProperty(t.ready,"_mrb_object_dead_p",{configurable:!0,get:function(){v("You are getting _mrb_object_dead_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_object_dead_p",{configurable:!0,set:function(){v("You are setting _mrb_object_dead_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_gc_register")||(Object.defineProperty(t.ready,"_mrb_gc_register",{configurable:!0,get:function(){v("You are getting _mrb_gc_register on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_gc_register",{configurable:!0,set:function(){v("You are setting _mrb_gc_register on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_gc_unregister")||(Object.defineProperty(t.ready,"_mrb_gc_unregister",{configurable:!0,get:function(){v("You are getting _mrb_gc_unregister on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_gc_unregister",{configurable:!0,set:function(){v("You are setting _mrb_gc_unregister on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_modify")||(Object.defineProperty(t.ready,"_mrb_ary_modify",{configurable:!0,get:function(){v("You are getting _mrb_ary_modify on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_modify",{configurable:!0,set:function(){v("You are setting _mrb_ary_modify on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_garbage_collect")||(Object.defineProperty(t.ready,"_mrb_garbage_collect",{configurable:!0,get:function(){v("You are getting _mrb_garbage_collect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_garbage_collect",{configurable:!0,set:function(){v("You are setting _mrb_garbage_collect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_free_context")||(Object.defineProperty(t.ready,"_mrb_free_context",{configurable:!0,get:function(){v("You are getting _mrb_free_context on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_free_context",{configurable:!0,set:function(){v("You are setting _mrb_free_context on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_stack_extend")||(Object.defineProperty(t.ready,"_mrb_stack_extend",{configurable:!0,get:function(){v("You are getting _mrb_stack_extend on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_stack_extend",{configurable:!0,set:function(){v("You are setting _mrb_stack_extend on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_vm_run")||(Object.defineProperty(t.ready,"_mrb_vm_run",{configurable:!0,get:function(){v("You are getting _mrb_vm_run on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_vm_run",{configurable:!0,set:function(){v("You are setting _mrb_vm_run on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_yield_argv")||(Object.defineProperty(t.ready,"_mrb_yield_argv",{configurable:!0,get:function(){v("You are getting _mrb_yield_argv on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_yield_argv",{configurable:!0,set:function(){v("You are setting _mrb_yield_argv on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_vm_exec")||(Object.defineProperty(t.ready,"_mrb_vm_exec",{configurable:!0,get:function(){v("You are getting _mrb_vm_exec on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_vm_exec",{configurable:!0,set:function(){v("You are setting _mrb_vm_exec on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_range_new")||(Object.defineProperty(t.ready,"_mrb_range_new",{configurable:!0,get:function(){v("You are getting _mrb_range_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_range_new",{configurable:!0,set:function(){v("You are setting _mrb_range_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_merge")||(Object.defineProperty(t.ready,"_mrb_hash_merge",{configurable:!0,get:function(){v("You are getting _mrb_hash_merge on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_merge",{configurable:!0,set:function(){v("You are setting _mrb_hash_merge on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_top_run")||(Object.defineProperty(t.ready,"_mrb_top_run",{configurable:!0,get:function(){v("You are getting _mrb_top_run on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_top_run",{configurable:!0,set:function(){v("You are setting _mrb_top_run on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_foreach")||(Object.defineProperty(t.ready,"_mrb_hash_foreach",{configurable:!0,get:function(){v("You are getting _mrb_hash_foreach on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_foreach",{configurable:!0,set:function(){v("You are setting _mrb_hash_foreach on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_fetch")||(Object.defineProperty(t.ready,"_mrb_hash_fetch",{configurable:!0,get:function(){v("You are getting _mrb_hash_fetch on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_fetch",{configurable:!0,set:function(){v("You are setting _mrb_hash_fetch on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_clear")||(Object.defineProperty(t.ready,"_mrb_hash_clear",{configurable:!0,get:function(){v("You are getting _mrb_hash_clear on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_clear",{configurable:!0,set:function(){v("You are setting _mrb_hash_clear on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_size")||(Object.defineProperty(t.ready,"_mrb_hash_size",{configurable:!0,get:function(){v("You are getting _mrb_hash_size on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_size",{configurable:!0,set:function(){v("You are setting _mrb_hash_size on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_values")||(Object.defineProperty(t.ready,"_mrb_hash_values",{configurable:!0,get:function(){v("You are getting _mrb_hash_values on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_values",{configurable:!0,set:function(){v("You are setting _mrb_hash_values on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_print_error")||(Object.defineProperty(t.ready,"_mrb_print_error",{configurable:!0,get:function(){v("You are getting _mrb_print_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_print_error",{configurable:!0,set:function(){v("You are setting _mrb_print_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_print_backtrace")||(Object.defineProperty(t.ready,"_mrb_print_backtrace",{configurable:!0,get:function(){v("You are getting _mrb_print_backtrace on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_print_backtrace",{configurable:!0,set:function(){v("You are setting _mrb_print_backtrace on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_show_version")||(Object.defineProperty(t.ready,"_mrb_show_version",{configurable:!0,get:function(){v("You are getting _mrb_show_version on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_show_version",{configurable:!0,set:function(){v("You are setting _mrb_show_version on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_show_copyright")||(Object.defineProperty(t.ready,"_mrb_show_copyright",{configurable:!0,get:function(){v("You are getting _mrb_show_copyright on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_show_copyright",{configurable:!0,set:function(){v("You are setting _mrb_show_copyright on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_num_mul")||(Object.defineProperty(t.ready,"_mrb_num_mul",{configurable:!0,get:function(){v("You are getting _mrb_num_mul on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_num_mul",{configurable:!0,set:function(){v("You are setting _mrb_num_mul on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_num_plus")||(Object.defineProperty(t.ready,"_mrb_num_plus",{configurable:!0,get:function(){v("You are getting _mrb_num_plus on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_num_plus",{configurable:!0,set:function(){v("You are setting _mrb_num_plus on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_num_minus")||(Object.defineProperty(t.ready,"_mrb_num_minus",{configurable:!0,get:function(){v("You are getting _mrb_num_minus on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_num_minus",{configurable:!0,set:function(){v("You are setting _mrb_num_minus on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_cmp")||(Object.defineProperty(t.ready,"_mrb_cmp",{configurable:!0,get:function(){v("You are getting _mrb_cmp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_cmp",{configurable:!0,set:function(){v("You are setting _mrb_cmp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_range_excl")||(Object.defineProperty(t.ready,"_mrb_sys_range_excl",{configurable:!0,get:function(){v("You are getting _mrb_sys_range_excl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_range_excl",{configurable:!0,set:function(){v("You are setting _mrb_sys_range_excl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_range_ptr")||(Object.defineProperty(t.ready,"_mrb_range_ptr",{configurable:!0,get:function(){v("You are getting _mrb_range_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_range_ptr",{configurable:!0,set:function(){v("You are setting _mrb_range_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_obj_ptr")||(Object.defineProperty(t.ready,"_mrb_sys_obj_ptr",{configurable:!0,get:function(){v("You are getting _mrb_sys_obj_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_obj_ptr",{configurable:!0,set:function(){v("You are setting _mrb_sys_obj_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_proc_ptr")||(Object.defineProperty(t.ready,"_mrb_sys_proc_ptr",{configurable:!0,get:function(){v("You are getting _mrb_sys_proc_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_proc_ptr",{configurable:!0,set:function(){v("You are setting _mrb_sys_proc_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_class_to_rclass")||(Object.defineProperty(t.ready,"_mrb_sys_class_to_rclass",{configurable:!0,get:function(){v("You are getting _mrb_sys_class_to_rclass on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_class_to_rclass",{configurable:!0,set:function(){v("You are setting _mrb_sys_class_to_rclass on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_data_value")||(Object.defineProperty(t.ready,"_mrb_sys_data_value",{configurable:!0,get:function(){v("You are getting _mrb_sys_data_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_data_value",{configurable:!0,set:function(){v("You are setting _mrb_sys_data_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_proc_value")||(Object.defineProperty(t.ready,"_mrb_sys_proc_value",{configurable:!0,get:function(){v("You are getting _mrb_sys_proc_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_proc_value",{configurable:!0,set:function(){v("You are setting _mrb_sys_proc_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_raise_current_exception")||(Object.defineProperty(t.ready,"_mrb_sys_raise_current_exception",{configurable:!0,get:function(){v("You are getting _mrb_sys_raise_current_exception on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_raise_current_exception",{configurable:!0,set:function(){v("You are setting _mrb_sys_raise_current_exception on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_debug_get_filename")||(Object.defineProperty(t.ready,"_mrb_debug_get_filename",{configurable:!0,get:function(){v("You are getting _mrb_debug_get_filename on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_debug_get_filename",{configurable:!0,set:function(){v("You are setting _mrb_debug_get_filename on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_debug_get_line")||(Object.defineProperty(t.ready,"_mrb_debug_get_line",{configurable:!0,get:function(){v("You are getting _mrb_debug_get_line on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_debug_get_line",{configurable:!0,set:function(){v("You are setting _mrb_debug_get_line on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_debug_info_alloc")||(Object.defineProperty(t.ready,"_mrb_debug_info_alloc",{configurable:!0,get:function(){v("You are getting _mrb_debug_info_alloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_debug_info_alloc",{configurable:!0,set:function(){v("You are setting _mrb_debug_info_alloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_debug_info_append_file")||(Object.defineProperty(t.ready,"_mrb_debug_info_append_file",{configurable:!0,get:function(){v("You are getting _mrb_debug_info_append_file on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_debug_info_append_file",{configurable:!0,set:function(){v("You are setting _mrb_debug_info_append_file on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_debug_info_free")||(Object.defineProperty(t.ready,"_mrb_debug_info_free",{configurable:!0,get:function(){v("You are getting _mrb_debug_info_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_debug_info_free",{configurable:!0,set:function(){v("You are setting _mrb_debug_info_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_parser_parse")||(Object.defineProperty(t.ready,"_mrb_parser_parse",{configurable:!0,get:function(){v("You are getting _mrb_parser_parse on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_parser_parse",{configurable:!0,set:function(){v("You are setting _mrb_parser_parse on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_parser_set_filename")||(Object.defineProperty(t.ready,"_mrb_parser_set_filename",{configurable:!0,get:function(){v("You are getting _mrb_parser_set_filename on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_parser_set_filename",{configurable:!0,set:function(){v("You are setting _mrb_parser_set_filename on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_parser_new")||(Object.defineProperty(t.ready,"_mrb_parser_new",{configurable:!0,get:function(){v("You are getting _mrb_parser_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_parser_new",{configurable:!0,set:function(){v("You are setting _mrb_parser_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_parser_free")||(Object.defineProperty(t.ready,"_mrb_parser_free",{configurable:!0,get:function(){v("You are getting _mrb_parser_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_parser_free",{configurable:!0,set:function(){v("You are setting _mrb_parser_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_pool_alloc")||(Object.defineProperty(t.ready,"_mrb_pool_alloc",{configurable:!0,get:function(){v("You are getting _mrb_pool_alloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_pool_alloc",{configurable:!0,set:function(){v("You are setting _mrb_pool_alloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_pool_open")||(Object.defineProperty(t.ready,"_mrb_pool_open",{configurable:!0,get:function(){v("You are getting _mrb_pool_open on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_pool_open",{configurable:!0,set:function(){v("You are setting _mrb_pool_open on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_pool_close")||(Object.defineProperty(t.ready,"_mrb_pool_close",{configurable:!0,get:function(){v("You are getting _mrb_pool_close on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_pool_close",{configurable:!0,set:function(){v("You are setting _mrb_pool_close on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrbc_partial_hook")||(Object.defineProperty(t.ready,"_mrbc_partial_hook",{configurable:!0,get:function(){v("You are getting _mrbc_partial_hook on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrbc_partial_hook",{configurable:!0,set:function(){v("You are setting _mrbc_partial_hook on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrbc_cleanup_local_variables")||(Object.defineProperty(t.ready,"_mrbc_cleanup_local_variables",{configurable:!0,get:function(){v("You are getting _mrbc_cleanup_local_variables on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrbc_cleanup_local_variables",{configurable:!0,set:function(){v("You are setting _mrbc_cleanup_local_variables on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_parser_get_filename")||(Object.defineProperty(t.ready,"_mrb_parser_get_filename",{configurable:!0,get:function(){v("You are getting _mrb_parser_get_filename on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_parser_get_filename",{configurable:!0,set:function(){v("You are setting _mrb_parser_get_filename on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_parse_nstring")||(Object.defineProperty(t.ready,"_mrb_parse_nstring",{configurable:!0,get:function(){v("You are getting _mrb_parse_nstring on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_parse_nstring",{configurable:!0,set:function(){v("You are setting _mrb_parse_nstring on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_parse_string")||(Object.defineProperty(t.ready,"_mrb_parse_string",{configurable:!0,get:function(){v("You are getting _mrb_parse_string on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_parse_string",{configurable:!0,set:function(){v("You are setting _mrb_parse_string on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_load_exec")||(Object.defineProperty(t.ready,"_mrb_load_exec",{configurable:!0,get:function(){v("You are getting _mrb_load_exec on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_load_exec",{configurable:!0,set:function(){v("You are setting _mrb_load_exec on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_generate_code")||(Object.defineProperty(t.ready,"_mrb_generate_code",{configurable:!0,get:function(){v("You are getting _mrb_generate_code on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_generate_code",{configurable:!0,set:function(){v("You are setting _mrb_generate_code on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_load_nstring")||(Object.defineProperty(t.ready,"_mrb_load_nstring",{configurable:!0,get:function(){v("You are getting _mrb_load_nstring on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_load_nstring",{configurable:!0,set:function(){v("You are setting _mrb_load_nstring on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_load_string_cxt")||(Object.defineProperty(t.ready,"_mrb_load_string_cxt",{configurable:!0,get:function(){v("You are getting _mrb_load_string_cxt on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_load_string_cxt",{configurable:!0,set:function(){v("You are setting _mrb_load_string_cxt on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_load_string")||(Object.defineProperty(t.ready,"_mrb_load_string",{configurable:!0,get:function(){v("You are getting _mrb_load_string on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_load_string",{configurable:!0,set:function(){v("You are setting _mrb_load_string on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_pool_realloc")||(Object.defineProperty(t.ready,"_mrb_pool_realloc",{configurable:!0,get:function(){v("You are getting _mrb_pool_realloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_pool_realloc",{configurable:!0,set:function(){v("You are setting _mrb_pool_realloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_get_backtrace")||(Object.defineProperty(t.ready,"_mrb_get_backtrace",{configurable:!0,get:function(){v("You are getting _mrb_get_backtrace on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_get_backtrace",{configurable:!0,set:function(){v("You are setting _mrb_get_backtrace on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_add_irep")||(Object.defineProperty(t.ready,"_mrb_add_irep",{configurable:!0,get:function(){v("You are getting _mrb_add_irep on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_add_irep",{configurable:!0,set:function(){v("You are setting _mrb_add_irep on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_pool_can_realloc")||(Object.defineProperty(t.ready,"_mrb_pool_can_realloc",{configurable:!0,get:function(){v("You are getting _mrb_pool_can_realloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_pool_can_realloc",{configurable:!0,set:function(){v("You are setting _mrb_pool_can_realloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_state_atexit")||(Object.defineProperty(t.ready,"_mrb_state_atexit",{configurable:!0,get:function(){v("You are getting _mrb_state_atexit on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_state_atexit",{configurable:!0,set:function(){v("You are setting _mrb_state_atexit on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_open_core")||(Object.defineProperty(t.ready,"_mrb_open_core",{configurable:!0,get:function(){v("You are getting _mrb_open_core on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_open_core",{configurable:!0,set:function(){v("You are setting _mrb_open_core on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_open")||(Object.defineProperty(t.ready,"_mrb_open",{configurable:!0,get:function(){v("You are getting _mrb_open on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_open",{configurable:!0,set:function(){v("You are setting _mrb_open on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"onRuntimeInitialized")||(Object.defineProperty(t.ready,"onRuntimeInitialized",{configurable:!0,get:function(){v("You are getting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"onRuntimeInitialized",{configurable:!0,set:function(){v("You are setting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}));var o={},s;for(s in t)t.hasOwnProperty(s)&&(o[s]=t[s]);var a=[],l="./this.program",c=function(b,S){throw S},d=!0,h=!1,u=!1,f=!1;if(t.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)");var m="";function _(b){return t.locateFile?t.locateFile(b,m):m+b}var w,y,C,E;if(f){if(typeof process=="object"&&typeof YB=="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");typeof read<"u"&&(w=function(S){return read(S)}),C=function(S){var x;return typeof readbuffer=="function"?new Uint8Array(readbuffer(S)):(x=read(S,"binary"),Pe(typeof x=="object"),x)},y=function(S,x,O){setTimeout(function(){x(C(S))},0)},typeof scriptArgs<"u"?a=scriptArgs:typeof arguments<"u"&&(a=arguments),typeof quit=="function"&&(c=function(b){quit(b)}),typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)}else if(d||h){if(h?m=self.location.href:typeof document<"u"&&document.currentScript&&(m=document.currentScript.src),r&&(m=r),m.indexOf("blob:")!==0?m=m.substr(0,m.lastIndexOf("/")+1):m="",!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");w=function(b){var S=new XMLHttpRequest;return S.open("GET",b,!1),S.send(null),S.responseText},h&&(C=function(b){var S=new XMLHttpRequest;return S.open("GET",b,!1),S.responseType="arraybuffer",S.send(null),new Uint8Array(S.response)}),y=function(b,S,x){var O=new XMLHttpRequest;O.open("GET",b,!0),O.responseType="arraybuffer",O.onload=function(){if(O.status==200||O.status==0&&O.response){S(O.response);return}x()},O.onerror=x,O.send(null)},E=function(b){document.title=b}}else throw new Error("environment detection error");var L=t.print||console.log.bind(console),k=t.printErr||console.warn.bind(console);for(s in o)o.hasOwnProperty(s)&&(t[s]=o[s]);o=null,t.arguments&&(a=t.arguments),Object.getOwnPropertyDescriptor(t,"arguments")||Object.defineProperty(t,"arguments",{configurable:!0,get:function(){v("Module.arguments has been replaced with plain arguments_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),t.thisProgram&&(l=t.thisProgram),Object.getOwnPropertyDescriptor(t,"thisProgram")||Object.defineProperty(t,"thisProgram",{configurable:!0,get:function(){v("Module.thisProgram has been replaced with plain thisProgram (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),t.quit&&(c=t.quit),Object.getOwnPropertyDescriptor(t,"quit")||Object.defineProperty(t,"quit",{configurable:!0,get:function(){v("Module.quit has been replaced with plain quit_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Pe(typeof t.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),Pe(typeof t.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),Pe(typeof t.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),Pe(typeof t.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),Pe(typeof t.read>"u","Module.read option was removed (modify read_ in JS)"),Pe(typeof t.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),Pe(typeof t.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),Pe(typeof t.setWindowTitle>"u","Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),Pe(typeof t.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Object.getOwnPropertyDescriptor(t,"read")||Object.defineProperty(t,"read",{configurable:!0,get:function(){v("Module.read has been replaced with plain read_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(t,"readAsync")||Object.defineProperty(t,"readAsync",{configurable:!0,get:function(){v("Module.readAsync has been replaced with plain readAsync (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(t,"readBinary")||Object.defineProperty(t,"readBinary",{configurable:!0,get:function(){v("Module.readBinary has been replaced with plain readBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(t,"setWindowTitle")||Object.defineProperty(t,"setWindowTitle",{configurable:!0,get:function(){v("Module.setWindowTitle has been replaced with plain setWindowTitle (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Pe(!h,"worker environment detected but not enabled at build time.  Add 'worker' to `-s ENVIRONMENT` to enable."),Pe(!u,"node environment detected but not enabled at build time.  Add 'node' to `-s ENVIRONMENT` to enable."),Pe(!f,"shell environment detected but not enabled at build time.  Add 'shell' to `-s ENVIRONMENT` to enable.");function M(b){M.shown||(M.shown={}),M.shown[b]||(M.shown[b]=1,k(b))}function I(b,S){if(typeof WebAssembly.Function=="function"){for(var x={i:"i32",j:"i64",f:"f32",d:"f64"},O={parameters:[],results:S[0]=="v"?[]:[x[S[0]]]},A=1;A<S.length;++A)O.parameters.push(x[S[A]]);return new WebAssembly.Function(O,b)}var z=[1,0,1,96],Y=S.slice(0,1),Q=S.slice(1),pe={i:127,j:126,f:125,d:124};z.push(Q.length);for(var A=0;A<Q.length;++A)z.push(pe[Q[A]]);Y=="v"?z.push(0):z=z.concat([1,pe[Y]]),z[1]=z.length-2;var Me=new Uint8Array([0,97,115,109,1,0,0,0].concat(z,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),qe=new WebAssembly.Module(Me),bt=new WebAssembly.Instance(qe,{e:{f:b}}),et=bt.exports.f;return et}var T=[],R;function Z(){if(T.length)return T.pop();try{K.grow(1)}catch(b){throw b instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":b}return K.length-1}function q(b,S){if(!R){R=new WeakMap;for(var x=0;x<K.length;x++){var O=K.get(x);O&&R.set(O,x)}}if(R.has(b))return R.get(b);var A=Z();try{K.set(A,b)}catch(Y){if(!(Y instanceof TypeError))throw Y;Pe(typeof S<"u","Missing signature argument to addFunction: "+b);var z=I(b,S);K.set(A,z)}return R.set(b,A),A}var te=0,ne=function(b){te=b},Ne=function(){return te},Oe;t.wasmBinary&&(Oe=t.wasmBinary),Object.getOwnPropertyDescriptor(t,"wasmBinary")||Object.defineProperty(t,"wasmBinary",{configurable:!0,get:function(){v("Module.wasmBinary has been replaced with plain wasmBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}});var je=t.noExitRuntime||!0;Object.getOwnPropertyDescriptor(t,"noExitRuntime")||Object.defineProperty(t,"noExitRuntime",{configurable:!0,get:function(){v("Module.noExitRuntime has been replaced with plain noExitRuntime (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),typeof WebAssembly!="object"&&v("no native wasm support detected");var Ze,$e=!1,gt;function Pe(b,S){b||v("Assertion failed: "+S)}function _i(b){var S=t["_"+b];return Pe(S,"Cannot call unknown function "+b+", make sure it is exported"),S}function We(b,S,x,O,A){var z={string:function(mt){var Vn=0;if(mt!=null&&mt!==0){var Ms=(mt.length<<2)+1;Vn=AE(Ms),So(mt,Vn,Ms)}return Vn},array:function(mt){var Vn=AE(mt.length);return yl(mt,Vn),Vn}};function Y(mt){return S==="string"?Un(mt):S==="boolean"?Boolean(mt):mt}var Q=_i(b),pe=[],Me=0;if(Pe(S!=="array",'Return type should not be "array".'),O)for(var qe=0;qe<O.length;qe++){var bt=z[x[qe]];bt?(Me===0&&(Me=wi()),pe[qe]=bt(O[qe])):pe[qe]=O[qe]}var et=Q.apply(null,pe);function Nt(mt){return Me!==0&&Ci(Me),Y(mt)}return et=Nt(et),et}var Ue=1,ei=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function hn(b,S,x){for(var O=S+x,A=S;b[A]&&!(A>=O);)++A;if(A-S>16&&b.subarray&&ei)return ei.decode(b.subarray(S,A));for(var z="";S<A;){var Y=b[S++];if(!(Y&128)){z+=String.fromCharCode(Y);continue}var Q=b[S++]&63;if((Y&224)==192){z+=String.fromCharCode((Y&31)<<6|Q);continue}var pe=b[S++]&63;if((Y&240)==224?Y=(Y&15)<<12|Q<<6|pe:((Y&248)!=240&&M("Invalid UTF-8 leading byte 0x"+Y.toString(16)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),Y=(Y&7)<<18|Q<<12|pe<<6|b[S++]&63),Y<65536)z+=String.fromCharCode(Y);else{var Me=Y-65536;z+=String.fromCharCode(55296|Me>>10,56320|Me&1023)}}return z}function Un(b,S){return b?hn(Zr,b,S):""}function Wo(b,S,x,O){if(!(O>0))return 0;for(var A=x,z=x+O-1,Y=0;Y<b.length;++Y){var Q=b.charCodeAt(Y);if(Q>=55296&&Q<=57343){var pe=b.charCodeAt(++Y);Q=65536+((Q&1023)<<10)|pe&1023}if(Q<=127){if(x>=z)break;S[x++]=Q}else if(Q<=2047){if(x+1>=z)break;S[x++]=192|Q>>6,S[x++]=128|Q&63}else if(Q<=65535){if(x+2>=z)break;S[x++]=224|Q>>12,S[x++]=128|Q>>6&63,S[x++]=128|Q&63}else{if(x+3>=z)break;Q>=2097152&&M("Invalid Unicode code point 0x"+Q.toString(16)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x1FFFFF)."),S[x++]=240|Q>>18,S[x++]=128|Q>>12&63,S[x++]=128|Q>>6&63,S[x++]=128|Q&63}}return S[x]=0,x-A}function So(b,S,x){return Pe(typeof x=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),Wo(b,Zr,S,x)}function Yr(b){for(var S=0,x=0;x<b.length;++x){var O=b.charCodeAt(x);O>=55296&&O<=57343&&(O=65536+((O&1023)<<10)|b.charCodeAt(++x)&1023),O<=127?++S:O<=2047?S+=2:O<=65535?S+=3:S+=4}return S}var Ra=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function St(b){var S=Yr(b)+1,x=AE(S);return Wo(b,zn,x,S),x}function yl(b,S){Pe(b.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),zn.set(b,S)}function ed(b,S,x){for(var O=0;O<b.length;++O)Pe(b.charCodeAt(O)===b.charCodeAt(O)&255),zn[S++>>0]=b.charCodeAt(O);x||(zn[S>>0]=0)}var td,zn,Zr,Eh,id,Dt,ae,ie,oe;function j(b){td=b,t.HEAP8=zn=new Int8Array(b),t.HEAP16=Eh=new Int16Array(b),t.HEAP32=Dt=new Int32Array(b),t.HEAPU8=Zr=new Uint8Array(b),t.HEAPU16=id=new Uint16Array(b),t.HEAPU32=ae=new Uint32Array(b),t.HEAPF32=ie=new Float32Array(b),t.HEAPF64=oe=new Float64Array(b)}var U=5242880;t.TOTAL_STACK&&Pe(U===t.TOTAL_STACK,"the stack size can no longer be determined at runtime");var G=t.INITIAL_MEMORY||16777216;Object.getOwnPropertyDescriptor(t,"INITIAL_MEMORY")||Object.defineProperty(t,"INITIAL_MEMORY",{configurable:!0,get:function(){v("Module.INITIAL_MEMORY has been replaced with plain INITIAL_MEMORY (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Pe(G>=U,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+G+"! (TOTAL_STACK="+U+")"),Pe(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!==void 0&&Int32Array.prototype.set!==void 0,"JS engine does not provide full typed array support"),Pe(!t.wasmMemory,"Use of `wasmMemory` detected.  Use -s IMPORTED_MEMORY to define wasmMemory externally"),Pe(G==16777216,"Detected runtime INITIAL_MEMORY setting.  Use -s IMPORTED_MEMORY to define wasmMemory dynamically");var K;function ue(){var b=zN();Pe((b&3)==0),ae[(b>>2)+1]=34821223,ae[(b>>2)+2]=2310721022,Dt[0]=1668509029}function be(){if(!$e){var b=zN(),S=ae[(b>>2)+1],x=ae[(b>>2)+2];(S!=34821223||x!=2310721022)&&v("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+x.toString(16)+" "+S.toString(16)),Dt[0]!==1668509029&&v("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var b=new Int16Array(1),S=new Int8Array(b.buffer);if(b[0]=25459,S[0]!==115||S[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -s SUPPORT_BIG_ENDIAN=1 to bypass)"})();var it=[],Ge=[],Rt=[],Mt=[],Ii=!1,ri=!1,ct=0;function Pn(){return je||ct>0}function Ln(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)ps(t.preRun.shift());Zg(it)}function Ps(){be(),Pe(!Ii),Ii=!0,!t.noFSInit&&!P.init.initialized&&P.init(),P.ignorePermissions=!1,Lh.init(),Zg(Ge)}function vn(){be(),Zg(Rt)}function lo(){be(),ri=!0}function xh(){if(be(),t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)nd(t.postRun.shift());Zg(Mt)}function ps(b){it.unshift(b)}function Fa(b){Ge.unshift(b)}function nd(b){Mt.unshift(b)}Pe(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),Pe(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),Pe(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),Pe(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var Dr=0,ua=null,fa=null,Lr={};function rf(b){for(var S=b;;){if(!Lr[b])return b;b=S+Math.random()}}function sf(b){Dr++,t.monitorRunDependencies&&t.monitorRunDependencies(Dr),b?(Pe(!Lr[b]),Lr[b]=1,ua===null&&typeof setInterval<"u"&&(ua=setInterval(function(){if($e){clearInterval(ua),ua=null;return}var S=!1;for(var x in Lr)S||(S=!0,k("still waiting on run dependencies:")),k("dependency: "+x);S&&k("(end of list)")},1e4))):k("warning: run dependency added without ID")}function Yg(b){if(Dr--,t.monitorRunDependencies&&t.monitorRunDependencies(Dr),b?(Pe(Lr[b]),delete Lr[b]):k("warning: run dependency removed without ID"),Dr==0&&(ua!==null&&(clearInterval(ua),ua=null),fa)){var S=fa;fa=null,S()}}t.preloadedImages={},t.preloadedAudios={};function v(b){t.onAbort&&t.onAbort(b),b+="",k(b),$e=!0,gt=1;var S="abort("+b+") at "+sne();b=S;var x=new WebAssembly.RuntimeError(b);throw n(x),x}var Bt="data:application/octet-stream;base64,";function ce(b){return b.startsWith(Bt)}function Ke(b){return b.startsWith("file://")}function N(b,S){return function(){var x=b,O=S;return S||(O=t.asm),Pe(Ii,"native function `"+x+"` called before runtime initialization"),Pe(!ri,"native function `"+x+"` called after runtime exit (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),O[b]||Pe(O[b],"exported native function `"+x+"` not found"),O[b].apply(null,arguments)}}var ci;ci="playground.wasm",ce(ci)||(ci=_(ci));function cr(b){try{if(b==ci&&Oe)return new Uint8Array(Oe);if(C)return C(b);throw"both async and sync fetching of the wasm failed"}catch(S){v(S)}}function kr(){return!Oe&&(d||h)&&typeof fetch=="function"?fetch(ci,{credentials:"same-origin"}).then(function(b){if(!b.ok)throw"failed to load wasm binary file at '"+ci+"'";return b.arrayBuffer()}).catch(function(){return cr(ci)}):Promise.resolve().then(function(){return cr(ci)})}function Ir(){var b={env:UB,wasi_snapshot_preview1:UB};function S(Q,pe){var Me=Q.exports;t.asm=Me,Ze=t.asm.memory,Pe(Ze,"memory not found in wasm exports"),j(Ze.buffer),K=t.asm.__indirect_function_table,Pe(K,"table not found in wasm exports"),Fa(t.asm.__wasm_call_ctors),Yg("wasm-instantiate")}sf("wasm-instantiate");var x=t;function O(Q){Pe(t===x,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),x=null,S(Q.instance)}function A(Q){return kr().then(function(pe){var Me=WebAssembly.instantiate(pe,b);return Me}).then(Q,function(pe){k("failed to asynchronously prepare wasm: "+pe),Ke(ci)&&k("warning: Loading from a file URI ("+ci+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing"),v(pe)})}function z(){return!Oe&&typeof WebAssembly.instantiateStreaming=="function"&&!ce(ci)&&typeof fetch=="function"?fetch(ci,{credentials:"same-origin"}).then(function(Q){var pe=WebAssembly.instantiateStreaming(Q,b);return pe.then(O,function(Me){return k("wasm streaming compile failed: "+Me),k("falling back to ArrayBuffer instantiation"),A(O)})}):A(O)}if(t.instantiateWasm)try{var Y=t.instantiateWasm(b,S);return Y}catch(Q){return k("Module.instantiateWasm callback failed with error: "+Q),!1}return z().catch(n),{}}var Eo,Sl;function Zg(b){for(;b.length>0;){var S=b.shift();if(typeof S=="function"){S(t);continue}var x=S.func;typeof x=="number"?S.arg===void 0?K.get(x)():K.get(x)(S.arg):x(S.arg===void 0?null:S.arg)}}function MN(b){return M("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),b}function AN(b){var S=/\b_Z[\w\d_]+/g;return b.replace(S,function(x){var O=MN(x);return x===O?x:O+" ["+x+"]"})}function rne(){var b=new Error;if(!b.stack){try{throw new Error}catch(S){b=S}if(!b.stack)return"(no stack trace available)"}return b.stack.toString()}function sne(){var b=rne();return t.extraStackTrace&&(b+=`
`+t.extraStackTrace()),AN(b)}function ane(b){return zB(b+16)+16}function oC(b){this.excPtr=b,this.ptr=b-16,this.set_type=function(S){Dt[this.ptr+4>>2]=S},this.get_type=function(){return Dt[this.ptr+4>>2]},this.set_destructor=function(S){Dt[this.ptr+8>>2]=S},this.get_destructor=function(){return Dt[this.ptr+8>>2]},this.set_refcount=function(S){Dt[this.ptr>>2]=S},this.set_caught=function(S){S=S?1:0,zn[this.ptr+12>>0]=S},this.get_caught=function(){return zn[this.ptr+12>>0]!=0},this.set_rethrown=function(S){S=S?1:0,zn[this.ptr+13>>0]=S},this.get_rethrown=function(){return zn[this.ptr+13>>0]!=0},this.init=function(S,x){this.set_type(S),this.set_destructor(x),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var S=Dt[this.ptr>>2];Dt[this.ptr>>2]=S+1},this.release_ref=function(){var S=Dt[this.ptr>>2];return Dt[this.ptr>>2]=S-1,Pe(S>0),S===1}}function NE(b){this.free=function(){VB(this.ptr),this.ptr=0},this.set_base_ptr=function(S){Dt[this.ptr>>2]=S},this.get_base_ptr=function(){return Dt[this.ptr>>2]},this.set_adjusted_ptr=function(S){Dt[this.ptr+4>>2]=S},this.get_adjusted_ptr_addr=function(){return this.ptr+4},this.get_adjusted_ptr=function(){return Dt[this.ptr+4>>2]},this.get_exception_ptr=function(){var S=Une(this.get_exception_info().get_type());if(S)return Dt[this.get_base_ptr()>>2];var x=this.get_adjusted_ptr();return x!==0?x:this.get_base_ptr()},this.get_exception_info=function(){return new oC(this.get_base_ptr())},b===void 0?(this.ptr=zB(8),this.set_adjusted_ptr(0)):this.ptr=b}var RN=[];function lne(b){b.add_ref()}var AB=0;function cne(b){var S=new NE(b),x=S.get_exception_info();return x.get_caught()||(x.set_caught(!0),AB--),x.set_rethrown(!1),RN.push(S),lne(x),S.get_exception_ptr()}var j_=0;function dne(b){try{return VB(new oC(b).ptr)}catch(S){k("exception during cxa_free_exception: "+S)}}function hne(b){if(b.release_ref()&&!b.get_rethrown()){var S=b.get_destructor();S&&K.get(S)(b.excPtr),dne(b.excPtr)}}function une(){yi(0),Pe(RN.length>0);var b=RN.pop();hne(b.get_exception_info()),b.free(),j_=0}function fne(b){var S=new NE(b),x=S.get_base_ptr();throw j_||(j_=x),S.free(),x}function gne(){var b=j_;if(!b)return ne(0),0;var S=new oC(b),x=S.get_type(),O=new NE;if(O.set_base_ptr(b),O.set_adjusted_ptr(b),!x)return ne(0),O.ptr|0;for(var A=Array.prototype.slice.call(arguments),z=0;z<A.length;z++){var Y=A[z];if(Y===0||Y===x)break;if($B(Y,x,O.get_adjusted_ptr_addr()))return ne(Y),O.ptr|0}return ne(x),O.ptr|0}function mne(){var b=j_;if(!b)return ne(0),0;var S=new oC(b),x=S.get_type(),O=new NE;if(O.set_base_ptr(b),O.set_adjusted_ptr(b),!x)return ne(0),O.ptr|0;for(var A=Array.prototype.slice.call(arguments),z=0;z<A.length;z++){var Y=A[z];if(Y===0||Y===x)break;if($B(Y,x,O.get_adjusted_ptr_addr()))return ne(Y),O.ptr|0}return ne(x),O.ptr|0}function pne(b,S,x){var O=new oC(b);throw O.init(S,x),j_=b,AB++,b}function _ne(){k("missing function: __gxx_personality_v0"),v(-1)}var un={splitPath:function(b){var S=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return S.exec(b).slice(1)},normalizeArray:function(b,S){for(var x=0,O=b.length-1;O>=0;O--){var A=b[O];A==="."?b.splice(O,1):A===".."?(b.splice(O,1),x++):x&&(b.splice(O,1),x--)}if(S)for(;x;x--)b.unshift("..");return b},normalize:function(b){var S=b.charAt(0)==="/",x=b.substr(-1)==="/";return b=un.normalizeArray(b.split("/").filter(function(O){return!!O}),!S).join("/"),!b&&!S&&(b="."),b&&x&&(b+="/"),(S?"/":"")+b},dirname:function(b){var S=un.splitPath(b),x=S[0],O=S[1];return!x&&!O?".":(O&&(O=O.substr(0,O.length-1)),x+O)},basename:function(b){if(b==="/")return"/";b=un.normalize(b),b=b.replace(/\/$/,"");var S=b.lastIndexOf("/");return S===-1?b:b.substr(S+1)},extname:function(b){return un.splitPath(b)[3]},join:function(){var b=Array.prototype.slice.call(arguments,0);return un.normalize(b.join("/"))},join2:function(b,S){return un.normalize(b+"/"+S)}};function bne(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var b=new Uint8Array(1);return function(){return crypto.getRandomValues(b),b[0]}}else return function(){v("no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: function(array) { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")}}var Dh={resolve:function(){for(var b="",S=!1,x=arguments.length-1;x>=-1&&!S;x--){var O=x>=0?arguments[x]:P.cwd();if(typeof O!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!O)return"";b=O+"/"+b,S=O.charAt(0)==="/"}return b=un.normalizeArray(b.split("/").filter(function(A){return!!A}),!S).join("/"),(S?"/":"")+b||"."},relative:function(b,S){b=Dh.resolve(b).substr(1),S=Dh.resolve(S).substr(1);function x(Me){for(var qe=0;qe<Me.length&&Me[qe]==="";qe++);for(var bt=Me.length-1;bt>=0&&Me[bt]==="";bt--);return qe>bt?[]:Me.slice(qe,bt-qe+1)}for(var O=x(b.split("/")),A=x(S.split("/")),z=Math.min(O.length,A.length),Y=z,Q=0;Q<z;Q++)if(O[Q]!==A[Q]){Y=Q;break}for(var pe=[],Q=Y;Q<O.length;Q++)pe.push("..");return pe=pe.concat(A.slice(Y)),pe.join("/")}},Lh={ttys:[],init:function(){},shutdown:function(){},register:function(b,S){Lh.ttys[b]={input:[],output:[],ops:S},P.registerDevice(b,Lh.stream_ops)},stream_ops:{open:function(b){var S=Lh.ttys[b.node.rdev];if(!S)throw new P.ErrnoError(43);b.tty=S,b.seekable=!1},close:function(b){b.tty.ops.flush(b.tty)},flush:function(b){b.tty.ops.flush(b.tty)},read:function(b,S,x,O,A){if(!b.tty||!b.tty.ops.get_char)throw new P.ErrnoError(60);for(var z=0,Y=0;Y<O;Y++){var Q;try{Q=b.tty.ops.get_char(b.tty)}catch{throw new P.ErrnoError(29)}if(Q===void 0&&z===0)throw new P.ErrnoError(6);if(Q==null)break;z++,S[x+Y]=Q}return z&&(b.node.timestamp=Date.now()),z},write:function(b,S,x,O,A){if(!b.tty||!b.tty.ops.put_char)throw new P.ErrnoError(60);try{for(var z=0;z<O;z++)b.tty.ops.put_char(b.tty,S[x+z])}catch{throw new P.ErrnoError(29)}return O&&(b.node.timestamp=Date.now()),z}},default_tty_ops:{get_char:function(b){if(!b.input.length){var S=null;if(typeof window<"u"&&typeof window.prompt=="function"?(S=window.prompt("Input: "),S!==null&&(S+=`
`)):typeof readline=="function"&&(S=readline(),S!==null&&(S+=`
`)),!S)return null;b.input=UN(S,!0)}return b.input.shift()},put_char:function(b,S){S===null||S===10?(L(hn(b.output,0)),b.output=[]):S!=0&&b.output.push(S)},flush:function(b){b.output&&b.output.length>0&&(L(hn(b.output,0)),b.output=[])}},default_tty1_ops:{put_char:function(b,S){S===null||S===10?(k(hn(b.output,0)),b.output=[]):S!=0&&b.output.push(S)},flush:function(b){b.output&&b.output.length>0&&(k(hn(b.output,0)),b.output=[])}}};function vne(b){v("internal error: mmapAlloc called but `memalign` native symbol not exported")}var di={ops_table:null,mount:function(b){return di.createNode(null,"/",16895,0)},createNode:function(b,S,x,O){if(P.isBlkdev(x)||P.isFIFO(x))throw new P.ErrnoError(63);di.ops_table||(di.ops_table={dir:{node:{getattr:di.node_ops.getattr,setattr:di.node_ops.setattr,lookup:di.node_ops.lookup,mknod:di.node_ops.mknod,rename:di.node_ops.rename,unlink:di.node_ops.unlink,rmdir:di.node_ops.rmdir,readdir:di.node_ops.readdir,symlink:di.node_ops.symlink},stream:{llseek:di.stream_ops.llseek}},file:{node:{getattr:di.node_ops.getattr,setattr:di.node_ops.setattr},stream:{llseek:di.stream_ops.llseek,read:di.stream_ops.read,write:di.stream_ops.write,allocate:di.stream_ops.allocate,mmap:di.stream_ops.mmap,msync:di.stream_ops.msync}},link:{node:{getattr:di.node_ops.getattr,setattr:di.node_ops.setattr,readlink:di.node_ops.readlink},stream:{}},chrdev:{node:{getattr:di.node_ops.getattr,setattr:di.node_ops.setattr},stream:P.chrdev_stream_ops}});var A=P.createNode(b,S,x,O);return P.isDir(A.mode)?(A.node_ops=di.ops_table.dir.node,A.stream_ops=di.ops_table.dir.stream,A.contents={}):P.isFile(A.mode)?(A.node_ops=di.ops_table.file.node,A.stream_ops=di.ops_table.file.stream,A.usedBytes=0,A.contents=null):P.isLink(A.mode)?(A.node_ops=di.ops_table.link.node,A.stream_ops=di.ops_table.link.stream):P.isChrdev(A.mode)&&(A.node_ops=di.ops_table.chrdev.node,A.stream_ops=di.ops_table.chrdev.stream),A.timestamp=Date.now(),b&&(b.contents[S]=A,b.timestamp=A.timestamp),A},getFileDataAsTypedArray:function(b){return b.contents?b.contents.subarray?b.contents.subarray(0,b.usedBytes):new Uint8Array(b.contents):new Uint8Array(0)},expandFileStorage:function(b,S){var x=b.contents?b.contents.length:0;if(!(x>=S)){var O=1024*1024;S=Math.max(S,x*(x<O?2:1.125)>>>0),x!=0&&(S=Math.max(S,256));var A=b.contents;b.contents=new Uint8Array(S),b.usedBytes>0&&b.contents.set(A.subarray(0,b.usedBytes),0)}},resizeFileStorage:function(b,S){if(b.usedBytes!=S)if(S==0)b.contents=null,b.usedBytes=0;else{var x=b.contents;b.contents=new Uint8Array(S),x&&b.contents.set(x.subarray(0,Math.min(S,b.usedBytes))),b.usedBytes=S}},node_ops:{getattr:function(b){var S={};return S.dev=P.isChrdev(b.mode)?b.id:1,S.ino=b.id,S.mode=b.mode,S.nlink=1,S.uid=0,S.gid=0,S.rdev=b.rdev,P.isDir(b.mode)?S.size=4096:P.isFile(b.mode)?S.size=b.usedBytes:P.isLink(b.mode)?S.size=b.link.length:S.size=0,S.atime=new Date(b.timestamp),S.mtime=new Date(b.timestamp),S.ctime=new Date(b.timestamp),S.blksize=4096,S.blocks=Math.ceil(S.size/S.blksize),S},setattr:function(b,S){S.mode!==void 0&&(b.mode=S.mode),S.timestamp!==void 0&&(b.timestamp=S.timestamp),S.size!==void 0&&di.resizeFileStorage(b,S.size)},lookup:function(b,S){throw P.genericErrors[44]},mknod:function(b,S,x,O){return di.createNode(b,S,x,O)},rename:function(b,S,x){if(P.isDir(b.mode)){var O;try{O=P.lookupNode(S,x)}catch{}if(O)for(var A in O.contents)throw new P.ErrnoError(55)}delete b.parent.contents[b.name],b.parent.timestamp=Date.now(),b.name=x,S.contents[x]=b,S.timestamp=b.parent.timestamp,b.parent=S},unlink:function(b,S){delete b.contents[S],b.timestamp=Date.now()},rmdir:function(b,S){var x=P.lookupNode(b,S);for(var O in x.contents)throw new P.ErrnoError(55);delete b.contents[S],b.timestamp=Date.now()},readdir:function(b){var S=[".",".."];for(var x in b.contents)!b.contents.hasOwnProperty(x)||S.push(x);return S},symlink:function(b,S,x){var O=di.createNode(b,S,41471,0);return O.link=x,O},readlink:function(b){if(!P.isLink(b.mode))throw new P.ErrnoError(28);return b.link}},stream_ops:{read:function(b,S,x,O,A){var z=b.node.contents;if(A>=b.node.usedBytes)return 0;var Y=Math.min(b.node.usedBytes-A,O);if(Pe(Y>=0),Y>8&&z.subarray)S.set(z.subarray(A,A+Y),x);else for(var Q=0;Q<Y;Q++)S[x+Q]=z[A+Q];return Y},write:function(b,S,x,O,A,z){if(Pe(!(S instanceof ArrayBuffer)),!O)return 0;var Y=b.node;if(Y.timestamp=Date.now(),S.subarray&&(!Y.contents||Y.contents.subarray)){if(z)return Pe(A===0,"canOwn must imply no weird position inside the file"),Y.contents=S.subarray(x,x+O),Y.usedBytes=O,O;if(Y.usedBytes===0&&A===0)return Y.contents=S.slice(x,x+O),Y.usedBytes=O,O;if(A+O<=Y.usedBytes)return Y.contents.set(S.subarray(x,x+O),A),O}if(di.expandFileStorage(Y,A+O),Y.contents.subarray&&S.subarray)Y.contents.set(S.subarray(x,x+O),A);else for(var Q=0;Q<O;Q++)Y.contents[A+Q]=S[x+Q];return Y.usedBytes=Math.max(Y.usedBytes,A+O),O},llseek:function(b,S,x){var O=S;if(x===1?O+=b.position:x===2&&P.isFile(b.node.mode)&&(O+=b.node.usedBytes),O<0)throw new P.ErrnoError(28);return O},allocate:function(b,S,x){di.expandFileStorage(b.node,S+x),b.node.usedBytes=Math.max(b.node.usedBytes,S+x)},mmap:function(b,S,x,O,A,z){if(S!==0)throw new P.ErrnoError(28);if(!P.isFile(b.node.mode))throw new P.ErrnoError(43);var Y,Q,pe=b.node.contents;if(!(z&2)&&pe.buffer===td)Q=!1,Y=pe.byteOffset;else{if((O>0||O+x<pe.length)&&(pe.subarray?pe=pe.subarray(O,O+x):pe=Array.prototype.slice.call(pe,O,O+x)),Q=!0,Y=vne(x),!Y)throw new P.ErrnoError(48);zn.set(pe,Y)}return{ptr:Y,allocated:Q}},msync:function(b,S,x,O,A){if(!P.isFile(b.node.mode))throw new P.ErrnoError(43);if(A&2)return 0;var z=di.stream_ops.write(b,S,0,O,x,!1);return 0}}};function wne(b,S,x,O){var A=O?"":rf("al "+b);y(b,function(z){Pe(z,'Loading data file "'+b+'" failed (no arrayBuffer).'),S(new Uint8Array(z)),A&&Yg(A)},function(z){if(x)x();else throw'Loading data file "'+b+'" failed.'}),A&&sf(A)}var Cne={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"},RB={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},P={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(b,S){if(b=Dh.resolve(P.cwd(),b),S=S||{},!b)return{path:"",node:null};var x={follow_mount:!0,recurse_count:0};for(var O in x)S[O]===void 0&&(S[O]=x[O]);if(S.recurse_count>8)throw new P.ErrnoError(32);for(var A=un.normalizeArray(b.split("/").filter(function(et){return!!et}),!1),z=P.root,Y="/",Q=0;Q<A.length;Q++){var pe=Q===A.length-1;if(pe&&S.parent)break;if(z=P.lookupNode(z,A[Q]),Y=un.join2(Y,A[Q]),P.isMountpoint(z)&&(!pe||pe&&S.follow_mount)&&(z=z.mounted.root),!pe||S.follow)for(var Me=0;P.isLink(z.mode);){var qe=P.readlink(Y);Y=Dh.resolve(un.dirname(Y),qe);var bt=P.lookupPath(Y,{recurse_count:S.recurse_count});if(z=bt.node,Me++>40)throw new P.ErrnoError(32)}}return{path:Y,node:z}},getPath:function(b){for(var S;;){if(P.isRoot(b)){var x=b.mount.mountpoint;return S?x[x.length-1]!=="/"?x+"/"+S:x+S:x}S=S?b.name+"/"+S:b.name,b=b.parent}},hashName:function(b,S){for(var x=0,O=0;O<S.length;O++)x=(x<<5)-x+S.charCodeAt(O)|0;return(b+x>>>0)%P.nameTable.length},hashAddNode:function(b){var S=P.hashName(b.parent.id,b.name);b.name_next=P.nameTable[S],P.nameTable[S]=b},hashRemoveNode:function(b){var S=P.hashName(b.parent.id,b.name);if(P.nameTable[S]===b)P.nameTable[S]=b.name_next;else for(var x=P.nameTable[S];x;){if(x.name_next===b){x.name_next=b.name_next;break}x=x.name_next}},lookupNode:function(b,S){var x=P.mayLookup(b);if(x)throw new P.ErrnoError(x,b);for(var O=P.hashName(b.id,S),A=P.nameTable[O];A;A=A.name_next){var z=A.name;if(A.parent.id===b.id&&z===S)return A}return P.lookup(b,S)},createNode:function(b,S,x,O){Pe(typeof b=="object");var A=new P.FSNode(b,S,x,O);return P.hashAddNode(A),A},destroyNode:function(b){P.hashRemoveNode(b)},isRoot:function(b){return b===b.parent},isMountpoint:function(b){return!!b.mounted},isFile:function(b){return(b&61440)===32768},isDir:function(b){return(b&61440)===16384},isLink:function(b){return(b&61440)===40960},isChrdev:function(b){return(b&61440)===8192},isBlkdev:function(b){return(b&61440)===24576},isFIFO:function(b){return(b&61440)===4096},isSocket:function(b){return(b&49152)===49152},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(b){var S=P.flagModes[b];if(typeof S>"u")throw new Error("Unknown file open mode: "+b);return S},flagsToPermissionString:function(b){var S=["r","w","rw"][b&3];return b&512&&(S+="w"),S},nodePermissions:function(b,S){return P.ignorePermissions?0:S.includes("r")&&!(b.mode&292)||S.includes("w")&&!(b.mode&146)||S.includes("x")&&!(b.mode&73)?2:0},mayLookup:function(b){var S=P.nodePermissions(b,"x");return S||(b.node_ops.lookup?0:2)},mayCreate:function(b,S){try{var x=P.lookupNode(b,S);return 20}catch{}return P.nodePermissions(b,"wx")},mayDelete:function(b,S,x){var O;try{O=P.lookupNode(b,S)}catch(z){return z.errno}var A=P.nodePermissions(b,"wx");if(A)return A;if(x){if(!P.isDir(O.mode))return 54;if(P.isRoot(O)||P.getPath(O)===P.cwd())return 10}else if(P.isDir(O.mode))return 31;return 0},mayOpen:function(b,S){return b?P.isLink(b.mode)?32:P.isDir(b.mode)&&(P.flagsToPermissionString(S)!=="r"||S&512)?31:P.nodePermissions(b,P.flagsToPermissionString(S)):44},MAX_OPEN_FDS:4096,nextfd:function(b,S){b=b||0,S=S||P.MAX_OPEN_FDS;for(var x=b;x<=S;x++)if(!P.streams[x])return x;throw new P.ErrnoError(33)},getStream:function(b){return P.streams[b]},createStream:function(b,S,x){P.FSStream||(P.FSStream=function(){},P.FSStream.prototype={object:{get:function(){return this.node},set:function(Y){this.node=Y}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}});var O=new P.FSStream;for(var A in b)O[A]=b[A];b=O;var z=P.nextfd(S,x);return b.fd=z,P.streams[z]=b,b},closeStream:function(b){P.streams[b]=null},chrdev_stream_ops:{open:function(b){var S=P.getDevice(b.node.rdev);b.stream_ops=S.stream_ops,b.stream_ops.open&&b.stream_ops.open(b)},llseek:function(){throw new P.ErrnoError(70)}},major:function(b){return b>>8},minor:function(b){return b&255},makedev:function(b,S){return b<<8|S},registerDevice:function(b,S){P.devices[b]={stream_ops:S}},getDevice:function(b){return P.devices[b]},getMounts:function(b){for(var S=[],x=[b];x.length;){var O=x.pop();S.push(O),x.push.apply(x,O.mounts)}return S},syncfs:function(b,S){typeof b=="function"&&(S=b,b=!1),P.syncFSRequests++,P.syncFSRequests>1&&k("warning: "+P.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var x=P.getMounts(P.root.mount),O=0;function A(Y){return Pe(P.syncFSRequests>0),P.syncFSRequests--,S(Y)}function z(Y){if(Y)return z.errored?void 0:(z.errored=!0,A(Y));++O>=x.length&&A(null)}x.forEach(function(Y){if(!Y.type.syncfs)return z(null);Y.type.syncfs(Y,b,z)})},mount:function(b,S,x){if(typeof b=="string")throw b;var O=x==="/",A=!x,z;if(O&&P.root)throw new P.ErrnoError(10);if(!O&&!A){var Y=P.lookupPath(x,{follow_mount:!1});if(x=Y.path,z=Y.node,P.isMountpoint(z))throw new P.ErrnoError(10);if(!P.isDir(z.mode))throw new P.ErrnoError(54)}var Q={type:b,opts:S,mountpoint:x,mounts:[]},pe=b.mount(Q);return pe.mount=Q,Q.root=pe,O?P.root=pe:z&&(z.mounted=Q,z.mount&&z.mount.mounts.push(Q)),pe},unmount:function(b){var S=P.lookupPath(b,{follow_mount:!1});if(!P.isMountpoint(S.node))throw new P.ErrnoError(28);var x=S.node,O=x.mounted,A=P.getMounts(O);Object.keys(P.nameTable).forEach(function(Y){for(var Q=P.nameTable[Y];Q;){var pe=Q.name_next;A.includes(Q.mount)&&P.destroyNode(Q),Q=pe}}),x.mounted=null;var z=x.mount.mounts.indexOf(O);Pe(z!==-1),x.mount.mounts.splice(z,1)},lookup:function(b,S){return b.node_ops.lookup(b,S)},mknod:function(b,S,x){var O=P.lookupPath(b,{parent:!0}),A=O.node,z=un.basename(b);if(!z||z==="."||z==="..")throw new P.ErrnoError(28);var Y=P.mayCreate(A,z);if(Y)throw new P.ErrnoError(Y);if(!A.node_ops.mknod)throw new P.ErrnoError(63);return A.node_ops.mknod(A,z,S,x)},create:function(b,S){return S=S!==void 0?S:438,S&=4095,S|=32768,P.mknod(b,S,0)},mkdir:function(b,S){return S=S!==void 0?S:511,S&=1023,S|=16384,P.mknod(b,S,0)},mkdirTree:function(b,S){for(var x=b.split("/"),O="",A=0;A<x.length;++A)if(!!x[A]){O+="/"+x[A];try{P.mkdir(O,S)}catch(z){if(z.errno!=20)throw z}}},mkdev:function(b,S,x){return typeof x>"u"&&(x=S,S=438),S|=8192,P.mknod(b,S,x)},symlink:function(b,S){if(!Dh.resolve(b))throw new P.ErrnoError(44);var x=P.lookupPath(S,{parent:!0}),O=x.node;if(!O)throw new P.ErrnoError(44);var A=un.basename(S),z=P.mayCreate(O,A);if(z)throw new P.ErrnoError(z);if(!O.node_ops.symlink)throw new P.ErrnoError(63);return O.node_ops.symlink(O,A,b)},rename:function(b,S){var x=un.dirname(b),O=un.dirname(S),A=un.basename(b),z=un.basename(S),Y,Q,pe;if(Y=P.lookupPath(b,{parent:!0}),Q=Y.node,Y=P.lookupPath(S,{parent:!0}),pe=Y.node,!Q||!pe)throw new P.ErrnoError(44);if(Q.mount!==pe.mount)throw new P.ErrnoError(75);var Me=P.lookupNode(Q,A),qe=Dh.relative(b,O);if(qe.charAt(0)!==".")throw new P.ErrnoError(28);if(qe=Dh.relative(S,x),qe.charAt(0)!==".")throw new P.ErrnoError(55);var bt;try{bt=P.lookupNode(pe,z)}catch{}if(Me!==bt){var et=P.isDir(Me.mode),Nt=P.mayDelete(Q,A,et);if(Nt)throw new P.ErrnoError(Nt);if(Nt=bt?P.mayDelete(pe,z,et):P.mayCreate(pe,z),Nt)throw new P.ErrnoError(Nt);if(!Q.node_ops.rename)throw new P.ErrnoError(63);if(P.isMountpoint(Me)||bt&&P.isMountpoint(bt))throw new P.ErrnoError(10);if(pe!==Q&&(Nt=P.nodePermissions(Q,"w"),Nt))throw new P.ErrnoError(Nt);try{P.trackingDelegate.willMovePath&&P.trackingDelegate.willMovePath(b,S)}catch(mt){k("FS.trackingDelegate['willMovePath']('"+b+"', '"+S+"') threw an exception: "+mt.message)}P.hashRemoveNode(Me);try{Q.node_ops.rename(Me,pe,z)}catch(mt){throw mt}finally{P.hashAddNode(Me)}try{P.trackingDelegate.onMovePath&&P.trackingDelegate.onMovePath(b,S)}catch(mt){k("FS.trackingDelegate['onMovePath']('"+b+"', '"+S+"') threw an exception: "+mt.message)}}},rmdir:function(b){var S=P.lookupPath(b,{parent:!0}),x=S.node,O=un.basename(b),A=P.lookupNode(x,O),z=P.mayDelete(x,O,!0);if(z)throw new P.ErrnoError(z);if(!x.node_ops.rmdir)throw new P.ErrnoError(63);if(P.isMountpoint(A))throw new P.ErrnoError(10);try{P.trackingDelegate.willDeletePath&&P.trackingDelegate.willDeletePath(b)}catch(Y){k("FS.trackingDelegate['willDeletePath']('"+b+"') threw an exception: "+Y.message)}x.node_ops.rmdir(x,O),P.destroyNode(A);try{P.trackingDelegate.onDeletePath&&P.trackingDelegate.onDeletePath(b)}catch(Y){k("FS.trackingDelegate['onDeletePath']('"+b+"') threw an exception: "+Y.message)}},readdir:function(b){var S=P.lookupPath(b,{follow:!0}),x=S.node;if(!x.node_ops.readdir)throw new P.ErrnoError(54);return x.node_ops.readdir(x)},unlink:function(b){var S=P.lookupPath(b,{parent:!0}),x=S.node,O=un.basename(b),A=P.lookupNode(x,O),z=P.mayDelete(x,O,!1);if(z)throw new P.ErrnoError(z);if(!x.node_ops.unlink)throw new P.ErrnoError(63);if(P.isMountpoint(A))throw new P.ErrnoError(10);try{P.trackingDelegate.willDeletePath&&P.trackingDelegate.willDeletePath(b)}catch(Y){k("FS.trackingDelegate['willDeletePath']('"+b+"') threw an exception: "+Y.message)}x.node_ops.unlink(x,O),P.destroyNode(A);try{P.trackingDelegate.onDeletePath&&P.trackingDelegate.onDeletePath(b)}catch(Y){k("FS.trackingDelegate['onDeletePath']('"+b+"') threw an exception: "+Y.message)}},readlink:function(b){var S=P.lookupPath(b),x=S.node;if(!x)throw new P.ErrnoError(44);if(!x.node_ops.readlink)throw new P.ErrnoError(28);return Dh.resolve(P.getPath(x.parent),x.node_ops.readlink(x))},stat:function(b,S){var x=P.lookupPath(b,{follow:!S}),O=x.node;if(!O)throw new P.ErrnoError(44);if(!O.node_ops.getattr)throw new P.ErrnoError(63);return O.node_ops.getattr(O)},lstat:function(b){return P.stat(b,!0)},chmod:function(b,S,x){var O;if(typeof b=="string"){var A=P.lookupPath(b,{follow:!x});O=A.node}else O=b;if(!O.node_ops.setattr)throw new P.ErrnoError(63);O.node_ops.setattr(O,{mode:S&4095|O.mode&-4096,timestamp:Date.now()})},lchmod:function(b,S){P.chmod(b,S,!0)},fchmod:function(b,S){var x=P.getStream(b);if(!x)throw new P.ErrnoError(8);P.chmod(x.node,S)},chown:function(b,S,x,O){var A;if(typeof b=="string"){var z=P.lookupPath(b,{follow:!O});A=z.node}else A=b;if(!A.node_ops.setattr)throw new P.ErrnoError(63);A.node_ops.setattr(A,{timestamp:Date.now()})},lchown:function(b,S,x){P.chown(b,S,x,!0)},fchown:function(b,S,x){var O=P.getStream(b);if(!O)throw new P.ErrnoError(8);P.chown(O.node,S,x)},truncate:function(b,S){if(S<0)throw new P.ErrnoError(28);var x;if(typeof b=="string"){var O=P.lookupPath(b,{follow:!0});x=O.node}else x=b;if(!x.node_ops.setattr)throw new P.ErrnoError(63);if(P.isDir(x.mode))throw new P.ErrnoError(31);if(!P.isFile(x.mode))throw new P.ErrnoError(28);var A=P.nodePermissions(x,"w");if(A)throw new P.ErrnoError(A);x.node_ops.setattr(x,{size:S,timestamp:Date.now()})},ftruncate:function(b,S){var x=P.getStream(b);if(!x)throw new P.ErrnoError(8);if((x.flags&2097155)===0)throw new P.ErrnoError(28);P.truncate(x.node,S)},utime:function(b,S,x){var O=P.lookupPath(b,{follow:!0}),A=O.node;A.node_ops.setattr(A,{timestamp:Math.max(S,x)})},open:function(b,S,x,O,A){if(b==="")throw new P.ErrnoError(44);S=typeof S=="string"?P.modeStringToFlags(S):S,x=typeof x>"u"?438:x,S&64?x=x&4095|32768:x=0;var z;if(typeof b=="object")z=b;else{b=un.normalize(b);try{var Y=P.lookupPath(b,{follow:!(S&131072)});z=Y.node}catch{}}var Q=!1;if(S&64)if(z){if(S&128)throw new P.ErrnoError(20)}else z=P.mknod(b,x,0),Q=!0;if(!z)throw new P.ErrnoError(44);if(P.isChrdev(z.mode)&&(S&=-513),S&65536&&!P.isDir(z.mode))throw new P.ErrnoError(54);if(!Q){var pe=P.mayOpen(z,S);if(pe)throw new P.ErrnoError(pe)}S&512&&P.truncate(z,0),S&=-131713;var Me=P.createStream({node:z,path:P.getPath(z),flags:S,seekable:!0,position:0,stream_ops:z.stream_ops,ungotten:[],error:!1},O,A);Me.stream_ops.open&&Me.stream_ops.open(Me),t.logReadFiles&&!(S&1)&&(P.readFiles||(P.readFiles={}),b in P.readFiles||(P.readFiles[b]=1,k("FS.trackingDelegate error on read file: "+b)));try{if(P.trackingDelegate.onOpenFile){var qe=0;(S&2097155)!==1&&(qe|=P.tracking.openFlags.READ),(S&2097155)!==0&&(qe|=P.tracking.openFlags.WRITE),P.trackingDelegate.onOpenFile(b,qe)}}catch(bt){k("FS.trackingDelegate['onOpenFile']('"+b+"', flags) threw an exception: "+bt.message)}return Me},close:function(b){if(P.isClosed(b))throw new P.ErrnoError(8);b.getdents&&(b.getdents=null);try{b.stream_ops.close&&b.stream_ops.close(b)}catch(S){throw S}finally{P.closeStream(b.fd)}b.fd=null},isClosed:function(b){return b.fd===null},llseek:function(b,S,x){if(P.isClosed(b))throw new P.ErrnoError(8);if(!b.seekable||!b.stream_ops.llseek)throw new P.ErrnoError(70);if(x!=0&&x!=1&&x!=2)throw new P.ErrnoError(28);return b.position=b.stream_ops.llseek(b,S,x),b.ungotten=[],b.position},read:function(b,S,x,O,A){if(O<0||A<0)throw new P.ErrnoError(28);if(P.isClosed(b))throw new P.ErrnoError(8);if((b.flags&2097155)===1)throw new P.ErrnoError(8);if(P.isDir(b.node.mode))throw new P.ErrnoError(31);if(!b.stream_ops.read)throw new P.ErrnoError(28);var z=typeof A<"u";if(!z)A=b.position;else if(!b.seekable)throw new P.ErrnoError(70);var Y=b.stream_ops.read(b,S,x,O,A);return z||(b.position+=Y),Y},write:function(b,S,x,O,A,z){if(O<0||A<0)throw new P.ErrnoError(28);if(P.isClosed(b))throw new P.ErrnoError(8);if((b.flags&2097155)===0)throw new P.ErrnoError(8);if(P.isDir(b.node.mode))throw new P.ErrnoError(31);if(!b.stream_ops.write)throw new P.ErrnoError(28);b.seekable&&b.flags&1024&&P.llseek(b,0,2);var Y=typeof A<"u";if(!Y)A=b.position;else if(!b.seekable)throw new P.ErrnoError(70);var Q=b.stream_ops.write(b,S,x,O,A,z);Y||(b.position+=Q);try{b.path&&P.trackingDelegate.onWriteToFile&&P.trackingDelegate.onWriteToFile(b.path)}catch(pe){k("FS.trackingDelegate['onWriteToFile']('"+b.path+"') threw an exception: "+pe.message)}return Q},allocate:function(b,S,x){if(P.isClosed(b))throw new P.ErrnoError(8);if(S<0||x<=0)throw new P.ErrnoError(28);if((b.flags&2097155)===0)throw new P.ErrnoError(8);if(!P.isFile(b.node.mode)&&!P.isDir(b.node.mode))throw new P.ErrnoError(43);if(!b.stream_ops.allocate)throw new P.ErrnoError(138);b.stream_ops.allocate(b,S,x)},mmap:function(b,S,x,O,A,z){if((A&2)!==0&&(z&2)===0&&(b.flags&2097155)!==2)throw new P.ErrnoError(2);if((b.flags&2097155)===1)throw new P.ErrnoError(2);if(!b.stream_ops.mmap)throw new P.ErrnoError(43);return b.stream_ops.mmap(b,S,x,O,A,z)},msync:function(b,S,x,O,A){return!b||!b.stream_ops.msync?0:b.stream_ops.msync(b,S,x,O,A)},munmap:function(b){return 0},ioctl:function(b,S,x){if(!b.stream_ops.ioctl)throw new P.ErrnoError(59);return b.stream_ops.ioctl(b,S,x)},readFile:function(b,S){if(S=S||{},S.flags=S.flags||0,S.encoding=S.encoding||"binary",S.encoding!=="utf8"&&S.encoding!=="binary")throw new Error('Invalid encoding type "'+S.encoding+'"');var x,O=P.open(b,S.flags),A=P.stat(b),z=A.size,Y=new Uint8Array(z);return P.read(O,Y,0,z,0),S.encoding==="utf8"?x=hn(Y,0):S.encoding==="binary"&&(x=Y),P.close(O),x},writeFile:function(b,S,x){x=x||{},x.flags=x.flags||577;var O=P.open(b,x.flags,x.mode);if(typeof S=="string"){var A=new Uint8Array(Yr(S)+1),z=Wo(S,A,0,A.length);P.write(O,A,0,z,void 0,x.canOwn)}else if(ArrayBuffer.isView(S))P.write(O,S,0,S.byteLength,void 0,x.canOwn);else throw new Error("Unsupported data type");P.close(O)},cwd:function(){return P.currentPath},chdir:function(b){var S=P.lookupPath(b,{follow:!0});if(S.node===null)throw new P.ErrnoError(44);if(!P.isDir(S.node.mode))throw new P.ErrnoError(54);var x=P.nodePermissions(S.node,"x");if(x)throw new P.ErrnoError(x);P.currentPath=S.path},createDefaultDirectories:function(){P.mkdir("/tmp"),P.mkdir("/home"),P.mkdir("/home/web_user")},createDefaultDevices:function(){P.mkdir("/dev"),P.registerDevice(P.makedev(1,3),{read:function(){return 0},write:function(S,x,O,A,z){return A}}),P.mkdev("/dev/null",P.makedev(1,3)),Lh.register(P.makedev(5,0),Lh.default_tty_ops),Lh.register(P.makedev(6,0),Lh.default_tty1_ops),P.mkdev("/dev/tty",P.makedev(5,0)),P.mkdev("/dev/tty1",P.makedev(6,0));var b=bne();P.createDevice("/dev","random",b),P.createDevice("/dev","urandom",b),P.mkdir("/dev/shm"),P.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){P.mkdir("/proc");var b=P.mkdir("/proc/self");P.mkdir("/proc/self/fd"),P.mount({mount:function(){var S=P.createNode(b,"fd",16895,73);return S.node_ops={lookup:function(x,O){var A=+O,z=P.getStream(A);if(!z)throw new P.ErrnoError(8);var Y={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return z.path}}};return Y.parent=Y,Y}},S}},{},"/proc/self/fd")},createStandardStreams:function(){t.stdin?P.createDevice("/dev","stdin",t.stdin):P.symlink("/dev/tty","/dev/stdin"),t.stdout?P.createDevice("/dev","stdout",null,t.stdout):P.symlink("/dev/tty","/dev/stdout"),t.stderr?P.createDevice("/dev","stderr",null,t.stderr):P.symlink("/dev/tty1","/dev/stderr");var b=P.open("/dev/stdin",0),S=P.open("/dev/stdout",1),x=P.open("/dev/stderr",1);Pe(b.fd===0,"invalid handle for stdin ("+b.fd+")"),Pe(S.fd===1,"invalid handle for stdout ("+S.fd+")"),Pe(x.fd===2,"invalid handle for stderr ("+x.fd+")")},ensureErrnoError:function(){P.ErrnoError||(P.ErrnoError=function(S,x){this.node=x,this.setErrno=function(O){this.errno=O;for(var A in RB)if(RB[A]===O){this.code=A;break}},this.setErrno(S),this.message=Cne[S],this.stack&&(Object.defineProperty(this,"stack",{value:new Error().stack,writable:!0}),this.stack=AN(this.stack))},P.ErrnoError.prototype=new Error,P.ErrnoError.prototype.constructor=P.ErrnoError,[44].forEach(function(b){P.genericErrors[b]=new P.ErrnoError(b),P.genericErrors[b].stack="<generic error, no stack>"}))},staticInit:function(){P.ensureErrnoError(),P.nameTable=new Array(4096),P.mount(di,{},"/"),P.createDefaultDirectories(),P.createDefaultDevices(),P.createSpecialDirectories(),P.filesystems={MEMFS:di}},init:function(b,S,x){Pe(!P.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),P.init.initialized=!0,P.ensureErrnoError(),t.stdin=b||t.stdin,t.stdout=S||t.stdout,t.stderr=x||t.stderr,P.createStandardStreams()},quit:function(){P.init.initialized=!1;var b=t._fflush;b&&b(0);for(var S=0;S<P.streams.length;S++){var x=P.streams[S];!x||P.close(x)}},getMode:function(b,S){var x=0;return b&&(x|=365),S&&(x|=146),x},findObject:function(b,S){var x=P.analyzePath(b,S);return x.exists?x.object:null},analyzePath:function(b,S){try{var x=P.lookupPath(b,{follow:!S});b=x.path}catch{}var O={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var x=P.lookupPath(b,{parent:!0});O.parentExists=!0,O.parentPath=x.path,O.parentObject=x.node,O.name=un.basename(b),x=P.lookupPath(b,{follow:!S}),O.exists=!0,O.path=x.path,O.object=x.node,O.name=x.node.name,O.isRoot=x.path==="/"}catch(A){O.error=A.errno}return O},createPath:function(b,S,x,O){b=typeof b=="string"?b:P.getPath(b);for(var A=S.split("/").reverse();A.length;){var z=A.pop();if(!!z){var Y=un.join2(b,z);try{P.mkdir(Y)}catch{}b=Y}}return Y},createFile:function(b,S,x,O,A){var z=un.join2(typeof b=="string"?b:P.getPath(b),S),Y=P.getMode(O,A);return P.create(z,Y)},createDataFile:function(b,S,x,O,A,z){var Y=S?un.join2(typeof b=="string"?b:P.getPath(b),S):b,Q=P.getMode(O,A),pe=P.create(Y,Q);if(x){if(typeof x=="string"){for(var Me=new Array(x.length),qe=0,bt=x.length;qe<bt;++qe)Me[qe]=x.charCodeAt(qe);x=Me}P.chmod(pe,Q|146);var et=P.open(pe,577);P.write(et,x,0,x.length,0,z),P.close(et),P.chmod(pe,Q)}return pe},createDevice:function(b,S,x,O){var A=un.join2(typeof b=="string"?b:P.getPath(b),S),z=P.getMode(!!x,!!O);P.createDevice.major||(P.createDevice.major=64);var Y=P.makedev(P.createDevice.major++,0);return P.registerDevice(Y,{open:function(Q){Q.seekable=!1},close:function(Q){O&&O.buffer&&O.buffer.length&&O(10)},read:function(Q,pe,Me,qe,bt){for(var et=0,Nt=0;Nt<qe;Nt++){var mt;try{mt=x()}catch{throw new P.ErrnoError(29)}if(mt===void 0&&et===0)throw new P.ErrnoError(6);if(mt==null)break;et++,pe[Me+Nt]=mt}return et&&(Q.node.timestamp=Date.now()),et},write:function(Q,pe,Me,qe,bt){for(var et=0;et<qe;et++)try{O(pe[Me+et])}catch{throw new P.ErrnoError(29)}return qe&&(Q.node.timestamp=Date.now()),et}}),P.mkdev(A,z,Y)},forceLoadFile:function(b){if(b.isDevice||b.isFolder||b.link||b.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(w)try{b.contents=UN(w(b.url),!0),b.usedBytes=b.contents.length}catch{throw new P.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:function(b,S,x,O,A){function z(){this.lengthKnown=!1,this.chunks=[]}if(z.prototype.get=function(et){if(!(et>this.length-1||et<0)){var Nt=et%this.chunkSize,mt=et/this.chunkSize|0;return this.getter(mt)[Nt]}},z.prototype.setDataGetter=function(et){this.getter=et},z.prototype.cacheLength=function(){var et=new XMLHttpRequest;if(et.open("HEAD",x,!1),et.send(null),!(et.status>=200&&et.status<300||et.status===304))throw new Error("Couldn't load "+x+". Status: "+et.status);var Nt=Number(et.getResponseHeader("Content-length")),mt,Vn=(mt=et.getResponseHeader("Accept-Ranges"))&&mt==="bytes",Ms=(mt=et.getResponseHeader("Content-Encoding"))&&mt==="gzip",As=1024*1024;Vn||(As=Nt);var kh=function(ga,Ba){if(ga>Ba)throw new Error("invalid range ("+ga+", "+Ba+") or no bytes requested!");if(Ba>Nt-1)throw new Error("only "+Nt+" bytes available! programmer error!");var co=new XMLHttpRequest;if(co.open("GET",x,!1),Nt!==As&&co.setRequestHeader("Range","bytes="+ga+"-"+Ba),typeof Uint8Array<"u"&&(co.responseType="arraybuffer"),co.overrideMimeType&&co.overrideMimeType("text/plain; charset=x-user-defined"),co.send(null),!(co.status>=200&&co.status<300||co.status===304))throw new Error("Couldn't load "+x+". Status: "+co.status);return co.response!==void 0?new Uint8Array(co.response||[]):UN(co.responseText||"",!0)},dr=this;dr.setDataGetter(function(ga){var Ba=ga*As,co=(ga+1)*As-1;if(co=Math.min(co,Nt-1),typeof dr.chunks[ga]>"u"&&(dr.chunks[ga]=kh(Ba,co)),typeof dr.chunks[ga]>"u")throw new Error("doXHR failed!");return dr.chunks[ga]}),(Ms||!Nt)&&(As=Nt=1,Nt=this.getter(0).length,As=Nt,L("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Nt,this._chunkSize=As,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!h)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Y=new z;Object.defineProperties(Y,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Q={isDevice:!1,contents:Y}}else var Q={isDevice:!1,url:x};var pe=P.createFile(b,S,Q,O,A);Q.contents?pe.contents=Q.contents:Q.url&&(pe.contents=null,pe.url=Q.url),Object.defineProperties(pe,{usedBytes:{get:function(){return this.contents.length}}});var Me={},qe=Object.keys(pe.stream_ops);return qe.forEach(function(bt){var et=pe.stream_ops[bt];Me[bt]=function(){return P.forceLoadFile(pe),et.apply(null,arguments)}}),Me.read=function(et,Nt,mt,Vn,Ms){P.forceLoadFile(pe);var As=et.node.contents;if(Ms>=As.length)return 0;var kh=Math.min(As.length-Ms,Vn);if(Pe(kh>=0),As.slice)for(var dr=0;dr<kh;dr++)Nt[mt+dr]=As[Ms+dr];else for(var dr=0;dr<kh;dr++)Nt[mt+dr]=As.get(Ms+dr);return kh},pe.stream_ops=Me,pe},createPreloadedFile:function(b,S,x,O,A,z,Y,Q,pe,Me){fe.init();var qe=S?Dh.resolve(un.join2(b,S)):b,bt=rf("cp "+qe);function et(Nt){function mt(Ms){Me&&Me(),Q||P.createDataFile(b,S,Ms,O,A,pe),z&&z(),Yg(bt)}var Vn=!1;t.preloadPlugins.forEach(function(Ms){Vn||Ms.canHandle(qe)&&(Ms.handle(Nt,qe,mt,function(){Y&&Y(),Yg(bt)}),Vn=!0)}),Vn||mt(Nt)}sf(bt),typeof x=="string"?wne(x,function(Nt){et(Nt)},Y):et(x)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(b,S,x){S=S||function(){},x=x||function(){};var O=P.indexedDB();try{var A=O.open(P.DB_NAME(),P.DB_VERSION)}catch(z){return x(z)}A.onupgradeneeded=function(){L("creating db");var Y=A.result;Y.createObjectStore(P.DB_STORE_NAME)},A.onsuccess=function(){var Y=A.result,Q=Y.transaction([P.DB_STORE_NAME],"readwrite"),pe=Q.objectStore(P.DB_STORE_NAME),Me=0,qe=0,bt=b.length;function et(){qe==0?S():x()}b.forEach(function(Nt){var mt=pe.put(P.analyzePath(Nt).object.contents,Nt);mt.onsuccess=function(){Me++,Me+qe==bt&&et()},mt.onerror=function(){qe++,Me+qe==bt&&et()}}),Q.onerror=x},A.onerror=x},loadFilesFromDB:function(b,S,x){S=S||function(){},x=x||function(){};var O=P.indexedDB();try{var A=O.open(P.DB_NAME(),P.DB_VERSION)}catch(z){return x(z)}A.onupgradeneeded=x,A.onsuccess=function(){var Y=A.result;try{var Q=Y.transaction([P.DB_STORE_NAME],"readonly")}catch(Nt){x(Nt);return}var pe=Q.objectStore(P.DB_STORE_NAME),Me=0,qe=0,bt=b.length;function et(){qe==0?S():x()}b.forEach(function(Nt){var mt=pe.get(Nt);mt.onsuccess=function(){P.analyzePath(Nt).exists&&P.unlink(Nt),P.createDataFile(un.dirname(Nt),un.basename(Nt),mt.result,!0,!0,!0),Me++,Me+qe==bt&&et()},mt.onerror=function(){qe++,Me+qe==bt&&et()}}),Q.onerror=x},A.onerror=x},absolutePath:function(){v("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder:function(){v("FS.createFolder has been removed; use FS.mkdir instead")},createLink:function(){v("FS.createLink has been removed; use FS.symlink instead")},joinPath:function(){v("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc:function(){v("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath:function(){v("FS.standardizePath has been removed; use PATH.normalize instead")}},pc={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(b,S,x){if(S[0]==="/")return S;var O;if(b===-100)O=P.cwd();else{var A=P.getStream(b);if(!A)throw new P.ErrnoError(8);O=A.path}if(S.length==0){if(!x)throw new P.ErrnoError(44);return O}return un.join2(O,S)},doStat:function(b,S,x){try{var O=b(S)}catch(A){if(A&&A.node&&un.normalize(S)!==un.normalize(P.getPath(A.node)))return-54;throw A}return Dt[x>>2]=O.dev,Dt[x+4>>2]=0,Dt[x+8>>2]=O.ino,Dt[x+12>>2]=O.mode,Dt[x+16>>2]=O.nlink,Dt[x+20>>2]=O.uid,Dt[x+24>>2]=O.gid,Dt[x+28>>2]=O.rdev,Dt[x+32>>2]=0,Sl=[O.size>>>0,(Eo=O.size,+Math.abs(Eo)>=1?Eo>0?(Math.min(+Math.floor(Eo/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Eo-+(~~Eo>>>0))/4294967296)>>>0:0)],Dt[x+40>>2]=Sl[0],Dt[x+44>>2]=Sl[1],Dt[x+48>>2]=4096,Dt[x+52>>2]=O.blocks,Dt[x+56>>2]=O.atime.getTime()/1e3|0,Dt[x+60>>2]=0,Dt[x+64>>2]=O.mtime.getTime()/1e3|0,Dt[x+68>>2]=0,Dt[x+72>>2]=O.ctime.getTime()/1e3|0,Dt[x+76>>2]=0,Sl=[O.ino>>>0,(Eo=O.ino,+Math.abs(Eo)>=1?Eo>0?(Math.min(+Math.floor(Eo/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Eo-+(~~Eo>>>0))/4294967296)>>>0:0)],Dt[x+80>>2]=Sl[0],Dt[x+84>>2]=Sl[1],0},doMsync:function(b,S,x,O,A){var z=Zr.slice(b,b+x);P.msync(S,z,A,x,O)},doMkdir:function(b,S){return b=un.normalize(b),b[b.length-1]==="/"&&(b=b.substr(0,b.length-1)),P.mkdir(b,S,0),0},doMknod:function(b,S,x){switch(S&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return P.mknod(b,S,x),0},doReadlink:function(b,S,x){if(x<=0)return-28;var O=P.readlink(b),A=Math.min(x,Yr(O)),z=zn[S+A];return So(O,S,x+1),zn[S+A]=z,A},doAccess:function(b,S){if(S&-8)return-28;var x,O=P.lookupPath(b,{follow:!0});if(x=O.node,!x)return-44;var A="";return S&4&&(A+="r"),S&2&&(A+="w"),S&1&&(A+="x"),A&&P.nodePermissions(x,A)?-2:0},doDup:function(b,S,x){var O=P.getStream(x);return O&&P.close(O),P.open(b,S,0,x,x).fd},doReadv:function(b,S,x,O){for(var A=0,z=0;z<x;z++){var Y=Dt[S+z*8>>2],Q=Dt[S+(z*8+4)>>2],pe=P.read(b,zn,Y,Q,O);if(pe<0)return-1;if(A+=pe,pe<Q)break}return A},doWritev:function(b,S,x,O){for(var A=0,z=0;z<x;z++){var Y=Dt[S+z*8>>2],Q=Dt[S+(z*8+4)>>2],pe=P.write(b,zn,Y,Q,O);if(pe<0)return-1;A+=pe}return A},varargs:void 0,get:function(){Pe(pc.varargs!=null),pc.varargs+=4;var b=Dt[pc.varargs-4>>2];return b},getStr:function(b){var S=Un(b);return S},getStreamFromFD:function(b){var S=P.getStream(b);if(!S)throw new P.ErrnoError(8);return S},get64:function(b,S){return b>=0?Pe(S===0):Pe(S===-1),b}};function yne(b,S){try{if(S===0)return-28;var x=P.cwd(),O=Yr(x);return S<O+1?-68:(So(x,b,S),b)}catch(A){return(typeof P>"u"||!(A instanceof P.ErrnoError))&&v(A),-A.errno}}function Sne(b,S,x){pc.varargs=x;try{var O=pc.getStr(b),A=x?pc.get():0,z=P.open(O,S,A);return z.fd}catch(Y){return(typeof P>"u"||!(Y instanceof P.ErrnoError))&&v(Y),-Y.errno}}function Ene(){throw"longjmp"}function xne(){v()}function Dne(){return Zr.length}function Lne(b,S,x){Zr.copyWithin(b,S,S+x)}function kne(b){var S=Zr.length;return b=b>>>0,!1}function FN(b,S){if($e){k("user callback triggered after application aborted.  Ignoring.");return}if(S){b();return}try{b()}catch(x){if(x instanceof FE)return;if(x!=="unwind")throw x&&typeof x=="object"&&x.stack&&k("exception thrown: "+[x,x.stack]),x}}function FB(b,S){return setTimeout(function(){FN(b)},S)}var fe={mainLoop:{running:!1,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){fe.mainLoop.scheduler=null,fe.mainLoop.currentlyRunningMainloop++},resume:function(){fe.mainLoop.currentlyRunningMainloop++;var b=fe.mainLoop.timingMode,S=fe.mainLoop.timingValue,x=fe.mainLoop.func;fe.mainLoop.func=null,jB(x,0,!1,fe.mainLoop.arg,!0),BN(b,S),fe.mainLoop.scheduler()},updateStatus:function(){if(t.setStatus){var b=t.statusMessage||"Please wait...",S=fe.mainLoop.remainingBlockers,x=fe.mainLoop.expectedBlockers;S?S<x?t.setStatus(b+" ("+(x-S)+"/"+x+")"):t.setStatus(b):t.setStatus("")}},runIter:function(b){if(!$e){if(t.preMainLoop){var S=t.preMainLoop();if(S===!1)return}FN(b),t.postMainLoop&&t.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(t.preloadPlugins||(t.preloadPlugins=[]),fe.initted)return;fe.initted=!0;try{new Blob,fe.hasBlobConstructor=!0}catch{fe.hasBlobConstructor=!1,L("warning: no blob constructor, cannot create blobs with mimetypes")}fe.BlobBuilder=typeof MozBlobBuilder<"u"?MozBlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:fe.hasBlobConstructor?null:L("warning: no BlobBuilder"),fe.URLObject=typeof window<"u"?window.URL?window.URL:window.webkitURL:void 0,!t.noImageDecoding&&typeof fe.URLObject>"u"&&(L("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),t.noImageDecoding=!0);var b={};b.canHandle=function(z){return!t.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(z)},b.handle=function(z,Y,Q,pe){var Me=null;if(fe.hasBlobConstructor)try{Me=new Blob([z],{type:fe.getMimetype(Y)}),Me.size!==z.length&&(Me=new Blob([new Uint8Array(z).buffer],{type:fe.getMimetype(Y)}))}catch(Nt){M("Blob constructor present but fails: "+Nt+"; falling back to blob builder")}if(!Me){var qe=new fe.BlobBuilder;qe.append(new Uint8Array(z).buffer),Me=qe.getBlob()}var bt=fe.URLObject.createObjectURL(Me);Pe(typeof bt=="string","createObjectURL must return a url as a string");var et=new Image;et.onload=function(){Pe(et.complete,"Image "+Y+" could not be decoded");var mt=document.createElement("canvas");mt.width=et.width,mt.height=et.height;var Vn=mt.getContext("2d");Vn.drawImage(et,0,0),t.preloadedImages[Y]=mt,fe.URLObject.revokeObjectURL(bt),Q&&Q(z)},et.onerror=function(mt){L("Image "+bt+" could not be decoded"),pe&&pe()},et.src=bt},t.preloadPlugins.push(b);var S={};S.canHandle=function(z){return!t.noAudioDecoding&&z.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},S.handle=function(z,Y,Q,pe){var Me=!1;function qe(Vn){Me||(Me=!0,t.preloadedAudios[Y]=Vn,Q&&Q(z))}function bt(){Me||(Me=!0,t.preloadedAudios[Y]=new Audio,pe&&pe())}if(fe.hasBlobConstructor){try{var et=new Blob([z],{type:fe.getMimetype(Y)})}catch{return bt()}var Nt=fe.URLObject.createObjectURL(et);Pe(typeof Nt=="string","createObjectURL must return a url as a string");var mt=new Audio;mt.addEventListener("canplaythrough",function(){qe(mt)},!1),mt.onerror=function(Ms){if(Me)return;L("warning: browser could not fully decode audio "+Y+", trying slower base64 approach");function As(kh){for(var dr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ga="=",Ba="",co=0,W_=0,HN=0;HN<kh.length;HN++)for(co=co<<8|kh[HN],W_+=8;W_>=6;){var Yoe=co>>W_-6&63;W_-=6,Ba+=dr[Yoe]}return W_==2?(Ba+=dr[(co&3)<<4],Ba+=ga+ga):W_==4&&(Ba+=dr[(co&15)<<2],Ba+=ga),Ba}mt.src="data:audio/x-"+Y.substr(-3)+";base64,"+As(z),qe(mt)},mt.src=Nt,FB(function(){qe(mt)},1e4)}else return bt()},t.preloadPlugins.push(S);function x(){fe.pointerLock=document.pointerLockElement===t.canvas||document.mozPointerLockElement===t.canvas||document.webkitPointerLockElement===t.canvas||document.msPointerLockElement===t.canvas}var O=t.canvas;O&&(O.requestPointerLock=O.requestPointerLock||O.mozRequestPointerLock||O.webkitRequestPointerLock||O.msRequestPointerLock||function(){},O.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},O.exitPointerLock=O.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",x,!1),document.addEventListener("mozpointerlockchange",x,!1),document.addEventListener("webkitpointerlockchange",x,!1),document.addEventListener("mspointerlockchange",x,!1),t.elementPointerLock&&O.addEventListener("click",function(A){!fe.pointerLock&&t.canvas.requestPointerLock&&(t.canvas.requestPointerLock(),A.preventDefault())},!1))},createContext:function(b,S,x,O){if(S&&t.ctx&&b==t.canvas)return t.ctx;var A,z;if(S){var Y={antialias:!1,alpha:!1,majorVersion:1};if(O)for(var Q in O)Y[Q]=O[Q];typeof GL<"u"&&(z=GL.createContext(b,Y),z&&(A=GL.getContext(z).GLctx))}else A=b.getContext("2d");return A?(x&&(S||Pe(typeof GLctx>"u","cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),t.ctx=A,S&&GL.makeContextCurrent(z),t.useWebGL=S,fe.moduleContextCreatedCallbacks.forEach(function(pe){pe()}),fe.init()),A):null},destroyContext:function(b,S,x){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(b,S){fe.lockPointer=b,fe.resizeCanvas=S,typeof fe.lockPointer>"u"&&(fe.lockPointer=!0),typeof fe.resizeCanvas>"u"&&(fe.resizeCanvas=!1);var x=t.canvas;function O(){fe.isFullscreen=!1;var z=x.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===z?(x.exitFullscreen=fe.exitFullscreen,fe.lockPointer&&x.requestPointerLock(),fe.isFullscreen=!0,fe.resizeCanvas?fe.setFullscreenCanvasSize():fe.updateCanvasDimensions(x)):(z.parentNode.insertBefore(x,z),z.parentNode.removeChild(z),fe.resizeCanvas?fe.setWindowedCanvasSize():fe.updateCanvasDimensions(x)),t.onFullScreen&&t.onFullScreen(fe.isFullscreen),t.onFullscreen&&t.onFullscreen(fe.isFullscreen)}fe.fullscreenHandlersInstalled||(fe.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",O,!1),document.addEventListener("mozfullscreenchange",O,!1),document.addEventListener("webkitfullscreenchange",O,!1),document.addEventListener("MSFullscreenChange",O,!1));var A=document.createElement("div");x.parentNode.insertBefore(A,x),A.appendChild(x),A.requestFullscreen=A.requestFullscreen||A.mozRequestFullScreen||A.msRequestFullscreen||(A.webkitRequestFullscreen?function(){A.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(A.webkitRequestFullScreen?function(){A.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),A.requestFullscreen()},requestFullScreen:function(){v("Module.requestFullScreen has been replaced by Module.requestFullscreen (without a capital S)")},exitFullscreen:function(){if(!fe.isFullscreen)return!1;var b=document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){};return b.apply(document,[]),!0},nextRAF:0,fakeRequestAnimationFrame:function(b){var S=Date.now();if(fe.nextRAF===0)fe.nextRAF=S+1e3/60;else for(;S+2>=fe.nextRAF;)fe.nextRAF+=1e3/60;var x=Math.max(fe.nextRAF-S,0);setTimeout(b,x)},requestAnimationFrame:function(b){if(typeof requestAnimationFrame=="function"){requestAnimationFrame(b);return}var S=fe.fakeRequestAnimationFrame;S(b)},safeSetTimeout:function(b){return FB(b)},safeRequestAnimationFrame:function(b){return fe.requestAnimationFrame(function(){FN(b)})},getMimetype:function(b){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[b.substr(b.lastIndexOf(".")+1)]},getUserMedia:function(b){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(b)},getMovementX:function(b){return b.movementX||b.mozMovementX||b.webkitMovementX||0},getMovementY:function(b){return b.movementY||b.mozMovementY||b.webkitMovementY||0},getMouseWheelDelta:function(b){var S=0;switch(b.type){case"DOMMouseScroll":S=b.detail/3;break;case"mousewheel":S=b.wheelDelta/120;break;case"wheel":switch(S=b.deltaY,b.deltaMode){case 0:S/=100;break;case 1:S/=3;break;case 2:S*=80;break;default:throw"unrecognized mouse wheel delta mode: "+b.deltaMode}break;default:throw"unrecognized mouse wheel event: "+b.type}return S},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(b){if(fe.pointerLock)b.type!="mousemove"&&"mozMovementX"in b?fe.mouseMovementX=fe.mouseMovementY=0:(fe.mouseMovementX=fe.getMovementX(b),fe.mouseMovementY=fe.getMovementY(b)),typeof SDL<"u"?(fe.mouseX=SDL.mouseX+fe.mouseMovementX,fe.mouseY=SDL.mouseY+fe.mouseMovementY):(fe.mouseX+=fe.mouseMovementX,fe.mouseY+=fe.mouseMovementY);else{var S=t.canvas.getBoundingClientRect(),x=t.canvas.width,O=t.canvas.height,A=typeof window.scrollX<"u"?window.scrollX:window.pageXOffset,z=typeof window.scrollY<"u"?window.scrollY:window.pageYOffset;if(Pe(typeof A<"u"&&typeof z<"u","Unable to retrieve scroll position, mouse positions likely broken."),b.type==="touchstart"||b.type==="touchend"||b.type==="touchmove"){var Y=b.touch;if(Y===void 0)return;var Q=Y.pageX-(A+S.left),pe=Y.pageY-(z+S.top);Q=Q*(x/S.width),pe=pe*(O/S.height);var Me={x:Q,y:pe};if(b.type==="touchstart")fe.lastTouches[Y.identifier]=Me,fe.touches[Y.identifier]=Me;else if(b.type==="touchend"||b.type==="touchmove"){var qe=fe.touches[Y.identifier];qe||(qe=Me),fe.lastTouches[Y.identifier]=qe,fe.touches[Y.identifier]=Me}return}var bt=b.pageX-(A+S.left),et=b.pageY-(z+S.top);bt=bt*(x/S.width),et=et*(O/S.height),fe.mouseMovementX=bt-fe.mouseX,fe.mouseMovementY=et-fe.mouseY,fe.mouseX=bt,fe.mouseY=et}},resizeListeners:[],updateResizeListeners:function(){var b=t.canvas;fe.resizeListeners.forEach(function(S){S(b.width,b.height)})},setCanvasSize:function(b,S,x){var O=t.canvas;fe.updateCanvasDimensions(O,b,S),x||fe.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if(typeof SDL<"u"){var b=ae[SDL.screen>>2];b=b|8388608,Dt[SDL.screen>>2]=b}fe.updateCanvasDimensions(t.canvas),fe.updateResizeListeners()},setWindowedCanvasSize:function(){if(typeof SDL<"u"){var b=ae[SDL.screen>>2];b=b&-8388609,Dt[SDL.screen>>2]=b}fe.updateCanvasDimensions(t.canvas),fe.updateResizeListeners()},updateCanvasDimensions:function(b,S,x){S&&x?(b.widthNative=S,b.heightNative=x):(S=b.widthNative,x=b.heightNative);var O=S,A=x;if(t.forcedAspectRatio&&t.forcedAspectRatio>0&&(O/A<t.forcedAspectRatio?O=Math.round(A*t.forcedAspectRatio):A=Math.round(O/t.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===b.parentNode&&typeof screen<"u"){var z=Math.min(screen.width/O,screen.height/A);O=Math.round(O*z),A=Math.round(A*z)}fe.resizeCanvas?(b.width!=O&&(b.width=O),b.height!=A&&(b.height=A),typeof b.style<"u"&&(b.style.removeProperty("width"),b.style.removeProperty("height"))):(b.width!=S&&(b.width=S),b.height!=x&&(b.height=x),typeof b.style<"u"&&(O!=S||A!=x?(b.style.setProperty("width",O+"px","important"),b.style.setProperty("height",A+"px","important")):(b.style.removeProperty("width"),b.style.removeProperty("height"))))}};function BN(b,S){if(fe.mainLoop.timingMode=b,fe.mainLoop.timingValue=S,!fe.mainLoop.func)return k("emscripten_set_main_loop_timing: Cannot set timing mode for main loop since a main loop does not exist! Call emscripten_set_main_loop first to set one up."),1;if(fe.mainLoop.running||(fe.mainLoop.running=!0),b==0)fe.mainLoop.scheduler=function(){var Y=Math.max(0,fe.mainLoop.tickStartTime+S-jN())|0;setTimeout(fe.mainLoop.runner,Y)},fe.mainLoop.method="timeout";else if(b==1)fe.mainLoop.scheduler=function(){fe.requestAnimationFrame(fe.mainLoop.runner)},fe.mainLoop.method="rAF";else if(b==2){if(typeof setImmediate>"u"){var x=[],O="setimmediate",A=function(z){(z.data===O||z.data.target===O)&&(z.stopPropagation(),x.shift()())};addEventListener("message",A,!0),setImmediate=function(Y){x.push(Y),h?(t.setImmediates===void 0&&(t.setImmediates=[]),t.setImmediates.push(Y),postMessage({target:O})):postMessage(O,"*")}}fe.mainLoop.scheduler=function(){setImmediate(fe.mainLoop.runner)},fe.mainLoop.method="immediate"}return 0}var jN;jN=function(){return performance.now()};function BB(b){KB(b)}function Ine(){if(!Pn())try{BB(gt)}catch(b){if(b instanceof FE)return;throw b}}function jB(b,S,x,O,A){Pe(!fe.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),fe.mainLoop.func=b,fe.mainLoop.arg=O;var z=fe.mainLoop.currentlyRunningMainloop;function Y(){return z<fe.mainLoop.currentlyRunningMainloop?(Ine(),!1):!0}if(fe.mainLoop.running=!1,fe.mainLoop.runner=function(){if(!$e){if(fe.mainLoop.queue.length>0){var pe=Date.now(),Me=fe.mainLoop.queue.shift();if(Me.func(Me.arg),fe.mainLoop.remainingBlockers){var qe=fe.mainLoop.remainingBlockers,bt=qe%1==0?qe-1:Math.floor(qe);Me.counted?fe.mainLoop.remainingBlockers=bt:(bt=bt+.5,fe.mainLoop.remainingBlockers=(8*qe+bt)/9)}if(L('main loop blocker "'+Me.name+'" took '+(Date.now()-pe)+" ms"),fe.mainLoop.updateStatus(),!Y())return;setTimeout(fe.mainLoop.runner,0);return}if(!!Y()){if(fe.mainLoop.currentFrameNumber=fe.mainLoop.currentFrameNumber+1|0,fe.mainLoop.timingMode==1&&fe.mainLoop.timingValue>1&&fe.mainLoop.currentFrameNumber%fe.mainLoop.timingValue!=0){fe.mainLoop.scheduler();return}else fe.mainLoop.timingMode==0&&(fe.mainLoop.tickStartTime=jN());fe.mainLoop.method==="timeout"&&t.ctx&&(M("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),fe.mainLoop.method=""),fe.mainLoop.runIter(b),be(),Y()&&(typeof SDL=="object"&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),fe.mainLoop.scheduler())}}},A||(S&&S>0?BN(0,1e3/S):BN(1,1),fe.mainLoop.scheduler()),x)throw"unwind"}function One(b,S,x){var O=K.get(b);jB(O,S,x)}var WN={};function Tne(){return l||"./this.program"}function rC(){if(!rC.strings){var b=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",S={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:b,_:Tne()};for(var x in WN)WN[x]===void 0?delete S[x]:S[x]=WN[x];var O=[];for(var x in S)O.push(x+"="+S[x]);rC.strings=O}return rC.strings}function Nne(b,S){var x=0;return rC().forEach(function(O,A){var z=S+x;Dt[b+A*4>>2]=z,ed(O,z),x+=O.length+1}),0}function Pne(b,S){var x=rC();Dt[b>>2]=x.length;var O=0;return x.forEach(function(A){O+=A.length+1}),Dt[S>>2]=O,0}function Mne(b){try{var S=pc.getStreamFromFD(b);return P.close(S),0}catch(x){return(typeof P>"u"||!(x instanceof P.ErrnoError))&&v(x),x.errno}}function Ane(b,S,x,O){try{var A=pc.getStreamFromFD(b),z=pc.doReadv(A,S,x);return Dt[O>>2]=z,0}catch(Y){return(typeof P>"u"||!(Y instanceof P.ErrnoError))&&v(Y),Y.errno}}function Rne(b,S,x,O){try{var A=pc.getStreamFromFD(b),z=pc.doWritev(A,S,x);return Dt[O>>2]=z,0}catch(Y){return(typeof P>"u"||!(Y instanceof P.ErrnoError))&&v(Y),Y.errno}}function Fne(){return Ne()}function Bne(b){return b}function jne(b){ne(b)}var WB=function(b,S,x,O){b||(b=this),this.parent=b,this.mount=b.mount,this.mounted=null,this.id=P.nextInode++,this.name=S,this.mode=x,this.node_ops={},this.stream_ops={},this.rdev=O},PE=365,ME=146;Object.defineProperties(WB.prototype,{read:{get:function(){return(this.mode&PE)===PE},set:function(b){b?this.mode|=PE:this.mode&=~PE}},write:{get:function(){return(this.mode&ME)===ME},set:function(b){b?this.mode|=ME:this.mode&=~ME}},isFolder:{get:function(){return P.isDir(this.mode)}},isDevice:{get:function(){return P.isChrdev(this.mode)}}}),P.FSNode=WB,P.staticInit(),t.requestFullscreen=function(S,x){fe.requestFullscreen(S,x)},t.requestFullScreen=function(){fe.requestFullScreen()},t.requestAnimationFrame=function(S){fe.requestAnimationFrame(S)},t.setCanvasSize=function(S,x,O){fe.setCanvasSize(S,x,O)},t.pauseMainLoop=function(){fe.mainLoop.pause()},t.resumeMainLoop=function(){fe.mainLoop.resume()},t.getUserMedia=function(){fe.getUserMedia()},t.createContext=function(S,x,O,A){return fe.createContext(S,x,O,A)};var p0e=!0;function UN(b,S,x){var O=x>0?x:Yr(b)+1,A=new Array(O),z=Wo(b,A,0,A.length);return S&&(A.length=z),A}var UB={__cxa_allocate_exception:ane,__cxa_begin_catch:cne,__cxa_end_catch:une,__cxa_find_matching_catch_2:gne,__cxa_find_matching_catch_4:mne,__cxa_throw:pne,__gxx_personality_v0:_ne,__resumeException:fne,__sys_getcwd:yne,__sys_open:Sne,_emscripten_throw_longjmp:Ene,abort:xne,emscripten_get_heap_max:Dne,emscripten_memcpy_big:Lne,emscripten_resize_heap:kne,emscripten_set_main_loop:One,environ_get:Nne,environ_sizes_get:Pne,exit:BB,fd_close:Mne,fd_read:Ane,fd_write:Rne,getTempRet0:Fne,invoke_dd:voe,invoke_ddd:Coe,invoke_didd:Soe,invoke_i:moe,invoke_ii:foe,invoke_iii:doe,invoke_iiii:hoe,invoke_iiiii:poe,invoke_iiiiii:xoe,invoke_iiiiiiiiiiiii:Eoe,invoke_ij:Ioe,invoke_j:zoe,invoke_ji:Poe,invoke_jii:Loe,invoke_jiii:Ooe,invoke_jiiii:Uoe,invoke_jijj:Woe,invoke_v:aoe,invoke_vi:roe,invoke_vid:woe,invoke_vii:coe,invoke_viid:boe,invoke_viii:soe,invoke_viiii:goe,invoke_viiiii:loe,invoke_viiiiii:_oe,invoke_viiiiiii:yoe,invoke_viiiiiiii:uoe,invoke_viiiiijji:Roe,invoke_viiiij:Boe,invoke_viiiijii:joe,invoke_viiij:Aoe,invoke_viiiji:Doe,invoke_viiijj:Noe,invoke_viij:koe,invoke_viiji:Foe,invoke_vij:Toe,invoke_vijj:Moe,llvm_eh_typeid_for:Bne,setTempRet0:jne},_0e=Ir(),b0e=t.___wasm_call_ctors=N("__wasm_call_ctors"),v0e=t._main=N("main"),w0e=t._artichoke_web_repl_init=N("artichoke_web_repl_init"),C0e=t._artichoke_string_new=N("artichoke_string_new"),y0e=t._artichoke_string_free=N("artichoke_string_free"),S0e=t._artichoke_string_getlen=N("artichoke_string_getlen"),E0e=t._artichoke_string_getch=N("artichoke_string_getch"),x0e=t._artichoke_string_putch=N("artichoke_string_putch"),D0e=t._artichoke_eval=N("artichoke_eval"),L0e=t._mrb_gc_protect=N("mrb_gc_protect"),k0e=t._mrb_sys_value_is_dead=N("mrb_sys_value_is_dead"),I0e=t._mrb_sys_gc_arena_restore=N("mrb_sys_gc_arena_restore"),O0e=t._mrb_class_defined_under=N("mrb_class_defined_under"),T0e=t._mrb_class_get_under=N("mrb_class_get_under"),N0e=t._mrb_class_defined=N("mrb_class_defined"),P0e=t._mrb_class_get=N("mrb_class_get"),M0e=t._mrb_sys_class_of_value=N("mrb_sys_class_of_value"),A0e=t._mrb_sys_gc_arena_save=N("mrb_sys_gc_arena_save"),R0e=t._mrb_sys_obj_frozen=N("mrb_sys_obj_frozen"),F0e=t._mrb_define_class=N("mrb_define_class"),B0e=t._mrb_define_module=N("mrb_define_module"),j0e=t._mrb_define_class_method=N("mrb_define_class_method"),W0e=t._mrb_define_singleton_method=N("mrb_define_singleton_method"),U0e=t._mrb_define_method=N("mrb_define_method"),z0e=t._mrb_define_module_function=N("mrb_define_module_function"),V0e=t._mrb_define_class_under=N("mrb_define_class_under"),H0e=t._mrb_sys_alloc_rarray=N("mrb_sys_alloc_rarray"),$0e=t._mrb_data_check_get_ptr=N("mrb_data_check_get_ptr"),K0e=t._mrb_define_module_under=N("mrb_define_module_under"),q0e=t._mrb_data_object_alloc=N("mrb_data_object_alloc"),Y0e=t._mrb_sys_obj_value=N("mrb_sys_obj_value"),Z0e=t._mrb_close=N("mrb_close"),G0e=t._mrb_sys_class_value=N("mrb_sys_class_value"),X0e=t._mrb_obj_new=N("mrb_obj_new"),Q0e=t._mrb_sys_value_is_nil=N("mrb_sys_value_is_nil"),J0e=t._mrb_sys_value_is_true=N("mrb_sys_value_is_true"),eye=t._mrb_sys_value_is_false=N("mrb_sys_value_is_false"),tye=t._mrb_define_global_const=N("mrb_define_global_const"),iye=t._mrb_define_const=N("mrb_define_const"),nye=t._mrb_sys_false_value=N("mrb_sys_false_value"),oye=t._mrb_sys_true_value=N("mrb_sys_true_value"),rye=t._mrb_sys_nil_value=N("mrb_sys_nil_value"),sye=t._mrb_str_new=N("mrb_str_new"),aye=t._mrb_string_value_ptr=N("mrb_string_value_ptr"),lye=t._mrb_string_value_len=N("mrb_string_value_len"),cye=t._mrb_sys_fixnum_value=N("mrb_sys_fixnum_value"),dye=t._mrb_sys_fixnum_to_cint=N("mrb_sys_fixnum_to_cint"),hye=t._mrb_sys_float_value=N("mrb_sys_float_value"),uye=t._mrb_sys_float_to_cdouble=N("mrb_sys_float_to_cdouble"),fye=t._mrb_hash_new_capa=N("mrb_hash_new_capa"),gye=t._mrb_hash_set=N("mrb_hash_set"),mye=t._mrb_hash_keys=N("mrb_hash_keys"),pye=t._mrb_hash_get=N("mrb_hash_get"),_ye=t._mrb_sys_cptr_value=N("mrb_sys_cptr_value"),bye=t._mrb_protect=N("mrb_protect"),vye=t._mrb_sys_gc_live_objects=N("mrb_sys_gc_live_objects"),wye=t._mrb_sys_safe_gc_mark=N("mrb_sys_safe_gc_mark"),Cye=t._mrb_incremental_gc=N("mrb_incremental_gc"),yye=t._mrb_full_gc=N("mrb_full_gc"),Sye=t._mrb_sys_gc_enable=N("mrb_sys_gc_enable"),Eye=t._mrb_sys_gc_disable=N("mrb_sys_gc_disable"),xye=t._mrb_gv_set=N("mrb_gv_set"),Dye=t._mrbc_filename=N("mrbc_filename"),Lye=t._mrb_top_self=N("mrb_top_self"),kye=t._mrb_sys_module_value=N("mrb_sys_module_value"),Iye=t._mrb_ary_new=N("mrb_ary_new"),Oye=t._mrb_ary_new_capa=N("mrb_ary_new_capa"),Tye=t._mrb_ary_new_from_values=N("mrb_ary_new_from_values"),Nye=t._mrb_sys_basic_ptr=N("mrb_sys_basic_ptr"),Pye=t._mrb_write_barrier=N("mrb_write_barrier"),Mye=t._mrb_assoc_new=N("mrb_assoc_new"),Aye=t._mrb_ary_splat=N("mrb_ary_splat"),Rye=t._mrb_ary_concat=N("mrb_ary_concat"),Fye=t._mrb_ary_pop=N("mrb_ary_pop"),Bye=t._mrb_ary_push=N("mrb_ary_push"),jye=t._mrb_ary_ref=N("mrb_ary_ref"),Wye=t._mrb_ary_set=N("mrb_ary_set"),Uye=t._mrb_ary_shift=N("mrb_ary_shift"),zye=t._mrb_ary_unshift=N("mrb_ary_unshift"),Vye=t._mrb_ary_artichoke_free=N("mrb_ary_artichoke_free"),Hye=t._mrb_get_args=N("mrb_get_args"),$ye=t._mrb_sys_set_instance_tt=N("mrb_sys_set_instance_tt"),Kye=t._mrb_const_defined_at=N("mrb_const_defined_at"),qye=t._mrb_module_get_under=N("mrb_module_get_under"),Yye=t._mrb_module_get=N("mrb_module_get"),Zye=t._mrbc_context_new=N("mrbc_context_new"),Gye=t._mrbc_context_free=N("mrbc_context_free"),Xye=t._mrb_sys_data_init=N("mrb_sys_data_init"),Qye=t._mrb_exc_raise=N("mrb_exc_raise"),Jye=t._mrb_sys_raise=N("mrb_sys_raise"),e1e=t._mrb_sys_class_ptr=N("mrb_sys_class_ptr"),t1e=t._mrb_sys_new_symbol=N("mrb_sys_new_symbol"),i1e=t._mrb_sys_repack_into_rarray=N("mrb_sys_repack_into_rarray"),n1e=t._mrb_to_flo=N("mrb_to_flo"),o1e=t._mrb_sys_cptr_ptr=N("mrb_sys_cptr_ptr"),r1e=t._mrb_funcall_with_block=N("mrb_funcall_with_block"),s1e=t._mrb_funcall_argv=N("mrb_funcall_argv"),a1e=t._mrb_load_nstring_cxt=N("mrb_load_nstring_cxt"),l1e=t._mrb_yield=N("mrb_yield"),c1e=t._mrb_range_beg_len=N("mrb_range_beg_len"),d1e=t._mrb_intern=N("mrb_intern"),h1e=t._mrb_intern_static=N("mrb_intern_static"),u1e=t._mrb_intern_cstr=N("mrb_intern_cstr"),f1e=t._mrb_intern_str=N("mrb_intern_str"),g1e=t._mrb_intern_check=N("mrb_intern_check"),m1e=t._mrb_intern_check_cstr=N("mrb_intern_check_cstr"),p1e=t._mrb_intern_check_str=N("mrb_intern_check_str"),_1e=t._mrb_check_intern=N("mrb_check_intern"),b1e=t._mrb_check_intern_cstr=N("mrb_check_intern_cstr"),v1e=t._mrb_check_intern_str=N("mrb_check_intern_str"),w1e=t._mrb_sym_name=N("mrb_sym_name"),C1e=t._mrb_sym_name_len=N("mrb_sym_name_len"),y1e=t._mrb_sym_dump=N("mrb_sym_dump"),S1e=t._mrb_sym_str=N("mrb_sym_str"),E1e=t._mrb_free_symtbl=N("mrb_free_symtbl"),x1e=t._mrb_default_allocf=N("mrb_default_allocf"),D1e=t._mrb_open_allocf=N("mrb_open_allocf"),L1e=t._mrb_init_symtbl=N("mrb_init_symtbl"),k1e=t._mrb_obj_alloc=N("mrb_obj_alloc"),I1e=t._mrb_data_check_type=N("mrb_data_check_type"),O1e=t._mrb_check_type=N("mrb_check_type"),T1e=t._mrb_exc_get_id=N("mrb_exc_get_id"),N1e=t._mrb_raisef=N("mrb_raisef"),P1e=t._mrb_data_get_ptr=N("mrb_data_get_ptr"),M1e=t._mrb_obj_to_sym=N("mrb_obj_to_sym"),A1e=t._mrb_int_id=N("mrb_int_id"),R1e=t._mrb_float_id=N("mrb_float_id"),F1e=t._mrb_obj_id=N("mrb_obj_id"),B1e=t._mrb_fiber_resume=N("mrb_fiber_resume"),j1e=t._mrb_fiber_alive_p=N("mrb_fiber_alive_p"),W1e=t._mrb_fiber_yield=N("mrb_fiber_yield"),U1e=t._mrb_exc_new=N("mrb_exc_new"),z1e=t._mrb_exc_new_str=N("mrb_exc_new_str"),V1e=t._mrb_format=N("mrb_format"),H1e=t._mrb_vformat=N("mrb_vformat"),$1e=t._mrb_to_str=N("mrb_to_str"),K1e=t._mrb_attr_get=N("mrb_attr_get"),q1e=t._mrb_obj_classname=N("mrb_obj_classname"),Y1e=t._mrb_str_new_cstr=N("mrb_str_new_cstr"),Z1e=t._mrb_obj_class=N("mrb_obj_class"),G1e=t._mrb_obj_as_string=N("mrb_obj_as_string"),X1e=t._mrb_obj_is_kind_of=N("mrb_obj_is_kind_of"),Q1e=t._mrb_raise=N("mrb_raise"),J1e=t._mrb_p=N("mrb_p"),eSe=t._mrb_str_new_capa=N("mrb_str_new_capa"),tSe=t._mrb_inspect=N("mrb_inspect"),iSe=t._mrb_str_cat=N("mrb_str_cat"),nSe=t._mrb_name_error=N("mrb_name_error"),oSe=t._mrb_warn=N("mrb_warn"),rSe=t._mrb_bug=N("mrb_bug"),sSe=t._mrb_make_exception=N("mrb_make_exception"),aSe=t._mrb_argnum_error=N("mrb_argnum_error"),lSe=t._mrb_respond_to=N("mrb_respond_to"),cSe=t._mrb_iv_set=N("mrb_iv_set"),dSe=t._mrb_sys_fail=N("mrb_sys_fail"),hSe=t.___errno_location=N("__errno_location"),uSe=t._mrb_funcall=N("mrb_funcall"),fSe=t._mrb_no_method_error=N("mrb_no_method_error"),gSe=t._mrb_frozen_error=N("mrb_frozen_error"),zB=t._malloc=N("malloc"),mSe=t._saveSetjmp=N("saveSetjmp"),VB=t._free=N("free"),pSe=t._mrb_free=N("mrb_free"),_Se=t._mrb_exc_backtrace=N("mrb_exc_backtrace"),bSe=t._mrb_str_new_static=N("mrb_str_new_static"),vSe=t._mrb_obj_equal=N("mrb_obj_equal"),wSe=t._mrb_obj_clone=N("mrb_obj_clone"),CSe=t._mrb_funcall_id=N("mrb_funcall_id"),ySe=t._mrb_get_arg1=N("mrb_get_arg1"),SSe=t._mrb_mt_foreach=N("mrb_mt_foreach"),ESe=t._mrb_class_path=N("mrb_class_path"),xSe=t._mrb_define_module_id=N("mrb_define_module_id"),DSe=t._mrb_gc_mark=N("mrb_gc_mark"),LSe=t._mrb_obj_iv_defined=N("mrb_obj_iv_defined"),kSe=t._mrb_obj_iv_get=N("mrb_obj_iv_get"),ISe=t._mrb_str_dup=N("mrb_str_dup"),OSe=t._mrb_const_get=N("mrb_const_get"),TSe=t._mrb_malloc=N("mrb_malloc"),NSe=t._mrb_obj_iv_set=N("mrb_obj_iv_set"),PSe=t._mrb_define_module_under_id=N("mrb_define_module_under_id"),MSe=t._mrb_define_class_id=N("mrb_define_class_id"),ASe=t._mrb_class_new=N("mrb_class_new"),RSe=t._mrb_class_real=N("mrb_class_real"),FSe=t._mrb_func_basic_p=N("mrb_func_basic_p"),BSe=t._mrb_const_defined=N("mrb_const_defined"),jSe=t._mrb_class_defined_id=N("mrb_class_defined_id"),WSe=t._mrb_class_defined_under_id=N("mrb_class_defined_under_id"),USe=t._mrb_class_get_under_id=N("mrb_class_get_under_id"),zSe=t._mrb_class_get_id=N("mrb_class_get_id"),VSe=t._mrb_module_get_under_id=N("mrb_module_get_under_id"),HSe=t._mrb_module_get_id=N("mrb_module_get_id"),$Se=t._mrb_define_class_under_id=N("mrb_define_class_under_id"),KSe=t._mrb_define_method_raw=N("mrb_define_method_raw"),qSe=t._mrb_field_write_barrier=N("mrb_field_write_barrier"),YSe=t._mrb_define_method_id=N("mrb_define_method_id"),ZSe=t._mrb_notimplement=N("mrb_notimplement"),GSe=t._mrb_notimplement_m=N("mrb_notimplement_m"),XSe=t._mrb_get_argc=N("mrb_get_argc"),QSe=t._mrb_get_argv=N("mrb_get_argv"),JSe=t._mrb_string_cstr=N("mrb_string_cstr"),eEe=t._mrb_to_int=N("mrb_to_int"),tEe=t._mrb_hash_dup=N("mrb_hash_dup"),iEe=t._mrb_hash_new=N("mrb_hash_new"),nEe=t._mrb_hash_key_p=N("mrb_hash_key_p"),oEe=t._mrb_hash_delete_key=N("mrb_hash_delete_key"),rEe=t._mrb_hash_empty_p=N("mrb_hash_empty_p"),sEe=t._mrb_include_module=N("mrb_include_module"),aEe=t._mrb_prepend_module=N("mrb_prepend_module"),lEe=t._mrb_singleton_class_ptr=N("mrb_singleton_class_ptr"),cEe=t._mrb_singleton_class=N("mrb_singleton_class"),dEe=t._mrb_define_singleton_method_id=N("mrb_define_singleton_method_id"),hEe=t._mrb_define_class_method_id=N("mrb_define_class_method_id"),uEe=t._mrb_define_module_function_id=N("mrb_define_module_function_id"),fEe=t._mrb_method_search_vm=N("mrb_method_search_vm"),gEe=t._mrb_method_search=N("mrb_method_search"),mEe=t._mrb_obj_respond_to=N("mrb_obj_respond_to"),pEe=t._mrb_class_name=N("mrb_class_name"),_Ee=t._mrb_ptr_to_str=N("mrb_ptr_to_str"),bEe=t._mrb_str_cat_str=N("mrb_str_cat_str"),vEe=t._mrb_module_new=N("mrb_module_new"),wEe=t._mrb_alias_method=N("mrb_alias_method"),CEe=t._mrb_define_alias=N("mrb_define_alias"),yEe=t._mrb_define_alias_id=N("mrb_define_alias_id"),SEe=t._mrb_iv_get=N("mrb_iv_get"),EEe=t._mrb_any_to_s=N("mrb_any_to_s"),xEe=t._mrb_undef_method_id=N("mrb_undef_method_id"),DEe=t._mrb_undef_method=N("mrb_undef_method"),LEe=t._mrb_undef_class_method_id=N("mrb_undef_class_method_id"),kEe=t._mrb_undef_class_method=N("mrb_undef_class_method"),IEe=t._mrb_remove_method=N("mrb_remove_method"),OEe=t._mrb_iv_copy=N("mrb_iv_copy"),TEe=t._mrb_iv_remove=N("mrb_iv_remove"),NEe=t._mrb_obj_dup=N("mrb_obj_dup"),PEe=t._mrb_define_const_id=N("mrb_define_const_id"),MEe=t._mrb_yield_with_class=N("mrb_yield_with_class"),AEe=t._mrb_ensure_string_type=N("mrb_ensure_string_type"),REe=t._mrb_str_index=N("mrb_str_index"),FEe=t._mrb_const_set=N("mrb_const_set"),BEe=t._mrb_calloc=N("mrb_calloc"),jEe=t._mrb_alloca=N("mrb_alloca"),WEe=t._mrb_iv_name_sym_check=N("mrb_iv_name_sym_check"),UEe=t._mrb_proc_new_cfunc_with_env=N("mrb_proc_new_cfunc_with_env"),zEe=t._mrb_proc_cfunc_env_get=N("mrb_proc_cfunc_env_get"),VEe=t._mrb_proc_new_cfunc=N("mrb_proc_new_cfunc"),HEe=t._mrb_closure_new_cfunc=N("mrb_closure_new_cfunc"),$Ee=t._mrb_iv_foreach=N("mrb_iv_foreach"),KEe=t._mrb_iv_defined=N("mrb_iv_defined"),qEe=t._mrb_iv_name_sym_p=N("mrb_iv_name_sym_p"),YEe=t._mrb_str_cat_cstr=N("mrb_str_cat_cstr"),ZEe=t._mrb_cv_get=N("mrb_cv_get"),GEe=t._mrb_mod_cv_set=N("mrb_mod_cv_set"),XEe=t._mrb_cv_set=N("mrb_cv_set"),QEe=t._mrb_cv_defined=N("mrb_cv_defined"),JEe=t._mrb_const_remove=N("mrb_const_remove"),exe=t._mrb_gv_get=N("mrb_gv_get"),txe=t._mrb_gv_remove=N("mrb_gv_remove"),ixe=t._mrb_float_to_str=N("mrb_float_to_str"),nxe=t._mrb_float_to_cstr=N("mrb_float_to_cstr"),oxe=t._mrb_obj_eq=N("mrb_obj_eq"),rxe=t._mrb_equal=N("mrb_equal"),sxe=t._mrb_obj_freeze=N("mrb_obj_freeze"),axe=t._mrb_type_convert=N("mrb_type_convert"),lxe=t._mrb_type_convert_check=N("mrb_type_convert_check"),cxe=t._mrb_flo_to_fixnum=N("mrb_flo_to_fixnum"),dxe=t._mrb_convert_to_integer=N("mrb_convert_to_integer"),hxe=t._mrb_str_to_inum=N("mrb_str_to_inum"),uxe=t._mrb_check_string_type=N("mrb_check_string_type"),fxe=t._mrb_Integer=N("mrb_Integer"),gxe=t._mrb_Float=N("mrb_Float"),mxe=t._mrb_str_to_dbl=N("mrb_str_to_dbl"),pxe=t._mrb_string_type=N("mrb_string_type"),_xe=t._mrb_ensure_array_type=N("mrb_ensure_array_type"),bxe=t._mrb_check_array_type=N("mrb_check_array_type"),vxe=t._mrb_ensure_hash_type=N("mrb_ensure_hash_type"),wxe=t._mrb_check_hash_type=N("mrb_check_hash_type"),Cxe=t._mrb_eql=N("mrb_eql"),yxe=t._mrb_obj_inspect=N("mrb_obj_inspect"),Sxe=t._mrb_obj_is_instance_of=N("mrb_obj_is_instance_of"),Exe=t._mrb_f_raise=N("mrb_f_raise"),xxe=t._mrb_ary_entry=N("mrb_ary_entry"),Dxe=t._mrb_realloc=N("mrb_realloc"),Lxe=t._mrb_str_strlen=N("mrb_str_strlen"),kxe=t._mrb_str_modify_keep_ascii=N("mrb_str_modify_keep_ascii"),Ixe=t._mrb_str_modify=N("mrb_str_modify"),Oxe=t._mrb_str_resize=N("mrb_str_resize"),Txe=t._mrb_str_to_cstr=N("mrb_str_to_cstr"),Nxe=t._mrb_str_concat=N("mrb_str_concat"),Pxe=t._mrb_fixnum_to_str=N("mrb_fixnum_to_str"),Mxe=t._mrb_str_plus=N("mrb_str_plus"),Axe=t._mrb_str_cmp=N("mrb_str_cmp"),Rxe=t._mrb_str_equal=N("mrb_str_equal"),Fxe=t._mrb_str_substr=N("mrb_str_substr"),Bxe=t._mrb_str_intern=N("mrb_str_intern"),jxe=t._mrb_cstr_to_inum=N("mrb_cstr_to_inum"),Wxe=t._mrb_string_value_cstr=N("mrb_string_value_cstr"),Uxe=t._mrb_float_read=N("mrb_float_read"),zxe=t._mrb_cstr_to_dbl=N("mrb_cstr_to_dbl"),Vxe=t._mrb_str_append=N("mrb_str_append"),Hxe=t._mrb_ensure=N("mrb_ensure"),$xe=t._mrb_rescue=N("mrb_rescue"),Kxe=t._mrb_rescue_exceptions=N("mrb_rescue_exceptions"),qxe=t._mrb_realloc_simple=N("mrb_realloc_simple"),Yxe=t._mrb_malloc_simple=N("mrb_malloc_simple"),Zxe=t._mrb_object_dead_p=N("mrb_object_dead_p"),Gxe=t._mrb_gc_register=N("mrb_gc_register"),Xxe=t._mrb_gc_unregister=N("mrb_gc_unregister"),Qxe=t._mrb_ary_modify=N("mrb_ary_modify"),Jxe=t._mrb_garbage_collect=N("mrb_garbage_collect"),eDe=t._mrb_free_context=N("mrb_free_context"),tDe=t._mrb_stack_extend=N("mrb_stack_extend"),iDe=t._mrb_vm_run=N("mrb_vm_run"),nDe=t._mrb_yield_argv=N("mrb_yield_argv"),oDe=t._mrb_vm_exec=N("mrb_vm_exec"),rDe=t._mrb_range_new=N("mrb_range_new"),sDe=t._mrb_hash_merge=N("mrb_hash_merge"),aDe=t._mrb_top_run=N("mrb_top_run"),lDe=t._mrb_hash_foreach=N("mrb_hash_foreach"),cDe=t._mrb_hash_fetch=N("mrb_hash_fetch"),dDe=t._mrb_hash_clear=N("mrb_hash_clear"),hDe=t._mrb_hash_size=N("mrb_hash_size"),uDe=t._mrb_hash_values=N("mrb_hash_values"),fDe=t._mrb_print_error=N("mrb_print_error"),gDe=t._mrb_print_backtrace=N("mrb_print_backtrace"),mDe=t._mrb_show_version=N("mrb_show_version"),pDe=t._mrb_show_copyright=N("mrb_show_copyright"),_De=t._mrb_num_mul=N("mrb_num_mul"),bDe=t._mrb_num_plus=N("mrb_num_plus"),vDe=t._mrb_num_minus=N("mrb_num_minus"),wDe=t._mrb_cmp=N("mrb_cmp"),CDe=t._mrb_sys_range_excl=N("mrb_sys_range_excl"),yDe=t._mrb_range_ptr=N("mrb_range_ptr"),SDe=t._mrb_sys_obj_ptr=N("mrb_sys_obj_ptr"),EDe=t._mrb_sys_proc_ptr=N("mrb_sys_proc_ptr"),xDe=t._mrb_sys_class_to_rclass=N("mrb_sys_class_to_rclass"),DDe=t._mrb_sys_data_value=N("mrb_sys_data_value"),LDe=t._mrb_sys_proc_value=N("mrb_sys_proc_value"),kDe=t._mrb_sys_raise_current_exception=N("mrb_sys_raise_current_exception"),IDe=t._mrb_debug_get_filename=N("mrb_debug_get_filename"),ODe=t._mrb_debug_get_line=N("mrb_debug_get_line"),TDe=t._mrb_debug_info_alloc=N("mrb_debug_info_alloc"),NDe=t._mrb_debug_info_append_file=N("mrb_debug_info_append_file"),PDe=t._mrb_debug_info_free=N("mrb_debug_info_free"),MDe=t._mrb_parser_parse=N("mrb_parser_parse"),ADe=t._mrb_parser_set_filename=N("mrb_parser_set_filename"),RDe=t._mrb_parser_new=N("mrb_parser_new"),FDe=t._mrb_parser_free=N("mrb_parser_free"),BDe=t._mrb_pool_alloc=N("mrb_pool_alloc"),jDe=t._mrb_pool_open=N("mrb_pool_open"),WDe=t._mrb_pool_close=N("mrb_pool_close"),UDe=t._mrbc_partial_hook=N("mrbc_partial_hook"),zDe=t._mrbc_cleanup_local_variables=N("mrbc_cleanup_local_variables"),VDe=t._mrb_parser_get_filename=N("mrb_parser_get_filename"),HDe=t._mrb_parse_nstring=N("mrb_parse_nstring"),$De=t._mrb_parse_string=N("mrb_parse_string"),KDe=t._mrb_load_exec=N("mrb_load_exec"),qDe=t._mrb_generate_code=N("mrb_generate_code"),YDe=t._mrb_load_nstring=N("mrb_load_nstring"),ZDe=t._mrb_load_string_cxt=N("mrb_load_string_cxt"),GDe=t._mrb_load_string=N("mrb_load_string"),XDe=t._mrb_pool_realloc=N("mrb_pool_realloc"),QDe=t._mrb_get_backtrace=N("mrb_get_backtrace"),JDe=t._mrb_add_irep=N("mrb_add_irep"),eLe=t._mrb_pool_can_realloc=N("mrb_pool_can_realloc"),tLe=t._mrb_state_atexit=N("mrb_state_atexit"),iLe=t._mrb_open_core=N("mrb_open_core"),nLe=t._mrb_open=N("mrb_open"),oLe=t._sysconf=N("sysconf"),rLe=t._rust_eh_personality=N("rust_eh_personality"),sLe=t._emscripten_main_thread_process_queued_calls=N("emscripten_main_thread_process_queued_calls"),zN=t._emscripten_stack_get_end=function(){return(zN=t._emscripten_stack_get_end=t.asm.emscripten_stack_get_end).apply(null,arguments)},aLe=t._fflush=N("fflush"),lLe=t._ntohs=N("ntohs"),cLe=t._htons=N("htons"),dLe=t._htonl=N("htonl"),wi=t.stackSave=N("stackSave"),Ci=t.stackRestore=N("stackRestore"),AE=t.stackAlloc=N("stackAlloc"),HB=t._emscripten_stack_init=function(){return(HB=t._emscripten_stack_init=t.asm.emscripten_stack_init).apply(null,arguments)},Wne=t._emscripten_stack_get_free=function(){return(Wne=t._emscripten_stack_get_free=t.asm.emscripten_stack_get_free).apply(null,arguments)},yi=t._setThrew=N("setThrew"),$B=t.___cxa_can_catch=N("__cxa_can_catch"),Une=t.___cxa_is_pointer_type=N("__cxa_is_pointer_type"),zne=t.dynCall_ji=N("dynCall_ji"),Vne=t.dynCall_viiiji=N("dynCall_viiiji"),Hne=t.dynCall_jii=N("dynCall_jii"),$ne=t.dynCall_viij=N("dynCall_viij"),Kne=t.dynCall_ij=N("dynCall_ij"),qne=t.dynCall_jiii=N("dynCall_jiii"),Yne=t.dynCall_viiijj=N("dynCall_viiijj"),hLe=t.dynCall_viiiijj=N("dynCall_viiiijj"),Zne=t.dynCall_viiiiijji=N("dynCall_viiiiijji"),Gne=t.dynCall_vij=N("dynCall_vij"),Xne=t.dynCall_vijj=N("dynCall_vijj"),Qne=t.dynCall_viiij=N("dynCall_viiij"),Jne=t.dynCall_viiji=N("dynCall_viiji"),eoe=t.dynCall_viiiij=N("dynCall_viiiij"),toe=t.dynCall_viiiijii=N("dynCall_viiiijii"),ioe=t.dynCall_jijj=N("dynCall_jijj"),noe=t.dynCall_jiiii=N("dynCall_jiiii"),ooe=t.dynCall_j=N("dynCall_j");function roe(b,S){var x=wi();try{K.get(b)(S)}catch(O){if(Ci(x),O!==O+0&&O!=="longjmp")throw O;yi(1,0)}}function soe(b,S,x,O){var A=wi();try{K.get(b)(S,x,O)}catch(z){if(Ci(A),z!==z+0&&z!=="longjmp")throw z;yi(1,0)}}function aoe(b){var S=wi();try{K.get(b)()}catch(x){if(Ci(S),x!==x+0&&x!=="longjmp")throw x;yi(1,0)}}function loe(b,S,x,O,A,z){var Y=wi();try{K.get(b)(S,x,O,A,z)}catch(Q){if(Ci(Y),Q!==Q+0&&Q!=="longjmp")throw Q;yi(1,0)}}function coe(b,S,x){var O=wi();try{K.get(b)(S,x)}catch(A){if(Ci(O),A!==A+0&&A!=="longjmp")throw A;yi(1,0)}}function doe(b,S,x){var O=wi();try{return K.get(b)(S,x)}catch(A){if(Ci(O),A!==A+0&&A!=="longjmp")throw A;yi(1,0)}}function hoe(b,S,x,O){var A=wi();try{return K.get(b)(S,x,O)}catch(z){if(Ci(A),z!==z+0&&z!=="longjmp")throw z;yi(1,0)}}function uoe(b,S,x,O,A,z,Y,Q,pe){var Me=wi();try{K.get(b)(S,x,O,A,z,Y,Q,pe)}catch(qe){if(Ci(Me),qe!==qe+0&&qe!=="longjmp")throw qe;yi(1,0)}}function foe(b,S){var x=wi();try{return K.get(b)(S)}catch(O){if(Ci(x),O!==O+0&&O!=="longjmp")throw O;yi(1,0)}}function goe(b,S,x,O,A){var z=wi();try{K.get(b)(S,x,O,A)}catch(Y){if(Ci(z),Y!==Y+0&&Y!=="longjmp")throw Y;yi(1,0)}}function moe(b){var S=wi();try{return K.get(b)()}catch(x){if(Ci(S),x!==x+0&&x!=="longjmp")throw x;yi(1,0)}}function poe(b,S,x,O,A){var z=wi();try{return K.get(b)(S,x,O,A)}catch(Y){if(Ci(z),Y!==Y+0&&Y!=="longjmp")throw Y;yi(1,0)}}function _oe(b,S,x,O,A,z,Y){var Q=wi();try{K.get(b)(S,x,O,A,z,Y)}catch(pe){if(Ci(Q),pe!==pe+0&&pe!=="longjmp")throw pe;yi(1,0)}}function boe(b,S,x,O){var A=wi();try{K.get(b)(S,x,O)}catch(z){if(Ci(A),z!==z+0&&z!=="longjmp")throw z;yi(1,0)}}function voe(b,S){var x=wi();try{return K.get(b)(S)}catch(O){if(Ci(x),O!==O+0&&O!=="longjmp")throw O;yi(1,0)}}function woe(b,S,x){var O=wi();try{K.get(b)(S,x)}catch(A){if(Ci(O),A!==A+0&&A!=="longjmp")throw A;yi(1,0)}}function Coe(b,S,x){var O=wi();try{return K.get(b)(S,x)}catch(A){if(Ci(O),A!==A+0&&A!=="longjmp")throw A;yi(1,0)}}function yoe(b,S,x,O,A,z,Y,Q){var pe=wi();try{K.get(b)(S,x,O,A,z,Y,Q)}catch(Me){if(Ci(pe),Me!==Me+0&&Me!=="longjmp")throw Me;yi(1,0)}}function Soe(b,S,x,O){var A=wi();try{return K.get(b)(S,x,O)}catch(z){if(Ci(A),z!==z+0&&z!=="longjmp")throw z;yi(1,0)}}function Eoe(b,S,x,O,A,z,Y,Q,pe,Me,qe,bt,et){var Nt=wi();try{return K.get(b)(S,x,O,A,z,Y,Q,pe,Me,qe,bt,et)}catch(mt){if(Ci(Nt),mt!==mt+0&&mt!=="longjmp")throw mt;yi(1,0)}}function xoe(b,S,x,O,A,z){var Y=wi();try{return K.get(b)(S,x,O,A,z)}catch(Q){if(Ci(Y),Q!==Q+0&&Q!=="longjmp")throw Q;yi(1,0)}}function Doe(b,S,x,O,A,z,Y){var Q=wi();try{Vne(b,S,x,O,A,z,Y)}catch(pe){if(Ci(Q),pe!==pe+0&&pe!=="longjmp")throw pe;yi(1,0)}}function Loe(b,S,x){var O=wi();try{return Hne(b,S,x)}catch(A){if(Ci(O),A!==A+0&&A!=="longjmp")throw A;yi(1,0)}}function koe(b,S,x,O,A){var z=wi();try{$ne(b,S,x,O,A)}catch(Y){if(Ci(z),Y!==Y+0&&Y!=="longjmp")throw Y;yi(1,0)}}function Ioe(b,S,x){var O=wi();try{return Kne(b,S,x)}catch(A){if(Ci(O),A!==A+0&&A!=="longjmp")throw A;yi(1,0)}}function Ooe(b,S,x,O){var A=wi();try{return qne(b,S,x,O)}catch(z){if(Ci(A),z!==z+0&&z!=="longjmp")throw z;yi(1,0)}}function Toe(b,S,x,O){var A=wi();try{Gne(b,S,x,O)}catch(z){if(Ci(A),z!==z+0&&z!=="longjmp")throw z;yi(1,0)}}function Noe(b,S,x,O,A,z,Y,Q){var pe=wi();try{Yne(b,S,x,O,A,z,Y,Q)}catch(Me){if(Ci(pe),Me!==Me+0&&Me!=="longjmp")throw Me;yi(1,0)}}function Poe(b,S){var x=wi();try{return zne(b,S)}catch(O){if(Ci(x),O!==O+0&&O!=="longjmp")throw O;yi(1,0)}}function Moe(b,S,x,O,A,z){var Y=wi();try{Xne(b,S,x,O,A,z)}catch(Q){if(Ci(Y),Q!==Q+0&&Q!=="longjmp")throw Q;yi(1,0)}}function Aoe(b,S,x,O,A,z){var Y=wi();try{Qne(b,S,x,O,A,z)}catch(Q){if(Ci(Y),Q!==Q+0&&Q!=="longjmp")throw Q;yi(1,0)}}function Roe(b,S,x,O,A,z,Y,Q,pe,Me,qe){var bt=wi();try{Zne(b,S,x,O,A,z,Y,Q,pe,Me,qe)}catch(et){if(Ci(bt),et!==et+0&&et!=="longjmp")throw et;yi(1,0)}}function Foe(b,S,x,O,A,z){var Y=wi();try{Jne(b,S,x,O,A,z)}catch(Q){if(Ci(Y),Q!==Q+0&&Q!=="longjmp")throw Q;yi(1,0)}}function Boe(b,S,x,O,A,z,Y){var Q=wi();try{eoe(b,S,x,O,A,z,Y)}catch(pe){if(Ci(Q),pe!==pe+0&&pe!=="longjmp")throw pe;yi(1,0)}}function joe(b,S,x,O,A,z,Y,Q,pe){var Me=wi();try{toe(b,S,x,O,A,z,Y,Q,pe)}catch(qe){if(Ci(Me),qe!==qe+0&&qe!=="longjmp")throw qe;yi(1,0)}}function Woe(b,S,x,O,A,z){var Y=wi();try{return ioe(b,S,x,O,A,z)}catch(Q){if(Ci(Y),Q!==Q+0&&Q!=="longjmp")throw Q;yi(1,0)}}function Uoe(b,S,x,O,A){var z=wi();try{return noe(b,S,x,O,A)}catch(Y){if(Ci(z),Y!==Y+0&&Y!=="longjmp")throw Y;yi(1,0)}}function zoe(b){var S=wi();try{return ooe(b)}catch(x){if(Ci(S),x!==x+0&&x!=="longjmp")throw x;yi(1,0)}}Object.getOwnPropertyDescriptor(t,"intArrayFromString")||(t.intArrayFromString=function(){v("'intArrayFromString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"intArrayToString")||(t.intArrayToString=function(){v("'intArrayToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"ccall")||(t.ccall=function(){v("'ccall' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"cwrap")||(t.cwrap=function(){v("'cwrap' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"setValue")||(t.setValue=function(){v("'setValue' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getValue")||(t.getValue=function(){v("'getValue' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"allocate")||(t.allocate=function(){v("'allocate' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"UTF8ArrayToString")||(t.UTF8ArrayToString=function(){v("'UTF8ArrayToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"UTF8ToString")||(t.UTF8ToString=function(){v("'UTF8ToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"stringToUTF8Array")||(t.stringToUTF8Array=function(){v("'stringToUTF8Array' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"stringToUTF8")||(t.stringToUTF8=function(){v("'stringToUTF8' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"lengthBytesUTF8")||(t.lengthBytesUTF8=function(){v("'lengthBytesUTF8' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"stackTrace")||(t.stackTrace=function(){v("'stackTrace' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"addOnPreRun")||(t.addOnPreRun=function(){v("'addOnPreRun' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"addOnInit")||(t.addOnInit=function(){v("'addOnInit' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"addOnPreMain")||(t.addOnPreMain=function(){v("'addOnPreMain' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"addOnExit")||(t.addOnExit=function(){v("'addOnExit' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"addOnPostRun")||(t.addOnPostRun=function(){v("'addOnPostRun' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"writeStringToMemory")||(t.writeStringToMemory=function(){v("'writeStringToMemory' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"writeArrayToMemory")||(t.writeArrayToMemory=function(){v("'writeArrayToMemory' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"writeAsciiToMemory")||(t.writeAsciiToMemory=function(){v("'writeAsciiToMemory' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"addRunDependency")||(t.addRunDependency=function(){v("'addRunDependency' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(t,"removeRunDependency")||(t.removeRunDependency=function(){v("'removeRunDependency' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(t,"FS_createFolder")||(t.FS_createFolder=function(){v("'FS_createFolder' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"FS_createPath")||(t.FS_createPath=function(){v("'FS_createPath' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(t,"FS_createDataFile")||(t.FS_createDataFile=function(){v("'FS_createDataFile' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(t,"FS_createPreloadedFile")||(t.FS_createPreloadedFile=function(){v("'FS_createPreloadedFile' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(t,"FS_createLazyFile")||(t.FS_createLazyFile=function(){v("'FS_createLazyFile' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(t,"FS_createLink")||(t.FS_createLink=function(){v("'FS_createLink' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"FS_createDevice")||(t.FS_createDevice=function(){v("'FS_createDevice' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(t,"FS_unlink")||(t.FS_unlink=function(){v("'FS_unlink' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(t,"getLEB")||(t.getLEB=function(){v("'getLEB' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getFunctionTables")||(t.getFunctionTables=function(){v("'getFunctionTables' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"alignFunctionTables")||(t.alignFunctionTables=function(){v("'alignFunctionTables' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerFunctions")||(t.registerFunctions=function(){v("'registerFunctions' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"addFunction")||(t.addFunction=function(){v("'addFunction' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"removeFunction")||(t.removeFunction=function(){v("'removeFunction' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getFuncWrapper")||(t.getFuncWrapper=function(){v("'getFuncWrapper' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"prettyPrint")||(t.prettyPrint=function(){v("'prettyPrint' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"dynCall")||(t.dynCall=function(){v("'dynCall' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getCompilerSetting")||(t.getCompilerSetting=function(){v("'getCompilerSetting' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"print")||(t.print=function(){v("'print' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"printErr")||(t.printErr=function(){v("'printErr' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getTempRet0")||(t.getTempRet0=function(){v("'getTempRet0' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"setTempRet0")||(t.setTempRet0=function(){v("'setTempRet0' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"callMain")||(t.callMain=function(){v("'callMain' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"abort")||(t.abort=function(){v("'abort' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"keepRuntimeAlive")||(t.keepRuntimeAlive=function(){v("'keepRuntimeAlive' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"zeroMemory")||(t.zeroMemory=function(){v("'zeroMemory' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"stringToNewUTF8")||(t.stringToNewUTF8=function(){v("'stringToNewUTF8' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"setFileTime")||(t.setFileTime=function(){v("'setFileTime' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"emscripten_realloc_buffer")||(t.emscripten_realloc_buffer=function(){v("'emscripten_realloc_buffer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"ENV")||(t.ENV=function(){v("'ENV' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"ERRNO_CODES")||(t.ERRNO_CODES=function(){v("'ERRNO_CODES' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"ERRNO_MESSAGES")||(t.ERRNO_MESSAGES=function(){v("'ERRNO_MESSAGES' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"setErrNo")||(t.setErrNo=function(){v("'setErrNo' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"inetPton4")||(t.inetPton4=function(){v("'inetPton4' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"inetNtop4")||(t.inetNtop4=function(){v("'inetNtop4' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"inetPton6")||(t.inetPton6=function(){v("'inetPton6' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"inetNtop6")||(t.inetNtop6=function(){v("'inetNtop6' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"readSockaddr")||(t.readSockaddr=function(){v("'readSockaddr' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"writeSockaddr")||(t.writeSockaddr=function(){v("'writeSockaddr' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"DNS")||(t.DNS=function(){v("'DNS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getHostByName")||(t.getHostByName=function(){v("'getHostByName' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"GAI_ERRNO_MESSAGES")||(t.GAI_ERRNO_MESSAGES=function(){v("'GAI_ERRNO_MESSAGES' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"Protocols")||(t.Protocols=function(){v("'Protocols' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"Sockets")||(t.Sockets=function(){v("'Sockets' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getRandomDevice")||(t.getRandomDevice=function(){v("'getRandomDevice' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"traverseStack")||(t.traverseStack=function(){v("'traverseStack' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"UNWIND_CACHE")||(t.UNWIND_CACHE=function(){v("'UNWIND_CACHE' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"withBuiltinMalloc")||(t.withBuiltinMalloc=function(){v("'withBuiltinMalloc' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"readAsmConstArgsArray")||(t.readAsmConstArgsArray=function(){v("'readAsmConstArgsArray' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"readAsmConstArgs")||(t.readAsmConstArgs=function(){v("'readAsmConstArgs' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"mainThreadEM_ASM")||(t.mainThreadEM_ASM=function(){v("'mainThreadEM_ASM' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"jstoi_q")||(t.jstoi_q=function(){v("'jstoi_q' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"jstoi_s")||(t.jstoi_s=function(){v("'jstoi_s' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getExecutableName")||(t.getExecutableName=function(){v("'getExecutableName' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"listenOnce")||(t.listenOnce=function(){v("'listenOnce' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"autoResumeAudioContext")||(t.autoResumeAudioContext=function(){v("'autoResumeAudioContext' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"dynCallLegacy")||(t.dynCallLegacy=function(){v("'dynCallLegacy' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getDynCaller")||(t.getDynCaller=function(){v("'getDynCaller' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"dynCall")||(t.dynCall=function(){v("'dynCall' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"callRuntimeCallbacks")||(t.callRuntimeCallbacks=function(){v("'callRuntimeCallbacks' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"runtimeKeepalivePush")||(t.runtimeKeepalivePush=function(){v("'runtimeKeepalivePush' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"runtimeKeepalivePop")||(t.runtimeKeepalivePop=function(){v("'runtimeKeepalivePop' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"callUserCallback")||(t.callUserCallback=function(){v("'callUserCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"maybeExit")||(t.maybeExit=function(){v("'maybeExit' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"safeSetTimeout")||(t.safeSetTimeout=function(){v("'safeSetTimeout' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"asmjsMangle")||(t.asmjsMangle=function(){v("'asmjsMangle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"asyncLoad")||(t.asyncLoad=function(){v("'asyncLoad' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"alignMemory")||(t.alignMemory=function(){v("'alignMemory' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"mmapAlloc")||(t.mmapAlloc=function(){v("'mmapAlloc' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"reallyNegative")||(t.reallyNegative=function(){v("'reallyNegative' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"unSign")||(t.unSign=function(){v("'unSign' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"reSign")||(t.reSign=function(){v("'reSign' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"formatString")||(t.formatString=function(){v("'formatString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"PATH")||(t.PATH=function(){v("'PATH' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"PATH_FS")||(t.PATH_FS=function(){v("'PATH_FS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"SYSCALLS")||(t.SYSCALLS=function(){v("'SYSCALLS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"syscallMmap2")||(t.syscallMmap2=function(){v("'syscallMmap2' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"syscallMunmap")||(t.syscallMunmap=function(){v("'syscallMunmap' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getSocketFromFD")||(t.getSocketFromFD=function(){v("'getSocketFromFD' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getSocketAddress")||(t.getSocketAddress=function(){v("'getSocketAddress' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"JSEvents")||(t.JSEvents=function(){v("'JSEvents' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerKeyEventCallback")||(t.registerKeyEventCallback=function(){v("'registerKeyEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"specialHTMLTargets")||(t.specialHTMLTargets=function(){v("'specialHTMLTargets' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"maybeCStringToJsString")||(t.maybeCStringToJsString=function(){v("'maybeCStringToJsString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"findEventTarget")||(t.findEventTarget=function(){v("'findEventTarget' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"findCanvasEventTarget")||(t.findCanvasEventTarget=function(){v("'findCanvasEventTarget' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getBoundingClientRect")||(t.getBoundingClientRect=function(){v("'getBoundingClientRect' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"fillMouseEventData")||(t.fillMouseEventData=function(){v("'fillMouseEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerMouseEventCallback")||(t.registerMouseEventCallback=function(){v("'registerMouseEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerWheelEventCallback")||(t.registerWheelEventCallback=function(){v("'registerWheelEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerUiEventCallback")||(t.registerUiEventCallback=function(){v("'registerUiEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerFocusEventCallback")||(t.registerFocusEventCallback=function(){v("'registerFocusEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"fillDeviceOrientationEventData")||(t.fillDeviceOrientationEventData=function(){v("'fillDeviceOrientationEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerDeviceOrientationEventCallback")||(t.registerDeviceOrientationEventCallback=function(){v("'registerDeviceOrientationEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"fillDeviceMotionEventData")||(t.fillDeviceMotionEventData=function(){v("'fillDeviceMotionEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerDeviceMotionEventCallback")||(t.registerDeviceMotionEventCallback=function(){v("'registerDeviceMotionEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"screenOrientation")||(t.screenOrientation=function(){v("'screenOrientation' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"fillOrientationChangeEventData")||(t.fillOrientationChangeEventData=function(){v("'fillOrientationChangeEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerOrientationChangeEventCallback")||(t.registerOrientationChangeEventCallback=function(){v("'registerOrientationChangeEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"fillFullscreenChangeEventData")||(t.fillFullscreenChangeEventData=function(){v("'fillFullscreenChangeEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerFullscreenChangeEventCallback")||(t.registerFullscreenChangeEventCallback=function(){v("'registerFullscreenChangeEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerRestoreOldStyle")||(t.registerRestoreOldStyle=function(){v("'registerRestoreOldStyle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"hideEverythingExceptGivenElement")||(t.hideEverythingExceptGivenElement=function(){v("'hideEverythingExceptGivenElement' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"restoreHiddenElements")||(t.restoreHiddenElements=function(){v("'restoreHiddenElements' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"setLetterbox")||(t.setLetterbox=function(){v("'setLetterbox' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"currentFullscreenStrategy")||(t.currentFullscreenStrategy=function(){v("'currentFullscreenStrategy' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"restoreOldWindowedStyle")||(t.restoreOldWindowedStyle=function(){v("'restoreOldWindowedStyle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"softFullscreenResizeWebGLRenderTarget")||(t.softFullscreenResizeWebGLRenderTarget=function(){v("'softFullscreenResizeWebGLRenderTarget' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"doRequestFullscreen")||(t.doRequestFullscreen=function(){v("'doRequestFullscreen' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"fillPointerlockChangeEventData")||(t.fillPointerlockChangeEventData=function(){v("'fillPointerlockChangeEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerPointerlockChangeEventCallback")||(t.registerPointerlockChangeEventCallback=function(){v("'registerPointerlockChangeEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerPointerlockErrorEventCallback")||(t.registerPointerlockErrorEventCallback=function(){v("'registerPointerlockErrorEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"requestPointerLock")||(t.requestPointerLock=function(){v("'requestPointerLock' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"fillVisibilityChangeEventData")||(t.fillVisibilityChangeEventData=function(){v("'fillVisibilityChangeEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerVisibilityChangeEventCallback")||(t.registerVisibilityChangeEventCallback=function(){v("'registerVisibilityChangeEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerTouchEventCallback")||(t.registerTouchEventCallback=function(){v("'registerTouchEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"fillGamepadEventData")||(t.fillGamepadEventData=function(){v("'fillGamepadEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerGamepadEventCallback")||(t.registerGamepadEventCallback=function(){v("'registerGamepadEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerBeforeUnloadEventCallback")||(t.registerBeforeUnloadEventCallback=function(){v("'registerBeforeUnloadEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"fillBatteryEventData")||(t.fillBatteryEventData=function(){v("'fillBatteryEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"battery")||(t.battery=function(){v("'battery' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerBatteryEventCallback")||(t.registerBatteryEventCallback=function(){v("'registerBatteryEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"setCanvasElementSize")||(t.setCanvasElementSize=function(){v("'setCanvasElementSize' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getCanvasElementSize")||(t.getCanvasElementSize=function(){v("'getCanvasElementSize' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"polyfillSetImmediate")||(t.polyfillSetImmediate=function(){v("'polyfillSetImmediate' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"demangle")||(t.demangle=function(){v("'demangle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"demangleAll")||(t.demangleAll=function(){v("'demangleAll' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"jsStackTrace")||(t.jsStackTrace=function(){v("'jsStackTrace' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"stackTrace")||(t.stackTrace=function(){v("'stackTrace' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getEnvStrings")||(t.getEnvStrings=function(){v("'getEnvStrings' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"checkWasiClock")||(t.checkWasiClock=function(){v("'checkWasiClock' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"writeI53ToI64")||(t.writeI53ToI64=function(){v("'writeI53ToI64' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"writeI53ToI64Clamped")||(t.writeI53ToI64Clamped=function(){v("'writeI53ToI64Clamped' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"writeI53ToI64Signaling")||(t.writeI53ToI64Signaling=function(){v("'writeI53ToI64Signaling' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"writeI53ToU64Clamped")||(t.writeI53ToU64Clamped=function(){v("'writeI53ToU64Clamped' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"writeI53ToU64Signaling")||(t.writeI53ToU64Signaling=function(){v("'writeI53ToU64Signaling' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"readI53FromI64")||(t.readI53FromI64=function(){v("'readI53FromI64' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"readI53FromU64")||(t.readI53FromU64=function(){v("'readI53FromU64' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"convertI32PairToI53")||(t.convertI32PairToI53=function(){v("'convertI32PairToI53' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"convertU32PairToI53")||(t.convertU32PairToI53=function(){v("'convertU32PairToI53' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"uncaughtExceptionCount")||(t.uncaughtExceptionCount=function(){v("'uncaughtExceptionCount' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"exceptionLast")||(t.exceptionLast=function(){v("'exceptionLast' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"exceptionCaught")||(t.exceptionCaught=function(){v("'exceptionCaught' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"ExceptionInfo")||(t.ExceptionInfo=function(){v("'ExceptionInfo' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"CatchInfo")||(t.CatchInfo=function(){v("'CatchInfo' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"exception_addRef")||(t.exception_addRef=function(){v("'exception_addRef' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"exception_decRef")||(t.exception_decRef=function(){v("'exception_decRef' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"Browser")||(t.Browser=function(){v("'Browser' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"funcWrappers")||(t.funcWrappers=function(){v("'funcWrappers' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getFuncWrapper")||(t.getFuncWrapper=function(){v("'getFuncWrapper' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"setMainLoop")||(t.setMainLoop=function(){v("'setMainLoop' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"wget")||(t.wget=function(){v("'wget' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"FS")||(t.FS=function(){v("'FS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"MEMFS")||(t.MEMFS=function(){v("'MEMFS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"TTY")||(t.TTY=function(){v("'TTY' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"PIPEFS")||(t.PIPEFS=function(){v("'PIPEFS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"SOCKFS")||(t.SOCKFS=function(){v("'SOCKFS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"_setNetworkCallback")||(t._setNetworkCallback=function(){v("'_setNetworkCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"tempFixedLengthArray")||(t.tempFixedLengthArray=function(){v("'tempFixedLengthArray' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"miniTempWebGLFloatBuffers")||(t.miniTempWebGLFloatBuffers=function(){v("'miniTempWebGLFloatBuffers' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"heapObjectForWebGLType")||(t.heapObjectForWebGLType=function(){v("'heapObjectForWebGLType' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"heapAccessShiftForWebGLHeap")||(t.heapAccessShiftForWebGLHeap=function(){v("'heapAccessShiftForWebGLHeap' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"GL")||(t.GL=function(){v("'GL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"emscriptenWebGLGet")||(t.emscriptenWebGLGet=function(){v("'emscriptenWebGLGet' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"computeUnpackAlignedImageSize")||(t.computeUnpackAlignedImageSize=function(){v("'computeUnpackAlignedImageSize' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"emscriptenWebGLGetTexPixelData")||(t.emscriptenWebGLGetTexPixelData=function(){v("'emscriptenWebGLGetTexPixelData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"emscriptenWebGLGetUniform")||(t.emscriptenWebGLGetUniform=function(){v("'emscriptenWebGLGetUniform' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"webglGetUniformLocation")||(t.webglGetUniformLocation=function(){v("'webglGetUniformLocation' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"webglPrepareUniformLocationsBeforeFirstUse")||(t.webglPrepareUniformLocationsBeforeFirstUse=function(){v("'webglPrepareUniformLocationsBeforeFirstUse' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"webglGetLeftBracePos")||(t.webglGetLeftBracePos=function(){v("'webglGetLeftBracePos' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"emscriptenWebGLGetVertexAttrib")||(t.emscriptenWebGLGetVertexAttrib=function(){v("'emscriptenWebGLGetVertexAttrib' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"writeGLArray")||(t.writeGLArray=function(){v("'writeGLArray' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"AL")||(t.AL=function(){v("'AL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"SDL_unicode")||(t.SDL_unicode=function(){v("'SDL_unicode' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"SDL_ttfContext")||(t.SDL_ttfContext=function(){v("'SDL_ttfContext' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"SDL_audio")||(t.SDL_audio=function(){v("'SDL_audio' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"SDL")||(t.SDL=function(){v("'SDL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"SDL_gfx")||(t.SDL_gfx=function(){v("'SDL_gfx' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"GLUT")||(t.GLUT=function(){v("'GLUT' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"EGL")||(t.EGL=function(){v("'EGL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"GLFW_Window")||(t.GLFW_Window=function(){v("'GLFW_Window' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"GLFW")||(t.GLFW=function(){v("'GLFW' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"GLEW")||(t.GLEW=function(){v("'GLEW' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"IDBStore")||(t.IDBStore=function(){v("'IDBStore' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"runAndAbortIfError")||(t.runAndAbortIfError=function(){v("'runAndAbortIfError' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"warnOnce")||(t.warnOnce=function(){v("'warnOnce' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"stackSave")||(t.stackSave=function(){v("'stackSave' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"stackRestore")||(t.stackRestore=function(){v("'stackRestore' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"stackAlloc")||(t.stackAlloc=function(){v("'stackAlloc' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"AsciiToString")||(t.AsciiToString=function(){v("'AsciiToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"stringToAscii")||(t.stringToAscii=function(){v("'stringToAscii' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"UTF16ToString")||(t.UTF16ToString=function(){v("'UTF16ToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"stringToUTF16")||(t.stringToUTF16=function(){v("'stringToUTF16' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"lengthBytesUTF16")||(t.lengthBytesUTF16=function(){v("'lengthBytesUTF16' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"UTF32ToString")||(t.UTF32ToString=function(){v("'UTF32ToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"stringToUTF32")||(t.stringToUTF32=function(){v("'stringToUTF32' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"lengthBytesUTF32")||(t.lengthBytesUTF32=function(){v("'lengthBytesUTF32' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"allocateUTF8")||(t.allocateUTF8=function(){v("'allocateUTF8' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"allocateUTF8OnStack")||(t.allocateUTF8OnStack=function(){v("'allocateUTF8OnStack' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),t.writeStackCookie=ue,t.checkStackCookie=be,Object.getOwnPropertyDescriptor(t,"ALLOC_NORMAL")||Object.defineProperty(t,"ALLOC_NORMAL",{configurable:!0,get:function(){v("'ALLOC_NORMAL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(t,"ALLOC_STACK")||Object.defineProperty(t,"ALLOC_STACK",{configurable:!0,get:function(){v("'ALLOC_STACK' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}});var RE;function FE(b){this.name="ExitStatus",this.message="Program terminated with exit("+b+")",this.status=b}var Voe=!1;fa=function b(){RE||VN(),RE||(fa=b)};function Hoe(b){Pe(Dr==0,'cannot call main when async dependencies remain! (listen on Module["onRuntimeInitialized"])'),Pe(it.length==0,"cannot call main when preRun functions remain to be called");var S=t._main;b=b||[];var x=b.length+1,O=AE((x+1)*4);Dt[O>>2]=St(l);for(var A=1;A<x;A++)Dt[(O>>2)+A]=St(b[A-1]);Dt[(O>>2)+x]=0;try{var z=S(x,O);KB(z,!0)}catch(Q){if(Q instanceof FE||Q=="unwind")return;var Y=Q;Q&&typeof Q=="object"&&Q.stack&&(Y=[Q,Q.stack]),k("exception thrown: "+Y),c(1,Q)}finally{Voe=!0}}function $oe(){HB(),ue()}function VN(b){if(b=b||a,Dr>0||($oe(),Ln(),Dr>0))return;function S(){RE||(RE=!0,t.calledRun=!0,!$e&&(Ps(),vn(),i(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),qB&&Hoe(b),xh()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),S()},1)):S(),be()}t.run=VN;function Koe(){var b=L,S=k,x=!1;L=k=function(A){x=!0};try{var O=t._fflush;O&&O(0),["stdout","stderr"].forEach(function(A){var z=P.analyzePath("/dev/"+A);if(!!z){var Y=z.object,Q=Y.rdev,pe=Lh.ttys[Q];pe&&pe.output&&pe.output.length&&(x=!0)}})}catch{}L=b,k=S,x&&M("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the FAQ), or make sure to emit a newline when you printf etc.")}function KB(b,S){if(gt=b,Koe(),Pn()){if(!S){var x="program exited (with status: "+b+"), but EXIT_RUNTIME is not set, so halting execution but not exiting the runtime or preventing further async execution (build with EXIT_RUNTIME=1, if you want a true shutdown)";n(x),k(x)}}else lo();qoe(b)}function qoe(b){gt=b,Pn()||(t.onExit&&t.onExit(b),$e=!0),c(b,new FE(b))}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();var qB=!0;return t.noInitialRun&&(qB=!1),VN(),t.ready}}();typeof NN=="object"&&typeof MB=="object"?MB.exports=PB:typeof define=="function"&&define.amd?define([],function(){return PB}):typeof NN=="object"&&(NN.Module=PB)});var YE={};BE(YE,{afterMain:()=>e9,afterRead:()=>XB,afterWrite:()=>n9,applyStyles:()=>z_,arrow:()=>WE,auto:()=>lC,basePlacements:()=>Ih,beforeMain:()=>QB,beforeRead:()=>ZB,beforeWrite:()=>t9,bottom:()=>Go,clippingParents:()=>KN,computeStyles:()=>V_,createPopper:()=>pC,createPopperBase:()=>u9,createPopperLite:()=>f9,detectOverflow:()=>Fs,end:()=>af,eventListeners:()=>H_,flip:()=>HE,hide:()=>$E,left:()=>xo,main:()=>JB,modifierPhases:()=>YN,offset:()=>KE,placements:()=>dC,popper:()=>Gg,popperGenerator:()=>om,popperOffsets:()=>q_,preventOverflow:()=>qE,read:()=>GB,reference:()=>qN,right:()=>Uo,start:()=>od,top:()=>ho,variationPlacements:()=>jE,viewport:()=>cC,write:()=>i9});var ho="top",Go="bottom",Uo="right",xo="left",lC="auto",Ih=[ho,Go,Uo,xo],od="start",af="end",KN="clippingParents",cC="viewport",Gg="popper",qN="reference",jE=Ih.reduce(function(r,e){return r.concat([e+"-"+od,e+"-"+af])},[]),dC=[].concat(Ih,[lC]).reduce(function(r,e){return r.concat([e,e+"-"+od,e+"-"+af])},[]),ZB="beforeRead",GB="read",XB="afterRead",QB="beforeMain",JB="main",e9="afterMain",t9="beforeWrite",i9="write",n9="afterWrite",YN=[ZB,GB,XB,QB,JB,e9,t9,i9,n9];function Or(r){return r?(r.nodeName||"").toLowerCase():null}function zo(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var e=r.ownerDocument;return e&&e.defaultView||window}return r}function rd(r){var e=zo(r).Element;return r instanceof e||r instanceof Element}function hr(r){var e=zo(r).HTMLElement;return r instanceof e||r instanceof HTMLElement}function U_(r){if(typeof ShadowRoot>"u")return!1;var e=zo(r).ShadowRoot;return r instanceof e||r instanceof ShadowRoot}function tre(r){var e=r.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},o=e.elements[t];!hr(o)||!Or(o)||(Object.assign(o.style,i),Object.keys(n).forEach(function(s){var a=n[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function ire(r){var e=r.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var n=e.elements[i],o=e.attributes[i]||{},s=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),a=s.reduce(function(l,c){return l[c]="",l},{});!hr(n)||!Or(n)||(Object.assign(n.style,a),Object.keys(o).forEach(function(l){n.removeAttribute(l)}))})}}var z_={name:"applyStyles",enabled:!0,phase:"write",fn:tre,effect:ire,requires:["computeStyles"]};function Tr(r){return r.split("-")[0]}var _c=Math.max,Xg=Math.min,Oh=Math.round;function El(r,e){e===void 0&&(e=!1);var t=r.getBoundingClientRect(),i=1,n=1;if(hr(r)&&e){var o=r.offsetHeight,s=r.offsetWidth;s>0&&(i=Oh(t.width)/s||1),o>0&&(n=Oh(t.height)/o||1)}return{width:t.width/i,height:t.height/n,top:t.top/n,right:t.right/i,bottom:t.bottom/n,left:t.left/i,x:t.left/i,y:t.top/n}}function Qg(r){var e=El(r),t=r.offsetWidth,i=r.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:r.offsetLeft,y:r.offsetTop,width:t,height:i}}function hC(r,e){var t=e.getRootNode&&e.getRootNode();if(r.contains(e))return!0;if(t&&U_(t)){var i=e;do{if(i&&r.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Rs(r){return zo(r).getComputedStyle(r)}function ZN(r){return["table","td","th"].indexOf(Or(r))>=0}function Gr(r){return((rd(r)?r.ownerDocument:r.document)||window.document).documentElement}function Th(r){return Or(r)==="html"?r:r.assignedSlot||r.parentNode||(U_(r)?r.host:null)||Gr(r)}function o9(r){return!hr(r)||Rs(r).position==="fixed"?null:r.offsetParent}function nre(r){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,t=navigator.userAgent.indexOf("Trident")!==-1;if(t&&hr(r)){var i=Rs(r);if(i.position==="fixed")return null}var n=Th(r);for(U_(n)&&(n=n.host);hr(n)&&["html","body"].indexOf(Or(n))<0;){var o=Rs(n);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return n;n=n.parentNode}return null}function bc(r){for(var e=zo(r),t=o9(r);t&&ZN(t)&&Rs(t).position==="static";)t=o9(t);return t&&(Or(t)==="html"||Or(t)==="body"&&Rs(t).position==="static")?e:t||nre(r)||e}function Jg(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function em(r,e,t){return _c(r,Xg(e,t))}function r9(r,e,t){var i=em(r,e,t);return i>t?t:i}function uC(){return{top:0,right:0,bottom:0,left:0}}function fC(r){return Object.assign({},uC(),r)}function gC(r,e){return e.reduce(function(t,i){return t[i]=r,t},{})}var ore=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,fC(typeof e!="number"?e:gC(e,Ih))};function rre(r){var e,t=r.state,i=r.name,n=r.options,o=t.elements.arrow,s=t.modifiersData.popperOffsets,a=Tr(t.placement),l=Jg(a),c=[xo,Uo].indexOf(a)>=0,d=c?"height":"width";if(!(!o||!s)){var h=ore(n.padding,t),u=Qg(o),f=l==="y"?ho:xo,m=l==="y"?Go:Uo,_=t.rects.reference[d]+t.rects.reference[l]-s[l]-t.rects.popper[d],w=s[l]-t.rects.reference[l],y=bc(o),C=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,E=_/2-w/2,L=h[f],k=C-u[d]-h[m],M=C/2-u[d]/2+E,I=em(L,M,k),T=l;t.modifiersData[i]=(e={},e[T]=I,e.centerOffset=I-M,e)}}function sre(r){var e=r.state,t=r.options,i=t.element,n=i===void 0?"[data-popper-arrow]":i;n!=null&&(typeof n=="string"&&(n=e.elements.popper.querySelector(n),!n)||!hC(e.elements.popper,n)||(e.elements.arrow=n))}var WE={name:"arrow",enabled:!0,phase:"main",fn:rre,effect:sre,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xl(r){return r.split("-")[1]}var are={top:"auto",right:"auto",bottom:"auto",left:"auto"};function lre(r){var e=r.x,t=r.y,i=window,n=i.devicePixelRatio||1;return{x:Oh(e*n)/n||0,y:Oh(t*n)/n||0}}function s9(r){var e,t=r.popper,i=r.popperRect,n=r.placement,o=r.variation,s=r.offsets,a=r.position,l=r.gpuAcceleration,c=r.adaptive,d=r.roundOffsets,h=r.isFixed,u=s.x,f=u===void 0?0:u,m=s.y,_=m===void 0?0:m,w=typeof d=="function"?d({x:f,y:_}):{x:f,y:_};f=w.x,_=w.y;var y=s.hasOwnProperty("x"),C=s.hasOwnProperty("y"),E=xo,L=ho,k=window;if(c){var M=bc(t),I="clientHeight",T="clientWidth";if(M===zo(t)&&(M=Gr(t),Rs(M).position!=="static"&&a==="absolute"&&(I="scrollHeight",T="scrollWidth")),M=M,n===ho||(n===xo||n===Uo)&&o===af){L=Go;var R=h&&M===k&&k.visualViewport?k.visualViewport.height:M[I];_-=R-i.height,_*=l?1:-1}if(n===xo||(n===ho||n===Go)&&o===af){E=Uo;var Z=h&&M===k&&k.visualViewport?k.visualViewport.width:M[T];f-=Z-i.width,f*=l?1:-1}}var q=Object.assign({position:a},c&&are),te=d===!0?lre({x:f,y:_}):{x:f,y:_};if(f=te.x,_=te.y,l){var ne;return Object.assign({},q,(ne={},ne[L]=C?"0":"",ne[E]=y?"0":"",ne.transform=(k.devicePixelRatio||1)<=1?"translate("+f+"px, "+_+"px)":"translate3d("+f+"px, "+_+"px, 0)",ne))}return Object.assign({},q,(e={},e[L]=C?_+"px":"",e[E]=y?f+"px":"",e.transform="",e))}function cre(r){var e=r.state,t=r.options,i=t.gpuAcceleration,n=i===void 0?!0:i,o=t.adaptive,s=o===void 0?!0:o,a=t.roundOffsets,l=a===void 0?!0:a;if(!1)var c;var d={placement:Tr(e.placement),variation:xl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,s9(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,s9(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var V_={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:cre,data:{}};var UE={passive:!0};function dre(r){var e=r.state,t=r.instance,i=r.options,n=i.scroll,o=n===void 0?!0:n,s=i.resize,a=s===void 0?!0:s,l=zo(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(d){d.addEventListener("scroll",t.update,UE)}),a&&l.addEventListener("resize",t.update,UE),function(){o&&c.forEach(function(d){d.removeEventListener("scroll",t.update,UE)}),a&&l.removeEventListener("resize",t.update,UE)}}var H_={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:dre,data:{}};var hre={left:"right",right:"left",bottom:"top",top:"bottom"};function $_(r){return r.replace(/left|right|bottom|top/g,function(e){return hre[e]})}var ure={start:"end",end:"start"};function zE(r){return r.replace(/start|end/g,function(e){return ure[e]})}function tm(r){var e=zo(r),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function im(r){return El(Gr(r)).left+tm(r).scrollLeft}function GN(r){var e=zo(r),t=Gr(r),i=e.visualViewport,n=t.clientWidth,o=t.clientHeight,s=0,a=0;return i&&(n=i.width,o=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=i.offsetLeft,a=i.offsetTop)),{width:n,height:o,x:s+im(r),y:a}}function XN(r){var e,t=Gr(r),i=tm(r),n=(e=r.ownerDocument)==null?void 0:e.body,o=_c(t.scrollWidth,t.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),s=_c(t.scrollHeight,t.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-i.scrollLeft+im(r),l=-i.scrollTop;return Rs(n||t).direction==="rtl"&&(a+=_c(t.clientWidth,n?n.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function nm(r){var e=Rs(r),t=e.overflow,i=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+n+i)}function VE(r){return["html","body","#document"].indexOf(Or(r))>=0?r.ownerDocument.body:hr(r)&&nm(r)?r:VE(Th(r))}function lf(r,e){var t;e===void 0&&(e=[]);var i=VE(r),n=i===((t=r.ownerDocument)==null?void 0:t.body),o=zo(i),s=n?[o].concat(o.visualViewport||[],nm(i)?i:[]):i,a=e.concat(s);return n?a:a.concat(lf(Th(s)))}function K_(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function fre(r){var e=El(r);return e.top=e.top+r.clientTop,e.left=e.left+r.clientLeft,e.bottom=e.top+r.clientHeight,e.right=e.left+r.clientWidth,e.width=r.clientWidth,e.height=r.clientHeight,e.x=e.left,e.y=e.top,e}function a9(r,e){return e===cC?K_(GN(r)):rd(e)?fre(e):K_(XN(Gr(r)))}function gre(r){var e=lf(Th(r)),t=["absolute","fixed"].indexOf(Rs(r).position)>=0,i=t&&hr(r)?bc(r):r;return rd(i)?e.filter(function(n){return rd(n)&&hC(n,i)&&Or(n)!=="body"}):[]}function QN(r,e,t){var i=e==="clippingParents"?gre(r):[].concat(e),n=[].concat(i,[t]),o=n[0],s=n.reduce(function(a,l){var c=a9(r,l);return a.top=_c(c.top,a.top),a.right=Xg(c.right,a.right),a.bottom=Xg(c.bottom,a.bottom),a.left=_c(c.left,a.left),a},a9(r,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function mC(r){var e=r.reference,t=r.element,i=r.placement,n=i?Tr(i):null,o=i?xl(i):null,s=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(n){case ho:l={x:s,y:e.y-t.height};break;case Go:l={x:s,y:e.y+e.height};break;case Uo:l={x:e.x+e.width,y:a};break;case xo:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var c=n?Jg(n):null;if(c!=null){var d=c==="y"?"height":"width";switch(o){case od:l[c]=l[c]-(e[d]/2-t[d]/2);break;case af:l[c]=l[c]+(e[d]/2-t[d]/2);break;default:}}return l}function Fs(r,e){e===void 0&&(e={});var t=e,i=t.placement,n=i===void 0?r.placement:i,o=t.boundary,s=o===void 0?KN:o,a=t.rootBoundary,l=a===void 0?cC:a,c=t.elementContext,d=c===void 0?Gg:c,h=t.altBoundary,u=h===void 0?!1:h,f=t.padding,m=f===void 0?0:f,_=fC(typeof m!="number"?m:gC(m,Ih)),w=d===Gg?qN:Gg,y=r.rects.popper,C=r.elements[u?w:d],E=QN(rd(C)?C:C.contextElement||Gr(r.elements.popper),s,l),L=El(r.elements.reference),k=mC({reference:L,element:y,strategy:"absolute",placement:n}),M=K_(Object.assign({},y,k)),I=d===Gg?M:L,T={top:E.top-I.top+_.top,bottom:I.bottom-E.bottom+_.bottom,left:E.left-I.left+_.left,right:I.right-E.right+_.right},R=r.modifiersData.offset;if(d===Gg&&R){var Z=R[n];Object.keys(T).forEach(function(q){var te=[Uo,Go].indexOf(q)>=0?1:-1,ne=[ho,Go].indexOf(q)>=0?"y":"x";T[q]+=Z[ne]*te})}return T}function JN(r,e){e===void 0&&(e={});var t=e,i=t.placement,n=t.boundary,o=t.rootBoundary,s=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?dC:l,d=xl(i),h=d?a?jE:jE.filter(function(m){return xl(m)===d}):Ih,u=h.filter(function(m){return c.indexOf(m)>=0});u.length===0&&(u=h);var f=u.reduce(function(m,_){return m[_]=Fs(r,{placement:_,boundary:n,rootBoundary:o,padding:s})[Tr(_)],m},{});return Object.keys(f).sort(function(m,_){return f[m]-f[_]})}function mre(r){if(Tr(r)===lC)return[];var e=$_(r);return[zE(r),e,zE(e)]}function pre(r){var e=r.state,t=r.options,i=r.name;if(!e.modifiersData[i]._skip){for(var n=t.mainAxis,o=n===void 0?!0:n,s=t.altAxis,a=s===void 0?!0:s,l=t.fallbackPlacements,c=t.padding,d=t.boundary,h=t.rootBoundary,u=t.altBoundary,f=t.flipVariations,m=f===void 0?!0:f,_=t.allowedAutoPlacements,w=e.options.placement,y=Tr(w),C=y===w,E=l||(C||!m?[$_(w)]:mre(w)),L=[w].concat(E).reduce(function(ei,hn){return ei.concat(Tr(hn)===lC?JN(e,{placement:hn,boundary:d,rootBoundary:h,padding:c,flipVariations:m,allowedAutoPlacements:_}):hn)},[]),k=e.rects.reference,M=e.rects.popper,I=new Map,T=!0,R=L[0],Z=0;Z<L.length;Z++){var q=L[Z],te=Tr(q),ne=xl(q)===od,Ne=[ho,Go].indexOf(te)>=0,Oe=Ne?"width":"height",je=Fs(e,{placement:q,boundary:d,rootBoundary:h,altBoundary:u,padding:c}),Ze=Ne?ne?Uo:xo:ne?Go:ho;k[Oe]>M[Oe]&&(Ze=$_(Ze));var $e=$_(Ze),gt=[];if(o&&gt.push(je[te]<=0),a&&gt.push(je[Ze]<=0,je[$e]<=0),gt.every(function(ei){return ei})){R=q,T=!1;break}I.set(q,gt)}if(T)for(var Pe=m?3:1,_i=function(hn){var Un=L.find(function(Wo){var So=I.get(Wo);if(So)return So.slice(0,hn).every(function(Yr){return Yr})});if(Un)return R=Un,"break"},We=Pe;We>0;We--){var Ue=_i(We);if(Ue==="break")break}e.placement!==R&&(e.modifiersData[i]._skip=!0,e.placement=R,e.reset=!0)}}var HE={name:"flip",enabled:!0,phase:"main",fn:pre,requiresIfExists:["offset"],data:{_skip:!1}};function l9(r,e,t){return t===void 0&&(t={x:0,y:0}),{top:r.top-e.height-t.y,right:r.right-e.width+t.x,bottom:r.bottom-e.height+t.y,left:r.left-e.width-t.x}}function c9(r){return[ho,Uo,Go,xo].some(function(e){return r[e]>=0})}function _re(r){var e=r.state,t=r.name,i=e.rects.reference,n=e.rects.popper,o=e.modifiersData.preventOverflow,s=Fs(e,{elementContext:"reference"}),a=Fs(e,{altBoundary:!0}),l=l9(s,i),c=l9(a,n,o),d=c9(l),h=c9(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}var $E={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:_re};function bre(r,e,t){var i=Tr(r),n=[xo,ho].indexOf(i)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:r})):t,s=o[0],a=o[1];return s=s||0,a=(a||0)*n,[xo,Uo].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}function vre(r){var e=r.state,t=r.options,i=r.name,n=t.offset,o=n===void 0?[0,0]:n,s=dC.reduce(function(d,h){return d[h]=bre(h,e.rects,o),d},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=s}var KE={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vre};function wre(r){var e=r.state,t=r.name;e.modifiersData[t]=mC({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var q_={name:"popperOffsets",enabled:!0,phase:"read",fn:wre,data:{}};function eP(r){return r==="x"?"y":"x"}function Cre(r){var e=r.state,t=r.options,i=r.name,n=t.mainAxis,o=n===void 0?!0:n,s=t.altAxis,a=s===void 0?!1:s,l=t.boundary,c=t.rootBoundary,d=t.altBoundary,h=t.padding,u=t.tether,f=u===void 0?!0:u,m=t.tetherOffset,_=m===void 0?0:m,w=Fs(e,{boundary:l,rootBoundary:c,padding:h,altBoundary:d}),y=Tr(e.placement),C=xl(e.placement),E=!C,L=Jg(y),k=eP(L),M=e.modifiersData.popperOffsets,I=e.rects.reference,T=e.rects.popper,R=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,Z=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,te={x:0,y:0};if(!!M){if(o){var ne,Ne=L==="y"?ho:xo,Oe=L==="y"?Go:Uo,je=L==="y"?"height":"width",Ze=M[L],$e=Ze+w[Ne],gt=Ze-w[Oe],Pe=f?-T[je]/2:0,_i=C===od?I[je]:T[je],We=C===od?-T[je]:-I[je],Ue=e.elements.arrow,ei=f&&Ue?Qg(Ue):{width:0,height:0},hn=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:uC(),Un=hn[Ne],Wo=hn[Oe],So=em(0,I[je],ei[je]),Yr=E?I[je]/2-Pe-So-Un-Z.mainAxis:_i-So-Un-Z.mainAxis,Ra=E?-I[je]/2+Pe+So+Wo+Z.mainAxis:We+So+Wo+Z.mainAxis,St=e.elements.arrow&&bc(e.elements.arrow),yl=St?L==="y"?St.clientTop||0:St.clientLeft||0:0,ed=(ne=q?.[L])!=null?ne:0,td=Ze+Yr-ed-yl,zn=Ze+Ra-ed,Zr=em(f?Xg($e,td):$e,Ze,f?_c(gt,zn):gt);M[L]=Zr,te[L]=Zr-Ze}if(a){var Eh,id=L==="x"?ho:xo,Dt=L==="x"?Go:Uo,ae=M[k],ie=k==="y"?"height":"width",oe=ae+w[id],j=ae-w[Dt],U=[ho,xo].indexOf(y)!==-1,G=(Eh=q?.[k])!=null?Eh:0,K=U?oe:ae-I[ie]-T[ie]-G+Z.altAxis,ue=U?ae+I[ie]+T[ie]-G-Z.altAxis:j,be=f&&U?r9(K,ae,ue):em(f?K:oe,ae,f?ue:j);M[k]=be,te[k]=be-ae}e.modifiersData[i]=te}}var qE={name:"preventOverflow",enabled:!0,phase:"main",fn:Cre,requiresIfExists:["offset"]};function tP(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function iP(r){return r===zo(r)||!hr(r)?tm(r):tP(r)}function yre(r){var e=r.getBoundingClientRect(),t=Oh(e.width)/r.offsetWidth||1,i=Oh(e.height)/r.offsetHeight||1;return t!==1||i!==1}function nP(r,e,t){t===void 0&&(t=!1);var i=hr(e),n=hr(e)&&yre(e),o=Gr(e),s=El(r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((Or(e)!=="body"||nm(o))&&(a=iP(e)),hr(e)?(l=El(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=im(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Sre(r){var e=new Map,t=new Set,i=[];r.forEach(function(o){e.set(o.name,o)});function n(o){t.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&n(l)}}),i.push(o)}return r.forEach(function(o){t.has(o.name)||n(o)}),i}function oP(r){var e=Sre(r);return YN.reduce(function(t,i){return t.concat(e.filter(function(n){return n.phase===i}))},[])}function rP(r){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(r())})})),e}}function sP(r){var e=r.reduce(function(t,i){var n=t[i.name];return t[i.name]=n?Object.assign({},n,i,{options:Object.assign({},n.options,i.options),data:Object.assign({},n.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var d9={placement:"bottom",modifiers:[],strategy:"absolute"};function h9(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function om(r){r===void 0&&(r={});var e=r,t=e.defaultModifiers,i=t===void 0?[]:t,n=e.defaultOptions,o=n===void 0?d9:n;return function(a,l,c){c===void 0&&(c=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},d9,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],u=!1,f={state:d,setOptions:function(y){var C=typeof y=="function"?y(d.options):y;_(),d.options=Object.assign({},o,d.options,C),d.scrollParents={reference:rd(a)?lf(a):a.contextElement?lf(a.contextElement):[],popper:lf(l)};var E=oP(sP([].concat(i,d.options.modifiers)));if(d.orderedModifiers=E.filter(function(q){return q.enabled}),!1){var L;if(getBasePlacement(d.options.placement)===auto)var k;var M,I,T,R,Z}return m(),f.update()},forceUpdate:function(){if(!u){var y=d.elements,C=y.reference,E=y.popper;if(!!h9(C,E)){d.rects={reference:nP(C,bc(E),d.options.strategy==="fixed"),popper:Qg(E)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(q){return d.modifiersData[q.name]=Object.assign({},q.data)});for(var L=0,k=0;k<d.orderedModifiers.length;k++){if(d.reset===!0){d.reset=!1,k=-1;continue}var M=d.orderedModifiers[k],I=M.fn,T=M.options,R=T===void 0?{}:T,Z=M.name;typeof I=="function"&&(d=I({state:d,options:R,name:Z,instance:f})||d)}}}},update:rP(function(){return new Promise(function(w){f.forceUpdate(),w(d)})}),destroy:function(){_(),u=!0}};if(!h9(a,l))return f;f.setOptions(c).then(function(w){!u&&c.onFirstUpdate&&c.onFirstUpdate(w)});function m(){d.orderedModifiers.forEach(function(w){var y=w.name,C=w.options,E=C===void 0?{}:C,L=w.effect;if(typeof L=="function"){var k=L({state:d,name:y,instance:f,options:E}),M=function(){};h.push(k||M)}})}function _(){h.forEach(function(w){return w()}),h=[]}return f}}var u9=om();var Ere=[H_,q_,V_,z_],f9=om({defaultModifiers:Ere});var xre=[H_,q_,V_,z_,KE,HE,qE,WE,$E],pC=om({defaultModifiers:xre});var Dre=1e6,Lre=1e3,pP="transitionend",kre=r=>r==null?`${r}`:{}.toString.call(r).match(/\s([a-z]+)/i)[1].toLowerCase(),Ire=r=>{do r+=Math.floor(Math.random()*Dre);while(document.getElementById(r));return r},rj=r=>{let e=r.getAttribute("data-bs-target");if(!e||e==="#"){let t=r.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e},yP=r=>{let e=rj(r);return e&&document.querySelector(e)?e:null},df=r=>{let e=rj(r);return e?document.querySelector(e):null},Ore=r=>{if(!r)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(r),i=Number.parseFloat(e),n=Number.parseFloat(t);return!i&&!n?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*Lre)},sj=r=>{r.dispatchEvent(new Event(pP))},um=r=>!r||typeof r!="object"?!1:(typeof r.jquery<"u"&&(r=r[0]),typeof r.nodeType<"u"),hf=r=>um(r)?r.jquery?r[0]:r:typeof r=="string"&&r.length>0?document.querySelector(r):null,cd=(r,e,t)=>{Object.keys(t).forEach(i=>{let n=t[i],o=e[i],s=o&&um(o)?"element":kre(o);if(!new RegExp(n).test(s))throw new TypeError(`${r.toUpperCase()}: Option "${i}" provided type "${s}" but expected type "${n}".`)})},xC=r=>!um(r)||r.getClientRects().length===0?!1:getComputedStyle(r).getPropertyValue("visibility")==="visible",dm=r=>!r||r.nodeType!==Node.ELEMENT_NODE||r.classList.contains("disabled")?!0:typeof r.disabled<"u"?r.disabled:r.hasAttribute("disabled")&&r.getAttribute("disabled")!=="false",aj=r=>{if(!document.documentElement.attachShadow)return null;if(typeof r.getRootNode=="function"){let e=r.getRootNode();return e instanceof ShadowRoot?e:null}return r instanceof ShadowRoot?r:r.parentNode?aj(r.parentNode):null},tx=()=>{},X_=r=>{r.offsetHeight},lj=()=>{let{jQuery:r}=window;return r&&!document.body.hasAttribute("data-bs-no-jquery")?r:null},aP=[],Tre=r=>{document.readyState==="loading"?(aP.length||document.addEventListener("DOMContentLoaded",()=>{aP.forEach(e=>e())}),aP.push(r)):r()},ma=()=>document.documentElement.dir==="rtl",Dl=r=>{Tre(()=>{let e=lj();if(e){let t=r.NAME,i=e.fn[t];e.fn[t]=r.jQueryInterface,e.fn[t].Constructor=r,e.fn[t].noConflict=()=>(e.fn[t]=i,r.jQueryInterface)}})},cm=r=>{typeof r=="function"&&r()},cj=(r,e,t=!0)=>{if(!t){cm(r);return}let i=5,n=Ore(e)+i,o=!1,s=({target:a})=>{a===e&&(o=!0,e.removeEventListener(pP,s),cm(r))};e.addEventListener(pP,s),setTimeout(()=>{o||sj(e)},n)},dj=(r,e,t,i)=>{let n=r.indexOf(e);if(n===-1)return r[!t&&i?r.length-1:0];let o=r.length;return n+=t?1:-1,i&&(n=(n+o)%o),r[Math.max(0,Math.min(n,o-1))]},Nre=/[^.]*(?=\..*)\.|.*/,Pre=/\..*/,Mre=/::\d+$/,lP={},g9=1,Are={mouseenter:"mouseover",mouseleave:"mouseout"},Rre=/^(mouseenter|mouseleave)/i,hj=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function uj(r,e){return e&&`${e}::${g9++}`||r.uidEvent||g9++}function fj(r){let e=uj(r);return r.uidEvent=e,lP[e]=lP[e]||{},lP[e]}function Fre(r,e){return function t(i){return i.delegateTarget=r,t.oneOff&&Ae.off(r,i.type,e),e.apply(r,[i])}}function Bre(r,e,t){return function i(n){let o=r.querySelectorAll(e);for(let{target:s}=n;s&&s!==this;s=s.parentNode)for(let a=o.length;a--;)if(o[a]===s)return n.delegateTarget=s,i.oneOff&&Ae.off(r,n.type,e,t),t.apply(s,[n]);return null}}function gj(r,e,t=null){let i=Object.keys(r);for(let n=0,o=i.length;n<o;n++){let s=r[i[n]];if(s.originalHandler===e&&s.delegationSelector===t)return s}return null}function mj(r,e,t){let i=typeof e=="string",n=i?t:e,o=pj(r);return hj.has(o)||(o=r),[i,n,o]}function m9(r,e,t,i,n){if(typeof e!="string"||!r)return;if(t||(t=i,i=null),Rre.test(e)){let f=m=>function(_){if(!_.relatedTarget||_.relatedTarget!==_.delegateTarget&&!_.delegateTarget.contains(_.relatedTarget))return m.call(this,_)};i?i=f(i):t=f(t)}let[o,s,a]=mj(e,t,i),l=fj(r),c=l[a]||(l[a]={}),d=gj(c,s,o?t:null);if(d){d.oneOff=d.oneOff&&n;return}let h=uj(s,e.replace(Nre,"")),u=o?Bre(r,t,i):Fre(r,t);u.delegationSelector=o?t:null,u.originalHandler=s,u.oneOff=n,u.uidEvent=h,c[h]=u,r.addEventListener(a,u,o)}function _P(r,e,t,i,n){let o=gj(e[t],i,n);!o||(r.removeEventListener(t,o,Boolean(n)),delete e[t][o.uidEvent])}function jre(r,e,t,i){let n=e[t]||{};Object.keys(n).forEach(o=>{if(o.includes(i)){let s=n[o];_P(r,e,t,s.originalHandler,s.delegationSelector)}})}function pj(r){return r=r.replace(Pre,""),Are[r]||r}var Ae={on(r,e,t,i){m9(r,e,t,i,!1)},one(r,e,t,i){m9(r,e,t,i,!0)},off(r,e,t,i){if(typeof e!="string"||!r)return;let[n,o,s]=mj(e,t,i),a=s!==e,l=fj(r),c=e.startsWith(".");if(typeof o<"u"){if(!l||!l[s])return;_P(r,l,s,o,n?t:null);return}c&&Object.keys(l).forEach(h=>{jre(r,l,h,e.slice(1))});let d=l[s]||{};Object.keys(d).forEach(h=>{let u=h.replace(Mre,"");if(!a||e.includes(u)){let f=d[h];_P(r,l,s,f.originalHandler,f.delegationSelector)}})},trigger(r,e,t){if(typeof e!="string"||!r)return null;let i=lj(),n=pj(e),o=e!==n,s=hj.has(n),a,l=!0,c=!0,d=!1,h=null;return o&&i&&(a=i.Event(e,t),i(r).trigger(a),l=!a.isPropagationStopped(),c=!a.isImmediatePropagationStopped(),d=a.isDefaultPrevented()),s?(h=document.createEvent("HTMLEvents"),h.initEvent(n,l,!0)):h=new CustomEvent(e,{bubbles:l,cancelable:!0}),typeof t<"u"&&Object.keys(t).forEach(u=>{Object.defineProperty(h,u,{get(){return t[u]}})}),d&&h.preventDefault(),c&&r.dispatchEvent(h),h.defaultPrevented&&typeof a<"u"&&a.preventDefault(),h}},cf=new Map,SC={set(r,e,t){cf.has(r)||cf.set(r,new Map);let i=cf.get(r);if(!i.has(e)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(e,t)},get(r,e){return cf.has(r)&&cf.get(r).get(e)||null},remove(r,e){if(!cf.has(r))return;let t=cf.get(r);t.delete(e),t.size===0&&cf.delete(r)}},Wre="5.1.3",Ll=class{constructor(e){e=hf(e),e&&(this._element=e,SC.set(this._element,this.constructor.DATA_KEY,this))}dispose(){SC.remove(this._element,this.constructor.DATA_KEY),Ae.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(e=>{this[e]=null})}_queueCallback(e,t,i=!0){cj(e,t,i)}static getInstance(e){return SC.get(hf(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return Wre}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}},ox=(r,e="hide")=>{let t=`click.dismiss${r.EVENT_KEY}`,i=r.NAME;Ae.on(document,t,`[data-bs-dismiss="${i}"]`,function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),dm(this))return;let o=df(this)||this.closest(`.${i}`);r.getOrCreateInstance(o)[e]()})},Ure="alert",zre="bs.alert",_j=`.${zre}`,Vre=`close${_j}`,Hre=`closed${_j}`,$re="fade",Kre="show",DC=class extends Ll{static get NAME(){return Ure}close(){if(Ae.trigger(this._element,Vre).defaultPrevented)return;this._element.classList.remove(Kre);let t=this._element.classList.contains($re);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),Ae.trigger(this._element,Hre),this.dispose()}static jQueryInterface(e){return this.each(function(){let t=DC.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};ox(DC,"close");Dl(DC);var qre="button",Yre="bs.button",Zre=`.${Yre}`,Gre=".data-api",Xre="active",p9='[data-bs-toggle="button"]',Qre=`click${Zre}${Gre}`,LC=class extends Ll{static get NAME(){return qre}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Xre))}static jQueryInterface(e){return this.each(function(){let t=LC.getOrCreateInstance(this);e==="toggle"&&t[e]()})}};Ae.on(document,Qre,p9,r=>{r.preventDefault();let e=r.target.closest(p9);LC.getOrCreateInstance(e).toggle()});Dl(LC);function _9(r){return r==="true"?!0:r==="false"?!1:r===Number(r).toString()?Number(r):r===""||r==="null"?null:r}function cP(r){return r.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}var Xr={setDataAttribute(r,e,t){r.setAttribute(`data-bs-${cP(e)}`,t)},removeDataAttribute(r,e){r.removeAttribute(`data-bs-${cP(e)}`)},getDataAttributes(r){if(!r)return{};let e={};return Object.keys(r.dataset).filter(t=>t.startsWith("bs")).forEach(t=>{let i=t.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=_9(r.dataset[t])}),e},getDataAttribute(r,e){return _9(r.getAttribute(`data-bs-${cP(e)}`))},offset(r){let e=r.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}},position(r){return{top:r.offsetTop,left:r.offsetLeft}}},Jre=3,ti={find(r,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,r))},findOne(r,e=document.documentElement){return Element.prototype.querySelector.call(e,r)},children(r,e){return[].concat(...r.children).filter(t=>t.matches(e))},parents(r,e){let t=[],i=r.parentNode;for(;i&&i.nodeType===Node.ELEMENT_NODE&&i.nodeType!==Jre;)i.matches(e)&&t.push(i),i=i.parentNode;return t},prev(r,e){let t=r.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(r,e){let t=r.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(r){let e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(", ");return this.find(e,r).filter(t=>!dm(t)&&xC(t))}},b9="carousel",ese="bs.carousel",Wa=`.${ese}`,bj=".data-api",tse="ArrowLeft",ise="ArrowRight",nse=500,ose=40,v9={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},rse={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},rm="next",sm="prev",lm="left",yC="right",sse={[tse]:yC,[ise]:lm},ase=`slide${Wa}`,w9=`slid${Wa}`,lse=`keydown${Wa}`,cse=`mouseenter${Wa}`,dse=`mouseleave${Wa}`,hse=`touchstart${Wa}`,use=`touchmove${Wa}`,fse=`touchend${Wa}`,gse=`pointerdown${Wa}`,mse=`pointerup${Wa}`,pse=`dragstart${Wa}`,_se=`load${Wa}${bj}`,bse=`click${Wa}${bj}`,vse="carousel",am="active",wse="slide",Cse="carousel-item-end",yse="carousel-item-start",Sse="carousel-item-next",Ese="carousel-item-prev",xse="pointer-event",Dse=".active",ZE=".active.carousel-item",Lse=".carousel-item",kse=".carousel-item img",Ise=".carousel-item-next, .carousel-item-prev",Ose=".carousel-indicators",Tse="[data-bs-target]",Nse="[data-bs-slide], [data-bs-slide-to]",Pse='[data-bs-ride="carousel"]',Mse="touch",Ase="pen",ld=class extends Ll{constructor(e,t){super(e);this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._indicatorsElement=ti.findOne(Ose,this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return v9}static get NAME(){return b9}next(){this._slide(rm)}nextWhenVisible(){!document.hidden&&xC(this._element)&&this.next()}prev(){this._slide(sm)}pause(e){e||(this._isPaused=!0),ti.findOne(Ise,this._element)&&(sj(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(e){this._activeElement=ti.findOne(ZE,this._element);let t=this._getItemIndex(this._activeElement);if(e>this._items.length-1||e<0)return;if(this._isSliding){Ae.one(this._element,w9,()=>this.to(e));return}if(t===e){this.pause(),this.cycle();return}let i=e>t?rm:sm;this._slide(i,this._items[e])}_getConfig(e){return e={...v9,...Xr.getDataAttributes(this._element),...typeof e=="object"?e:{}},cd(b9,e,rse),e}_handleSwipe(){let e=Math.abs(this.touchDeltaX);if(e<=ose)return;let t=e/this.touchDeltaX;this.touchDeltaX=0,t&&this._slide(t>0?yC:lm)}_addEventListeners(){this._config.keyboard&&Ae.on(this._element,lse,e=>this._keydown(e)),this._config.pause==="hover"&&(Ae.on(this._element,cse,e=>this.pause(e)),Ae.on(this._element,dse,e=>this.cycle(e))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){let e=o=>this._pointerEvent&&(o.pointerType===Ase||o.pointerType===Mse),t=o=>{e(o)?this.touchStartX=o.clientX:this._pointerEvent||(this.touchStartX=o.touches[0].clientX)},i=o=>{this.touchDeltaX=o.touches&&o.touches.length>1?0:o.touches[0].clientX-this.touchStartX},n=o=>{e(o)&&(this.touchDeltaX=o.clientX-this.touchStartX),this._handleSwipe(),this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(s=>this.cycle(s),nse+this._config.interval))};ti.find(kse,this._element).forEach(o=>{Ae.on(o,pse,s=>s.preventDefault())}),this._pointerEvent?(Ae.on(this._element,gse,o=>t(o)),Ae.on(this._element,mse,o=>n(o)),this._element.classList.add(xse)):(Ae.on(this._element,hse,o=>t(o)),Ae.on(this._element,use,o=>i(o)),Ae.on(this._element,fse,o=>n(o)))}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;let t=sse[e.key];t&&(e.preventDefault(),this._slide(t))}_getItemIndex(e){return this._items=e&&e.parentNode?ti.find(Lse,e.parentNode):[],this._items.indexOf(e)}_getItemByOrder(e,t){let i=e===rm;return dj(this._items,t,i,this._config.wrap)}_triggerSlideEvent(e,t){let i=this._getItemIndex(e),n=this._getItemIndex(ti.findOne(ZE,this._element));return Ae.trigger(this._element,ase,{relatedTarget:e,direction:t,from:n,to:i})}_setActiveIndicatorElement(e){if(this._indicatorsElement){let t=ti.findOne(Dse,this._indicatorsElement);t.classList.remove(am),t.removeAttribute("aria-current");let i=ti.find(Tse,this._indicatorsElement);for(let n=0;n<i.length;n++)if(Number.parseInt(i[n].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(e)){i[n].classList.add(am),i[n].setAttribute("aria-current","true");break}}}_updateInterval(){let e=this._activeElement||ti.findOne(ZE,this._element);if(!e)return;let t=Number.parseInt(e.getAttribute("data-bs-interval"),10);t?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=t):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(e,t){let i=this._directionToOrder(e),n=ti.findOne(ZE,this._element),o=this._getItemIndex(n),s=t||this._getItemByOrder(i,n),a=this._getItemIndex(s),l=Boolean(this._interval),c=i===rm,d=c?yse:Cse,h=c?Sse:Ese,u=this._orderToDirection(i);if(s&&s.classList.contains(am)){this._isSliding=!1;return}if(this._isSliding||this._triggerSlideEvent(s,u).defaultPrevented||!n||!s)return;this._isSliding=!0,l&&this.pause(),this._setActiveIndicatorElement(s),this._activeElement=s;let m=()=>{Ae.trigger(this._element,w9,{relatedTarget:s,direction:u,from:o,to:a})};if(this._element.classList.contains(wse)){s.classList.add(h),X_(s),n.classList.add(d),s.classList.add(d);let _=()=>{s.classList.remove(d,h),s.classList.add(am),n.classList.remove(am,h,d),this._isSliding=!1,setTimeout(m,0)};this._queueCallback(_,n,!0)}else n.classList.remove(am),s.classList.add(am),this._isSliding=!1,m();l&&this.cycle()}_directionToOrder(e){return[yC,lm].includes(e)?ma()?e===lm?sm:rm:e===lm?rm:sm:e}_orderToDirection(e){return[rm,sm].includes(e)?ma()?e===sm?lm:yC:e===sm?yC:lm:e}static carouselInterface(e,t){let i=ld.getOrCreateInstance(e,t),{_config:n}=i;typeof t=="object"&&(n={...n,...t});let o=typeof t=="string"?t:n.slide;if(typeof t=="number")i.to(t);else if(typeof o=="string"){if(typeof i[o]>"u")throw new TypeError(`No method named "${o}"`);i[o]()}else n.interval&&n.ride&&(i.pause(),i.cycle())}static jQueryInterface(e){return this.each(function(){ld.carouselInterface(this,e)})}static dataApiClickHandler(e){let t=df(this);if(!t||!t.classList.contains(vse))return;let i={...Xr.getDataAttributes(t),...Xr.getDataAttributes(this)},n=this.getAttribute("data-bs-slide-to");n&&(i.interval=!1),ld.carouselInterface(t,i),n&&ld.getInstance(t).to(n),e.preventDefault()}};Ae.on(document,bse,Nse,ld.dataApiClickHandler);Ae.on(window,_se,()=>{let r=ti.find(Pse);for(let e=0,t=r.length;e<t;e++)ld.carouselInterface(r[e],ld.getInstance(r[e]))});Dl(ld);var C9="collapse",vj="bs.collapse",kC=`.${vj}`,Rse=".data-api",y9={toggle:!0,parent:null},Fse={toggle:"boolean",parent:"(null|element)"},Bse=`show${kC}`,jse=`shown${kC}`,Wse=`hide${kC}`,Use=`hidden${kC}`,zse=`click${kC}${Rse}`,dP="show",G_="collapse",GE="collapsing",S9="collapsed",E9=`:scope .${G_} .${G_}`,Vse="collapse-horizontal",Hse="width",$se="height",Kse=".collapse.show, .collapse.collapsing",bP='[data-bs-toggle="collapse"]',hm=class extends Ll{constructor(e,t){super(e);this._isTransitioning=!1,this._config=this._getConfig(t),this._triggerArray=[];let i=ti.find(bP);for(let n=0,o=i.length;n<o;n++){let s=i[n],a=yP(s),l=ti.find(a).filter(c=>c===this._element);a!==null&&l.length&&(this._selector=a,this._triggerArray.push(s))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return y9}static get NAME(){return C9}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[],t;if(this._config.parent){let c=ti.find(E9,this._config.parent);e=ti.find(Kse,this._config.parent).filter(d=>!c.includes(d))}let i=ti.findOne(this._selector);if(e.length){let c=e.find(d=>i!==d);if(t=c?hm.getInstance(c):null,t&&t._isTransitioning)return}if(Ae.trigger(this._element,Bse).defaultPrevented)return;e.forEach(c=>{i!==c&&hm.getOrCreateInstance(c,{toggle:!1}).hide(),t||SC.set(c,vj,null)});let o=this._getDimension();this._element.classList.remove(G_),this._element.classList.add(GE),this._element.style[o]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let s=()=>{this._isTransitioning=!1,this._element.classList.remove(GE),this._element.classList.add(G_,dP),this._element.style[o]="",Ae.trigger(this._element,jse)},l=`scroll${o[0].toUpperCase()+o.slice(1)}`;this._queueCallback(s,this._element,!0),this._element.style[o]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()||Ae.trigger(this._element,Wse).defaultPrevented)return;let t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,X_(this._element),this._element.classList.add(GE),this._element.classList.remove(G_,dP);let i=this._triggerArray.length;for(let o=0;o<i;o++){let s=this._triggerArray[o],a=df(s);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0;let n=()=>{this._isTransitioning=!1,this._element.classList.remove(GE),this._element.classList.add(G_),Ae.trigger(this._element,Use)};this._element.style[t]="",this._queueCallback(n,this._element,!0)}_isShown(e=this._element){return e.classList.contains(dP)}_getConfig(e){return e={...y9,...Xr.getDataAttributes(this._element),...e},e.toggle=Boolean(e.toggle),e.parent=hf(e.parent),cd(C9,e,Fse),e}_getDimension(){return this._element.classList.contains(Vse)?Hse:$se}_initializeChildren(){if(!this._config.parent)return;let e=ti.find(E9,this._config.parent);ti.find(bP,this._config.parent).filter(t=>!e.includes(t)).forEach(t=>{let i=df(t);i&&this._addAriaAndCollapsedClass([t],this._isShown(i))})}_addAriaAndCollapsedClass(e,t){!e.length||e.forEach(i=>{t?i.classList.remove(S9):i.classList.add(S9),i.setAttribute("aria-expanded",t)})}static jQueryInterface(e){return this.each(function(){let t={};typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1);let i=hm.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}};Ae.on(document,zse,bP,function(r){(r.target.tagName==="A"||r.delegateTarget&&r.delegateTarget.tagName==="A")&&r.preventDefault();let e=yP(this);ti.find(e).forEach(i=>{hm.getOrCreateInstance(i,{toggle:!1}).toggle()})});Dl(hm);var hP="dropdown",qse="bs.dropdown",gm=`.${qse}`,SP=".data-api",JE="Escape",x9="Space",D9="Tab",vP="ArrowUp",ex="ArrowDown",Yse=2,Zse=new RegExp(`${vP}|${ex}|${JE}`),Gse=`hide${gm}`,Xse=`hidden${gm}`,Qse=`show${gm}`,Jse=`shown${gm}`,wj=`click${gm}${SP}`,Cj=`keydown${gm}${SP}`,eae=`keyup${gm}${SP}`,Y_="show",tae="dropup",iae="dropend",nae="dropstart",oae="navbar",EC='[data-bs-toggle="dropdown"]',wP=".dropdown-menu",rae=".navbar-nav",sae=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",aae=ma()?"top-end":"top-start",lae=ma()?"top-start":"top-end",cae=ma()?"bottom-end":"bottom-start",dae=ma()?"bottom-start":"bottom-end",hae=ma()?"left-start":"right-start",uae=ma()?"right-start":"left-start",fae={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},gae={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"},ja=class extends Ll{constructor(e,t){super(e);this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return fae}static get DefaultType(){return gae}static get NAME(){return hP}toggle(){return this._isShown()?this.hide():this.show()}show(){if(dm(this._element)||this._isShown(this._menu))return;let e={relatedTarget:this._element};if(Ae.trigger(this._element,Qse,e).defaultPrevented)return;let i=ja.getParentFromElement(this._element);this._inNavbar?Xr.setDataAttribute(this._menu,"popper","none"):this._createPopper(i),"ontouchstart"in document.documentElement&&!i.closest(rae)&&[].concat(...document.body.children).forEach(n=>Ae.on(n,"mouseover",tx)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Y_),this._element.classList.add(Y_),Ae.trigger(this._element,Jse,e)}hide(){if(dm(this._element)||!this._isShown(this._menu))return;let e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){Ae.trigger(this._element,Gse,e).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(i=>Ae.off(i,"mouseover",tx)),this._popper&&this._popper.destroy(),this._menu.classList.remove(Y_),this._element.classList.remove(Y_),this._element.setAttribute("aria-expanded","false"),Xr.removeDataAttribute(this._menu,"popper"),Ae.trigger(this._element,Xse,e))}_getConfig(e){if(e={...this.constructor.Default,...Xr.getDataAttributes(this._element),...e},cd(hP,e,this.constructor.DefaultType),typeof e.reference=="object"&&!um(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${hP.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(e){if(typeof YE>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=e:um(this._config.reference)?t=hf(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);let i=this._getPopperConfig(),n=i.modifiers.find(o=>o.name==="applyStyles"&&o.enabled===!1);this._popper=pC(t,this._menu,i),n&&Xr.setDataAttribute(this._menu,"popper","static")}_isShown(e=this._element){return e.classList.contains(Y_)}_getMenuElement(){return ti.next(this._element,wP)[0]}_getPlacement(){let e=this._element.parentNode;if(e.classList.contains(iae))return hae;if(e.classList.contains(nae))return uae;let t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(tae)?t?lae:aae:t?dae:cae}_detectNavbar(){return this._element.closest(`.${oae}`)!==null}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){let e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return this._config.display==="static"&&(e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...typeof this._config.popperConfig=="function"?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:t}){let i=ti.find(sae,this._menu).filter(xC);!i.length||dj(i,t,e===ex,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){let t=ja.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e&&(e.button===Yse||e.type==="keyup"&&e.key!==D9))return;let t=ti.find(EC);for(let i=0,n=t.length;i<n;i++){let o=ja.getInstance(t[i]);if(!o||o._config.autoClose===!1||!o._isShown())continue;let s={relatedTarget:o._element};if(e){let a=e.composedPath(),l=a.includes(o._menu);if(a.includes(o._element)||o._config.autoClose==="inside"&&!l||o._config.autoClose==="outside"&&l||o._menu.contains(e.target)&&(e.type==="keyup"&&e.key===D9||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;e.type==="click"&&(s.clickEvent=e)}o._completeHide(s)}}static getParentFromElement(e){return df(e)||e.parentNode}static dataApiKeydownHandler(e){if(/input|textarea/i.test(e.target.tagName)?e.key===x9||e.key!==JE&&(e.key!==ex&&e.key!==vP||e.target.closest(wP)):!Zse.test(e.key))return;let t=this.classList.contains(Y_);if(!t&&e.key===JE||(e.preventDefault(),e.stopPropagation(),dm(this)))return;let i=this.matches(EC)?this:ti.prev(this,EC)[0],n=ja.getOrCreateInstance(i);if(e.key===JE){n.hide();return}if(e.key===vP||e.key===ex){t||n.show(),n._selectMenuItem(e);return}(!t||e.key===x9)&&ja.clearMenus()}};Ae.on(document,Cj,EC,ja.dataApiKeydownHandler);Ae.on(document,Cj,wP,ja.dataApiKeydownHandler);Ae.on(document,wj,ja.clearMenus);Ae.on(document,eae,ja.clearMenus);Ae.on(document,wj,EC,function(r){r.preventDefault(),ja.getOrCreateInstance(this).toggle()});Dl(ja);var L9=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",k9=".sticky-top",ix=class{constructor(){this._element=document.body}getWidth(){let e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){let e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",t=>t+e),this._setElementAttributes(L9,"paddingRight",t=>t+e),this._setElementAttributes(k9,"marginRight",t=>t-e)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){let n=this.getWidth(),o=s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+n)return;this._saveInitialAttribute(s,t);let a=window.getComputedStyle(s)[t];s.style[t]=`${i(Number.parseFloat(a))}px`};this._applyManipulationCallback(e,o)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(L9,"paddingRight"),this._resetElementAttributes(k9,"marginRight")}_saveInitialAttribute(e,t){let i=e.style[t];i&&Xr.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){let i=n=>{let o=Xr.getDataAttribute(n,t);typeof o>"u"?n.style.removeProperty(t):(Xr.removeDataAttribute(n,t),n.style[t]=o)};this._applyManipulationCallback(e,i)}_applyManipulationCallback(e,t){um(e)?t(e):ti.find(e,this._element).forEach(t)}isOverflowing(){return this.getWidth()>0}},mae={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},pae={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},yj="backdrop",_ae="fade",I9="show",O9=`mousedown.bs.${yj}`,EP=class{constructor(e){this._config=this._getConfig(e),this._isAppended=!1,this._element=null}show(e){if(!this._config.isVisible){cm(e);return}this._append(),this._config.isAnimated&&X_(this._getElement()),this._getElement().classList.add(I9),this._emulateAnimation(()=>{cm(e)})}hide(e){if(!this._config.isVisible){cm(e);return}this._getElement().classList.remove(I9),this._emulateAnimation(()=>{this.dispose(),cm(e)})}_getElement(){if(!this._element){let e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(_ae),this._element=e}return this._element}_getConfig(e){return e={...mae,...typeof e=="object"?e:{}},e.rootElement=hf(e.rootElement),cd(yj,e,pae),e}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),Ae.on(this._getElement(),O9,()=>{cm(this._config.clickCallback)}),this._isAppended=!0)}dispose(){!this._isAppended||(Ae.off(this._element,O9),this._element.remove(),this._isAppended=!1)}_emulateAnimation(e){cj(e,this._getElement(),this._config.isAnimated)}},bae={trapElement:null,autofocus:!0},vae={trapElement:"element",autofocus:"boolean"},wae="focustrap",Cae="bs.focustrap",nx=`.${Cae}`,yae=`focusin${nx}`,Sae=`keydown.tab${nx}`,Eae="Tab",xae="forward",T9="backward",xP=class{constructor(e){this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}activate(){let{trapElement:e,autofocus:t}=this._config;this._isActive||(t&&e.focus(),Ae.off(document,nx),Ae.on(document,yae,i=>this._handleFocusin(i)),Ae.on(document,Sae,i=>this._handleKeydown(i)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,Ae.off(document,nx))}_handleFocusin(e){let{target:t}=e,{trapElement:i}=this._config;if(t===document||t===i||i.contains(t))return;let n=ti.focusableChildren(i);n.length===0?i.focus():this._lastTabNavDirection===T9?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){e.key===Eae&&(this._lastTabNavDirection=e.shiftKey?T9:xae)}_getConfig(e){return e={...bae,...typeof e=="object"?e:{}},cd(wae,e,vae),e}},N9="modal",Dae="bs.modal",kl=`.${Dae}`,Lae=".data-api",P9="Escape",M9={backdrop:!0,keyboard:!0,focus:!0},kae={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},Iae=`hide${kl}`,Oae=`hidePrevented${kl}`,Sj=`hidden${kl}`,Ej=`show${kl}`,Tae=`shown${kl}`,A9=`resize${kl}`,R9=`click.dismiss${kl}`,F9=`keydown.dismiss${kl}`,Nae=`mouseup.dismiss${kl}`,B9=`mousedown.dismiss${kl}`,Pae=`click${kl}${Lae}`,j9="modal-open",Mae="fade",W9="show",uP="modal-static",Aae=".modal.show",Rae=".modal-dialog",Fae=".modal-body",Bae='[data-bs-toggle="modal"]',fm=class extends Ll{constructor(e,t){super(e);this._config=this._getConfig(t),this._dialog=ti.findOne(Rae,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new ix}static get Default(){return M9}static get NAME(){return N9}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||Ae.trigger(this._element,Ej,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(j9),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),Ae.on(this._dialog,B9,()=>{Ae.one(this._element,Nae,i=>{i.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(e)))}hide(){if(!this._isShown||this._isTransitioning||Ae.trigger(this._element,Iae).defaultPrevented)return;this._isShown=!1;let t=this._isAnimated();t&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(W9),Ae.off(this._element,R9),Ae.off(this._dialog,B9),this._queueCallback(()=>this._hideModal(),this._element,t)}dispose(){[window,this._dialog].forEach(e=>Ae.off(e,kl)),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new EP({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new xP({trapElement:this._element})}_getConfig(e){return e={...M9,...Xr.getDataAttributes(this._element),...typeof e=="object"?e:{}},cd(N9,e,kae),e}_showElement(e){let t=this._isAnimated(),i=ti.findOne(Fae,this._dialog);(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE)&&document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,i&&(i.scrollTop=0),t&&X_(this._element),this._element.classList.add(W9);let n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Ae.trigger(this._element,Tae,{relatedTarget:e})};this._queueCallback(n,this._dialog,t)}_setEscapeEvent(){this._isShown?Ae.on(this._element,F9,e=>{this._config.keyboard&&e.key===P9?(e.preventDefault(),this.hide()):!this._config.keyboard&&e.key===P9&&this._triggerBackdropTransition()}):Ae.off(this._element,F9)}_setResizeEvent(){this._isShown?Ae.on(window,A9,()=>this._adjustDialog()):Ae.off(window,A9)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(j9),this._resetAdjustments(),this._scrollBar.reset(),Ae.trigger(this._element,Sj)})}_showBackdrop(e){Ae.on(this._element,R9,t=>{if(this._ignoreBackdropClick){this._ignoreBackdropClick=!1;return}t.target===t.currentTarget&&(this._config.backdrop===!0?this.hide():this._config.backdrop==="static"&&this._triggerBackdropTransition())}),this._backdrop.show(e)}_isAnimated(){return this._element.classList.contains(Mae)}_triggerBackdropTransition(){if(Ae.trigger(this._element,Oae).defaultPrevented)return;let{classList:t,scrollHeight:i,style:n}=this._element,o=i>document.documentElement.clientHeight;!o&&n.overflowY==="hidden"||t.contains(uP)||(o||(n.overflowY="hidden"),t.add(uP),this._queueCallback(()=>{t.remove(uP),o||this._queueCallback(()=>{n.overflowY=""},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;(!i&&e&&!ma()||i&&!e&&ma())&&(this._element.style.paddingLeft=`${t}px`),(i&&!e&&!ma()||!i&&e&&ma())&&(this._element.style.paddingRight=`${t}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){let i=fm.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](t)}})}};Ae.on(document,Pae,Bae,function(r){let e=df(this);["A","AREA"].includes(this.tagName)&&r.preventDefault(),Ae.one(e,Ej,n=>{n.defaultPrevented||Ae.one(e,Sj,()=>{xC(this)&&this.focus()})});let t=ti.findOne(Aae);t&&fm.getInstance(t).hide(),fm.getOrCreateInstance(e).toggle(this)});ox(fm);Dl(fm);var U9="offcanvas",jae="bs.offcanvas",mm=`.${jae}`,xj=".data-api",Wae=`load${mm}${xj}`,Uae="Escape",z9={backdrop:!0,keyboard:!0,scroll:!1},zae={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},V9="show",Vae="offcanvas-backdrop",Dj=".offcanvas.show",Hae=`show${mm}`,$ae=`shown${mm}`,Kae=`hide${mm}`,Lj=`hidden${mm}`,qae=`click${mm}${xj}`,Yae=`keydown.dismiss${mm}`,Zae='[data-bs-toggle="offcanvas"]',uf=class extends Ll{constructor(e,t){super(e);this._config=this._getConfig(t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return U9}static get Default(){return z9}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||Ae.trigger(this._element,Hae,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||new ix().hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(V9);let i=()=>{this._config.scroll||this._focustrap.activate(),Ae.trigger(this._element,$ae,{relatedTarget:e})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||Ae.trigger(this._element,Kae).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove(V9),this._backdrop.hide();let t=()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||new ix().reset(),Ae.trigger(this._element,Lj)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(e){return e={...z9,...Xr.getDataAttributes(this._element),...typeof e=="object"?e:{}},cd(U9,e,zae),e}_initializeBackDrop(){return new EP({className:Vae,isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new xP({trapElement:this._element})}_addEventListeners(){Ae.on(this._element,Yae,e=>{this._config.keyboard&&e.key===Uae&&this.hide()})}static jQueryInterface(e){return this.each(function(){let t=uf.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};Ae.on(document,qae,Zae,function(r){let e=df(this);if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),dm(this))return;Ae.one(e,Lj,()=>{xC(this)&&this.focus()});let t=ti.findOne(Dj);t&&t!==e&&uf.getInstance(t).hide(),uf.getOrCreateInstance(e).toggle(this)});Ae.on(window,Wae,()=>ti.find(Dj).forEach(r=>uf.getOrCreateInstance(r).show()));ox(uf);Dl(uf);var Gae=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Xae=/^aria-[\w-]*$/i,Qae=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Jae=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,ele=(r,e)=>{let t=r.nodeName.toLowerCase();if(e.includes(t))return Gae.has(t)?Boolean(Qae.test(r.nodeValue)||Jae.test(r.nodeValue)):!0;let i=e.filter(n=>n instanceof RegExp);for(let n=0,o=i.length;n<o;n++)if(i[n].test(t))return!0;return!1},tle={"*":["class","dir","id","lang","role",Xae],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function H9(r,e,t){if(!r.length)return r;if(t&&typeof t=="function")return t(r);let n=new window.DOMParser().parseFromString(r,"text/html"),o=[].concat(...n.body.querySelectorAll("*"));for(let s=0,a=o.length;s<a;s++){let l=o[s],c=l.nodeName.toLowerCase();if(!Object.keys(e).includes(c)){l.remove();continue}let d=[].concat(...l.attributes),h=[].concat(e["*"]||[],e[c]||[]);d.forEach(u=>{ele(u,h)||l.removeAttribute(u.nodeName)})}return n.body.innerHTML}var $9="tooltip",ile="bs.tooltip",sd=`.${ile}`,nle="bs-tooltip",ole=new Set(["sanitize","allowList","sanitizeFn"]),rle={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},sle={AUTO:"auto",TOP:"top",RIGHT:ma()?"left":"right",BOTTOM:"bottom",LEFT:ma()?"right":"left"},ale={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:tle,popperConfig:null},lle={HIDE:`hide${sd}`,HIDDEN:`hidden${sd}`,SHOW:`show${sd}`,SHOWN:`shown${sd}`,INSERTED:`inserted${sd}`,CLICK:`click${sd}`,FOCUSIN:`focusin${sd}`,FOCUSOUT:`focusout${sd}`,MOUSEENTER:`mouseenter${sd}`,MOUSELEAVE:`mouseleave${sd}`},XE="fade",cle="modal",_C="show",bC="show",fP="out",K9=".tooltip-inner",q9=`.${cle}`,Y9="hide.bs.modal",vC="hover",gP="focus",dle="click",hle="manual",pm=class extends Ll{constructor(e,t){if(typeof YE>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e);this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(t),this.tip=null,this._setListeners()}static get Default(){return ale}static get NAME(){return $9}static get Event(){return lle}static get DefaultType(){return rle}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(e){if(!!this._isEnabled)if(e){let t=this._initializeOnDelegatedTarget(e);t._activeTrigger.click=!t._activeTrigger.click,t._isWithActiveTrigger()?t._enter(null,t):t._leave(null,t)}else{if(this.getTipElement().classList.contains(_C)){this._leave(null,this);return}this._enter(null,this)}}dispose(){clearTimeout(this._timeout),Ae.off(this._element.closest(q9),Y9,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this.isWithContent()&&this._isEnabled))return;let e=Ae.trigger(this._element,this.constructor.Event.SHOW),t=aj(this._element),i=t===null?this._element.ownerDocument.documentElement.contains(this._element):t.contains(this._element);if(e.defaultPrevented||!i)return;this.constructor.NAME==="tooltip"&&this.tip&&this.getTitle()!==this.tip.querySelector(K9).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);let n=this.getTipElement(),o=Ire(this.constructor.NAME);n.setAttribute("id",o),this._element.setAttribute("aria-describedby",o),this._config.animation&&n.classList.add(XE);let s=typeof this._config.placement=="function"?this._config.placement.call(this,n,this._element):this._config.placement,a=this._getAttachment(s);this._addAttachmentClass(a);let{container:l}=this._config;SC.set(n,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(l.append(n),Ae.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=pC(this._element,n,this._getPopperConfig(a)),n.classList.add(_C);let c=this._resolvePossibleFunction(this._config.customClass);c&&n.classList.add(...c.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(u=>{Ae.on(u,"mouseover",tx)});let d=()=>{let u=this._hoverState;this._hoverState=null,Ae.trigger(this._element,this.constructor.Event.SHOWN),u===fP&&this._leave(null,this)},h=this.tip.classList.contains(XE);this._queueCallback(d,this.tip,h)}hide(){if(!this._popper)return;let e=this.getTipElement(),t=()=>{this._isWithActiveTrigger()||(this._hoverState!==bC&&e.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),Ae.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())};if(Ae.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;e.classList.remove(_C),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(o=>Ae.off(o,"mouseover",tx)),this._activeTrigger[dle]=!1,this._activeTrigger[gP]=!1,this._activeTrigger[vC]=!1;let n=this.tip.classList.contains(XE);this._queueCallback(t,this.tip,n),this._hoverState=""}update(){this._popper!==null&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;let e=document.createElement("div");e.innerHTML=this._config.template;let t=e.children[0];return this.setContent(t),t.classList.remove(XE,_C),this.tip=t,this.tip}setContent(e){this._sanitizeAndSetContent(e,this.getTitle(),K9)}_sanitizeAndSetContent(e,t,i){let n=ti.findOne(i,e);if(!t&&n){n.remove();return}this.setElementContent(n,t)}setElementContent(e,t){if(e!==null){if(um(t)){t=hf(t),this._config.html?t.parentNode!==e&&(e.innerHTML="",e.append(t)):e.textContent=t.textContent;return}this._config.html?(this._config.sanitize&&(t=H9(t,this._config.allowList,this._config.sanitizeFn)),e.innerHTML=t):e.textContent=t}}getTitle(){let e=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(e)}updateAttachment(e){return e==="right"?"end":e==="left"?"start":e}_initializeOnDelegatedTarget(e,t){return t||this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return typeof e=="function"?e.call(this._element):e}_getPopperConfig(e){let t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:i=>this._handlePopperPlacementChange(i)}],onFirstUpdate:i=>{i.options.placement!==i.placement&&this._handlePopperPlacementChange(i)}};return{...t,...typeof this._config.popperConfig=="function"?this._config.popperConfig(t):this._config.popperConfig}}_addAttachmentClass(e){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(e)}`)}_getAttachment(e){return sle[e.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach(t=>{if(t==="click")Ae.on(this._element,this.constructor.Event.CLICK,this._config.selector,i=>this.toggle(i));else if(t!==hle){let i=t===vC?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,n=t===vC?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;Ae.on(this._element,i,this._config.selector,o=>this._enter(o)),Ae.on(this._element,n,this._config.selector,o=>this._leave(o))}}),this._hideModalHandler=()=>{this._element&&this.hide()},Ae.on(this._element.closest(q9),Y9,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){let e=this._element.getAttribute("title"),t=typeof this._element.getAttribute("data-bs-original-title");(e||t!=="string")&&(this._element.setAttribute("data-bs-original-title",e||""),e&&!this._element.getAttribute("aria-label")&&!this._element.textContent&&this._element.setAttribute("aria-label",e),this._element.setAttribute("title",""))}_enter(e,t){if(t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger[e.type==="focusin"?gP:vC]=!0),t.getTipElement().classList.contains(_C)||t._hoverState===bC){t._hoverState=bC;return}if(clearTimeout(t._timeout),t._hoverState=bC,!t._config.delay||!t._config.delay.show){t.show();return}t._timeout=setTimeout(()=>{t._hoverState===bC&&t.show()},t._config.delay.show)}_leave(e,t){if(t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger[e.type==="focusout"?gP:vC]=t._element.contains(e.relatedTarget)),!t._isWithActiveTrigger()){if(clearTimeout(t._timeout),t._hoverState=fP,!t._config.delay||!t._config.delay.hide){t.hide();return}t._timeout=setTimeout(()=>{t._hoverState===fP&&t.hide()},t._config.delay.hide)}}_isWithActiveTrigger(){for(let e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1}_getConfig(e){let t=Xr.getDataAttributes(this._element);return Object.keys(t).forEach(i=>{ole.has(i)&&delete t[i]}),e={...this.constructor.Default,...t,...typeof e=="object"&&e?e:{}},e.container=e.container===!1?document.body:hf(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),cd($9,e,this.constructor.DefaultType),e.sanitize&&(e.template=H9(e.template,e.allowList,e.sanitizeFn)),e}_getDelegateConfig(){let e={};for(let t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e}_cleanTipClass(){let e=this.getTipElement(),t=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),i=e.getAttribute("class").match(t);i!==null&&i.length>0&&i.map(n=>n.trim()).forEach(n=>e.classList.remove(n))}_getBasicClassPrefix(){return nle}_handlePopperPlacementChange(e){let{state:t}=e;!t||(this.tip=t.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(t.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(e){return this.each(function(){let t=pm.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Dl(pm);var ule="popover",fle="bs.popover",ad=`.${fle}`,gle="bs-popover",mle={...pm.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},ple={...pm.DefaultType,content:"(string|element|function)"},_le={HIDE:`hide${ad}`,HIDDEN:`hidden${ad}`,SHOW:`show${ad}`,SHOWN:`shown${ad}`,INSERTED:`inserted${ad}`,CLICK:`click${ad}`,FOCUSIN:`focusin${ad}`,FOCUSOUT:`focusout${ad}`,MOUSEENTER:`mouseenter${ad}`,MOUSELEAVE:`mouseleave${ad}`},ble=".popover-header",vle=".popover-body",rx=class extends pm{static get Default(){return mle}static get NAME(){return ule}static get Event(){return _le}static get DefaultType(){return ple}isWithContent(){return this.getTitle()||this._getContent()}setContent(e){this._sanitizeAndSetContent(e,this.getTitle(),ble),this._sanitizeAndSetContent(e,this._getContent(),vle)}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return gle}static jQueryInterface(e){return this.each(function(){let t=rx.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Dl(rx);var Z9="scrollspy",wle="bs.scrollspy",sx=`.${wle}`,Cle=".data-api",G9={offset:10,method:"auto",target:""},yle={offset:"number",method:"string",target:"(string|element)"},Sle=`activate${sx}`,Ele=`scroll${sx}`,xle=`load${sx}${Cle}`,kj="dropdown-item",Z_="active",Dle='[data-bs-spy="scroll"]',Lle=".nav, .list-group",CP=".nav-link",kle=".nav-item",Ij=".list-group-item",mP=`${CP}, ${Ij}, .${kj}`,Ile=".dropdown",Ole=".dropdown-toggle",Tle="offset",X9="position",IC=class extends Ll{constructor(e,t){super(e);this._scrollElement=this._element.tagName==="BODY"?window:this._element,this._config=this._getConfig(t),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,Ae.on(this._scrollElement,Ele,()=>this._process()),this.refresh(),this._process()}static get Default(){return G9}static get NAME(){return Z9}refresh(){let e=this._scrollElement===this._scrollElement.window?Tle:X9,t=this._config.method==="auto"?e:this._config.method,i=t===X9?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),ti.find(mP,this._config.target).map(o=>{let s=yP(o),a=s?ti.findOne(s):null;if(a){let l=a.getBoundingClientRect();if(l.width||l.height)return[Xr[t](a).top+i,s]}return null}).filter(o=>o).sort((o,s)=>o[0]-s[0]).forEach(o=>{this._offsets.push(o[0]),this._targets.push(o[1])})}dispose(){Ae.off(this._scrollElement,sx),super.dispose()}_getConfig(e){return e={...G9,...Xr.getDataAttributes(this._element),...typeof e=="object"&&e?e:{}},e.target=hf(e.target)||document.documentElement,cd(Z9,e,yle),e}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){let e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),i=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=i){let n=this._targets[this._targets.length-1];this._activeTarget!==n&&this._activate(n);return}if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0){this._activeTarget=null,this._clear();return}for(let n=this._offsets.length;n--;)this._activeTarget!==this._targets[n]&&e>=this._offsets[n]&&(typeof this._offsets[n+1]>"u"||e<this._offsets[n+1])&&this._activate(this._targets[n])}_activate(e){this._activeTarget=e,this._clear();let t=mP.split(",").map(n=>`${n}[data-bs-target="${e}"],${n}[href="${e}"]`),i=ti.findOne(t.join(","),this._config.target);i.classList.add(Z_),i.classList.contains(kj)?ti.findOne(Ole,i.closest(Ile)).classList.add(Z_):ti.parents(i,Lle).forEach(n=>{ti.prev(n,`${CP}, ${Ij}`).forEach(o=>o.classList.add(Z_)),ti.prev(n,kle).forEach(o=>{ti.children(o,CP).forEach(s=>s.classList.add(Z_))})}),Ae.trigger(this._scrollElement,Sle,{relatedTarget:e})}_clear(){ti.find(mP,this._config.target).filter(e=>e.classList.contains(Z_)).forEach(e=>e.classList.remove(Z_))}static jQueryInterface(e){return this.each(function(){let t=IC.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Ae.on(window,xle,()=>{ti.find(Dle).forEach(r=>new IC(r))});Dl(IC);var Nle="tab",Ple="bs.tab",OC=`.${Ple}`,Mle=".data-api",Ale=`hide${OC}`,Rle=`hidden${OC}`,Fle=`show${OC}`,Ble=`shown${OC}`,jle=`click${OC}${Mle}`,Wle="dropdown-menu",wC="active",Q9="fade",J9="show",Ule=".dropdown",zle=".nav, .list-group",ej=".active",tj=":scope > li > .active",Vle='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Hle=".dropdown-toggle",$le=":scope > .dropdown-menu .active",TC=class extends Ll{static get NAME(){return Nle}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(wC))return;let e,t=df(this._element),i=this._element.closest(zle);if(i){let a=i.nodeName==="UL"||i.nodeName==="OL"?tj:ej;e=ti.find(a,i),e=e[e.length-1]}let n=e?Ae.trigger(e,Ale,{relatedTarget:this._element}):null;if(Ae.trigger(this._element,Fle,{relatedTarget:e}).defaultPrevented||n!==null&&n.defaultPrevented)return;this._activate(this._element,i);let s=()=>{Ae.trigger(e,Rle,{relatedTarget:this._element}),Ae.trigger(this._element,Ble,{relatedTarget:e})};t?this._activate(t,t.parentNode,s):s()}_activate(e,t,i){let o=(t&&(t.nodeName==="UL"||t.nodeName==="OL")?ti.find(tj,t):ti.children(t,ej))[0],s=i&&o&&o.classList.contains(Q9),a=()=>this._transitionComplete(e,o,i);o&&s?(o.classList.remove(J9),this._queueCallback(a,e,!0)):a()}_transitionComplete(e,t,i){if(t){t.classList.remove(wC);let o=ti.findOne($le,t.parentNode);o&&o.classList.remove(wC),t.getAttribute("role")==="tab"&&t.setAttribute("aria-selected",!1)}e.classList.add(wC),e.getAttribute("role")==="tab"&&e.setAttribute("aria-selected",!0),X_(e),e.classList.contains(Q9)&&e.classList.add(J9);let n=e.parentNode;if(n&&n.nodeName==="LI"&&(n=n.parentNode),n&&n.classList.contains(Wle)){let o=e.closest(Ule);o&&ti.find(Hle,o).forEach(s=>s.classList.add(wC)),e.setAttribute("aria-expanded",!0)}i&&i()}static jQueryInterface(e){return this.each(function(){let t=TC.getOrCreateInstance(this);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Ae.on(document,jle,Vle,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),dm(this))return;TC.getOrCreateInstance(this).show()});Dl(TC);var ij="toast",Kle="bs.toast",ff=`.${Kle}`,qle=`mouseover${ff}`,Yle=`mouseout${ff}`,Zle=`focusin${ff}`,Gle=`focusout${ff}`,Xle=`hide${ff}`,Qle=`hidden${ff}`,Jle=`show${ff}`,ece=`shown${ff}`,tce="fade",nj="hide",CC="show",QE="showing",ice={animation:"boolean",autohide:"boolean",delay:"number"},oj={animation:!0,autohide:!0,delay:5e3},NC=class extends Ll{constructor(e,t){super(e);this._config=this._getConfig(t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return ice}static get Default(){return oj}static get NAME(){return ij}show(){if(Ae.trigger(this._element,Jle).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(tce);let t=()=>{this._element.classList.remove(QE),Ae.trigger(this._element,ece),this._maybeScheduleHide()};this._element.classList.remove(nj),X_(this._element),this._element.classList.add(CC),this._element.classList.add(QE),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this._element.classList.contains(CC)||Ae.trigger(this._element,Xle).defaultPrevented)return;let t=()=>{this._element.classList.add(nj),this._element.classList.remove(QE),this._element.classList.remove(CC),Ae.trigger(this._element,Qle)};this._element.classList.add(QE),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this._element.classList.contains(CC)&&this._element.classList.remove(CC),super.dispose()}_getConfig(e){return e={...oj,...Xr.getDataAttributes(this._element),...typeof e=="object"&&e?e:{}},cd(ij,e,this.constructor.DefaultType),e}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t;break}if(t){this._clearTimeout();return}let i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){Ae.on(this._element,qle,e=>this._onInteraction(e,!0)),Ae.on(this._element,Yle,e=>this._onInteraction(e,!1)),Ae.on(this._element,Zle,e=>this._onInteraction(e,!0)),Ae.on(this._element,Gle,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){let t=NC.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};ox(NC);Dl(NC);var zO={};BE(zO,{CancellationTokenSource:()=>Qpe,Emitter:()=>Jpe,KeyCode:()=>p3,KeyMod:()=>_3,MarkerSeverity:()=>o_e,MarkerTag:()=>r_e,Position:()=>e_e,Range:()=>t_e,Selection:()=>i_e,SelectionDirection:()=>n_e,Token:()=>a_e,Uri:()=>s_e,editor:()=>UO,languages:()=>l_e});ke();xt();Q_();jt();Jo();jC();var Nh=8,UC=class{constructor(e){this._values=e}hasChanged(e){return this._values[e]}},wx=class{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}},eo=class{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}applyUpdate(e,t){return Cx(e,t)}compute(e,t,i){return i}},_m=class{constructor(e,t){this.newValue=e,this.didChange=t}};function Cx(r,e){if(typeof r!="object"||typeof e!="object"||!r||!e)return new _m(e,r!==e);if(Array.isArray(r)||Array.isArray(e)){let i=Array.isArray(r)&&Array.isArray(e)&&Xn(r,e);return new _m(e,i)}let t=!1;for(let i in e)if(e.hasOwnProperty(i)){let n=Cx(r[i],e[i]);n.didChange&&(r[i]=n.newValue,t=!0)}return new _m(r,t)}var bm=class{constructor(e){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0}applyUpdate(e,t){return Cx(e,t)}validate(e){return this.defaultValue}},vf=class{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}applyUpdate(e,t){return Cx(e,t)}validate(e){return typeof e>"u"?this.defaultValue:e}compute(e,t,i){return i}};function Xe(r,e){return typeof r>"u"?e:r==="false"?!1:Boolean(r)}var Zt=class extends vf{constructor(e,t,i,n=void 0){typeof n<"u"&&(n.type="boolean",n.default=i);super(e,t,i,n)}validate(e){return Xe(e,this.defaultValue)}};function yx(r,e,t,i){if(typeof r>"u")return e;let n=parseInt(r,10);return isNaN(n)?e:(n=Math.max(t,n),n=Math.min(i,n),n|0)}var $i=class extends vf{constructor(e,t,i,n,o,s=void 0){typeof s<"u"&&(s.type="integer",s.default=i,s.minimum=n,s.maximum=o);super(e,t,i,s);this.minimum=n,this.maximum=o}static clampedInt(e,t,i,n){return yx(e,t,i,n)}validate(e){return $i.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}},Cc=class extends vf{constructor(e,t,i,n,o){typeof o<"u"&&(o.type="number",o.default=i);super(e,t,i,o);this.validationFn=n}static clamp(e,t,i){return e<t?t:e>i?i:e}static float(e,t){if(typeof e=="number")return e;if(typeof e>"u")return t;let i=parseFloat(e);return isNaN(i)?t:i}validate(e){return this.validationFn(Cc.float(e,this.defaultValue))}},bs=class extends vf{static string(e,t){return typeof e!="string"?t:e}constructor(e,t,i,n=void 0){typeof n<"u"&&(n.type="string",n.default=i);super(e,t,i,n)}validate(e){return bs.string(e,this.defaultValue)}};function ts(r,e,t){return typeof r!="string"||t.indexOf(r)===-1?e:r}var Hn=class extends vf{constructor(e,t,i,n,o=void 0){typeof o<"u"&&(o.type="string",o.enum=n,o.default=i);super(e,t,i,o);this._allowedValues=n}validate(e){return ts(e,this.defaultValue,this._allowedValues)}},sb=class extends eo{constructor(e,t,i,n,o,s,a=void 0){typeof a<"u"&&(a.type="string",a.enum=o,a.default=n);super(e,t,i,a);this._allowedValues=o,this._convert=s}validate(e){return typeof e!="string"?this.defaultValue:this._allowedValues.indexOf(e)===-1?this.defaultValue:this._convert(e)}};function pce(r){switch(r){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}var Qj=class extends eo{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[g("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),g("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),g("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:g("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,i){return i===0?e.accessibilitySupport:i}},Jj=class extends eo{constructor(){let e={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:g("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:g("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{insertSpace:Xe(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:Xe(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}};function _ce(r){switch(r){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var uo;(function(r){r[r.Line=1]="Line",r[r.Block=2]="Block",r[r.Underline=3]="Underline",r[r.LineThin=4]="LineThin",r[r.BlockOutline=5]="BlockOutline",r[r.UnderlineThin=6]="UnderlineThin"})(uo||(uo={}));function bce(r){switch(r){case"line":return uo.Line;case"block":return uo.Block;case"underline":return uo.Underline;case"line-thin":return uo.LineThin;case"block-outline":return uo.BlockOutline;case"underline-thin":return uo.UnderlineThin}}var e6=class extends bm{constructor(){super(128)}compute(e,t,i){let n=["monaco-editor"];return t.get(33)&&n.push(t.get(33)),e.extraEditorClassName&&n.push(e.extraEditorClassName),t.get(66)==="default"?n.push("mouse-default"):t.get(66)==="copy"&&n.push("mouse-copy"),t.get(100)&&n.push("showUnused"),t.get(126)&&n.push("showDeprecated"),n.join(" ")}},t6=class extends Zt{constructor(){super(32,"emptySelectionClipboard",!0,{description:g("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(e,t,i){return i&&e.emptySelectionClipboard}},i6=class extends eo{constructor(){let e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:g("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[g("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),g("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),g("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:g("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[g("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),g("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),g("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:g("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:g("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:Je},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:g("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:g("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{cursorMoveOnType:Xe(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof e.seedSearchStringFromSelection=="boolean"?e.seedSearchStringFromSelection?"always":"never":ts(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof e.autoFindInSelection=="boolean"?e.autoFindInSelection?"always":"never":ts(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:Xe(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:Xe(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:Xe(t.loop,this.defaultValue.loop)}}},er=class extends eo{constructor(){super(45,"fontLigatures",er.OFF,{anyOf:[{type:"boolean",description:g("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:g("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:g("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e==="false"?er.OFF:e==="true"?er.ON:e:Boolean(e)?er.ON:er.OFF}};er.OFF='"liga" off, "calt" off';er.ON='"liga" on, "calt" on';var n6=class extends bm{constructor(){super(44)}compute(e,t,i){return e.fontInfo}},o6=class extends vf{constructor(){super(46,"fontSize",Jn.fontSize,{type:"number",minimum:6,maximum:100,default:Jn.fontSize,description:g("fontSize","Controls the font size in pixels.")})}validate(e){let t=Cc.float(e,this.defaultValue);return t===0?Jn.fontSize:Cc.clamp(t,6,100)}compute(e,t,i){return e.fontInfo.fontSize}},wc=class extends eo{constructor(){super(47,"fontWeight",Jn.fontWeight,{anyOf:[{type:"number",minimum:wc.MINIMUM_VALUE,maximum:wc.MAXIMUM_VALUE,errorMessage:g("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:wc.SUGGESTION_VALUES}],default:Jn.fontWeight,description:g("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return e==="normal"||e==="bold"?e:String($i.clampedInt(e,Jn.fontWeight,wc.MINIMUM_VALUE,wc.MAXIMUM_VALUE))}};wc.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"];wc.MINIMUM_VALUE=1;wc.MAXIMUM_VALUE=1e3;var r6=class extends eo{constructor(){let e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[g("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),g("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),g("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},i=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(51,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:g("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:g("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:g("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleDeclarations":Object.assign({description:g("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleImplementations":Object.assign({description:g("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleReferences":Object.assign({description:g("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},t),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:i,description:g("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:i,description:g("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:i,description:g("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:i,description:g("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:i,description:g("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){var t,i,n,o,s;if(!e||typeof e!="object")return this.defaultValue;let a=e;return{multiple:ts(a.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(t=a.multipleDefinitions)!==null&&t!==void 0?t:ts(a.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(i=a.multipleTypeDefinitions)!==null&&i!==void 0?i:ts(a.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(n=a.multipleDeclarations)!==null&&n!==void 0?n:ts(a.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(o=a.multipleImplementations)!==null&&o!==void 0?o:ts(a.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(s=a.multipleReferences)!==null&&s!==void 0?s:ts(a.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:bs.string(a.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:bs.string(a.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:bs.string(a.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:bs.string(a.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:bs.string(a.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}},s6=class extends eo{constructor(){let e={enabled:!0,delay:300,sticky:!0,above:!0};super(53,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:g("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,minimum:0,maximum:1e4,description:g("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:g("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:e.above,description:g("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:Xe(t.enabled,this.defaultValue.enabled),delay:$i.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:Xe(t.sticky,this.defaultValue.sticky),above:Xe(t.above,this.defaultValue.above)}}},bf=class extends bm{constructor(){super(131)}compute(e,t,i){return bf.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio})}static computeContainedMinimapLineCount(e){let t=e.height/e.lineHeight,i=e.scrollBeyondLastLine?t-1:0,n=(e.viewLineCount+i)/(e.pixelRatio*e.height),o=Math.floor(e.viewLineCount/n);return{typicalViewportLineCount:t,extraLinesBeyondLastLine:i,desiredRatio:n,minimapLineCount:o}}static _computeMinimapLayout(e,t){let i=e.outerWidth,n=e.outerHeight,o=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(o*n),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:n};let s=t.stableMinimapLayoutInput,a=s&&e.outerHeight===s.outerHeight&&e.lineHeight===s.lineHeight&&e.typicalHalfwidthCharacterWidth===s.typicalHalfwidthCharacterWidth&&e.pixelRatio===s.pixelRatio&&e.scrollBeyondLastLine===s.scrollBeyondLastLine&&e.minimap.enabled===s.minimap.enabled&&e.minimap.side===s.minimap.side&&e.minimap.size===s.minimap.size&&e.minimap.showSlider===s.minimap.showSlider&&e.minimap.renderCharacters===s.minimap.renderCharacters&&e.minimap.maxColumn===s.minimap.maxColumn&&e.minimap.scale===s.minimap.scale&&e.verticalScrollbarWidth===s.verticalScrollbarWidth&&e.isViewportWrapping===s.isViewportWrapping,l=e.lineHeight,c=e.typicalHalfwidthCharacterWidth,d=e.scrollBeyondLastLine,h=e.minimap.renderCharacters,u=o>=2?Math.round(e.minimap.scale*2):e.minimap.scale,f=e.minimap.maxColumn,m=e.minimap.size,_=e.minimap.side,w=e.verticalScrollbarWidth,y=e.viewLineCount,C=e.remainingWidth,E=e.isViewportWrapping,L=h?2:3,k=Math.floor(o*n),M=k/o,I=!1,T=!1,R=L*u,Z=u/o,q=1;if(m==="fill"||m==="fit"){let{typicalViewportLineCount:$e,extraLinesBeyondLastLine:gt,desiredRatio:Pe,minimapLineCount:_i}=bf.computeContainedMinimapLineCount({viewLineCount:y,scrollBeyondLastLine:d,height:n,lineHeight:l,pixelRatio:o});if(y/_i>1)I=!0,T=!0,u=1,R=1,Z=u/o;else{let Ue=!1,ei=u+1;if(m==="fit"){let hn=Math.ceil((y+gt)*R);E&&a&&C<=t.stableFitRemainingWidth?(Ue=!0,ei=t.stableFitMaxMinimapScale):Ue=hn>k}if(m==="fill"||Ue){I=!0;let hn=u;R=Math.min(l*o,Math.max(1,Math.floor(1/Pe))),E&&a&&C<=t.stableFitRemainingWidth&&(ei=t.stableFitMaxMinimapScale),u=Math.min(ei,Math.max(1,Math.floor(R/L))),u>hn&&(q=Math.min(2,u/hn)),Z=u/o/q,k=Math.ceil(Math.max($e,y+gt)*R),E?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=C,t.stableFitMaxMinimapScale=u):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0)}}}let te=Math.floor(f*Z),ne=Math.min(te,Math.max(0,Math.floor((C-w-2)*Z/(c+Z)))+Nh),Ne=Math.floor(o*ne),Oe=Ne/o;Ne=Math.floor(Ne*q);let je=h?1:2,Ze=_==="left"?0:i-ne-w;return{renderMinimap:je,minimapLeft:Ze,minimapWidth:ne,minimapHeightIsEditorHeight:I,minimapIsSampling:T,minimapScale:u,minimapLineHeight:R,minimapCanvasInnerWidth:Ne,minimapCanvasInnerHeight:k,minimapCanvasOuterWidth:Oe,minimapCanvasOuterHeight:M}}static computeLayout(e,t){let i=t.outerWidth|0,n=t.outerHeight|0,o=t.lineHeight|0,s=t.lineNumbersDigitCount|0,a=t.typicalHalfwidthCharacterWidth,l=t.maxDigitWidth,c=t.pixelRatio,d=t.viewLineCount,h=e.get(123),u=h==="inherit"?e.get(122):h,f=u==="inherit"?e.get(118):u,m=e.get(121),_=e.get(2),w=t.isDominatedByLongLines,y=e.get(50),C=e.get(60).renderType!==0,E=e.get(61),L=e.get(94),k=e.get(65),M=e.get(92),I=M.verticalScrollbarSize,T=M.verticalHasArrows,R=M.arrowSize,Z=M.horizontalScrollbarSize,q=e.get(58),te=e.get(37),ne;if(typeof q=="string"&&/^\d+(\.\d+)?ch$/.test(q)){let So=parseFloat(q.substr(0,q.length-2));ne=$i.clampedInt(So*a,0,0,1e3)}else ne=$i.clampedInt(q,0,0,1e3);te&&(ne+=16);let Ne=0;if(C){let So=Math.max(s,E);Ne=Math.round(So*l)}let Oe=0;y&&(Oe=o);let je=0,Ze=je+Oe,$e=Ze+Ne,gt=$e+ne,Pe=i-Oe-Ne-ne,_i=!1,We=!1,Ue=-1;_!==2&&(u==="inherit"&&w?(_i=!0,We=!0):f==="on"||f==="bounded"?We=!0:f==="wordWrapColumn"&&(Ue=m));let ei=bf._computeMinimapLayout({outerWidth:i,outerHeight:n,lineHeight:o,typicalHalfwidthCharacterWidth:a,pixelRatio:c,scrollBeyondLastLine:L,minimap:k,verticalScrollbarWidth:I,viewLineCount:d,remainingWidth:Pe,isViewportWrapping:We},t.memory||new wx);ei.renderMinimap!==0&&ei.minimapLeft===0&&(je+=ei.minimapWidth,Ze+=ei.minimapWidth,$e+=ei.minimapWidth,gt+=ei.minimapWidth);let hn=Pe-ei.minimapWidth,Un=Math.max(1,Math.floor((hn-I-2)/a)),Wo=T?R:0;return We&&(Ue=Math.max(1,Un),f==="bounded"&&(Ue=Math.min(Ue,m))),{width:i,height:n,glyphMarginLeft:je,glyphMarginWidth:Oe,lineNumbersLeft:Ze,lineNumbersWidth:Ne,decorationsLeft:$e,decorationsWidth:ne,contentLeft:gt,contentWidth:hn,minimap:ei,viewportColumn:Un,isWordWrapMinified:_i,isViewportWrapping:We,wrappingColumn:Ue,verticalScrollbarWidth:I,horizontalScrollbarHeight:Z,overviewRuler:{top:Wo,width:I,height:n-2*Wo,right:0}}}},a6=class extends eo{constructor(){let e={enabled:!0};super(57,"lightbulb",e,{"editor.lightbulb.enabled":{type:"boolean",default:e.enabled,description:g("codeActions","Enables the code action lightbulb in the editor.")}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{enabled:Xe(e.enabled,this.defaultValue.enabled)}}},l6=class extends eo{constructor(){let e={enabled:!0,fontSize:0,fontFamily:""};super(127,"inlayHints",e,{"editor.inlayHints.enabled":{type:"boolean",default:e.enabled,description:g("inlayHints.enable","Enables the inlay hints in the editor.")},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:g("inlayHints.fontSize","Controls font size of inlay hints in the editor. A default of 90% of `#editor.fontSize#` is used when the configured value is less than `5` or greater than the editor font size.")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,markdownDescription:g("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the `#editor.fontFamily#` is used.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:Xe(t.enabled,this.defaultValue.enabled),fontSize:$i.clampedInt(t.fontSize,this.defaultValue.fontSize,0,100),fontFamily:bs.string(t.fontFamily,this.defaultValue.fontFamily)}}},c6=class extends Cc{constructor(){super(59,"lineHeight",Jn.lineHeight,e=>Cc.clamp(e,0,150),{markdownDescription:g("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(e,t,i){return e.fontInfo.lineHeight}},d6=class extends eo{constructor(){let e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(65,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:g("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[g("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),g("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),g("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:g("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:g("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:g("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:g("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:g("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:g("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:Xe(t.enabled,this.defaultValue.enabled),size:ts(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:ts(t.side,this.defaultValue.side,["right","left"]),showSlider:ts(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:Xe(t.renderCharacters,this.defaultValue.renderCharacters),scale:$i.clampedInt(t.scale,1,1,3),maxColumn:$i.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4)}}};function vce(r){return r==="ctrlCmd"?Je?"metaKey":"ctrlKey":"altKey"}var h6=class extends eo{constructor(){super(75,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:g("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:g("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{top:$i.clampedInt(t.top,0,0,1e3),bottom:$i.clampedInt(t.bottom,0,0,1e3)}}},u6=class extends eo{constructor(){let e={enabled:!0,cycle:!1};super(76,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:g("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:g("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:Xe(t.enabled,this.defaultValue.enabled),cycle:Xe(t.cycle,this.defaultValue.cycle)}}},f6=class extends bm{constructor(){super(129)}compute(e,t,i){return e.pixelRatio}},g6=class extends eo{constructor(){let e={other:!0,comments:!1,strings:!1};super(79,"quickSuggestions",e,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:e.strings,description:g("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:e.comments,description:g("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:e.other,description:g("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:e,description:g("quickSuggestions","Controls whether suggestions should automatically show up while typing.")});this.defaultValue=e}validate(e){if(typeof e=="boolean")return e;if(e&&typeof e=="object"){let t=e,i={other:Xe(t.other,this.defaultValue.other),comments:Xe(t.comments,this.defaultValue.comments),strings:Xe(t.strings,this.defaultValue.strings)};return i.other&&i.comments&&i.strings?!0:!i.other&&!i.comments&&!i.strings?!1:i}return this.defaultValue}},m6=class extends eo{constructor(){super(60,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[g("lineNumbers.off","Line numbers are not rendered."),g("lineNumbers.on","Line numbers are rendered as absolute number."),g("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),g("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:g("lineNumbers","Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,i=this.defaultValue.renderFn;return typeof e<"u"&&(typeof e=="function"?(t=4,i=e):e==="interval"?t=3:e==="relative"?t=2:e==="on"?t=1:t=0),{renderType:t,renderFn:i}}};function vm(r){let e=r.get(87);return e==="editable"?r.get(81):e!=="on"}var p6=class extends eo{constructor(){let e=[],t={type:"number",description:g("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(91,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:g("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:g("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){let t=[];for(let i of e)if(typeof i=="number")t.push({column:$i.clampedInt(i,0,0,1e4),color:null});else if(i&&typeof i=="object"){let n=i;t.push({column:$i.clampedInt(n.column,0,0,1e4),color:n.color})}return t.sort((i,n)=>i.column-n.column),t}return this.defaultValue}};function Xj(r,e){if(typeof r!="string")return e;switch(r){case"hidden":return 2;case"visible":return 3;default:return 1}}var _6=class extends eo{constructor(){let e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(92,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[g("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),g("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),g("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:g("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[g("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),g("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),g("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:g("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:g("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:g("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:g("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e,i=$i.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),n=$i.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:$i.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:Xj(t.vertical,this.defaultValue.vertical),horizontal:Xj(t.horizontal,this.defaultValue.horizontal),useShadows:Xe(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:Xe(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:Xe(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:Xe(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:Xe(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:i,horizontalSliderSize:$i.clampedInt(t.horizontalSliderSize,i,0,1e3),verticalScrollbarSize:n,verticalSliderSize:$i.clampedInt(t.verticalSliderSize,n,0,1e3),scrollByPage:Xe(t.scrollByPage,this.defaultValue.scrollByPage)}}},Bs="inUntrustedWorkspace",es={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"},b6=class extends eo{constructor(){let e={nonBasicASCII:Bs,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:Bs,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(113,"unicodeHighlight",e,{[es.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Bs],default:e.nonBasicASCII,description:g("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[es.invisibleCharacters]:{restricted:!0,type:"boolean",default:e.invisibleCharacters,description:g("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[es.ambiguousCharacters]:{restricted:!0,type:"boolean",default:e.ambiguousCharacters,description:g("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[es.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Bs],default:e.includeComments,description:g("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to unicode highlighting.")},[es.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Bs],default:e.includeStrings,description:g("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to unicode highlighting.")},[es.allowedCharacters]:{restricted:!0,type:"object",default:e.allowedCharacters,description:g("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[es.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:e.allowedLocales,description:g("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(e,t){let i=!1;t.allowedCharacters&&(Qo(e.allowedCharacters,t.allowedCharacters)||(e=Object.assign(Object.assign({},e),{allowedCharacters:t.allowedCharacters}),i=!0)),t.allowedLocales&&(Qo(e.allowedLocales,t.allowedLocales)||(e=Object.assign(Object.assign({},e),{allowedLocales:t.allowedLocales}),i=!0));let n=super.applyUpdate(e,t);return i?new _m(n.newValue,!0):n}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{nonBasicASCII:WC(t.nonBasicASCII,Bs,[!0,!1,Bs]),invisibleCharacters:Xe(t.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:Xe(t.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:WC(t.includeComments,Bs,[!0,!1,Bs]),includeStrings:WC(t.includeStrings,Bs,[!0,!1,Bs]),allowedCharacters:this.validateBooleanMap(e.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(e.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(e,t){if(typeof e!="object"||!e)return t;let i={};for(let[n,o]of Object.entries(e))o===!0&&(i[n]=!0);return i}},v6=class extends eo{constructor(){let e={enabled:!0,mode:"subwordSmart"};super(55,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:g("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:Xe(t.enabled,this.defaultValue.enabled),mode:ts(t.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}},w6=class extends eo{constructor(){let e={enabled:Lo.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",e,{"editor.bracketPairColorization.enabled":{type:"boolean",default:e.enabled,description:g("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use 'workbench.colorCustomizations' to override the bracket highlight colors.")}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{enabled:Xe(e.enabled,this.defaultValue.enabled)}}},C6=class extends eo{constructor(){let e={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",e,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[g("editor.guides.bracketPairs.true","Enables bracket pair guides."),g("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),g("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:e.bracketPairs,description:g("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[g("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),g("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),g("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:e.bracketPairsHorizontal,description:g("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:e.highlightActiveBracketPair,description:g("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:e.indentation,description:g("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:"boolean",default:e.highlightActiveIndentation,description:g("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{bracketPairs:WC(t.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:WC(t.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:Xe(t.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:Xe(t.indentation,this.defaultValue.indentation),highlightActiveIndentation:Xe(t.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}}};function WC(r,e,t){let i=t.indexOf(r);return i===-1?e:t[i]}var y6=class extends eo{constructor(){let e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(106,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[g("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),g("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:g("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:g("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:g("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:g("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:g("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:g("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:g("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:g("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:g("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:g("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:g("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{insertMode:ts(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:Xe(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:Xe(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:Xe(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:Xe(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:Xe(t.showIcons,this.defaultValue.showIcons),showStatusBar:Xe(t.showStatusBar,this.defaultValue.showStatusBar),preview:Xe(t.preview,this.defaultValue.preview),previewMode:ts(t.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:Xe(t.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:Xe(t.showMethods,this.defaultValue.showMethods),showFunctions:Xe(t.showFunctions,this.defaultValue.showFunctions),showConstructors:Xe(t.showConstructors,this.defaultValue.showConstructors),showDeprecated:Xe(t.showDeprecated,this.defaultValue.showDeprecated),showFields:Xe(t.showFields,this.defaultValue.showFields),showVariables:Xe(t.showVariables,this.defaultValue.showVariables),showClasses:Xe(t.showClasses,this.defaultValue.showClasses),showStructs:Xe(t.showStructs,this.defaultValue.showStructs),showInterfaces:Xe(t.showInterfaces,this.defaultValue.showInterfaces),showModules:Xe(t.showModules,this.defaultValue.showModules),showProperties:Xe(t.showProperties,this.defaultValue.showProperties),showEvents:Xe(t.showEvents,this.defaultValue.showEvents),showOperators:Xe(t.showOperators,this.defaultValue.showOperators),showUnits:Xe(t.showUnits,this.defaultValue.showUnits),showValues:Xe(t.showValues,this.defaultValue.showValues),showConstants:Xe(t.showConstants,this.defaultValue.showConstants),showEnums:Xe(t.showEnums,this.defaultValue.showEnums),showEnumMembers:Xe(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:Xe(t.showKeywords,this.defaultValue.showKeywords),showWords:Xe(t.showWords,this.defaultValue.showWords),showColors:Xe(t.showColors,this.defaultValue.showColors),showFiles:Xe(t.showFiles,this.defaultValue.showFiles),showReferences:Xe(t.showReferences,this.defaultValue.showReferences),showFolders:Xe(t.showFolders,this.defaultValue.showFolders),showTypeParameters:Xe(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:Xe(t.showSnippets,this.defaultValue.showSnippets),showUsers:Xe(t.showUsers,this.defaultValue.showUsers),showIssues:Xe(t.showIssues,this.defaultValue.showIssues)}}},S6=class extends eo{constructor(){super(102,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:g("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:Xe(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}},E6=class extends bm{constructor(){super(130)}compute(e,t,i){return t.get(81)?!0:e.tabFocusMode}};function wce(r){switch(r){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}var x6=class extends bm{constructor(){super(132)}compute(e,t,i){let n=t.get(131);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:n.isWordWrapMinified,isViewportWrapping:n.isViewportWrapping,wrappingColumn:n.wrappingColumn}}},Cce="Consolas, 'Courier New', monospace",yce="Menlo, Monaco, 'Courier New', monospace",Sce="'Droid Sans Mono', 'monospace', monospace",Jn={fontFamily:Je?yce:Fi?Sce:Cce,fontWeight:"normal",fontSize:Je?12:14,lineHeight:0,letterSpacing:0},wf=[];function _e(r){return wf[r.id]=r,r}var vs={acceptSuggestionOnCommitCharacter:_e(new Zt(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:g("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:_e(new Hn(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",g("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:g("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:_e(new Qj),accessibilityPageSize:_e(new $i(3,"accessibilityPageSize",10,1,1073741824,{description:g("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:_e(new bs(4,"ariaLabel",g("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:_e(new Hn(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",g("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),g("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:g("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:_e(new Hn(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",g("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:g("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:_e(new Hn(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",g("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:g("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:_e(new Hn(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",g("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),g("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:g("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:_e(new sb(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],pce,{enumDescriptions:[g("editor.autoIndent.none","The editor will not insert indentation automatically."),g("editor.autoIndent.keep","The editor will keep the current line's indentation."),g("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),g("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),g("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:g("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:_e(new Zt(10,"automaticLayout",!1)),autoSurround:_e(new Hn(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[g("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),g("editor.autoSurround.quotes","Surround with quotes but not brackets."),g("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:g("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:_e(new w6),bracketPairGuides:_e(new C6),stickyTabStops:_e(new Zt(104,"stickyTabStops",!1,{description:g("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:_e(new Zt(14,"codeLens",!0,{description:g("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:_e(new bs(15,"codeLensFontFamily","",{description:g("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:_e(new $i(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:g("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, 90% of `#editor.fontSize#` is used.")})),colorDecorators:_e(new Zt(17,"colorDecorators",!0,{description:g("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:_e(new Zt(18,"columnSelection",!1,{description:g("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:_e(new Jj),contextmenu:_e(new Zt(20,"contextmenu",!0)),copyWithSyntaxHighlighting:_e(new Zt(21,"copyWithSyntaxHighlighting",!0,{description:g("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:_e(new sb(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],_ce,{description:g("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:_e(new Zt(23,"cursorSmoothCaretAnimation",!1,{description:g("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:_e(new sb(24,"cursorStyle",uo.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],bce,{description:g("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:_e(new $i(25,"cursorSurroundingLines",0,0,1073741824,{description:g("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:_e(new Hn(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[g("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),g("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:g("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:_e(new $i(27,"cursorWidth",0,0,1073741824,{markdownDescription:g("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:_e(new Zt(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:_e(new Zt(29,"disableMonospaceOptimizations",!1)),domReadOnly:_e(new Zt(30,"domReadOnly",!1)),dragAndDrop:_e(new Zt(31,"dragAndDrop",!0,{description:g("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:_e(new t6),extraEditorClassName:_e(new bs(33,"extraEditorClassName","")),fastScrollSensitivity:_e(new Cc(34,"fastScrollSensitivity",5,r=>r<=0?5:r,{markdownDescription:g("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:_e(new i6),fixedOverflowWidgets:_e(new Zt(36,"fixedOverflowWidgets",!1)),folding:_e(new Zt(37,"folding",!0,{description:g("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:_e(new Hn(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[g("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),g("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:g("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:_e(new Zt(39,"foldingHighlight",!0,{description:g("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:_e(new Zt(40,"foldingImportsByDefault",!1,{description:g("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:_e(new $i(41,"foldingMaximumRegions",5e3,10,65e3,{description:g("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:_e(new Zt(42,"unfoldOnClickAfterEndOfLine",!1,{description:g("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:_e(new bs(43,"fontFamily",Jn.fontFamily,{description:g("fontFamily","Controls the font family.")})),fontInfo:_e(new n6),fontLigatures2:_e(new er),fontSize:_e(new o6),fontWeight:_e(new wc),formatOnPaste:_e(new Zt(48,"formatOnPaste",!1,{description:g("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:_e(new Zt(49,"formatOnType",!1,{description:g("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:_e(new Zt(50,"glyphMargin",!0,{description:g("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:_e(new r6),hideCursorInOverviewRuler:_e(new Zt(52,"hideCursorInOverviewRuler",!1,{description:g("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:_e(new s6),inDiffEditor:_e(new Zt(54,"inDiffEditor",!1)),letterSpacing:_e(new Cc(56,"letterSpacing",Jn.letterSpacing,r=>Cc.clamp(r,-5,20),{description:g("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:_e(new a6),lineDecorationsWidth:_e(new vf(58,"lineDecorationsWidth",10)),lineHeight:_e(new c6),lineNumbers:_e(new m6),lineNumbersMinChars:_e(new $i(61,"lineNumbersMinChars",5,1,300)),linkedEditing:_e(new Zt(62,"linkedEditing",!1,{description:g("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:_e(new Zt(63,"links",!0,{description:g("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:_e(new Hn(64,"matchBrackets","always",["always","near","never"],{description:g("matchBrackets","Highlight matching brackets.")})),minimap:_e(new d6),mouseStyle:_e(new Hn(66,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:_e(new Cc(67,"mouseWheelScrollSensitivity",1,r=>r===0?1:r,{markdownDescription:g("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:_e(new Zt(68,"mouseWheelZoom",!1,{markdownDescription:g("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:_e(new Zt(69,"multiCursorMergeOverlapping",!0,{description:g("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:_e(new sb(70,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],vce,{markdownEnumDescriptions:[g("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),g("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:g({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:_e(new Hn(71,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[g("multiCursorPaste.spread","Each cursor pastes a single line of the text."),g("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:g("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:_e(new Zt(72,"occurrencesHighlight",!0,{description:g("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:_e(new Zt(73,"overviewRulerBorder",!0,{description:g("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:_e(new $i(74,"overviewRulerLanes",3,0,3)),padding:_e(new h6),parameterHints:_e(new u6),peekWidgetDefaultFocus:_e(new Hn(77,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[g("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),g("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:g("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:_e(new Zt(78,"definitionLinkOpensInPeek",!1,{description:g("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:_e(new g6),quickSuggestionsDelay:_e(new $i(80,"quickSuggestionsDelay",10,0,1073741824,{description:g("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:_e(new Zt(81,"readOnly",!1)),renameOnType:_e(new Zt(82,"renameOnType",!1,{description:g("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:g("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:_e(new Zt(83,"renderControlCharacters",!0,{description:g("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:_e(new Zt(84,"renderFinalNewline",!0,{description:g("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:_e(new Hn(85,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",g("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:g("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:_e(new Zt(86,"renderLineHighlightOnlyWhenFocus",!1,{description:g("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:_e(new Hn(87,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:_e(new Hn(88,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",g("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),g("renderWhitespace.selection","Render whitespace characters only on selected text."),g("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:g("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:_e(new $i(89,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:_e(new Zt(90,"roundedSelection",!0,{description:g("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:_e(new p6),scrollbar:_e(new _6),scrollBeyondLastColumn:_e(new $i(93,"scrollBeyondLastColumn",5,0,1073741824,{description:g("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:_e(new Zt(94,"scrollBeyondLastLine",!0,{description:g("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:_e(new Zt(95,"scrollPredominantAxis",!0,{description:g("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:_e(new Zt(96,"selectionClipboard",!0,{description:g("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:Fi})),selectionHighlight:_e(new Zt(97,"selectionHighlight",!0,{description:g("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:_e(new Zt(98,"selectOnLineNumbers",!0)),showFoldingControls:_e(new Hn(99,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[g("showFoldingControls.always","Always show the folding controls."),g("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:g("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:_e(new Zt(100,"showUnused",!0,{description:g("showUnused","Controls fading out of unused code.")})),showDeprecated:_e(new Zt(126,"showDeprecated",!0,{description:g("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:_e(new l6),snippetSuggestions:_e(new Hn(101,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[g("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),g("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),g("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),g("snippetSuggestions.none","Do not show snippet suggestions.")],description:g("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:_e(new S6),smoothScrolling:_e(new Zt(103,"smoothScrolling",!1,{description:g("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:_e(new $i(105,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:_e(new y6),inlineSuggest:_e(new v6),suggestFontSize:_e(new $i(107,"suggestFontSize",0,0,1e3,{markdownDescription:g("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:_e(new $i(108,"suggestLineHeight",0,0,1e3,{markdownDescription:g("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.")})),suggestOnTriggerCharacters:_e(new Zt(109,"suggestOnTriggerCharacters",!0,{description:g("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:_e(new Hn(110,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[g("suggestSelection.first","Always select the first suggestion."),g("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),g("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:g("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:_e(new Hn(111,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[g("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),g("tabCompletion.off","Disable tab completions."),g("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:g("tabCompletion","Enables tab completions.")})),tabIndex:_e(new $i(112,"tabIndex",0,-1,1073741824)),unicodeHighlight:_e(new b6),unusualLineTerminators:_e(new Hn(114,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[g("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),g("unusualLineTerminators.off","Unusual line terminators are ignored."),g("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:g("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:_e(new Zt(115,"useShadowDOM",!0)),useTabStops:_e(new Zt(116,"useTabStops",!0,{description:g("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:_e(new bs(117,"wordSeparators",TP,{description:g("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:_e(new Hn(118,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[g("wordWrap.off","Lines will never wrap."),g("wordWrap.on","Lines will wrap at the viewport width."),g({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),g({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:g({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:_e(new bs(119,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:_e(new bs(120,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:_e(new $i(121,"wordWrapColumn",80,1,1073741824,{markdownDescription:g({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:_e(new Hn(122,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:_e(new Hn(123,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:_e(new sb(124,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],wce,{enumDescriptions:[g("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),g("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),g("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),g("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:g("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:_e(new Hn(125,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[g("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),g("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:g("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:_e(new e6),pixelRatio:_e(new f6),tabFocusMode:_e(new E6),layoutInfo:_e(new bf),wrappingInfo:_e(new x6)};Ei();Ee();Ha();Oi();lt();ye();mi();cn();var Mx;(function(r){r[r.Unknown=0]="Unknown",r[r.Disabled=1]="Disabled",r[r.Enabled=2]="Enabled"})(Mx||(Mx={}));var Ax;(function(r){r[r.KeepWhitespace=1]="KeepWhitespace",r[r.InsertAsSnippet=4]="InsertAsSnippet"})(Ax||(Ax={}));var Rx;(function(r){r[r.Method=0]="Method",r[r.Function=1]="Function",r[r.Constructor=2]="Constructor",r[r.Field=3]="Field",r[r.Variable=4]="Variable",r[r.Class=5]="Class",r[r.Struct=6]="Struct",r[r.Interface=7]="Interface",r[r.Module=8]="Module",r[r.Property=9]="Property",r[r.Event=10]="Event",r[r.Operator=11]="Operator",r[r.Unit=12]="Unit",r[r.Value=13]="Value",r[r.Constant=14]="Constant",r[r.Enum=15]="Enum",r[r.EnumMember=16]="EnumMember",r[r.Keyword=17]="Keyword",r[r.Text=18]="Text",r[r.Color=19]="Color",r[r.File=20]="File",r[r.Reference=21]="Reference",r[r.Customcolor=22]="Customcolor",r[r.Folder=23]="Folder",r[r.TypeParameter=24]="TypeParameter",r[r.User=25]="User",r[r.Issue=26]="Issue",r[r.Snippet=27]="Snippet"})(Rx||(Rx={}));var Fx;(function(r){r[r.Deprecated=1]="Deprecated"})(Fx||(Fx={}));var Bx;(function(r){r[r.Invoke=0]="Invoke",r[r.TriggerCharacter=1]="TriggerCharacter",r[r.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(Bx||(Bx={}));var jx;(function(r){r[r.EXACT=0]="EXACT",r[r.ABOVE=1]="ABOVE",r[r.BELOW=2]="BELOW"})(jx||(jx={}));var Wx;(function(r){r[r.NotSet=0]="NotSet",r[r.ContentFlush=1]="ContentFlush",r[r.RecoverFromMarkers=2]="RecoverFromMarkers",r[r.Explicit=3]="Explicit",r[r.Paste=4]="Paste",r[r.Undo=5]="Undo",r[r.Redo=6]="Redo"})(Wx||(Wx={}));var Ux;(function(r){r[r.LF=1]="LF",r[r.CRLF=2]="CRLF"})(Ux||(Ux={}));var zx;(function(r){r[r.Text=0]="Text",r[r.Read=1]="Read",r[r.Write=2]="Write"})(zx||(zx={}));var Vx;(function(r){r[r.None=0]="None",r[r.Keep=1]="Keep",r[r.Brackets=2]="Brackets",r[r.Advanced=3]="Advanced",r[r.Full=4]="Full"})(Vx||(Vx={}));var Hx;(function(r){r[r.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",r[r.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",r[r.accessibilitySupport=2]="accessibilitySupport",r[r.accessibilityPageSize=3]="accessibilityPageSize",r[r.ariaLabel=4]="ariaLabel",r[r.autoClosingBrackets=5]="autoClosingBrackets",r[r.autoClosingDelete=6]="autoClosingDelete",r[r.autoClosingOvertype=7]="autoClosingOvertype",r[r.autoClosingQuotes=8]="autoClosingQuotes",r[r.autoIndent=9]="autoIndent",r[r.automaticLayout=10]="automaticLayout",r[r.autoSurround=11]="autoSurround",r[r.bracketPairColorization=12]="bracketPairColorization",r[r.guides=13]="guides",r[r.codeLens=14]="codeLens",r[r.codeLensFontFamily=15]="codeLensFontFamily",r[r.codeLensFontSize=16]="codeLensFontSize",r[r.colorDecorators=17]="colorDecorators",r[r.columnSelection=18]="columnSelection",r[r.comments=19]="comments",r[r.contextmenu=20]="contextmenu",r[r.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",r[r.cursorBlinking=22]="cursorBlinking",r[r.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",r[r.cursorStyle=24]="cursorStyle",r[r.cursorSurroundingLines=25]="cursorSurroundingLines",r[r.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",r[r.cursorWidth=27]="cursorWidth",r[r.disableLayerHinting=28]="disableLayerHinting",r[r.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",r[r.domReadOnly=30]="domReadOnly",r[r.dragAndDrop=31]="dragAndDrop",r[r.emptySelectionClipboard=32]="emptySelectionClipboard",r[r.extraEditorClassName=33]="extraEditorClassName",r[r.fastScrollSensitivity=34]="fastScrollSensitivity",r[r.find=35]="find",r[r.fixedOverflowWidgets=36]="fixedOverflowWidgets",r[r.folding=37]="folding",r[r.foldingStrategy=38]="foldingStrategy",r[r.foldingHighlight=39]="foldingHighlight",r[r.foldingImportsByDefault=40]="foldingImportsByDefault",r[r.foldingMaximumRegions=41]="foldingMaximumRegions",r[r.unfoldOnClickAfterEndOfLine=42]="unfoldOnClickAfterEndOfLine",r[r.fontFamily=43]="fontFamily",r[r.fontInfo=44]="fontInfo",r[r.fontLigatures=45]="fontLigatures",r[r.fontSize=46]="fontSize",r[r.fontWeight=47]="fontWeight",r[r.formatOnPaste=48]="formatOnPaste",r[r.formatOnType=49]="formatOnType",r[r.glyphMargin=50]="glyphMargin",r[r.gotoLocation=51]="gotoLocation",r[r.hideCursorInOverviewRuler=52]="hideCursorInOverviewRuler",r[r.hover=53]="hover",r[r.inDiffEditor=54]="inDiffEditor",r[r.inlineSuggest=55]="inlineSuggest",r[r.letterSpacing=56]="letterSpacing",r[r.lightbulb=57]="lightbulb",r[r.lineDecorationsWidth=58]="lineDecorationsWidth",r[r.lineHeight=59]="lineHeight",r[r.lineNumbers=60]="lineNumbers",r[r.lineNumbersMinChars=61]="lineNumbersMinChars",r[r.linkedEditing=62]="linkedEditing",r[r.links=63]="links",r[r.matchBrackets=64]="matchBrackets",r[r.minimap=65]="minimap",r[r.mouseStyle=66]="mouseStyle",r[r.mouseWheelScrollSensitivity=67]="mouseWheelScrollSensitivity",r[r.mouseWheelZoom=68]="mouseWheelZoom",r[r.multiCursorMergeOverlapping=69]="multiCursorMergeOverlapping",r[r.multiCursorModifier=70]="multiCursorModifier",r[r.multiCursorPaste=71]="multiCursorPaste",r[r.occurrencesHighlight=72]="occurrencesHighlight",r[r.overviewRulerBorder=73]="overviewRulerBorder",r[r.overviewRulerLanes=74]="overviewRulerLanes",r[r.padding=75]="padding",r[r.parameterHints=76]="parameterHints",r[r.peekWidgetDefaultFocus=77]="peekWidgetDefaultFocus",r[r.definitionLinkOpensInPeek=78]="definitionLinkOpensInPeek",r[r.quickSuggestions=79]="quickSuggestions",r[r.quickSuggestionsDelay=80]="quickSuggestionsDelay",r[r.readOnly=81]="readOnly",r[r.renameOnType=82]="renameOnType",r[r.renderControlCharacters=83]="renderControlCharacters",r[r.renderFinalNewline=84]="renderFinalNewline",r[r.renderLineHighlight=85]="renderLineHighlight",r[r.renderLineHighlightOnlyWhenFocus=86]="renderLineHighlightOnlyWhenFocus",r[r.renderValidationDecorations=87]="renderValidationDecorations",r[r.renderWhitespace=88]="renderWhitespace",r[r.revealHorizontalRightPadding=89]="revealHorizontalRightPadding",r[r.roundedSelection=90]="roundedSelection",r[r.rulers=91]="rulers",r[r.scrollbar=92]="scrollbar",r[r.scrollBeyondLastColumn=93]="scrollBeyondLastColumn",r[r.scrollBeyondLastLine=94]="scrollBeyondLastLine",r[r.scrollPredominantAxis=95]="scrollPredominantAxis",r[r.selectionClipboard=96]="selectionClipboard",r[r.selectionHighlight=97]="selectionHighlight",r[r.selectOnLineNumbers=98]="selectOnLineNumbers",r[r.showFoldingControls=99]="showFoldingControls",r[r.showUnused=100]="showUnused",r[r.snippetSuggestions=101]="snippetSuggestions",r[r.smartSelect=102]="smartSelect",r[r.smoothScrolling=103]="smoothScrolling",r[r.stickyTabStops=104]="stickyTabStops",r[r.stopRenderingLineAfter=105]="stopRenderingLineAfter",r[r.suggest=106]="suggest",r[r.suggestFontSize=107]="suggestFontSize",r[r.suggestLineHeight=108]="suggestLineHeight",r[r.suggestOnTriggerCharacters=109]="suggestOnTriggerCharacters",r[r.suggestSelection=110]="suggestSelection",r[r.tabCompletion=111]="tabCompletion",r[r.tabIndex=112]="tabIndex",r[r.unicodeHighlighting=113]="unicodeHighlighting",r[r.unusualLineTerminators=114]="unusualLineTerminators",r[r.useShadowDOM=115]="useShadowDOM",r[r.useTabStops=116]="useTabStops",r[r.wordSeparators=117]="wordSeparators",r[r.wordWrap=118]="wordWrap",r[r.wordWrapBreakAfterCharacters=119]="wordWrapBreakAfterCharacters",r[r.wordWrapBreakBeforeCharacters=120]="wordWrapBreakBeforeCharacters",r[r.wordWrapColumn=121]="wordWrapColumn",r[r.wordWrapOverride1=122]="wordWrapOverride1",r[r.wordWrapOverride2=123]="wordWrapOverride2",r[r.wrappingIndent=124]="wrappingIndent",r[r.wrappingStrategy=125]="wrappingStrategy",r[r.showDeprecated=126]="showDeprecated",r[r.inlayHints=127]="inlayHints",r[r.editorClassName=128]="editorClassName",r[r.pixelRatio=129]="pixelRatio",r[r.tabFocusMode=130]="tabFocusMode",r[r.layoutInfo=131]="layoutInfo",r[r.wrappingInfo=132]="wrappingInfo"})(Hx||(Hx={}));var $x;(function(r){r[r.TextDefined=0]="TextDefined",r[r.LF=1]="LF",r[r.CRLF=2]="CRLF"})($x||($x={}));var Kx;(function(r){r[r.LF=0]="LF",r[r.CRLF=1]="CRLF"})(Kx||(Kx={}));var qx;(function(r){r[r.None=0]="None",r[r.Indent=1]="Indent",r[r.IndentOutdent=2]="IndentOutdent",r[r.Outdent=3]="Outdent"})(qx||(qx={}));var Yx;(function(r){r[r.Both=0]="Both",r[r.Right=1]="Right",r[r.Left=2]="Left",r[r.None=3]="None"})(Yx||(Yx={}));var Zx;(function(r){r[r.Type=1]="Type",r[r.Parameter=2]="Parameter"})(Zx||(Zx={}));var Gx;(function(r){r[r.Automatic=0]="Automatic",r[r.Explicit=1]="Explicit"})(Gx||(Gx={}));var Xx;(function(r){r[r.DependsOnKbLayout=-1]="DependsOnKbLayout",r[r.Unknown=0]="Unknown",r[r.Backspace=1]="Backspace",r[r.Tab=2]="Tab",r[r.Enter=3]="Enter",r[r.Shift=4]="Shift",r[r.Ctrl=5]="Ctrl",r[r.Alt=6]="Alt",r[r.PauseBreak=7]="PauseBreak",r[r.CapsLock=8]="CapsLock",r[r.Escape=9]="Escape",r[r.Space=10]="Space",r[r.PageUp=11]="PageUp",r[r.PageDown=12]="PageDown",r[r.End=13]="End",r[r.Home=14]="Home",r[r.LeftArrow=15]="LeftArrow",r[r.UpArrow=16]="UpArrow",r[r.RightArrow=17]="RightArrow",r[r.DownArrow=18]="DownArrow",r[r.Insert=19]="Insert",r[r.Delete=20]="Delete",r[r.Digit0=21]="Digit0",r[r.Digit1=22]="Digit1",r[r.Digit2=23]="Digit2",r[r.Digit3=24]="Digit3",r[r.Digit4=25]="Digit4",r[r.Digit5=26]="Digit5",r[r.Digit6=27]="Digit6",r[r.Digit7=28]="Digit7",r[r.Digit8=29]="Digit8",r[r.Digit9=30]="Digit9",r[r.KeyA=31]="KeyA",r[r.KeyB=32]="KeyB",r[r.KeyC=33]="KeyC",r[r.KeyD=34]="KeyD",r[r.KeyE=35]="KeyE",r[r.KeyF=36]="KeyF",r[r.KeyG=37]="KeyG",r[r.KeyH=38]="KeyH",r[r.KeyI=39]="KeyI",r[r.KeyJ=40]="KeyJ",r[r.KeyK=41]="KeyK",r[r.KeyL=42]="KeyL",r[r.KeyM=43]="KeyM",r[r.KeyN=44]="KeyN",r[r.KeyO=45]="KeyO",r[r.KeyP=46]="KeyP",r[r.KeyQ=47]="KeyQ",r[r.KeyR=48]="KeyR",r[r.KeyS=49]="KeyS",r[r.KeyT=50]="KeyT",r[r.KeyU=51]="KeyU",r[r.KeyV=52]="KeyV",r[r.KeyW=53]="KeyW",r[r.KeyX=54]="KeyX",r[r.KeyY=55]="KeyY",r[r.KeyZ=56]="KeyZ",r[r.Meta=57]="Meta",r[r.ContextMenu=58]="ContextMenu",r[r.F1=59]="F1",r[r.F2=60]="F2",r[r.F3=61]="F3",r[r.F4=62]="F4",r[r.F5=63]="F5",r[r.F6=64]="F6",r[r.F7=65]="F7",r[r.F8=66]="F8",r[r.F9=67]="F9",r[r.F10=68]="F10",r[r.F11=69]="F11",r[r.F12=70]="F12",r[r.F13=71]="F13",r[r.F14=72]="F14",r[r.F15=73]="F15",r[r.F16=74]="F16",r[r.F17=75]="F17",r[r.F18=76]="F18",r[r.F19=77]="F19",r[r.NumLock=78]="NumLock",r[r.ScrollLock=79]="ScrollLock",r[r.Semicolon=80]="Semicolon",r[r.Equal=81]="Equal",r[r.Comma=82]="Comma",r[r.Minus=83]="Minus",r[r.Period=84]="Period",r[r.Slash=85]="Slash",r[r.Backquote=86]="Backquote",r[r.BracketLeft=87]="BracketLeft",r[r.Backslash=88]="Backslash",r[r.BracketRight=89]="BracketRight",r[r.Quote=90]="Quote",r[r.OEM_8=91]="OEM_8",r[r.IntlBackslash=92]="IntlBackslash",r[r.Numpad0=93]="Numpad0",r[r.Numpad1=94]="Numpad1",r[r.Numpad2=95]="Numpad2",r[r.Numpad3=96]="Numpad3",r[r.Numpad4=97]="Numpad4",r[r.Numpad5=98]="Numpad5",r[r.Numpad6=99]="Numpad6",r[r.Numpad7=100]="Numpad7",r[r.Numpad8=101]="Numpad8",r[r.Numpad9=102]="Numpad9",r[r.NumpadMultiply=103]="NumpadMultiply",r[r.NumpadAdd=104]="NumpadAdd",r[r.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",r[r.NumpadSubtract=106]="NumpadSubtract",r[r.NumpadDecimal=107]="NumpadDecimal",r[r.NumpadDivide=108]="NumpadDivide",r[r.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",r[r.ABNT_C1=110]="ABNT_C1",r[r.ABNT_C2=111]="ABNT_C2",r[r.AudioVolumeMute=112]="AudioVolumeMute",r[r.AudioVolumeUp=113]="AudioVolumeUp",r[r.AudioVolumeDown=114]="AudioVolumeDown",r[r.BrowserSearch=115]="BrowserSearch",r[r.BrowserHome=116]="BrowserHome",r[r.BrowserBack=117]="BrowserBack",r[r.BrowserForward=118]="BrowserForward",r[r.MediaTrackNext=119]="MediaTrackNext",r[r.MediaTrackPrevious=120]="MediaTrackPrevious",r[r.MediaStop=121]="MediaStop",r[r.MediaPlayPause=122]="MediaPlayPause",r[r.LaunchMediaPlayer=123]="LaunchMediaPlayer",r[r.LaunchMail=124]="LaunchMail",r[r.LaunchApp2=125]="LaunchApp2",r[r.Clear=126]="Clear",r[r.MAX_VALUE=127]="MAX_VALUE"})(Xx||(Xx={}));var Qx;(function(r){r[r.Hint=1]="Hint",r[r.Info=2]="Info",r[r.Warning=4]="Warning",r[r.Error=8]="Error"})(Qx||(Qx={}));var Jx;(function(r){r[r.Unnecessary=1]="Unnecessary",r[r.Deprecated=2]="Deprecated"})(Jx||(Jx={}));var eD;(function(r){r[r.Inline=1]="Inline",r[r.Gutter=2]="Gutter"})(eD||(eD={}));var tD;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.TEXTAREA=1]="TEXTAREA",r[r.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",r[r.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",r[r.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",r[r.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",r[r.CONTENT_TEXT=6]="CONTENT_TEXT",r[r.CONTENT_EMPTY=7]="CONTENT_EMPTY",r[r.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",r[r.CONTENT_WIDGET=9]="CONTENT_WIDGET",r[r.OVERVIEW_RULER=10]="OVERVIEW_RULER",r[r.SCROLLBAR=11]="SCROLLBAR",r[r.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",r[r.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(tD||(tD={}));var iD;(function(r){r[r.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",r[r.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",r[r.TOP_CENTER=2]="TOP_CENTER"})(iD||(iD={}));var nD;(function(r){r[r.Left=1]="Left",r[r.Center=2]="Center",r[r.Right=4]="Right",r[r.Full=7]="Full"})(nD||(nD={}));var oD;(function(r){r[r.Left=0]="Left",r[r.Right=1]="Right",r[r.None=2]="None"})(oD||(oD={}));var rD;(function(r){r[r.Off=0]="Off",r[r.On=1]="On",r[r.Relative=2]="Relative",r[r.Interval=3]="Interval",r[r.Custom=4]="Custom"})(rD||(rD={}));var sD;(function(r){r[r.None=0]="None",r[r.Text=1]="Text",r[r.Blocks=2]="Blocks"})(sD||(sD={}));var aD;(function(r){r[r.Smooth=0]="Smooth",r[r.Immediate=1]="Immediate"})(aD||(aD={}));var lD;(function(r){r[r.Auto=1]="Auto",r[r.Hidden=2]="Hidden",r[r.Visible=3]="Visible"})(lD||(lD={}));var cD;(function(r){r[r.LTR=0]="LTR",r[r.RTL=1]="RTL"})(cD||(cD={}));var dD;(function(r){r[r.Invoke=1]="Invoke",r[r.TriggerCharacter=2]="TriggerCharacter",r[r.ContentChange=3]="ContentChange"})(dD||(dD={}));var hD;(function(r){r[r.File=0]="File",r[r.Module=1]="Module",r[r.Namespace=2]="Namespace",r[r.Package=3]="Package",r[r.Class=4]="Class",r[r.Method=5]="Method",r[r.Property=6]="Property",r[r.Field=7]="Field",r[r.Constructor=8]="Constructor",r[r.Enum=9]="Enum",r[r.Interface=10]="Interface",r[r.Function=11]="Function",r[r.Variable=12]="Variable",r[r.Constant=13]="Constant",r[r.String=14]="String",r[r.Number=15]="Number",r[r.Boolean=16]="Boolean",r[r.Array=17]="Array",r[r.Object=18]="Object",r[r.Key=19]="Key",r[r.Null=20]="Null",r[r.EnumMember=21]="EnumMember",r[r.Struct=22]="Struct",r[r.Event=23]="Event",r[r.Operator=24]="Operator",r[r.TypeParameter=25]="TypeParameter"})(hD||(hD={}));var uD;(function(r){r[r.Deprecated=1]="Deprecated"})(uD||(uD={}));var fD;(function(r){r[r.Hidden=0]="Hidden",r[r.Blink=1]="Blink",r[r.Smooth=2]="Smooth",r[r.Phase=3]="Phase",r[r.Expand=4]="Expand",r[r.Solid=5]="Solid"})(fD||(fD={}));var gD;(function(r){r[r.Line=1]="Line",r[r.Block=2]="Block",r[r.Underline=3]="Underline",r[r.LineThin=4]="LineThin",r[r.BlockOutline=5]="BlockOutline",r[r.UnderlineThin=6]="UnderlineThin"})(gD||(gD={}));var mD;(function(r){r[r.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",r[r.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",r[r.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",r[r.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(mD||(mD={}));var pD;(function(r){r[r.None=0]="None",r[r.Same=1]="Same",r[r.Indent=2]="Indent",r[r.DeepIndent=3]="DeepIndent"})(pD||(pD={}));var fb=class{static chord(e,t){return an(e,t)}};fb.CtrlCmd=2048;fb.Shift=1024;fb.Alt=512;fb.WinCtrl=256;function _D(){return{editor:void 0,languages:void 0,CancellationTokenSource:Ki,Emitter:B,KeyCode:Xx,KeyMod:fb,Position:V,Range:D,Selection:he,SelectionDirection:cD,MarkerSeverity:Qx,MarkerTag:Jx,Uri:De,Token:gd}}He();Oo();Ee();re();Oo();var kD=class{constructor(e){this.domNode=e,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontStyle="",this._fontFeatureSettings="",this._textDecoration="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(e){this._width!==e&&(this._width=e,this.domNode.style.width=this._width+"px")}setHeight(e){this._height!==e&&(this._height=e,this.domNode.style.height=this._height+"px")}setTop(e){this._top!==e&&(this._top=e,this.domNode.style.top=this._top+"px")}unsetTop(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")}setLeft(e){this._left!==e&&(this._left=e,this.domNode.style.left=this._left+"px")}setBottom(e){this._bottom!==e&&(this._bottom=e,this.domNode.style.bottom=this._bottom+"px")}setRight(e){this._right!==e&&(this._right=e,this.domNode.style.right=this._right+"px")}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){this._fontSize!==e&&(this._fontSize=e,this.domNode.style.fontSize=this._fontSize+"px")}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}};function vt(r){return new kD(r)}function Cn(r,e){r instanceof kD?(r.setFontFamily(e.getMassagedFontFamily(ir?Jn.fontFamily:null)),r.setFontWeight(e.fontWeight),r.setFontSize(e.fontSize),r.setFontFeatureSettings(e.fontFeatureSettings),r.setLineHeight(e.lineHeight),r.setLetterSpacing(e.letterSpacing)):(r.style.fontFamily=e.getMassagedFontFamily(ir?Jn.fontFamily:null),r.style.fontWeight=e.fontWeight,r.style.fontSize=e.fontSize+"px",r.style.fontFeatureSettings=e.fontFeatureSettings,r.style.lineHeight=e.lineHeight+"px",r.style.letterSpacing=e.letterSpacing+"px")}var rM=class{constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}},ID=class{constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){let e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";let t=document.createElement("div");Cn(t,this._bareFontInfo),e.appendChild(t);let i=document.createElement("div");Cn(i,this._bareFontInfo),i.style.fontWeight="bold",e.appendChild(i);let n=document.createElement("div");Cn(n,this._bareFontInfo),n.style.fontStyle="italic",e.appendChild(n);let o=[];for(let s of this._requests){let a;s.type===0&&(a=t),s.type===2&&(a=i),s.type===1&&(a=n),a.appendChild(document.createElement("br"));let l=document.createElement("span");ID._render(l,s),a.appendChild(l),o.push(l)}this._container=e,this._testElements=o}static _render(e,t){if(t.chr===" "){let i="\xA0";for(let n=0;n<8;n++)i+=i;e.innerText=i}else{let i=t.chr;for(let n=0;n<8;n++)i+=i;e.textContent=i}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){let i=this._requests[e],n=this._testElements[e];i.fulfill(n.offsetWidth/256)}}};function fW(r,e){new ID(r,e).read()}xt();Ee();var Ga=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new B,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(r){r=Math.min(Math.max(-5,r),20),this._zoomLevel!==r&&(this._zoomLevel=r,this._onDidChangeZoomLevel.fire(this._zoomLevel))}};var nde=Je?1.5:1.35,sM=8,_d=class{constructor(e){this._bareFontInfoBrand=void 0,this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.lineHeight=e.lineHeight|0,this.letterSpacing=e.letterSpacing}static createFromValidatedSettings(e,t,i){let n=e.get(43),o=e.get(47),s=e.get(46),a=e.get(45),l=e.get(59),c=e.get(56);return _d._create(n,o,s,a,l,c,t,i)}static _create(e,t,i,n,o,s,a,l){o===0?o=nde*i:o<sM&&(o=o*i),o=Math.round(o),o<sM&&(o=sM);let c=1+(l?0:Ga.getZoomLevel()*.1);return i*=c,o*=c,new _d({pixelRatio:a,fontFamily:e,fontWeight:t,fontSize:i,fontFeatureSettings:n,lineHeight:o,letterSpacing:s})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(e){let t=_d._wrapInQuotes(this.fontFamily);return e&&this.fontFamily!==e?`${t}, ${e}`:t}static _wrapInQuotes(e){return/[,"']/.test(e)?e:/[+ ]/.test(e)?`"${e}"`:e}},ode=1,Cb=class extends _d{constructor(e,t){super(e);this._editorStylingBrand=void 0,this.version=ode,this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}};var gW=class extends ${constructor(){super();this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,this._cache=new aM,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new aM,this._onDidChange.fire()}_writeToCache(e,t){this._cache.put(e,t),!t.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){let e=this._cache.getValues(),t=!1;for(let i of e)i.isTrusted||(t=!0,this._cache.remove(i));t&&this._onDidChange.fire()}readFontInfo(e){if(!this._cache.has(e)){let t=this._actualReadFontInfo(e);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new Cb({pixelRatio:Fh.value,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(e,t)}return this._cache.get(e)}_createRequest(e,t,i,n){let o=new rM(e,t);return i.push(o),n&&n.push(o),o}_actualReadFontInfo(e){let t=[],i=[],n=this._createRequest("n",0,t,i),o=this._createRequest("\uFF4D",0,t,null),s=this._createRequest(" ",0,t,i),a=this._createRequest("0",0,t,i),l=this._createRequest("1",0,t,i),c=this._createRequest("2",0,t,i),d=this._createRequest("3",0,t,i),h=this._createRequest("4",0,t,i),u=this._createRequest("5",0,t,i),f=this._createRequest("6",0,t,i),m=this._createRequest("7",0,t,i),_=this._createRequest("8",0,t,i),w=this._createRequest("9",0,t,i),y=this._createRequest("\u2192",0,t,i),C=this._createRequest("\uFFEB",0,t,null),E=this._createRequest("\xB7",0,t,i),L=this._createRequest(String.fromCharCode(11825),0,t,null),k="|/-_ilm%";for(let Z=0,q=k.length;Z<q;Z++)this._createRequest(k.charAt(Z),0,t,i),this._createRequest(k.charAt(Z),1,t,i),this._createRequest(k.charAt(Z),2,t,i);fW(e,t);let M=Math.max(a.width,l.width,c.width,d.width,h.width,u.width,f.width,m.width,_.width,w.width),I=e.fontFeatureSettings===er.OFF,T=i[0].width;for(let Z=1,q=i.length;I&&Z<q;Z++){let te=T-i[Z].width;if(te<-.001||te>.001){I=!1;break}}let R=!0;return I&&C.width!==T&&(R=!1),C.width>y.width&&(R=!1),new Cb({pixelRatio:Fh.value,fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:I,typicalHalfwidthCharacterWidth:n.width,typicalFullwidthCharacterWidth:o.width,canUseHalfwidthRightwardsArrow:R,spaceWidth:s.width,middotWidth:E.width,wsmiddotWidth:L.width,maxDigitWidth:M},!0)}},aM=class{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){let t=e.getId();return!!this._values[t]}get(e){let t=e.getId();return this._values[t]}put(e,t){let i=e.getId();this._keys[i]=e,this._values[i]=t}remove(e){let t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map(e=>this._values[e])}},e0=new gW;io();lM();Ee();re();Jo();ye();var sde={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0},cM=class extends ${constructor(e,t={}){super();this._onDidUpdate=this._register(new B),this._editor=e,this._options=gr(t,sde,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(i=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(i=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(e){this.ranges=[],e&&e.forEach(t=>{!this._options.ignoreCharChanges&&t.charChanges?t.charChanges.forEach(i=>{this.ranges.push({rhs:!0,range:new D(i.modifiedStartLineNumber,i.modifiedStartColumn,i.modifiedEndLineNumber,i.modifiedEndColumn)})}):t.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new D(t.modifiedStartLineNumber,1,t.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new D(t.modifiedStartLineNumber,1,t.modifiedEndLineNumber+1,1)})}),this.ranges.sort((t,i)=>D.compareRangesUsingStarts(t.range,i.range)),this._onDidUpdate.fire(this)}_initIdx(e){let t=!1,i=this._editor.getPosition();if(!i){this.nextIdx=0;return}for(let n=0,o=this.ranges.length;n<o&&!t;n++){let s=this.ranges[n].range;i.isBeforeOrEqual(s.getStartPosition())&&(this.nextIdx=n+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(e,t){if(yb(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let i=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let n=i.range.getStartPosition();this._editor.setPosition(n),this._editor.revealRangeInCenter(i.range,t)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(e=0){this._move(!0,e)}previous(e=0){this._move(!1,e)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}};t0();Us();cn();no();s0();Vo();ns();nt();re();ut();Ee();re();xt();ai();He();var yde="$initialize",$W=!1;function c0(r){!pa||($W||($W=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(r.message))}var KW=class{constructor(e,t,i,n){this.vsWorker=e,this.req=t,this.method=i,this.args=n,this.type=0}},RM=class{constructor(e,t,i,n){this.vsWorker=e,this.seq=t,this.res=i,this.err=n,this.type=1}},qW=class{constructor(e,t,i,n){this.vsWorker=e,this.req=t,this.eventName=i,this.arg=n,this.type=2}},YW=class{constructor(e,t,i){this.vsWorker=e,this.req=t,this.event=i,this.type=3}},ZW=class{constructor(e,t){this.vsWorker=e,this.req=t,this.type=4}},GW=class{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(e){this._workerId=e}sendMessage(e,t){let i=String(++this._lastSentReq);return new Promise((n,o)=>{this._pendingReplies[i]={resolve:n,reject:o},this._send(new KW(this._workerId,i,e,t))})}listen(e,t){let i=null,n=new B({onFirstListenerAdd:()=>{i=String(++this._lastSentReq),this._pendingEmitters.set(i,n),this._send(new qW(this._workerId,i,e,t))},onLastListenerRemove:()=>{this._pendingEmitters.delete(i),this._send(new ZW(this._workerId,i)),i=null}});return n.event}handleMessage(e){!e||!e.vsWorker||this._workerId!==-1&&e.vsWorker!==this._workerId||this._handleMessage(e)}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}_handleReplyMessage(e){if(!this._pendingReplies[e.seq]){console.warn("Got reply to unknown seq");return}let t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){let i=e.err;e.err.$isError&&(i=new Error,i.name=e.err.name,i.message=e.err.message,i.stack=e.err.stack),t.reject(i);return}t.resolve(e.res)}_handleRequestMessage(e){let t=e.req;this._handler.handleMessage(e.method,e.args).then(n=>{this._send(new RM(this._workerId,t,n,void 0))},n=>{n.detail instanceof Error&&(n.detail=FP(n.detail)),this._send(new RM(this._workerId,t,void 0,FP(n)))})}_handleSubscribeEventMessage(e){let t=e.req,i=this._handler.handleEvent(e.eventName,e.arg)(n=>{this._send(new YW(this._workerId,t,n))});this._pendingEvents.set(t,i)}_handleEventMessage(e){if(!this._pendingEmitters.has(e.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(e.req).fire(e.event)}_handleUnsubscribeEventMessage(e){if(!this._pendingEvents.has(e.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req)}_send(e){let t=[];if(e.type===0)for(let i=0;i<e.args.length;i++)e.args[i]instanceof ArrayBuffer&&t.push(e.args[i]);else e.type===1&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t)}},FM=class extends ${constructor(e,t,i){super();let n=null;this._worker=this._register(e.create("vs/base/common/worker/simpleWorker",c=>{this._protocol.handleMessage(c)},c=>{n&&n(c)})),this._protocol=new GW({sendMessage:(c,d)=>{this._worker.postMessage(c,d)},handleMessage:(c,d)=>{if(typeof i[c]!="function")return Promise.reject(new Error("Missing method "+c+" on main thread host."));try{return Promise.resolve(i[c].apply(i,d))}catch(h){return Promise.reject(h)}},handleEvent:(c,d)=>{if(QW(c)){let h=i[c].call(i,d);if(typeof h!="function")throw new Error(`Missing dynamic event ${c} on main thread host.`);return h}if(XW(c)){let h=i[c];if(typeof h!="function")throw new Error(`Missing event ${c} on main thread host.`);return h}throw new Error(`Malformed event name ${c}`)}}),this._protocol.setWorkerId(this._worker.getId());let o=null;typeof Hi.require<"u"&&typeof Hi.require.getConfig=="function"?o=Hi.require.getConfig():typeof Hi.requirejs<"u"&&(o=Hi.requirejs.s.contexts._.config);let s=ob(i);this._onModuleLoaded=this._protocol.sendMessage(yde,[this._worker.getId(),JSON.parse(JSON.stringify(o)),t,s]);let a=(c,d)=>this._request(c,d),l=(c,d)=>this._protocol.listen(c,d);this._lazyProxy=new Promise((c,d)=>{n=d,this._onModuleLoaded.then(h=>{c(Sde(h,a,l))},h=>{d(h),this._onError("Worker failed to load "+t,h)})})}getProxyObject(){return this._lazyProxy}_request(e,t){return new Promise((i,n)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(e,t).then(i,n)},n)})}_onError(e,t){console.error(e),console.info(t)}};function XW(r){return r[0]==="o"&&r[1]==="n"&&qa(r.charCodeAt(2))}function QW(r){return/^onDynamic/.test(r)&&qa(r.charCodeAt(9))}function Sde(r,e,t){let i=s=>function(){let a=Array.prototype.slice.call(arguments,0);return e(s,a)},n=s=>function(a){return t(s,a)},o={};for(let s of r){if(QW(s)){o[s]=n(s);continue}if(XW(s)){o[s]=t(s,void 0);continue}o[s]=i(s)}return o}xt();var BM,JW=(BM=window.trustedTypes)===null||BM===void 0?void 0:BM.createPolicy("defaultWorkerFactory",{createScriptURL:r=>r});function Ede(r){if(Hi.MonacoEnvironment){if(typeof Hi.MonacoEnvironment.getWorker=="function")return Hi.MonacoEnvironment.getWorker("workerMain.js",r);if(typeof Hi.MonacoEnvironment.getWorkerUrl=="function"){let e=Hi.MonacoEnvironment.getWorkerUrl("workerMain.js",r);return new Worker(JW?JW.createScriptURL(e):e,{name:r})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function xde(r){return typeof r.then=="function"}var eU=class{constructor(e,t,i,n,o){this.id=t;let s=Ede(i);xde(s)?this.worker=s:this.worker=Promise.resolve(s),this.postMessage(e,[]),this.worker.then(a=>{a.onmessage=function(l){n(l.data)},a.onmessageerror=o,typeof a.addEventListener=="function"&&a.addEventListener("error",o)})}getId(){return this.id}postMessage(e,t){this.worker&&this.worker.then(i=>i.postMessage(e,t))}dispose(){this.worker&&this.worker.then(e=>e.terminate()),this.worker=null}},Ib=class{constructor(e){this._label=e,this._webWorkerFailedBeforeError=!1}create(e,t,i){let n=++Ib.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new eU(e,n,this._label||"anonymous"+n,t,o=>{c0(o),this._webWorkerFailedBeforeError=o,i(o)})}};Ib.LAST_WORKER_ID=0;ye();no();var vd=class{constructor(e,t,i,n){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=n}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}};Tb();var WM=class{constructor(e){this.source=e}getElements(){let e=this.source,t=new Int32Array(e.length);for(let i=0,n=e.length;i<n;i++)t[i]=e.charCodeAt(i);return t}};function iU(r,e,t){return new Ea(new WM(r),new WM(e)).ComputeDiff(t).changes}var Nm=class{static Assert(e,t){if(!e)throw new Error(t)}},Pm=class{static Copy(e,t,i,n,o){for(let s=0;s<o;s++)i[n+s]=e[t+s]}static Copy2(e,t,i,n,o){for(let s=0;s<o;s++)i[n+s]=e[t+s]}},UM=class{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new vd(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}},Ea=class{constructor(e,t,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=e,this._modifiedSequence=t;let[n,o,s]=Ea._getElements(e),[a,l,c]=Ea._getElements(t);this._hasStrings=s&&c,this._originalStringElements=n,this._originalElementsOrHash=o,this._modifiedStringElements=a,this._modifiedElementsOrHash=l,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&typeof e[0]=="string"}static _getElements(e){let t=e.getElements();if(Ea._isStringArray(t)){let i=new Int32Array(t.length);for(let n=0,o=t.length;n<o;n++)i[n]=zD(t[n],0);return[t,i,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._modifiedStringElements[t]:!0}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;let i=Ea._getStrictElement(this._originalSequence,e),n=Ea._getStrictElement(this._modifiedSequence,t);return i===n}static _getStrictElement(e,t){return typeof e.getStrictElement=="function"?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._originalElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._originalStringElements[t]:!0}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._modifiedStringElements[e]===this._modifiedStringElements[t]:!0}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,n,o){let s=[!1],a=this.ComputeDiffRecursive(e,t,i,n,s);return o&&(a=this.PrettifyChanges(a)),{quitEarly:s[0],changes:a}}ComputeDiffRecursive(e,t,i,n,o){for(o[0]=!1;e<=t&&i<=n&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&n>=i&&this.ElementsAreEqual(t,n);)t--,n--;if(e>t||i>n){let h;return i<=n?(Nm.Assert(e===t+1,"originalStart should only be one more than originalEnd"),h=[new vd(e,0,i,n-i+1)]):e<=t?(Nm.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd"),h=[new vd(e,t-e+1,i,0)]):(Nm.Assert(e===t+1,"originalStart should only be one more than originalEnd"),Nm.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd"),h=[]),h}let s=[0],a=[0],l=this.ComputeRecursionPoint(e,t,i,n,s,a,o),c=s[0],d=a[0];if(l!==null)return l;if(!o[0]){let h=this.ComputeDiffRecursive(e,c,i,d,o),u=[];return o[0]?u=[new vd(c+1,t-(c+1)+1,d+1,n-(d+1)+1)]:u=this.ComputeDiffRecursive(c+1,t,d+1,n,o),this.ConcatenateChanges(h,u)}return[new vd(e,t-e+1,i,n-i+1)]}WALKTRACE(e,t,i,n,o,s,a,l,c,d,h,u,f,m,_,w,y,C){let E=null,L=null,k=new UM,M=t,I=i,T=f[0]-w[0]-n,R=-1073741824,Z=this.m_forwardHistory.length-1;do{let q=T+e;q===M||q<I&&c[q-1]<c[q+1]?(h=c[q+1],m=h-T-n,h<R&&k.MarkNextChange(),R=h,k.AddModifiedElement(h+1,m),T=q+1-e):(h=c[q-1]+1,m=h-T-n,h<R&&k.MarkNextChange(),R=h-1,k.AddOriginalElement(h,m+1),T=q-1-e),Z>=0&&(c=this.m_forwardHistory[Z],e=c[0],M=1,I=c.length-1)}while(--Z>=-1);if(E=k.getReverseChanges(),C[0]){let q=f[0]+1,te=w[0]+1;if(E!==null&&E.length>0){let ne=E[E.length-1];q=Math.max(q,ne.getOriginalEnd()),te=Math.max(te,ne.getModifiedEnd())}L=[new vd(q,u-q+1,te,_-te+1)]}else{k=new UM,M=s,I=a,T=f[0]-w[0]-l,R=1073741824,Z=y?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{let q=T+o;q===M||q<I&&d[q-1]>=d[q+1]?(h=d[q+1]-1,m=h-T-l,h>R&&k.MarkNextChange(),R=h+1,k.AddOriginalElement(h+1,m+1),T=q+1-o):(h=d[q-1],m=h-T-l,h>R&&k.MarkNextChange(),R=h,k.AddModifiedElement(h+1,m+1),T=q-1-o),Z>=0&&(d=this.m_reverseHistory[Z],o=d[0],M=1,I=d.length-1)}while(--Z>=-1);L=k.getChanges()}return this.ConcatenateChanges(E,L)}ComputeRecursionPoint(e,t,i,n,o,s,a){let l=0,c=0,d=0,h=0,u=0,f=0;e--,i--,o[0]=0,s[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];let m=t-e+(n-i),_=m+1,w=new Int32Array(_),y=new Int32Array(_),C=n-i,E=t-e,L=e-i,k=t-n,I=(E-C)%2===0;w[C]=e,y[E]=t,a[0]=!1;for(let T=1;T<=m/2+1;T++){let R=0,Z=0;d=this.ClipDiagonalBound(C-T,T,C,_),h=this.ClipDiagonalBound(C+T,T,C,_);for(let te=d;te<=h;te+=2){te===d||te<h&&w[te-1]<w[te+1]?l=w[te+1]:l=w[te-1]+1,c=l-(te-C)-L;let ne=l;for(;l<t&&c<n&&this.ElementsAreEqual(l+1,c+1);)l++,c++;if(w[te]=l,l+c>R+Z&&(R=l,Z=c),!I&&Math.abs(te-E)<=T-1&&l>=y[te])return o[0]=l,s[0]=c,ne<=y[te]&&1447>0&&T<=1447+1?this.WALKTRACE(C,d,h,L,E,u,f,k,w,y,l,t,o,c,n,s,I,a):null}let q=(R-e+(Z-i)-T)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(R,q))return a[0]=!0,o[0]=R,s[0]=Z,q>0&&1447>0&&T<=1447+1?this.WALKTRACE(C,d,h,L,E,u,f,k,w,y,l,t,o,c,n,s,I,a):(e++,i++,[new vd(e,t-e+1,i,n-i+1)]);u=this.ClipDiagonalBound(E-T,T,E,_),f=this.ClipDiagonalBound(E+T,T,E,_);for(let te=u;te<=f;te+=2){te===u||te<f&&y[te-1]>=y[te+1]?l=y[te+1]-1:l=y[te-1],c=l-(te-E)-k;let ne=l;for(;l>e&&c>i&&this.ElementsAreEqual(l,c);)l--,c--;if(y[te]=l,I&&Math.abs(te-C)<=T&&l<=w[te])return o[0]=l,s[0]=c,ne>=w[te]&&1447>0&&T<=1447+1?this.WALKTRACE(C,d,h,L,E,u,f,k,w,y,l,t,o,c,n,s,I,a):null}if(T<=1447){let te=new Int32Array(h-d+2);te[0]=C-d+1,Pm.Copy2(w,d,te,1,h-d+1),this.m_forwardHistory.push(te),te=new Int32Array(f-u+2),te[0]=E-u+1,Pm.Copy2(y,u,te,1,f-u+1),this.m_reverseHistory.push(te)}}return this.WALKTRACE(C,d,h,L,E,u,f,k,w,y,l,t,o,c,n,s,I,a)}PrettifyChanges(e){for(let t=0;t<e.length;t++){let i=e[t],n=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,o=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,s=i.originalLength>0,a=i.modifiedLength>0;for(;i.originalStart+i.originalLength<n&&i.modifiedStart+i.modifiedLength<o&&(!s||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!a||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){let c=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!c)break;i.originalStart++,i.modifiedStart++}let l=[null];if(t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],l)){e[t]=l[0],e.splice(t+1,1),t--;continue}}for(let t=e.length-1;t>=0;t--){let i=e[t],n=0,o=0;if(t>0){let h=e[t-1];n=h.originalStart+h.originalLength,o=h.modifiedStart+h.modifiedLength}let s=i.originalLength>0,a=i.modifiedLength>0,l=0,c=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let h=1;;h++){let u=i.originalStart-h,f=i.modifiedStart-h;if(u<n||f<o||s&&!this.OriginalElementsAreEqual(u,u+i.originalLength)||a&&!this.ModifiedElementsAreEqual(f,f+i.modifiedLength))break;let _=(u===n&&f===o?5:0)+this._boundaryScore(u,i.originalLength,f,i.modifiedLength);_>c&&(c=_,l=h)}i.originalStart-=l,i.modifiedStart-=l;let d=[null];if(t>0&&this.ChangesOverlap(e[t-1],e[t],d)){e[t-1]=d[0],e.splice(t,1),t++;continue}}if(this._hasStrings)for(let t=1,i=e.length;t<i;t++){let n=e[t-1],o=e[t],s=o.originalStart-n.originalStart-n.originalLength,a=n.originalStart,l=o.originalStart+o.originalLength,c=l-a,d=n.modifiedStart,h=o.modifiedStart+o.modifiedLength,u=h-d;if(s<5&&c<20&&u<20){let f=this._findBetterContiguousSequence(a,c,d,u,s);if(f){let[m,_]=f;(m!==n.originalStart+n.originalLength||_!==n.modifiedStart+n.modifiedLength)&&(n.originalLength=m-n.originalStart,n.modifiedLength=_-n.modifiedStart,o.originalStart=m+s,o.modifiedStart=_+s,o.originalLength=l-o.originalStart,o.modifiedLength=h-o.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,i,n,o){if(t<o||n<o)return null;let s=e+t-o+1,a=i+n-o+1,l=0,c=0,d=0;for(let h=e;h<s;h++)for(let u=i;u<a;u++){let f=this._contiguousSequenceScore(h,u,o);f>0&&f>l&&(l=f,c=h,d=u)}return l>0?[c,d]:null}_contiguousSequenceScore(e,t,i){let n=0;for(let o=0;o<i;o++){if(!this.ElementsAreEqual(e+o,t+o))return 0;n+=this._originalStringElements[e+o].length}return n}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){let i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){let i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,t,i,n){let o=this._OriginalRegionIsBoundary(e,t)?1:0,s=this._ModifiedRegionIsBoundary(i,n)?1:0;return o+s}ConcatenateChanges(e,t){let i=[];if(e.length===0||t.length===0)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){let n=new Array(e.length+t.length-1);return Pm.Copy(e,0,n,0,e.length-1),n[e.length-1]=i[0],Pm.Copy(t,1,n,e.length,t.length-1),n}else{let n=new Array(e.length+t.length);return Pm.Copy(e,0,n,0,e.length),Pm.Copy(t,0,n,e.length,t.length),n}}ChangesOverlap(e,t,i){if(Nm.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),Nm.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){let n=e.originalStart,o=e.originalLength,s=e.modifiedStart,a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(o=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new vd(n,o,s,a),!0}else return i[0]=null,!1}ClipDiagonalBound(e,t,i,n){if(e>=0&&e<n)return e;let o=i,s=n-i-1,a=t%2===0;if(e<0){let l=o%2===0;return a===l?0:1}else{let l=s%2===0;return a===l?n-1:n-2}}};xt();Oi();lt();ye();He();var Ode=3;function oU(r,e,t,i){return new Ea(r,e,t).ComputeDiff(i)}var zM=class{constructor(e){let t=[],i=[];for(let n=0,o=e.length;n<o;n++)t[n]=VM(e[n],1),i[n]=HM(e[n],1);this.lines=e,this._startColumns=t,this._endColumns=i}getElements(){let e=[];for(let t=0,i=this.lines.length;t<i;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,i){let n=[],o=[],s=[],a=0;for(let l=t;l<=i;l++){let c=this.lines[l],d=e?this._startColumns[l]:1,h=e?this._endColumns[l]:c.length+1;for(let u=d;u<h;u++)n[a]=c.charCodeAt(u-1),o[a]=l+1,s[a]=u,a++}return new rU(n,o,s)}},rU=class{constructor(e,t,i){this._charCodes=e,this._lineNumbers=t,this._columns=i}getElements(){return this._charCodes}getStartLineNumber(e){return this._lineNumbers[e]}getStartColumn(e){return this._columns[e]}getEndLineNumber(e){return this._lineNumbers[e]}getEndColumn(e){return this._columns[e]+1}},Pb=class{constructor(e,t,i,n,o,s,a,l){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=i,this.originalEndColumn=n,this.modifiedStartLineNumber=o,this.modifiedStartColumn=s,this.modifiedEndLineNumber=a,this.modifiedEndColumn=l}static createFromDiffChange(e,t,i){let n,o,s,a,l,c,d,h;return e.originalLength===0?(n=0,o=0,s=0,a=0):(n=t.getStartLineNumber(e.originalStart),o=t.getStartColumn(e.originalStart),s=t.getEndLineNumber(e.originalStart+e.originalLength-1),a=t.getEndColumn(e.originalStart+e.originalLength-1)),e.modifiedLength===0?(l=0,c=0,d=0,h=0):(l=i.getStartLineNumber(e.modifiedStart),c=i.getStartColumn(e.modifiedStart),d=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),h=i.getEndColumn(e.modifiedStart+e.modifiedLength-1)),new Pb(n,o,s,a,l,c,d,h)}};function Tde(r){if(r.length<=1)return r;let e=[r[0]],t=e[0];for(let i=1,n=r.length;i<n;i++){let o=r[i],s=o.originalStart-(t.originalStart+t.originalLength),a=o.modifiedStart-(t.modifiedStart+t.modifiedLength);Math.min(s,a)<Ode?(t.originalLength=o.originalStart+o.originalLength-t.originalStart,t.modifiedLength=o.modifiedStart+o.modifiedLength-t.modifiedStart):(e.push(o),t=o)}return e}var Nb=class{constructor(e,t,i,n,o){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=i,this.modifiedEndLineNumber=n,this.charChanges=o}static createFromDiffResult(e,t,i,n,o,s,a){let l,c,d,h,u;if(t.originalLength===0?(l=i.getStartLineNumber(t.originalStart)-1,c=0):(l=i.getStartLineNumber(t.originalStart),c=i.getEndLineNumber(t.originalStart+t.originalLength-1)),t.modifiedLength===0?(d=n.getStartLineNumber(t.modifiedStart)-1,h=0):(d=n.getStartLineNumber(t.modifiedStart),h=n.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),s&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&o()){let f=i.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),m=n.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1),_=oU(f,m,o,!0).changes;a&&(_=Tde(_)),u=[];for(let w=0,y=_.length;w<y;w++)u.push(Pb.createFromDiffChange(_[w],f,m))}return new Nb(l,c,d,h,u)}},$M=class{constructor(e,t,i){this.shouldComputeCharChanges=i.shouldComputeCharChanges,this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=i.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new zM(e),this.modified=new zM(t),this.continueLineDiff=nU(i.maxComputationTime),this.continueCharDiff=nU(i.maxComputationTime===0?0:Math.min(i.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};let e=oU(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,i=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){let a=[];for(let l=0,c=t.length;l<c;l++)a.push(Nb.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[l],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:i,changes:a}}let n=[],o=0,s=0;for(let a=-1,l=t.length;a<l;a++){let c=a+1<l?t[a+1]:null,d=c?c.originalStart:this.originalLines.length,h=c?c.modifiedStart:this.modifiedLines.length;for(;o<d&&s<h;){let u=this.originalLines[o],f=this.modifiedLines[s];if(u!==f){{let m=VM(u,1),_=VM(f,1);for(;m>1&&_>1;){let w=u.charCodeAt(m-2),y=f.charCodeAt(_-2);if(w!==y)break;m--,_--}(m>1||_>1)&&this._pushTrimWhitespaceCharChange(n,o+1,1,m,s+1,1,_)}{let m=HM(u,1),_=HM(f,1),w=u.length+1,y=f.length+1;for(;m<w&&_<y;){let C=u.charCodeAt(m-1),E=u.charCodeAt(_-1);if(C!==E)break;m++,_++}(m<w||_<y)&&this._pushTrimWhitespaceCharChange(n,o+1,m,w,s+1,_,y)}}o++,s++}c&&(n.push(Nb.createFromDiffResult(this.shouldIgnoreTrimWhitespace,c,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),o+=c.originalLength,s+=c.modifiedLength)}return{quitEarly:i,changes:n}}_pushTrimWhitespaceCharChange(e,t,i,n,o,s,a){if(this._mergeTrimWhitespaceCharChange(e,t,i,n,o,s,a))return;let l;this.shouldComputeCharChanges&&(l=[new Pb(t,i,t,n,o,s,o,a)]),e.push(new Nb(t,t,o,o,l))}_mergeTrimWhitespaceCharChange(e,t,i,n,o,s,a){let l=e.length;if(l===0)return!1;let c=e[l-1];return c.originalEndLineNumber===0||c.modifiedEndLineNumber===0?!1:c.originalEndLineNumber+1===t&&c.modifiedEndLineNumber+1===o?(c.originalEndLineNumber=t,c.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&c.charChanges&&c.charChanges.push(new Pb(t,i,t,n,o,s,o,a)),!0):!1}};function VM(r,e){let t=wn(r);return t===-1?e:t+1}function HM(r,e){let t=Mr(r);return t===-1?e:t+2}function nU(r){if(r===0)return()=>!0;let e=Date.now();return()=>Date.now()-e<r}He();lt();jt();u0();var KM=class{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=Am(e);let i=this.values,n=this.prefixSum,o=t.length;return o===0?!1:(this.values=new Uint32Array(i.length+o),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e),e+o),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(e,t){return e=Am(e),t=Am(t),this.values[e]===t?!1:(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=Am(e),t=Am(t);let i=this.values,n=this.prefixSum;if(e>=i.length)return!1;let o=i.length-e;return t>=o&&(t=o),t===0?!1:(this.values=new Uint32Array(i.length-t),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=Am(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;t===0&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,i=this.values.length-1,n=0,o=0,s=0;for(;t<=i;)if(n=t+(i-t)/2|0,o=this.prefixSum[n],s=o-this.values[n],e<s)i=n-1;else if(e>=o)t=n+1;else break;return new YM(n,e-s)}},qM=class{constructor(e){this._values=e,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(e){return this._ensureValid(),e===0?0:this._prefixSum[e-1]}getIndexOf(e){this._ensureValid();let t=this._indexBySum[e],i=t>0?this._prefixSum[t-1]:0;return new YM(t,e-i)}removeValues(e,t){this._values.splice(e,t),this._invalidate(e)}insertValues(e,t){this._values=pf(this._values,e,t),this._invalidate(e)}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._values.length;e<t;e++){let i=this._values[e],n=e>0?this._prefixSum[e-1]:0;this._prefixSum[e]=n+i;for(let o=0;o<i;o++)this._indexBySum[n+o]=e}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(e,t){this._values[e]!==t&&(this._values[e]=t,this._invalidate(e))}},YM=class{constructor(e,t){this.index=e,this.remainder=t,this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=t}};var ZM=class{constructor(e,t,i,n){this._uri=e,this._lines=t,this._eol=i,this._versionId=n,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);let t=e.changes;for(let i of t)this._acceptDeleteRange(i.range),this._acceptInsertText(new V(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){let e=this._eol.length,t=this._lines.length,i=new Uint32Array(t);for(let n=0;n<t;n++)i[n]=this._lines[n].length+e;this._lineStarts=new KM(i)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.setValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1));return}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){if(t.length===0)return;let i=mr(t);if(i.length===1){this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1));return}i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);let n=new Uint32Array(i.length-1);for(let o=1;o<i.length;o++)this._lines.splice(e.lineNumber+o-1,0,i[o]),n[o-1]=i[o].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,n)}};Q_();Rm();var sU=class{constructor(e,t,i){let n=new Uint8Array(e*t);for(let o=0,s=e*t;o<s;o++)n[o]=i;this._data=n,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,i){this._data[e*this.cols+t]=i}},aU=class{constructor(e){let t=0,i=0;for(let o=0,s=e.length;o<s;o++){let[a,l,c]=e[o];l>t&&(t=l),a>i&&(i=a),c>i&&(i=c)}t++,i++;let n=new sU(i,t,0);for(let o=0,s=e.length;o<s;o++){let[a,l,c]=e[o];n.set(a,l,c)}this._states=n,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}},GM=null;function Nde(){return GM===null&&(GM=new aU([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),GM}var f0=null;function Pde(){if(f0===null){f0=new wd(0);let r=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let t=0;t<r.length;t++)f0.set(r.charCodeAt(t),1);let e=".,;";for(let t=0;t<e.length;t++)f0.set(e.charCodeAt(t),2)}return f0}var g0=class{static _createLink(e,t,i,n,o){let s=o-1;do{let a=t.charCodeAt(s);if(e.get(a)!==2)break;s--}while(s>n);if(n>0){let a=t.charCodeAt(n-1),l=t.charCodeAt(s);(a===40&&l===41||a===91&&l===93||a===123&&l===125)&&s--}return{range:{startLineNumber:i,startColumn:n+1,endLineNumber:i,endColumn:s+2},url:t.substring(n,s+1)}}static computeLinks(e,t=Nde()){let i=Pde(),n=[];for(let o=1,s=e.getLineCount();o<=s;o++){let a=e.getLineContent(o),l=a.length,c=0,d=0,h=0,u=1,f=!1,m=!1,_=!1,w=!1;for(;c<l;){let y=!1,C=a.charCodeAt(c);if(u===13){let E;switch(C){case 40:f=!0,E=0;break;case 41:E=f?0:1;break;case 91:_=!0,m=!0,E=0;break;case 93:_=!1,E=m?0:1;break;case 123:w=!0,E=0;break;case 125:E=w?0:1;break;case 39:E=h===34||h===96?0:1;break;case 34:E=h===39||h===96?0:1;break;case 96:E=h===39||h===34?0:1;break;case 42:E=h===42?1:0;break;case 124:E=h===124?1:0;break;case 32:E=_?0:1;break;default:E=i.get(C)}E===1&&(n.push(g0._createLink(i,a,o,d,c)),y=!0)}else if(u===12){let E;C===91?(m=!0,E=0):E=i.get(C),E===1?y=!0:u=13}else u=t.nextState(u,C),u===0&&(y=!0);y&&(u=1,f=!1,m=!1,w=!1,d=c+1,h=C),c++}u===13&&n.push(g0._createLink(i,a,o,d,l))}return n}};function lU(r){return!r||typeof r.getLineCount!="function"||typeof r.getLineContent!="function"?[]:g0.computeLinks(r)}var m0=class{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,i,n,o){if(e&&t){let s=this.doNavigateValueSet(t,o);if(s)return{range:e,value:s}}if(i&&n){let s=this.doNavigateValueSet(n,o);if(s)return{range:i,value:s}}return null}doNavigateValueSet(e,t){let i=this.numberReplace(e,t);return i!==null?i:this.textReplace(e,t)}numberReplace(e,t){let i=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),n=Number(e),o=parseFloat(e);return!isNaN(n)&&!isNaN(o)&&n===o?n===0&&!t?null:(n=Math.floor(n*i),n+=t?i:-i,String(n/i)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,i){let n=null;for(let o=0,s=e.length;n===null&&o<s;o++)n=this.valueSetReplace(e[o],t,i);return n}valueSetReplace(e,t,i){let n=e.indexOf(t);return n>=0?(n+=i?1:-1,n<0?n=e.length-1:n%=e.length,e[n]):null}};m0.INSTANCE=new m0;ai();va();ye();p0();He();ai();Q_();var Rb=class{static computeUnicodeHighlights(e,t,i){let n=i?i.startLineNumber:1,o=i?i.endLineNumber:e.getLineCount(),s=new QM(t),a=s.getCandidateCodePoints(),l;a==="allNonBasicAscii"?l=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):l=new RegExp(`${jde(Array.from(a))}`,"g");let c=new Wh(null,l),d=[],h=!1,u,f=0,m=0,_=0;e:for(let w=n,y=o;w<=y;w++){let C=e.getLineContent(w),E=C.length;c.reset(0);do if(u=c.next(C),u){let L=u.index,k=u.index+u[0].length;if(L>0){let R=C.charCodeAt(L-1);Ji(R)&&L--}if(k+1<E){let R=C.charCodeAt(k-1);Ji(R)&&k++}let M=C.substring(L,k),I=mf(L+1,RC,C,0),T=s.shouldHighlightNonBasicASCII(M,I?I.word:null);if(T!==0){T===3?f++:T===2?m++:T===1?_++:rb(T);let R=1e3;if(d.length>=R){h=!0;break e}d.push(new D(w,L+1,w,k+1))}}while(u)}return{ranges:d,hasMore:h,ambiguousCharacterCount:f,invisibleCharacterCount:m,nonBasicAsciiCharacterCount:_}}static computeUnicodeHighlightReason(e,t){let i=new QM(t);switch(i.shouldHighlightNonBasicASCII(e,null)){case 0:return null;case 2:return{kind:1};case 3:{let o=e.codePointAt(0),s=i.ambiguousCharacters.getPrimaryConfusable(o),a=ya.getLocales().filter(l=>!ya.getInstance(new Set([...t.allowedLocales,l])).isAmbiguous(o));return{kind:0,confusableWith:String.fromCodePoint(s),notAmbiguousInLocales:a}}case 1:return{kind:2}}}};function jde(r,e){return`[${Io(r.map(i=>String.fromCodePoint(i)).join(""))}]`}var QM=class{constructor(e){this.options=e,this.allowedCodePoints=new Set(e.allowedCodePoints),this.ambiguousCharacters=ya.getInstance(new Set(e.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";let e=new Set;if(this.options.invisibleCharacters)for(let t of Ka.codePoints)dU(String.fromCodePoint(t))||e.add(t);if(this.options.ambiguousCharacters)for(let t of this.ambiguousCharacters.getConfusableCodePoints())e.add(t);for(let t of this.allowedCodePoints)e.delete(t);return e}shouldHighlightNonBasicASCII(e,t){let i=e.codePointAt(0);if(this.allowedCodePoints.has(i))return 0;if(this.options.nonBasicASCII)return 1;let n=!1,o=!1;if(t)for(let s of t){let a=s.codePointAt(0),l=If(s);n=n||l,!l&&!this.ambiguousCharacters.isAmbiguous(a)&&!Ka.isInvisibleCharacter(a)&&(o=!0)}return!n&&o?0:this.options.invisibleCharacters&&!dU(e)&&Ka.isInvisibleCharacter(i)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(i)?3:0}};function dU(r){return r===" "||r===`
`||r==="	"}var Fm=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},hU=class extends ZM{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){let i=mf(e.column,ux(t),this._lines[e.lineNumber-1],0);return i?new D(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null}words(e){let t=this._lines,i=this._wordenize.bind(this),n=0,o="",s=0,a=[];return{*[Symbol.iterator](){for(;;)if(s<a.length){let l=o.substring(a[s].start,a[s].end);s+=1,yield l}else if(n<t.length)o=t[n],a=i(o,e),s=0,n+=1;else break}}}getLineWords(e,t){let i=this._lines[e-1],n=this._wordenize(i,t),o=[];for(let s of n)o.push({word:i.substring(s.start,s.end),startColumn:s.start+1,endColumn:s.end+1});return o}_wordenize(e,t){let i=[],n;for(t.lastIndex=0;(n=t.exec(e))&&n[0].length!==0;)i.push({start:n.index,end:n.index+n[0].length});return i}getValueInRange(e){if(e=this._validateRange(e),e.startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);let t=this._eol,i=e.startLineNumber-1,n=e.endLineNumber-1,o=[];o.push(this._lines[i].substring(e.startColumn-1));for(let s=i+1;s<n;s++)o.push(this._lines[s]);return o.push(this._lines[n].substring(0,e.endColumn-1)),o.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();let t=this._lineStarts.getIndexOf(e),i=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,i)}}_validateRange(e){let t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}:e}_validatePosition(e){if(!V.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:i}=e,n=!1;if(t<1)t=1,i=1,n=!0;else if(t>this._lines.length)t=this._lines.length,i=this._lines[t-1].length+1,n=!0;else{let o=this._lines[t-1].length+1;i<1?(i=1,n=!0):i>o&&(i=o,n=!0)}return n?{lineNumber:t,column:i}:e}},Uh=class{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){let e=[];return Object.keys(this._models).forEach(t=>e.push(this._models[t])),e}acceptNewModel(e){this._models[e.url]=new hU(De.parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){if(!this._models[e])return;this._models[e].onEvents(t)}acceptRemovedModel(e){!this._models[e]||delete this._models[e]}computeUnicodeHighlights(e,t,i){return Fm(this,void 0,void 0,function*(){let n=this._getModel(e);return n?Rb.computeUnicodeHighlights(n,t,i):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(e,t,i,n){return Fm(this,void 0,void 0,function*(){let o=this._getModel(e),s=this._getModel(t);if(!o||!s)return null;let a=o.getLinesContent(),l=s.getLinesContent(),d=new $M(a,l,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:i,shouldMakePrettyDiff:!0,maxComputationTime:n}).computeDiff(),h=d.changes.length>0?!1:this._modelsAreIdentical(o,s);return{quitEarly:d.quitEarly,identical:h,changes:d.changes}})}_modelsAreIdentical(e,t){let i=e.getLineCount(),n=t.getLineCount();if(i!==n)return!1;for(let o=1;o<=i;o++){let s=e.getLineContent(o),a=t.getLineContent(o);if(s!==a)return!1}return!0}computeMoreMinimalEdits(e,t){return Fm(this,void 0,void 0,function*(){let i=this._getModel(e);if(!i)return t;let n=[],o;t=t.slice(0).sort((s,a)=>{if(s.range&&a.range)return D.compareRangesUsingStarts(s.range,a.range);let l=s.range?0:1,c=a.range?0:1;return l-c});for(let{range:s,text:a,eol:l}of t){if(typeof l=="number"&&(o=l),D.isEmpty(s)&&!a)continue;let c=i.getValueInRange(s);if(a=a.replace(/\r\n|\n|\r/g,i.eol),c===a)continue;if(Math.max(a.length,c.length)>Uh._diffLimit){n.push({range:s,text:a});continue}let d=iU(c,a,!1),h=i.offsetAt(D.lift(s).getStartPosition());for(let u of d){let f=i.positionAt(h+u.originalStart),m=i.positionAt(h+u.originalStart+u.originalLength),_={text:a.substr(u.modifiedStart,u.modifiedLength),range:{startLineNumber:f.lineNumber,startColumn:f.column,endLineNumber:m.lineNumber,endColumn:m.column}};i.getValueInRange(_.range)!==_.text&&n.push(_)}}return typeof o=="number"&&n.push({eol:o,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),n})}computeLinks(e){return Fm(this,void 0,void 0,function*(){let t=this._getModel(e);return t?lU(t):null})}textualSuggest(e,t,i,n){return Fm(this,void 0,void 0,function*(){let o=new fn(!0),s=new RegExp(i,n),a=new Set;e:for(let l of e){let c=this._getModel(l);if(!!c){for(let d of c.words(s))if(!(d===t||!isNaN(Number(d)))&&(a.add(d),a.size>Uh._suggestionsLimit))break e}}return{words:Array.from(a),duration:o.elapsed()}})}computeWordRanges(e,t,i,n){return Fm(this,void 0,void 0,function*(){let o=this._getModel(e);if(!o)return Object.create(null);let s=new RegExp(i,n),a=Object.create(null);for(let l=t.startLineNumber;l<t.endLineNumber;l++){let c=o.getLineWords(l,s);for(let d of c){if(!isNaN(Number(d.word)))continue;let h=a[d.word];h||(h=[],a[d.word]=h),h.push({startLineNumber:l,startColumn:d.startColumn,endLineNumber:l,endColumn:d.endColumn})}}return a})}navigateValueSet(e,t,i,n,o){return Fm(this,void 0,void 0,function*(){let s=this._getModel(e);if(!s)return null;let a=new RegExp(n,o);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});let l=s.getValueInRange(t),c=s.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},a);if(!c)return null;let d=s.getValueInRange(c);return m0.INSTANCE.navigateValueSet(t,l,c,d,i)})}loadForeignModule(e,t,i){let s={host:qj(i,(a,l)=>this._host.fhr(a,l)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(s,t),Promise.resolve(ob(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||typeof this._foreignModule[e]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(i){return Promise.reject(i)}}};Uh._diffLimit=1e5;Uh._suggestionsLimit=1e4;typeof importScripts=="function"&&(Hi.monaco=_D());ns();_0();He();jt();Vl();va();ut();hi();var Wde=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},b0=function(r,e){return function(t,i){e(t,i,r)}},tA=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},gU=60*1e3,mU=5*60*1e3;function Bm(r,e){let t=r.getModel(e);return!(!t||t.isTooLargeForSyncing())}var KD=class extends ${constructor(e,t,i,n,o){super();this._modelService=e,this._workerManager=this._register(new _U(this._modelService,n)),this._logService=i,this._register(o.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(s,a)=>Bm(this._modelService,s.uri)?this._workerManager.withWorker().then(l=>l.computeLinks(s.uri)).then(l=>l&&{links:l}):Promise.resolve({links:[]})})),this._register(o.completionProvider.register("*",new pU(this._workerManager,t,this._modelService,n)))}dispose(){super.dispose()}canComputeUnicodeHighlights(e){return Bm(this._modelService,e)}computedUnicodeHighlights(e,t,i){return this._workerManager.withWorker().then(n=>n.computedUnicodeHighlights(e,t,i))}computeDiff(e,t,i,n){return this._workerManager.withWorker().then(o=>o.computeDiff(e,t,i,n))}computeMoreMinimalEdits(e,t){if(jn(t)){if(!Bm(this._modelService,e))return Promise.resolve(t);let i=fn.create(!0),n=this._workerManager.withWorker().then(o=>o.computeMoreMinimalEdits(e,t));return n.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),i.elapsed())),Promise.race([n,Wl(1e3).then(()=>t)])}else return Promise.resolve(void 0)}canNavigateValueSet(e){return Bm(this._modelService,e)}navigateValueSet(e,t,i){return this._workerManager.withWorker().then(n=>n.navigateValueSet(e,t,i))}canComputeWordRanges(e){return Bm(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then(i=>i.computeWordRanges(e,t))}};KD=Wde([b0(0,ii),b0(1,Fb),b0(2,go),b0(3,en),b0(4,ve)],KD);var pU=class{constructor(e,t,i,n){this.languageConfigurationService=n,this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=i}provideCompletionItems(e,t){return tA(this,void 0,void 0,function*(){let i=this._configurationService.getValue(e.uri,t,"editor");if(!i.wordBasedSuggestions)return;let n=[];if(i.wordBasedSuggestionsMode==="currentDocument")Bm(this._modelService,e.uri)&&n.push(e.uri);else for(let h of this._modelService.getModels())!Bm(this._modelService,h.uri)||(h===e?n.unshift(h.uri):(i.wordBasedSuggestionsMode==="allDocuments"||h.getLanguageId()===e.getLanguageId())&&n.push(h.uri));if(n.length===0)return;let o=this.languageConfigurationService.getLanguageConfiguration(e.getLanguageId()).getWordDefinition(),s=e.getWordAtPosition(t),a=s?new D(t.lineNumber,s.startColumn,t.lineNumber,s.endColumn):D.fromPositions(t),l=a.setEndPosition(t.lineNumber,t.column),d=yield(yield this._workerManager.withWorker()).textualSuggest(n,s?.word,o);if(!!d)return{duration:d.duration,suggestions:d.words.map(h=>({kind:18,label:h,insertText:h,range:{insert:l,replace:a}}))}})}},_U=class extends ${constructor(e,t){super();this.languageConfigurationService=t,this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new bd).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(mU/2)),this._register(this._modelService.onModelRemoved(n=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>mU&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new qD(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}},bU=class extends ${constructor(e,t,i){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){let n=new bd;n.cancelAndSet(()=>this._checkStopModelSync(),Math.round(gU/2)),this._register(n)}}dispose(){for(let e in this._syncedModels)dt(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t){for(let i of e){let n=i.toString();this._syncedModels[n]||this._beginModelSync(i,t),this._syncedModels[n]&&(this._syncedModelsLastUsedTime[n]=new Date().getTime())}}_checkStopModelSync(){let e=new Date().getTime(),t=[];for(let i in this._syncedModelsLastUsedTime)e-this._syncedModelsLastUsedTime[i]>gU&&t.push(i);for(let i of t)this._stopModelSync(i)}_beginModelSync(e,t){let i=this._modelService.getModel(e);if(!i||!t&&i.isTooLargeForSyncing())return;let n=e.toString();this._proxy.acceptNewModel({url:i.uri.toString(),lines:i.getLinesContent(),EOL:i.getEOL(),versionId:i.getVersionId()});let o=new J;o.add(i.onDidChangeContent(s=>{this._proxy.acceptModelChanged(n.toString(),s)})),o.add(i.onWillDispose(()=>{this._stopModelSync(n)})),o.add(Ve(()=>{this._proxy.acceptRemovedModel(n)})),this._syncedModels[n]=o}_stopModelSync(e){let t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],dt(t)}},iA=class{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}},$D=class{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}},qD=class extends ${constructor(e,t,i,n){super();this.languageConfigurationService=n,this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new Ib(i),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new FM(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new $D(this)))}catch(e){c0(e),this._worker=new iA(new Uh(new $D(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,e=>(c0(e),this._worker=new iA(new Uh(new $D(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new bU(e,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(e,t=!1){return tA(this,void 0,void 0,function*(){return this._disposed?Promise.reject(ab()):this._getProxy().then(i=>(this._getOrCreateModelManager(i).ensureSyncedResources(e,t),i))})}computedUnicodeHighlights(e,t,i){return this._withSyncedResources([e]).then(n=>n.computeUnicodeHighlights(e.toString(),t,i))}computeDiff(e,t,i,n){return this._withSyncedResources([e,t],!0).then(o=>o.computeDiff(e.toString(),t.toString(),i,n))}computeMoreMinimalEdits(e,t){return this._withSyncedResources([e]).then(i=>i.computeMoreMinimalEdits(e.toString(),t))}computeLinks(e){return this._withSyncedResources([e]).then(t=>t.computeLinks(e.toString()))}textualSuggest(e,t,i){return tA(this,void 0,void 0,function*(){let n=yield this._withSyncedResources(e),o=i.source,s=CD(i);return n.textualSuggest(e.map(a=>a.toString()),t,o,s)})}computeWordRanges(e,t){return this._withSyncedResources([e]).then(i=>{let n=this._modelService.getModel(e);if(!n)return Promise.resolve(null);let o=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId()).getWordDefinition(),s=o.source,a=CD(o);return i.computeWordRanges(e.toString(),t,s,a)})}navigateValueSet(e,t,i){return this._withSyncedResources([e]).then(n=>{let o=this._modelService.getModel(e);if(!o)return null;let s=this.languageConfigurationService.getLanguageConfiguration(o.getLanguageId()).getWordDefinition(),a=s.source,l=CD(s);return n.navigateValueSet(e.toString(),t,i,a,l)})}dispose(){super.dispose(),this._disposed=!0}};ai();function vU(r,e,t){return new wU(r,e,t)}var wU=class extends qD{constructor(e,t,i){super(e,i.keepIdleModels||!1,i.label,t);this._foreignModuleId=i.moduleId,this._foreignModuleCreateData=i.createData||null,this._foreignModuleHost=i.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||typeof this._foreignModuleHost[e]!="function")return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(i){return Promise.reject(i)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(e=>{let t=this._foreignModuleHost?ob(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then(i=>{this._foreignModuleCreateData=null;let n=(a,l)=>e.fmr(a,l),o=(a,l)=>function(){let c=Array.prototype.slice.call(arguments,0);return l(a,c)},s={};for(let a of i)s[a]=o(a,n);return s})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then(t=>this.getProxy())}};He();Sd();cn();He();Tf();He();var _r=class{constructor(e,t,i,n){this.startColumn=e,this.endColumn=t,this.className=i,this.type=n,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){let i=e.length,n=t.length;if(i!==n)return!1;for(let o=0;o<i;o++)if(!_r._equals(e[o],t[o]))return!1;return!0}static extractWrapped(e,t,i){if(e.length===0)return e;let n=t+1,o=i+1,s=i-t,a=[],l=0;for(let c of e)c.endColumn<=n||c.startColumn>=o||(a[l++]=new _r(Math.max(1,c.startColumn-n+1),Math.min(s+1,c.endColumn-n+1),c.className,c.type));return a}static filter(e,t,i,n){if(e.length===0)return[];let o=[],s=0;for(let a=0,l=e.length;a<l;a++){let c=e[a],d=c.range;if(d.endLineNumber<t||d.startLineNumber>t||d.isEmpty()&&(c.type===0||c.type===3))continue;let h=d.startLineNumber===t?d.startColumn:i,u=d.endLineNumber===t?d.endColumn:n;o[s++]=new _r(h,u,c.inlineClassName,c.type)}return o}static _typeCompare(e,t){let i=[2,0,1,3];return i[e]-i[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;let i=_r._typeCompare(e.type,t.type);return i!==0?i:e.className!==t.className?e.className<t.className?-1:1:0}},nA=class{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.className=i,this.metadata=n}},v0=class{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let i=0,n=e.length;i<n;i++)t|=e[i];return t}consumeLowerThan(e,t,i){for(;this.count>0&&this.stopOffsets[0]<e;){let n=0;for(;n+1<this.count&&this.stopOffsets[n]===this.stopOffsets[n+1];)n++;i.push(new nA(t,this.stopOffsets[n],this.classNames.join(" "),v0._metadata(this.metadata))),t=this.stopOffsets[n]+1,this.stopOffsets.splice(0,n+1),this.classNames.splice(0,n+1),this.metadata.splice(0,n+1),this.count-=n+1}return this.count>0&&t<e&&(i.push(new nA(t,e-1,this.classNames.join(" "),v0._metadata(this.metadata))),t=e),t}insert(e,t,i){if(this.count===0||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(i);else for(let n=0;n<this.count;n++)if(this.stopOffsets[n]>=e){this.stopOffsets.splice(n,0,e),this.classNames.splice(n,0,t),this.metadata.splice(n,0,i);break}this.count++}},oA=class{static normalize(e,t){if(t.length===0)return[];let i=[],n=new v0,o=0;for(let s=0,a=t.length;s<a;s++){let l=t[s],c=l.startColumn,d=l.endColumn,h=l.className,u=l.type===1?2:l.type===2?4:0;if(c>1){let _=e.charCodeAt(c-2);Ji(_)&&c--}if(d>1){let _=e.charCodeAt(d-2);Ji(_)&&d--}let f=c-1,m=d-2;o=n.consumeLowerThan(f,o,i),n.count===0&&(o=f),n.insert(m,h,u)}return n.consumeLowerThan(1073741824,o,i),i}};var mo=class{constructor(e,t,i){this._linePartBrand=void 0,this.endIndex=e,this.type=t,this.metadata=i}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}},rA=class{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}},tl=class{constructor(e,t,i,n,o,s,a,l,c,d,h,u,f,m,_,w,y,C,E){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.continuesWithWrappedLine=n,this.isBasicASCII=o,this.containsRTL=s,this.fauxIndentLength=a,this.lineTokens=l,this.lineDecorations=c.sort(_r.compare),this.tabSize=d,this.startVisibleColumn=h,this.spaceWidth=u,this.stopRenderingLineAfter=_,this.renderWhitespace=w==="all"?4:w==="boundary"?1:w==="selection"?2:w==="trailing"?3:0,this.renderControlCharacters=y,this.fontLigatures=C,this.selectionsOnLine=E&&E.sort((M,I)=>M.startOffset<I.startOffset?-1:1);let L=Math.abs(m-u),k=Math.abs(f-u);L<k?(this.renderSpaceWidth=m,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=f,this.renderSpaceCharCode=183)}sameSelection(e){if(this.selectionsOnLine===null)return e===null;if(e===null||e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&_r.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}},w0=class{constructor(e,t){this.partIndex=e,this.charIndex=t}},Dc=class{constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(e){return(e&4294901760)>>>16}static getCharIndex(e){return(e&65535)>>>0}setColumnInfo(e,t,i,n){let o=(t<<16|i<<0)>>>0;this._data[e-1]=o,this._absoluteOffsets[e-1]=n+i}getAbsoluteOffset(e){return this._absoluteOffsets.length===0?0:this._absoluteOffsets[e-1]}charOffsetToPartData(e){return this.length===0?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}getDomPosition(e){let t=this.charOffsetToPartData(e-1),i=Dc.getPartIndex(t),n=Dc.getCharIndex(t);return new w0(i,n)}getColumn(e,t){return this.partDataToCharOffset(e.partIndex,t,e.charIndex)+1}partDataToCharOffset(e,t,i){if(this.length===0)return 0;let n=(e<<16|i<<0)>>>0,o=0,s=this.length-1;for(;o+1<s;){let _=o+s>>>1,w=this._data[_];if(w===n)return _;w>n?s=_:o=_}if(o===s)return o;let a=this._data[o],l=this._data[s];if(a===n)return o;if(l===n)return s;let c=Dc.getPartIndex(a),d=Dc.getCharIndex(a),h=Dc.getPartIndex(l),u;c!==h?u=t:u=Dc.getCharIndex(l);let f=i-d,m=u-i;return f<=m?o:s}},ZD=class{constructor(e,t,i){this._renderLineOutputBrand=void 0,this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=i}};function jm(r,e){if(r.lineContent.length===0){if(r.lineDecorations.length>0){e.appendASCIIString("<span>");let t=0,i=0,n=0;for(let s of r.lineDecorations)(s.type===1||s.type===2)&&(e.appendASCIIString('<span class="'),e.appendASCIIString(s.className),e.appendASCIIString('"></span>'),s.type===1&&(n|=1,t++),s.type===2&&(n|=2,i++));e.appendASCIIString("</span>");let o=new Dc(1,t+i);return o.setColumnInfo(1,t,0,0),new ZD(o,!1,n)}return e.appendASCIIString("<span><span></span></span>"),new ZD(new Dc(0,0),!1,0)}return qde(Ude(r),e)}var CU=class{constructor(e,t,i,n){this.characterMapping=e,this.html=t,this.containsRTL=i,this.containsForeignElements=n}};function Bb(r){let e=jl(1e4),t=jm(r,e);return new CU(t.characterMapping,e.build(),t.containsRTL,t.containsForeignElements)}var yU=class{constructor(e,t,i,n,o,s,a,l,c,d,h,u,f,m,_){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.len=n,this.isOverflowing=o,this.parts=s,this.containsForeignElements=a,this.fauxIndentLength=l,this.tabSize=c,this.startVisibleColumn=d,this.containsRTL=h,this.spaceWidth=u,this.renderSpaceCharCode=f,this.renderWhitespace=m,this.renderControlCharacters=_}};function Ude(r){let e=r.lineContent,t,i;r.stopRenderingLineAfter!==-1&&r.stopRenderingLineAfter<e.length?(t=!0,i=r.stopRenderingLineAfter):(t=!1,i=e.length);let n=zde(r.lineTokens,r.fauxIndentLength,i);r.renderControlCharacters&&!r.isBasicASCII&&(n=Hde(e,n)),(r.renderWhitespace===4||r.renderWhitespace===1||r.renderWhitespace===2&&!!r.selectionsOnLine||r.renderWhitespace===3)&&(n=$de(r,e,i,n));let o=0;if(r.lineDecorations.length>0){for(let s=0,a=r.lineDecorations.length;s<a;s++){let l=r.lineDecorations[s];l.type===3||l.type===1?o|=1:l.type===2&&(o|=2)}n=Kde(e,i,n,r.lineDecorations)}return r.containsRTL||(n=Vde(e,n,!r.isBasicASCII||r.fontLigatures)),new yU(r.useMonospaceOptimizations,r.canUseHalfwidthRightwardsArrow,e,i,t,n,o,r.fauxIndentLength,r.tabSize,r.startVisibleColumn,r.containsRTL,r.spaceWidth,r.renderSpaceCharCode,r.renderWhitespace,r.renderControlCharacters)}function zde(r,e,t){let i=[],n=0;e>0&&(i[n++]=new mo(e,"",0));for(let o=0,s=r.getCount();o<s;o++){let a=r.getEndOffset(o);if(a<=e)continue;let l=r.getClassName(o);if(a>=t){i[n++]=new mo(t,l,0);break}i[n++]=new mo(a,l,0)}return i}function Vde(r,e,t){let i=0,n=[],o=0;if(t)for(let s=0,a=e.length;s<a;s++){let l=e[s],c=l.endIndex;if(i+50<c){let d=l.type,h=l.metadata,u=-1,f=i;for(let m=i;m<c;m++)r.charCodeAt(m)===32&&(u=m),u!==-1&&m-f>=50&&(n[o++]=new mo(u+1,d,h),f=u+1,u=-1);f!==c&&(n[o++]=new mo(c,d,h))}else n[o++]=l;i=c}else for(let s=0,a=e.length;s<a;s++){let l=e[s],c=l.endIndex,d=c-i;if(d>50){let h=l.type,u=l.metadata,f=Math.ceil(d/50);for(let m=1;m<f;m++){let _=i+m*50;n[o++]=new mo(_,h,u)}n[o++]=new mo(c,h,u)}else n[o++]=l;i=c}return n}function SU(r){return r<32?r!==9:r===127||r>=8234&&r<=8238||r>=8294&&r<=8297||r>=8206&&r<=8207||r===1564}function Hde(r,e){let t=[],i=new mo(0,"",0),n=0;for(let o of e){let s=o.endIndex;for(;n<s;n++){let a=r.charCodeAt(n);SU(a)&&(n>i.endIndex&&(i=new mo(n,o.type,o.metadata),t.push(i)),i=new mo(n+1,"mtkcontrol",o.metadata),t.push(i))}n>i.endIndex&&(i=new mo(s,o.type,o.metadata),t.push(i))}return t}function $de(r,e,t,i){let n=r.continuesWithWrappedLine,o=r.fauxIndentLength,s=r.tabSize,a=r.startVisibleColumn,l=r.useMonospaceOptimizations,c=r.selectionsOnLine,d=r.renderWhitespace===1,h=r.renderWhitespace===3,u=r.renderSpaceWidth!==r.spaceWidth,f=[],m=0,_=0,w=i[_].type,y=i[_].endIndex,C=i.length,E=!1,L=wn(e),k;L===-1?(E=!0,L=t,k=t):k=Mr(e);let M=!1,I=0,T=c&&c[I],R=a%s;for(let q=o;q<t;q++){let te=e.charCodeAt(q);T&&q>=T.endOffset&&(I++,T=c&&c[I]);let ne;if(q<L||q>k)ne=!0;else if(te===9)ne=!0;else if(te===32)if(d)if(M)ne=!0;else{let Ne=q+1<t?e.charCodeAt(q+1):0;ne=Ne===32||Ne===9}else ne=!0;else ne=!1;if(ne&&c&&(ne=!!T&&T.startOffset<=q&&T.endOffset>q),ne&&h&&(ne=E||q>k),M){if(!ne||!l&&R>=s){if(u){let Ne=m>0?f[m-1].endIndex:o;for(let Oe=Ne+1;Oe<=q;Oe++)f[m++]=new mo(Oe,"mtkw",1)}else f[m++]=new mo(q,"mtkw",1);R=R%s}}else(q===y||ne&&q>o)&&(f[m++]=new mo(q,w,0),R=R%s);for(te===9?R=s:Ya(te)?R+=2:R++,M=ne;q===y&&(_++,_<C);)w=i[_].type,y=i[_].endIndex}let Z=!1;if(M)if(n&&d){let q=t>0?e.charCodeAt(t-1):0,te=t>1?e.charCodeAt(t-2):0;q===32&&te!==32&&te!==9||(Z=!0)}else Z=!0;if(Z)if(u){let q=m>0?f[m-1].endIndex:o;for(let te=q+1;te<=t;te++)f[m++]=new mo(te,"mtkw",1)}else f[m++]=new mo(t,"mtkw",1);else f[m++]=new mo(t,w,0);return f}function Kde(r,e,t,i){i.sort(_r.compare);let n=oA.normalize(r,i),o=n.length,s=0,a=[],l=0,c=0;for(let h=0,u=t.length;h<u;h++){let f=t[h],m=f.endIndex,_=f.type,w=f.metadata;for(;s<o&&n[s].startOffset<m;){let y=n[s];if(y.startOffset>c&&(c=y.startOffset,a[l++]=new mo(c,_,w)),y.endOffset+1<=m)c=y.endOffset+1,a[l++]=new mo(c,_+" "+y.className,w|y.metadata),s++;else{c=m,a[l++]=new mo(c,_+" "+y.className,w|y.metadata);break}}m>c&&(c=m,a[l++]=new mo(c,_,w))}let d=t[t.length-1].endIndex;if(s<o&&n[s].startOffset===d)for(;s<o&&n[s].startOffset===d;){let h=n[s];a[l++]=new mo(c,h.className,h.metadata),s++}return a}function qde(r,e){let t=r.fontIsMonospace,i=r.canUseHalfwidthRightwardsArrow,n=r.containsForeignElements,o=r.lineContent,s=r.len,a=r.isOverflowing,l=r.parts,c=r.fauxIndentLength,d=r.tabSize,h=r.startVisibleColumn,u=r.containsRTL,f=r.spaceWidth,m=r.renderSpaceCharCode,_=r.renderWhitespace,w=r.renderControlCharacters,y=new Dc(s+1,l.length),C=!1,E=0,L=h,k=0,M=0,I=0,T=0;u?e.appendASCIIString('<span dir="ltr">'):e.appendASCIIString("<span>");for(let R=0,Z=l.length;R<Z;R++){T+=I;let q=l[R],te=q.endIndex,ne=q.type,Ne=_!==0&&q.isWhitespace(),Oe=Ne&&!t&&(ne==="mtkw"||!n),je=E===te&&q.isPseudoAfter();if(k=0,e.appendASCIIString('<span class="'),e.appendASCIIString(Oe?"mtkz":ne),e.appendASCII(34),Ne){let Ze=0;{let $e=E,gt=L;for(;$e<te;$e++){let _i=(o.charCodeAt($e)===9?d-gt%d:1)|0;Ze+=_i,$e>=c&&(gt+=_i)}}for(Oe&&(e.appendASCIIString(' style="width:'),e.appendASCIIString(String(f*Ze)),e.appendASCIIString('px"')),e.appendASCII(62);E<te;E++){y.setColumnInfo(E+1,R-M,k,T),M=0;let $e=o.charCodeAt(E),gt;if($e===9){gt=d-L%d|0,!i||gt>1?e.write1(8594):e.write1(65515);for(let Pe=2;Pe<=gt;Pe++)e.write1(160)}else gt=1,e.write1(m);k+=gt,E>=c&&(L+=gt)}I=Ze}else{let Ze=0;for(e.appendASCII(62);E<te;E++){y.setColumnInfo(E+1,R-M,k,T),M=0;let $e=o.charCodeAt(E),gt=1,Pe=1;switch($e){case 9:gt=d-L%d,Pe=gt;for(let _i=1;_i<=gt;_i++)e.write1(160);break;case 32:e.write1(160);break;case 60:e.appendASCIIString("&lt;");break;case 62:e.appendASCIIString("&gt;");break;case 38:e.appendASCIIString("&amp;");break;case 0:w?e.write1(9216):e.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:e.write1(65533);break;default:Ya($e)&&Pe++,w&&$e<32?e.write1(9216+$e):w&&$e===127?e.write1(9249):w&&SU($e)?(e.appendASCIIString("[U+"),e.appendASCIIString(Yde($e)),e.appendASCIIString("]"),gt=8):e.write1($e)}k+=gt,Ze+=gt,E>=c&&(L+=Pe)}I=Ze}je?M++:M=0,E>=s&&!C&&q.isPseudoAfter()&&(C=!0,y.setColumnInfo(E+1,R,k,T)),e.appendASCIIString("</span>")}return C||y.setColumnInfo(s+1,l.length-1,k,T),a&&e.appendASCIIString("<span>&hellip;</span>"),e.appendASCIIString("</span>"),new ZD(y,u,n)}function Yde(r){return r.toString(16).toUpperCase().padStart(4,"0")}He();ye();var GD=class{constructor(e,t,i,n){this._viewportBrand=void 0,this.top=e|0,this.left=t|0,this.width=i|0,this.height=n|0}},sA=class{constructor(e,t){this.tabSize=e,this.data=t}},jb=class{constructor(e,t,i,n,o,s,a){this._viewLineDataBrand=void 0,this.content=e,this.continuesWithWrappedLine=t,this.minColumn=i,this.maxColumn=n,this.startVisibleColumn=o,this.tokens=s,this.inlineDecorations=a}},br=class{constructor(e,t,i,n,o,s,a,l,c,d){this.minColumn=e,this.maxColumn=t,this.content=i,this.continuesWithWrappedLine=n,this.isBasicASCII=br.isBasicASCII(i,s),this.containsRTL=br.containsRTL(i,this.isBasicASCII,o),this.tokens=a,this.inlineDecorations=l,this.tabSize=c,this.startVisibleColumn=d}static isBasicASCII(e,t){return t?If(e):!0}static containsRTL(e,t,i){return!t&&i?kf(e):!1}},Af=class{constructor(e,t,i){this.range=e,this.inlineClassName=t,this.type=i}},aA=class{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=n}toInlineDecoration(e){return new Af(new D(e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}},C0=class{constructor(e,t){this._viewModelDecorationBrand=void 0,this.range=e,this.options=t}},y0=class{constructor(e,t,i){this.color=e,this.zIndex=t,this.data=i}static cmp(e,t){return e.zIndex===t.zIndex?e.color<t.color?-1:e.color>t.color?1:0:e.zIndex-t.zIndex}};cn();s0();function Zde(r){return Array.isArray(r)}function EU(r){return!Zde(r)}function lA(r){return typeof r=="string"}function cA(r){return!lA(r)}function Wm(r){return!r}function Ed(r,e){return r.ignoreCase&&e?e.toLowerCase():e}function dA(r){return r.replace(/[&<>'"_]/g,"-")}function xU(r,e){console.log(`${r.languageId}: ${e}`)}function Ai(r,e){return new Error(`${r.languageId}: ${e}`)}function xd(r,e,t,i,n){let o=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,s=null;return e.replace(o,function(a,l,c,d,h,u,f,m,_){return Wm(c)?Wm(d)?!Wm(h)&&h<i.length?Ed(r,i[h]):!Wm(f)&&r&&typeof r[f]=="string"?r[f]:(s===null&&(s=n.split("."),s.unshift(n)),!Wm(u)&&u<s.length?Ed(r,s[u]):""):Ed(r,t):"$"})}function S0(r,e){let t=e;for(;t&&t.length>0;){let i=r.tokenizer[t];if(i)return i;let n=t.lastIndexOf(".");n<0?t=null:t=t.substr(0,n)}return null}function DU(r,e){let t=e;for(;t&&t.length>0;){if(r.stateNames[t])return!0;let n=t.lastIndexOf(".");n<0?t=null:t=t.substr(0,n)}return!1}var kU=5,Ub=class{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(e!==null&&e.depth>=this._maxCacheDepth)return new zm(e,t);let i=zm.getStackElementId(e);i.length>0&&(i+="|"),i+=t;let n=this._entries[i];return n||(n=new zm(e,t),this._entries[i]=n,n)}};Ub._INSTANCE=new Ub(kU);var zm=class{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;e!==null;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;e!==null&&t!==null;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return e===null&&t===null}equals(e){return zm._equals(this,e)}push(e){return Ub.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return Ub.create(this.parent,e)}},Um=class{constructor(e,t){this.languageId=e,this.state=t}equals(e){return this.languageId===e.languageId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new Um(this.languageId,this.state)}},zh=class{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(t!==null)return new Wb(e,t);if(e!==null&&e.depth>=this._maxCacheDepth)return new Wb(e,t);let i=zm.getStackElementId(e),n=this._entries[i];return n||(n=new Wb(e,null),this._entries[i]=n,n)}};zh._INSTANCE=new zh(kU);var Wb=class{constructor(e,t){this.stack=e,this.embeddedLanguageData=t}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:zh.create(this.stack,this.embeddedLanguageData)}equals(e){return!(e instanceof Wb)||!this.stack.equals(e.stack)?!1:this.embeddedLanguageData===null&&e.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||e.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(e.embeddedLanguageData)}},IU=class{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(e){this._languageId=e}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=t,this._lastTokenLanguage=this._languageId,this._tokens.push(new gd(e,t,this._languageId)))}nestedLanguageTokenize(e,t,i,n){let o=i.languageId,s=i.state,a=bi.get(o);if(!a)return this.enterLanguage(o),this.emit(n,""),s;let l=a.tokenize(e,t,s);if(n!==0)for(let c of l.tokens)this._tokens.push(new gd(c.offset+n,c.type,c.language));else this._tokens=this._tokens.concat(l.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,l.endState}finalize(e){return new xm(this._tokens,e)}},E0=class{constructor(e,t){this._languageService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(e){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(e)}emit(e,t){let i=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==i&&(this._lastTokenMetadata=i,this._tokens.push(e),this._tokens.push(i))}static _merge(e,t,i){let n=e!==null?e.length:0,o=t.length,s=i!==null?i.length:0;if(n===0&&o===0&&s===0)return new Uint32Array(0);if(n===0&&o===0)return i;if(o===0&&s===0)return e;let a=new Uint32Array(n+o+s);e!==null&&a.set(e);for(let l=0;l<o;l++)a[n+l]=t[l];return i!==null&&a.set(i,n+o),a}nestedLanguageTokenize(e,t,i,n){let o=i.languageId,s=i.state,a=bi.get(o);if(!a)return this.enterLanguage(o),this.emit(n,""),s;let l=a.tokenizeEncoded(e,t,s);if(n!==0)for(let c=0,d=l.tokens.length;c<d;c+=2)l.tokens[c]+=n;return this._prependTokens=E0._merge(this._prependTokens,this._tokens,l.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,l.endState}finalize(e){return new Df(E0._merge(this._prependTokens,this._tokens,null),e)}},Rf=class{constructor(e,t,i,n){this._languageService=e,this._standaloneThemeService=t,this._languageId=i,this._lexer=n,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let o=!1;this._tokenizationRegistryListener=bi.onDidChange(s=>{if(o)return;let a=!1;for(let l=0,c=s.changedLanguages.length;l<c;l++){let d=s.changedLanguages[l];if(this._embeddedLanguages[d]){a=!0;break}}a&&(o=!0,bi.fire([this._languageId]),o=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let e=[];for(let t in this._embeddedLanguages){let i=bi.get(t);if(i){if(i instanceof Rf){let n=i.getLoadStatus();n.loaded===!1&&e.push(n.promise)}continue}bi.isResolved(t)||e.push(bi.getOrCreate(t))}return e.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then(t=>{})}}getInitialState(){let e=Ub.create(null,this._lexer.start);return zh.create(e,null)}tokenize(e,t,i){let n=new IU,o=this._tokenize(e,t,i,n);return n.finalize(o)}tokenizeEncoded(e,t,i){let n=new E0(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),o=this._tokenize(e,t,i,n);return n.finalize(o)}_tokenize(e,t,i,n){return i.embeddedLanguageData?this._nestedTokenize(e,t,i,0,n):this._myTokenize(e,t,i,0,n)}_findLeavingNestedLanguageOffset(e,t){let i=this._lexer.tokenizer[t.stack.state];if(!i&&(i=S0(this._lexer,t.stack.state),!i))throw Ai(this._lexer,"tokenizer state is not defined: "+t.stack.state);let n=-1,o=!1;for(let s of i){if(!cA(s.action)||s.action.nextEmbedded!=="@pop")continue;o=!0;let a=s.regex,l=s.regex.source;if(l.substr(0,4)==="^(?:"&&l.substr(l.length-1,1)===")"){let d=(a.ignoreCase?"i":"")+(a.unicode?"u":"");a=new RegExp(l.substr(4,l.length-5),d)}let c=e.search(a);c===-1||c!==0&&s.matchOnlyAtLineStart||(n===-1||c<n)&&(n=c)}if(!o)throw Ai(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return n}_nestedTokenize(e,t,i,n,o){let s=this._findLeavingNestedLanguageOffset(e,i);if(s===-1){let c=o.nestedLanguageTokenize(e,t,i.embeddedLanguageData,n);return zh.create(i.stack,new Um(i.embeddedLanguageData.languageId,c))}let a=e.substring(0,s);a.length>0&&o.nestedLanguageTokenize(a,!1,i.embeddedLanguageData,n);let l=e.substring(s);return this._myTokenize(l,t,i,n+s,o)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,i,n,o){o.enterLanguage(this._languageId);let s=e.length,a=t&&this._lexer.includeLF?e+`
`:e,l=a.length,c=i.embeddedLanguageData,d=i.stack,h=0,u=null,f=!0;for(;f||h<l;){let m=h,_=d.depth,w=u?u.groups.length:0,y=d.state,C=null,E=null,L=null,k=null,M=null;if(u){C=u.matches;let R=u.groups.shift();E=R.matched,L=R.action,k=u.rule,u.groups.length===0&&(u=null)}else{if(!f&&h>=l)break;f=!1;let R=this._lexer.tokenizer[y];if(!R&&(R=S0(this._lexer,y),!R))throw Ai(this._lexer,"tokenizer state is not defined: "+y);let Z=a.substr(h);for(let q of R)if((h===0||!q.matchOnlyAtLineStart)&&(C=Z.match(q.regex),C)){E=C[0],L=q.action;break}}if(C||(C=[""],E=""),L||(h<l&&(C=[a.charAt(h)],E=C[0]),L=this._lexer.defaultToken),E===null)break;for(h+=E.length;EU(L)&&cA(L)&&L.test;)L=L.test(E,C,y,h===l);let I=null;if(typeof L=="string"||Array.isArray(L))I=L;else if(L.group)I=L.group;else if(L.token!==null&&L.token!==void 0){if(L.tokenSubst?I=xd(this._lexer,L.token,E,C,y):I=L.token,L.nextEmbedded)if(L.nextEmbedded==="@pop"){if(!c)throw Ai(this._lexer,"cannot pop embedded language if not inside one");c=null}else{if(c)throw Ai(this._lexer,"cannot enter embedded language from within an embedded language");M=xd(this._lexer,L.nextEmbedded,E,C,y)}if(L.goBack&&(h=Math.max(0,h-L.goBack)),L.switchTo&&typeof L.switchTo=="string"){let R=xd(this._lexer,L.switchTo,E,C,y);if(R[0]==="@"&&(R=R.substr(1)),S0(this._lexer,R))d=d.switchTo(R);else throw Ai(this._lexer,"trying to switch to a state '"+R+"' that is undefined in rule: "+this._safeRuleName(k))}else{if(L.transform&&typeof L.transform=="function")throw Ai(this._lexer,"action.transform not supported");if(L.next)if(L.next==="@push"){if(d.depth>=this._lexer.maxStack)throw Ai(this._lexer,"maximum tokenizer stack size reached: ["+d.state+","+d.parent.state+",...]");d=d.push(y)}else if(L.next==="@pop"){if(d.depth<=1)throw Ai(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(k));d=d.pop()}else if(L.next==="@popall")d=d.popall();else{let R=xd(this._lexer,L.next,E,C,y);if(R[0]==="@"&&(R=R.substr(1)),S0(this._lexer,R))d=d.push(R);else throw Ai(this._lexer,"trying to set a next state '"+R+"' that is undefined in rule: "+this._safeRuleName(k))}}L.log&&typeof L.log=="string"&&xU(this._lexer,this._lexer.languageId+": "+xd(this._lexer,L.log,E,C,y))}if(I===null)throw Ai(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(k));let T=R=>{let Z=this._languageService.getLanguageIdByLanguageName(R)||this._languageService.getLanguageIdByMimeType(R)||R,q=this._getNestedEmbeddedLanguageData(Z);if(h<l){let te=e.substr(h);return this._nestedTokenize(te,t,zh.create(d,q),n+h,o)}else return zh.create(d,q)};if(Array.isArray(I)){if(u&&u.groups.length>0)throw Ai(this._lexer,"groups cannot be nested: "+this._safeRuleName(k));if(C.length!==I.length+1)throw Ai(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(k));let R=0;for(let Z=1;Z<C.length;Z++)R+=C[Z].length;if(R!==E.length)throw Ai(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(k));u={rule:k,matches:C,groups:[]};for(let Z=0;Z<I.length;Z++)u.groups[Z]={action:I[Z],matched:C[Z+1]};h-=E.length;continue}else{if(I==="@rematch"&&(h-=E.length,E="",C=null,I="",M!==null))return T(M);if(E.length===0){if(l===0||_!==d.depth||y!==d.state||(u?u.groups.length:0)!==w)continue;throw Ai(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(k))}let R=null;if(lA(I)&&I.indexOf("@brackets")===0){let Z=I.substr(9),q=Gde(this._lexer,E);if(!q)throw Ai(this._lexer,"@brackets token returned but no bracket defined as: "+E);R=dA(q.token+Z)}else{let Z=I===""?"":I+this._lexer.tokenPostfix;R=dA(Z)}m<s&&o.emit(m+n,R)}if(M!==null)return T(M)}return zh.create(d,c)}_getNestedEmbeddedLanguageData(e){if(!this._languageService.isRegisteredLanguageId(e))return new Um(e,Pf);e!==this._languageId&&(bi.getOrCreate(e),this._embeddedLanguages[e]=!0);let t=bi.get(e);return t?new Um(e,t.getInitialState()):new Um(e,Pf)}};function Gde(r,e){if(!e)return null;e=Ed(r,e);let t=r.brackets;for(let i of t){if(i.open===e)return{token:i.token,bracketType:1};if(i.close===e)return{token:i.token,bracketType:-1}}return null}var Xde=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},hA,uA=(hA=window.trustedTypes)===null||hA===void 0?void 0:hA.createPolicy("standaloneColorizer",{createHTML:r=>r}),x0=class{static colorizeElement(e,t,i,n){n=n||{};let o=n.theme||"vs",s=n.mimeType||i.getAttribute("lang")||i.getAttribute("data-lang");if(!s)return console.error("Mode not detected"),Promise.resolve();let a=t.getLanguageIdByMimeType(s)||s;e.setTheme(o);let l=i.firstChild?i.firstChild.nodeValue:"";i.className+=" "+o;let c=d=>{var h;let u=(h=uA?.createHTML(d))!==null&&h!==void 0?h:d;i.innerHTML=u};return this.colorize(t,l||"",a,n).then(c,d=>console.error(d))}static colorize(e,t,i,n){return Xde(this,void 0,void 0,function*(){let o=e.languageIdCodec,s=4;n&&typeof n.tabSize=="number"&&(s=n.tabSize),vb(t)&&(t=t.substr(1));let a=mr(t);if(!e.isRegisteredLanguageId(i))return OU(a,s,o);let l=yield bi.getOrCreate(i);return l?Qde(a,s,l,o):OU(a,s,o)})}static colorizeLine(e,t,i,n,o=4){let s=br.isBasicASCII(e,t),a=br.containsRTL(e,s,i);return Bb(new tl(!1,!0,e,!1,s,a,0,n,[],o,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,i=4){let n=e.getLineContent(t);e.forceTokenization(t);let s=e.getLineTokens(t).inflate();return this.colorizeLine(n,e.mightContainNonBasicASCII(),e.mightContainRTL(),s,i)}};function Qde(r,e,t,i){return new Promise((n,o)=>{let s=()=>{let a=Jde(r,e,t,i);if(t instanceof Rf){let l=t.getLoadStatus();if(l.loaded===!1){l.promise.then(s,o);return}}n(a)};s()})}function OU(r,e,t){let i=[],o=new Uint32Array(2);o[0]=0,o[1]=16793600;for(let s=0,a=r.length;s<a;s++){let l=r[s];o[0]=l.length;let c=new tn(o,l,t),d=br.isBasicASCII(l,!0),h=br.containsRTL(l,d,!0),u=Bb(new tl(!1,!0,l,!1,d,h,0,c,[],e,0,0,0,0,-1,"none",!1,!1,null));i=i.concat(u.html),i.push("<br/>")}return i.join("")}function Jde(r,e,t,i){let n=[],o=t.getInitialState();for(let s=0,a=r.length;s<a;s++){let l=r[s],c=t.tokenizeEncoded(l,!0,o);tn.convertToEndOffset(c.tokens,l.length);let d=new tn(c.tokens,l,i),h=br.isBasicASCII(l,!0),u=br.containsRTL(l,h,!0),f=Bb(new tl(!1,!0,l,!1,h,u,0,d.inflate(),[],e,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(f.html),n.push("<br/>"),o=c.endState}return n.join("")}xs();re();io();Ye();var Yb=Fe("markerDecorationsService");kt();var bhe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},vhe=function(r,e){return function(t,i){e(t,i,r)}},U0=class{constructor(e,t){}dispose(){}};U0.ID="editor.contrib.markerDecorations";U0=bhe([vhe(1,Yb)],U0);st(U0.ID,U0);ke();Be();ut();Ee();re();rs();Oo();jt();Ee();re();Jo();xt();re();Ee();var z0=class extends ${constructor(e,t){super();this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,this._referenceDomElement=e,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(e=>{e&&e[0]&&e[0].contentRect?this.observe({width:e[0].contentRect.width,height:e[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let i=0,n=0;t?(i=t.width,n=t.height):this._referenceDomElement&&(i=this._referenceDomElement.clientWidth,n=this._referenceDomElement.clientHeight),i=Math.max(5,i),n=Math.max(5,n),(this._width!==i||this._height!==n)&&(this._width=i,this._height=n,e&&this._onDidChange.fire())}};var whe=Object.prototype.hasOwnProperty;function sz(r,e){for(let t in r)if(whe.call(r,t)&&e({key:t,value:r[t]},function(){delete r[t]})===!1)return}var WA=class{constructor(){this.map=new Map}add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){let i=this.map.get(e);!i||(i.delete(t),i.size===0&&this.map.delete(e))}forEach(e,t){let i=this.map.get(e);!i||i.forEach(t)}};function az(r){let e=r.wordWrap;e===!0?r.wordWrap="on":e===!1&&(r.wordWrap="off");let t=r.lineNumbers;t===!0?r.lineNumbers="on":t===!1&&(r.lineNumbers="off"),r.autoClosingBrackets===!1&&(r.autoClosingBrackets="never",r.autoClosingQuotes="never",r.autoSurround="never"),r.cursorBlinking==="visible"&&(r.cursorBlinking="solid");let o=r.renderWhitespace;o===!0?r.renderWhitespace="boundary":o===!1&&(r.renderWhitespace="none");let s=r.renderLineHighlight;s===!0?r.renderLineHighlight="line":s===!1&&(r.renderLineHighlight="none");let a=r.acceptSuggestionOnEnter;a===!0?r.acceptSuggestionOnEnter="on":a===!1&&(r.acceptSuggestionOnEnter="off");let l=r.tabCompletion;l===!1?r.tabCompletion="off":l===!0&&(r.tabCompletion="onlySnippets");let c=r.suggest;if(c&&typeof c.filteredTypes=="object"&&c.filteredTypes){let w={};w.method="showMethods",w.function="showFunctions",w.constructor="showConstructors",w.deprecated="showDeprecated",w.field="showFields",w.variable="showVariables",w.class="showClasses",w.struct="showStructs",w.interface="showInterfaces",w.module="showModules",w.property="showProperties",w.event="showEvents",w.operator="showOperators",w.unit="showUnits",w.value="showValues",w.constant="showConstants",w.enum="showEnums",w.enumMember="showEnumMembers",w.keyword="showKeywords",w.text="showWords",w.color="showColors",w.file="showFiles",w.reference="showReferences",w.folder="showFolders",w.typeParameter="showTypeParameters",w.snippet="showSnippets",sz(w,y=>{let C=c.filteredTypes[y.key];C===!1&&(c[y.value]=C)})}let d=r.hover;d===!0?r.hover={enabled:!0}:d===!1&&(r.hover={enabled:!1});let h=r.parameterHints;h===!0?r.parameterHints={enabled:!0}:h===!1&&(r.parameterHints={enabled:!1});let u=r.autoIndent;u===!0?r.autoIndent="full":u===!1&&(r.autoIndent="advanced");let f=r.matchBrackets;f===!0?r.matchBrackets="always":f===!1&&(r.matchBrackets="never");let{renderIndentGuides:m,highlightActiveIndentGuide:_}=r;r.guides||(r.guides={}),m!==void 0&&(r.guides.indentation=!!m),_!==void 0&&(r.guides.highlightActiveIndentation=!!_)}Ee();var lz=class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new B,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(e){this._tabFocus!==e&&(this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus))}},Qb=new lz;Et();Ye();var oo=Fe("accessibilityService"),Qm=new Se("accessibilityModeEnabled",!1);var Che=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},yhe=function(r,e){return function(t,i){e(t,i,r)}},bL=class extends ${constructor(e,t,i,n){super();this._accessibilityService=n,this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new B),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new wx,this.isSimpleWidget=e,this._containerObserver=this._register(new z0(i,t.dimension)),this._rawOptions=cz(t),this._validatedOptions=Yh.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(Ga.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(Qb.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(e0.onDidChange(()=>this._recomputeOptions())),this._register(Fh.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){let e=this._computeOptions(),t=Yh.checkEquals(this.options,e);t!==null&&(this.options=e,this._onDidChangeFast.fire(t),this._onDidChange.fire(t))}_computeOptions(){let e=this._readEnvConfiguration(),t=_d.createFromValidatedSettings(this._validatedOptions,e.pixelRatio,this.isSimpleWidget),i=this._readFontInfo(t),n={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight-this._reservedHeight,fontInfo:i,extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:Qb.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport};return Yh.computeOptions(this._validatedOptions,n)}_readEnvConfiguration(){return{extraEditorClassName:Ehe(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:Al||$n,pixelRatio:Fh.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(e){return e0.readFontInfo(e)}getRawOptions(){return this._rawOptions}updateOptions(e){let t=cz(e);!Yh.applyUpdate(this._rawOptions,t)||(this._validatedOptions=Yh.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(e){this._containerObserver.observe(e)}setIsDominatedByLongLines(e){this._isDominatedByLongLines!==e&&(this._isDominatedByLongLines=e,this._recomputeOptions())}setModelLineCount(e){let t=She(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}setReservedHeight(e){this._reservedHeight!==e&&(this._reservedHeight=e,this._recomputeOptions())}};bL=Che([yhe(3,oo)],bL);function She(r){let e=0;for(;r;)r=Math.floor(r/10),e++;return e||1}function Ehe(){let r="";return!ir&&!QC&&(r+="no-user-select "),ir&&(r+="no-minimap-shadow "),Je&&(r+="mac "),r}var dz=class{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}},hz=class{constructor(){this._values=[]}_read(e){if(e>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[e]}get(e){return this._read(e)}_write(e,t){this._values[e]=t}},Yh=class{static validateOptions(e){let t=new dz;for(let i of wf){let n=i.name==="_never_"?void 0:e[i.name];t._write(i.id,i.validate(n))}return t}static computeOptions(e,t){let i=new hz;for(let n of wf)i._write(n.id,n.compute(t,i,e._read(n.id)));return i}static _deepEquals(e,t){if(typeof e!="object"||typeof t!="object"||!e||!t)return e===t;if(Array.isArray(e)||Array.isArray(t))return Array.isArray(e)&&Array.isArray(t)?Xn(e,t):!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let i in e)if(!Yh._deepEquals(e[i],t[i]))return!1;return!0}static checkEquals(e,t){let i=[],n=!1;for(let o of wf){let s=!Yh._deepEquals(e._read(o.id),t._read(o.id));i[o.id]=s,s&&(n=!0)}return n?new UC(i):null}static applyUpdate(e,t){let i=!1;for(let n of wf)if(t.hasOwnProperty(n.name)){let o=n.applyUpdate(e[n.name],t[n.name]);e[n.name]=o.newValue,i=i||o.didChange}return i}};function cz(r){let e=Ml(r);return az(e),e}kt();io();Be();mi();ut();Be();xt();Be();jt();function En(r,e,t){let i=null,n=null;if(typeof t.value=="function"?(i="value",n=t.value,n.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof t.get=="function"&&(i="get",n=t.get),!n)throw new Error("not supported");let o=`$memoize$${e}`;t[i]=function(...s){return this.hasOwnProperty(o)||Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:n.apply(this,s)}),this[o]}}re();var xhe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},li;(function(r){r.Tap="-monaco-gesturetap",r.Change="-monaco-gesturechange",r.Start="-monaco-gesturestart",r.End="-monaco-gesturesend",r.Contextmenu="-monaco-gesturecontextmenu"})(li||(li={}));var zt=class extends ${constructor(){super();this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(se(document,"touchstart",e=>this.onTouchStart(e),{passive:!1})),this._register(se(document,"touchend",e=>this.onTouchEnd(e))),this._register(se(document,"touchmove",e=>this.onTouchMove(e),{passive:!1}))}static addTarget(e){return zt.isTouchDevice()?(zt.INSTANCE||(zt.INSTANCE=new zt),zt.INSTANCE.targets.push(e),{dispose:()=>{zt.INSTANCE.targets=zt.INSTANCE.targets.filter(t=>t!==e)}}):$.None}static ignoreTarget(e){return zt.isTouchDevice()?(zt.INSTANCE||(zt.INSTANCE=new zt),zt.INSTANCE.ignoreTargets.push(e),{dispose:()=>{zt.INSTANCE.ignoreTargets=zt.INSTANCE.ignoreTargets.filter(t=>t!==e)}}):$.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){let t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,n=e.targetTouches.length;i<n;i++){let o=e.targetTouches.item(i);this.activeTouches[o.identifier]={id:o.identifier,initialTarget:o.target,initialTimeStamp:t,initialPageX:o.pageX,initialPageY:o.pageY,rollingTimestamps:[t],rollingPageX:[o.pageX],rollingPageY:[o.pageY]};let s=this.newGestureEvent(li.Start,o.target);s.pageX=o.pageX,s.pageY=o.pageY,this.dispatchEvent(s)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e){let t=Date.now(),i=Object.keys(this.activeTouches).length;for(let n=0,o=e.changedTouches.length;n<o;n++){let s=e.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(s.identifier))){console.warn("move of an UNKNOWN touch",s);continue}let a=this.activeTouches[s.identifier],l=Date.now()-a.initialTimeStamp;if(l<zt.HOLD_DELAY&&Math.abs(a.initialPageX-_a(a.rollingPageX))<30&&Math.abs(a.initialPageY-_a(a.rollingPageY))<30){let c=this.newGestureEvent(li.Tap,a.initialTarget);c.pageX=_a(a.rollingPageX),c.pageY=_a(a.rollingPageY),this.dispatchEvent(c)}else if(l>=zt.HOLD_DELAY&&Math.abs(a.initialPageX-_a(a.rollingPageX))<30&&Math.abs(a.initialPageY-_a(a.rollingPageY))<30){let c=this.newGestureEvent(li.Contextmenu,a.initialTarget);c.pageX=_a(a.rollingPageX),c.pageY=_a(a.rollingPageY),this.dispatchEvent(c)}else if(i===1){let c=_a(a.rollingPageX),d=_a(a.rollingPageY),h=_a(a.rollingTimestamps)-a.rollingTimestamps[0],u=c-a.rollingPageX[0],f=d-a.rollingPageY[0],m=this.targets.filter(_=>a.initialTarget instanceof Node&&_.contains(a.initialTarget));this.inertia(m,t,Math.abs(u)/h,u>0?1:-1,c,Math.abs(f)/h,f>0?1:-1,d)}this.dispatchEvent(this.newGestureEvent(li.End,a.initialTarget)),delete this.activeTouches[s.identifier]}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){let i=document.createEvent("CustomEvent");return i.initEvent(e,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(e){if(e.type===li.Tap){let t=new Date().getTime(),i=0;t-this._lastSetTapCountTime>zt.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=t,e.tapCount=i}else(e.type===li.Change||e.type===li.Contextmenu)&&(this._lastSetTapCountTime=0);for(let t=0;t<this.ignoreTargets.length;t++)if(e.initialTarget instanceof Node&&this.ignoreTargets[t].contains(e.initialTarget))return;this.targets.forEach(t=>{e.initialTarget instanceof Node&&t.contains(e.initialTarget)&&(t.dispatchEvent(e),this.dispatched=!0)})}inertia(e,t,i,n,o,s,a,l){this.handle=Es(()=>{let c=Date.now(),d=c-t,h=0,u=0,f=!0;i+=zt.SCROLL_FRICTION*d,s+=zt.SCROLL_FRICTION*d,i>0&&(f=!1,h=n*i*d),s>0&&(f=!1,u=a*s*d);let m=this.newGestureEvent(li.Change);m.translationX=h,m.translationY=u,e.forEach(_=>_.dispatchEvent(m)),f||this.inertia(e,c,i,n,o+h,s,a,l+u)})}onTouchMove(e){let t=Date.now();for(let i=0,n=e.changedTouches.length;i<n;i++){let o=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(o.identifier))){console.warn("end of an UNKNOWN touch",o);continue}let s=this.activeTouches[o.identifier],a=this.newGestureEvent(li.Change,s.initialTarget);a.translationX=o.pageX-_a(s.rollingPageX),a.translationY=o.pageY-_a(s.rollingPageY),a.pageX=o.pageX,a.pageY=o.pageY,this.dispatchEvent(a),s.rollingPageX.length>3&&(s.rollingPageX.shift(),s.rollingPageY.shift(),s.rollingTimestamps.shift()),s.rollingPageX.push(o.pageX),s.rollingPageY.push(o.pageY),s.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}};zt.SCROLL_FRICTION=-.005;zt.HOLD_DELAY=700;zt.CLEAR_TAP_COUNT_TIME=400;xhe([En],zt,"isTouchDevice",null);re();Be();il();nt();re();xt();Be();Be();_A();il();re();xt();function Oc(r,e){let t=new To(e);return t.preventDefault(),{leftButton:t.leftButton,buttons:t.buttons,posx:t.posx,posy:t.posy}}var Oa=class{constructor(){this._hooks=new J,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;let i=this._onStopCallback;this._onStopCallback=null,e&&i&&i(t)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(e,t,i,n,o){if(this.isMonitoring())return;this._mouseMoveEventMerger=i,this._mouseMoveCallback=n,this._onStopCallback=o;let s=Hb.getSameOriginWindowChain(),a=Jr?"pointermove":"mousemove",l="mouseup",c=s.map(h=>h.window.document),d=nl(e);d&&c.unshift(d);for(let h of c)this._hooks.add(I0(h,a,u=>{if(u.buttons!==t){this.stopMonitoring(!0);return}this._mouseMoveCallback(u)},(u,f)=>this._mouseMoveEventMerger(u,f))),this._hooks.add(se(h,l,u=>this.stopMonitoring(!0)));if(Hb.hasDifferentOriginAncestor()){let h=s[s.length-1];this._hooks.add(se(h.window.document,"mouseout",u=>{new To(u).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(se(h.window.document,"mouseover",u=>{new To(u).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(se(h.window.document.body,"mouseleave",u=>{this.stopMonitoring(!0)}))}}};il();nt();re();Li();var J0=class{constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new VL(this.x-kc.scrollX,this.y-kc.scrollY)}},VL=class{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new J0(this.clientX+kc.scrollX,this.clientY+kc.scrollY)}},KV=class{constructor(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n,this._editorPagePositionBrand=void 0}},qV=class{constructor(e,t){this.x=e,this.y=t,this._positionRelativeToEditorBrand=void 0}};function YA(r){let e=ji(r);return new KV(e.left,e.top,e.width,e.height)}function ZA(r,e,t){let i=e.width/r.offsetWidth,n=e.height/r.offsetHeight,o=(t.x-e.x)/i,s=(t.y-e.y)/n;return new qV(o,s)}var nu=class extends To{constructor(e,t){super(e);this._editorMouseEventBrand=void 0,this.pos=new J0(this.posx,this.posy),this.editorPos=YA(t),this.relativePos=ZA(t,this.editorPos,this.pos)}},GA=class{constructor(e){this._editorViewDomNode=e}_create(e){return new nu(e,this._editorViewDomNode)}onContextMenu(e,t){return se(e,"contextmenu",i=>{t(this._create(i))})}onMouseUp(e,t){return se(e,"mouseup",i=>{t(this._create(i))})}onMouseDown(e,t){return se(e,"mousedown",i=>{t(this._create(i))})}onMouseLeave(e,t){return qb(e,i=>{t(this._create(i))})}onMouseMoveThrottled(e,t,i,n){return I0(e,"mousemove",t,(s,a)=>i(s,this._create(a)),n)}},XA=class{constructor(e){this._editorViewDomNode=e}_create(e){return new nu(e,this._editorViewDomNode)}onPointerUp(e,t){return se(e,"pointerup",i=>{t(this._create(i))})}onPointerDown(e,t){return se(e,"pointerdown",i=>{t(this._create(i))})}onPointerLeave(e,t){return MU(e,i=>{t(this._create(i))})}onPointerMoveThrottled(e,t,i,n){return I0(e,"pointermove",t,(s,a)=>i(s,this._create(a)),n)}},QA=class extends ${constructor(e){super();this._editorViewDomNode=e,this._globalMouseMoveMonitor=this._register(new Oa),this._keydownListener=null}startMonitoring(e,t,i,n,o){this._keydownListener=Bi(document,"keydown",a=>{a.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,a.browserEvent)},!0);let s=(a,l)=>i(a,new nu(l,this._editorViewDomNode));this._globalMouseMoveMonitor.startMonitoring(e,t,s,n,a=>{this._keydownListener.dispose(),o(a)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}},Yf=class{constructor(e){this._editor=e,this._instanceId=++Yf._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new wt(()=>this.garbageCollect(),1e3)}createClassNameRef(e){let t=this.getOrCreateRule(e);return t.increaseRefCount(),{className:t.className,dispose:()=>{t.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(e){let t=this.computeUniqueKey(e),i=this._rules.get(t);if(!i){let n=this._counter++;i=new YV(t,`dyn-rule-${this._instanceId}-${n}`,Vh(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,e),this._rules.set(t,i)}return i}computeUniqueKey(e){return JSON.stringify(e)}garbageCollect(){for(let e of this._rules.values())e.hasReferences()||(this._rules.delete(e.key),e.dispose())}};Yf._idPool=0;var YV=class{constructor(e,t,i,n){this.key=e,this.className=t,this.properties=n,this._referenceCount=0,this._styleElement=po(i),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(e,t){let i=`.${e} {`;for(let n in t){let o=t[n],s;typeof o=="object"?s=`var(${EL(o.id)})`:s=o,i+=`
	${The(n)}: ${s};`}return i+=`
}`,i}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}};function The(r){return r.replace(/(^[A-Z])/,([e])=>e.toLowerCase()).replace(/([A-Z])/g,([e])=>`-${e.toLowerCase()}`)}re();var Pc=class extends ${constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let i=0,n=e.length;i<n;i++){let o=e[i];switch(o.type){case 0:this.onCompositionStart(o)&&(t=!0);break;case 1:this.onCompositionEnd(o)&&(t=!0);break;case 2:this.onConfigurationChanged(o)&&(t=!0);break;case 3:this.onCursorStateChanged(o)&&(t=!0);break;case 4:this.onDecorationsChanged(o)&&(t=!0);break;case 5:this.onFlushed(o)&&(t=!0);break;case 6:this.onFocusChanged(o)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(o)&&(t=!0);break;case 8:this.onLineMappingChanged(o)&&(t=!0);break;case 9:this.onLinesChanged(o)&&(t=!0);break;case 10:this.onLinesDeleted(o)&&(t=!0);break;case 11:this.onLinesInserted(o)&&(t=!0);break;case 12:this.onRevealRangeRequest(o)&&(t=!0);break;case 13:this.onScrollChanged(o)&&(t=!0);break;case 15:this.onTokensChanged(o)&&(t=!0);break;case 14:this.onThemeChanged(o)&&(t=!0);break;case 16:this.onTokensColorsChanged(o)&&(t=!0);break;case 17:this.onZonesChanged(o)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(o)}}t&&(this._shouldRender=!0)}};var An=class extends Pc{constructor(e){super();this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}},wr=class{static write(e,t){e.setAttribute("data-mprt",String(t))}static read(e){let t=e.getAttribute("data-mprt");return t===null?0:parseInt(t,10)}static collect(e,t){let i=[],n=0;for(;e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(i[n++]=this.read(e)),e=e.parentElement;let o=new Uint8Array(n);for(let s=0;s<n;s++)o[s]=i[n-s-1];return o}};Oo();xt();var ZV=class{constructor(e,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;let i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}},JA=class extends ZV{constructor(e,t,i){super(e,t);this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}},eR=class{constructor(e,t,i){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=i}},rp=class{constructor(e,t){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(t)}static from(e){let t=new Array(e.length);for(let i=0,n=e.length;i<n;i++){let o=e[i];t[i]=new rp(o.left,o.width)}return t}toString(){return`[${this.left},${this.width}]`}},ou=class{constructor(e,t){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}},tR=class{constructor(e,t){this.outsideRenderedLine=e,this.originalLeft=t,this.left=Math.round(this.originalLeft)}},iR=class{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}};var ey=class{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,i,n,o){let s=this._createRange();try{return s.setStart(e,t),s.setEnd(i,n),s.getClientRects()}catch{return null}finally{this._detachRange(s,o)}}static _mergeAdjacentRanges(e){if(e.length===1)return e;e.sort(ou.compare);let t=[],i=0,n=e[0];for(let o=1,s=e.length;o<s;o++){let a=e[o];n.left+n.width+.9>=a.left?n.width=Math.max(n.width,a.left+a.width-n.left):(t[i++]=n,n=a)}return t[i++]=n,t}static _createHorizontalRangesFromClientRects(e,t,i){if(!e||e.length===0)return null;let n=[];for(let o=0,s=e.length;o<s;o++){let a=e[o];n[o]=new ou(Math.max(0,(a.left-t)/i),a.width/i)}return this._mergeAdjacentRanges(n)}static readHorizontalRanges(e,t,i,n,o,s,a,l){let d=e.children.length-1;if(0>d)return null;if(t=Math.min(d,Math.max(0,t)),n=Math.min(d,Math.max(0,n)),t===n&&i===o&&i===0&&!e.children[t].firstChild){let m=e.children[t].getClientRects();return this._createHorizontalRangesFromClientRects(m,s,a)}t!==n&&n>0&&o===0&&(n--,o=1073741824);let h=e.children[t].firstChild,u=e.children[n].firstChild;if((!h||!u)&&(!h&&i===0&&t>0&&(h=e.children[t-1].firstChild,i=1073741824),!u&&o===0&&n>0&&(u=e.children[n-1].firstChild,o=1073741824)),!h||!u)return null;i=Math.min(h.textContent.length,Math.max(0,i)),o=Math.min(u.textContent.length,Math.max(0,o));let f=this._readClientRects(h,i,u,o,l);return this._createHorizontalRangesFromClientRects(f,s,a)}};B0();var Nhe=function(){return _s?!0:!(Fi||$n||ir)}(),uv=!0,HL=class{constructor(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=t}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;let e=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=e.left,this._clientRectScale=e.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}},$L=class{constructor(e,t){this.themeType=t;let i=e.options,n=i.get(44);this.renderWhitespace=i.get(88),this.renderControlCharacters=i.get(83),this.spaceWidth=n.spaceWidth,this.middotWidth=n.middotWidth,this.wsmiddotWidth=n.wsmiddotWidth,this.useMonospaceOptimizations=n.isMonospace&&!i.get(29),this.canUseHalfwidthRightwardsArrow=n.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(59),this.stopRenderingLineAfter=i.get(105),this.fontLigatures=i.get(45)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}},ol=class{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(this._renderedViewLine)this._renderedViewLine.domNode=vt(e);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return this._options.themeType===$s.HIGH_CONTRAST||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(e,t,i,n){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;let o=i.getViewLineRenderingData(e),s=this._options,a=_r.filter(o.inlineDecorations,e,o.minColumn,o.maxColumn),l=null;if(s.themeType===$s.HIGH_CONTRAST||this._options.renderWhitespace==="selection"){let u=i.selections;for(let f of u){if(f.endLineNumber<e||f.startLineNumber>e)continue;let m=f.startLineNumber===e?f.startColumn:o.minColumn,_=f.endLineNumber===e?f.endColumn:o.maxColumn;m<_&&(s.themeType===$s.HIGH_CONTRAST||this._options.renderWhitespace!=="selection"?a.push(new _r(m,_,"inline-selected-text",0)):(l||(l=[]),l.push(new rA(m-1,_-1))))}}let c=new tl(s.useMonospaceOptimizations,s.canUseHalfwidthRightwardsArrow,o.content,o.continuesWithWrappedLine,o.isBasicASCII,o.containsRTL,o.minColumn-1,o.tokens,a,o.tabSize,o.startVisibleColumn,s.spaceWidth,s.middotWidth,s.wsmiddotWidth,s.stopRenderingLineAfter,s.renderWhitespace,s.renderControlCharacters,s.fontLigatures!==er.OFF,l);if(this._renderedViewLine&&this._renderedViewLine.input.equals(c))return!1;n.appendASCIIString('<div style="top:'),n.appendASCIIString(String(t)),n.appendASCIIString("px;height:"),n.appendASCIIString(String(this._options.lineHeight)),n.appendASCIIString('px;" class="'),n.appendASCIIString(ol.CLASS_NAME),n.appendASCIIString('">');let d=jm(c,n);n.appendASCIIString("</div>");let h=null;return uv&&Nhe&&o.isBasicASCII&&s.useMonospaceOptimizations&&d.containsForeignElements===0&&o.content.length<300&&c.lineTokens.getCount()<100&&(h=new ty(this._renderedViewLine?this._renderedViewLine.domNode:null,c,d.characterMapping)),h||(h=XV(this._renderedViewLine?this._renderedViewLine.domNode:null,c,d.characterMapping,d.containsRTL,d.containsForeignElements)),this._renderedViewLine=h,!0}layoutLine(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof ty:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof ty?this._renderedViewLine.monospaceAssumptionsAreValid():uv}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof ty&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,i,n){if(!this._renderedViewLine)return null;t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t)),i=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,i));let o=this._renderedViewLine.input.stopRenderingLineAfter,s=!1;o!==-1&&t>o+1&&i>o+1&&(s=!0),o!==-1&&t>o+1&&(t=o+1),o!==-1&&i>o+1&&(i=o+1);let a=this._renderedViewLine.getVisibleRangesForRange(e,t,i,n);return a&&a.length>0?new iR(s,a):null}getColumnOfNodeOffset(e,t,i){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t,i):1}};ol.CLASS_NAME="view-line";var ty=class{constructor(e,t,i){this.domNode=e,this.input=t,this._characterMapping=i,this._charWidth=t.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return uv;let e=this.getWidth(),t=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(e-t)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),uv=!1),uv}toSlowRenderedLine(){return XV(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,i,n){let o=this._getCharPosition(t),s=this._getCharPosition(i);return[new ou(o,s-o)]}_getCharPosition(e){let t=this._characterMapping.getAbsoluteOffset(e);return this._charWidth*t}getColumnOfNodeOffset(e,t,i){let n=t.textContent.length,o=-1;for(;t;)t=t.previousSibling,o++;return this._characterMapping.getColumn(new w0(o,i),n)}},nR=class{constructor(e,t,i,n,o){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=o,this._cachedWidth=-1,this._pixelOffsetCache=null,!n||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let s=0,a=this._characterMapping.length;s<=a;s++)this._pixelOffsetCache[s]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(e,t,i,n){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){let o=this._readPixelOffset(this.domNode,e,t,n);if(o===-1)return null;let s=this._readPixelOffset(this.domNode,e,i,n);return s===-1?null:[new ou(o,s-o)]}return this._readVisibleRangesForRange(this.domNode,e,t,i,n)}_readVisibleRangesForRange(e,t,i,n,o){if(i===n){let s=this._readPixelOffset(e,t,i,o);return s===-1?null:[new ou(s,0)]}else return this._readRawVisibleRangesForRange(e,i,n,o)}_readPixelOffset(e,t,i,n){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();let o=this._getReadingTarget(e);return o.firstChild?o.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){let o=this._pixelOffsetCache[i];if(o!==-1)return o;let s=this._actualReadPixelOffset(e,t,i,n);return this._pixelOffsetCache[i]=s,s}return this._actualReadPixelOffset(e,t,i,n)}_actualReadPixelOffset(e,t,i,n){if(this._characterMapping.length===0){let l=ey.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,n.clientRectDeltaLeft,n.clientRectScale,n.endNode);return!l||l.length===0?-1:l[0].left}if(i===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();let o=this._characterMapping.getDomPosition(i),s=ey.readHorizontalRanges(this._getReadingTarget(e),o.partIndex,o.charIndex,o.partIndex,o.charIndex,n.clientRectDeltaLeft,n.clientRectScale,n.endNode);if(!s||s.length===0)return-1;let a=s[0].left;if(this.input.isBasicASCII){let l=this._characterMapping.getAbsoluteOffset(i),c=Math.round(this.input.spaceWidth*l);if(Math.abs(c-a)<=1)return c}return a}_readRawVisibleRangesForRange(e,t,i,n){if(t===1&&i===this._characterMapping.length)return[new ou(0,this.getWidth())];let o=this._characterMapping.getDomPosition(t),s=this._characterMapping.getDomPosition(i);return ey.readHorizontalRanges(this._getReadingTarget(e),o.partIndex,o.charIndex,s.partIndex,s.charIndex,n.clientRectDeltaLeft,n.clientRectScale,n.endNode)}getColumnOfNodeOffset(e,t,i){let n=t.textContent.length,o=-1;for(;t;)t=t.previousSibling,o++;return this._characterMapping.getColumn(new w0(o,i),n)}},GV=class extends nR{_readVisibleRangesForRange(e,t,i,n,o){let s=super._readVisibleRangesForRange(e,t,i,n,o);if(!s||s.length===0||i===n||i===1&&n===this._characterMapping.length)return s;if(!this.input.containsRTL){let a=this._readPixelOffset(e,t,n,o);if(a!==-1){let l=s[s.length-1];l.left<a&&(l.width=a-l.left)}}return s}},XV=function(){return Al?Phe:Mhe}();function Phe(r,e,t,i,n){return new GV(r,e,t,i,n)}function Mhe(r,e,t,i,n){return new nR(r,e,t,i,n)}lt();ye();Mc();Be();Mc();var Zf=class{static whitespaceVisibleColumn(e,t,i){let n=e.length,o=0,s=-1,a=-1;for(let l=0;l<n;l++){if(l===t)return[s,a,o];switch(o%i===0&&(s=l,a=o),e.charCodeAt(l)){case 32:o+=1;break;case 9:o=Zi.nextRenderTabStop(o,i);break;default:return[-1,-1,-1]}}return t===n?[s,a,o]:[-1,-1,-1]}static atomicPosition(e,t,i,n){let o=e.length,[s,a,l]=Zf.whitespaceVisibleColumn(e,t,i);if(l===-1)return-1;let c;switch(n){case 0:c=!0;break;case 1:c=!1;break;case 2:if(l%i===0)return t;c=l%i<=i/2;break}if(c){if(s===-1)return-1;let u=a;for(let f=s;f<o;++f){if(u===a+i)return s;switch(e.charCodeAt(f)){case 32:u+=1;break;case 9:u=Zi.nextRenderTabStop(u,i);break;default:return-1}}return u===a+i?s:-1}let d=Zi.nextRenderTabStop(l,i),h=l;for(let u=t;u<o;u++){if(h===d)return u;switch(e.charCodeAt(u)){case 32:h+=1;break;case 9:h=Zi.nextRenderTabStop(h,i);break;default:return-1}}return h===d?o:-1}};var ru=class{constructor(e=null){this.hitTarget=e,this.type=0}},KL=class{constructor(e,t,i){this.position=e,this.spanNode=t,this.injectedText=i,this.type=1}},sp;(function(r){function e(t,i,n){let o=t.getPositionFromDOMInfo(i,n);return o?new KL(o,i,null):new ru(i)}r.createFromDOMInfo=e})(sp||(sp={}));var rR=class{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}},Wr=class{static _deduceRage(e,t=null){return!t&&e?new D(e.lineNumber,e.column,e.lineNumber,e.column):t??null}static createUnknown(e,t,i){return{type:0,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createTextarea(e,t){return{type:1,element:e,mouseColumn:t,position:null,range:null}}static createMargin(e,t,i,n,o,s){return{type:e,element:t,mouseColumn:i,position:n,range:o,detail:s}}static createViewZone(e,t,i,n,o){return{type:e,element:t,mouseColumn:i,position:n,range:this._deduceRage(n),detail:o}}static createContentText(e,t,i,n,o){return{type:6,element:e,mouseColumn:t,position:i,range:this._deduceRage(i,n),detail:o}}static createContentEmpty(e,t,i,n){return{type:7,element:e,mouseColumn:t,position:i,range:this._deduceRage(i),detail:n}}static createContentWidget(e,t,i){return{type:9,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createScrollbar(e,t,i){return{type:11,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createOverlayWidget(e,t,i){return{type:12,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createOutsideEditor(e,t){return{type:13,element:null,mouseColumn:e,position:t,range:this._deduceRage(t)}}static _typeToString(e){return e===1?"TEXTAREA":e===2?"GUTTER_GLYPH_MARGIN":e===3?"GUTTER_LINE_NUMBERS":e===4?"GUTTER_LINE_DECORATIONS":e===5?"GUTTER_VIEW_ZONE":e===6?"CONTENT_TEXT":e===7?"CONTENT_EMPTY":e===8?"CONTENT_VIEW_ZONE":e===9?"CONTENT_WIDGET":e===10?"OVERVIEW_RULER":e===11?"SCROLLBAR":e===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+JSON.stringify(e.detail)}},rl=class{static isTextArea(e){return e.length===2&&e[0]===3&&e[1]===6}static isChildOfViewLines(e){return e.length>=4&&e[0]===3&&e[3]===7}static isStrictChildOfViewLines(e){return e.length>4&&e[0]===3&&e[3]===7}static isChildOfScrollableElement(e){return e.length>=2&&e[0]===3&&e[1]===5}static isChildOfMinimap(e){return e.length>=2&&e[0]===3&&e[1]===8}static isChildOfContentWidgets(e){return e.length>=4&&e[0]===3&&e[3]===1}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&e[0]===2}static isChildOfOverlayWidgets(e){return e.length>=2&&e[0]===3&&e[1]===4}},Xf=class{constructor(e,t,i){this.viewModel=e.viewModel;let n=e.configuration.options;this.layoutInfo=n.get(131),this.viewDomNode=t.viewDomNode,this.lineHeight=n.get(59),this.stickyTabStops=n.get(104),this.typicalHalfwidthCharacterWidth=n.get(44).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return Xf.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){let i=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(i){let n=i.verticalOffset+i.height/2,o=e.viewModel.getLineCount(),s=null,a,l=null;return i.afterLineNumber!==o&&(l=new V(i.afterLineNumber+1,1)),i.afterLineNumber>0&&(s=new V(i.afterLineNumber,e.viewModel.getLineMaxColumn(i.afterLineNumber))),l===null?a=s:s===null?a=l:t<n?a=s:a=l,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:s,positionAfter:l,position:a}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){let n=this._context.viewModel.getLineCount(),o=this._context.viewModel.getLineMaxColumn(n);return{range:new D(n,o,n,o),isAfterLines:!0}}let t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),i=this._context.viewModel.getLineMaxColumn(t);return{range:new D(t,1,t,i),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return Xf._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,i){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===i)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}},JV=class{constructor(e,t,i,n){this.editorPos=t,this.pos=i,this.relativePos=n,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+this.relativePos.x-e.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<e.layoutInfo.contentLeft&&this.relativePos.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,Ko._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}},qL=class extends JV{constructor(e,t,i,n,o){super(e,t,i,n);this._ctx=e,o?(this.target=o,this.targetPath=wr.collect(o,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(e=null){return e&&e.column<this._ctx.viewModel.getLineMaxColumn(e.lineNumber)?Zi.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(e.lineNumber),e.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(e=null){return Wr.createUnknown(this.target,this._getMouseColumn(e),e)}fulfillTextarea(){return Wr.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(e,t,i,n){return Wr.createMargin(e,this.target,this._getMouseColumn(t),t,i,n)}fulfillViewZone(e,t,i){return Wr.createViewZone(e,this.target,this._getMouseColumn(t),t,i)}fulfillContentText(e,t,i){return Wr.createContentText(this.target,this._getMouseColumn(e),e,t,i)}fulfillContentEmpty(e,t){return Wr.createContentEmpty(this.target,this._getMouseColumn(e),e,t)}fulfillContentWidget(e){return Wr.createContentWidget(this.target,this._getMouseColumn(),e)}fulfillScrollbar(e){return Wr.createScrollbar(this.target,this._getMouseColumn(e),e)}fulfillOverlayWidget(e){return Wr.createOverlayWidget(this.target,this._getMouseColumn(),e)}withTarget(e){return new qL(this._ctx,this.editorPos,this.pos,this.relativePos,e)}},QV={isAfterLines:!0};function oR(r){return{isAfterLines:!1,horizontalDistanceToText:r}}var Ko=class{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){let t=e.target,i=wr.collect(t,this._viewHelper.viewDomNode);return!!(rl.isChildOfContentWidgets(i)||rl.isChildOfOverflowingContentWidgets(i)||rl.isChildOfOverlayWidgets(i))}createMouseTarget(e,t,i,n,o){let s=new Xf(this._context,this._viewHelper,e),a=new qL(s,t,i,n,o);try{return Ko._createMouseTarget(s,a,!1)}catch{return a.fulfillUnknown()}}static _createMouseTarget(e,t,i){if(t.target===null){if(i)return t.fulfillUnknown();let s=Ko._doHitTest(e,t);return s.type===1?Ko.createMouseTargetFromHitTestPosition(e,t,s.spanNode,s.position,s.injectedText):this._createMouseTarget(e,t.withTarget(s.hitTarget),!0)}let n=t,o=null;return o=o||Ko._hitTestContentWidget(e,n),o=o||Ko._hitTestOverlayWidget(e,n),o=o||Ko._hitTestMinimap(e,n),o=o||Ko._hitTestScrollbarSlider(e,n),o=o||Ko._hitTestViewZone(e,n),o=o||Ko._hitTestMargin(e,n),o=o||Ko._hitTestViewCursor(e,n),o=o||Ko._hitTestTextArea(e,n),o=o||Ko._hitTestViewLines(e,n,i),o=o||Ko._hitTestScrollbar(e,n),o||t.fulfillUnknown()}static _hitTestContentWidget(e,t){if(rl.isChildOfContentWidgets(t.targetPath)||rl.isChildOfOverflowingContentWidgets(t.targetPath)){let i=e.findAttribute(t.target,"widgetId");return i?t.fulfillContentWidget(i):t.fulfillUnknown()}return null}static _hitTestOverlayWidget(e,t){if(rl.isChildOfOverlayWidgets(t.targetPath)){let i=e.findAttribute(t.target,"widgetId");return i?t.fulfillOverlayWidget(i):t.fulfillUnknown()}return null}static _hitTestViewCursor(e,t){if(t.target){let i=e.lastRenderData.lastViewCursorsRenderData;for(let n of i)if(t.target===n.domNode)return t.fulfillContentText(n.position,null,{mightBeForeignElement:!1,injectedText:null})}if(t.isInContentArea){let i=e.lastRenderData.lastViewCursorsRenderData,n=t.mouseContentHorizontalOffset,o=t.mouseVerticalOffset;for(let s of i){if(n<s.contentLeft||n>s.contentLeft+s.width)continue;let a=e.getVerticalOffsetForLineNumber(s.position.lineNumber);if(a<=o&&o<=a+s.height)return t.fulfillContentText(s.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(e,t){let i=e.getZoneAtCoord(t.mouseVerticalOffset);if(i){let n=t.isInContentArea?8:5;return t.fulfillViewZone(n,i.position,i)}return null}static _hitTestTextArea(e,t){return rl.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfillContentText(e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):t.fulfillTextarea():null}static _hitTestMargin(e,t){if(t.isInMarginArea){let i=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),n=i.range.getStartPosition(),o=Math.abs(t.relativePos.x),s={isAfterLines:i.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:o};return o-=e.layoutInfo.glyphMarginLeft,o<=e.layoutInfo.glyphMarginWidth?t.fulfillMargin(2,n,i.range,s):(o-=e.layoutInfo.glyphMarginWidth,o<=e.layoutInfo.lineNumbersWidth?t.fulfillMargin(3,n,i.range,s):(o-=e.layoutInfo.lineNumbersWidth,t.fulfillMargin(4,n,i.range,s)))}return null}static _hitTestViewLines(e,t,i){if(!rl.isChildOfViewLines(t.targetPath))return null;if(e.isInTopPadding(t.mouseVerticalOffset))return t.fulfillContentEmpty(new V(1,1),QV);if(e.isAfterLines(t.mouseVerticalOffset)||e.isInBottomPadding(t.mouseVerticalOffset)){let o=e.viewModel.getLineCount(),s=e.viewModel.getLineMaxColumn(o);return t.fulfillContentEmpty(new V(o,s),QV)}if(i){if(rl.isStrictChildOfViewLines(t.targetPath)){let o=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(e.viewModel.getLineLength(o)===0){let a=e.getLineWidth(o),l=oR(t.mouseContentHorizontalOffset-a);return t.fulfillContentEmpty(new V(o,1),l)}let s=e.getLineWidth(o);if(t.mouseContentHorizontalOffset>=s){let a=oR(t.mouseContentHorizontalOffset-s),l=new V(o,e.viewModel.getLineMaxColumn(o));return t.fulfillContentEmpty(l,a)}}return t.fulfillUnknown()}let n=Ko._doHitTest(e,t);return n.type===1?Ko.createMouseTargetFromHitTestPosition(e,t,n.spanNode,n.position,n.injectedText):this._createMouseTarget(e,t.withTarget(n.hitTarget),!0)}static _hitTestMinimap(e,t){if(rl.isChildOfMinimap(t.targetPath)){let i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new V(i,n))}return null}static _hitTestScrollbarSlider(e,t){if(rl.isChildOfScrollableElement(t.targetPath)&&t.target&&t.target.nodeType===1){let i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){let n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.viewModel.getLineMaxColumn(n);return t.fulfillScrollbar(new V(n,o))}}return null}static _hitTestScrollbar(e,t){if(rl.isChildOfScrollableElement(t.targetPath)){let i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new V(i,n))}return null}getMouseColumn(e){let t=this._context.configuration.options,i=t.get(131),n=this._context.viewLayout.getCurrentScrollLeft()+e.x-i.contentLeft;return Ko._getMouseColumn(n,t.get(44).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){return e<0?1:Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,i,n,o){let s=n.lineNumber,a=n.column,l=e.getLineWidth(s);if(t.mouseContentHorizontalOffset>l){let w=oR(t.mouseContentHorizontalOffset-l);return t.fulfillContentEmpty(n,w)}let c=e.visibleRangeForPosition(s,a);if(!c)return t.fulfillUnknown(n);let d=c.left;if(t.mouseContentHorizontalOffset===d)return t.fulfillContentText(n,null,{mightBeForeignElement:!!o,injectedText:o});let h=[];if(h.push({offset:c.left,column:a}),a>1){let w=e.visibleRangeForPosition(s,a-1);w&&h.push({offset:w.left,column:a-1})}let u=e.viewModel.getLineMaxColumn(s);if(a<u){let w=e.visibleRangeForPosition(s,a+1);w&&h.push({offset:w.left,column:a+1})}h.sort((w,y)=>w.offset-y.offset);let f=t.pos.toClientCoordinates(),m=i.getBoundingClientRect(),_=m.left<=f.clientX&&f.clientX<=m.right;for(let w=1;w<h.length;w++){let y=h[w-1],C=h[w];if(y.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=C.offset){let E=new D(s,y.column,s,C.column);return t.fulfillContentText(n,E,{mightBeForeignElement:!_||!!o,injectedText:o})}}return t.fulfillContentText(n,null,{mightBeForeignElement:!_||!!o,injectedText:o})}static _doHitTestWithCaretRangeFromPoint(e,t){let i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.getVerticalOffsetForLineNumber(i)+Math.floor(e.lineHeight/2),s=t.pos.y+(o-t.mouseVerticalOffset);s<=t.editorPos.y&&(s=t.editorPos.y+1),s>=t.editorPos.y+t.editorPos.height&&(s=t.editorPos.y+t.editorPos.height-1);let a=new J0(t.pos.x,s),l=this._actualDoHitTestWithCaretRangeFromPoint(e,a.toClientCoordinates());return l.type===1?l:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,t){let i=nl(e.viewDomNode),n;if(i?typeof i.caretRangeFromPoint>"u"?n=Ahe(i,t.clientX,t.clientY):n=i.caretRangeFromPoint(t.clientX,t.clientY):n=document.caretRangeFromPoint(t.clientX,t.clientY),!n||!n.startContainer)return new ru;let o=n.startContainer;if(o.nodeType===o.TEXT_NODE){let s=o.parentNode,a=s?s.parentNode:null,l=a?a.parentNode:null;return(l&&l.nodeType===l.ELEMENT_NODE?l.className:null)===ol.CLASS_NAME?sp.createFromDOMInfo(e,s,n.startOffset):new ru(o.parentNode)}else if(o.nodeType===o.ELEMENT_NODE){let s=o.parentNode,a=s?s.parentNode:null;return(a&&a.nodeType===a.ELEMENT_NODE?a.className:null)===ol.CLASS_NAME?sp.createFromDOMInfo(e,o,o.textContent.length):new ru(o)}return new ru}static _doHitTestWithCaretPositionFromPoint(e,t){let i=document.caretPositionFromPoint(t.clientX,t.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){let n=i.offsetNode.parentNode,o=n?n.parentNode:null,s=o?o.parentNode:null;return(s&&s.nodeType===s.ELEMENT_NODE?s.className:null)===ol.CLASS_NAME?sp.createFromDOMInfo(e,i.offsetNode.parentNode,i.offset):new ru(i.offsetNode.parentNode)}if(i.offsetNode.nodeType===i.offsetNode.ELEMENT_NODE){let n=i.offsetNode.parentNode,o=n&&n.nodeType===n.ELEMENT_NODE?n.className:null,s=n?n.parentNode:null,a=s&&s.nodeType===s.ELEMENT_NODE?s.className:null;if(o===ol.CLASS_NAME){let l=i.offsetNode.childNodes[Math.min(i.offset,i.offsetNode.childNodes.length-1)];if(l)return sp.createFromDOMInfo(e,l,0)}else if(a===ol.CLASS_NAME)return sp.createFromDOMInfo(e,i.offsetNode,0)}return new ru(i.offsetNode)}static _snapToSoftTabBoundary(e,t){let i=t.getLineContent(e.lineNumber),{tabSize:n}=t.model.getOptions(),o=Zf.atomicPosition(i,e.column-1,n,2);return o!==-1?new V(e.lineNumber,o+1):e}static _doHitTest(e,t){let i=new ru;if(typeof document.caretRangeFromPoint=="function"?i=this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint&&(i=this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates())),i.type===1){let n=e.viewModel.getInjectedTextAt(i.position),o=e.viewModel.normalizePosition(i.position,2);(n||!o.equals(i.position))&&(i=new KL(o,i.spanNode,n))}return i.type===1&&e.stickyTabStops&&(i=new KL(this._snapToSoftTabBoundary(i.position,e.viewModel),i.spanNode,i.injectedText)),i}};function Ahe(r,e,t){let i=document.createRange(),n=r.elementFromPoint(e,t);if(n!==null){for(;n&&n.firstChild&&n.firstChild.nodeType!==n.firstChild.TEXT_NODE&&n.lastChild&&n.lastChild.firstChild;)n=n.lastChild;let o=n.getBoundingClientRect(),s=window.getComputedStyle(n,null).getPropertyValue("font"),a=n.innerText,l=o.left,c=0,d;if(e>o.left+o.width)c=a.length;else{let h=Gf.getInstance();for(let u=0;u<a.length+1;u++){if(d=h.getCharWidth(a.charAt(u),s)/2,l+=d,e<l){c=u;break}l+=d}}i.setStart(n.firstChild,c),i.setEnd(n.firstChild,c)}return i}var Gf=class{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return Gf._INSTANCE||(Gf._INSTANCE=new Gf),Gf._INSTANCE}getCharWidth(e,t){let i=e+t;if(this._cache[i])return this._cache[i];let n=this._canvas.getContext("2d");n.font=t;let s=n.measureText(e).width;return this._cache[i]=s,s}};Gf._INSTANCE=null;lt();mi();function iy(r){return function(e,t){let i=!1;return r&&(i=r.mouseTargetIsWidget(t)),i||t.preventDefault(),t}}var su=class extends Pc{constructor(e,t,i){super();this._context=e,this.viewController=t,this.viewHelper=i,this.mouseTargetFactory=new Ko(this._context,i),this._mouseDownOperation=this._register(new eH(this._context,this.viewController,this.viewHelper,(s,a)=>this._createMouseTarget(s,a),s=>this._getMouseColumn(s))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(131).height;let n=new GA(this.viewHelper.viewDomNode);this._register(n.onContextMenu(this.viewHelper.viewDomNode,s=>this._onContextMenu(s,!0))),this._register(n.onMouseMoveThrottled(this.viewHelper.viewDomNode,s=>this._onMouseMove(s),iy(this.mouseTargetFactory),su.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onMouseUp(this.viewHelper.viewDomNode,s=>this._onMouseUp(s))),this._register(n.onMouseLeave(this.viewHelper.viewDomNode,s=>this._onMouseLeave(s))),this._register(n.onMouseDown(this.viewHelper.viewDomNode,s=>this._onMouseDown(s)));let o=s=>{if(this.viewController.emitMouseWheel(s),!this._context.configuration.options.get(68))return;let a=new Lc(s);if(Je?(s.metaKey||s.ctrlKey)&&!s.shiftKey&&!s.altKey:s.ctrlKey&&!s.metaKey&&!s.shiftKey&&!s.altKey){let c=Ga.getZoomLevel(),d=a.deltaY>0?1:-1;Ga.setZoomLevel(c+d),a.preventDefault(),a.stopPropagation()}};this._register(se(this.viewHelper.viewDomNode,Re.MOUSE_WHEEL,o,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(131)){let t=this._context.configuration.options.get(131).height;this._height!==t&&(this._height=t,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}onScrollChanged(e){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(e,t){let n=new VL(e,t).toPageCoordinates(),o=YA(this.viewHelper.viewDomNode);if(n.y<o.y||n.y>o.y+o.height||n.x<o.x||n.x>o.x+o.width)return null;let s=ZA(this.viewHelper.viewDomNode,o,n);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),o,n,s,null)}_createMouseTarget(e,t){let i=e.target;if(!this.viewHelper.viewDomNode.contains(i)){let n=nl(this.viewHelper.viewDomNode);n&&(i=n.elementsFromPoint(e.posx,e.posy).find(o=>this.viewHelper.viewDomNode.contains(o)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,e.relativePos,t?i:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.relativePos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e){let t=this._createMouseTarget(e,!0),i=t.type===6||t.type===7,n=t.type===2||t.type===3||t.type===4,o=t.type===3,s=this._context.configuration.options.get(98),a=t.type===8||t.type===5,l=t.type===9,c=e.leftButton||e.middleButton;Je&&e.leftButton&&e.ctrlKey&&(c=!1);let d=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(c&&(i||o&&s))d(),this._mouseDownOperation.start(t.type,e);else if(n)e.preventDefault();else if(a){let h=t.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(h.viewZoneId)&&(d(),this._mouseDownOperation.start(t.type,e),e.preventDefault())}else l&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)&&(d(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:t})}};su.MOUSE_MOVE_MINIMUM_TIME=100;var eH=class extends ${constructor(e,t,i,n,o){super();this._context=e,this._viewController=t,this._viewHelper=i,this._createMouseTarget=n,this._getMouseColumn=o,this._mouseMoveMonitor=this._register(new QA(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new mn),this._mouseState=new ny,this._currentSelection=new he(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);let t=this._findMousePosition(e,!0);!t||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))}start(e,t){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(e===3),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);let i=this._findMousePosition(t,!0);if(!i||!i.position)return;this._mouseState.trySetCount(t.detail,i.position),t.detail=this._mouseState.count;let n=this._context.configuration.options;if(!n.get(81)&&n.get(31)&&!n.get(18)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&i.type===6&&i.position&&this._currentSelection.containsPosition(i.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,iy(null),o=>this._onMouseDownThenMove(o),o=>{let s=this._findMousePosition(this._lastMouseEvent,!0);o&&o instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:s?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(i,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,iy(null),o=>this._onMouseDownThenMove(o),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;let e=this._findMousePosition(this._lastMouseEvent,!1);!e||this._mouseState.isDragAndDrop||this._dispatchMouse(e,!0)},10)}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){let t=e.editorPos,i=this._context.viewModel,n=this._context.viewLayout,o=this._getMouseColumn(e);if(e.posy<t.y){let a=Math.max(n.getCurrentScrollTop()-(t.y-e.posy),0),l=Xf.getZoneAtCoord(this._context,a);if(l){let d=this._helpPositionJumpOverViewZone(l);if(d)return Wr.createOutsideEditor(o,d)}let c=n.getLineNumberAtVerticalOffset(a);return Wr.createOutsideEditor(o,new V(c,1))}if(e.posy>t.y+t.height){let a=n.getCurrentScrollTop()+e.relativePos.y,l=Xf.getZoneAtCoord(this._context,a);if(l){let d=this._helpPositionJumpOverViewZone(l);if(d)return Wr.createOutsideEditor(o,d)}let c=n.getLineNumberAtVerticalOffset(a);return Wr.createOutsideEditor(o,new V(c,i.getLineMaxColumn(c)))}let s=n.getLineNumberAtVerticalOffset(n.getCurrentScrollTop()+e.relativePos.y);return e.posx<t.x?Wr.createOutsideEditor(o,new V(s,1)):e.posx>t.x+t.width?Wr.createOutsideEditor(o,new V(s,i.getLineMaxColumn(s))):null}_findMousePosition(e,t){let i=this._getPositionOutsideEditor(e);if(i)return i;let n=this._createMouseTarget(e,t);if(!n.position)return null;if(n.type===8||n.type===5){let s=this._helpPositionJumpOverViewZone(n.detail);if(s)return Wr.createViewZone(n.type,n.element,n.mouseColumn,s,n.detail)}return n}_helpPositionJumpOverViewZone(e){let t=new V(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=e.positionBefore,n=e.positionAfter;return i&&n?i.isBefore(t)?i:n:null}_dispatchMouse(e,t){!e.position||this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:e.type===6&&e.detail.injectedText!==null})}},ny=class{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){let i=new Date().getTime();i-this._lastSetMouseDownCountTime>ny.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=i,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}};ny.CLEAR_MOUSE_DOWN_COUNT_TIME=400;XD();Oo();Be();os();nt();Ee();re();oy();He();He();lt();ye();var Zs=!1,Ao=class{constructor(e,t,i,n,o){this.value=e,this.selectionStart=t,this.selectionEnd=i,this.selectionStartPosition=n,this.selectionEndPosition=o}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(e){return new Ao(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)}collapseSelection(){return new Ao(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(e,t,i){Zs&&console.log(`writeToTextArea ${e}: ${this.toString()}`),t.setValue(e,this.value),i&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){if(e<=this.selectionStart){let n=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,n,-1)}if(e>=this.selectionEnd){let n=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,n,1)}let t=this.value.substring(this.selectionStart,e);if(t.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,t,1);let i=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,i,-1)}_finishDeduceEditorPosition(e,t,i){let n=0,o=-1;for(;(o=t.indexOf(`
`,o+1))!==-1;)n++;return[e,i*t.length,n]}static deduceInput(e,t,i){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};Zs&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${e.toString()}`),console.log(`CURRENT STATE: ${t.toString()}`));let n=Math.min(xc(e.value,t.value),e.selectionStart,t.selectionStart),o=Math.min(Lm(e.value,t.value),e.value.length-e.selectionEnd,t.value.length-t.selectionEnd),s=e.value.substring(n,e.value.length-o),a=t.value.substring(n,t.value.length-o),l=e.selectionStart-n,c=e.selectionEnd-n,d=t.selectionStart-n,h=t.selectionEnd-n;if(Zs&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${s}>, selectionStart: ${l}, selectionEnd: ${c}`),console.log(`AFTER DIFFING CURRENT STATE: <${a}>, selectionStart: ${d}, selectionEnd: ${h}`)),d===h){let f=e.selectionStart-n;return Zs&&console.log(`REMOVE PREVIOUS: ${f} chars`),{text:a,replacePrevCharCnt:f,replaceNextCharCnt:0,positionDelta:0}}let u=c-l;return{text:a,replacePrevCharCnt:u,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(Zs&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${e.toString()}`),console.log(`CURRENT STATE: ${t.toString()}`)),e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};let i=Math.min(xc(e.value,t.value),e.selectionEnd),n=Math.min(Lm(e.value,t.value),e.value.length-e.selectionEnd),o=e.value.substring(i,e.value.length-n),s=t.value.substring(i,t.value.length-n),a=e.selectionStart-i,l=e.selectionEnd-i,c=t.selectionStart-i,d=t.selectionEnd-i;return Zs&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${o}>, selectionStart: ${a}, selectionEnd: ${l}`),console.log(`AFTER DIFFING CURRENT STATE: <${s}>, selectionStart: ${c}, selectionEnd: ${d}`)),{text:s,replacePrevCharCnt:l,replaceNextCharCnt:o.length-l,positionDelta:d-s.length}}};Ao.EMPTY=new Ao("",0,0,null,null);var Qf=class{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){let i=e*t,n=i+1,o=i+t;return new D(n,1,o+1,1)}static fromEditorSelection(e,t,i,n,o){let s=Qf._getPageOfLine(i.startLineNumber,n),a=Qf._getRangeForPage(s,n),l=Qf._getPageOfLine(i.endLineNumber,n),c=Qf._getRangeForPage(l,n),d=a.intersectRanges(new D(1,1,i.startLineNumber,i.startColumn)),h=t.getValueInRange(d,1),u=t.getLineCount(),f=t.getLineMaxColumn(u),m=c.intersectRanges(new D(i.endLineNumber,i.endColumn,u,f)),_=t.getValueInRange(m,1),w;if(s===l||s+1===l)w=t.getValueInRange(i,1);else{let y=a.intersectRanges(i),C=c.intersectRanges(i);w=t.getValueInRange(y,1)+String.fromCharCode(8230)+t.getValueInRange(C,1)}return o&&(h.length>500&&(h=h.substring(h.length-500,h.length)),_.length>500&&(_=_.substring(0,500)),w.length>2*500&&(w=w.substring(0,500)+String.fromCharCode(8230)+w.substring(w.length-500,w.length))),new Ao(h+w+_,h.length,h.length+w.length,new V(i.startLineNumber,i.startColumn),new V(i.endLineNumber,i.endColumn))}};mi();var ry;(function(r){r.Tap="-monaco-textarea-synthetic-tap"})(ry||(ry={}));var sy={forceCopyWithSyntaxHighlighting:!1},ap=class{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}};ap.INSTANCE=new ap;var tH=class{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(e){e=e||"";let t={text:e,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=e.length,t}},aR=class extends ${constructor(e,t,i,n){super();this._host=e,this._textArea=t,this._OS=i,this._browser=n,this._onFocus=this._register(new B),this.onFocus=this._onFocus.event,this._onBlur=this._register(new B),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new B),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new B),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new B),this.onCut=this._onCut.event,this._onPaste=this._register(new B),this.onPaste=this._onPaste.event,this._onType=this._register(new B),this.onType=this._onType.event,this._onCompositionStart=this._register(new B),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new B),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new B),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new B),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new wt(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new wt(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=Ao.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let o=null;this._register(this._textArea.onKeyDown(s=>{let a=new $t(s);(a.keyCode===109||this._currentComposition&&a.keyCode===1)&&a.stopPropagation(),a.equals(9)&&a.preventDefault(),o=a,this._onKeyDown.fire(a)})),this._register(this._textArea.onKeyUp(s=>{let a=new $t(s);this._onKeyUp.fire(a)})),this._register(this._textArea.onCompositionStart(s=>{Zs&&console.log("[compositionstart]",s);let a=new tH;if(this._currentComposition){this._currentComposition=a;return}if(this._currentComposition=a,this._OS===2&&o&&o.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===s.data&&(o.code==="ArrowRight"||o.code==="ArrowLeft")){Zs&&console.log("[compositionstart] Handling long press case on macOS + arrow key",s),a.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:s.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:s.data});return}this._onCompositionStart.fire({data:s.data})})),this._register(this._textArea.onCompositionUpdate(s=>{Zs&&console.log("[compositionupdate]",s);let a=this._currentComposition;if(!a)return;if(this._browser.isAndroid){let c=Ao.readFromTextArea(this._textArea),d=Ao.deduceAndroidCompositionInput(this._textAreaState,c);this._textAreaState=c,this._onType.fire(d),this._onCompositionUpdate.fire(s);return}let l=a.handleCompositionUpdate(s.data);this._textAreaState=Ao.readFromTextArea(this._textArea),this._onType.fire(l),this._onCompositionUpdate.fire(s)})),this._register(this._textArea.onCompositionEnd(s=>{Zs&&console.log("[compositionend]",s);let a=this._currentComposition;if(!a)return;if(this._currentComposition=null,this._browser.isAndroid){let c=Ao.readFromTextArea(this._textArea),d=Ao.deduceAndroidCompositionInput(this._textAreaState,c);this._textAreaState=c,this._onType.fire(d),this._onCompositionEnd.fire();return}let l=a.handleCompositionUpdate(s.data);this._textAreaState=Ao.readFromTextArea(this._textArea),this._onType.fire(l),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(s=>{if(Zs&&console.log("[input]",s),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;let a=Ao.readFromTextArea(this._textArea),l=Ao.deduceInput(this._textAreaState,a,this._OS===2);l.replacePrevCharCnt===0&&l.text.length===1&&Ji(l.text.charCodeAt(0))||(this._textAreaState=a,(l.text!==""||l.replacePrevCharCnt!==0||l.replaceNextCharCnt!==0||l.positionDelta!==0)&&this._onType.fire(l))})),this._register(this._textArea.onCut(s=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(s),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(s=>{this._ensureClipboardGetsEditorSelection(s)})),this._register(this._textArea.onPaste(s=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),s.preventDefault(),!s.clipboardData)return;let[a,l]=sR.getTextData(s.clipboardData);!a||(l=l||ap.INSTANCE.get(a),this._onPaste.fire({text:a,metadata:l}))})),this._register(this._textArea.onFocus(()=>{let s=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!s&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let e=0;return se(document,"selectionchange",t=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;let i=Date.now(),n=i-e;if(e=i,n<5)return;let o=i-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),o<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;let s=this._textArea.getValue();if(this._textAreaState.value!==s)return;let a=this._textArea.getSelectionStart(),l=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===a&&this._textAreaState.selectionEnd===l)return;let c=this._textAreaState.deduceEditorPosition(a),d=this._host.deduceModelPosition(c[0],c[1],c[2]),h=this._textAreaState.deduceEditorPosition(l),u=this._host.deduceModelPosition(h[0],h[1],h[2]),f=new he(d.lineNumber,d.column,u.lineNumber,u.column);this._onSelectionChangeRequest.fire(f)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeScreenReaderContent(e){this._currentComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(e){let t=this._host.getDataToCopy(),i={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};ap.INSTANCE.set(this._browser.isFirefox?t.text.replace(/\r\n/g,`
`):t.text,i),e.preventDefault(),e.clipboardData&&sR.setTextData(e.clipboardData,t.text,t.html,i)}},sR=class{static getTextData(e){let t=e.getData(Ys.text),i=null,n=e.getData("vscode-editor-data");if(typeof n=="string")try{i=JSON.parse(n),i.version!==1&&(i=null)}catch{}return[t,i]}static setTextData(e,t,i,n){e.setData(Ys.text,t),typeof i=="string"&&e.setData("text/html",i),e.setData("vscode-editor-data",JSON.stringify(n))}},lR=class extends ${constructor(e){super();this._actual=e,this.onKeyDown=this._register($l(this._actual,"keydown")).event,this.onKeyUp=this._register($l(this._actual,"keyup")).event,this.onCompositionStart=this._register($l(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register($l(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register($l(this._actual,"compositionend")).event,this.onInput=this._register($l(this._actual,"input")).event,this.onCut=this._register($l(this._actual,"cut")).event,this.onCopy=this._register($l(this._actual,"copy")).event,this.onPaste=this._register($l(this._actual,"paste")).event,this.onFocus=this._register($l(this._actual,"focus")).event,this.onBlur=this._register($l(this._actual,"blur")).event,this._onSyntheticTap=this._register(new B),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(se(this._actual,ry.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){let e=nl(this._actual);return e?e.activeElement===this._actual:Kb(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(e,t){let i=this._actual;i.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=t)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(e,t,i){let n=this._actual,o=null,s=nl(n);s?o=s.activeElement:o=document.activeElement;let a=o===n,l=n.selectionStart,c=n.selectionEnd;if(a&&l===t&&c===i){$n&&window.parent!==window&&n.focus();return}if(a){this.setIgnoreSelectionChangeTime("setSelectionRange"),n.setSelectionRange(t,i),$n&&window.parent!==window&&n.focus();return}try{let d=WU(n);this.setIgnoreSelectionChangeTime("setSelectionRange"),n.focus(),n.setSelectionRange(t,i),UU(n,d)}catch{}}};var iH=class extends su{constructor(e,t,i){super(e,t,i);this._register(zt.addTarget(this.viewHelper.linesContentDomNode)),this._register(se(this.viewHelper.linesContentDomNode,li.Tap,o=>this.onTap(o))),this._register(se(this.viewHelper.linesContentDomNode,li.Change,o=>this.onChange(o))),this._register(se(this.viewHelper.linesContentDomNode,li.Contextmenu,o=>this._onContextMenu(new nu(o,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(se(this.viewHelper.linesContentDomNode,"pointerdown",o=>{let s=o.pointerType;if(s==="mouse"){this._lastPointerType="mouse";return}else s==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));let n=new XA(this.viewHelper.viewDomNode);this._register(n.onPointerMoveThrottled(this.viewHelper.viewDomNode,o=>this._onMouseMove(o),iy(this.mouseTargetFactory),su.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onPointerUp(this.viewHelper.viewDomNode,o=>this._onMouseUp(o))),this._register(n.onPointerLeave(this.viewHelper.viewDomNode,o=>this._onMouseLeave(o))),this._register(n.onPointerDown(this.viewHelper.viewDomNode,o=>this._onMouseDown(o)))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();let t=this._createMouseTarget(new nu(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.dispatchMouse({position:t.position,mouseColumn:t.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:t.type===6&&t.detail.injectedText!==null})}onChange(e){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e){e.browserEvent.pointerType!=="touch"&&super._onMouseDown(e)}},nH=class extends su{constructor(e,t,i){super(e,t,i);this._register(zt.addTarget(this.viewHelper.linesContentDomNode)),this._register(se(this.viewHelper.linesContentDomNode,li.Tap,n=>this.onTap(n))),this._register(se(this.viewHelper.linesContentDomNode,li.Change,n=>this.onChange(n))),this._register(se(this.viewHelper.linesContentDomNode,li.Contextmenu,n=>this._onContextMenu(new nu(n,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();let t=this._createMouseTarget(new nu(e,this.viewHelper.viewDomNode),!1);if(t.position){let i=document.createEvent("CustomEvent");i.initEvent(ry.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(i),this.viewController.moveTo(t.position)}}onChange(e){this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}},cR=class extends ${constructor(e,t,i){super();Jr&&Vm.pointerEvents?this.handler=this._register(new iH(e,t,i)):window.TouchEvent?this.handler=this._register(new nH(e,t,i)):this.handler=this._register(new su(e,t,i))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}};ke();Oo();xt();He();xt();var sl=class extends Pc{};lt();Gs();pt();var au=class extends sl{constructor(e){super();this._context=e,this._readConfig(),this._lastCursorModelPosition=new V(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){let e=this._context.configuration.options;this._lineHeight=e.get(59);let t=e.get(60);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(84);let i=e.get(131);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){let t=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(t);let i=!1;return this._activeLineNumber!==t.lineNumber&&(this._activeLineNumber=t.lineNumber,i=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(i=!0),i}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){let t=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new V(e,1));if(t.column!==1)return"";let i=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(this._renderLineNumbers===2){let n=Math.abs(this._lastCursorModelPosition.lineNumber-i);return n===0?'<span class="relative-current-line-number">'+i+"</span>":String(n)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===i||i%10===0?String(i):"":String(i)}prepareRender(e){if(this._renderLineNumbers===0){this._renderResult=null;return}let t=Fi?this._lineHeight%2===0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o='<div class="'+au.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',s=this._context.viewModel.getLineCount(),a=[];for(let l=i;l<=n;l++){let c=l-i;if(!this._renderFinalNewline&&l===s&&this._context.viewModel.getLineLength(l)===0){a[c]="";continue}let d=this._getLineRenderLineNumber(l);d?l===this._activeLineNumber?a[c]='<div class="active-line-number '+au.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+d+"</div>":a[c]=o+d+"</div>":a[c]=""}this._renderResult=a}render(e,t){if(!this._renderResult)return"";let i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}};au.CLASS_NAME="line-numbers";yt((r,e)=>{let t=r.getColor(ZL);t&&e.addRule(`.monaco-editor .line-numbers { color: ${t}; }`);let i=r.getColor(sH);i&&e.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${i}; }`)});var Ad=class extends An{constructor(e){super(e);let t=this._context.configuration.options,i=t.get(131);this._canUseLayerHinting=!t.get(28),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._domNode=vt(document.createElement("div")),this._domNode.setClassName(Ad.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=vt(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(Ad.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){let t=this._context.configuration.options,i=t.get(131);return this._canUseLayerHinting=!t.get(28),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");let t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);let i=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)}};Ad.CLASS_NAME="glyph-margin";Ad.OUTER_CLASS_NAME="margin";Mb();lt();ye();mi();var Ac="monaco-mouse-cursor-text";cn();Yn();var NH=class{constructor(e,t,i,n,o){this._context=e,this.modelLineNumber=t,this.distanceToModelLineStart=i,this.widthOfHiddenLineTextBefore=n,this.distanceToModelLineEnd=o,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(e){let t=new V(this.modelLineNumber,this.distanceToModelLineStart+1),i=new V(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=e.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=e.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(e){return this._previousPresentation||(e?this._previousPresentation=e:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}},ay=$n,fR=class extends An{constructor(e,t,i){super(e);this._primaryCursorPosition=new V(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._visibleRangeProvider=i,this._scrollLeft=0,this._scrollTop=0;let n=this._context.configuration.options,o=n.get(131);this._setAccessibilityOptions(n),this._contentLeft=o.contentLeft,this._contentWidth=o.contentWidth,this._contentHeight=o.height,this._fontInfo=n.get(44),this._lineHeight=n.get(59),this._emptySelectionClipboard=n.get(32),this._copyWithSyntaxHighlighting=n.get(21),this._visibleTextArea=null,this._selections=[new he(1,1,1,1)],this._modelSelections=[new he(1,1,1,1)],this._lastRenderPosition=null,this.textArea=vt(document.createElement("textarea")),wr.write(this.textArea,6),this.textArea.setClassName(`inputarea ${Ac}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(n)),this.textArea.setAttribute("tabindex",String(n.get(112))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",g("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),n.get(30)&&n.get(81)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=vt(document.createElement("div")),this.textAreaCover.setPosition("absolute");let s={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:c=>this._context.viewModel.getLineMaxColumn(c),getValueInRange:(c,d)=>this._context.viewModel.getValueInRange(c,d)},a={getDataToCopy:()=>{let c=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,Ri),d=this._context.viewModel.model.getEOL(),h=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),u=Array.isArray(c)?c:null,f=Array.isArray(c)?c.join(d):c,m,_=null;if(sy.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&f.length<65536){let w=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);w&&(m=w.html,_=w.mode)}return{isFromEmptySelection:h,multicursorText:u,text:f,html:m,mode:_}},getScreenReaderContent:c=>{if(this._accessibilitySupport===1){if(Je){let d=this._selections[0];if(d.isEmpty()){let h=d.getStartPosition(),u=this._getWordBeforePosition(h);if(u.length===0&&(u=this._getCharacterBeforePosition(h)),u.length>0)return new Ao(u,u.length,u.length,h,h)}}return Ao.EMPTY}if(oM){let d=this._selections[0];if(d.isEmpty()){let h=d.getStartPosition(),[u,f]=this._getAndroidWordAtPosition(h);if(u.length>0)return new Ao(u,f,f,h,h)}return Ao.EMPTY}return Qf.fromEditorSelection(c,s,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(c,d,h)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(c,d,h)},l=this._register(new lR(this.textArea.domNode));this._textAreaInput=this._register(new aR(a,l,ur,Za)),this._register(this._textAreaInput.onKeyDown(c=>{this._viewController.emitKeyDown(c)})),this._register(this._textAreaInput.onKeyUp(c=>{this._viewController.emitKeyUp(c)})),this._register(this._textAreaInput.onPaste(c=>{let d=!1,h=null,u=null;c.metadata&&(d=this._emptySelectionClipboard&&!!c.metadata.isFromEmptySelection,h=typeof c.metadata.multicursorText<"u"?c.metadata.multicursorText:null,u=c.metadata.mode),this._viewController.paste(c.text,d,h,u)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(c=>{c.replacePrevCharCnt||c.replaceNextCharCnt||c.positionDelta?(Zs&&console.log(` => compositionType: <<${c.text}>>, ${c.replacePrevCharCnt}, ${c.replaceNextCharCnt}, ${c.positionDelta}`),this._viewController.compositionType(c.text,c.replacePrevCharCnt,c.replaceNextCharCnt,c.positionDelta)):(Zs&&console.log(` => type: <<${c.text}>>`),this._viewController.type(c.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(c=>{this._viewController.setSelection(c)})),this._register(this._textAreaInput.onCompositionStart(c=>{let d=this.textArea.domNode,h=this._modelSelections[0],{distanceToModelLineStart:u,widthOfHiddenTextBefore:f}=(()=>{let _=d.value.substring(0,Math.min(d.selectionStart,d.selectionEnd)),w=_.lastIndexOf(`
`),y=_.substring(w+1),C=y.lastIndexOf("	"),E=y.length-C-1,L=h.getStartPosition(),k=Math.min(L.column-1,E),M=L.column-1-k,I=y.substring(0,y.length-k),T=Uhe(I,this._fontInfo);return{distanceToModelLineStart:M,widthOfHiddenTextBefore:T}})(),{distanceToModelLineEnd:m}=(()=>{let _=d.value.substring(Math.max(d.selectionStart,d.selectionEnd)),w=_.indexOf(`
`),y=w===-1?_:_.substring(0,w),C=y.indexOf("	"),E=C===-1?y.length:y.length-C-1,L=h.getEndPosition(),k=Math.min(this._context.viewModel.model.getLineMaxColumn(L.lineNumber)-L.column,E);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(L.lineNumber)-L.column-k}})();this._context.viewModel.revealRange("keyboard",!0,D.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new NH(this._context,h.startLineNumber,u,f,m),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${Ac} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(c=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${Ac}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(e){let t='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',i=this._context.viewModel.getLineContent(e.lineNumber),n=Br(t),o=!0,s=e.column,a=!0,l=e.column,c=0;for(;c<50&&(o||a);){if(o&&s<=1&&(o=!1),o){let d=i.charCodeAt(s-2);n.get(d)!==0?o=!1:s--}if(a&&l>i.length&&(a=!1),a){let d=i.charCodeAt(l-1);n.get(d)!==0?a=!1:l++}c++}return[i.substring(s-1,l-1),e.column-s]}_getWordBeforePosition(e){let t=this._context.viewModel.getLineContent(e.lineNumber),i=Br(this._context.configuration.options.get(117)),n=e.column,o=0;for(;n>1;){let s=t.charCodeAt(n-2);if(i.get(s)!==0||o>50)return t.substring(n-1,e.column-1);o++,n--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){let i=this._context.viewModel.getLineContent(e.lineNumber).charAt(e.column-2);if(!Ji(i.charCodeAt(0)))return i}return""}_getAriaLabel(e){return e.get(2)===1?g("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",Fi?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);let t=e.get(3);this._accessibilitySupport===2&&t===vs.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=t}onConfigurationChanged(e){let t=this._context.configuration.options,i=t.get(131);return this._setAccessibilityOptions(t),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=t.get(44),this._lineHeight=t.get(59),this._emptySelectionClipboard=t.get(32),this._copyWithSyntaxHighlighting=t.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("tabindex",String(t.get(112))),(e.hasChanged(30)||e.hasChanged(81))&&(t.get(30)&&t.get(81)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}prepareRender(e){this._primaryCursorPosition=new V(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition),this._visibleTextArea&&this._visibleTextArea.prepareRender(e)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){let i=this._visibleTextArea.visibleTextareaStart,n=this._visibleTextArea.visibleTextareaEnd,o=this._visibleTextArea.startPosition,s=this._visibleTextArea.endPosition;if(o&&s&&i&&n&&n.left>=this._scrollLeft&&i.left<=this._scrollLeft+this._contentWidth){let a=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,l=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart)),c=this._visibleTextArea.widthOfHiddenLineTextBefore,d=this._contentLeft+i.left-this._scrollLeft,h=n.left-i.left+1;if(d<this._contentLeft){let y=this._contentLeft-d;d+=y,c+=y,h-=y}h>this._contentWidth&&(h=this._contentWidth);let u=this._context.viewModel.getViewLineData(o.lineNumber),f=u.tokens.findTokenIndexAtOffset(o.column-1),m=u.tokens.findTokenIndexAtOffset(s.column-1),_=f===m,w=this._visibleTextArea.definePresentation(_?u.tokens.getPresentation(f):null);this.textArea.domNode.scrollTop=l*this._lineHeight,this.textArea.domNode.scrollLeft=c,this._doRender({lastRenderPosition:null,top:a,left:d,width:h,height:this._lineHeight,useCover:!1,color:(bi.getColorMap()||[])[w.foreground],italic:w.italic,bold:w.bold,underline:w.underline,strikethrough:w.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}let e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}let t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(t<0||t>this._contentHeight){this._renderAtTopLeft();return}if(Je){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:t,left:e,width:ay?0:1,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;let i=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=i*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:t,left:e,width:ay?0:1,height:ay?0:1,useCover:!1})}_newlinecount(e){let t=0,i=-1;do{if(i=e.indexOf(`
`,i+1),i===-1)break;t++}while(!0);return t}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:ay?0:1,height:ay?0:1,useCover:!0})}_doRender(e){this._lastRenderPosition=e.lastRenderPosition;let t=this.textArea,i=this.textAreaCover;Cn(t,this._fontInfo),t.setTop(e.top),t.setLeft(e.left),t.setWidth(e.width),t.setHeight(e.height),t.setColor(e.color?X.Format.CSS.formatHex(e.color):""),t.setFontStyle(e.italic?"italic":""),e.bold&&t.setFontWeight("bold"),t.setTextDecoration(`${e.underline?" underline":""}${e.strikethrough?" line-through":""}`),i.setTop(e.useCover?e.top:0),i.setLeft(e.useCover?e.left:0),i.setWidth(e.useCover?e.width:0),i.setHeight(e.useCover?e.height:0);let n=this._context.configuration.options;n.get(50)?i.setClassName("monaco-editor-background textAreaCover "+Ad.OUTER_CLASS_NAME):n.get(60).renderType!==0?i.setClassName("monaco-editor-background textAreaCover "+au.CLASS_NAME):i.setClassName("monaco-editor-background textAreaCover")}};function Uhe(r,e){if(r.length===0)return 0;let t=document.createElement("div");t.style.position="absolute",t.style.top="-50000px",t.style.width="50000px";let i=document.createElement("span");Cn(i,e),i.style.whiteSpace="pre",i.append(r),t.appendChild(i),document.body.appendChild(t);let n=i.offsetWidth;return document.body.removeChild(t),n}ke();Oo();ai();xs();kt();io();lt();ye();mi();Eb();Mc();ok();var Vhe=()=>!0,Hhe=()=>!1,$he=r=>r===" "||r==="	",Jf=class{constructor(e,t,i,n){this.languageConfigurationService=n,this._cursorMoveConfigurationBrand=void 0,this._languageId=e;let o=i.options,s=o.get(131);this.readOnly=o.get(81),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=o.get(104),this.lineHeight=o.get(59),this.pageSize=Math.max(1,Math.floor(s.height/this.lineHeight)-2),this.useTabStops=o.get(116),this.wordSeparators=o.get(117),this.emptySelectionClipboard=o.get(32),this.copyWithSyntaxHighlighting=o.get(21),this.multiCursorMergeOverlapping=o.get(69),this.multiCursorPaste=o.get(71),this.autoClosingBrackets=o.get(5),this.autoClosingQuotes=o.get(8),this.autoClosingDelete=o.get(6),this.autoClosingOvertype=o.get(7),this.autoSurround=o.get(11),this.autoIndent=o.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(e,this.autoClosingQuotes),bracket:this._getShouldAutoClose(e,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(e).getAutoClosingPairs();let a=this.languageConfigurationService.getLanguageConfiguration(e).getSurroundingPairs();if(a)for(let l of a)this.surroundingPairs[l.open]=l.close}static shouldRecreate(e){return e.hasChanged(131)||e.hasChanged(117)||e.hasChanged(32)||e.hasChanged(69)||e.hasChanged(71)||e.hasChanged(5)||e.hasChanged(8)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(116)||e.hasChanged(59)||e.hasChanged(81)}get electricChars(){var e;if(!this._electricChars){this._electricChars={};let t=(e=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||e===void 0?void 0:e.getElectricCharacters();if(t)for(let i of t)this._electricChars[i]=!0}return this._electricChars}onElectricCharacter(e,t,i){let n=Im(t,i-1),o=this.languageConfigurationService.getLanguageConfiguration(n.languageId).electricCharacter;return o?o.onElectricCharacter(e,n,i-n.firstCharOffset):null}normalizeIndentation(e){return cp(e,this.indentSize,this.insertSpaces)}_getShouldAutoClose(e,t){switch(t){case"beforeWhitespace":return $he;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(e);case"always":return Vhe;case"never":return Hhe}}_getLanguageDefinedShouldAutoClose(e){let t=this.languageConfigurationService.getLanguageConfiguration(e).getAutoCloseBeforeSet();return i=>t.indexOf(i)!==-1}visibleColumnFromColumn(e,t){return Zi.visibleColumnFromColumn(e.getLineContent(t.lineNumber),t.column,this.tabSize)}columnFromVisibleColumn(e,t,i){let n=Zi.columnFromVisibleColumn(e.getLineContent(t),i,this.tabSize),o=e.getLineMinColumn(t);if(n<o)return o;let s=e.getLineMaxColumn(t);return n>s?s:n}},It=class{constructor(e,t){this._cursorStateBrand=void 0,this.modelState=e,this.viewState=t}static fromModelState(e){return new PH(e)}static fromViewState(e){return new MH(e)}static fromModelSelection(e){let t=he.liftSelection(e),i=new Rn(D.fromPositions(t.getSelectionStart()),0,t.getPosition(),0);return It.fromModelState(i)}static fromModelSelections(e){let t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this.fromModelSelection(e[i]);return t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}},PH=class{constructor(e){this.modelState=e,this.viewState=null}},MH=class{constructor(e){this.modelState=null,this.viewState=e}},Rn=class{constructor(e,t,i,n){this._singleCursorStateBrand=void 0,this.selectionStart=e,this.selectionStartLeftoverVisibleColumns=t,this.position=i,this.leftoverVisibleColumns=n,this.selection=Rn._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,i,n){return e?new Rn(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new V(t,i),n):new Rn(new D(t,i,t,i),n,new V(t,i),n)}static _computeSelection(e,t){return e.isEmpty()||!t.isBeforeOrEqual(e.getStartPosition())?he.fromPositions(e.getStartPosition(),t):he.fromPositions(e.getEndPosition(),t)}},Cr=class{constructor(e,t,i){this._editOperationResultBrand=void 0,this.type=e,this.commands=t,this.shouldPushStackElementBefore=i.shouldPushStackElementBefore,this.shouldPushStackElementAfter=i.shouldPushStackElementAfter}};function eg(r){return r==="'"||r==='"'||r==="`"}lt();ye();var lu=class{static columnSelect(e,t,i,n,o,s){let a=Math.abs(o-i)+1,l=i>o,c=n>s,d=n<s,h=[];for(let u=0;u<a;u++){let f=i+(l?-u:u),m=e.columnFromVisibleColumn(t,f,n),_=e.columnFromVisibleColumn(t,f,s),w=e.visibleColumnFromColumn(t,new V(f,m)),y=e.visibleColumnFromColumn(t,new V(f,_));d&&(w>s||y<n)||c&&(y>n||w<s)||h.push(new Rn(new D(f,m,f,m),0,new V(f,_),0))}if(h.length===0)for(let u=0;u<a;u++){let f=i+(l?-u:u),m=t.getLineMaxColumn(f);h.push(new Rn(new D(f,m,f,m),0,new V(f,m),0))}return{viewStates:h,reversed:l,fromLineNumber:i,fromVisualColumn:n,toLineNumber:o,toVisualColumn:s}}static columnSelectLeft(e,t,i){let n=i.toViewVisualColumn;return n>0&&n--,lu.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,n)}static columnSelectRight(e,t,i){let n=0,o=Math.min(i.fromViewLineNumber,i.toViewLineNumber),s=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let l=o;l<=s;l++){let c=t.getLineMaxColumn(l),d=e.visibleColumnFromColumn(t,new V(l,c));n=Math.max(n,d)}let a=i.toViewVisualColumn;return a<n&&a++,this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,a)}static columnSelectUp(e,t,i,n){let o=n?e.pageSize:1,s=Math.max(1,i.toViewLineNumber-o);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,s,i.toViewVisualColumn)}static columnSelectDown(e,t,i,n){let o=n?e.pageSize:1,s=Math.min(t.getLineCount(),i.toViewLineNumber+o);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,s,i.toViewVisualColumn)}};He();mi();var Fn=class{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return he.fromPositions(n.getEndPosition())}},gR=class{constructor(e,t){this._range=e,this._text=t}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return he.fromRange(n,0)}},mv=class{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return he.fromPositions(n.getStartPosition())}},pv=class{constructor(e,t,i,n,o=!1){this._range=e,this._text=t,this._columnDeltaOffset=n,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=o}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return he.fromPositions(n.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}},dp=class{constructor(e,t,i,n=!1){this._range=e,this._text=t,this._initialSelection=i,this._forceMoveMarkers=n,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}};Mc();Mc();lt();ye();He();var rk=class{constructor(e,t,i){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=i}},Jt=class{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-eM(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){let i=t.lineNumber-1;return new V(i,e.getLineMaxColumn(i))}else return t}static leftPositionAtomicSoftTabs(e,t,i){if(t.column<=e.getLineIndentColumn(t.lineNumber)){let n=e.getLineMinColumn(t.lineNumber),o=e.getLineContent(t.lineNumber),s=Zf.atomicPosition(o,t.column-1,i,0);if(s!==-1&&s+1>=n)return new V(t.lineNumber,s+1)}return this.leftPosition(e,t)}static left(e,t,i){let n=e.stickyTabStops?Jt.leftPositionAtomicSoftTabs(t,i,e.tabSize):Jt.leftPosition(t,i);return new rk(n.lineNumber,n.column,0)}static moveLeft(e,t,i,n,o){let s,a;if(i.hasSelection()&&!n)s=i.selection.startLineNumber,a=i.selection.startColumn;else{let l=i.position.delta(void 0,-(o-1)),c=t.normalizePosition(Jt.clipPositionColumn(l,t),0),d=Jt.left(e,t,c);s=d.lineNumber,a=d.column}return i.move(n,s,a,0)}static clipPositionColumn(e,t){return new V(e.lineNumber,Jt.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,i){return e<t?t:e>i?i:e}static rightPosition(e,t,i){return i<e.getLineMaxColumn(t)?i=i+GC(e.getLineContent(t),i-1):t<e.getLineCount()&&(t=t+1,i=e.getLineMinColumn(t)),new V(t,i)}static rightPositionAtomicSoftTabs(e,t,i,n,o){if(i<e.getLineIndentColumn(t)){let s=e.getLineContent(t),a=Zf.atomicPosition(s,i-1,n,1);if(a!==-1)return new V(t,a+1)}return this.rightPosition(e,t,i)}static right(e,t,i){let n=e.stickyTabStops?Jt.rightPositionAtomicSoftTabs(t,i.lineNumber,i.column,e.tabSize,e.indentSize):Jt.rightPosition(t,i.lineNumber,i.column);return new rk(n.lineNumber,n.column,0)}static moveRight(e,t,i,n,o){let s,a;if(i.hasSelection()&&!n)s=i.selection.endLineNumber,a=i.selection.endColumn;else{let l=i.position.delta(void 0,o-1),c=t.normalizePosition(Jt.clipPositionColumn(l,t),1),d=Jt.right(e,t,c);s=d.lineNumber,a=d.column}return i.move(n,s,a,0)}static vertical(e,t,i,n,o,s,a,l){let c=Zi.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize)+o,d=t.getLineCount(),h=i===1&&n===1,u=i===d&&n===t.getLineMaxColumn(i),f=s<i?h:u;if(i=s,i<1?(i=1,a?n=t.getLineMinColumn(i):n=Math.min(t.getLineMaxColumn(i),n)):i>d?(i=d,a?n=t.getLineMaxColumn(i):n=Math.min(t.getLineMaxColumn(i),n)):n=e.columnFromVisibleColumn(t,i,c),f?o=0:o=c-Zi.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize),l!==void 0){let m=new V(i,n),_=t.normalizePosition(m,l);o=o+(n-_.column),i=_.lineNumber,n=_.column}return new rk(i,n,o)}static down(e,t,i,n,o,s,a){return this.vertical(e,t,i,n,o,i+s,a,1)}static moveDown(e,t,i,n,o){let s,a;i.hasSelection()&&!n?(s=i.selection.endLineNumber,a=i.selection.endColumn):(s=i.position.lineNumber,a=i.position.column);let l=Jt.down(e,t,s,a,i.leftoverVisibleColumns,o,!0);return i.move(n,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateDown(e,t,i){let n=i.selection,o=Jt.down(e,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),s=Jt.down(e,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new Rn(new D(o.lineNumber,o.column,o.lineNumber,o.column),o.leftoverVisibleColumns,new V(s.lineNumber,s.column),s.leftoverVisibleColumns)}static up(e,t,i,n,o,s,a){return this.vertical(e,t,i,n,o,i-s,a,0)}static moveUp(e,t,i,n,o){let s,a;i.hasSelection()&&!n?(s=i.selection.startLineNumber,a=i.selection.startColumn):(s=i.position.lineNumber,a=i.position.column);let l=Jt.up(e,t,s,a,i.leftoverVisibleColumns,o,!0);return i.move(n,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateUp(e,t,i){let n=i.selection,o=Jt.up(e,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),s=Jt.up(e,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new Rn(new D(o.lineNumber,o.column,o.lineNumber,o.column),o.leftoverVisibleColumns,new V(s.lineNumber,s.column),s.leftoverVisibleColumns)}static _isBlankLine(e,t){return e.getLineFirstNonWhitespaceColumn(t)===0}static moveToPrevBlankLine(e,t,i,n){let o=i.position.lineNumber;for(;o>1&&this._isBlankLine(t,o);)o--;for(;o>1&&!this._isBlankLine(t,o);)o--;return i.move(n,o,t.getLineMinColumn(o),0)}static moveToNextBlankLine(e,t,i,n){let o=t.getLineCount(),s=i.position.lineNumber;for(;s<o&&this._isBlankLine(t,s);)s++;for(;s<o&&!this._isBlankLine(t,s);)s++;return i.move(n,s,t.getLineMinColumn(s),0)}static moveToBeginningOfLine(e,t,i,n){let o=i.position.lineNumber,s=t.getLineMinColumn(o),a=t.getLineFirstNonWhitespaceColumn(o)||s,l;return i.position.column===a?l=s:l=a,i.move(n,o,l,0)}static moveToEndOfLine(e,t,i,n,o){let s=i.position.lineNumber,a=t.getLineMaxColumn(s);return i.move(n,s,a,o?1073741824-a:0)}static moveToBeginningOfBuffer(e,t,i,n){return i.move(n,1,1,0)}static moveToEndOfBuffer(e,t,i,n){let o=t.getLineCount(),s=t.getLineMaxColumn(o);return i.move(n,o,s,0)}};ye();lt();var Rc=class{static deleteRight(e,t,i,n){let o=[],s=e!==3;for(let a=0,l=n.length;a<l;a++){let c=n[a],d=c;if(d.isEmpty()){let h=c.getPosition(),u=Jt.right(t,i,h);d=new D(u.lineNumber,u.column,h.lineNumber,h.column)}if(d.isEmpty()){o[a]=null;continue}d.startLineNumber!==d.endLineNumber&&(s=!0),o[a]=new Fn(d,"")}return[s,o]}static isAutoClosingPairDelete(e,t,i,n,o,s,a){if(t==="never"&&i==="never"||e==="never")return!1;for(let l=0,c=s.length;l<c;l++){let d=s[l],h=d.getPosition();if(!d.isEmpty())return!1;let u=o.getLineContent(h.lineNumber);if(h.column<2||h.column>=u.length+1)return!1;let f=u.charAt(h.column-2),m=n.get(f);if(!m)return!1;if(eg(f)){if(i==="never")return!1}else if(t==="never")return!1;let _=u.charAt(h.column-1),w=!1;for(let y of m)y.open===f&&y.close===_&&(w=!0);if(!w)return!1;if(e==="auto"){let y=!1;for(let C=0,E=a.length;C<E;C++){let L=a[C];if(h.lineNumber===L.startLineNumber&&h.column===L.startColumn){y=!0;break}}if(!y)return!1}}return!0}static _runAutoClosingPairDelete(e,t,i){let n=[];for(let o=0,s=i.length;o<s;o++){let a=i[o].getPosition(),l=new D(a.lineNumber,a.column-1,a.lineNumber,a.column+1);n[o]=new Fn(l,"")}return[!0,n]}static deleteLeft(e,t,i,n,o){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,i,n,o))return this._runAutoClosingPairDelete(t,i,n);let s=[],a=e!==2;for(let l=0,c=n.length;l<c;l++){let d=Rc.getDeleteRange(n[l],i,t);if(d.isEmpty()){s[l]=null;continue}d.startLineNumber!==d.endLineNumber&&(a=!0),s[l]=new Fn(d,"")}return[a,s]}static getDeleteRange(e,t,i){if(!e.isEmpty())return e;let n=e.getPosition();if(i.useTabStops&&n.column>1){let o=t.getLineContent(n.lineNumber),s=wn(o),a=s===-1?o.length+1:s+1;if(n.column<=a){let l=i.visibleColumnFromColumn(t,n),c=Zi.prevIndentTabStop(l,i.indentSize),d=i.columnFromVisibleColumn(t,n.lineNumber,c);return new D(n.lineNumber,d,n.lineNumber,n.column)}}return D.fromPositions(Rc.getPositionAfterDeleteLeft(n,t),n)}static getPositionAfterDeleteLeft(e,t){if(e.column>1){let i=lW(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,i+1)}else if(e.lineNumber>1){let i=e.lineNumber-1;return new V(i,t.getLineMaxColumn(i))}else return e}static cut(e,t,i){let n=[],o=null;i.sort((s,a)=>V.compare(s.getStartPosition(),a.getEndPosition()));for(let s=0,a=i.length;s<a;s++){let l=i[s];if(l.isEmpty())if(e.emptySelectionClipboard){let c=l.getPosition(),d,h,u,f;c.lineNumber<t.getLineCount()?(d=c.lineNumber,h=1,u=c.lineNumber+1,f=1):c.lineNumber>1&&o?.endLineNumber!==c.lineNumber?(d=c.lineNumber-1,h=t.getLineMaxColumn(c.lineNumber-1),u=c.lineNumber,f=t.getLineMaxColumn(c.lineNumber)):(d=c.lineNumber,h=1,u=c.lineNumber,f=t.getLineMaxColumn(c.lineNumber));let m=new D(d,h,u,f);o=m,m.isEmpty()?n[s]=null:n[s]=new Fn(m,"")}else n[s]=null;else n[s]=new Fn(l,"")}return new Cr(0,n,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}};ai();He();Mb();lt();ye();var Xt=class{static _createWord(e,t,i,n,o){return{start:n,end:o,wordType:t,nextCharClass:i}}static _findPreviousWordOnLine(e,t,i){let n=t.getLineContent(i.lineNumber);return this._doFindPreviousWordOnLine(n,e,i)}static _doFindPreviousWordOnLine(e,t,i){let n=0;for(let o=i.column-2;o>=0;o--){let s=e.charCodeAt(o),a=t.get(s);if(a===0){if(n===2)return this._createWord(e,n,a,o+1,this._findEndOfWord(e,t,n,o+1));n=1}else if(a===2){if(n===1)return this._createWord(e,n,a,o+1,this._findEndOfWord(e,t,n,o+1));n=2}else if(a===1&&n!==0)return this._createWord(e,n,a,o+1,this._findEndOfWord(e,t,n,o+1))}return n!==0?this._createWord(e,n,1,0,this._findEndOfWord(e,t,n,0)):null}static _findEndOfWord(e,t,i,n){let o=e.length;for(let s=n;s<o;s++){let a=e.charCodeAt(s),l=t.get(a);if(l===1||i===1&&l===2||i===2&&l===0)return s}return o}static _findNextWordOnLine(e,t,i){let n=t.getLineContent(i.lineNumber);return this._doFindNextWordOnLine(n,e,i)}static _doFindNextWordOnLine(e,t,i){let n=0,o=e.length;for(let s=i.column-1;s<o;s++){let a=e.charCodeAt(s),l=t.get(a);if(l===0){if(n===2)return this._createWord(e,n,l,this._findStartOfWord(e,t,n,s-1),s);n=1}else if(l===2){if(n===1)return this._createWord(e,n,l,this._findStartOfWord(e,t,n,s-1),s);n=2}else if(l===1&&n!==0)return this._createWord(e,n,l,this._findStartOfWord(e,t,n,s-1),s)}return n!==0?this._createWord(e,n,1,this._findStartOfWord(e,t,n,o-1),o):null}static _findStartOfWord(e,t,i,n){for(let o=n;o>=0;o--){let s=e.charCodeAt(o),a=t.get(s);if(a===1||i===1&&a===2||i===2&&a===0)return o+1}return 0}static moveWordLeft(e,t,i,n){let o=i.lineNumber,s=i.column;s===1&&o>1&&(o=o-1,s=t.getLineMaxColumn(o));let a=Xt._findPreviousWordOnLine(e,t,new V(o,s));if(n===0)return new V(o,a?a.start+1:1);if(n===1)return a&&a.wordType===2&&a.end-a.start===1&&a.nextCharClass===0&&(a=Xt._findPreviousWordOnLine(e,t,new V(o,a.start+1))),new V(o,a?a.start+1:1);if(n===3){for(;a&&a.wordType===2;)a=Xt._findPreviousWordOnLine(e,t,new V(o,a.start+1));return new V(o,a?a.start+1:1)}return a&&s<=a.end+1&&(a=Xt._findPreviousWordOnLine(e,t,new V(o,a.start+1))),new V(o,a?a.end+1:1)}static _moveWordPartLeft(e,t){let i=t.lineNumber,n=e.getLineMaxColumn(i);if(t.column===1)return i>1?new V(i-1,e.getLineMaxColumn(i-1)):t;let o=e.getLineContent(i);for(let s=t.column-1;s>1;s--){let a=o.charCodeAt(s-2),l=o.charCodeAt(s-1);if(a===95&&l!==95)return new V(i,s);if(md(a)&&qa(l))return new V(i,s);if(qa(a)&&qa(l)&&s+1<n){let c=o.charCodeAt(s);if(md(c))return new V(i,s)}}return new V(i,1)}static moveWordRight(e,t,i,n){let o=i.lineNumber,s=i.column,a=!1;s===t.getLineMaxColumn(o)&&o<t.getLineCount()&&(a=!0,o=o+1,s=1);let l=Xt._findNextWordOnLine(e,t,new V(o,s));if(n===2)l&&l.wordType===2&&l.end-l.start===1&&l.nextCharClass===0&&(l=Xt._findNextWordOnLine(e,t,new V(o,l.end+1))),l?s=l.end+1:s=t.getLineMaxColumn(o);else if(n===3){for(a&&(s=0);l&&(l.wordType===2||l.start+1<=s);)l=Xt._findNextWordOnLine(e,t,new V(o,l.end+1));l?s=l.start+1:s=t.getLineMaxColumn(o)}else l&&!a&&s>=l.start+1&&(l=Xt._findNextWordOnLine(e,t,new V(o,l.end+1))),l?s=l.start+1:s=t.getLineMaxColumn(o);return new V(o,s)}static _moveWordPartRight(e,t){let i=t.lineNumber,n=e.getLineMaxColumn(i);if(t.column===n)return i<e.getLineCount()?new V(i+1,1):t;let o=e.getLineContent(i);for(let s=t.column+1;s<n;s++){let a=o.charCodeAt(s-2),l=o.charCodeAt(s-1);if(a!==95&&l===95)return new V(i,s);if(md(a)&&qa(l))return new V(i,s);if(qa(a)&&qa(l)&&s+1<n){let c=o.charCodeAt(s);if(md(c))return new V(i,s)}}return new V(i,n)}static _deleteWordLeftWhitespace(e,t){let i=e.getLineContent(t.lineNumber),n=t.column-2,o=Mr(i,n);return o+1<n?new D(t.lineNumber,o+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){let i=e.wordSeparators,n=e.model,o=e.selection,s=e.whitespaceHeuristics;if(!o.isEmpty())return o;if(Rc.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){let h=e.selection.getPosition();return new D(h.lineNumber,h.column-1,h.lineNumber,h.column+1)}let a=new V(o.positionLineNumber,o.positionColumn),l=a.lineNumber,c=a.column;if(l===1&&c===1)return null;if(s){let h=this._deleteWordLeftWhitespace(n,a);if(h)return h}let d=Xt._findPreviousWordOnLine(i,n,a);return t===0?d?c=d.start+1:c>1?c=1:(l--,c=n.getLineMaxColumn(l)):(d&&c<=d.end+1&&(d=Xt._findPreviousWordOnLine(i,n,new V(l,d.start+1))),d?c=d.end+1:c>1?c=1:(l--,c=n.getLineMaxColumn(l))),new D(l,c,a.lineNumber,a.column)}static deleteInsideWord(e,t,i){if(!i.isEmpty())return i;let n=new V(i.positionLineNumber,i.positionColumn),o=this._deleteInsideWordWhitespace(t,n);return o||this._deleteInsideWordDetermineDeleteRange(e,t,n)}static _charAtIsWhitespace(e,t){let i=e.charCodeAt(t);return i===32||i===9}static _deleteInsideWordWhitespace(e,t){let i=e.getLineContent(t.lineNumber),n=i.length;if(n===0)return null;let o=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(i,o))return null;let s=Math.min(t.column-1,n-1);if(!this._charAtIsWhitespace(i,s))return null;for(;o>0&&this._charAtIsWhitespace(i,o-1);)o--;for(;s+1<n&&this._charAtIsWhitespace(i,s+1);)s++;return new D(t.lineNumber,o+1,t.lineNumber,s+2)}static _deleteInsideWordDetermineDeleteRange(e,t,i){let n=t.getLineContent(i.lineNumber),o=n.length;if(o===0)return i.lineNumber>1?new D(i.lineNumber-1,t.getLineMaxColumn(i.lineNumber-1),i.lineNumber,1):i.lineNumber<t.getLineCount()?new D(i.lineNumber,1,i.lineNumber+1,1):new D(i.lineNumber,1,i.lineNumber,1);let s=h=>h.start+1<=i.column&&i.column<=h.end+1,a=(h,u)=>(h=Math.min(h,i.column),u=Math.max(u,i.column),new D(i.lineNumber,h,i.lineNumber,u)),l=h=>{let u=h.start+1,f=h.end+1,m=!1;for(;f-1<o&&this._charAtIsWhitespace(n,f-1);)m=!0,f++;if(!m)for(;u>1&&this._charAtIsWhitespace(n,u-2);)u--;return a(u,f)},c=Xt._findPreviousWordOnLine(e,t,i);if(c&&s(c))return l(c);let d=Xt._findNextWordOnLine(e,t,i);return d&&s(d)?l(d):c&&d?a(c.end+1,d.start+1):c?a(c.start+1,c.end+1):d?a(d.start+1,d.end+1):a(1,o+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;let i=t.getPosition(),n=Xt._moveWordPartLeft(e,i);return new D(i.lineNumber,i.column,n.lineNumber,n.column)}static _findFirstNonWhitespaceChar(e,t){let i=e.length;for(let n=t;n<i;n++){let o=e.charAt(n);if(o!==" "&&o!=="	")return n}return i}static _deleteWordRightWhitespace(e,t){let i=e.getLineContent(t.lineNumber),n=t.column-1,o=this._findFirstNonWhitespaceChar(i,n);return n+1<o?new D(t.lineNumber,t.column,t.lineNumber,o+1):null}static deleteWordRight(e,t){let i=e.wordSeparators,n=e.model,o=e.selection,s=e.whitespaceHeuristics;if(!o.isEmpty())return o;let a=new V(o.positionLineNumber,o.positionColumn),l=a.lineNumber,c=a.column,d=n.getLineCount(),h=n.getLineMaxColumn(l);if(l===d&&c===h)return null;if(s){let f=this._deleteWordRightWhitespace(n,a);if(f)return f}let u=Xt._findNextWordOnLine(i,n,a);return t===2?u?c=u.end+1:c<h||l===d?c=h:(l++,u=Xt._findNextWordOnLine(i,n,new V(l,1)),u?c=u.start+1:c=n.getLineMaxColumn(l)):(u&&c>=u.start+1&&(u=Xt._findNextWordOnLine(i,n,new V(l,u.end+1))),u?c=u.start+1:c<h||l===d?c=h:(l++,u=Xt._findNextWordOnLine(i,n,new V(l,1)),u?c=u.start+1:c=n.getLineMaxColumn(l))),new D(l,c,a.lineNumber,a.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;let i=t.getPosition(),n=Xt._moveWordPartRight(e,i);return new D(i.lineNumber,i.column,n.lineNumber,n.column)}static _createWordAtPosition(e,t,i){let n=new D(t,i.start+1,t,i.end+1);return{word:e.getValueInRange(n),startColumn:n.startColumn,endColumn:n.endColumn}}static getWordAtPosition(e,t,i){let n=Br(t),o=Xt._findPreviousWordOnLine(n,e,i);if(o&&o.wordType===1&&o.start<=i.column-1&&i.column-1<=o.end)return Xt._createWordAtPosition(e,i.lineNumber,o);let s=Xt._findNextWordOnLine(n,e,i);return s&&s.wordType===1&&s.start<=i.column-1&&i.column-1<=s.end?Xt._createWordAtPosition(e,i.lineNumber,s):null}static word(e,t,i,n,o){let s=Br(e.wordSeparators),a=Xt._findPreviousWordOnLine(s,t,o),l=Xt._findNextWordOnLine(s,t,o);if(!n){let f,m;return a&&a.wordType===1&&a.start<=o.column-1&&o.column-1<=a.end?(f=a.start+1,m=a.end+1):l&&l.wordType===1&&l.start<=o.column-1&&o.column-1<=l.end?(f=l.start+1,m=l.end+1):(a?f=a.end+1:f=1,l?m=l.start+1:m=t.getLineMaxColumn(o.lineNumber)),new Rn(new D(o.lineNumber,f,o.lineNumber,m),0,new V(o.lineNumber,m),0)}let c,d;a&&a.wordType===1&&a.start<o.column-1&&o.column-1<a.end?(c=a.start+1,d=a.end+1):l&&l.wordType===1&&l.start<o.column-1&&o.column-1<l.end?(c=l.start+1,d=l.end+1):(c=o.column,d=o.column);let h=o.lineNumber,u;if(i.selectionStart.containsPosition(o))u=i.selectionStart.endColumn;else if(o.isBeforeOrEqual(i.selectionStart.getStartPosition())){u=c;let f=new V(h,u);i.selectionStart.containsPosition(f)&&(u=i.selectionStart.endColumn)}else{u=d;let f=new V(h,u);i.selectionStart.containsPosition(f)&&(u=i.selectionStart.startColumn)}return i.move(!0,h,u,0)}},_v=class extends Xt{static deleteWordPartLeft(e){let t=sk([Xt.deleteWordLeft(e,0),Xt.deleteWordLeft(e,2),Xt._deleteWordPartLeft(e.model,e.selection)]);return t.sort(D.compareRangesUsingEnds),t[2]}static deleteWordPartRight(e){let t=sk([Xt.deleteWordRight(e,0),Xt.deleteWordRight(e,2),Xt._deleteWordPartRight(e.model,e.selection)]);return t.sort(D.compareRangesUsingStarts),t[0]}static moveWordPartLeft(e,t,i){let n=sk([Xt.moveWordLeft(e,t,i,0),Xt.moveWordLeft(e,t,i,2),Xt._moveWordPartLeft(t,i)]);return n.sort(V.compare),n[2]}static moveWordPartRight(e,t,i){let n=sk([Xt.moveWordRight(e,t,i,0),Xt.moveWordRight(e,t,i,2),Xt._moveWordPartRight(t,i)]);return n.sort(V.compare),n[0]}};function sk(r){return r.filter(e=>Boolean(e))}lt();ye();var Zn=class{static addCursorDown(e,t,i){let n=[],o=0;for(let s=0,a=t.length;s<a;s++){let l=t[s];n[o++]=new It(l.modelState,l.viewState),i?n[o++]=It.fromModelState(Jt.translateDown(e.cursorConfig,e.model,l.modelState)):n[o++]=It.fromViewState(Jt.translateDown(e.cursorConfig,e,l.viewState))}return n}static addCursorUp(e,t,i){let n=[],o=0;for(let s=0,a=t.length;s<a;s++){let l=t[s];n[o++]=new It(l.modelState,l.viewState),i?n[o++]=It.fromModelState(Jt.translateUp(e.cursorConfig,e.model,l.modelState)):n[o++]=It.fromViewState(Jt.translateUp(e.cursorConfig,e,l.viewState))}return n}static moveToBeginningOfLine(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){let a=t[o];n[o]=this._moveToLineStart(e,a,i)}return n}static _moveToLineStart(e,t,i){let n=t.viewState.position.column,o=t.modelState.position.column,s=n===o,a=t.viewState.position.lineNumber,l=e.getLineFirstNonWhitespaceColumn(a);return!s&&!(n===l)?this._moveToLineStartByView(e,t,i):this._moveToLineStartByModel(e,t,i)}static _moveToLineStartByView(e,t,i){return It.fromViewState(Jt.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,i))}static _moveToLineStartByModel(e,t,i){return It.fromModelState(Jt.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,i))}static moveToEndOfLine(e,t,i,n){let o=[];for(let s=0,a=t.length;s<a;s++){let l=t[s];o[s]=this._moveToLineEnd(e,l,i,n)}return o}static _moveToLineEnd(e,t,i,n){let o=t.viewState.position,s=e.getLineMaxColumn(o.lineNumber),a=o.column===s,l=t.modelState.position,c=e.model.getLineMaxColumn(l.lineNumber),d=s-o.column===c-l.column;return a||d?this._moveToLineEndByModel(e,t,i,n):this._moveToLineEndByView(e,t,i,n)}static _moveToLineEndByView(e,t,i,n){return It.fromViewState(Jt.moveToEndOfLine(e.cursorConfig,e,t.viewState,i,n))}static _moveToLineEndByModel(e,t,i,n){return It.fromModelState(Jt.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,i,n))}static expandLineSelection(e,t){let i=[];for(let n=0,o=t.length;n<o;n++){let s=t[n],a=s.modelState.selection.startLineNumber,l=e.model.getLineCount(),c=s.modelState.selection.endLineNumber,d;c===l?d=e.model.getLineMaxColumn(l):(c++,d=1),i[n]=It.fromModelState(new Rn(new D(a,1,a,1),0,new V(c,d),0))}return i}static moveToBeginningOfBuffer(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){let a=t[o];n[o]=It.fromModelState(Jt.moveToBeginningOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return n}static moveToEndOfBuffer(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){let a=t[o];n[o]=It.fromModelState(Jt.moveToEndOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return n}static selectAll(e,t){let i=e.model.getLineCount(),n=e.model.getLineMaxColumn(i);return It.fromModelState(new Rn(new D(1,1,1,1),0,new V(i,n),0))}static line(e,t,i,n,o){let s=e.model.validatePosition(n),a=o?e.coordinatesConverter.validateViewPosition(new V(o.lineNumber,o.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);if(!i||!t.modelState.hasSelection()){let c=e.model.getLineCount(),d=s.lineNumber+1,h=1;return d>c&&(d=c,h=e.model.getLineMaxColumn(d)),It.fromModelState(new Rn(new D(s.lineNumber,1,d,h),0,new V(d,h),0))}let l=t.modelState.selectionStart.getStartPosition().lineNumber;if(s.lineNumber<l)return It.fromViewState(t.viewState.move(t.modelState.hasSelection(),a.lineNumber,1,0));if(s.lineNumber>l){let c=e.getLineCount(),d=a.lineNumber+1,h=1;return d>c&&(d=c,h=e.getLineMaxColumn(d)),It.fromViewState(t.viewState.move(t.modelState.hasSelection(),d,h,0))}else{let c=t.modelState.selectionStart.getEndPosition();return It.fromModelState(t.modelState.move(t.modelState.hasSelection(),c.lineNumber,c.column,0))}}static word(e,t,i,n){let o=e.model.validatePosition(n);return It.fromModelState(Xt.word(e.cursorConfig,e.model,t.modelState,i,o))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new It(t.modelState,t.viewState);let i=t.viewState.position.lineNumber,n=t.viewState.position.column;return It.fromViewState(new Rn(new D(i,n,i,n),0,new V(i,n),0))}static moveTo(e,t,i,n,o){let s=e.model.validatePosition(n),a=o?e.coordinatesConverter.validateViewPosition(new V(o.lineNumber,o.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);return It.fromViewState(t.viewState.move(i,a.lineNumber,a.column,0))}static simpleMove(e,t,i,n,o,s){switch(i){case 0:return s===4?this._moveHalfLineLeft(e,t,n):this._moveLeft(e,t,n,o);case 1:return s===4?this._moveHalfLineRight(e,t,n):this._moveRight(e,t,n,o);case 2:return s===2?this._moveUpByViewLines(e,t,n,o):this._moveUpByModelLines(e,t,n,o);case 3:return s===2?this._moveDownByViewLines(e,t,n,o):this._moveDownByModelLines(e,t,n,o);case 4:return s===2?t.map(a=>It.fromViewState(Jt.moveToPrevBlankLine(e.cursorConfig,e,a.viewState,n))):t.map(a=>It.fromModelState(Jt.moveToPrevBlankLine(e.cursorConfig,e.model,a.modelState,n)));case 5:return s===2?t.map(a=>It.fromViewState(Jt.moveToNextBlankLine(e.cursorConfig,e,a.viewState,n))):t.map(a=>It.fromModelState(Jt.moveToNextBlankLine(e.cursorConfig,e.model,a.modelState,n)));case 6:return this._moveToViewMinColumn(e,t,n);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,n);case 8:return this._moveToViewCenterColumn(e,t,n);case 9:return this._moveToViewMaxColumn(e,t,n);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,n);default:return null}}static viewportMove(e,t,i,n,o){let s=e.getCompletelyVisibleViewRange(),a=e.coordinatesConverter.convertViewRangeToModelRange(s);switch(i){case 11:{let l=this._firstLineNumberInRange(e.model,a,o),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],n,l,c)]}case 13:{let l=this._lastLineNumberInRange(e.model,a,o),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],n,l,c)]}case 12:{let l=Math.round((a.startLineNumber+a.endLineNumber)/2),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],n,l,c)]}case 14:{let l=[];for(let c=0,d=t.length;c<d;c++){let h=t[c];l[c]=this.findPositionInViewportIfOutside(e,h,s,n)}return l}default:return null}}static findPositionInViewportIfOutside(e,t,i,n){let o=t.viewState.position.lineNumber;if(i.startLineNumber<=o&&o<=i.endLineNumber-1)return new It(t.modelState,t.viewState);{let s;o>i.endLineNumber-1?s=i.endLineNumber-1:o<i.startLineNumber?s=i.startLineNumber:s=o;let a=Jt.vertical(e.cursorConfig,e,o,t.viewState.position.column,t.viewState.leftoverVisibleColumns,s,!1);return It.fromViewState(t.viewState.move(n,a.lineNumber,a.column,a.leftoverVisibleColumns))}}static _firstLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.min(t.endLineNumber,n+i-1)}static _lastLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.max(n,t.endLineNumber-i+1)}static _moveLeft(e,t,i,n){return t.map(o=>It.fromViewState(Jt.moveLeft(e.cursorConfig,e,o.viewState,i,n)))}static _moveHalfLineLeft(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){let a=t[o],l=a.viewState.position.lineNumber,c=Math.round(e.getLineContent(l).length/2);n[o]=It.fromViewState(Jt.moveLeft(e.cursorConfig,e,a.viewState,i,c))}return n}static _moveRight(e,t,i,n){return t.map(o=>It.fromViewState(Jt.moveRight(e.cursorConfig,e,o.viewState,i,n)))}static _moveHalfLineRight(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){let a=t[o],l=a.viewState.position.lineNumber,c=Math.round(e.getLineContent(l).length/2);n[o]=It.fromViewState(Jt.moveRight(e.cursorConfig,e,a.viewState,i,c))}return n}static _moveDownByViewLines(e,t,i,n){let o=[];for(let s=0,a=t.length;s<a;s++){let l=t[s];o[s]=It.fromViewState(Jt.moveDown(e.cursorConfig,e,l.viewState,i,n))}return o}static _moveDownByModelLines(e,t,i,n){let o=[];for(let s=0,a=t.length;s<a;s++){let l=t[s];o[s]=It.fromModelState(Jt.moveDown(e.cursorConfig,e.model,l.modelState,i,n))}return o}static _moveUpByViewLines(e,t,i,n){let o=[];for(let s=0,a=t.length;s<a;s++){let l=t[s];o[s]=It.fromViewState(Jt.moveUp(e.cursorConfig,e,l.viewState,i,n))}return o}static _moveUpByModelLines(e,t,i,n){let o=[];for(let s=0,a=t.length;s<a;s++){let l=t[s];o[s]=It.fromModelState(Jt.moveUp(e.cursorConfig,e.model,l.modelState,i,n))}return o}static _moveToViewPosition(e,t,i,n,o){return It.fromViewState(t.viewState.move(i,n,o,0))}static _moveToModelPosition(e,t,i,n,o){return It.fromModelState(t.modelState.move(i,n,o,0))}static _moveToViewMinColumn(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){let a=t[o],l=a.viewState.position.lineNumber,c=e.getLineMinColumn(l);n[o]=this._moveToViewPosition(e,a,i,l,c)}return n}static _moveToViewFirstNonWhitespaceColumn(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){let a=t[o],l=a.viewState.position.lineNumber,c=e.getLineFirstNonWhitespaceColumn(l);n[o]=this._moveToViewPosition(e,a,i,l,c)}return n}static _moveToViewCenterColumn(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){let a=t[o],l=a.viewState.position.lineNumber,c=Math.round((e.getLineMaxColumn(l)+e.getLineMinColumn(l))/2);n[o]=this._moveToViewPosition(e,a,i,l,c)}return n}static _moveToViewMaxColumn(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){let a=t[o],l=a.viewState.position.lineNumber,c=e.getLineMaxColumn(l);n[o]=this._moveToViewPosition(e,a,i,l,c)}return n}static _moveToViewLastNonWhitespaceColumn(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){let a=t[o],l=a.viewState.position.lineNumber,c=e.getLineLastNonWhitespaceColumn(l);n[o]=this._moveToViewPosition(e,a,i,l,c)}return n}},ly;(function(r){let e=function(i){if(!Qn(i))return!1;let n=i;return!(!Nr(n.to)||!Xo(n.select)&&!vx(n.select)||!Xo(n.by)&&!Nr(n.by)||!Xo(n.value)&&!Nl(n.value))};r.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},r.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},r.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function t(i){if(!i.to)return null;let n;switch(i.to){case r.RawDirection.Left:n=0;break;case r.RawDirection.Right:n=1;break;case r.RawDirection.Up:n=2;break;case r.RawDirection.Down:n=3;break;case r.RawDirection.PrevBlankLine:n=4;break;case r.RawDirection.NextBlankLine:n=5;break;case r.RawDirection.WrappedLineStart:n=6;break;case r.RawDirection.WrappedLineFirstNonWhitespaceCharacter:n=7;break;case r.RawDirection.WrappedLineColumnCenter:n=8;break;case r.RawDirection.WrappedLineEnd:n=9;break;case r.RawDirection.WrappedLineLastNonWhitespaceCharacter:n=10;break;case r.RawDirection.ViewPortTop:n=11;break;case r.RawDirection.ViewPortBottom:n=13;break;case r.RawDirection.ViewPortCenter:n=12;break;case r.RawDirection.ViewPortIfOutside:n=14;break;default:return null}let o=0;switch(i.by){case r.RawUnit.Line:o=1;break;case r.RawUnit.WrappedLine:o=2;break;case r.RawUnit.Character:o=3;break;case r.RawUnit.HalfLine:o=4;break}return{direction:n,unit:o,select:!!i.select,value:i.value||1}}r.parse=t})(ly||(ly={}));ut();He();He();Mc();ye();mi();no();var mR=Object.create(null);function hp(r,e){if(e<=0)return"";mR[r]||(mR[r]=["",r]);let t=mR[r];for(let i=t.length;i<=e;i++)t[i]=t[i-1]+r;return t[e]}var Ur=class{constructor(e,t){this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(e,t,i,n,o){let s=Zi.visibleColumnFromColumn(e,t,i);if(o){let a=hp(" ",n),c=Zi.prevIndentTabStop(s,n)/n;return hp(a,c)}else{let a="	",c=Zi.prevRenderTabStop(s,i)/i;return hp(a,c)}}static shiftIndent(e,t,i,n,o){let s=Zi.visibleColumnFromColumn(e,t,i);if(o){let a=hp(" ",n),c=Zi.nextIndentTabStop(s,n)/n;return hp(a,c)}else{let a="	",c=Zi.nextRenderTabStop(s,i)/i;return hp(a,c)}}_addEditOperation(e,t,i){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,i):e.addEditOperation(t,i)}getEditOperations(e,t){let i=this._selection.startLineNumber,n=this._selection.endLineNumber;this._selection.endColumn===1&&i!==n&&(n=n-1);let{tabSize:o,indentSize:s,insertSpaces:a}=this._opts,l=i===n;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(i))&&(this._useLastEditRangeForCursorEndPosition=!0);let c=0,d=0;for(let h=i;h<=n;h++,c=d){d=0;let u=e.getLineContent(h),f=wn(u);if(this._opts.isUnshift&&(u.length===0||f===0)||!l&&!this._opts.isUnshift&&u.length===0)continue;if(f===-1&&(f=u.length),h>1&&Zi.visibleColumnFromColumn(u,f+1,o)%s!==0&&e.isCheapToTokenize(h-1)){let w=qi.getEnterAction(this._opts.autoIndent,e,new D(h-1,e.getLineMaxColumn(h-1),h-1,e.getLineMaxColumn(h-1)));if(w){if(d=c,w.appendText)for(let y=0,C=w.appendText.length;y<C&&d<s&&w.appendText.charCodeAt(y)===32;y++)d++;w.removeText&&(d=Math.max(0,d-w.removeText));for(let y=0;y<d&&!(f===0||u.charCodeAt(f-1)!==32);y++)f--}}if(this._opts.isUnshift&&f===0)continue;let m;this._opts.isUnshift?m=Ur.unshiftIndent(u,f+1,o,s,a):m=Ur.shiftIndent(u,f+1,o,s,a),this._addEditOperation(t,new D(h,1,h,f+1),m),h===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=f+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&e.getLineLength(i)===0&&(this._useLastEditRangeForCursorEndPosition=!0);let c=a?hp(" ",s):"	";for(let d=i;d<=n;d++){let h=e.getLineContent(d),u=wn(h);if(!(this._opts.isUnshift&&(h.length===0||u===0))&&!(!l&&!this._opts.isUnshift&&h.length===0)&&(u===-1&&(u=h.length),!(this._opts.isUnshift&&u===0)))if(this._opts.isUnshift){u=Math.min(u,s);for(let f=0;f<u;f++)if(h.charCodeAt(f)===9){u=f+1;break}this._addEditOperation(t,new D(d,1,d,u+1),"")}else this._addEditOperation(t,new D(d,1,d,1),c),d===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){let n=t.getInverseEditOperations()[0];return new he(n.range.endLineNumber,n.range.endColumn,n.range.endLineNumber,n.range.endColumn)}let i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let n=this._selection.startColumn;return i.startColumn<=n?i:i.getDirection()===0?new he(i.startLineNumber,n,i.endLineNumber,i.endColumn):new he(i.endLineNumber,i.endColumn,i.startLineNumber,n)}return i}};ye();mi();var pR=class{constructor(e,t,i){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=i}getEditOperations(e,t){t.addTrackedEditOperation(new D(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new D(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){let i=t.getInverseEditOperations(),n=i[0].range,o=i[1].range;return new he(n.endLineNumber,n.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)}};Mb();ye();mi();lt();Sb();no();Eb();var Gi=class{static indent(e,t,i){if(t===null||i===null)return[];let n=[];for(let o=0,s=i.length;o<s;o++)n[o]=new Ur(i[o],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return n}static outdent(e,t,i){let n=[];for(let o=0,s=i.length;o<s;o++)n[o]=new Ur(i[o],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return n}static shiftIndent(e,t,i){return i=i||1,Ur.shiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,i){return i=i||1,Ur.unshiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,i,n){let o=[];for(let s=0,a=i.length;s<a;s++)o[s]=new Fn(i[s],n[s]);return new Cr(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,i,n,o){let s=[];for(let a=0,l=i.length;a<l;a++){let c=i[a],d=c.getPosition();if(o&&!c.isEmpty()&&(o=!1),o&&n.indexOf(`
`)!==n.length-1&&(o=!1),o){let h=new D(d.lineNumber,1,d.lineNumber,1);s[a]=new dp(h,n,c,!0)}else s[a]=new Fn(c,n)}return new Cr(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,i,n,o){if(n||t.length===1)return null;if(o&&o.length===t.length)return o;if(e.multiCursorPaste==="spread"){i.charCodeAt(i.length-1)===10&&(i=i.substr(0,i.length-1)),i.charCodeAt(i.length-1)===13&&(i=i.substr(0,i.length-1));let s=mr(i);if(s.length===t.length)return s}return null}static paste(e,t,i,n,o,s){let a=this._distributePasteToCursors(e,i,n,o,s);return a?(i=i.sort(D.compareRangesUsingStarts),this._distributedPaste(e,t,i,a)):this._simplePaste(e,t,i,n,o)}static _goodIndentForLine(e,t,i){let n=null,o="",s=qi.getInheritIndentForLine(e.autoIndent,t,i,!1);if(s)n=s.action,o=s.indentation;else if(i>1){let a;for(a=i-1;a>=1;a--){let d=t.getLineContent(a);if(Mr(d)>=0)break}if(a<1)return null;let l=t.getLineMaxColumn(a),c=qi.getEnterAction(e.autoIndent,t,new D(a,l,a,l));c&&(o=c.indentation+c.appendText)}return n&&(n===yn.Indent&&(o=Gi.shiftIndent(e,o)),n===yn.Outdent&&(o=Gi.unshiftIndent(e,o)),o=e.normalizeIndentation(o)),o||null}static _replaceJumpToNextIndent(e,t,i,n){let o="",s=i.getStartPosition();if(e.insertSpaces){let a=e.visibleColumnFromColumn(t,s),l=e.indentSize,c=l-a%l;for(let d=0;d<c;d++)o+=" "}else o="	";return new Fn(i,o,n)}static tab(e,t,i){let n=[];for(let o=0,s=i.length;o<s;o++){let a=i[o];if(a.isEmpty()){let l=t.getLineContent(a.startLineNumber);if(/^\s*$/.test(l)&&t.isCheapToTokenize(a.startLineNumber)){let c=this._goodIndentForLine(e,t,a.startLineNumber);c=c||"	";let d=e.normalizeIndentation(c);if(!l.startsWith(d)){n[o]=new Fn(new D(a.startLineNumber,1,a.startLineNumber,l.length+1),d,!0);continue}}n[o]=this._replaceJumpToNextIndent(e,t,a,!0)}else{if(a.startLineNumber===a.endLineNumber){let l=t.getLineMaxColumn(a.startLineNumber);if(a.startColumn!==1||a.endColumn!==l){n[o]=this._replaceJumpToNextIndent(e,t,a,!1);continue}}n[o]=new Ur(a,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent})}}return n}static compositionType(e,t,i,n,o,s,a,l){let c=n.map(d=>this._compositionType(i,d,o,s,a,l));return new Cr(4,c,{shouldPushStackElementBefore:ak(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,i,n,o,s){if(!t.isEmpty())return null;let a=t.getPosition(),l=Math.max(1,a.column-n),c=Math.min(e.getLineMaxColumn(a.lineNumber),a.column+o),d=new D(a.lineNumber,l,a.lineNumber,c);return e.getValueInRange(d)===i&&s===0?null:new pv(d,i,0,s)}static _typeCommand(e,t,i){return i?new mv(e,t,!0):new Fn(e,t,!0)}static _enter(e,t,i,n){if(e.autoIndent===0)return Gi._typeCommand(n,`
`,i);if(!t.isCheapToTokenize(n.getStartPosition().lineNumber)||e.autoIndent===1){let l=t.getLineContent(n.startLineNumber),c=ni(l).substring(0,n.startColumn-1);return Gi._typeCommand(n,`
`+e.normalizeIndentation(c),i)}let o=qi.getEnterAction(e.autoIndent,t,n);if(o){if(o.indentAction===yn.None)return Gi._typeCommand(n,`
`+e.normalizeIndentation(o.indentation+o.appendText),i);if(o.indentAction===yn.Indent)return Gi._typeCommand(n,`
`+e.normalizeIndentation(o.indentation+o.appendText),i);if(o.indentAction===yn.IndentOutdent){let l=e.normalizeIndentation(o.indentation),c=e.normalizeIndentation(o.indentation+o.appendText),d=`
`+c+`
`+l;return i?new mv(n,d,!0):new pv(n,d,-1,c.length-l.length,!0)}else if(o.indentAction===yn.Outdent){let l=Gi.unshiftIndent(e,o.indentation);return Gi._typeCommand(n,`
`+e.normalizeIndentation(l+o.appendText),i)}}let s=t.getLineContent(n.startLineNumber),a=ni(s).substring(0,n.startColumn-1);if(e.autoIndent>=4){let l=qi.getIndentForEnter(e.autoIndent,t,n,{unshiftIndent:c=>Gi.unshiftIndent(e,c),shiftIndent:c=>Gi.shiftIndent(e,c),normalizeIndentation:c=>e.normalizeIndentation(c)});if(l){let c=e.visibleColumnFromColumn(t,n.getEndPosition()),d=n.endColumn,h=t.getLineContent(n.endLineNumber),u=wn(h);if(u>=0?n=n.setEndPosition(n.endLineNumber,Math.max(n.endColumn,u+1)):n=n.setEndPosition(n.endLineNumber,t.getLineMaxColumn(n.endLineNumber)),i)return new mv(n,`
`+e.normalizeIndentation(l.afterEnter),!0);{let f=0;return d<=u+1&&(e.insertSpaces||(c=Math.ceil(c/e.indentSize)),f=Math.min(c+1-e.normalizeIndentation(l.afterEnter).length-1,0)),new pv(n,`
`+e.normalizeIndentation(l.afterEnter),0,f,!0)}}}return Gi._typeCommand(n,`
`+e.normalizeIndentation(a),i)}static _isAutoIndentType(e,t,i){if(e.autoIndent<4)return!1;for(let n=0,o=i.length;n<o;n++)if(!t.isCheapToTokenize(i[n].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,i,n){let o=qi.getIndentationAtPosition(t,i.startLineNumber,i.startColumn),s=qi.getIndentActionForType(e.autoIndent,t,i,n,{shiftIndent:a=>Gi.shiftIndent(e,a),unshiftIndent:a=>Gi.unshiftIndent(e,a)});if(s===null)return null;if(s!==e.normalizeIndentation(o)){let a=t.getLineFirstNonWhitespaceColumn(i.startLineNumber);return a===0?Gi._typeCommand(new D(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(s)+n,!1):Gi._typeCommand(new D(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(s)+t.getLineContent(i.startLineNumber).substring(a-1,i.startColumn-1)+n,!1)}return null}static _isAutoClosingOvertype(e,t,i,n,o){if(e.autoClosingOvertype==="never"||!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(o))return!1;for(let s=0,a=i.length;s<a;s++){let l=i[s];if(!l.isEmpty())return!1;let c=l.getPosition(),d=t.getLineContent(c.lineNumber);if(d.charAt(c.column-1)!==o)return!1;let u=eg(o);if((c.column>2?d.charCodeAt(c.column-2):0)===92&&u)return!1;if(e.autoClosingOvertype==="auto"){let m=!1;for(let _=0,w=n.length;_<w;_++){let y=n[_];if(c.lineNumber===y.startLineNumber&&c.column===y.startColumn){m=!0;break}}if(!m)return!1}}return!0}static _runAutoClosingOvertype(e,t,i,n,o){let s=[];for(let a=0,l=n.length;a<l;a++){let d=n[a].getPosition(),h=new D(d.lineNumber,d.column,d.lineNumber,d.column+1);s[a]=new Fn(h,o)}return new Cr(4,s,{shouldPushStackElementBefore:ak(e,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(e,t){let i=t.charAt(0),n=e.autoClosingPairs.autoClosingPairsOpenByStart.get(i)||[],o=e.autoClosingPairs.autoClosingPairsCloseByStart.get(i)||[],s=n.some(l=>t.startsWith(l.open)),a=o.some(l=>t.startsWith(l.close));return!s&&a}static _findAutoClosingPairOpen(e,t,i,n){let o=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(n);if(!o)return null;let s=null;for(let a of o)if(s===null||a.open.length>s.open.length){let l=!0;for(let c of i)if(t.getValueInRange(new D(c.lineNumber,c.column-a.open.length+1,c.lineNumber,c.column))+n!==a.open){l=!1;break}l&&(s=a)}return s}static _findContainedAutoClosingPair(e,t){if(t.open.length<=1)return null;let i=t.close.charAt(t.close.length-1),n=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(i)||[],o=null;for(let s of n)s.open!==t.open&&t.open.includes(s.open)&&t.close.endsWith(s.close)&&(!o||s.open.length>o.open.length)&&(o=s);return o}static _getAutoClosingPairClose(e,t,i,n,o){let s=eg(n),a=s?e.autoClosingQuotes:e.autoClosingBrackets,l=s?e.shouldAutoCloseBefore.quote:e.shouldAutoCloseBefore.bracket;if(a==="never")return null;for(let m of i)if(!m.isEmpty())return null;let c=i.map(m=>{let _=m.getPosition();return o?{lineNumber:_.lineNumber,beforeColumn:_.column-n.length,afterColumn:_.column}:{lineNumber:_.lineNumber,beforeColumn:_.column,afterColumn:_.column}}),d=this._findAutoClosingPairOpen(e,t,c.map(m=>new V(m.lineNumber,m.beforeColumn)),n);if(!d)return null;let h=this._findContainedAutoClosingPair(e,d),u=h?h.close:"",f=!0;for(let m of c){let{lineNumber:_,beforeColumn:w,afterColumn:y}=m,C=t.getLineContent(_),E=C.substring(0,w-1),L=C.substring(y-1);if(L.startsWith(u)||(f=!1),L.length>0){let T=L.charAt(0);if(!Gi._isBeforeClosingBrace(e,L)&&!l(T))return null}if(d.open.length===1&&(n==="'"||n==='"')&&a!=="always"){let T=Br(e.wordSeparators);if(E.length>0){let R=E.charCodeAt(E.length-1);if(T.get(R)===0)return null}}if(!t.isCheapToTokenize(_))return null;t.forceTokenization(_);let k=t.getLineTokens(_),M=Im(k,w-1);if(!d.shouldAutoClose(M,w-M.firstCharOffset))return null;let I=d.findNeutralCharacter();if(I){let T=t.getTokenTypeIfInsertingCharacter(_,w,I);if(!d.isOK(T))return null}}return f?d.close.substring(0,d.close.length-u.length):d.close}static _runAutoClosingOpenCharType(e,t,i,n,o,s,a){let l=[];for(let c=0,d=n.length;c<d;c++){let h=n[c];l[c]=new lk(h,o,!s,a)}return new Cr(4,l,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return eg(t)?e.autoSurround==="quotes"||e.autoSurround==="languageDefined":e.autoSurround==="brackets"||e.autoSurround==="languageDefined"}static _isSurroundSelectionType(e,t,i,n){if(!Gi._shouldSurroundChar(e,n)||!e.surroundingPairs.hasOwnProperty(n))return!1;let o=eg(n);for(let s=0,a=i.length;s<a;s++){let l=i[s];if(l.isEmpty())return!1;let c=!0;for(let d=l.startLineNumber;d<=l.endLineNumber;d++){let h=t.getLineContent(d),u=d===l.startLineNumber?l.startColumn-1:0,f=d===l.endLineNumber?l.endColumn-1:h.length,m=h.substring(u,f);if(/[^ \t]/.test(m)){c=!1;break}}if(c)return!1;if(o&&l.startLineNumber===l.endLineNumber&&l.startColumn+1===l.endColumn){let d=t.getValueInRange(l);if(eg(d))return!1}}return!0}static _runSurroundSelectionType(e,t,i,n,o){let s=[];for(let a=0,l=n.length;a<l;a++){let c=n[a],d=t.surroundingPairs[o];s[a]=new pR(c,o,d)}return new Cr(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,i){return!!(i.length===1&&t.isCheapToTokenize(i[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,i,n,o){if(!t.electricChars.hasOwnProperty(o)||!n.isEmpty())return null;let s=n.getPosition();i.forceTokenization(s.lineNumber);let a=i.getLineTokens(s.lineNumber),l;try{l=t.onElectricCharacter(o,a,s.column)}catch(c){return Ie(c),null}if(!l)return null;if(l.matchOpenBracket){let c=(a.getLineContent()+o).lastIndexOf(l.matchOpenBracket)+1,d=i.bracketPairs.findMatchingBracketUp(l.matchOpenBracket,{lineNumber:s.lineNumber,column:c},500);if(d){if(d.startLineNumber===s.lineNumber)return null;let h=i.getLineContent(d.startLineNumber),u=ni(h),f=t.normalizeIndentation(u),m=i.getLineContent(s.lineNumber),_=i.getLineFirstNonWhitespaceColumn(s.lineNumber)||s.column,w=m.substring(_-1,s.column-1),y=f+w+o,C=new D(s.lineNumber,1,s.lineNumber,s.column),E=new Fn(C,y);return new Cr(_R(y,e),[E],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,t,i,n,o,s){if(!n||he.selectionsArrEqual(n,o))return null;let a=null;for(let c of o){if(!c.isEmpty())return null;let d=c.getPosition(),h=i.getValueInRange(new D(d.lineNumber,d.column-1,d.lineNumber,d.column));if(a===null)a=h;else if(a!==h)return null}if(!a)return null;if(this._isAutoClosingOvertype(t,i,o,s,a)){let c=o.map(d=>new Fn(new D(d.positionLineNumber,d.positionColumn,d.positionLineNumber,d.positionColumn+1),"",!1));return new Cr(4,c,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}let l=this._getAutoClosingPairClose(t,i,o,a,!0);return l!==null?this._runAutoClosingOpenCharType(e,t,i,o,a,!0,l):null}static typeWithInterceptors(e,t,i,n,o,s,a){if(!e&&a===`
`){let d=[];for(let h=0,u=o.length;h<u;h++)d[h]=Gi._enter(i,n,!1,o[h]);return new Cr(4,d,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(i,n,o)){let d=[],h=!1;for(let u=0,f=o.length;u<f;u++)if(d[u]=this._runAutoIndentType(i,n,o[u],a),!d[u]){h=!0;break}if(!h)return new Cr(4,d,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoClosingOvertype(i,n,o,s,a))return this._runAutoClosingOvertype(t,i,n,o,a);if(!e){let d=this._getAutoClosingPairClose(i,n,o,a,!1);if(d)return this._runAutoClosingOpenCharType(t,i,n,o,a,!1,d)}if(this._isSurroundSelectionType(i,n,o,a))return this._runSurroundSelectionType(t,i,n,o,a);if(!e&&this._isTypeInterceptorElectricChar(i,n,o)){let d=this._typeInterceptorElectricChar(t,i,n,o[0],a);if(d)return d}let l=[];for(let d=0,h=o.length;d<h;d++)l[d]=new Fn(o[d],a);let c=_R(a,t);return new Cr(c,l,{shouldPushStackElementBefore:ak(t,c),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,i,n,o){let s=[];for(let l=0,c=n.length;l<c;l++)s[l]=new Fn(n[l],o);let a=_R(o,e);return new Cr(a,s,{shouldPushStackElementBefore:ak(e,a),shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,i){if(t===null||i===null)return[];let n=[];for(let o=0,s=i.length;o<s;o++){let a=i[o].positionLineNumber;if(a===1)n[o]=new mv(new D(1,1,1,1),`
`);else{a--;let l=t.getLineMaxColumn(a);n[o]=this._enter(e,t,!1,new D(a,l,a,l))}}return n}static lineInsertAfter(e,t,i){if(t===null||i===null)return[];let n=[];for(let o=0,s=i.length;o<s;o++){let a=i[o].positionLineNumber,l=t.getLineMaxColumn(a);n[o]=this._enter(e,t,!1,new D(a,l,a,l))}return n}static lineBreakInsert(e,t,i){let n=[];for(let o=0,s=i.length;o<s;o++)n[o]=this._enter(e,t,!0,i[o]);return n}},lk=class extends pv{constructor(e,t,i,n){super(e,(i?t:"")+n,0,-n.length);this._openCharacter=t,this._closeCharacter=n,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new D(n.startLineNumber,n.endColumn-this._closeCharacter.length,n.endLineNumber,n.endColumn),this.enclosingRange=new D(n.startLineNumber,n.endColumn-this._openCharacter.length-this._closeCharacter.length,n.endLineNumber,n.endColumn),super.computeCursorState(e,t)}};function _R(r,e){return r===" "?e===5||e===6?6:5:4}function ak(r,e){return RH(r)&&!RH(e)?!0:r===5?!1:AH(r)!==AH(e)}function AH(r){return r===6||r===5?"space":r}function RH(r){return r===4||r===5||r===6}lt();ye();Wi();Et();qh();var fi=0,Wn=class extends Yi{runEditorCommand(e,t,i){let n=t._getViewModel();!n||this.runCoreEditorCommand(n,i||{})}},ck;(function(r){let e=function(i){if(!Qn(i))return!1;let n=i;return!(!Nr(n.to)||!Xo(n.by)&&!Nr(n.by)||!Xo(n.value)&&!Nl(n.value)||!Xo(n.revealCursor)&&!vx(n.revealCursor))};r.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},r.RawDirection={Up:"up",Down:"down"},r.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function t(i){let n;switch(i.to){case r.RawDirection.Up:n=1;break;case r.RawDirection.Down:n=2;break;default:return null}let o;switch(i.by){case r.RawUnit.Line:o=1;break;case r.RawUnit.WrappedLine:o=2;break;case r.RawUnit.Page:o=3;break;case r.RawUnit.HalfPage:o=4;break;default:o=2}let s=Math.floor(i.value||1),a=!!i.revealCursor;return{direction:n,unit:o,value:s,revealCursor:a,select:!!i.select}}r.parse=t})(ck||(ck={}));var bv;(function(r){let e=function(t){if(!Qn(t))return!1;let i=t;return!(!Nl(i.lineNumber)&&!Nr(i.lineNumber)||!Xo(i.at)&&!Nr(i.at))};r.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:e,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},r.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(bv||(bv={}));var dk=class{constructor(e){e.addImplementation(1e4,"code-editor",(t,i)=>{let n=t.get(Tt).getFocusedCodeEditor();return n&&n.hasTextFocus()?this._runEditorCommand(t,n,i):!1}),e.addImplementation(1e3,"generic-dom-input-textarea",(t,i)=>{let n=document.activeElement;return n&&["input","textarea"].indexOf(n.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),e.addImplementation(0,"generic-dom",(t,i)=>{let n=t.get(Tt).getActiveCodeEditor();return n?(n.focus(),this._runEditorCommand(t,n,i)):!1})}_runEditorCommand(e,t,i){let n=this.runEditorCommand(e,t,i);return n||!0}},_o;(function(r){class e extends Wn{constructor(C){super(C);this._minimalReveal=C.minimalReveal,this._inSelectionMode=C.inSelectionMode}runCoreEditorCommand(C,E){C.model.pushStackElement(),C.setCursorStates(E.source,3,[Zn.moveTo(C,C.getPrimaryCursorState(),this._inSelectionMode,E.position,E.viewPosition)])&&C.revealPrimaryCursor(E.source,!0,this._minimalReveal)}}r.MoveTo=me(new e({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),r.MoveToSelect=me(new e({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class t extends Wn{runCoreEditorCommand(C,E){C.model.pushStackElement();let L=this._getColumnSelectResult(C,C.getPrimaryCursorState(),C.getCursorColumnSelectData(),E);C.setCursorStates(E.source,3,L.viewStates.map(k=>It.fromViewState(k))),C.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:L.fromLineNumber,fromViewVisualColumn:L.fromVisualColumn,toViewLineNumber:L.toLineNumber,toViewVisualColumn:L.toVisualColumn}),L.reversed?C.revealTopMostCursor(E.source):C.revealBottomMostCursor(E.source)}}r.ColumnSelect=me(new class extends t{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(y,C,E,L){let k=y.model.validatePosition(L.position),M=y.coordinatesConverter.validateViewPosition(new V(L.viewPosition.lineNumber,L.viewPosition.column),k),I=L.doColumnSelect?E.fromViewLineNumber:M.lineNumber,T=L.doColumnSelect?E.fromViewVisualColumn:L.mouseColumn-1;return lu.columnSelect(y.cursorConfig,y,I,T,M.lineNumber,L.mouseColumn-1)}}),r.CursorColumnSelectLeft=me(new class extends t{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(y,C,E,L){return lu.columnSelectLeft(y.cursorConfig,y,E)}}),r.CursorColumnSelectRight=me(new class extends t{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(y,C,E,L){return lu.columnSelectRight(y.cursorConfig,y,E)}});class i extends t{constructor(C){super(C);this._isPaged=C.isPaged}_getColumnSelectResult(C,E,L,k){return lu.columnSelectUp(C.cursorConfig,C,L,this._isPaged)}}r.CursorColumnSelectUp=me(new i({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:3600,linux:{primary:0}}})),r.CursorColumnSelectPageUp=me(new i({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:3595,linux:{primary:0}}}));class n extends t{constructor(C){super(C);this._isPaged=C.isPaged}_getColumnSelectResult(C,E,L,k){return lu.columnSelectDown(C.cursorConfig,C,L,this._isPaged)}}r.CursorColumnSelectDown=me(new n({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:3602,linux:{primary:0}}})),r.CursorColumnSelectPageDown=me(new n({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:3596,linux:{primary:0}}}));class o extends Wn{constructor(){super({id:"cursorMove",precondition:void 0,description:ly.description})}runCoreEditorCommand(C,E){let L=ly.parse(E);!L||this._runCursorMove(C,E.source,L)}_runCursorMove(C,E,L){C.model.pushStackElement(),C.setCursorStates(E,3,o._move(C,C.getCursorStates(),L)),C.revealPrimaryCursor(E,!0)}static _move(C,E,L){let k=L.select,M=L.value;switch(L.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return Zn.simpleMove(C,E,L.direction,k,M,L.unit);case 11:case 13:case 12:case 14:return Zn.viewportMove(C,E,L.direction,k,M);default:return null}}}r.CursorMoveImpl=o,r.CursorMove=me(new o);class s extends Wn{constructor(C){super(C);this._staticArgs=C.args}runCoreEditorCommand(C,E){let L=this._staticArgs;this._staticArgs.value===-1&&(L={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:E.pageSize||C.cursorConfig.pageSize}),C.model.pushStackElement(),C.setCursorStates(E.source,3,Zn.simpleMove(C,C.getCursorStates(),L.direction,L.select,L.value,L.unit)),C.revealPrimaryCursor(E.source,!0)}}r.CursorLeft=me(new s({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),r.CursorLeftSelect=me(new s({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:1039}})),r.CursorRight=me(new s({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),r.CursorRightSelect=me(new s({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:1041}})),r.CursorUp=me(new s({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),r.CursorUpSelect=me(new s({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),r.CursorPageUp=me(new s({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:11}})),r.CursorPageUpSelect=me(new s({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:1035}})),r.CursorDown=me(new s({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),r.CursorDownSelect=me(new s({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),r.CursorPageDown=me(new s({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:12}})),r.CursorPageDownSelect=me(new s({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:1036}})),r.CreateCursor=me(new class extends Wn{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(y,C){let E;C.wholeLine?E=Zn.line(y,y.getPrimaryCursorState(),!1,C.position,C.viewPosition):E=Zn.moveTo(y,y.getPrimaryCursorState(),!1,C.position,C.viewPosition);let L=y.getCursorStates();if(L.length>1){let k=E.modelState?E.modelState.position:null,M=E.viewState?E.viewState.position:null;for(let I=0,T=L.length;I<T;I++){let R=L[I];if(!(k&&!R.modelState.selection.containsPosition(k))&&!(M&&!R.viewState.selection.containsPosition(M))){L.splice(I,1),y.model.pushStackElement(),y.setCursorStates(C.source,3,L);return}}}L.push(E),y.model.pushStackElement(),y.setCursorStates(C.source,3,L)}}),r.LastCursorMoveToSelect=me(new class extends Wn{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(y,C){let E=y.getLastAddedCursorIndex(),L=y.getCursorStates(),k=L.slice(0);k[E]=Zn.moveTo(y,L[E],!0,C.position,C.viewPosition),y.model.pushStackElement(),y.setCursorStates(C.source,3,k)}});class a extends Wn{constructor(C){super(C);this._inSelectionMode=C.inSelectionMode}runCoreEditorCommand(C,E){C.model.pushStackElement(),C.setCursorStates(E.source,3,Zn.moveToBeginningOfLine(C,C.getCursorStates(),this._inSelectionMode)),C.revealPrimaryCursor(E.source,!0)}}r.CursorHome=me(new a({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),r.CursorHomeSelect=me(new a({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class l extends Wn{constructor(C){super(C);this._inSelectionMode=C.inSelectionMode}runCoreEditorCommand(C,E){C.model.pushStackElement(),C.setCursorStates(E.source,3,this._exec(C.getCursorStates())),C.revealPrimaryCursor(E.source,!0)}_exec(C){let E=[];for(let L=0,k=C.length;L<k;L++){let M=C[L],I=M.modelState.position.lineNumber;E[L]=It.fromModelState(M.modelState.move(this._inSelectionMode,I,1,0))}return E}}r.CursorLineStart=me(new l({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:0,mac:{primary:287}}})),r.CursorLineStartSelect=me(new l({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:0,mac:{primary:1311}}}));class c extends Wn{constructor(C){super(C);this._inSelectionMode=C.inSelectionMode}runCoreEditorCommand(C,E){C.model.pushStackElement(),C.setCursorStates(E.source,3,Zn.moveToEndOfLine(C,C.getCursorStates(),this._inSelectionMode,E.sticky||!1)),C.revealPrimaryCursor(E.source,!0)}}r.CursorEnd=me(new c({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:fi,kbExpr:F.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:g("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),r.CursorEndSelect=me(new c({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:fi,kbExpr:F.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:g("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class d extends Wn{constructor(C){super(C);this._inSelectionMode=C.inSelectionMode}runCoreEditorCommand(C,E){C.model.pushStackElement(),C.setCursorStates(E.source,3,this._exec(C,C.getCursorStates())),C.revealPrimaryCursor(E.source,!0)}_exec(C,E){let L=[];for(let k=0,M=E.length;k<M;k++){let I=E[k],T=I.modelState.position.lineNumber,R=C.model.getLineMaxColumn(T);L[k]=It.fromModelState(I.modelState.move(this._inSelectionMode,T,R,0))}return L}}r.CursorLineEnd=me(new d({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:0,mac:{primary:291}}})),r.CursorLineEndSelect=me(new d({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:0,mac:{primary:1315}}}));class h extends Wn{constructor(C){super(C);this._inSelectionMode=C.inSelectionMode}runCoreEditorCommand(C,E){C.model.pushStackElement(),C.setCursorStates(E.source,3,Zn.moveToBeginningOfBuffer(C,C.getCursorStates(),this._inSelectionMode)),C.revealPrimaryCursor(E.source,!0)}}r.CursorTop=me(new h({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:2062,mac:{primary:2064}}})),r.CursorTopSelect=me(new h({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:3086,mac:{primary:3088}}}));class u extends Wn{constructor(C){super(C);this._inSelectionMode=C.inSelectionMode}runCoreEditorCommand(C,E){C.model.pushStackElement(),C.setCursorStates(E.source,3,Zn.moveToEndOfBuffer(C,C.getCursorStates(),this._inSelectionMode)),C.revealPrimaryCursor(E.source,!0)}}r.CursorBottom=me(new u({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:2061,mac:{primary:2066}}})),r.CursorBottomSelect=me(new u({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:3085,mac:{primary:3090}}}));class f extends Wn{constructor(){super({id:"editorScroll",precondition:void 0,description:ck.description})}runCoreEditorCommand(C,E){let L=ck.parse(E);!L||this._runEditorScroll(C,E.source,L)}_runEditorScroll(C,E,L){let k=this._computeDesiredScrollTop(C,L);if(L.revealCursor){let M=C.getCompletelyVisibleViewRangeAtScrollTop(k);C.setCursorStates(E,3,[Zn.findPositionInViewportIfOutside(C,C.getPrimaryCursorState(),M,L.select)])}C.viewLayout.setScrollPosition({scrollTop:k},0)}_computeDesiredScrollTop(C,E){if(E.unit===1){let M=C.getCompletelyVisibleViewRange(),I=C.coordinatesConverter.convertViewRangeToModelRange(M),T;E.direction===1?T=Math.max(1,I.startLineNumber-E.value):T=Math.min(C.model.getLineCount(),I.startLineNumber+E.value);let R=C.coordinatesConverter.convertModelPositionToViewPosition(new V(T,1));return C.viewLayout.getVerticalOffsetForLineNumber(R.lineNumber)}let L;E.unit===3?L=C.cursorConfig.pageSize*E.value:E.unit===4?L=Math.round(C.cursorConfig.pageSize/2)*E.value:L=E.value;let k=(E.direction===1?-1:1)*L;return C.viewLayout.getCurrentScrollTop()+k*C.cursorConfig.lineHeight}}r.EditorScrollImpl=f,r.EditorScroll=me(new f),r.ScrollLineUp=me(new class extends Wn{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(y,C){r.EditorScroll._runEditorScroll(y,C.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),r.ScrollPageUp=me(new class extends Wn{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(y,C){r.EditorScroll._runEditorScroll(y,C.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),r.ScrollLineDown=me(new class extends Wn{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(y,C){r.EditorScroll._runEditorScroll(y,C.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),r.ScrollPageDown=me(new class extends Wn{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(y,C){r.EditorScroll._runEditorScroll(y,C.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class m extends Wn{constructor(C){super(C);this._inSelectionMode=C.inSelectionMode}runCoreEditorCommand(C,E){C.model.pushStackElement(),C.setCursorStates(E.source,3,[Zn.word(C,C.getPrimaryCursorState(),this._inSelectionMode,E.position)]),C.revealPrimaryCursor(E.source,!0)}}r.WordSelect=me(new m({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),r.WordSelectDrag=me(new m({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),r.LastCursorWordSelect=me(new class extends Wn{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(y,C){let E=y.getLastAddedCursorIndex(),L=y.getCursorStates(),k=L.slice(0),M=L[E];k[E]=Zn.word(y,M,M.modelState.hasSelection(),C.position),y.model.pushStackElement(),y.setCursorStates(C.source,3,k)}});class _ extends Wn{constructor(C){super(C);this._inSelectionMode=C.inSelectionMode}runCoreEditorCommand(C,E){C.model.pushStackElement(),C.setCursorStates(E.source,3,[Zn.line(C,C.getPrimaryCursorState(),this._inSelectionMode,E.position,E.viewPosition)]),C.revealPrimaryCursor(E.source,!1)}}r.LineSelect=me(new _({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),r.LineSelectDrag=me(new _({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class w extends Wn{constructor(C){super(C);this._inSelectionMode=C.inSelectionMode}runCoreEditorCommand(C,E){let L=C.getLastAddedCursorIndex(),k=C.getCursorStates(),M=k.slice(0);M[L]=Zn.line(C,k[L],this._inSelectionMode,E.position,E.viewPosition),C.model.pushStackElement(),C.setCursorStates(E.source,3,M)}}r.LastCursorLineSelect=me(new w({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),r.LastCursorLineSelectDrag=me(new w({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),r.CancelSelection=me(new class extends Wn{constructor(){super({id:"cancelSelection",precondition:F.hasNonEmptySelection,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(y,C){y.model.pushStackElement(),y.setCursorStates(C.source,3,[Zn.cancelSelection(y,y.getPrimaryCursorState())]),y.revealPrimaryCursor(C.source,!0)}}),r.RemoveSecondaryCursors=me(new class extends Wn{constructor(){super({id:"removeSecondaryCursors",precondition:F.hasMultipleSelections,kbOpts:{weight:fi+1,kbExpr:F.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(y,C){y.model.pushStackElement(),y.setCursorStates(C.source,3,[y.getPrimaryCursorState()]),y.revealPrimaryCursor(C.source,!0),Km(g("removedCursor","Removed secondary cursors"))}}),r.RevealLine=me(new class extends Wn{constructor(){super({id:"revealLine",precondition:void 0,description:bv.description})}runCoreEditorCommand(y,C){let E=C,L=E.lineNumber||0,k=typeof L=="number"?L+1:parseInt(L)+1;k<1&&(k=1);let M=y.model.getLineCount();k>M&&(k=M);let I=new D(k,1,k,y.model.getLineMaxColumn(k)),T=0;if(E.at)switch(E.at){case bv.RawAtArgument.Top:T=3;break;case bv.RawAtArgument.Center:T=1;break;case bv.RawAtArgument.Bottom:T=4;break;default:break}let R=y.coordinatesConverter.convertModelRangeToViewRange(I);y.revealRange(C.source,!1,R,T,0)}}),r.SelectAll=new class extends dk{constructor(){super(rz)}runDOMCommand(){$n&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(y,C,E){let L=C._getViewModel();!L||this.runCoreEditorCommand(L,E)}runCoreEditorCommand(y,C){y.model.pushStackElement(),y.setCursorStates("keyboard",3,[Zn.selectAll(y,y.getPrimaryCursorState())])}},r.SetSelection=me(new class extends Wn{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(y,C){y.model.pushStackElement(),y.setCursorStates(C.source,3,[It.fromModelSelection(C.selection)])}})})(_o||(_o={}));var Khe=Ce.and(F.textInputFocus,F.columnSelection);function vv(r,e){qn.registerKeybindingRule({id:r,primary:e,when:Khe,weight:fi+1})}vv(_o.CursorColumnSelectLeft.id,1039);vv(_o.CursorColumnSelectRight.id,1041);vv(_o.CursorColumnSelectUp.id,1040);vv(_o.CursorColumnSelectPageUp.id,1035);vv(_o.CursorColumnSelectDown.id,1042);vv(_o.CursorColumnSelectPageDown.id,1036);function FH(r){return r.register(),r}var tg;(function(r){class e extends Yi{runEditorCommand(i,n,o){let s=n._getViewModel();!s||this.runCoreEditingCommand(n,s,o||{})}}r.CoreEditingCommand=e,r.LineBreakInsert=me(new class extends e{constructor(){super({id:"lineBreakInsert",precondition:F.writable,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(t,i,n){t.pushUndoStop(),t.executeCommands(this.id,Gi.lineBreakInsert(i.cursorConfig,i.model,i.getCursorStates().map(o=>o.modelState.selection)))}}),r.Outdent=me(new class extends e{constructor(){super({id:"outdent",precondition:F.writable,kbOpts:{weight:fi,kbExpr:Ce.and(F.editorTextFocus,F.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(t,i,n){t.pushUndoStop(),t.executeCommands(this.id,Gi.outdent(i.cursorConfig,i.model,i.getCursorStates().map(o=>o.modelState.selection))),t.pushUndoStop()}}),r.Tab=me(new class extends e{constructor(){super({id:"tab",precondition:F.writable,kbOpts:{weight:fi,kbExpr:Ce.and(F.editorTextFocus,F.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(t,i,n){t.pushUndoStop(),t.executeCommands(this.id,Gi.tab(i.cursorConfig,i.model,i.getCursorStates().map(o=>o.modelState.selection))),t.pushUndoStop()}}),r.DeleteLeft=me(new class extends e{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(t,i,n){let[o,s]=Rc.deleteLeft(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection),i.getCursorAutoClosedCharacters());o&&t.pushUndoStop(),t.executeCommands(this.id,s),i.setPrevEditOperationType(2)}}),r.DeleteRight=me(new class extends e{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:fi,kbExpr:F.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(t,i,n){let[o,s]=Rc.deleteRight(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection));o&&t.pushUndoStop(),t.executeCommands(this.id,s),i.setPrevEditOperationType(3)}}),r.Undo=new class extends dk{constructor(){super(BA)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(t,i,n){if(!(!i.hasModel()||i.getOption(81)===!0))return i.getModel().undo()}},r.Redo=new class extends dk{constructor(){super(jA)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(t,i,n){if(!(!i.hasModel()||i.getOption(81)===!0))return i.getModel().redo()}}})(tg||(tg={}));var bR=class extends Xb{constructor(e,t,i){super({id:e,precondition:void 0,description:i});this._handlerId=t}runCommand(e,t){let i=e.get(Tt).getFocusedCodeEditor();!i||i.trigger("keyboard",this._handlerId,t)}};function up(r,e){FH(new bR("default:"+r,r)),FH(new bR(r,r,e))}up("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]});up("replacePreviousChar");up("compositionType");up("compositionStart");up("compositionEnd");up("paste");up("cut");lt();xt();var vR=class{constructor(e,t,i,n){this.configuration=e,this.viewModel=t,this.userInputEvents=i,this.commandDelegate=n}paste(e,t,i,n){this.commandDelegate.paste(e,t,i,n)}type(e){this.commandDelegate.type(e)}compositionType(e,t,i,n){this.commandDelegate.compositionType(e,t,i,n)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){_o.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){let t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new V(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(70)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(70)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){let t=this.configuration.options,i=Fi&&t.get(96),n=t.get(18);e.middleButton&&!i?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():e.mouseDownCount===3?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount===2?e.onInjectedText||(this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position)):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):n?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)}_usualArgs(e){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e}}moveTo(e){_o.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_moveToSelect(e){_o.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_columnSelect(e,t,i){e=this._validateViewColumn(e),_o.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:i})}_createCursor(e,t){e=this._validateViewColumn(e),_o.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e){_o.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelect(e){_o.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelectDrag(e){_o.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorWordSelect(e){_o.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelect(e){_o.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelectDrag(e){_o.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelect(e){_o.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelectDrag(e){_o.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_selectAll(){_o.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}};var fp=class{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){this.onKeyDown&&this.onKeyDown(e)}emitKeyUp(e){this.onKeyUp&&this.onKeyUp(e)}emitContextMenu(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))}emitMouseMove(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))}emitMouseDown(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))}emitMouseUp(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(e){this.onMouseWheel&&this.onMouseWheel(e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return fp.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){let i=Object.assign({},e);return i.position&&(i.position=t.convertViewPositionToModelPosition(i.position)),i.range&&(i.range=t.convertViewRangeToModelRange(i.range)),i}};Tf();var wR,hk=class{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){let t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[t]}onLinesDeleted(e,t){if(this.getCount()===0)return null;let i=this.getStartLineNumber(),n=this.getEndLineNumber();if(t<i){let l=t-e+1;return this._rendLineNumberStart-=l,null}if(e>n)return null;let o=0,s=0;for(let l=i;l<=n;l++){let c=l-this._rendLineNumberStart;e<=l&&l<=t&&(s===0?(o=c,s=1):s++)}if(e<i){let l=0;t<i?l=t-e+1:l=i-e,this._rendLineNumberStart-=l}return this._lines.splice(o,s)}onLinesChanged(e,t){if(this.getCount()===0)return!1;let i=this.getStartLineNumber(),n=this.getEndLineNumber(),o=!1;for(let s=e;s<=t;s++)s>=i&&s<=n&&(this._lines[s-this._rendLineNumberStart].onContentChanged(),o=!0);return o}onLinesInserted(e,t){if(this.getCount()===0)return null;let i=t-e+1,n=this.getStartLineNumber(),o=this.getEndLineNumber();if(e<=n)return this._rendLineNumberStart+=i,null;if(e>o)return null;if(i+e>o)return this._lines.splice(e-this._rendLineNumberStart,o-e+1);let s=[];for(let h=0;h<i;h++)s[h]=this._createLine();let a=e-this._rendLineNumberStart,l=this._lines.slice(0,a),c=this._lines.slice(a,this._lines.length-i),d=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=l.concat(s).concat(c),d}onTokensChanged(e){if(this.getCount()===0)return!1;let t=this.getStartLineNumber(),i=this.getEndLineNumber(),n=!1;for(let o=0,s=e.length;o<s;o++){let a=e[o];if(a.toLineNumber<t||a.fromLineNumber>i)continue;let l=Math.max(t,a.fromLineNumber),c=Math.min(i,a.toLineNumber);for(let d=l;d<=c;d++){let h=d-this._rendLineNumberStart;this._lines[h].onTokensChanged(),n=!0}}return n}},cy=class{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new hk(()=>this._host.createVisibleLine())}_createDomNode(){let e=vt(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(131)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){let t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,n=t.length;i<n;i++){let o=t[i].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0}onLinesInserted(e){let t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,n=t.length;i<n;i++){let o=t[i].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){let t=this._linesCollection._get(),i=new Rd(this.domNode.domNode,this._host,e),n={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},o=i.render(n,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(o.rendLineNumberStart,o.lines)}},Rd=class{constructor(e,t,i){this.domNode=e,this.host=t,this.viewportData=i}render(e,t,i,n){let o={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(o.rendLineNumberStart+o.linesLength-1<t||i<o.rendLineNumberStart){o.rendLineNumberStart=t,o.linesLength=i-t+1,o.lines=[];for(let s=t;s<=i;s++)o.lines[s-t]=this.host.createVisibleLine();return this._finishRendering(o,!0,n),o}if(this._renderUntouchedLines(o,Math.max(t-o.rendLineNumberStart,0),Math.min(i-o.rendLineNumberStart,o.linesLength-1),n,t),o.rendLineNumberStart>t){let s=t,a=Math.min(i,o.rendLineNumberStart-1);s<=a&&(this._insertLinesBefore(o,s,a,n,t),o.linesLength+=a-s+1)}else if(o.rendLineNumberStart<t){let s=Math.min(o.linesLength,t-o.rendLineNumberStart);s>0&&(this._removeLinesBefore(o,s),o.linesLength-=s)}if(o.rendLineNumberStart=t,o.rendLineNumberStart+o.linesLength-1<i){let s=o.rendLineNumberStart+o.linesLength,a=i;s<=a&&(this._insertLinesAfter(o,s,a,n,t),o.linesLength+=a-s+1)}else if(o.rendLineNumberStart+o.linesLength-1>i){let s=Math.max(0,i-o.rendLineNumberStart+1),l=o.linesLength-1-s+1;l>0&&(this._removeLinesAfter(o,l),o.linesLength-=l)}return this._finishRendering(o,!1,n),o}_renderUntouchedLines(e,t,i,n,o){let s=e.rendLineNumberStart,a=e.lines;for(let l=t;l<=i;l++){let c=s+l;a[l].layoutLine(c,n[c-o])}}_insertLinesBefore(e,t,i,n,o){let s=[],a=0;for(let l=t;l<=i;l++)s[a++]=this.host.createVisibleLine();e.lines=s.concat(e.lines)}_removeLinesBefore(e,t){for(let i=0;i<t;i++){let n=e.lines[i].getDomNode();n&&this.domNode.removeChild(n)}e.lines.splice(0,t)}_insertLinesAfter(e,t,i,n,o){let s=[],a=0;for(let l=t;l<=i;l++)s[a++]=this.host.createVisibleLine();e.lines=e.lines.concat(s)}_removeLinesAfter(e,t){let i=e.linesLength-t;for(let n=0;n<t;n++){let o=e.lines[i+n].getDomNode();o&&this.domNode.removeChild(o)}e.lines.splice(i,t)}_finishRenderingNewLines(e,t,i,n){Rd._ttPolicy&&(i=Rd._ttPolicy.createHTML(i));let o=this.domNode.lastChild;t||!o?this.domNode.innerHTML=i:o.insertAdjacentHTML("afterend",i);let s=this.domNode.lastChild;for(let a=e.linesLength-1;a>=0;a--){let l=e.lines[a];n[a]&&(l.setDomNode(s),s=s.previousSibling)}}_finishRenderingInvalidLines(e,t,i){let n=document.createElement("div");Rd._ttPolicy&&(t=Rd._ttPolicy.createHTML(t)),n.innerHTML=t;for(let o=0;o<e.linesLength;o++){let s=e.lines[o];if(i[o]){let a=n.firstChild,l=s.getDomNode();l.parentNode.replaceChild(a,l),s.setDomNode(a)}}}_finishRendering(e,t,i){let n=Rd._sb,o=e.linesLength,s=e.lines,a=e.rendLineNumberStart,l=[];{n.reset();let c=!1;for(let d=0;d<o;d++){let h=s[d];l[d]=!1,!(h.getDomNode()||!h.renderLine(d+a,i[d],this.viewportData,n))&&(l[d]=!0,c=!0)}c&&this._finishRenderingNewLines(e,t,n.build(),l)}{n.reset();let c=!1,d=[];for(let h=0;h<o;h++){let u=s[h];d[h]=!1,!(l[h]||!u.renderLine(h+a,i[h],this.viewportData,n))&&(d[h]=!0,c=!0)}c&&this._finishRenderingInvalidLines(e,n.build(),d)}}};Rd._ttPolicy=(wR=window.trustedTypes)===null||wR===void 0?void 0:wR.createPolicy("editorViewLayer",{createHTML:r=>r});Rd._sb=jl(1e5);var CR=class extends An{constructor(e){super(e);this._visibleLines=new cy(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new BH(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);let t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++)this._visibleLines.getVisibleLine(n).onConfigurationChanged(e);return!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){let t=this._dynamicOverlays.filter(i=>i.shouldRender());for(let i=0,n=t.length;i<n;i++){let o=t[i];o.prepareRender(e),o.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}},BH=class{constructor(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(59),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=vt(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(59)}renderLine(e,t,i,n){let o="";for(let s=0,a=this._dynamicOverlays.length;s<a;s++)o+=this._dynamicOverlays[s].render(i.startLineNumber,e);return this._renderedContent===o?!1:(this._renderedContent=o,n.appendASCIIString('<div style="position:absolute;top:'),n.appendASCIIString(String(t)),n.appendASCIIString("px;width:100%;height:"),n.appendASCIIString(String(this._lineHeight)),n.appendASCIIString('px;">'),n.appendASCIIString(o),n.appendASCIIString("</div>"),!0)}layoutLine(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}},yR=class extends CR{constructor(e){super(e);let i=this._context.configuration.options.get(131);this._contentWidth=i.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){let i=this._context.configuration.options.get(131);return this._contentWidth=i.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}},SR=class extends CR{constructor(e){super(e);let t=this._context.configuration.options,i=t.get(131);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),Cn(this.domNode,t.get(44))}onConfigurationChanged(e){let t=this._context.configuration.options;Cn(this.domNode,t.get(44));let i=t.get(131);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);let t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}};Be();var wv=class{constructor(e,t){this._coordinateBrand=void 0,this.top=e,this.left=t}},xR=class extends An{constructor(e,t){super(e);this._viewDomNode=t,this._widgets={},this.domNode=vt(document.createElement("div")),wr.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=vt(document.createElement("div")),wr.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){let t=Object.keys(this._widgets);for(let i of t)this._widgets[i].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){let t=Object.keys(this._widgets);for(let i of t)this._widgets[i].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(e){let t=new jH(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,i){this._widgets[e.getId()].setPosition(t,i),this.setShouldRender()}removeWidget(e){let t=e.getId();if(this._widgets.hasOwnProperty(t)){let i=this._widgets[t];delete this._widgets[t];let n=i.domNode.domNode;n.parentNode.removeChild(n),n.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return this._widgets.hasOwnProperty(e)?this._widgets[e].suppressMouseDown:!1}onBeforeRender(e){let t=Object.keys(this._widgets);for(let i of t)this._widgets[i].onBeforeRender(e)}prepareRender(e){let t=Object.keys(this._widgets);for(let i of t)this._widgets[i].prepareRender(e)}render(e){let t=Object.keys(this._widgets);for(let i of t)this._widgets[i].render(e)}},jH=class{constructor(e,t,i){this._context=e,this._viewDomNode=t,this._actual=i,this.domNode=vt(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;let n=this._context.configuration.options,o=n.get(131);this._fixedOverflowWidgets=n.get(36),this._contentWidth=o.contentWidth,this._contentLeft=o.contentLeft,this._lineHeight=n.get(59),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){let t=this._context.configuration.options;if(this._lineHeight=t.get(59),e.hasChanged(131)){let i=t.get(131);this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(e){this._setPosition(this._range)}_setPosition(e){if(this._range=e,this._viewRange=null,this._range){let t=this._context.viewModel.model.validateRange(this._range);(this._context.viewModel.coordinatesConverter.modelPositionIsVisible(t.getStartPosition())||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(t.getEndPosition()))&&(this._viewRange=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(t))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(e,t){this._setPosition(e),this._preference=t,this._viewRange&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(e,t,i,n,o){let s=e.top,a=s,l=t.top+this._lineHeight,c=o.viewportHeight-l,d=s-n,h=a>=n,u=l,f=c>=n,m=e.left,_=t.left;return m+i>o.scrollLeft+o.viewportWidth&&(m=o.scrollLeft+o.viewportWidth-i),_+i>o.scrollLeft+o.viewportWidth&&(_=o.scrollLeft+o.viewportWidth-i),m<o.scrollLeft&&(m=o.scrollLeft),_<o.scrollLeft&&(_=o.scrollLeft),{fitsAbove:h,aboveTop:d,aboveLeft:m,fitsBelow:f,belowTop:u,belowLeft:_}}_layoutHorizontalSegmentInPage(e,t,i,n){let o=Math.max(0,t.left-n),s=Math.min(t.left+t.width+n,e.width),a=t.left+i-kc.scrollX;if(a+n>s){let l=a-(s-n);a-=l,i-=l}if(a<o){let l=a-o;a-=l,i-=l}return[i,a]}_layoutBoxInPage(e,t,i,n,o){let s=e.top-n,a=t.top+this._lineHeight,l=ji(this._viewDomNode.domNode),c=l.top+s-kc.scrollY,d=l.top+a-kc.scrollY,h=Ff(document.body),[u,f]=this._layoutHorizontalSegmentInPage(h,l,e.left-o.scrollLeft+this._contentLeft,i),[m,_]=this._layoutHorizontalSegmentInPage(h,l,t.left-o.scrollLeft+this._contentLeft,i),w=22,y=22,C=c>=w,E=d+n<=h.height-y;return this._fixedOverflowWidgets?{fitsAbove:C,aboveTop:Math.max(c,w),aboveLeft:f,fitsBelow:E,belowTop:d,belowLeft:_}:{fitsAbove:C,aboveTop:s,aboveLeft:u,fitsBelow:E,belowTop:a,belowLeft:m}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new wv(e.top,e.left+this._contentLeft)}_getTopAndBottomLeft(e){if(!this._viewRange)return[null,null];let t=e.linesVisibleRangesForRange(this._viewRange,!1);if(!t||t.length===0)return[null,null];let i=t[0],n=t[0];for(let h of t)h.lineNumber<i.lineNumber&&(i=h),h.lineNumber>n.lineNumber&&(n=h);let o=1073741824;for(let h of i.ranges)h.left<o&&(o=h.left);let s=1073741824;for(let h of n.ranges)h.left<s&&(s=h.left);let a=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.scrollTop,l=new wv(a,o),c=e.getVerticalOffsetForLineNumber(n.lineNumber)-e.scrollTop,d=new wv(c,s);return[l,d]}_prepareRenderWidget(e){if(!this._preference||this._preference.length===0)return null;let[t,i]=this._getTopAndBottomLeft(e);if(!t||!i)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let o=null;if(typeof this._actual.beforeRender=="function"&&(o=ER(this._actual.beforeRender,this._actual)),o)this._cachedDomNodeOffsetWidth=o.width,this._cachedDomNodeOffsetHeight=o.height;else{let s=this.domNode.domNode;this._cachedDomNodeOffsetWidth=s.offsetWidth,this._cachedDomNodeOffsetHeight=s.offsetHeight}}let n;this.allowEditorOverflow?n=this._layoutBoxInPage(t,i,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e):n=this._layoutBoxInViewport(t,i,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e);for(let o=1;o<=2;o++)for(let s of this._preference)if(s===1){if(!n)return null;if(o===2||n.fitsAbove)return{coordinate:new wv(n.aboveTop,n.aboveLeft),position:1}}else if(s===2){if(!n)return null;if(o===2||n.fitsBelow)return{coordinate:new wv(n.belowTop,n.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(t),position:0}:{coordinate:t,position:0};return null}onBeforeRender(e){!this._viewRange||!this._preference||this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&ER(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&ER(this._actual.afterRender,this._actual,this._renderData.position)}};function ER(r,e,...t){try{return r.call(e,...t)}catch{return null}}Gs();jt();pt();mi();var DR=class extends sl{constructor(e){super();this._context=e;let t=this._context.configuration.options,i=t.get(131);this._lineHeight=t.get(59),this._renderLineHighlight=t.get(85),this._renderLineHighlightOnlyWhenFocus=t.get(86),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new he(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1,t=this._selections.map(n=>n.positionLineNumber);t.sort((n,o)=>n-o),Xn(this._cursorLineNumbers,t)||(this._cursorLineNumbers=t,e=!0);let i=this._selections.every(n=>n.isEmpty());return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){let t=this._context.configuration.options,i=t.get(131);return this._lineHeight=t.get(59),this._renderLineHighlight=t.get(85),this._renderLineHighlightOnlyWhenFocus=t.get(86),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return this._renderLineHighlightOnlyWhenFocus?(this._focused=e.isFocused,!0):!1}prepareRender(e){if(!this._shouldRenderThis()){this._renderData=null;return}let t=this._renderOne(e),i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o=this._cursorLineNumbers.length,s=0,a=[];for(let l=i;l<=n;l++){let c=l-i;for(;s<o&&this._cursorLineNumbers[s]<l;)s++;s<o&&this._cursorLineNumbers[s]===l?a[c]=t:a[c]=""}this._renderData=a}render(e,t){if(!this._renderData)return"";let i=t-e;return i>=this._renderData.length?"":this._renderData[i]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}},LR=class extends DR{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}},kR=class extends DR{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}};yt((r,e)=>{let t=r.getColor(oH);if(t&&(e.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||r.defines(uR)){let i=r.getColor(uR);i&&(e.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${i}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${i}; }`),r.type==="hc"&&(e.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});ye();var IR=class extends sl{constructor(e){super();this._context=e;let t=this._context.configuration.options;this._lineHeight=t.get(59),this._typicalHalfwidthCharacterWidth=t.get(44).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){let t=this._context.configuration.options;return this._lineHeight=t.get(59),this._typicalHalfwidthCharacterWidth=t.get(44).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){let t=e.getDecorationsInViewport(),i=[],n=0;for(let l=0,c=t.length;l<c;l++){let d=t[l];d.options.className&&(i[n++]=d)}i=i.sort((l,c)=>{if(l.options.zIndex<c.options.zIndex)return-1;if(l.options.zIndex>c.options.zIndex)return 1;let d=l.options.className,h=c.options.className;return d<h?-1:d>h?1:D.compareRangesUsingStarts(l.range,c.range)});let o=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber,a=[];for(let l=o;l<=s;l++){let c=l-o;a[c]=""}this._renderWholeLineDecorations(e,i,a),this._renderNormalDecorations(e,i,a),this._renderResult=a}_renderWholeLineDecorations(e,t,i){let n=String(this._lineHeight),o=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber;for(let a=0,l=t.length;a<l;a++){let c=t[a];if(!c.options.isWholeLine)continue;let d='<div class="cdr '+c.options.className+'" style="left:0;width:100%;height:'+n+'px;"></div>',h=Math.max(c.range.startLineNumber,o),u=Math.min(c.range.endLineNumber,s);for(let f=h;f<=u;f++){let m=f-o;i[m]+=d}}}_renderNormalDecorations(e,t,i){let n=String(this._lineHeight),o=e.visibleRange.startLineNumber,s=null,a=!1,l=null;for(let c=0,d=t.length;c<d;c++){let h=t[c];if(h.options.isWholeLine)continue;let u=h.options.className,f=Boolean(h.options.showIfCollapsed),m=h.range;if(f&&m.endColumn===1&&m.endLineNumber!==m.startLineNumber&&(m=new D(m.startLineNumber,m.startColumn,m.endLineNumber-1,this._context.viewModel.getLineMaxColumn(m.endLineNumber-1))),s===u&&a===f&&D.areIntersectingOrTouching(l,m)){l=D.plusRange(l,m);continue}s!==null&&this._renderNormalDecoration(e,l,s,a,n,o,i),s=u,a=f,l=m}s!==null&&this._renderNormalDecoration(e,l,s,a,n,o,i)}_renderNormalDecoration(e,t,i,n,o,s,a){let l=e.linesVisibleRangesForRange(t,i==="findMatch");if(!!l)for(let c=0,d=l.length;c<d;c++){let h=l[c];if(h.outsideRenderedLine)continue;let u=h.lineNumber-s;if(n&&h.ranges.length===1){let f=h.ranges[0];if(f.width<this._typicalHalfwidthCharacterWidth){let m=Math.round(f.left+f.width/2),_=Math.max(0,Math.round(m-this._typicalHalfwidthCharacterWidth/2));h.ranges[0]=new rp(_,this._typicalHalfwidthCharacterWidth)}}for(let f=0,m=h.ranges.length;f<m;f++){let _=h.ranges[f],w='<div class="cdr '+i+'" style="left:'+String(_.left)+"px;width:"+String(_.width)+"px;height:"+o+'px;"></div>';a[u]+=w}}}render(e,t){if(!this._renderResult)return"";let i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}};Be();Oo();Be();il();il();Be();Be();os();il();re();var Ro=class extends ${onclick(e,t){this._register(se(e,Re.CLICK,i=>t(new To(i))))}onmousedown(e,t){this._register(se(e,Re.MOUSE_DOWN,i=>t(new To(i))))}onmouseover(e,t){this._register(se(e,Re.MOUSE_OVER,i=>t(new To(i))))}onnonbubblingmouseout(e,t){this._register(qb(e,i=>t(new To(i))))}onkeydown(e,t){this._register(se(e,Re.KEY_DOWN,i=>t(new $t(i))))}onkeyup(e,t){this._register(se(e,Re.KEY_UP,i=>t(new $t(i))))}oninput(e,t){this._register(se(e,Re.INPUT,t))}onblur(e,t){this._register(se(e,Re.BLUR,t))}onfocus(e,t){this._register(se(e,Re.FOCUS,t))}ignoreGesture(e){zt.ignoreTarget(e)}};nt();var ig=11,OR=class extends Ro{constructor(e){super();this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top<"u"&&(this.bgDomNode.style.top="0px"),typeof e.left<"u"&&(this.bgDomNode.style.left="0px"),typeof e.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof e.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...e.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=ig+"px",this.domNode.style.height=ig+"px",typeof e.top<"u"&&(this.domNode.style.top=e.top+"px"),typeof e.left<"u"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom<"u"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right<"u"&&(this.domNode.style.right=e.right+"px"),this._mouseMoveMonitor=this._register(new Oa),this.onmousedown(this.bgDomNode,t=>this._arrowMouseDown(t)),this.onmousedown(this.domNode,t=>this._arrowMouseDown(t)),this._mousedownRepeatTimer=this._register(new bd),this._mousedownScheduleRepeatTimer=this._register(new mn)}_arrowMouseDown(e){let t=()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),41.666666666666664)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(t,200),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,Oc,i=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),e.preventDefault()}};nt();re();var TR=class extends ${constructor(e,t,i){super();this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new mn)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){let e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(e?" fade":"")))}};xt();var qhe=140,dy=class extends Ro{constructor(e){super();this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new TR(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new Oa),this._shouldRender=!0,this.domNode=vt(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,t=>this._domNodeMouseDown(t))}_createArrow(e){let t=this._register(new OR(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,i,n){this.slider=vt(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),typeof i=="number"&&this.slider.setWidth(i),typeof n=="number"&&this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,o=>{o.leftButton&&(o.preventDefault(),this._sliderMouseDown(o,()=>{}))}),this.onclick(this.slider.domNode,o=>{o.leftButton&&o.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(e){e.target===this.domNode.domNode&&this._onMouseDown(e)}delegateMouseDown(e){let t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),n=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderMousePosition(e);i<=o&&o<=n?e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,()=>{})):this._onMouseDown(e)}_onMouseDown(e){let t,i;if(e.target===this.domNode.domNode&&typeof e.browserEvent.offsetX=="number"&&typeof e.browserEvent.offsetY=="number")t=e.browserEvent.offsetX,i=e.browserEvent.offsetY;else{let o=ji(this.domNode.domNode);t=e.posx-o.left,i=e.posy-o.top}let n=this._mouseDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(n):this._scrollbarState.getDesiredScrollPositionFromOffset(n)),e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,()=>{}))}_sliderMouseDown(e,t){let i=this._sliderMousePosition(e),n=this._sliderOrthogonalMousePosition(e),o=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,Oc,s=>{let a=this._sliderOrthogonalMousePosition(s),l=Math.abs(a-n);if(Ri&&l>qhe){this._setDesiredScrollPositionNow(o.getScrollPosition());return}let d=this._sliderMousePosition(s)-i;this._setDesiredScrollPositionNow(o.getDesiredScrollPositionFromDelta(d))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),t()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){let t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}};var ng=class{constructor(e,t,i,n,o,s){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=n,this._scrollSize=o,this._scrollPosition=s,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new ng(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){let t=Math.round(e);return this._visibleSize!==t?(this._visibleSize=t,this._refreshComputedValues(),!0):!1}setScrollSize(e){let t=Math.round(e);return this._scrollSize!==t?(this._scrollSize=t,this._refreshComputedValues(),!0):!1}setScrollPosition(e){let t=Math.round(e);return this._scrollPosition!==t?(this._scrollPosition=t,this._refreshComputedValues(),!0):!1}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,i,n,o){let s=Math.max(0,i-e),a=Math.max(0,s-2*t),l=n>0&&n>i;if(!l)return{computedAvailableSize:Math.round(s),computedIsNeeded:l,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};let c=Math.round(Math.max(20,Math.floor(i*a/n))),d=(a-c)/(n-i),h=o*d;return{computedAvailableSize:Math.round(s),computedIsNeeded:l,computedSliderSize:Math.round(c),computedSliderRatio:d,computedSliderPosition:Math.round(h)}}_refreshComputedValues(){let e=ng._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;let t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;let t=e-this._arrowSize,i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;let t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}};ln();var NR=class extends dy{constructor(e,t,i){let n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();super({lazyRender:t.lazyRender,host:i,scrollbarState:new ng(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===2?0:t.horizontalScrollbarSize,t.vertical===2?0:t.verticalScrollbarSize,n.width,n.scrollWidth,o.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage});if(t.horizontalHasArrows){let s=(t.arrowSize-ig)/2,a=(t.horizontalScrollbarSize-ig)/2;this._createArrow({className:"scra",icon:p.scrollbarButtonLeft,top:a,left:s,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new Lc(null,1,0))}),this._createArrow({className:"scra",icon:p.scrollbarButtonRight,top:a,left:void 0,bottom:void 0,right:s,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new Lc(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return e}_sliderMousePosition(e){return e.posx}_sliderOrthogonalMousePosition(e){return e.posy}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(e.horizontal===2?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}};il();ln();var PR=class extends dy{constructor(e,t,i){let n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();super({lazyRender:t.lazyRender,host:i,scrollbarState:new ng(t.verticalHasArrows?t.arrowSize:0,t.vertical===2?0:t.verticalScrollbarSize,0,n.height,n.scrollHeight,o.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage});if(t.verticalHasArrows){let s=(t.arrowSize-ig)/2,a=(t.verticalScrollbarSize-ig)/2;this._createArrow({className:"scra",icon:p.scrollbarButtonUp,top:s,left:a,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new Lc(null,0,1))}),this._createArrow({className:"scra",icon:p.scrollbarButtonDown,top:void 0,left:a,bottom:s,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new Lc(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return t}_sliderMousePosition(e){return e.posy}_sliderOrthogonalMousePosition(e){return e.posx}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}};nt();Ee();re();xt();Ee();re();var hy=class{constructor(e,t,i,n,o,s,a){this._forceIntegerValues=e,this._scrollStateBrand=void 0,this._forceIntegerValues&&(t=t|0,i=i|0,n=n|0,o=o|0,s=s|0,a=a|0),this.rawScrollLeft=n,this.rawScrollTop=a,t<0&&(t=0),n+t>i&&(n=i-t),n<0&&(n=0),o<0&&(o=0),a+o>s&&(a=s-o),a<0&&(a=0),this.width=t,this.scrollWidth=i,this.scrollLeft=n,this.height=o,this.scrollHeight=s,this.scrollTop=a}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new hy(this._forceIntegerValues,typeof e.width<"u"?e.width:this.width,typeof e.scrollWidth<"u"?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof e.height<"u"?e.height:this.height,typeof e.scrollHeight<"u"?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new hy(this._forceIntegerValues,this.width,this.scrollWidth,typeof e.scrollLeft<"u"?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof e.scrollTop<"u"?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){let i=this.width!==e.width,n=this.scrollWidth!==e.scrollWidth,o=this.scrollLeft!==e.scrollLeft,s=this.height!==e.height,a=this.scrollHeight!==e.scrollHeight,l=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:n,scrollLeftChanged:o,heightChanged:s,scrollHeightChanged:a,scrollTopChanged:l}}},Fd=class extends ${constructor(e){super();this._scrollableBrand=void 0,this._onScroll=this._register(new B),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new hy(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){let i=this._state.withScrollDimensions(e,t);this._setState(i,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){let t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop>"u"?this._smoothScrolling.to.scrollTop:e.scrollTop};let i=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let n;t?n=new Cv(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):n=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=n}else{let i=this._state.withScrollPosition(e);this._smoothScrolling=Cv.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;let e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,t){let i=this._state;i.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(i,t)))}},AR=class{constructor(e,t,i){this.scrollLeft=e,this.scrollTop=t,this.isDone=i}};function MR(r,e){let t=e-r;return function(i){return r+t*Ghe(i)}}function Yhe(r,e,t){return function(i){return i<t?r(i/t):e((i-t)/(1-t))}}var Cv=class{constructor(e,t,i,n){this.from=e,this.to=t,this.duration=n,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,i){if(Math.abs(e-t)>2.5*i){let o,s;return e<t?(o=e+.75*i,s=t-.75*i):(o=e-.75*i,s=t+.75*i),Yhe(MR(e,o),MR(s,t),.33)}return MR(e,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){let t=(e-this.startTime)/this.duration;if(t<1){let i=this.scrollLeft(t),n=this.scrollTop(t);return new AR(i,n,!1)}return new AR(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,i){return Cv.start(e,t,i)}static start(e,t,i){i=i+10;let n=Date.now()-10;return new Cv(e,t,n,i)}};function Zhe(r){return Math.pow(r,3)}function Ghe(r){return 1-Zhe(1-r)}var Xhe=500,WH=50,UH=!0,zH=class{constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}},uk=class{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let e=1,t=0,i=1,n=this._rear;do{let o=n===this._front?e:Math.pow(2,-i);if(e-=o,t+=this._memory[n].score*o,n===this._front)break;n=(this._capacity+n-1)%this._capacity,i++}while(!0);return t<=.5}accept(e,t,i){let n=new zH(e,t,i);n.score=this._computeScore(n),this._front===-1&&this._rear===-1?(this._memory[0]=n,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=n)}_computeScore(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let t=.5,i=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(e.deltaX)||!this._isAlmostInt(e.deltaY))&&(t+=.25),Math.min(Math.max(t,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}};uk.INSTANCE=new uk;var fk=class extends Ro{constructor(e,t,i){super();this._onScroll=this._register(new B),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new B),e.style.overflow="hidden",this._options=Qhe(t),this._scrollable=i,this._register(this._scrollable.onScroll(o=>{this._onWillScroll.fire(o),this._onDidScroll(o),this._onScroll.fire(o)}));let n={onMouseWheel:o=>this._onMouseWheel(o),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new PR(this._scrollable,this._options,n)),this._horizontalScrollbar=this._register(new NR(this._scrollable,this._options,n)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=vt(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=vt(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=vt(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,o=>this._onMouseOver(o)),this.onnonbubblingmouseout(this._listenOnDomNode,o=>this._onMouseOut(o)),this._hideTimeout=this._register(new mn),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=dt(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(e){this._verticalScrollbar.delegateMouseDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,Je&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel<"u"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal<"u"&&(this._options.horizontal=e.horizontal),typeof e.vertical<"u"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage<"u"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=dt(this._mouseWheelToDispose),e)){let i=n=>{this._onMouseWheel(new Lc(n))};this._mouseWheelToDispose.push(se(this._listenOnDomNode,Re.MOUSE_WHEEL,i,{passive:!1}))}}_onMouseWheel(e){let t=uk.INSTANCE;if(UH){let o=window.devicePixelRatio/iM();Ri||Fi?t.accept(Date.now(),e.deltaX/o,e.deltaY/o):t.accept(Date.now(),e.deltaX,e.deltaY)}let i=!1;if(e.deltaY||e.deltaX){let o=e.deltaY*this._options.mouseWheelScrollSensitivity,s=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(o)>=Math.abs(s)?s=0:o=0),this._options.flipAxes&&([o,s]=[s,o]);let a=!Je&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||a)&&!s&&(s=o,o=0),e.browserEvent&&e.browserEvent.altKey&&(s=s*this._options.fastScrollSensitivity,o=o*this._options.fastScrollSensitivity);let l=this._scrollable.getFutureScrollPosition(),c={};if(o){let d=WH*o,h=l.scrollTop-(d<0?Math.floor(d):Math.ceil(d));this._verticalScrollbar.writeScrollPosition(c,h)}if(s){let d=WH*s,h=l.scrollLeft-(d<0?Math.floor(d):Math.ceil(d));this._horizontalScrollbar.writeScrollPosition(c,h)}c=this._scrollable.validateScrollPosition(c),(l.scrollLeft!==c.scrollLeft||l.scrollTop!==c.scrollTop)&&(UH&&this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(c):this._scrollable.setScrollPositionNow(c),i=!0)}let n=i;!n&&this._options.alwaysConsumeMouseWheel&&(n=!0),!n&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(n=!0),n&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){let e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,n=i?" left":"",o=t?" top":"",s=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${n}`),this._topShadowDomNode.setClassName(`shadow${o}`),this._topLeftShadowDomNode.setClassName(`shadow${s}${o}${n}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),Xhe)}},uy=class extends fk{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;let i=new Fd({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:n=>Es(n)});super(e,t,i);this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}},gp=class extends fk{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}},Fc=class extends fk{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;let i=new Fd({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:n=>Es(n)});super(e,t,i);this._register(i),this._element=e,this.onScroll(n=>{n.scrollTopChanged&&(this._element.scrollTop=n.scrollTop),n.scrollLeftChanged&&(this._element.scrollLeft=n.scrollLeft)}),this.scanDomNode()}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}};function Qhe(r){let e={lazyRender:typeof r.lazyRender<"u"?r.lazyRender:!1,className:typeof r.className<"u"?r.className:"",useShadows:typeof r.useShadows<"u"?r.useShadows:!0,handleMouseWheel:typeof r.handleMouseWheel<"u"?r.handleMouseWheel:!0,flipAxes:typeof r.flipAxes<"u"?r.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof r.consumeMouseWheelIfScrollbarIsNeeded<"u"?r.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof r.alwaysConsumeMouseWheel<"u"?r.alwaysConsumeMouseWheel:!1,scrollYToX:typeof r.scrollYToX<"u"?r.scrollYToX:!1,mouseWheelScrollSensitivity:typeof r.mouseWheelScrollSensitivity<"u"?r.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof r.fastScrollSensitivity<"u"?r.fastScrollSensitivity:5,scrollPredominantAxis:typeof r.scrollPredominantAxis<"u"?r.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof r.mouseWheelSmoothScroll<"u"?r.mouseWheelSmoothScroll:!0,arrowSize:typeof r.arrowSize<"u"?r.arrowSize:11,listenOnDomNode:typeof r.listenOnDomNode<"u"?r.listenOnDomNode:null,horizontal:typeof r.horizontal<"u"?r.horizontal:1,horizontalScrollbarSize:typeof r.horizontalScrollbarSize<"u"?r.horizontalScrollbarSize:10,horizontalSliderSize:typeof r.horizontalSliderSize<"u"?r.horizontalSliderSize:0,horizontalHasArrows:typeof r.horizontalHasArrows<"u"?r.horizontalHasArrows:!1,vertical:typeof r.vertical<"u"?r.vertical:1,verticalScrollbarSize:typeof r.verticalScrollbarSize<"u"?r.verticalScrollbarSize:10,verticalHasArrows:typeof r.verticalHasArrows<"u"?r.verticalHasArrows:!1,verticalSliderSize:typeof r.verticalSliderSize<"u"?r.verticalSliderSize:0,scrollByPage:typeof r.scrollByPage<"u"?r.scrollByPage:!1};return e.horizontalSliderSize=typeof r.horizontalSliderSize<"u"?r.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof r.verticalSliderSize<"u"?r.verticalSliderSize:e.verticalScrollbarSize,Je&&(e.className+=" mac"),e}pt();Li();var RR=class extends An{constructor(e,t,i,n){super(e);let o=this._context.configuration.options,s=o.get(92),a=o.get(67),l=o.get(34),c=o.get(95),d={listenOnDomNode:i.domNode,className:"editor-scrollable "+Zm(e.theme.type),useShadows:!1,lazyRender:!0,vertical:s.vertical,horizontal:s.horizontal,verticalHasArrows:s.verticalHasArrows,horizontalHasArrows:s.horizontalHasArrows,verticalScrollbarSize:s.verticalScrollbarSize,verticalSliderSize:s.verticalSliderSize,horizontalScrollbarSize:s.horizontalScrollbarSize,horizontalSliderSize:s.horizontalSliderSize,handleMouseWheel:s.handleMouseWheel,alwaysConsumeMouseWheel:s.alwaysConsumeMouseWheel,arrowSize:s.arrowSize,mouseWheelScrollSensitivity:a,fastScrollSensitivity:l,scrollPredominantAxis:c,scrollByPage:s.scrollByPage};this.scrollbar=this._register(new gp(t.domNode,d,this._context.viewLayout.getScrollable())),wr.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=vt(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();let h=(u,f,m)=>{let _={};if(f){let w=u.scrollTop;w&&(_.scrollTop=this._context.viewLayout.getCurrentScrollTop()+w,u.scrollTop=0)}if(m){let w=u.scrollLeft;w&&(_.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+w,u.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(_,1)};this._register(se(i.domNode,"scroll",u=>h(i.domNode,!0,!0))),this._register(se(t.domNode,"scroll",u=>h(t.domNode,!0,!1))),this._register(se(n.domNode,"scroll",u=>h(n.domNode,!0,!1))),this._register(se(this.scrollbarDomNode.domNode,"scroll",u=>h(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){let e=this._context.configuration.options,t=e.get(131);this.scrollbarDomNode.setLeft(t.contentLeft),e.get(65).side==="right"?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)}onConfigurationChanged(e){if(e.hasChanged(92)||e.hasChanged(67)||e.hasChanged(34)){let t=this._context.configuration.options,i=t.get(92),n=t.get(67),o=t.get(34),s=t.get(95),a={vertical:i.vertical,horizontal:i.horizontal,verticalScrollbarSize:i.verticalScrollbarSize,horizontalScrollbarSize:i.horizontalScrollbarSize,scrollByPage:i.scrollByPage,handleMouseWheel:i.handleMouseWheel,mouseWheelScrollSensitivity:n,fastScrollSensitivity:o,scrollPredominantAxis:s};this.scrollbar.updateOptions(a)}return e.hasChanged(131)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+Zm(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}};yt((r,e)=>{let t=r.getColor(Jl);t&&e.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${t} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${t} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${t} 6px 6px 6px -6px inset;
			}
		`);let i=r.getColor(Zh);i&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${i};
			}
		`);let n=r.getColor(Gh);n&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${n};
			}
		`);let o=r.getColor(Xh);o&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${o};
			}
		`)});var mp=class{constructor(e,t,i){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(i)}},yv=class extends sl{_render(e,t,i){let n=[];for(let a=e;a<=t;a++){let l=a-e;n[l]=[]}if(i.length===0)return n;i.sort((a,l)=>a.className===l.className?a.startLineNumber===l.startLineNumber?a.endLineNumber-l.endLineNumber:a.startLineNumber-l.startLineNumber:a.className<l.className?-1:1);let o=null,s=0;for(let a=0,l=i.length;a<l;a++){let c=i[a],d=c.className,h=Math.max(c.startLineNumber,e)-e,u=Math.min(c.endLineNumber,t)-e;o===d?(h=Math.max(s+1,h),s=Math.max(s,u)):(o=d,s=u);for(let f=h;f<=s;f++)n[f].push(o)}return n}},FR=class extends yv{constructor(e){super();this._context=e;let t=this._context.configuration.options,i=t.get(131);this._lineHeight=t.get(59),this._glyphMargin=t.get(50),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){let t=this._context.configuration.options,i=t.get(131);return this._lineHeight=t.get(59),this._glyphMargin=t.get(50),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){let t=e.getDecorationsInViewport(),i=[],n=0;for(let o=0,s=t.length;o<s;o++){let a=t[o],l=a.options.glyphMarginClassName;l&&(i[n++]=new mp(a.range.startLineNumber,a.range.endLineNumber,l))}return i}prepareRender(e){if(!this._glyphMargin){this._renderResult=null;return}let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o=this._lineHeight.toString(),s=this._glyphMarginLeft.toString(),a=this._glyphMarginWidth.toString(),l='" style="left:'+s+"px;width:"+a+"px;height:"+o+'px;"></div>',c=[];for(let d=t;d<=i;d++){let h=d-t,u=n[h];u.length===0?c[h]="":c[h]='<div class="cgmr codicon '+u.join(" ")+l}this._renderResult=c}render(e,t){if(!this._renderResult)return"";let i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}};Gs();pt();lt();jt();ai();WR();mk();var UR=class extends sl{constructor(e){super();this._context=e,this._primaryPosition=null;let t=this._context.configuration.options,i=t.get(132),n=t.get(44);this._lineHeight=t.get(59),this._spaceWidth=n.spaceWidth,this._maxIndentLeft=i.wrappingColumn===-1?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){let t=this._context.configuration.options,i=t.get(132),n=t.get(44);return this._lineHeight=t.get(59),this._spaceWidth=n.spaceWidth,this._maxIndentLeft=i.wrappingColumn===-1?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),!0}onCursorStateChanged(e){var t;let n=e.selections[0].getPosition();return!((t=this._primaryPosition)===null||t===void 0)&&t.equals(n)?!1:(this._primaryPosition=n,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var t,i,n,o;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}let s=e.visibleRange.startLineNumber,a=e.visibleRange.endLineNumber,l=e.scrollWidth,c=this._lineHeight,d=this._primaryPosition,h=this.getGuidesByLine(s,a,d),u=[];for(let f=s;f<=a;f++){let m=f-s,_=h[m],w="",y=(i=(t=e.visibleRangeForPosition(new V(f,1)))===null||t===void 0?void 0:t.left)!==null&&i!==void 0?i:0;for(let C of _){let E=y+(C.visibleColumn-1)*this._spaceWidth;if(E>l||this._maxIndentLeft>0&&E>this._maxIndentLeft)break;let L=C.horizontalLine?C.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",k=C.horizontalLine?((o=(n=e.visibleRangeForPosition(new V(f,C.horizontalLine.endColumn)))===null||n===void 0?void 0:n.left)!==null&&o!==void 0?o:E+this._spaceWidth)-E:this._spaceWidth;w+=`<div class="core-guide ${C.className} ${L}" style="left:${E}px;height:${c}px;width:${k}px"></div>`}u[m]=w}this._renderResult=u}getGuidesByLine(e,t,i){let n=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(e,t,i,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?cu.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?cu.EnabledForActive:cu.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,o=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(e,t):null,s=0,a=0,l=0;if(this._bracketPairGuideOptions.highlightActiveIndentation&&i){let h=this._context.viewModel.getActiveIndentGuide(i.lineNumber,e,t);s=h.startLineNumber,a=h.endLineNumber,l=h.indent}let{indentSize:c}=this._context.viewModel.model.getOptions(),d=[];for(let h=e;h<=t;h++){let u=new Array;d.push(u);let f=n?n[h-e]:[],m=new Ol(f),_=o?o[h-e]:[];for(let w=1;w<=_;w++){let y=(w-1)*c+1,C=f.length===0&&s<=h&&h<=a&&w===l;u.push(...m.takeWhile(L=>L.visibleColumn<y)||[]);let E=m.peek();(!E||E.visibleColumn!==y||E.horizontalLine)&&u.push(new Bd(y,C?"core-guide-indent-active":"core-guide-indent",null))}u.push(...m.takeWhile(w=>!0)||[])}return d}render(e,t){if(!this._renderResult)return"";let i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}};function _k(r){if(!(r&&r.isTransparent()))return r}yt((r,e)=>{let t=r.getColor(fv);t&&e.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${t} inset; }`);let i=r.getColor(gv)||t;i&&e.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${i} inset; }`);let n=[{bracketColor:QL,guideColor:wH,guideColorActive:DH},{bracketColor:JL,guideColor:CH,guideColorActive:LH},{bracketColor:ek,guideColor:yH,guideColorActive:kH},{bracketColor:tk,guideColor:SH,guideColorActive:IH},{bracketColor:ik,guideColor:EH,guideColorActive:OH},{bracketColor:nk,guideColor:xH,guideColorActive:TH}],o=new pk,s=n.map(a=>{var l,c;let d=r.getColor(a.bracketColor),h=r.getColor(a.guideColor),u=r.getColor(a.guideColorActive),f=_k((l=_k(h))!==null&&l!==void 0?l:d?.transparent(.3)),m=_k((c=_k(u))!==null&&c!==void 0?c:d);if(!(!f||!m))return{guideColor:f,guideColorActive:m}}).filter($j);if(s.length>0){for(let a=0;a<30;a++){let l=s[a%s.length];e.addRule(`.monaco-editor .${o.getInlineClassNameOfLevel(a).replace(/ /g,".")} { --guide-color: ${l.guideColor}; --guide-color-active: ${l.guideColorActive}; }`)}e.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),e.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),e.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),e.addRule(`.monaco-editor .vertical.${o.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),e.addRule(`.monaco-editor .horizontal-top.${o.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),e.addRule(`.monaco-editor .horizontal-bottom.${o.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}});xt();nt();lt();ye();var HH=class{constructor(){this._currentVisibleRange=new D(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}},$H=class{constructor(e,t,i,n,o,s,a){this.minimalReveal=e,this.lineNumber=t,this.startColumn=i,this.endColumn=n,this.startScrollTop=o,this.stopScrollTop=s,this.scrollType=a,this.type="range",this.minLineNumber=t,this.maxLineNumber=t}},KH=class{constructor(e,t,i,n,o){this.minimalReveal=e,this.selections=t,this.startScrollTop=i,this.stopScrollTop=n,this.scrollType=o,this.type="selections";let s=t[0].startLineNumber,a=t[0].endLineNumber;for(let l=1,c=t.length;l<c;l++){let d=t[l];s=Math.min(s,d.startLineNumber),a=Math.max(a,d.endLineNumber)}this.minLineNumber=s,this.maxLineNumber=a}},Ev=class extends An{constructor(e,t){super(e);this._linesContent=t,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new cy(this),this.domNode=this._visibleLines.domNode;let i=this._context.configuration,n=this._context.configuration.options,o=n.get(44),s=n.get(132),a=n.get(131);this._lineHeight=n.get(59),this._typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this._isViewportWrapping=s.isViewportWrapping,this._revealHorizontalRightPadding=n.get(89),this._horizontalScrollbarHeight=a.horizontalScrollbarHeight,this._cursorSurroundingLines=n.get(25),this._cursorSurroundingLinesStyle=n.get(26),this._canUseLayerHinting=!n.get(28),this._viewLineOptions=new $L(i,this._context.theme.type),wr.write(this.domNode,7),this.domNode.setClassName(`view-lines ${Ac}`),Cn(this.domNode,o),this._maxLineWidth=0,this._asyncUpdateLineWidths=new wt(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new wt(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new HH,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new ol(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(132)&&(this._maxLineWidth=0);let t=this._context.configuration.options,i=t.get(44),n=t.get(132),o=t.get(131);return this._lineHeight=t.get(59),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._isViewportWrapping=n.isViewportWrapping,this._revealHorizontalRightPadding=t.get(89),this._horizontalScrollbarHeight=o.horizontalScrollbarHeight,this._cursorSurroundingLines=t.get(25),this._cursorSurroundingLinesStyle=t.get(26),this._canUseLayerHinting=!t.get(28),Cn(this.domNode,i),this._onOptionsMaybeChanged(),e.hasChanged(131)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){let e=this._context.configuration,t=new $L(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;let i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let o=i;o<=n;o++)this._visibleLines.getVisibleLine(o).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(e){let t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),n=!1;for(let o=t;o<=i;o++)n=this._visibleLines.getVisibleLine(o).onSelectionChanged()||n;return n}onDecorationsChanged(e){{let t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++)this._visibleLines.getVisibleLine(n).onDecorationsChanged()}return!0}onFlushed(e){let t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){let t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.minimalReveal,e.range,e.selections,e.verticalType);if(t===-1)return!1;let i=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new $H(e.minimalReveal,e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new KH(e.minimalReveal,e.selections,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;let o=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(i,o),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){let t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,t){let i=this._getViewLineDomNode(e);if(i===null)return null;let n=this._getLineNumberFor(i);if(n===-1||n<1||n>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(n)===1)return new V(n,1);let o=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();if(n<o||n>s)return null;let a=this._visibleLines.getVisibleLine(n).getColumnOfNodeOffset(n,e,t),l=this._context.viewModel.getLineMinColumn(n);return a<l&&(a=l),new V(n,a)}_getViewLineDomNode(e){for(;e&&e.nodeType===1;){if(e.className===ol.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){let t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++){let o=this._visibleLines.getVisibleLine(n);if(e===o.getDomNode())return n}return-1}getLineWidth(e){let t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();return e<t||e>i?-1:this._visibleLines.getVisibleLine(e).getWidth()}linesVisibleRangesForRange(e,t){if(this.shouldRender())return null;let i=e.endLineNumber,n=D.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!n)return null;let o=[],s=0,a=new HL(this.domNode.domNode,this._textRangeRestingSpot),l=0;t&&(l=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new V(n.startLineNumber,1)).lineNumber);let c=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let h=n.startLineNumber;h<=n.endLineNumber;h++){if(h<c||h>d)continue;let u=h===n.startLineNumber?n.startColumn:1,f=h===n.endLineNumber?n.endColumn:this._context.viewModel.getLineMaxColumn(h),m=this._visibleLines.getVisibleLine(h).getVisibleRangesForRange(h,u,f,a);if(!!m){if(t&&h<i){let _=l;l=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new V(h+1,1)).lineNumber,_!==l&&(m.ranges[m.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}o[s++]=new eR(m.outsideRenderedLine,h,rp.from(m.ranges))}}return s===0?null:o}_visibleRangesForLineRange(e,t,i){return this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,t,i,new HL(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(e){let t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new tR(t.outsideRenderedLine,t.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(e){let t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),n=1,o=!0;for(let s=t;s<=i;s++){let a=this._visibleLines.getVisibleLine(s);if(e&&!a.getWidthIsFast()){o=!1;continue}n=Math.max(n,a.getWidth())}return o&&t===1&&i===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(n),o}_checkMonospaceFontAssumptions(){let e=-1,t=-1,i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let o=i;o<=n;o++){let s=this._visibleLines.getVisibleLine(o);if(s.needsMonospaceFontCheck()){let a=s.getWidth();a>t&&(t=a,e=o)}}if(e!==-1&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let o=i;o<=n;o++)this._visibleLines.getVisibleLine(o).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){let i=this._horizontalRevealRequest;if(e.startLineNumber<=i.minLineNumber&&i.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();let n=this._computeScrollLeftToReveal(i);n&&(this._isViewportWrapping||this._ensureMaxLineWidth(n.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:n.scrollLeft},i.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),Fi&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){let i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let o=i;o<=n;o++)if(this._visibleLines.getVisibleLine(o).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");let t=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-t),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){let t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,t,i,n,o,s){let a=e.top,l=e.height,c=a+l,d,h,u;if(o&&o.length>0){let _=o[0].startLineNumber,w=o[0].endLineNumber;for(let y=1,C=o.length;y<C;y++){let E=o[y];_=Math.min(_,E.startLineNumber),w=Math.max(w,E.endLineNumber)}d=!1,h=this._context.viewLayout.getVerticalOffsetForLineNumber(_),u=this._context.viewLayout.getVerticalOffsetForLineNumber(w)+this._lineHeight}else if(n)d=!0,h=this._context.viewLayout.getVerticalOffsetForLineNumber(n.startLineNumber),u=this._context.viewLayout.getVerticalOffsetForLineNumber(n.endLineNumber)+this._lineHeight;else return-1;if((t==="mouse"||i)&&this._cursorSurroundingLinesStyle==="default")i||(h-=this._lineHeight);else{let _=Math.min(l/this._lineHeight/2,this._cursorSurroundingLines);h-=_*this._lineHeight,u+=Math.max(0,_-1)*this._lineHeight}(s===0||s===4)&&(u+=i?this._horizontalScrollbarHeight:this._lineHeight);let m;if(u-h>l){if(!d)return-1;m=h}else if(s===5||s===6)if(s===6&&a<=h&&u<=c)m=a;else{let _=Math.max(5*this._lineHeight,l*.2),w=h-_,y=u-l;m=Math.max(y,w)}else if(s===1||s===2)if(s===2&&a<=h&&u<=c)m=a;else{let _=(h+u)/2;m=Math.max(0,_-l/2)}else m=this._computeMinimumScrolling(a,c,h,u,s===3,s===4);return m}_computeScrollLeftToReveal(e){let t=this._context.viewLayout.getCurrentViewport(),i=t.left,n=i+t.width,o=1073741824,s=0;if(e.type==="range"){let l=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!l)return null;for(let c of l.ranges)o=Math.min(o,Math.round(c.left)),s=Math.max(s,Math.round(c.left+c.width))}else for(let l of e.selections){if(l.startLineNumber!==l.endLineNumber)return null;let c=this._visibleRangesForLineRange(l.startLineNumber,l.startColumn,l.endColumn);if(!c)return null;for(let d of c.ranges)o=Math.min(o,Math.round(d.left)),s=Math.max(s,Math.round(d.left+d.width))}return e.minimalReveal||(o=Math.max(0,o-Ev.HORIZONTAL_EXTRA_PX),s+=this._revealHorizontalRightPadding),e.type==="selections"&&s-o>t.width?null:{scrollLeft:this._computeMinimumScrolling(i,n,o,s),maxHorizontalOffset:s}}_computeMinimumScrolling(e,t,i,n,o,s){e=e|0,t=t|0,i=i|0,n=n|0,o=!!o,s=!!s;let a=t-e;if(n-i<a){if(o)return i;if(s)return Math.max(0,n-a);if(i<e)return i;if(n>t)return Math.max(0,n-a)}else return i;return e}};Ev.HORIZONTAL_EXTRA_PX=30;var zR=class extends yv{constructor(e){super();this._context=e;let i=this._context.configuration.options.get(131);this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){let i=this._context.configuration.options.get(131);return this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){let t=e.getDecorationsInViewport(),i=[],n=0;for(let o=0,s=t.length;o<s;o++){let a=t[o],l=a.options.linesDecorationsClassName;l&&(i[n++]=new mp(a.range.startLineNumber,a.range.endLineNumber,l));let c=a.options.firstLineDecorationClassName;c&&(i[n++]=new mp(a.range.startLineNumber,a.range.startLineNumber,c))}return i}prepareRender(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o=this._decorationsLeft.toString(),s=this._decorationsWidth.toString(),a='" style="left:'+o+"px;width:"+s+'px;"></div>',l=[];for(let c=t;c<=i;c++){let d=c-t,h=n[d],u="";for(let f=0,m=h.length;f<m;f++)u+='<div class="cldr '+h[f]+a;l[d]=u}this._renderResult=l}render(e,t){return this._renderResult?this._renderResult[t-e]:""}};var VR=class extends yv{constructor(e){super();this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){let t=e.getDecorationsInViewport(),i=[],n=0;for(let o=0,s=t.length;o<s;o++){let a=t[o],l=a.options.marginClassName;l&&(i[n++]=new mp(a.range.startLineNumber,a.range.endLineNumber,l))}return i}prepareRender(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o=[];for(let s=t;s<=i;s++){let a=s-t,l=n[a],c="";for(let d=0,h=l.length;d<h;d++)c+='<div class="cmdr '+l[d]+'" style=""></div>';o[a]=c}this._renderResult=o}render(e,t){return this._renderResult?this._renderResult[t-e]:""}};Be();re();xt();He();ye();var Ds=class{constructor(e,t,i,n){this._rgba8Brand=void 0,this.r=Ds._clamp(e),this.g=Ds._clamp(t),this.b=Ds._clamp(i),this.a=Ds._clamp(n)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:e|0}};Ds.Empty=new Ds(0,0,0,0);Ee();re();cn();var og=class extends ${constructor(){super();this._onDidChange=new B,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(bi.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=I6(new og)),this._INSTANCE}_updateColorMap(){let e=bi.getColorMap();if(!e){this._colors=[Ds.Empty],this._backgroundIsLight=!0;return}this._colors=[Ds.Empty];for(let i=1;i<e.length;i++){let n=e[i].rgba;this._colors[i]=new Ds(n.r,n.g,n.b,Math.round(n.a*255))}let t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}};og._INSTANCE=null;Li();pt();mi();var qH=(()=>{let r=[];for(let e=32;e<=126;e++)r.push(e);return r.push(65533),r})(),YH=(r,e)=>(r-=32,r<0||r>96?e<=2?(r+96)%96:96-1:r);u0();var _p=class{constructor(e,t){this.scale=t,this._minimapCharRendererBrand=void 0,this.charDataNormal=_p.soften(e,12/15),this.charDataLight=_p.soften(e,50/60)}static soften(e,t){let i=new Uint8ClampedArray(e.length);for(let n=0,o=e.length;n<o;n++)i[n]=Mm(e[n]*t);return i}renderChar(e,t,i,n,o,s,a,l,c,d,h){let u=1*this.scale,f=2*this.scale,m=h?1:f;if(t+u>e.width||i+m>e.height){console.warn("bad render request outside image data");return}let _=d?this.charDataLight:this.charDataNormal,w=YH(n,c),y=e.width*4,C=a.r,E=a.g,L=a.b,k=o.r-C,M=o.g-E,I=o.b-L,T=Math.max(s,l),R=e.data,Z=w*u*f,q=i*y+t*4;for(let te=0;te<m;te++){let ne=q;for(let Ne=0;Ne<u;Ne++){let Oe=_[Z++]/255*(s/255);R[ne++]=C+k*Oe,R[ne++]=E+M*Oe,R[ne++]=L+I*Oe,R[ne++]=T}q+=y}}blockRenderChar(e,t,i,n,o,s,a,l){let c=1*this.scale,d=2*this.scale,h=l?1:d;if(t+c>e.width||i+h>e.height){console.warn("bad render request outside image data");return}let u=e.width*4,f=.5*(o/255),m=s.r,_=s.g,w=s.b,y=n.r-m,C=n.g-_,E=n.b-w,L=m+y*f,k=_+C*f,M=w+E*f,I=Math.max(o,a),T=e.data,R=i*u+t*4;for(let Z=0;Z<h;Z++){let q=R;for(let te=0;te<c;te++)T[q++]=L,T[q++]=k,T[q++]=M,T[q++]=I;R+=u}}};wm();var ZH={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},GH=r=>{let e=new Uint8ClampedArray(r.length/2);for(let t=0;t<r.length;t+=2)e[t>>1]=ZH[r[t]]<<4|ZH[r[t+1]]&15;return e},HR={1:ba(()=>GH("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:ba(()=>GH("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};u0();var bp=class{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let i;return HR[e]?i=new _p(HR[e](),e):i=bp.createFromSampleData(bp.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=i,i}static createSampleData(e){let t=document.createElement("canvas"),i=t.getContext("2d");t.style.height=`${16}px`,t.height=16,t.width=96*10,t.style.width=96*10+"px",i.fillStyle="#ffffff",i.font=`bold ${16}px ${e}`,i.textBaseline="middle";let n=0;for(let o of qH)i.fillText(String.fromCharCode(o),n,16/2),n+=10;return i.getImageData(0,0,96*10,16)}static createFromSampleData(e,t){if(e.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");let n=bp._downsample(e,t);return new _p(n,t)}static _downsampleChar(e,t,i,n,o){let s=1*o,a=2*o,l=n,c=0;for(let d=0;d<a;d++){let h=d/a*16,u=(d+1)/a*16;for(let f=0;f<s;f++){let m=f/s*10,_=(f+1)/s*10,w=0,y=0;for(let E=h;E<u;E++){let L=t+Math.floor(E)*3840,k=1-(E-Math.floor(E));for(let M=m;M<_;M++){let I=1-(M-Math.floor(M)),T=L+Math.floor(M)*4,R=I*k;y+=R,w+=e[T]*e[T+3]/255*R}}let C=w/y;c=Math.max(c,C),i[l++]=Mm(C)}}return c}static _downsample(e,t){let i=2*t*1*t,n=i*96,o=new Uint8ClampedArray(n),s=0,a=0,l=0;for(let c=0;c<96;c++)l=Math.max(l,this._downsampleChar(e,a,o,s,t)),s+=i,a+=10*4;if(l>0){let c=255/l;for(let d=0;d<n;d++)o[d]*=c}return o}};Us();wm();var Jhe=140,eue=2,Dv=class{constructor(e,t,i){let n=e.options,o=n.get(129),s=n.get(131),a=s.minimap,l=n.get(44),c=n.get(65);this.renderMinimap=a.renderMinimap,this.size=c.size,this.minimapHeightIsEditorHeight=a.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=n.get(94),this.showSlider=c.showSlider,this.pixelRatio=o,this.typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this.lineHeight=n.get(59),this.minimapLeft=a.minimapLeft,this.minimapWidth=a.minimapWidth,this.minimapHeight=s.height,this.canvasInnerWidth=a.minimapCanvasInnerWidth,this.canvasInnerHeight=a.minimapCanvasInnerHeight,this.canvasOuterWidth=a.minimapCanvasOuterWidth,this.canvasOuterHeight=a.minimapCanvasOuterHeight,this.isSampling=a.minimapIsSampling,this.editorHeight=s.height,this.fontScale=a.minimapScale,this.minimapLineHeight=a.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=ba(()=>bp.create(this.fontScale,l.fontFamily)),this.defaultBackgroundColor=i.getColor(2),this.backgroundColor=Dv._getMinimapBackground(t,this.defaultBackgroundColor),this.foregroundAlpha=Dv._getMinimapForegroundOpacity(t)}static _getMinimapBackground(e,t){let i=e.getColor(RV);return i?new Ds(i.rgba.r,i.rgba.g,i.rgba.b,Math.round(255*i.rgba.a)):t}static _getMinimapForegroundOpacity(e){let t=e.getColor(FV);return t?Ds._clamp(Math.round(255*t.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}},xv=class{constructor(e,t,i,n,o,s,a,l){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=i,this._computedSliderRatio=n,this.sliderTop=o,this.sliderHeight=s,this.startLineNumber=a,this.endLineNumber=l}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}static create(e,t,i,n,o,s,a,l,c,d,h){let u=e.pixelRatio,f=e.minimapLineHeight,m=Math.floor(e.canvasInnerHeight/f),_=e.lineHeight;if(e.minimapHeightIsEditorHeight){let k=l*e.lineHeight+(e.scrollBeyondLastLine?o-e.lineHeight:0),M=Math.max(1,Math.floor(o*o/k)),I=Math.max(0,e.minimapHeight-M),T=I/(d-o),R=c*T,Z=I>0,q=Math.floor(e.canvasInnerHeight/e.minimapLineHeight);return new xv(c,d,Z,T,R,M,1,Math.min(a,q))}let w;if(s&&i!==a){let k=i-t+1;w=Math.floor(k*f/u)}else{let k=o/_;w=Math.floor(k*f/u)}let y;e.scrollBeyondLastLine?y=(a-1)*f/u:y=Math.max(0,a*f/u-w),y=Math.min(e.minimapHeight-w,y);let C=y/(d-o),E=c*C,L=0;if(e.scrollBeyondLastLine&&(L=o/_-1),m>=a+L){let M=a,I=y>0;return new xv(c,d,I,C,E,w,1,M)}else{let k=Math.max(1,Math.floor(t-E*u/f));h&&h.scrollHeight===d&&(h.scrollTop>c&&(k=Math.min(k,h.startLineNumber)),h.scrollTop<c&&(k=Math.max(k,h.startLineNumber)));let M=Math.min(a,k+m-1),I=(c-n)/_,T=(t-k+I)*f/u;return new xv(c,d,!0,C,T,w,k,M)}}},fy=class{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}};fy.INVALID=new fy(-1);var $R=class{constructor(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new hk(()=>fy.INVALID),this._renderedLines._set(e.startLineNumber,i)}linesEquals(e){if(!this.scrollEquals(e))return!1;let i=this._renderedLines._get().lines;for(let n=0,o=i.length;n<o;n++)if(i[n].dy===-1)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){let e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}},bk=class{constructor(e,t,i,n){this._backgroundFillData=bk._createBackgroundFillData(t,i,n),this._buffers=[e.createImageData(t,i),e.createImageData(t,i)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;let e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,i){let n=i.r,o=i.g,s=i.b,a=i.a,l=new Uint8ClampedArray(e*t*4),c=0;for(let d=0;d<t;d++)for(let h=0;h<e;h++)l[c]=n,l[c+1]=o,l[c+2]=s,l[c+3]=a,c+=4;return l}},Lv=class{constructor(e,t){this.samplingRatio=e,this.minimapLines=t}static compute(e,t,i){if(e.renderMinimap===0||!e.isSampling)return[null,[]];let n=e.pixelRatio,o=e.lineHeight,s=e.scrollBeyondLastLine,{minimapLineCount:a}=bf.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:s,height:e.editorHeight,lineHeight:o,pixelRatio:n}),l=t/a,c=l/2;if(!i||i.minimapLines.length===0){let E=[];if(E[0]=1,a>1){for(let L=0,k=a-1;L<k;L++)E[L]=Math.round(L*l+c);E[a-1]=t}return[new Lv(l,E),[]]}let d=i.minimapLines,h=d.length,u=[],f=0,m=0,_=1,w=10,y=[],C=null;for(let E=0;E<a;E++){let L=Math.max(_,Math.round(E*l)),k=Math.max(L,Math.round((E+1)*l));for(;f<h&&d[f]<L;){if(y.length<w){let I=f+1+m;C&&C.type==="deleted"&&C._oldIndex===f-1?C.deleteToLineNumber++:(C={type:"deleted",_oldIndex:f,deleteFromLineNumber:I,deleteToLineNumber:I},y.push(C)),m--}f++}let M;if(f<h&&d[f]<=k)M=d[f],f++;else if(E===0?M=1:E+1===a?M=t:M=Math.round(E*l+c),y.length<w){let I=f+1+m;C&&C.type==="inserted"&&C._i===E-1?C.insertToLineNumber++:(C={type:"inserted",_i:E,insertFromLineNumber:I,insertToLineNumber:I},y.push(C)),m++}u[E]=M,_=M}if(y.length<w)for(;f<h;){let E=f+1+m;C&&C.type==="deleted"&&C._oldIndex===f-1?C.deleteToLineNumber++:(C={type:"deleted",_oldIndex:f,deleteFromLineNumber:E,deleteToLineNumber:E},y.push(C)),m--,f++}else y=[{type:"flush"}];return[new Lv(l,u),y]}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e)-1;for(;i>0&&this.minimapLines[i-1]>=e;)i--;let n=this.modelLineToMinimapLine(t)-1;for(;n+1<this.minimapLines.length&&this.minimapLines[n+1]<=t;)n++;if(i===n){let o=this.minimapLines[i];if(o<e||o>t)return null}return[i+1,n+1]}decorationLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e),n=this.modelLineToMinimapLine(t);return e!==t&&n===i&&(n===this.minimapLines.length?i>1&&i--:n++),[i,n]}onLinesDeleted(e){let t=e.toLineNumber-e.fromLineNumber+1,i=this.minimapLines.length,n=0;for(let o=this.minimapLines.length-1;o>=0&&!(this.minimapLines[o]<e.fromLineNumber);o--)this.minimapLines[o]<=e.toLineNumber?(this.minimapLines[o]=Math.max(1,e.fromLineNumber-1),i=Math.min(i,o),n=Math.max(n,o)):this.minimapLines[o]-=t;return[i,n]}onLinesInserted(e){let t=e.toLineNumber-e.fromLineNumber+1;for(let i=this.minimapLines.length-1;i>=0&&!(this.minimapLines[i]<e.fromLineNumber);i--)this.minimapLines[i]+=t}},qR=class extends An{constructor(e){super(e);this.tokensColorTracker=og.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new Dv(this._context.configuration,this._context.theme,this.tokensColorTracker);let[t]=Lv.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new gy(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){let e=new Dv(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(e)?!1:(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return e.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){let t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.toLineNumber);return t?this._actual.onLinesChanged(t[0],t[1]):!1}else return this._actual.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){if(this._samplingState){let[t,i]=this._samplingState.onLinesDeleted(e);return t<=i&&this._actual.onLinesChanged(t+1,i+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){let t=[];for(let i of e.ranges){let n=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.toLineNumber);n&&t.push({fromLineNumber:n[0],toLineNumber:n[1]})}return t.length?this._actual.onTokensChanged(t):!1}else return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),i=this._samplingState.modelLineToMinimapLine(i));let n={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:i,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(t),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(n)}_recreateLineSampling(){this._minimapSelections=null;let e=Boolean(this._samplingState),[t,i]=Lv.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(let n of i)switch(n.type){case"deleted":this._actual.onLinesDeleted(n.deleteFromLineNumber,n.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(n.insertFromLineNumber,n.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(e){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,t,i){if(this._samplingState){let n=[];for(let o=0,s=t-e+1;o<s;o++)i[o]?n[o]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[e+o-1]):n[o]=null;return n}return this._context.viewModel.getMinimapLinesRenderingData(e,t,i).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(let e of this._selections){let[t,i]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new he(t,e.startColumn,i,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){let i;if(this._samplingState){let o=this._samplingState.minimapLines[e-1],s=this._samplingState.minimapLines[t-1];i=new D(o,1,s,this._context.viewModel.getLineMaxColumn(s))}else i=new D(e,1,t,this._context.viewModel.getLineMaxColumn(t));let n=this._context.viewModel.getDecorationsInViewport(i);if(this._samplingState){let o=[];for(let s of n){if(!s.options.minimap)continue;let a=s.range,l=this._samplingState.modelLineToMinimapLine(a.startLineNumber),c=this._samplingState.modelLineToMinimapLine(a.endLineNumber);o.push(new C0(new D(l,a.startColumn,c,a.endColumn),s.options))}return o}return n}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.viewModel.revealRange("mouse",!1,new D(e,1,e,1),1,0)}setScrollTop(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e},1)}},gy=class extends ${constructor(e,t){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(qA),this._domNode=vt(document.createElement("div")),wr.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=vt(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=vt(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=vt(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=vt(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=vt(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=Bi(this._domNode.domNode,"mousedown",i=>{if(i.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(i.leftButton&&this._lastRenderData){let c=ji(this._slider.domNode),d=c.top+c.height/2;this._startSliderDragging(i.buttons,i.posx,d,i.posy,this._lastRenderData.renderedLayout)}return}let o=this._model.options.minimapLineHeight,s=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*i.browserEvent.offsetY,l=Math.floor(s/o)+this._lastRenderData.renderedLayout.startLineNumber;l=Math.min(l,this._model.getLineCount()),this._model.revealLineNumber(l)}),this._sliderMouseMoveMonitor=new Oa,this._sliderMouseDownListener=Bi(this._slider.domNode,"mousedown",i=>{i.preventDefault(),i.stopPropagation(),i.leftButton&&this._lastRenderData&&this._startSliderDragging(i.buttons,i.posx,i.posy,i.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=zt.addTarget(this._domNode.domNode),this._sliderTouchStartListener=se(this._domNode.domNode,li.Start,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(i))},{passive:!1}),this._sliderTouchMoveListener=se(this._domNode.domNode,li.Change,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(i)},{passive:!1}),this._sliderTouchEndListener=Bi(this._domNode.domNode,li.End,i=>{i.preventDefault(),i.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,t,i,n,o){this._slider.toggleClassName("active",!0);let s=(a,l)=>{let c=Math.abs(l-t);if(Ri&&c>Jhe){this._model.setScrollTop(o.scrollTop);return}let d=a-i;this._model.setScrollTop(o.getDesiredScrollTopFromDelta(d))};n!==i&&s(n,t),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,e,Oc,a=>s(a.posy,a.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){let t=this._domNode.domNode.getBoundingClientRect().top,i=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(i)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new bk(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return this._lastRenderData?this._lastRenderData.onLinesChanged(e,t):!1}onLinesDeleted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e,t),!0}onLinesInserted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(qA),this._renderDecorations=!0,!0}onTokensChanged(e){return this._lastRenderData?this._lastRenderData.onTokensChanged(e):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");let i=xv.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(i.sliderNeeded?"block":"none"),this._slider.setTop(i.sliderTop),this._slider.setHeight(i.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(i.sliderHeight),this.renderDecorations(i),this._lastRenderData=this.renderLines(i)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;let t=this._model.getSelections();t.sort(D.compareRangesUsingStarts);let i=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);i.sort((u,f)=>(u.options.zIndex||0)-(f.options.zIndex||0));let{canvasInnerWidth:n,canvasInnerHeight:o}=this._model.options,s=this._model.options.minimapLineHeight,a=this._model.options.minimapCharWidth,l=this._model.getOptions().tabSize,c=this._decorationsCanvas.domNode.getContext("2d");c.clearRect(0,0,n,o);let d=new KR(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(c,t,d,e,s),this._renderDecorationsLineHighlights(c,i,d,e,s);let h=new KR(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(c,t,h,e,s,l,a,n),this._renderDecorationsHighlights(c,i,h,e,s,l,a,n)}}_renderSelectionLineHighlights(e,t,i,n,o){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let s=0,a=0;for(let l of t){let c=Math.max(n.startLineNumber,l.startLineNumber),d=Math.min(n.endLineNumber,l.endLineNumber);if(c>d)continue;for(let f=c;f<=d;f++)i.set(f,!0);let h=(c-n.startLineNumber)*o,u=(d-n.startLineNumber)*o+o;a>=h||(a>s&&e.fillRect(Nh,s,e.canvas.width,a-s),s=h),a=u}a>s&&e.fillRect(Nh,s,e.canvas.width,a-s)}_renderDecorationsLineHighlights(e,t,i,n,o){let s=new Map;for(let a=t.length-1;a>=0;a--){let l=t[a],c=l.options.minimap;if(!c||c.position!==Rr.Inline)continue;let d=Math.max(n.startLineNumber,l.range.startLineNumber),h=Math.min(n.endLineNumber,l.range.endLineNumber);if(d>h)continue;let u=c.getColor(this._theme.value);if(!u||u.isTransparent())continue;let f=s.get(u.toString());f||(f=u.transparent(.5).toString(),s.set(u.toString(),f)),e.fillStyle=f;for(let m=d;m<=h;m++){if(i.has(m))continue;i.set(m,!0);let _=(d-n.startLineNumber)*o;e.fillRect(Nh,_,e.canvas.width,o)}}}_renderSelectionsHighlights(e,t,i,n,o,s,a,l){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(let c of t){let d=Math.max(n.startLineNumber,c.startLineNumber),h=Math.min(n.endLineNumber,c.endLineNumber);if(!(d>h))for(let u=d;u<=h;u++)this.renderDecorationOnLine(e,i,c,this._selectionColor,n,u,o,o,s,a,l)}}_renderDecorationsHighlights(e,t,i,n,o,s,a,l){for(let c of t){let d=c.options.minimap;if(!d)continue;let h=Math.max(n.startLineNumber,c.range.startLineNumber),u=Math.min(n.endLineNumber,c.range.endLineNumber);if(h>u)continue;let f=d.getColor(this._theme.value);if(!(!f||f.isTransparent()))for(let m=h;m<=u;m++)switch(d.position){case Rr.Inline:this.renderDecorationOnLine(e,i,c.range,f,n,m,o,o,s,a,l);continue;case Rr.Gutter:{let _=(m-n.startLineNumber)*o,w=2;this.renderDecoration(e,f,w,_,eue,o);continue}}}}renderDecorationOnLine(e,t,i,n,o,s,a,l,c,d,h){let u=(s-o.startLineNumber)*l;if(u+a<0||u>this._model.options.canvasInnerHeight)return;let{startLineNumber:f,endLineNumber:m}=i,_=f===s?i.startColumn:1,w=m===s?i.endColumn:this._model.getLineMaxColumn(s),y=this.getXOffsetForPosition(t,s,_,c,d,h),C=this.getXOffsetForPosition(t,s,w,c,d,h);this.renderDecoration(e,n,y,u,C-y,a)}getXOffsetForPosition(e,t,i,n,o,s){if(i===1)return Nh;if((i-1)*o>=s)return s;let l=e.get(t);if(!l){let c=this._model.getLineContent(t);l=[Nh];let d=Nh;for(let h=1;h<c.length+1;h++){let u=c.charCodeAt(h-1),f=u===9?n*o:Ya(u)?2*o:o,m=d+f;if(m>=s){l[h]=s;break}l[h]=m,d=m}e.set(t,l)}return i-1<l.length?l[i-1]:s}renderDecoration(e,t,i,n,o,s){e.fillStyle=t&&t.toString()||"",e.fillRect(i,n,o,s)}renderLines(e){let t=e.startLineNumber,i=e.endLineNumber,n=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){let Oe=this._lastRenderData._get();return new $R(e,Oe.imageData,Oe.lines)}let o=this._getBuffer();if(!o)return null;let[s,a,l]=gy._renderUntouchedLines(o,t,i,n,this._lastRenderData),c=this._model.getMinimapLinesRenderingData(t,i,l),d=this._model.getOptions().tabSize,h=this._model.options.defaultBackgroundColor,u=this._model.options.backgroundColor,f=this._model.options.foregroundAlpha,m=this._model.tokensColorTracker,_=m.backgroundIsLight(),w=this._model.options.renderMinimap,y=this._model.options.charRenderer(),C=this._model.options.fontScale,E=this._model.options.minimapCharWidth,k=(w===1?2:2+1)*C,M=n>k?Math.floor((n-k)/2):0,I=u.a/255,T=new Ds(Math.round((u.r-h.r)*I+h.r),Math.round((u.g-h.g)*I+h.g),Math.round((u.b-h.b)*I+h.b),255),R=0,Z=[];for(let Oe=0,je=i-t+1;Oe<je;Oe++)l[Oe]&&gy._renderLine(o,T,u.a,_,w,E,m,f,y,R,M,d,c[Oe],C,n),Z[Oe]=new fy(R),R+=n;let q=s===-1?0:s,ne=(a===-1?o.height:a)-q;return this._canvas.domNode.getContext("2d").putImageData(o,0,0,0,q,o.width,ne),new $R(e,o,Z)}static _renderUntouchedLines(e,t,i,n,o){let s=[];if(!o){for(let T=0,R=i-t+1;T<R;T++)s[T]=!0;return[-1,-1,s]}let a=o._get(),l=a.imageData.data,c=a.rendLineNumberStart,d=a.lines,h=d.length,u=e.width,f=e.data,m=(i-t+1)*n*u*4,_=-1,w=-1,y=-1,C=-1,E=-1,L=-1,k=0;for(let T=t;T<=i;T++){let R=T-t,Z=T-c,q=Z>=0&&Z<h?d[Z].dy:-1;if(q===-1){s[R]=!0,k+=n;continue}let te=q*u*4,ne=(q+n)*u*4,Ne=k*u*4,Oe=(k+n)*u*4;C===te&&L===Ne?(C=ne,L=Oe):(y!==-1&&(f.set(l.subarray(y,C),E),_===-1&&y===0&&y===E&&(_=C),w===-1&&C===m&&y===E&&(w=y)),y=te,C=ne,E=Ne,L=Oe),s[R]=!1,k+=n}y!==-1&&(f.set(l.subarray(y,C),E),_===-1&&y===0&&y===E&&(_=C),w===-1&&C===m&&y===E&&(w=y));let M=_===-1?-1:_/(u*4),I=w===-1?-1:w/(u*4);return[M,I,s]}static _renderLine(e,t,i,n,o,s,a,l,c,d,h,u,f,m,_){let w=f.content,y=f.tokens,C=e.width-s,E=_===1,L=Nh,k=0,M=0;for(let I=0,T=y.getCount();I<T;I++){let R=y.getEndOffset(I),Z=y.getForeground(I),q=a.getColor(Z);for(;k<R;k++){if(L>C)return;let te=w.charCodeAt(k);if(te===9){let ne=u-(k+M)%u;M+=ne-1,L+=ne*s}else if(te===32)L+=s;else{let ne=Ya(te)?2:1;for(let Ne=0;Ne<ne;Ne++)if(o===2?c.blockRenderChar(e,L,d+h,q,l,t,i,E):c.renderChar(e,L,d+h,te,q,l,t,i,m,n,E),L+=s,L>C)return}}}}},KR=class{constructor(e,t,i){this._startLineNumber=e,this._endLineNumber=t,this._defaultValue=i,this._values=[];for(let n=0,o=this._endLineNumber-this._startLineNumber+1;n<o;n++)this._values[n]=i}has(e){return this.get(e)!==this._defaultValue}set(e,t){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=t)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}};yt((r,e)=>{let t=r.getColor(BV);t&&e.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${t}; }`);let i=r.getColor(jV);i&&e.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${i}; }`);let n=r.getColor(WV);n&&e.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${n}; }`);let o=r.getColor(Jl);o&&e.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${o} -6px 0 6px -6px inset; }`)});var YR=class extends An{constructor(e){super(e);let i=this._context.configuration.options.get(131);this._widgets={},this._verticalScrollbarWidth=i.verticalScrollbarWidth,this._minimapWidth=i.minimap.minimapWidth,this._horizontalScrollbarHeight=i.horizontalScrollbarHeight,this._editorHeight=i.height,this._editorWidth=i.width,this._domNode=vt(document.createElement("div")),wr.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){let i=this._context.configuration.options.get(131);return this._verticalScrollbarWidth=i.verticalScrollbarWidth,this._minimapWidth=i.minimap.minimapWidth,this._horizontalScrollbarHeight=i.horizontalScrollbarHeight,this._editorHeight=i.height,this._editorWidth=i.width,!0}addWidget(e){let t=vt(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){let i=this._widgets[e.getId()];return i.preference===t?!1:(i.preference=t,this.setShouldRender(),!0)}removeWidget(e){let t=e.getId();if(this._widgets.hasOwnProperty(t)){let n=this._widgets[t].domNode.domNode;delete this._widgets[t],n.parentNode.removeChild(n),this.setShouldRender()}}_renderWidget(e){let t=e.domNode;if(e.preference===null){t.unsetTop();return}if(e.preference===0)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(e.preference===1){let i=t.domNode.clientHeight;t.setTop(this._editorHeight-i-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else e.preference===2&&(t.setTop(0),t.domNode.style.right="50%")}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);let t=Object.keys(this._widgets);for(let i=0,n=t.length;i<n;i++){let o=t[i];this._renderWidget(this._widgets[o])}}};Yn();lt();cn();Gs();var XH=class{constructor(e,t){let i=e.options;this.lineHeight=i.get(59),this.pixelRatio=i.get(129),this.overviewRulerLanes=i.get(74),this.renderBorder=i.get(73);let n=t.getColor(cH);this.borderColor=n?n.toString():null,this.hideCursor=i.get(52);let o=t.getColor(YL);this.cursorColor=o?o.transparent(.7).toString():null,this.themeType=t.type;let s=i.get(65),a=s.enabled,l=s.side,c=a?t.getColor(dH)||bi.getDefaultBackground():null;c===null||l==="left"?this.backgroundColor=null:this.backgroundColor=X.Format.CSS.formatHex(c);let h=i.get(131).overviewRuler;this.top=h.top,this.right=h.right,this.domWidth=h.width,this.domHeight=h.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);let[u,f]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=u,this.w=f}_initLanes(e,t,i){let n=t-e;if(i>=3){let o=Math.floor(n/3),s=Math.floor(n/3),a=n-o-s,l=e,c=l+o,d=l+o+a;return[[0,l,c,l,d,l,c,l],[0,o,a,o+a,s,o+a+s,a+s,o+a+s]]}else if(i===2){let o=Math.floor(n/2),s=n-o,a=e,l=a+o;return[[0,a,a,a,l,a,a,a],[0,o,o,o,s,o+s,o+s,o+s]]}else{let o=e,s=n;return[[0,o,o,o,o,o,o,o],[0,s,s,s,s,s,s,s]]}}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}},ZR=class extends An{constructor(e){super(e);this._domNode=vt(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=bi.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){let t=new XH(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,i=e.selections.length;t<i;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(V.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),this._domNode.setDisplay("none");return}this._domNode.setDisplay("block");let e=this._settings.canvasWidth,t=this._settings.canvasHeight,i=this._settings.lineHeight,n=this._context.viewLayout,o=this._context.viewLayout.getScrollHeight(),s=t/o,a=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),l=6*this._settings.pixelRatio|0,c=l/2|0,d=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?d.clearRect(0,0,e,t):(d.fillStyle=this._settings.backgroundColor,d.fillRect(0,0,e,t));let h=this._settings.x,u=this._settings.w;a.sort(y0.cmp);for(let f of a){let m=f.color,_=f.data;d.fillStyle=m;let w=0,y=0,C=0;for(let E=0,L=_.length/3;E<L;E++){let k=_[3*E],M=_[3*E+1],I=_[3*E+2],T=n.getVerticalOffsetForLineNumber(M)*s|0,R=(n.getVerticalOffsetForLineNumber(I)+i)*s|0;if(R-T<l){let q=(T+R)/2|0;q<c?q=c:q+c>t&&(q=t-c),T=q-c,R=q+c}T>C+1||k!==w?(E!==0&&d.fillRect(h[w],y,u[w],C-y),w=k,y=T,C=R):R>C&&(C=R)}d.fillRect(h[w],y,u[w],C-y)}if(!this._settings.hideCursor&&this._settings.cursorColor){let f=2*this._settings.pixelRatio|0,m=f/2|0,_=this._settings.x[7],w=this._settings.w[7];d.fillStyle=this._settings.cursorColor;let y=-100,C=-100;for(let E=0,L=this._cursorPositions.length;E<L;E++){let k=this._cursorPositions[E],M=n.getVerticalOffsetForLineNumber(k.lineNumber)*s|0;M<m?M=m:M+m>t&&(M=t-m);let I=M-m,T=I+f;I>C+1?(E!==0&&d.fillRect(_,y,w,C-y),y=I,C=T):T>C&&(C=T)}d.fillRect(_,y,w,C-y)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(d.beginPath(),d.lineWidth=1,d.strokeStyle=this._settings.borderColor,d.moveTo(0,0),d.lineTo(0,t),d.stroke(),d.moveTo(0,0),d.lineTo(e,0),d.stroke())}};var GR=class{constructor(e,t,i){this._colorZoneBrand=void 0,this.from=e|0,this.to=t|0,this.colorId=i|0}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}},vp=class{constructor(e,t,i,n){this._overviewRulerZoneBrand=void 0,this.startLineNumber=e,this.endLineNumber=t,this.heightInLines=i,this.color=n,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.heightInLines===t.heightInLines?e.endLineNumber-t.endLineNumber:e.heightInLines-t.heightInLines:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}},XR=class{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(vp.compare)}setLineHeight(e){return this._lineHeight===e?!1:(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth===e?!1:(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight===e?!1:(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight===e?!1:(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){let e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),i=Math.floor(this.getCanvasHeight()),n=Math.floor(this._outerHeight),o=i/n,s=Math.floor(4*this._pixelRatio/2),a=[];for(let l=0,c=this._zones.length;l<c;l++){let d=this._zones[l];if(!e){let L=d.getColorZones();if(L){a.push(L);continue}}let h=this._getVerticalOffsetForLine(d.startLineNumber),u=d.heightInLines===0?this._getVerticalOffsetForLine(d.endLineNumber)+t:h+d.heightInLines*t,f=Math.floor(o*h),m=Math.floor(o*u),_=Math.floor((f+m)/2),w=m-_;w<s&&(w=s),_-w<0&&(_=w),_+w>i&&(_=i-w);let y=d.color,C=this._color2Id[y];C||(C=++this._lastAssignedId,this._color2Id[y]=C,this._id2Color[C]=y);let E=new GR(_-w,_+w,C);d.setColorZone(E),a.push(E)}return this._colorZonesInvalid=!1,a.sort(GR.compare),a}};var QR=class extends Pc{constructor(e,t){super();this._context=e;let i=this._context.configuration.options;this._domNode=vt(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new XR(n=>this._context.viewLayout.getVerticalOffsetForLineNumber(n)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(59)),this._zoneManager.setPixelRatio(i.get(129)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){let t=this._context.configuration.options;return e.hasChanged(59)&&(this._zoneManager.setLineHeight(t.get(59)),this._render()),e.hasChanged(129)&&(this._zoneManager.setPixelRatio(t.get(129)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;let e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),n=this._zoneManager.getId2Color(),o=this._domNode.domNode.getContext("2d");return o.clearRect(0,0,e,t),i.length>0&&this._renderOneLane(o,i,n,e),!0}_renderOneLane(e,t,i,n){let o=0,s=0,a=0;for(let l of t){let c=l.colorId,d=l.from,h=l.to;c!==o?(e.fillRect(0,s,n,a-s),o=c,e.fillStyle=i[o],s=d,a=h):a>=d?a=Math.max(a,h):(e.fillRect(0,s,n,a-s),s=d,a=h)}e.fillRect(0,s,n,a-s)}};Gs();pt();var JR=class extends An{constructor(e){super(e);this.domNode=vt(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];let t=this._context.configuration.options;this._rulers=t.get(91),this._typicalHalfwidthCharacterWidth=t.get(44).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){let t=this._context.configuration.options;return this._rulers=t.get(91),this._typicalHalfwidthCharacterWidth=t.get(44).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){let e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){let{tabSize:n}=this._context.viewModel.model.getOptions(),o=n,s=t-e;for(;s>0;){let a=vt(document.createElement("div"));a.setClassName("view-ruler"),a.setWidth(o),this.domNode.appendChild(a),this._renderedRulers.push(a),s--}return}let i=e-t;for(;i>0;){let n=this._renderedRulers.pop();this.domNode.removeChild(n),i--}}render(e){this._ensureRulersCount();for(let t=0,i=this._rulers.length;t<i;t++){let n=this._renderedRulers[t],o=this._rulers[t];n.setBoxShadow(o.color?`1px 0 0 0 ${o.color} inset`:""),n.setHeight(Math.min(e.scrollHeight,1e6)),n.setLeft(o.column*this._typicalHalfwidthCharacterWidth)}}};yt((r,e)=>{let t=r.getColor(aH);t&&e.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${t} inset; }`)});Li();pt();var e2=class extends An{constructor(e){super(e);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;let i=this._context.configuration.options.get(92);this._useShadows=i.useShadows,this._domNode=vt(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){let e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e?(this._shouldShow=e,!0):!1}getDomNode(){return this._domNode}_updateWidth(){let t=this._context.configuration.options.get(131);t.minimap.renderMinimap===0||t.minimap.minimapWidth>0&&t.minimap.minimapLeft===0?this._width=t.width:this._width=t.width-t.minimap.minimapWidth-t.verticalScrollbarWidth}onConfigurationChanged(e){let i=this._context.configuration.options.get(92);return this._useShadows=i.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}};yt((r,e)=>{let t=r.getColor(Jl);t&&e.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${t} 0 6px 6px -6px inset; }`)});Li();pt();var QH=class{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}},JH=class{constructor(e,t){this.lineNumber=e,this.ranges=t}};function tue(r){return new QH(r)}function iue(r){return new JH(r.lineNumber,r.ranges.map(tue))}var xn=class extends sl{constructor(e){super();this._previousFrameVisibleRangesWithStyle=[],this._context=e;let t=this._context.configuration.options;this._lineHeight=t.get(59),this._roundedSelection=t.get(90),this._typicalHalfwidthCharacterWidth=t.get(44).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){let t=this._context.configuration.options;return this._lineHeight=t.get(59),this._roundedSelection=t.get(90),this._typicalHalfwidthCharacterWidth=t.get(44).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,i=e.length;t<i;t++)if(e[t].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(e,t,i){let n=this._typicalHalfwidthCharacterWidth/4,o=null,s=null;if(i&&i.length>0&&t.length>0){let a=t[0].lineNumber;if(a===e.startLineNumber)for(let c=0;!o&&c<i.length;c++)i[c].lineNumber===a&&(o=i[c].ranges[0]);let l=t[t.length-1].lineNumber;if(l===e.endLineNumber)for(let c=i.length-1;!s&&c>=0;c--)i[c].lineNumber===l&&(s=i[c].ranges[0]);o&&!o.startStyle&&(o=null),s&&!s.startStyle&&(s=null)}for(let a=0,l=t.length;a<l;a++){let c=t[a].ranges[0],d=c.left,h=c.left+c.width,u={top:0,bottom:0},f={top:0,bottom:0};if(a>0){let m=t[a-1].ranges[0].left,_=t[a-1].ranges[0].left+t[a-1].ranges[0].width;vk(d-m)<n?u.top=2:d>m&&(u.top=1),vk(h-_)<n?f.top=2:m<h&&h<_&&(f.top=1)}else o&&(u.top=o.startStyle.top,f.top=o.endStyle.top);if(a+1<l){let m=t[a+1].ranges[0].left,_=t[a+1].ranges[0].left+t[a+1].ranges[0].width;vk(d-m)<n?u.bottom=2:m<d&&d<_&&(u.bottom=1),vk(h-_)<n?f.bottom=2:h<_&&(f.bottom=1)}else s&&(u.bottom=s.startStyle.bottom,f.bottom=s.endStyle.bottom);c.startStyle=u,c.endStyle=f}}_getVisibleRangesWithStyle(e,t,i){let o=(t.linesVisibleRangesForRange(e,!0)||[]).map(iue);return!this._visibleRangesHaveGaps(o)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,o,i),o}_createSelectionPiece(e,t,i,n,o){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;left:"+n.toString()+"px;width:"+o.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(e,t,i,n){if(n.length===0)return;let o=!!n[0].ranges[0].startStyle,s=this._lineHeight.toString(),a=(this._lineHeight-1).toString(),l=n[0].lineNumber,c=n[n.length-1].lineNumber;for(let d=0,h=n.length;d<h;d++){let u=n[d],f=u.lineNumber,m=f-t,_=i&&(f===c||f===l)?a:s,w=i&&f===l?1:0,y="",C="";for(let E=0,L=u.ranges.length;E<L;E++){let k=u.ranges[E];if(o){let I=k.startStyle,T=k.endStyle;if(I.top===1||I.bottom===1){y+=this._createSelectionPiece(w,_,xn.SELECTION_CLASS_NAME,k.left-xn.ROUNDED_PIECE_WIDTH,xn.ROUNDED_PIECE_WIDTH);let R=xn.EDITOR_BACKGROUND_CLASS_NAME;I.top===1&&(R+=" "+xn.SELECTION_TOP_RIGHT),I.bottom===1&&(R+=" "+xn.SELECTION_BOTTOM_RIGHT),y+=this._createSelectionPiece(w,_,R,k.left-xn.ROUNDED_PIECE_WIDTH,xn.ROUNDED_PIECE_WIDTH)}if(T.top===1||T.bottom===1){y+=this._createSelectionPiece(w,_,xn.SELECTION_CLASS_NAME,k.left+k.width,xn.ROUNDED_PIECE_WIDTH);let R=xn.EDITOR_BACKGROUND_CLASS_NAME;T.top===1&&(R+=" "+xn.SELECTION_TOP_LEFT),T.bottom===1&&(R+=" "+xn.SELECTION_BOTTOM_LEFT),y+=this._createSelectionPiece(w,_,R,k.left+k.width,xn.ROUNDED_PIECE_WIDTH)}}let M=xn.SELECTION_CLASS_NAME;if(o){let I=k.startStyle,T=k.endStyle;I.top===0&&(M+=" "+xn.SELECTION_TOP_LEFT),I.bottom===0&&(M+=" "+xn.SELECTION_BOTTOM_LEFT),T.top===0&&(M+=" "+xn.SELECTION_TOP_RIGHT),T.bottom===0&&(M+=" "+xn.SELECTION_BOTTOM_RIGHT)}C+=this._createSelectionPiece(w,_,M,k.left,k.width)}e[m][0]+=y,e[m][1]+=C}}prepareRender(e){let t=[],i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber;for(let s=i;s<=n;s++){let a=s-i;t[a]=["",""]}let o=[];for(let s=0,a=this._selections.length;s<a;s++){let l=this._selections[s];if(l.isEmpty()){o[s]=null;continue}let c=this._getVisibleRangesWithStyle(l,e,this._previousFrameVisibleRangesWithStyle[s]);o[s]=c,this._actualRenderOneSelection(t,i,this._selections.length>1,c)}this._previousFrameVisibleRangesWithStyle=o,this._renderResult=t.map(([s,a])=>s+a)}render(e,t){if(!this._renderResult)return"";let i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}};xn.SELECTION_CLASS_NAME="selected-text";xn.SELECTION_TOP_LEFT="top-left-radius";xn.SELECTION_BOTTOM_LEFT="bottom-left-radius";xn.SELECTION_TOP_RIGHT="top-right-radius";xn.SELECTION_BOTTOM_RIGHT="bottom-right-radius";xn.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background";xn.ROUNDED_PIECE_WIDTH=10;yt((r,e)=>{let t=r.getColor(Pd);t&&e.addRule(`.monaco-editor .focused .selected-text { background-color: ${t}; }`);let i=r.getColor(X0);i&&e.addRule(`.monaco-editor .selected-text { background-color: ${i}; }`);let n=r.getColor(jz);n&&!n.isTransparent()&&e.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${n}; }`)});function vk(r){return r<0?-r:r}nt();Be();He();lt();ye();var t2=class{constructor(e,t,i,n,o,s){this.top=e,this.left=t,this.width=i,this.height=n,this.textContent=o,this.textContentClassName=s}},wk=class{constructor(e){this._context=e;let t=this._context.configuration.options,i=t.get(44);this._cursorStyle=t.get(24),this._lineHeight=t.get(59),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=vt(document.createElement("div")),this._domNode.setClassName(`cursor ${Ac}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),Cn(this._domNode,i),this._domNode.setDisplay("none"),this._position=new V(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){let t=this._context.configuration.options,i=t.get(44);return this._cursorStyle=t.get(24),this._lineHeight=t.get(59),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(27),this._typicalHalfwidthCharacterWidth),Cn(this._domNode,i),!0}onCursorPositionChanged(e){return this._position=e,!0}_getGraphemeAwarePosition(){let{lineNumber:e,column:t}=this._position,i=this._context.viewModel.getLineContent(e),[n,o]=rW(i,t-1);return[new V(e,n+1),i.substring(n,o)]}_prepareRender(e){let t="",[i,n]=this._getGraphemeAwarePosition();if(this._cursorStyle===uo.Line||this._cursorStyle===uo.LineThin){let u=e.visibleRangeForPosition(i);if(!u||u.outsideRenderedLine)return null;let f;this._cursorStyle===uo.Line?(f=LA(this._lineCursorWidth>0?this._lineCursorWidth:2),f>2&&(t=n)):f=LA(1);let m=u.left;f>=2&&m>=1&&(m-=1);let _=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.bigNumbersDelta;return new t2(_,m,f,this._lineHeight,t,"")}let o=e.linesVisibleRangesForRange(new D(i.lineNumber,i.column,i.lineNumber,i.column+n.length),!1);if(!o||o.length===0)return null;let s=o[0];if(s.outsideRenderedLine||s.ranges.length===0)return null;let a=s.ranges[0],l=a.width<1?this._typicalHalfwidthCharacterWidth:a.width,c="";if(this._cursorStyle===uo.Block){let u=this._context.viewModel.getViewLineData(i.lineNumber);t=n;let f=u.tokens.findTokenIndexAtOffset(i.column-1);c=u.tokens.getClassName(f)}let d=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.bigNumbersDelta,h=this._lineHeight;return(this._cursorStyle===uo.Underline||this._cursorStyle===uo.UnderlineThin)&&(d+=this._lineHeight-2,h=2),new t2(d,a.left,l,h,t,c)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${Ac} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}};Gs();pt();var wp=class extends An{constructor(e){super(e);let t=this._context.configuration.options;this._readOnly=t.get(81),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new wk(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=vt(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new mn,this._cursorFlatBlinkInterval=new bd,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){let t=this._context.configuration.options;this._readOnly=t.get(81),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let i=0,n=this._secondaryCursors.length;i<n;i++)this._secondaryCursors[i].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<t.length){let i=t.length-this._secondaryCursors.length;for(let n=0;n<i;n++){let o=new wk(this._context);this._domNode.domNode.insertBefore(o.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(o)}}else if(this._secondaryCursors.length>t.length){let i=this._secondaryCursors.length-t.length;for(let n=0;n<i;n++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let i=0;i<t.length;i++)this._secondaryCursors[i].onCursorPositionChanged(t[i])}onCursorStateChanged(e){let t=[];for(let n=0,o=e.selections.length;n<o;n++)t[n]=e.selections[n].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));let i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){let t=i=>{for(let n=0,o=e.ranges.length;n<o;n++)if(e.ranges[n].fromLineNumber<=i.lineNumber&&i.lineNumber<=e.ranges[n].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(let i of this._secondaryCursors)if(t(i.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();let e=this._getCursorBlinking(),t=e===0,i=e===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!i&&(e===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},wp.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},wp.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case uo.Line:e+=" cursor-line-style";break;case uo.Block:e+=" cursor-block-style";break;case uo.Underline:e+=" cursor-underline-style";break;case uo.LineThin:e+=" cursor-line-thin-style";break;case uo.BlockOutline:e+=" cursor-block-outline-style";break;case uo.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].prepareRender(e)}render(e){let t=[],i=0,n=this._primaryCursor.render(e);n&&(t[i++]=n);for(let o=0,s=this._secondaryCursors.length;o<s;o++){let a=this._secondaryCursors[o].render(e);a&&(t[i++]=a)}this._renderData=t}getLastRenderData(){return this._renderData}};wp.BLINK_INTERVAL=500;yt((r,e)=>{let t=r.getColor(YL);if(t){let i=r.getColor(rH);i||(i=t.opposite()),e.addRule(`.monaco-editor .inputarea.ime-input { caret-color: ${t}; }`),e.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${t}; border-color: ${t}; color: ${i}; }`),r.type==="hc"&&e.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${i}; border-right: 1px solid ${i}; }`)}});ut();lt();var i2=()=>{throw new Error("Invalid change accessor")},n2=class extends An{constructor(e){super(e);let t=this._context.configuration.options,i=t.get(131);this._lineHeight=t.get(59),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=vt(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=vt(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){let e=this._context.viewLayout.getWhitespaces(),t=new Map;for(let n of e)t.set(n.id,n);let i=!1;return this._context.viewModel.changeWhitespace(n=>{let o=Object.keys(this._zones);for(let s=0,a=o.length;s<a;s++){let l=o[s],c=this._zones[l],d=this._computeWhitespaceProps(c.delegate);c.isInHiddenArea=d.isInHiddenArea;let h=t.get(l);h&&(h.afterLineNumber!==d.afterViewLineNumber||h.height!==d.heightInPx)&&(n.changeOneWhitespace(l,d.afterViewLineNumber,d.heightInPx),this._safeCallOnComputedHeight(c.delegate,d.heightInPx),i=!0)}}),i}onConfigurationChanged(e){let t=this._context.configuration.options,i=t.get(131);return this._lineHeight=t.get(59),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,e.hasChanged(59)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return typeof e.afterColumn<"u"?e.afterColumn:1e4}_computeWhitespaceProps(e){if(e.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t;if(typeof e.afterColumn<"u")t=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{let s=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new V(s,this._context.viewModel.model.getLineMaxColumn(s))}let i;t.column===this._context.viewModel.model.getLineMaxColumn(t.lineNumber)?i=this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber+1,column:1}):i=this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber,column:t.column+1});let n=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t,e.afterColumnAffinity),o=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!o,afterViewLineNumber:n.lineNumber,heightInPx:o?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.viewModel.changeWhitespace(i=>{let n={addZone:o=>(t=!0,this._addZone(i,o)),removeZone:o=>{!o||(t=this._removeZone(i,o)||t)},layoutZone:o=>{!o||(t=this._layoutZone(i,o)||t)}};nue(e,n),n.addZone=i2,n.removeZone=i2,n.layoutZone=i2}),t}_addZone(e,t){let i=this._computeWhitespaceProps(t),o={whitespaceId:e.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:vt(t.domNode),marginDomNode:t.marginDomNode?vt(t.marginDomNode):null};return this._safeCallOnComputedHeight(o.delegate,i.heightInPx),o.domNode.setPosition("absolute"),o.domNode.domNode.style.width="100%",o.domNode.setDisplay("none"),o.domNode.setAttribute("monaco-view-zone",o.whitespaceId),this.domNode.appendChild(o.domNode),o.marginDomNode&&(o.marginDomNode.setPosition("absolute"),o.marginDomNode.domNode.style.width="100%",o.marginDomNode.setDisplay("none"),o.marginDomNode.setAttribute("monaco-view-zone",o.whitespaceId),this.marginDomNode.appendChild(o.marginDomNode)),this._zones[o.whitespaceId]=o,this.setShouldRender(),o.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){let i=this._zones[t];return delete this._zones[t],e.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){let i=this._zones[t],n=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=n.isInHiddenArea,e.changeOneWhitespace(i.whitespaceId,n.afterViewLineNumber,n.heightInPx),this._safeCallOnComputedHeight(i.delegate,n.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){if(this._zones.hasOwnProperty(e)){let t=this._zones[e];return Boolean(t.delegate.suppressMouseDown)}return!1}_heightInPixels(e){return typeof e.heightInPx=="number"?e.heightInPx:typeof e.heightInLines=="number"?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return typeof e.minWidthInPx=="number"?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if(typeof e.onComputedHeight=="function")try{e.onComputedHeight(t)}catch(i){Ie(i)}}_safeCallOnDomNodeTop(e,t){if(typeof e.onDomNodeTop=="function")try{e.onDomNodeTop(t)}catch(i){Ie(i)}}prepareRender(e){}render(e){let t=e.viewportData.whitespaceViewportData,i={},n=!1;for(let s of t)this._zones[s.id].isInHiddenArea||(i[s.id]=s,n=!0);let o=Object.keys(this._zones);for(let s=0,a=o.length;s<a;s++){let l=o[s],c=this._zones[l],d=0,h=0,u="none";i.hasOwnProperty(l)?(d=i[l].verticalOffset-e.bigNumbersDelta,h=i[l].height,u="block",c.isVisible||(c.domNode.setAttribute("monaco-visible-view-zone","true"),c.isVisible=!0),this._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(i[l].verticalOffset))):(c.isVisible&&(c.domNode.removeAttribute("monaco-visible-view-zone"),c.isVisible=!1),this._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),c.domNode.setTop(d),c.domNode.setHeight(h),c.domNode.setDisplay(u),c.marginDomNode&&(c.marginDomNode.setTop(d),c.marginDomNode.setHeight(h),c.marginDomNode.setDisplay(u))}n&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}};function nue(r,e){try{return r(e)}catch(t){Ie(t)}}lt();ye();var o2=class{constructor(e){this._theme=e}get type(){return this._theme.type}get value(){return this._theme}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}};var r2=class{constructor(e,t,i){this.configuration=e,this.theme=new o2(t),this.viewModel=i,this.viewLayout=i.viewLayout}addEventHandler(e){this.viewModel.addViewEventHandler(e)}removeEventHandler(e){this.viewModel.removeViewEventHandler(e)}};ye();var s2=class{constructor(e,t,i,n){this.selections=e,this.startLineNumber=t.startLineNumber|0,this.endLineNumber=t.endLineNumber|0,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=t.bigNumbersDelta|0,this.whitespaceViewportData=i,this._model=n,this.visibleRange=new D(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}};pt();var a2=class extends Pc{constructor(e,t,i,n,o,s){super();this._selections=[new he(1,1,1,1)],this._renderAnimationFrame=null;let a=new vR(t,n,o,e);this._context=new r2(t,i,n),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new fR(this._context,a,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=vt(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=vt(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=vt(document.createElement("div")),wr.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new RR(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new Ev(this._context,this._linesContent),this._viewZones=new n2(this._context),this._viewParts.push(this._viewZones);let l=new ZR(this._context);this._viewParts.push(l);let c=new e2(this._context);this._viewParts.push(c);let d=new yR(this._context);this._viewParts.push(d),d.addDynamicOverlay(new LR(this._context)),d.addDynamicOverlay(new xn(this._context)),d.addDynamicOverlay(new UR(this._context)),d.addDynamicOverlay(new IR(this._context));let h=new SR(this._context);this._viewParts.push(h),h.addDynamicOverlay(new kR(this._context)),h.addDynamicOverlay(new FR(this._context)),h.addDynamicOverlay(new VR(this._context)),h.addDynamicOverlay(new zR(this._context)),h.addDynamicOverlay(new au(this._context));let u=new Ad(this._context);u.getDomNode().appendChild(this._viewZones.marginDomNode),u.getDomNode().appendChild(h.getDomNode()),this._viewParts.push(u),this._contentWidgets=new xR(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new wp(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new YR(this._context),this._viewParts.push(this._overlayWidgets);let f=new JR(this._context);this._viewParts.push(f);let m=new qR(this._context);if(this._viewParts.push(m),l){let _=this._scrollbar.getOverviewRulerLayoutInfo();_.parent.insertBefore(l.getDomNode(),_.insertBefore)}this._linesContent.appendChild(d.getDomNode()),this._linesContent.appendChild(f.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(u.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(c.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(m.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),s?s.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new cR(this._context,a,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{let e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new rR(e,t)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new V(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(e))}}_applyLayout(){let t=this._context.configuration.options.get(131);this.domNode.setWidth(t.width),this.domNode.setHeight(t.height),this._overflowGuardContainer.setWidth(t.width),this._overflowGuardContainer.setHeight(t.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){let e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(128)+" "+Zm(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this._context.theme.update(e.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(let e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=SA(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){oue(()=>this._actualRender())}_getViewPartsToRender(){let e=[],t=0;for(let i of this._viewParts)i.shouldRender()&&(e[t++]=i);return e}_actualRender(){if(!Kb(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&e.length===0)return;let t=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);let i=new s2(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(i),this._viewLines.shouldRender()&&(this._viewLines.renderText(i),this._viewLines.onDidRender(),e=this._getViewPartsToRender());let n=new JA(this._context.viewLayout,i,this._viewLines);for(let o of e)o.prepareRender(n);for(let o of e)o.render(n),o.onDidRender()}delegateVerticalScrollbarMouseDown(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)}restoreState(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e.scrollTop},1),this._context.viewModel.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:e.scrollLeft},1)}getOffsetForColumn(e,t){let i=this._context.viewModel.model.validatePosition({lineNumber:e,column:t}),n=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();let o=this._viewLines.visibleRangeForPosition(new V(n.lineNumber,n.column));return o?o.left:-1}getTargetAtClientPoint(e,t){let i=this._pointerHandler.getTargetAtClientPoint(e,t);return i?fp.convertViewToModelMouseTarget(i,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(e){return new QR(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(let i of this._viewParts)i.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){let t=e.position&&e.position.range||null;if(t===null){let n=e.position?e.position.position:null;n!==null&&(t=new D(n.lineNumber,n.column,n.lineNumber,n.column))}let i=e.position?e.position.preference:null;this._contentWidgets.setWidgetPosition(e.widget,t,i),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){let t=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}};function oue(r){try{return r()}catch(e){Ie(e)}}ut();He();jt();lt();ye();mi();var kv=class{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new Rn(new D(1,1,1,1),0,new V(1,1),0),new Rn(new D(1,1,1,1),0,new V(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){!this._trackSelection||(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new It(this.modelState,this.viewState)}readSelectionFromMarkers(e){let t=e.model._getTrackedRange(this._selTrackedRange);return he.fromRange(t,this.modelState.selection.getDirection())}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,i){this._setState(e,t,i)}static _validatePositionWithCache(e,t,i,n){return t.equals(i)?n:e.normalizePosition(t,2)}static _validateViewState(e,t){let i=t.position,n=t.selectionStart.getStartPosition(),o=t.selectionStart.getEndPosition(),s=e.normalizePosition(i,2),a=this._validatePositionWithCache(e,n,i,s),l=this._validatePositionWithCache(e,o,n,a);return i.equals(s)&&n.equals(a)&&o.equals(l)?t:new Rn(D.fromPositions(a,l),t.selectionStartLeftoverVisibleColumns+n.column-a.column,s,t.leftoverVisibleColumns+i.column-s.column)}_setState(e,t,i){if(i&&(i=kv._validateViewState(e.viewModel,i)),t){let n=e.model.validateRange(t.selectionStart),o=t.selectionStart.equalsRange(n)?t.selectionStartLeftoverVisibleColumns:0,s=e.model.validatePosition(t.position),a=t.position.equals(s)?t.leftoverVisibleColumns:0;t=new Rn(n,o,s,a)}else{if(!i)return;let n=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(i.selectionStart)),o=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(i.position));t=new Rn(n,i.selectionStartLeftoverVisibleColumns,o,i.leftoverVisibleColumns)}if(i){let n=e.coordinatesConverter.validateViewRange(i.selectionStart,t.selectionStart),o=e.coordinatesConverter.validateViewPosition(i.position,t.position);i=new Rn(n,t.selectionStartLeftoverVisibleColumns,o,t.leftoverVisibleColumns)}else{let n=e.coordinatesConverter.convertModelPositionToViewPosition(new V(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),o=e.coordinatesConverter.convertModelPositionToViewPosition(new V(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),s=new D(n.lineNumber,n.column,o.lineNumber,o.column),a=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);i=new Rn(s,t.selectionStartLeftoverVisibleColumns,a,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=i,this._updateTrackedRange(e)}};lt();ye();mi();var Ck=class{constructor(e){this.context=e,this.cursors=[new kv(e)],this.lastAddedCursorIndex=0}dispose(){for(let e of this.cursors)e.dispose(this.context)}startTrackingSelections(){for(let e of this.cursors)e.startTrackingSelection(this.context)}stopTrackingSelections(){for(let e of this.cursors)e.stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){for(let e of this.cursors)e.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(e=>e.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(e=>e.asCursorState())}getViewPositions(){return this.cursors.map(e=>e.viewState.position)}getTopMostViewPosition(){return Hj(this.cursors,ib(e=>e.viewState.position,V.compare)).viewState.position}getBottomMostViewPosition(){return Vj(this.cursors,ib(e=>e.viewState.position,V.compare)).viewState.position}getSelections(){return this.cursors.map(e=>e.modelState.selection)}getViewSelections(){return this.cursors.map(e=>e.viewState.selection)}setSelections(e){this.setStates(It.fromModelSelections(e))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(e){e!==null&&(this.cursors[0].setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){let t=this.cursors.length-1,i=e.length;if(t<i){let n=i-t;for(let o=0;o<n;o++)this._addSecondaryCursor()}else if(t>i){let n=t-i;for(let o=0;o<n;o++)this._removeSecondaryCursor(this.cursors.length-2)}for(let n=0;n<i;n++)this.cursors[n+1].setState(this.context,e[n].modelState,e[n].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new kv(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.cursors[e+1].dispose(this.context),this.cursors.splice(e+1,1)}normalize(){if(this.cursors.length===1)return;let e=this.cursors.slice(0),t=[];for(let i=0,n=e.length;i<n;i++)t.push({index:i,selection:e[i].modelState.selection});t.sort(ib(i=>i.selection,D.compareRangesUsingStarts));for(let i=0;i<t.length-1;i++){let n=t[i],o=t[i+1],s=n.selection,a=o.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let l;if(a.isEmpty()||s.isEmpty()?l=a.getStartPosition().isBeforeOrEqual(s.getEndPosition()):l=a.getStartPosition().isBefore(s.getEndPosition()),l){let c=n.index<o.index?i:i+1,d=n.index<o.index?i+1:i,h=t[d].index,u=t[c].index,f=t[d].selection,m=t[c].selection;if(!f.equalsSelection(m)){let _=f.plusRange(m),w=f.selectionStartLineNumber===f.startLineNumber&&f.selectionStartColumn===f.startColumn,y=m.selectionStartLineNumber===m.startLineNumber&&m.selectionStartColumn===m.startColumn,C;h===this.lastAddedCursorIndex?(C=w,this.lastAddedCursorIndex=u):C=y;let E;C?E=new he(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn):E=new he(_.endLineNumber,_.endColumn,_.startLineNumber,_.startColumn),t[c].selection=E;let L=It.fromModelSelection(E);e[u].setState(this.context,L.modelState,L.viewState)}for(let _ of t)_.index>h&&_.index--;e.splice(h,1),t.splice(d,1),this._removeSecondaryCursor(h-1),i--}}}};var yk=class{constructor(e,t,i,n){this._cursorContextBrand=void 0,this.model=e,this.viewModel=t,this.coordinatesConverter=i,this.cursorConfig=n}};ye();mi();rg();var u2=class{constructor(){this.type=0}},f2=class{constructor(){this.type=1}},g2=class{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}},m2=class{constructor(e,t){this.type=3,this.selections=e,this.modelSelections=t}},sg=class{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}},Ov=class{constructor(){this.type=5}},p2=class{constructor(e){this.type=6,this.isFocused=e}},_2=class{constructor(){this.type=7}},Tv=class{constructor(){this.type=8}},Ek=class{constructor(e,t){this.type=9,this.fromLineNumber=e,this.toLineNumber=t}},py=class{constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}},_y=class{constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}},Cp=class{constructor(e,t,i,n,o,s,a){this.source=e,this.minimalReveal=t,this.range=i,this.selections=n,this.verticalType=o,this.revealHorizontal=s,this.scrollType=a,this.type=12}},b2=class{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}},v2=class{constructor(e){this.theme=e,this.type=14}},w2=class{constructor(e){this.type=15,this.ranges=e}},C2=class{constructor(){this.type=16}},y2=class{constructor(){this.type=17}};re();Ee();re();var S2=class extends ${constructor(){super();this._onEvent=this._register(new B),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let t=0,i=this._outgoingEvents.length;t<i;t++)if(this._outgoingEvents[t].kind===e.kind){this._outgoingEvents[t]=this._outgoingEvents[t].merge(e);return}this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;let e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,i=this._eventHandlers.length;t<i;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new t$),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){let e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(let i of e)this._addOutgoingEvent(i);t.length>0&&this._emitMany(t)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){let e=this._viewEventQueue;this._viewEventQueue=null;let t=this._eventHandlers.slice(0);for(let i of t)i.handleEvents(e)}}},t$=class{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}},by=class{constructor(e,t,i,n){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=i,this.contentHeight=n,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(e){return e.kind!==0?this:new by(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}},vy=class{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(e){return e.kind!==1?this:new vy(this.oldHasFocus,e.hasFocus)}},wy=class{constructor(e,t,i,n,o,s,a,l){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=i,this._oldScrollTop=n,this.scrollWidth=o,this.scrollLeft=s,this.scrollHeight=a,this.scrollTop=l,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(e){return e.kind!==2?this:new wy(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}},xk=class{constructor(){this.kind=3}isNoOp(){return!1}merge(e){return this}};var Nv=class{constructor(e,t,i,n,o,s,a){this.kind=6,this.oldSelections=e,this.selections=t,this.oldModelVersionId=i,this.modelVersionId=n,this.source=o,this.reason=s,this.reachedMaxCursorCount=a}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;let i=e.length,n=t.length;if(i!==n)return!1;for(let o=0;o<i;o++)if(!e[o].equalsSelection(t[o]))return!1;return!0}isNoOp(){return Nv._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(e){return e.kind!==6?this:new Nv(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}},E2=class{constructor(){this.kind=5}isNoOp(){return!1}merge(e){return this}};var du=class extends ${constructor(e,t,i,n){super();this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=i,this.context=new yk(this._model,this._viewModel,this._coordinatesConverter,n),this._cursors=new Ck(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=dt(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new yk(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){let i=this._autoClosedActions[t];i.isValid(e)||(i.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,i,n){let o=!1;n!==null&&n.length>du.MAX_CURSOR_COUNT&&(n=n.slice(0,du.MAX_CURSOR_COUNT),o=!0);let s=Pv.from(this._model,this);return this._cursors.setStates(n),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,i,s,o)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,t,i,n,o,s){let a=this._cursors.getViewPositions(),l=null,c=null;a.length>1?c=this._cursors.getViewSelections():l=D.fromPositions(a[0],a[0]),e.emitViewEvent(new Cp(t,i,l,c,n,o,s))}saveState(){let e=[],t=this._cursors.getSelections();for(let i=0,n=t.length;i<n;i++){let o=t[i];e.push({inSelectionMode:!o.isEmpty(),selectionStart:{lineNumber:o.selectionStartLineNumber,column:o.selectionStartColumn},position:{lineNumber:o.positionLineNumber,column:o.positionColumn}})}return e}restoreState(e,t){let i=[];for(let n=0,o=t.length;n<o;n++){let s=t[n],a=1,l=1;s.position&&s.position.lineNumber&&(a=s.position.lineNumber),s.position&&s.position.column&&(l=s.position.column);let c=a,d=l;s.selectionStart&&s.selectionStart.lineNumber&&(c=s.selectionStart.lineNumber),s.selectionStart&&s.selectionStart.column&&(d=s.selectionStart.column),i.push({selectionStartLineNumber:c,selectionStartColumn:d,positionLineNumber:a,positionColumn:l})}this.setStates(e,"restoreState",0,It.fromModelSelections(i)),this.revealPrimary(e,"restoreState",!1,0,!0,1)}onModelContentChanged(e,t){if(t instanceof my){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=t.versionId,this._isHandling)return;let i=t.containsEvent(1);if(this._prevEditOperationType=0,i)this._cursors.dispose(),this._cursors=new Ck(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&t.resultingSelection&&t.resultingSelection.length>0){let n=It.fromModelSelections(t.resultingSelection);this.setStates(e,"modelChange",t.isUndoing?5:t.isRedoing?6:2,n)&&this.revealPrimary(e,"modelChange",!1,0,!0,0)}else{let n=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,It.fromModelSelections(n))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;let e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),i=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,t),toViewLineNumber:i.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,i)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,i,n){this.setStates(e,t,n,It.fromModelSelections(i))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){let i=[],n=[];for(let a=0,l=e.length;a<l;a++)i.push({range:e[a],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),n.push({range:t[a],options:{description:"auto-closed-enclosing",stickiness:1}});let o=this._model.deltaDecorations([],i),s=this._model.deltaDecorations([],n);this._autoClosedActions.push(new x2(this._model,o,s))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();let t=i$.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);let i=[],n=[];for(let o=0;o<e.commands.length;o++){let s=e.commands[o];s instanceof lk&&s.enclosingRange&&s.closeCharacterRange&&(i.push(s.closeCharacterRange),n.push(s.enclosingRange))}i.length>0&&this._pushAutoClosedAction(i,n),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){(!e||e.length===0)&&(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,i,n,o){let s=Pv.from(this._model,this);if(s.equals(n))return!1;let a=this._cursors.getSelections(),l=this._cursors.getViewSelections();if(e.emitViewEvent(new m2(l,a)),!n||n.cursorState.length!==s.cursorState.length||s.cursorState.some((c,d)=>!c.modelState.equals(n.cursorState[d].modelState))){let c=n?n.cursorState.map(h=>h.modelState.selection):null,d=n?n.modelVersionId:0;e.emitOutgoingEvent(new Nv(c,a,d,s.modelVersionId,t||"keyboard",i,o))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;let t=[];for(let i=0,n=e.length;i<n;i++){let o=e[i];if(!o.text||o.text.indexOf(`
`)>=0)return null;let s=o.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!s)return null;let a=s[1],l=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(a);if(!l||l.length!==1)return null;let c=l[0].open,d=o.text.length-s[2].length-1,h=o.text.lastIndexOf(c,d-1);if(h===-1)return null;t.push([h,d])}return t}executeEdits(e,t,i,n){let o=null;t==="snippet"&&(o=this._findAutoClosingPairs(i)),o&&(i[0]._isTracked=!0);let s=[],a=[],l=this._model.pushEditOperations(this.getSelections(),i,c=>{if(o)for(let h=0,u=o.length;h<u;h++){let[f,m]=o[h],_=c[h],w=_.range.startLineNumber,y=_.range.startColumn-1+f,C=_.range.startColumn-1+m;s.push(new D(w,C+1,w,C+2)),a.push(new D(w,y+1,w,C+2))}let d=n(c);return d&&(this._isHandling=!0),d});l&&(this._isHandling=!1,this.setSelections(e,t,l,0)),s.length>0&&this._pushAutoClosedAction(s,a)}_executeEdit(e,t,i,n=0){if(this.context.cursorConfig.readOnly)return;let o=Pv.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(s){Ie(s)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,i,n,o,!1)&&this.revealPrimary(t,i,!1,0,!0,0)}setIsDoingComposition(e){this._isDoingComposition=e}getAutoClosedCharacters(){return x2.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(e,t){this._executeEdit(()=>{t==="keyboard"&&(this._executeEditOperation(Gi.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},e,t)}type(e,t,i){this._executeEdit(()=>{if(i==="keyboard"){let n=t.length,o=0;for(;o<n;){let s=GC(t,o),a=t.substr(o,s);this._executeEditOperation(Gi.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),a)),o+=s}}else this._executeEditOperation(Gi.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))},e,i)}compositionType(e,t,i,n,o,s){if(t.length===0&&i===0&&n===0){if(o!==0){let a=this.getSelections().map(l=>{let c=l.getPosition();return new he(c.lineNumber,c.column+o,c.lineNumber,c.column+o)});this.setSelections(e,s,a,0)}return}this._executeEdit(()=>{this._executeEditOperation(Gi.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,i,n,o))},e,s)}paste(e,t,i,n,o){this._executeEdit(()=>{this._executeEditOperation(Gi.paste(this.context.cursorConfig,this._model,this.getSelections(),t,i,n||[]))},e,o,4)}cut(e,t){this._executeEdit(()=>{this._executeEditOperation(Rc.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,t)}executeCommand(e,t,i){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new Cr(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}executeCommands(e,t,i){this._executeEdit(()=>{this._executeEditOperation(new Cr(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}};du.MAX_CURSOR_COUNT=1e4;var Pv=class{constructor(e,t){this.modelVersionId=e,this.cursorState=t}static from(e,t){return new Pv(e.getVersionId(),t.getCursorStates())}equals(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,i=this.cursorState.length;t<i;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}},x2=class{constructor(e,t,i){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=i}static getAllAutoClosedCharacters(e){let t=[];for(let i of e)t=t.concat(i.getAutoClosedCharactersRanges());return t}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){let i=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);i&&e.push(i)}return e}isValid(e){let t=[];for(let i=0;i<this._autoClosedEnclosingDecorations.length;i++){let n=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[i]);if(n&&(t.push(n),n.startLineNumber!==n.endLineNumber))return!1}t.sort(D.compareRangesUsingStarts),e.sort(D.compareRangesUsingStarts);for(let i=0;i<e.length;i++)if(i>=t.length||!t[i].strictContainsRange(e[i]))return!1;return!0}},i$=class{static executeCommands(e,t,i){let n={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},o=this._innerExecuteCommands(n,i);for(let s=0,a=n.trackedRanges.length;s<a;s++)n.model._setTrackedRange(n.trackedRanges[s],null,0);return o}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;let i=this._getEditOperations(e,t);if(i.operations.length===0)return null;let n=i.operations,o=this._getLoserCursorMap(n);if(o.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let s=[];for(let c=0,d=n.length;c<d;c++)o.hasOwnProperty(n[c].identifier.major.toString())||s.push(n[c]);i.hadTrackedEditOperation&&s.length>0&&(s[0]._isTracked=!0);let a=e.model.pushEditOperations(e.selectionsBefore,s,c=>{let d=[];for(let f=0;f<e.selectionsBefore.length;f++)d[f]=[];for(let f of c)!f.identifier||d[f.identifier.major].push(f);let h=(f,m)=>f.identifier.minor-m.identifier.minor,u=[];for(let f=0;f<e.selectionsBefore.length;f++)d[f].length>0?(d[f].sort(h),u[f]=t[f].computeCursorState(e.model,{getInverseEditOperations:()=>d[f],getTrackedSelection:m=>{let _=parseInt(m,10),w=e.model._getTrackedRange(e.trackedRanges[_]);return e.trackedRangesDirection[_]===0?new he(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn):new he(w.endLineNumber,w.endColumn,w.startLineNumber,w.startColumn)}})):u[f]=e.selectionsBefore[f];return u});a||(a=e.selectionsBefore);let l=[];for(let c in o)o.hasOwnProperty(c)&&l.push(parseInt(c,10));l.sort((c,d)=>d-c);for(let c of l)a.splice(c,1);return a}static _arrayIsEmpty(e){for(let t=0,i=e.length;t<i;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let i=[],n=!1;for(let o=0,s=t.length;o<s;o++){let a=t[o];if(a){let l=this._getEditOperationsFromCommand(e,o,a);i=i.concat(l.operations),n=n||l.hadTrackedEditOperation}}return{operations:i,hadTrackedEditOperation:n}}static _getEditOperationsFromCommand(e,t,i){let n=[],o=0,s=(h,u,f=!1)=>{D.isEmpty(h)&&u===""||n.push({identifier:{major:t,minor:o++},range:h,text:u,forceMoveMarkers:f,isAutoWhitespaceEdit:i.insertsAutoWhitespace})},a=!1,d={addEditOperation:s,addTrackedEditOperation:(h,u,f)=>{a=!0,s(h,u,f)},trackSelection:(h,u)=>{let f=he.liftSelection(h),m;if(f.isEmpty())if(typeof u=="boolean")u?m=2:m=3;else{let y=e.model.getLineMaxColumn(f.startLineNumber);f.startColumn===y?m=2:m=3}else m=1;let _=e.trackedRanges.length,w=e.model._setTrackedRange(null,f,m);return e.trackedRanges[_]=w,e.trackedRangesDirection[_]=f.getDirection(),_.toString()}};try{i.getEditOperations(e.model,d)}catch(h){return Ie(h),{operations:[],hadTrackedEditOperation:!1}}return{operations:n,hadTrackedEditOperation:a}}static _getLoserCursorMap(e){e=e.slice(0),e.sort((i,n)=>-D.compareRangesUsingEnds(i.range,n.range));let t={};for(let i=1;i<e.length;i++){let n=e[i-1],o=e[i];if(D.getStartPosition(n.range).isBefore(D.getEndPosition(o.range))){let s;n.identifier.major>o.identifier.major?s=n.identifier.major:s=o.identifier.major,t[s.toString()]=!0;for(let a=0;a<e.length;a++)e[a].identifier.major===s&&(e.splice(a,1),a<i&&i--,a--);i>0&&i--}}return t}};Mc();lt();ye();mi();var Cy=class{constructor(e,t,i,n,o,s){this.id=e,this.label=t,this.alias=i,this._precondition=n,this._run=o,this._contextKeyService=s}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}};t0();Wi();Gs();Li();jt();nt();Yn();re();xt();He();lt();ye();rg();cn();Wd();He();Sd();cn();s0();var due=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},c$={getInitialState:()=>Pf,tokenizeEncoded:(r,e,t)=>BD(0,t)};function h$(r,e,t){return due(this,void 0,void 0,function*(){if(!t)return d$(e,r.languageIdCodec,c$);let i=yield bi.getOrCreate(t);return d$(e,r.languageIdCodec,i||c$)})}function u$(r,e,t,i,n,o,s){let a="<div>",l=i,c=0,d=!0;for(let h=0,u=e.getCount();h<u;h++){let f=e.getEndOffset(h);if(f<=i)continue;let m="";for(;l<f&&l<n;l++){let _=r.charCodeAt(l);switch(_){case 9:{let w=o-(l+c)%o;for(c+=w-1;w>0;)s&&d?(m+="&#160;",d=!1):(m+=" ",d=!0),w--;break}case 60:m+="&lt;",d=!1;break;case 62:m+="&gt;",d=!1;break;case 38:m+="&amp;",d=!1;break;case 0:m+="&#00;",d=!1;break;case 65279:case 8232:case 8233:case 133:m+="\uFFFD",d=!1;break;case 13:m+="&#8203",d=!1;break;case 32:s&&d?(m+="&#160;",d=!1):(m+=" ",d=!0);break;default:m+=String.fromCharCode(_),d=!1}}if(a+=`<span style="${e.getInlineStyle(h,t)}">${m}</span>`,f>n||l>=n)break}return a+="</div>",a}function d$(r,e,t){let i='<div class="monaco-tokenized-source">',n=mr(r),o=t.getInitialState();for(let s=0,a=n.length;s<a;s++){let l=n[s];s>0&&(i+="<br/>");let c=t.tokenizeEncoded(l,!0,o);tn.convertToEndOffset(c.tokens,l.length);let h=new tn(c.tokens,l,e).inflate(),u=0;for(let f=0,m=h.getCount();f<m;f++){let _=h.getClassName(f),w=h.getEndOffset(f);i+=`<span class="${_}">${gb(l.substring(u,w))}</span>`,u=w}o=c.endState}return i+="</div>",i}Ee();re();He();var f$=class{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;let t=this._inserts,i=this._changes,n=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,i,n)}},g$=class{constructor(e,t,i,n,o){this.id=e,this.afterLineNumber=t,this.ordinal=i,this.height=n,this.minWidth=o,this.prefixSum=0}},Ep=class{constructor(e,t,i,n){this._instanceId=DD(++Ep.INSTANCE_COUNT),this._pendingChanges=new f$,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=i,this._paddingBottom=n}static findInsertionIndex(e,t,i){let n=0,o=e.length;for(;n<o;){let s=n+o>>>1;t===e[s].afterLineNumber?i<e[s].ordinal?o=s:n=s+1:t<e[s].afterLineNumber?o=s:n=s+1}return n}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{e({insertWhitespace:(n,o,s,a)=>{t=!0,n=n|0,o=o|0,s=s|0,a=a|0;let l=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new g$(l,n,o,s,a)),l},changeOneWhitespace:(n,o,s)=>{t=!0,o=o|0,s=s|0,this._pendingChanges.change({id:n,newAfterLineNumber:o,newHeight:s})},removeWhitespace:n=>{t=!0,this._pendingChanges.remove({id:n})}})}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,i){if((e.length>0||i.length>0)&&(this._minWidth=-1),e.length+t.length+i.length<=1){for(let l of e)this._insertWhitespace(l);for(let l of t)this._changeOneWhitespace(l.id,l.newAfterLineNumber,l.newHeight);for(let l of i){let c=this._findWhitespaceIndex(l.id);c!==-1&&this._removeWhitespace(c)}return}let n=new Set;for(let l of i)n.add(l.id);let o=new Map;for(let l of t)o.set(l.id,l);let s=l=>{let c=[];for(let d of l)if(!n.has(d.id)){if(o.has(d.id)){let h=o.get(d.id);d.afterLineNumber=h.newAfterLineNumber,d.height=h.newHeight}c.push(d)}return c},a=s(this._arr).concat(s(e));a.sort((l,c)=>l.afterLineNumber===c.afterLineNumber?l.ordinal-c.ordinal:l.afterLineNumber-c.afterLineNumber),this._arr=a,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){let t=Ep.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){let t=this._arr;for(let i=0,n=t.length;i<n;i++)if(t[i].id===e)return i;return-1}_changeOneWhitespace(e,t,i){let n=this._findWhitespaceIndex(e);if(n!==-1&&(this._arr[n].height!==i&&(this._arr[n].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,n-1)),this._arr[n].afterLineNumber!==t)){let o=this._arr[n];this._removeWhitespace(n),o.afterLineNumber=t,this._insertWhitespace(o)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount-=t-e+1;for(let i=0,n=this._arr.length;i<n;i++){let o=this._arr[i].afterLineNumber;e<=o&&o<=t?this._arr[i].afterLineNumber=e-1:o>t&&(this._arr[i].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount+=t-e+1;for(let i=0,n=this._arr.length;i<n;i++){let o=this._arr[i].afterLineNumber;e<=o&&(this._arr[i].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e=e|0;let t=Math.max(0,this._prefixSumValidIndex+1);t===0&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let i=t;i<=e;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();let e=this._lineHeight*this._lineCount,t=this.getWhitespacesTotalHeight();return e+t+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e=e|0;let t=this._findLastWhitespaceBeforeLineNumber(e);return t===-1?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e=e|0;let t=this._arr,i=0,n=t.length-1;for(;i<=n;){let s=(n-i|0)/2|0,a=i+s|0;if(t[a].afterLineNumber<e){if(a+1>=t.length||t[a+1].afterLineNumber>=e)return a;i=a+1|0}else n=a-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e=e|0;let i=this._findLastWhitespaceBeforeLineNumber(e)+1;return i<this._arr.length?i:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e=e|0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e){this._checkPendingChanges(),e=e|0;let t;e>1?t=this._lineHeight*(e-1):t=0;let i=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e);return t+i+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let e=0;for(let t=0,i=this._arr.length;t<i;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();let t=this.getLinesTotalHeight();return e>t}isInTopPadding(e){return this._paddingTop===0?!1:(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(this._paddingBottom===0)return!1;this._checkPendingChanges();let t=this.getLinesTotalHeight();return e>=t-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),e=e|0,e<0)return 1;let t=this._lineCount|0,i=this._lineHeight,n=1,o=t;for(;n<o;){let s=(n+o)/2|0,a=this.getVerticalOffsetForLineNumber(s)|0;if(e>=a+i)n=s+1;else{if(e>=a)return s;o=s}}return n>t?t:n}getLinesViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;let i=this._lineHeight,n=this.getLineNumberAtOrAfterVerticalOffset(e)|0,o=this.getVerticalOffsetForLineNumber(n)|0,s=this._lineCount|0,a=this.getFirstWhitespaceIndexAfterLineNumber(n)|0,l=this.getWhitespacesCount()|0,c,d;a===-1?(a=l,d=s+1,c=0):(d=this.getAfterLineNumberForWhitespaceIndex(a)|0,c=this.getHeightForWhitespaceIndex(a)|0);let h=o,u=h,f=5e5,m=0;o>=f&&(m=Math.floor(o/f)*f,m=Math.floor(m/i)*i,u-=m);let _=[],w=e+(t-e)/2,y=-1;for(let k=n;k<=s;k++){if(y===-1){let M=h,I=h+i;(M<=w&&w<I||M>w)&&(y=k)}for(h+=i,_[k-n]=u,u+=i;d===k;)u+=c,h+=c,a++,a>=l?d=s+1:(d=this.getAfterLineNumberForWhitespaceIndex(a)|0,c=this.getHeightForWhitespaceIndex(a)|0);if(h>=t){s=k;break}}y===-1&&(y=s);let C=this.getVerticalOffsetForLineNumber(s)|0,E=n,L=s;return E<L&&o<e&&E++,E<L&&C+i>t&&L--,{bigNumbersDelta:m,startLineNumber:n,endLineNumber:s,relativeVerticalOffset:_,centeredLineNumber:y,completelyVisibleStartLineNumber:E,completelyVisibleEndLineNumber:L}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e=e|0;let t=this.getAfterLineNumberForWhitespaceIndex(e),i;t>=1?i=this._lineHeight*t:i=0;let n;return e>0?n=this.getWhitespacesAccumulatedHeight(e-1):n=0,i+n+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e=e|0;let t=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;let n=this.getVerticalOffsetForWhitespaceIndex(i),o=this.getHeightForWhitespaceIndex(i);if(e>=n+o)return-1;for(;t<i;){let s=Math.floor((t+i)/2),a=this.getVerticalOffsetForWhitespaceIndex(s),l=this.getHeightForWhitespaceIndex(s);if(e>=a+l)t=s+1;else{if(e>=a)return s;i=s}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e=e|0;let t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0||t>=this.getWhitespacesCount())return null;let i=this.getVerticalOffsetForWhitespaceIndex(t);if(i>e)return null;let n=this.getHeightForWhitespaceIndex(t),o=this.getIdForWhitespaceIndex(t),s=this.getAfterLineNumberForWhitespaceIndex(t);return{id:o,afterLineNumber:s,verticalOffset:i,height:n}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;let i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),n=this.getWhitespacesCount()-1;if(i<0)return[];let o=[];for(let s=i;s<=n;s++){let a=this.getVerticalOffsetForWhitespaceIndex(s),l=this.getHeightForWhitespaceIndex(s);if(a>=t)break;o.push({id:this.getIdForWhitespaceIndex(s),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(s),verticalOffset:a,height:l})}return o}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].height}};Ep.INSTANCE_COUNT=0;var hue=125,Av=class{constructor(e,t,i,n){e=e|0,t=t|0,i=i|0,n=n|0,e<0&&(e=0),t<0&&(t=0),i<0&&(i=0),n<0&&(n=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=i,this.contentHeight=n,this.scrollHeight=Math.max(i,n)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}},m$=class extends ${constructor(e,t){super();this._onDidContentSizeChange=this._register(new B),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new Av(0,0,0,0),this._scrollable=this._register(new Fd({forceIntegerValues:!0,smoothScrollDuration:e,scheduleAtNextAnimationFrame:t})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;let t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);let i=t.contentWidth!==e.contentWidth,n=t.contentHeight!==e.contentHeight;(i||n)&&this._onDidContentSizeChange.fire(new by(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}},N2=class extends ${constructor(e,t,i){super();this._configuration=e;let n=this._configuration.options,o=n.get(131),s=n.get(75);this._linesLayout=new Ep(t,n.get(59),s.top,s.bottom),this._scrollable=this._register(new m$(0,i)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new Av(o.contentWidth,0,o.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(103)?hue:0)}onConfigurationChanged(e){let t=this._configuration.options;if(e.hasChanged(59)&&this._linesLayout.setLineHeight(t.get(59)),e.hasChanged(75)){let i=t.get(75);this._linesLayout.setPadding(i.top,i.bottom)}if(e.hasChanged(131)){let i=t.get(131),n=i.contentWidth,o=i.height,s=this._scrollable.getScrollDimensions(),a=s.contentWidth;this._scrollable.setScrollDimensions(new Av(n,s.contentWidth,o,this._getContentHeight(n,o,a)))}else this._updateHeight();e.hasChanged(103)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){let n=this._configuration.options.get(92);return n.horizontal===2||e>=t?0:n.horizontalScrollbarSize}_getContentHeight(e,t,i){let n=this._configuration.options,o=this._linesLayout.getLinesTotalHeight();return n.get(94)?o+=Math.max(0,t-n.get(59)-n.get(75).bottom):o+=this._getHorizontalScrollbarHeight(e,i),o}_updateHeight(){let e=this._scrollable.getScrollDimensions(),t=e.width,i=e.height,n=e.contentWidth;this._scrollable.setScrollDimensions(new Av(t,e.contentWidth,i,this._getContentHeight(t,i,n)))}getCurrentViewport(){let e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new GD(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){let e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new GD(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(e){let t=this._configuration.options,i=t.get(132),n=t.get(44);if(i.isViewportWrapping){let o=t.get(131),s=t.get(65);return e>o.contentWidth+n.typicalHalfwidthCharacterWidth&&s.enabled&&s.side==="right"?e+o.verticalScrollbarWidth:e}else{let o=t.get(93)*n.typicalHalfwidthCharacterWidth,s=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+o,s)}}setMaxLineWidth(e){let t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Av(t.width,this._computeContentWidth(e),t.height,t.contentHeight)),this._updateHeight()}saveState(){let e=this._scrollable.getFutureScrollPosition(),t=e.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t),n=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i);return{scrollTop:t,scrollTopWithoutViewZones:t-n,scrollLeft:e.scrollLeft}}changeWhitespace(e){let t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){let e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){let t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){let e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){t===1?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,t){let i=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+e,scrollTop:i.scrollTop+t})}};lt();ye();var P2=class{constructor(e,t,i,n,o){this.editorId=e,this.model=t,this.configuration=i,this._linesCollection=n,this._coordinatesConverter=o,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){let t=e.id,i=this._decorationsCache[t];if(!i){let n=e.range,o=e.options,s;if(o.isWholeLine){let a=this._coordinatesConverter.convertModelPositionToViewPosition(new V(n.startLineNumber,1),0),l=this._coordinatesConverter.convertModelPositionToViewPosition(new V(n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)),1);s=new D(a.lineNumber,a.column,l.lineNumber,l.column)}else s=this._coordinatesConverter.convertModelRangeToViewRange(n,1);i=new C0(s,o),this._decorationsCache[t]=i}return i}getDecorationsViewportData(e){let t=this._cachedModelDecorationsResolver!==null;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}_getDecorationsViewportData(e){let t=this._linesCollection.getDecorationsInRange(e,this.editorId,vm(this.configuration.options)),i=e.startLineNumber,n=e.endLineNumber,o=[],s=0,a=[];for(let l=i;l<=n;l++)a[l-i]=[];for(let l=0,c=t.length;l<c;l++){let d=t[l],h=d.options;if(!Lk(this.model,d))continue;let u=this._getOrCreateViewModelDecoration(d),f=u.range;if(o[s++]=u,h.inlineClassName){let m=new Af(f,h.inlineClassName,h.inlineClassNameAffectsLetterSpacing?3:0),_=Math.max(i,f.startLineNumber),w=Math.min(n,f.endLineNumber);for(let y=_;y<=w;y++)a[y-i].push(m)}if(h.beforeContentClassName&&i<=f.startLineNumber&&f.startLineNumber<=n){let m=new Af(new D(f.startLineNumber,f.startColumn,f.startLineNumber,f.startColumn),h.beforeContentClassName,1);a[f.startLineNumber-i].push(m)}if(h.afterContentClassName&&i<=f.endLineNumber&&f.endLineNumber<=n){let m=new Af(new D(f.endLineNumber,f.endColumn,f.endLineNumber,f.endColumn),h.afterContentClassName,2);a[f.endLineNumber-i].push(m)}}return{decorations:o,inlineDecorations:a}}};function Lk(r,e){return!(e.options.hideInCommentTokens&&kk(r,e)||e.options.hideInStringTokens&&Ik(r,e))}function kk(r,e){return p$(r,e.range,t=>t===1)}function Ik(r,e){return p$(r,e.range,t=>t===2)}function p$(r,e,t){for(let i=e.startLineNumber;i<=e.endLineNumber;i++){let n=r.getLineTokens(i),o=i===e.startLineNumber,s=i===e.endLineNumber,a=o?n.findTokenIndexAtOffset(e.startColumn-1):0;for(;a<n.getCount()&&!(s&&n.getStartOffset(a)>e.endColumn-1);){if(!t(n.getStandardTokenType(a)))return!1;a++}}return!0}jt();lt();ye();mk();Fo();rg();Sd();lt();rg();function Kk(r,e){return r===null?e?Yy.INSTANCE:Zy.INSTANCE:new IK(r,e)}var IK=class{constructor(e,t){this._projectionData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(e,t,i){this._assertVisible();let n=i>0?this._projectionData.breakOffsets[i-1]:0,o=this._projectionData.breakOffsets[i],s;if(this._projectionData.injectionOffsets!==null){let a=this._projectionData.injectionOffsets.map((c,d)=>new ls(0,0,c+1,this._projectionData.injectionOptions[d],0));s=ls.applyInjectedText(e.getLineContent(t),a).substring(n,o)}else s=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:o+1});return i>0&&(s=kK(this._projectionData.wrappedTextIndentLength)+s),s}getViewLineLength(e,t,i){return this._assertVisible(),this._projectionData.getLineLength(i)}getViewLineMinColumn(e,t,i){return this._assertVisible(),this._projectionData.getMinOutputOffset(i)+1}getViewLineMaxColumn(e,t,i){return this._assertVisible(),this._projectionData.getMaxOutputOffset(i)+1}getViewLineData(e,t,i){let n=new Array;return this.getViewLinesData(e,t,i,1,0,[!0],n),n[0]}getViewLinesData(e,t,i,n,o,s,a){this._assertVisible();let l=this._projectionData,c=l.injectionOffsets,d=l.injectionOptions,h=null;if(c){h=[];let f=0,m=0;for(let _=0;_<l.getOutputLineCount();_++){let w=new Array;h[_]=w;let y=_>0?l.breakOffsets[_-1]:0,C=l.breakOffsets[_];for(;m<c.length;){let E=d[m].content.length,L=c[m]+f,k=L+E;if(L>C)break;if(y<k){let M=d[m];if(M.inlineClassName){let I=_>0?l.wrappedTextIndentLength:0,T=I+Math.max(L-y,0),R=I+Math.min(k-y,C);T!==R&&w.push(new aA(T,R,M.inlineClassName,M.inlineClassNameAffectsLetterSpacing))}}if(k<=C)f+=E,m++;else break}}}let u;c?u=e.getLineTokens(t).withInserted(c.map((f,m)=>({offset:f,text:d[m].content,tokenMetadata:tn.defaultTokenMetadata}))):u=e.getLineTokens(t);for(let f=i;f<i+n;f++){let m=o+f-i;if(!s[m]){a[m]=null;continue}a[m]=this._getViewLineData(u,h?h[f]:null,f)}}_getViewLineData(e,t,i){this._assertVisible();let n=this._projectionData,o=i>0?n.wrappedTextIndentLength:0,s=i>0?n.breakOffsets[i-1]:0,a=n.breakOffsets[i],l=e.sliceAndInflate(s,a,o),c=l.getLineContent();i>0&&(c=kK(n.wrappedTextIndentLength)+c);let d=this._projectionData.getMinOutputOffset(i)+1,h=c.length+1,u=i+1<this.getViewLineCount(),f=i===0?0:n.breakOffsetsVisibleColumn[i-1];return new jb(c,u,d,h,f,l,t)}getModelColumnOfViewPosition(e,t){return this._assertVisible(),this._projectionData.translateToInputOffset(e,t-1)+1}getViewPositionOfModelPosition(e,t,i=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(t-1,i).toPosition(e)}getViewLineNumberOfModelPosition(e,t){this._assertVisible();let i=this._projectionData.translateToOutputPosition(t-1);return e+i.outputLineIndex}normalizePosition(e,t,i){let n=t.lineNumber-e;return this._projectionData.normalizeOutputPosition(e,t.column-1,i).toPosition(n)}getInjectedTextAt(e,t){return this._projectionData.getInjectedText(e,t-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}},Yy=class{constructor(){}isVisible(){return!0}setVisible(e){return e?this:Zy.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,i){return e.getLineContent(t)}getViewLineLength(e,t,i){return e.getLineLength(t)}getViewLineMinColumn(e,t,i){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,i){return e.getLineMaxColumn(t)}getViewLineData(e,t,i){let n=e.getLineTokens(t),o=n.getLineContent();return new jb(o,!1,1,o.length+1,0,n.inflate(),null)}getViewLinesData(e,t,i,n,o,s,a){if(!s[o]){a[o]=null;return}a[o]=this.getViewLineData(e,t,0)}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new V(e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,i){return t}getInjectedTextAt(e,t){return null}};Yy.INSTANCE=new Yy;var Zy=class{constructor(){}isVisible(){return!1}setVisible(e){return e?Yy.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,i){throw new Error("Not supported")}getViewLineLength(e,t,i){throw new Error("Not supported")}getViewLineMinColumn(e,t,i){throw new Error("Not supported")}getViewLineMaxColumn(e,t,i){throw new Error("Not supported")}getViewLineData(e,t,i){throw new Error("Not supported")}getViewLinesData(e,t,i,n,o,s,a){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,i){throw new Error("Not supported")}getInjectedTextAt(e,t){throw new Error("Not supported")}};Zy.INSTANCE=new Zy;var xF=[""];function kK(r){if(r>=xF.length)for(let e=1;e<=r;e++)xF[e]=Uue(e);return xF[r]}function Uue(r){return new Array(r+1).join(" ")}var kF=class{constructor(e,t,i,n,o,s,a,l,c){this._editorId=e,this.model=t,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=i,this._monospaceLineBreaksComputerFactory=n,this.fontInfo=o,this.tabSize=s,this.wrappingStrategy=a,this.wrappingColumn=l,this.wrappingIndent=c,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new OK(this)}_constructLines(e,t){this.modelLineProjections=[],e&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));let i=this.model.getLinesContent(),n=this.model.getInjectedTextDecorations(this._editorId),o=i.length,s=this.createLineBreaksComputer(),a=new Ol(ls.fromDecorations(n));for(let _=0;_<o;_++){let w=a.takeWhile(y=>y.lineNumber===_+1);s.addRequest(i[_],w,t?t[_]:null)}let l=s.finalize(),c=[],d=this.hiddenAreasDecorationIds.map(_=>this.model.getDecorationRange(_)).sort(D.compareRangesUsingStarts),h=1,u=0,f=-1,m=f+1<d.length?u+1:o+2;for(let _=0;_<o;_++){let w=_+1;w===m&&(f++,h=d[f].startLineNumber,u=d[f].endLineNumber,m=f+1<d.length?u+1:o+2);let y=w>=h&&w<=u,C=Kk(l[_],!y);c[_]=C.getViewLineCount(),this.modelLineProjections[_]=C}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new qM(c)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(e=>this.model.getDecorationRange(e))}setHiddenAreas(e){let t=e.map(u=>this.model.validateRange(u)),i=zue(t),n=this.hiddenAreasDecorationIds.map(u=>this.model.getDecorationRange(u)).sort(D.compareRangesUsingStarts);if(i.length===n.length){let u=!1;for(let f=0;f<i.length;f++)if(!i[f].equalsRange(n[f])){u=!0;break}if(!u)return!1}let o=i.map(u=>({range:u,options:ot.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,o);let s=i,a=1,l=0,c=-1,d=c+1<s.length?l+1:this.modelLineProjections.length+2,h=!1;for(let u=0;u<this.modelLineProjections.length;u++){let f=u+1;f===d&&(c++,a=s[c].startLineNumber,l=s[c].endLineNumber,d=c+1<s.length?l+1:this.modelLineProjections.length+2);let m=!1;if(f>=a&&f<=l?this.modelLineProjections[u].isVisible()&&(this.modelLineProjections[u]=this.modelLineProjections[u].setVisible(!1),m=!0):(h=!0,this.modelLineProjections[u].isVisible()||(this.modelLineProjections[u]=this.modelLineProjections[u].setVisible(!0),m=!0)),m){let _=this.modelLineProjections[u].getViewLineCount();this.projectedModelLineLineCounts.setValue(u,_)}}return h||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return e<1||e>this.modelLineProjections.length?!1:this.modelLineProjections[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.modelLineProjections.length?1:this.modelLineProjections[e-1].getViewLineCount()}setTabSize(e){return this.tabSize===e?!1:(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,i,n){let o=this.fontInfo.equals(e),s=this.wrappingStrategy===t,a=this.wrappingColumn===i,l=this.wrappingIndent===n;if(o&&s&&a&&l)return!1;let c=o&&s&&!a&&l;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=i,this.wrappingIndent=n;let d=null;if(c){d=[];for(let h=0,u=this.modelLineProjections.length;h<u;h++)d[h]=this.modelLineProjections[h].getProjectionData()}return this._constructLines(!1,d),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,i){if(!e||e<=this._validModelVersionId)return null;let n=t===1?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,o=this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections.splice(t-1,i-t+1),this.projectedModelLineLineCounts.removeValues(t-1,i-t+1),new py(n,o)}onModelLinesInserted(e,t,i,n){if(!e||e<=this._validModelVersionId)return null;let o=t>2&&!this.modelLineProjections[t-2].isVisible(),s=t===1?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,a=0,l=[],c=[];for(let d=0,h=n.length;d<h;d++){let u=Kk(n[d],!o);l.push(u);let f=u.getViewLineCount();a+=f,c[d]=f}return this.modelLineProjections=this.modelLineProjections.slice(0,t-1).concat(l).concat(this.modelLineProjections.slice(t-1)),this.projectedModelLineLineCounts.insertValues(t-1,c),new _y(s,s+a-1)}onModelLineChanged(e,t,i){if(e!==null&&e<=this._validModelVersionId)return[!1,null,null,null];let n=t-1,o=this.modelLineProjections[n].getViewLineCount(),s=this.modelLineProjections[n].isVisible(),a=Kk(i,s);this.modelLineProjections[n]=a;let l=this.modelLineProjections[n].getViewLineCount(),c=!1,d=0,h=-1,u=0,f=-1,m=0,_=-1;o>l?(d=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,h=d+l-1,m=h+1,_=m+(o-l)-1,c=!0):o<l?(d=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,h=d+o-1,u=h+1,f=u+(l-o)-1,c=!0):(d=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,h=d+l-1),this.projectedModelLineLineCounts.setValue(n,l);let w=d<=h?new Ek(d,h):null,y=u<=f?new _y(u,f):null,C=m<=_?new py(m,_):null;return[c,w,y,C]}acceptVersionId(e){this._validModelVersionId=e,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(e){if(e<1)return 1;let t=this.getViewLineCount();return e>t?t:e|0}getActiveIndentGuide(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);let n=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),o=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),s=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),a=this.model.guides.getActiveIndentGuide(n.lineNumber,o.lineNumber,s.lineNumber),l=this.convertModelPositionToViewPosition(a.startLineNumber,1),c=this.convertModelPositionToViewPosition(a.endLineNumber,this.model.getLineMaxColumn(a.endLineNumber));return{startLineNumber:l.lineNumber,endLineNumber:c.lineNumber,indent:a.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);let t=this.projectedModelLineLineCounts.getIndexOf(e-1),i=t.index,n=t.remainder;return new DF(i+1,n)}getMinColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){let t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),n=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new V(e.modelLineNumber,n)}getModelEndPositionOfViewLine(e){let t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),n=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new V(e.modelLineNumber,n)}getViewLineInfosGroupedByModelRanges(e,t){let i=this.getViewLineInfo(e),n=this.getViewLineInfo(t),o=new Array,s=this.getModelStartPositionOfViewLine(i),a=new Array;for(let l=i.modelLineNumber;l<=n.modelLineNumber;l++){let c=this.modelLineProjections[l-1];if(c.isVisible()){let d=l===i.modelLineNumber?i.modelLineWrappedLineIdx:0,h=l===n.modelLineNumber?n.modelLineWrappedLineIdx+1:c.getViewLineCount();for(let u=d;u<h;u++)a.push(new DF(l,u))}if(!c.isVisible()&&s){let d=new V(l-1,this.model.getLineMaxColumn(l-1)+1),h=D.fromPositions(s,d);o.push(new LF(h,a)),a=[],s=null}else c.isVisible()&&!s&&(s=new V(l,1))}if(s){let l=D.fromPositions(s,this.getModelEndPositionOfViewLine(n));o.push(new LF(l,a))}return o}getViewLinesBracketGuides(e,t,i,n){let o=i?this.convertViewPositionToModelPosition(i.lineNumber,i.column):null,s=[];for(let a of this.getViewLineInfosGroupedByModelRanges(e,t)){let l=a.modelRange.startLineNumber,c=this.model.guides.getLinesBracketGuides(l,a.modelRange.endLineNumber,o,n);for(let d of a.viewLines)if(d.isWrappedLineContinuation&&this.getMinColumnOfViewLine(d)===1)s.push([]);else{let h=c[d.modelLineNumber-l];h=h.map(u=>u.horizontalLine?new Bd(u.visibleColumn,u.className,new Sv(u.horizontalLine.top,this.convertModelPositionToViewPosition(d.modelLineNumber,u.horizontalLine.endColumn).column)):u),s.push(h)}}return s}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);let i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),n=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t)),o=[],s=[],a=[],l=i.lineNumber-1,c=n.lineNumber-1,d=null;for(let m=l;m<=c;m++){let _=this.modelLineProjections[m];if(_.isVisible()){let w=_.getViewLineNumberOfModelPosition(0,m===l?i.column:1),y=_.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(m+1)),C=y-w+1,E=0;C>1&&_.getViewLineMinColumn(this.model,m+1,y)===1&&(E=w===0?1:2),s.push(C),a.push(E),d===null&&(d=new V(m+1,0))}else d!==null&&(o=o.concat(this.model.guides.getLinesIndentGuides(d.lineNumber,m)),d=null)}d!==null&&(o=o.concat(this.model.guides.getLinesIndentGuides(d.lineNumber,n.lineNumber)),d=null);let h=t-e+1,u=new Array(h),f=0;for(let m=0,_=o.length;m<_;m++){let w=o[m],y=Math.min(h-f,s[m]),C=a[m],E;C===2?E=0:C===1?E=1:E=y;for(let L=0;L<y;L++)L===E&&(w=0),u[f++]=w}return u}getViewLineContent(e){let t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineContent(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineLength(e){let t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineLength(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMinColumn(e){let t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMaxColumn(e){let t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineData(e){let t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineData(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLinesData(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);let n=this.projectedModelLineLineCounts.getIndexOf(e-1),o=e,s=n.index,a=n.remainder,l=[];for(let c=s,d=this.model.getLineCount();c<d;c++){let h=this.modelLineProjections[c];if(!h.isVisible())continue;let u=c===s?a:0,f=h.getViewLineCount()-u,m=!1;if(o+f>t&&(m=!0,f=t-o+1),h.getViewLinesData(this.model,c+1,u,f,o-e,i,l),o+=f,m)break}return l}validateViewPosition(e,t,i){e=this._toValidViewLineNumber(e);let n=this.projectedModelLineLineCounts.getIndexOf(e-1),o=n.index,s=n.remainder,a=this.modelLineProjections[o],l=a.getViewLineMinColumn(this.model,o+1,s),c=a.getViewLineMaxColumn(this.model,o+1,s);t<l&&(t=l),t>c&&(t=c);let d=a.getModelColumnOfViewPosition(s,t);return this.model.validatePosition(new V(o+1,d)).equals(i)?new V(e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)}validateViewRange(e,t){let i=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),n=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new D(i.lineNumber,i.column,n.lineNumber,n.column)}convertViewPositionToModelPosition(e,t){let i=this.getViewLineInfo(e),n=this.modelLineProjections[i.modelLineNumber-1].getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,t);return this.model.validatePosition(new V(i.modelLineNumber,n))}convertViewRangeToModelRange(e){let t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),i=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new D(t.lineNumber,t.column,i.lineNumber,i.column)}convertModelPositionToViewPosition(e,t,i=2){let n=this.model.validatePosition(new V(e,t)),o=n.lineNumber,s=n.column,a=o-1,l=!1;for(;a>0&&!this.modelLineProjections[a].isVisible();)a--,l=!0;if(a===0&&!this.modelLineProjections[a].isVisible())return new V(1,1);let c=1+this.projectedModelLineLineCounts.getPrefixSum(a),d;return l?d=this.modelLineProjections[a].getViewPositionOfModelPosition(c,this.model.getLineMaxColumn(a+1),i):d=this.modelLineProjections[o-1].getViewPositionOfModelPosition(c,s,i),d}convertModelRangeToViewRange(e,t=0){if(e.isEmpty()){let i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return D.fromPositions(i)}else{let i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),n=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new D(i.lineNumber,i.column,n.lineNumber,n.column)}}getViewLineNumberOfModelPosition(e,t){let i=e-1;if(this.modelLineProjections[i].isVisible()){let o=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(o,t)}for(;i>0&&!this.modelLineProjections[i].isVisible();)i--;if(i===0&&!this.modelLineProjections[i].isVisible())return 1;let n=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(n,this.model.getLineMaxColumn(i+1))}getDecorationsInRange(e,t,i){let n=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),o=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(o.lineNumber-n.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new D(n.lineNumber,1,o.lineNumber,o.column),t,i);let s=[],a=n.lineNumber-1,l=o.lineNumber-1,c=null;for(let f=a;f<=l;f++)if(this.modelLineProjections[f].isVisible())c===null&&(c=new V(f+1,f===a?n.column:1));else if(c!==null){let _=this.model.getLineMaxColumn(f);s=s.concat(this.model.getDecorationsInRange(new D(c.lineNumber,c.column,f,_),t,i)),c=null}c!==null&&(s=s.concat(this.model.getDecorationsInRange(new D(c.lineNumber,c.column,o.lineNumber,o.column),t,i)),c=null),s.sort((f,m)=>{let _=D.compareRangesUsingStarts(f.range,m.range);return _===0?f.id<m.id?-1:f.id>m.id?1:0:_});let d=[],h=0,u=null;for(let f of s){let m=f.id;u!==m&&(u=m,d[h++]=f)}return d}getInjectedTextAt(e){let t=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[t.modelLineNumber-1].getInjectedTextAt(t.modelLineWrappedLineIdx,e.column)}normalizePosition(e,t){let i=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[i.modelLineNumber-1].normalizePosition(i.modelLineWrappedLineIdx,e,t)}getLineIndentColumn(e){let t=this.getViewLineInfo(e);return t.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(t.modelLineNumber):0}};function zue(r){if(r.length===0)return[];let e=r.slice();e.sort(D.compareRangesUsingStarts);let t=[],i=e[0].startLineNumber,n=e[0].endLineNumber;for(let o=1,s=e.length;o<s;o++){let a=e[o];a.startLineNumber>n+1?(t.push(new D(i,1,n,1)),i=a.startLineNumber,n=a.endLineNumber):a.endLineNumber>n&&(n=a.endLineNumber)}return t.push(new D(i,1,n,1)),t}var DF=class{constructor(e,t){this.modelLineNumber=e,this.modelLineWrappedLineIdx=t}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}},LF=class{constructor(e,t){this.modelRange=e,this.viewLines=t}},OK=class{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e,t){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t)}convertModelRangeToViewRange(e,t){return this._lines.convertModelRangeToViewRange(e,t)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,t){return this._lines.getViewLineNumberOfModelPosition(e,t)}},IF=class{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new TK(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,i,n){return!1}createLineBreaksComputer(){let e=[];return{addRequest:(t,i,n)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,i){return new py(t,i)}onModelLinesInserted(e,t,i,n){return new _y(t,i)}onModelLineChanged(e,t,i){return[!1,new Ek(t,t),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,i){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,t,i){return new Array(t-e+1).fill([])}getViewLinesIndentGuides(e,t){let i=t-e+1,n=new Array(i);for(let o=0;o<i;o++)n[o]=0;return n}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){let t=this.model.getLineTokens(e),i=t.getLineContent();return new jb(i,!1,1,i.length+1,0,t.inflate(),null)}getViewLinesData(e,t,i){let n=this.model.getLineCount();e=Math.min(Math.max(1,e),n),t=Math.min(Math.max(1,t),n);let o=[];for(let s=e;s<=t;s++){let a=s-e;o[a]=i[a]?this.getViewLineData(s):null}return o}getDecorationsInRange(e,t,i){return this.model.getDecorationsInRange(e,t,i)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}},TK=class{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){let t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,t){return e}};var Vue=!0,OF=class extends ${constructor(e,t,i,n,o,s,a,l){super();if(this.languageConfigurationService=a,this._themeService=l,this._editorId=e,this._configuration=t,this.model=i,this._eventDispatcher=new S2,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new Jf(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new wt(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new wt(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,Vue&&this.model.isTooLargeForTokenization())this._lines=new IF(this.model);else{let c=this._configuration.options,d=c.get(44),h=c.get(125),u=c.get(132),f=c.get(124);this._lines=new kF(this._editorId,this.model,n,o,d,this.model.getOptions().tabSize,h,u.wrappingColumn,f)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new du(i,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new N2(this._configuration,this.getLineCount(),s)),this._register(this.viewLayout.onDidScroll(c=>{c.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new b2(c)),this._eventDispatcher.emitOutgoingEvent(new wy(c.oldScrollWidth,c.oldScrollLeft,c.oldScrollHeight,c.oldScrollTop,c.scrollWidth,c.scrollLeft,c.scrollHeight,c.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(c=>{this._eventDispatcher.emitOutgoingEvent(c)})),this._decorations=new P2(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(c=>{try{let d=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(d,c)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(og.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new C2)})),this._register(this._themeService.onDidColorThemeChange(c=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new v2(c))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){let e=this.viewLayout.getLinesViewportData(),t=new D(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber)),i=this._toModelVisibleRanges(t);for(let n of i)this.model.tokenizeViewport(n.startLineNumber,n.endLineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new p2(e)),this._eventDispatcher.emitOutgoingEvent(new vy(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new u2)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new f2)}_onConfigurationChanged(e,t){let i=null;if(this._viewportStartLine!==-1){let d=new V(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));i=this.coordinatesConverter.convertViewPositionToModelPosition(d)}let n=!1,o=this._configuration.options,s=o.get(44),a=o.get(125),l=o.get(132),c=o.get(124);if(this._lines.setWrappingSettings(s,a,l.wrappingColumn,c)&&(e.emitViewEvent(new Ov),e.emitViewEvent(new Tv),e.emitViewEvent(new sg(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(n=!0),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(81)&&(this._decorations.reset(),e.emitViewEvent(new sg(null))),e.emitViewEvent(new g2(t)),this.viewLayout.onConfigurationChanged(t),n&&i){let d=this.coordinatesConverter.convertModelPositionToViewPosition(i),h=this.viewLayout.getVerticalOffsetForLineNumber(d.lineNumber);this.viewLayout.setScrollPosition({scrollTop:h+this._viewportStartLineDelta},1)}Jf.shouldRecreate(t)&&(this.cursorConfig=new Jf(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{let t=this._eventDispatcher.beginEmitViewEvents(),i=!1,n=!1,o=e.changes,s=e instanceof jd?e.versionId:null,a=this._lines.createLineBreaksComputer();for(let d of o)switch(d.changeType){case 4:{for(let h=0;h<d.detail.length;h++){let u=d.detail[h],f=d.injectedTexts[h];f&&(f=f.filter(m=>!m.ownerId||m.ownerId===this._editorId)),a.addRequest(u,f,null)}break}case 2:{let h=null;d.injectedText&&(h=d.injectedText.filter(u=>!u.ownerId||u.ownerId===this._editorId)),a.addRequest(d.detail,h,null);break}}let l=a.finalize(),c=new Ol(l);for(let d of o)switch(d.changeType){case 1:{this._lines.onModelFlushed(),t.emitViewEvent(new Ov),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),i=!0;break}case 3:{let h=this._lines.onModelLinesDeleted(s,d.fromLineNumber,d.toLineNumber);h!==null&&(t.emitViewEvent(h),this.viewLayout.onLinesDeleted(h.fromLineNumber,h.toLineNumber)),i=!0;break}case 4:{let h=c.takeCount(d.detail.length),u=this._lines.onModelLinesInserted(s,d.fromLineNumber,d.toLineNumber,h);u!==null&&(t.emitViewEvent(u),this.viewLayout.onLinesInserted(u.fromLineNumber,u.toLineNumber)),i=!0;break}case 2:{let h=c.dequeue(),[u,f,m,_]=this._lines.onModelLineChanged(s,d.lineNumber,h);n=u,f&&t.emitViewEvent(f),m&&(t.emitViewEvent(m),this.viewLayout.onLinesInserted(m.fromLineNumber,m.toLineNumber)),_&&(t.emitViewEvent(_),this.viewLayout.onLinesDeleted(_.fromLineNumber,_.toLineNumber));break}case 5:break}s!==null&&this._lines.acceptVersionId(s),this.viewLayout.onHeightMaybeChanged(),!i&&n&&(t.emitViewEvent(new Tv),t.emitViewEvent(new sg(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){let t=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(t){let i=this.coordinatesConverter.convertModelPositionToViewPosition(t.getStartPosition()),n=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber);this.viewLayout.setScrollPosition({scrollTop:n+this._viewportStartLineDelta},1)}}try{let t=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(e=>{let t=[];for(let i=0,n=e.ranges.length;i<n;i++){let o=e.ranges[i],s=this.coordinatesConverter.convertModelPositionToViewPosition(new V(o.fromLineNumber,1)).lineNumber,a=this.coordinatesConverter.convertModelPositionToViewPosition(new V(o.toLineNumber,this.model.getLineMaxColumn(o.toLineNumber))).lineNumber;t[i]={fromLineNumber:s,toLineNumber:a}}this._eventDispatcher.emitSingleViewEvent(new w2(t)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new _2),this.cursorConfig=new Jf(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new Jf(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{let t=this._eventDispatcher.beginEmitViewEvents();t.emitViewEvent(new Ov),t.emitViewEvent(new Tv),t.emitViewEvent(new sg(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new Jf(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new sg(e))}))}setHiddenAreas(e){let t=!1;try{let i=this._eventDispatcher.beginEmitViewEvents();t=this._lines.setHiddenAreas(e),t&&(i.emitViewEvent(new Ov),i.emitViewEvent(new Tv),i.emitViewEvent(new sg(null)),this._cursor.onLineMappingChanged(i),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),t&&this._eventDispatcher.emitOutgoingEvent(new xk)}getVisibleRangesPlusViewportAboveBelow(){let e=this._configuration.options.get(131),t=this._configuration.options.get(59),i=Math.max(20,Math.round(e.height/t)),n=this.viewLayout.getLinesViewportData(),o=Math.max(1,n.completelyVisibleStartLineNumber-i),s=Math.min(this.getLineCount(),n.completelyVisibleEndLineNumber+i);return this._toModelVisibleRanges(new D(o,this.getLineMinColumn(o),s,this.getLineMaxColumn(s)))}getVisibleRanges(){let e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}_toModelVisibleRanges(e){let t=this.coordinatesConverter.convertViewRangeToModelRange(e),i=this._lines.getHiddenAreas();if(i.length===0)return[t];let n=[],o=0,s=t.startLineNumber,a=t.startColumn,l=t.endLineNumber,c=t.endColumn;for(let d=0,h=i.length;d<h;d++){let u=i[d].startLineNumber,f=i[d].endLineNumber;f<s||u>l||(s<u&&(n[o++]=new D(s,a,u-1,this.model.getLineMaxColumn(u-1))),s=f+1,a=1)}return(s<l||s===l&&a<c)&&(n[o++]=new D(s,a,l,c)),n}getCompletelyVisibleViewRange(){let e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,i=e.completelyVisibleEndLineNumber;return new D(t,this.getLineMinColumn(t),i,this.getLineMaxColumn(i))}getCompletelyVisibleViewRangeAtScrollTop(e){let t=this.viewLayout.getLinesViewportDataAtScrollTop(e),i=t.completelyVisibleStartLineNumber,n=t.completelyVisibleEndLineNumber;return new D(i,this.getLineMinColumn(i),n,this.getLineMaxColumn(n))}saveState(){let e=this.viewLayout.saveState(),t=e.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(t),n=this.coordinatesConverter.convertViewPositionToModelPosition(new V(i,this.getLineMinColumn(i))),o=this.viewLayout.getVerticalOffsetForLineNumber(i)-t;return{scrollLeft:e.scrollLeft,firstPosition:n,firstPositionDeltaTop:o}}reduceRestoreState(e){if(typeof e.firstPosition>"u")return this._reduceRestoreStateCompatibility(e);let t=this.model.validatePosition(e.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(t),n=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:n}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,i){this._viewportStartLine=e;let n=this.coordinatesConverter.convertViewPositionToModelPosition(new V(e,this.getLineMinColumn(e)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new D(n.lineNumber,n.column,n.lineNumber,n.column),1);let o=this.viewLayout.getVerticalOffsetForLineNumber(e),s=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=s-o}getActiveIndentGuide(e,t,i){return this._lines.getActiveIndentGuide(e,t,i)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getBracketGuidesInRangeByLine(e,t,i,n){return this._lines.getViewLinesBracketGuides(e,t,i,n)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){let t=wn(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){let t=Mr(this.getLineContent(e));return t===-1?0:t+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewLineRenderingData(e,t){let i=this.model.mightContainRTL(),n=this.model.mightContainNonBasicASCII(),o=this.getTabSize(),s=this._lines.getViewLineData(t),l=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return s.inlineDecorations&&(l=[...l,...s.inlineDecorations.map(c=>c.toInlineDecoration(t))]),new br(s.minColumn,s.maxColumn,s.content,s.continuesWithWrappedLine,i,n,s.tokens,l,o,s.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,i){let n=this._lines.getViewLinesData(e,t,i);return new sA(this.getTabSize(),n)}getAllOverviewRulerDecorations(e){let t=this.model.getOverviewRulerDecorations(this._editorId,vm(this._configuration.options)),i=new NK;for(let n of t){let o=n.options,s=o.overviewRuler;if(!s)continue;let a=s.position;if(a===0)continue;let l=s.getColor(e.value),c=this.coordinatesConverter.getViewLineNumberOfModelPosition(n.range.startLineNumber,n.range.startColumn),d=this.coordinatesConverter.getViewLineNumberOfModelPosition(n.range.endLineNumber,n.range.endColumn);i.accept(l,o.zIndex,c,d,a)}return i.asArray}_invalidateDecorationsColorCache(){let e=this.model.getOverviewRulerDecorations();for(let t of e){let i=t.options.overviewRuler;i&&i.invalidateCachedColor();let n=t.options.minimap;n&&n.invalidateCachedColor()}}getValueInRange(e,t){let i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(i,t)}deduceModelPositionRelativeToViewPosition(e,t,i){let n=this.coordinatesConverter.convertViewPositionToModelPosition(e);this.model.getEOL().length===2&&(t<0?t-=i:t+=i);let s=this.model.getOffsetAt(n)+t;return this.model.getPositionAt(s)}getPlainTextToCopy(e,t,i){let n=i?`\r
`:this.model.getEOL();e=e.slice(0),e.sort(D.compareRangesUsingStarts);let o=!1,s=!1;for(let l of e)l.isEmpty()?o=!0:s=!0;if(!s){if(!t)return"";let l=e.map(d=>d.startLineNumber),c="";for(let d=0;d<l.length;d++)d>0&&l[d-1]===l[d]||(c+=this.model.getLineContent(l[d])+n);return c}if(o&&t){let l=[],c=0;for(let d of e){let h=d.startLineNumber;d.isEmpty()?h!==c&&l.push(this.model.getLineContent(h)):l.push(this.model.getValueInRange(d,i?2:0)),c=h}return l.length===1?l[0]:l}let a=[];for(let l of e)l.isEmpty()||a.push(this.model.getValueInRange(l,i?2:0));return a.length===1?a[0]:a}getRichTextToCopy(e,t){let i=this.model.getLanguageId();if(i===zr||e.length!==1)return null;let n=e[0];if(n.isEmpty()){if(!t)return null;let d=n.startLineNumber;n=new D(d,this.model.getLineMinColumn(d),d,this.model.getLineMaxColumn(d))}let o=this._configuration.options.get(44),s=this._getColorMap(),l=/[:;\\\/<>]/.test(o.fontFamily)||o.fontFamily===Jn.fontFamily,c;return l?c=Jn.fontFamily:(c=o.fontFamily,c=c.replace(/"/g,"'"),/[,']/.test(c)||/[+ ]/.test(c)&&(c=`'${c}'`),c=`${c}, ${Jn.fontFamily}`),{mode:i,html:`<div style="color: ${s[1]};background-color: ${s[2]};font-family: ${c};font-weight: ${o.fontWeight};font-size: ${o.fontSize}px;line-height: ${o.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(n,s)+"</div>"}}_getHTMLToCopy(e,t){let i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,s=e.endColumn,a=this.getTabSize(),l="";for(let c=i;c<=o;c++){let d=this.model.getLineTokens(c),h=d.getLineContent(),u=c===i?n-1:0,f=c===o?s-1:h.length;h===""?l+="<br>":l+=u$(h,d.inflate(),t,u,f,a,Ri)}return l}_getColorMap(){let e=bi.getColorMap(),t=["#000000"];if(e)for(let i=1,n=e.length;i<n;i++)t[i]=X.Format.CSS.formatHex(e[i]);return t}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,i){return this._withViewEventsCollector(n=>this._cursor.setStates(n,e,t,i))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,i=0){this._withViewEventsCollector(n=>this._cursor.setSelections(n,e,t,i))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(t=>this._cursor.restoreState(t,e))}_executeCursorEdit(e){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new E2);return}this._withViewEventsCollector(e)}executeEdits(e,t,i){this._executeCursorEdit(n=>this._cursor.executeEdits(n,e,t,i))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(t=>this._cursor.endComposition(t,e))}type(e,t){this._executeCursorEdit(i=>this._cursor.type(i,e,t))}compositionType(e,t,i,n,o){this._executeCursorEdit(s=>this._cursor.compositionType(s,e,t,i,n,o))}paste(e,t,i,n){this._executeCursorEdit(o=>this._cursor.paste(o,e,t,i,n))}cut(e){this._executeCursorEdit(t=>this._cursor.cut(t,e))}executeCommand(e,t){this._executeCursorEdit(i=>this._cursor.executeCommand(i,e,t))}executeCommands(e,t){this._executeCursorEdit(i=>this._cursor.executeCommands(i,e,t))}revealPrimaryCursor(e,t,i=!1){this._withViewEventsCollector(n=>this._cursor.revealPrimary(n,e,i,0,t,0))}revealTopMostCursor(e){let t=this._cursor.getTopMostViewPosition(),i=new D(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(n=>n.emitViewEvent(new Cp(e,!1,i,null,0,!0,0)))}revealBottomMostCursor(e){let t=this._cursor.getBottomMostViewPosition(),i=new D(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(n=>n.emitViewEvent(new Cp(e,!1,i,null,0,!0,0)))}revealRange(e,t,i,n,o){this._withViewEventsCollector(s=>s.emitViewEvent(new Cp(e,!1,i,null,n,t,o)))}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new y2),this._eventDispatcher.emitOutgoingEvent(new xk))}_withViewEventsCollector(e){try{let t=this._eventDispatcher.beginEmitViewEvents();return e(t)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}},NK=class{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,t,i,n,o){let s=this._asMap[e];if(s){let a=s.data,l=a[a.length-3],c=a[a.length-1];if(l===o&&c+1>=i){n>c&&(a[a.length-1]=n);return}a.push(o,i,n)}else{let a=new y0(e,t,[o,i,n]);this._asMap[e]=a,this.asArray.push(a)}}};on();Et();Ye();var _u=class{constructor(...e){this._entries=new Map;for(let[t,i]of e)this.set(t,i)}set(e,t){let i=this._entries.get(e);return this._entries.set(e,t),i}get(e){return this._entries.get(e)}};He();var Gy;(function(r){r[r.Ignore=0]="Ignore",r[r.Info=1]="Info",r[r.Warning=2]="Warning",r[r.Error=3]="Error"})(Gy||(Gy={}));(function(r){let e="error",t="warning",i="warn",n="info",o="ignore";function s(l){return l?Rh(e,l)?r.Error:Rh(t,l)||Rh(i,l)?r.Warning:Rh(n,l)?r.Info:r.Ignore:r.Ignore}r.fromValue=s;function a(l){switch(l){case r.Error:return e;case r.Warning:return t;case r.Info:return n;default:return o}}r.toString=a})(Gy||(Gy={}));var Pi=Gy;Ye();var qk=Pi,si=Fe("notificationService"),TF=class{};pt();ai();He();Rm();rg();ai();lt();Us();var pg=class{constructor(e,t,i,n,o){this.injectionOffsets=e,this.injectionOptions=t,this.breakOffsets=i,this.breakOffsetsVisibleColumn=n,this.wrappedTextIndentLength=o}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(e){return e>0?this.wrappedTextIndentLength:0}getLineLength(e){let t=e>0?this.breakOffsets[e-1]:0,n=this.breakOffsets[e]-t;return e>0&&(n+=this.wrappedTextIndentLength),n}getMaxOutputOffset(e){return this.getLineLength(e)}translateToInputOffset(e,t){e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));let n=e===0?t:this.breakOffsets[e-1]+t;if(this.injectionOffsets!==null)for(let o=0;o<this.injectionOffsets.length&&n>this.injectionOffsets[o];o++)n<this.injectionOffsets[o]+this.injectionOptions[o].content.length?n=this.injectionOffsets[o]:n-=this.injectionOptions[o].content.length;return n}translateToOutputPosition(e,t=2){let i=e;if(this.injectionOffsets!==null)for(let n=0;n<this.injectionOffsets.length&&!(e<this.injectionOffsets[n]||t!==1&&e===this.injectionOffsets[n]);n++)i+=this.injectionOptions[n].content.length;return this.offsetInInputWithInjectionsToOutputPosition(i,t)}offsetInInputWithInjectionsToOutputPosition(e,t=2){let i=0,n=this.breakOffsets.length-1,o=0,s=0;for(;i<=n;){o=i+(n-i)/2|0;let l=this.breakOffsets[o];if(s=o>0?this.breakOffsets[o-1]:0,t===0)if(e<=s)n=o-1;else if(e>l)i=o+1;else break;else if(e<s)n=o-1;else if(e>=l)i=o+1;else break}let a=e-s;return o>0&&(a+=this.wrappedTextIndentLength),new Xy(o,a)}normalizeOutputPosition(e,t,i){if(this.injectionOffsets!==null){let n=this.outputPositionToOffsetInInputWithInjections(e,t),o=this.normalizeOffsetInInputWithInjectionsAroundInjections(n,i);if(o!==n)return this.offsetInInputWithInjectionsToOutputPosition(o,i)}if(i===0){if(e>0&&t===this.getMinOutputOffset(e))return new Xy(e-1,this.getMaxOutputOffset(e-1))}else if(i===1){let n=this.getOutputLineCount()-1;if(e<n&&t===this.getMaxOutputOffset(e))return new Xy(e+1,this.getMinOutputOffset(e+1))}return new Xy(e,t)}outputPositionToOffsetInInputWithInjections(e,t){return e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength)),(e>0?this.breakOffsets[e-1]:0)+t}normalizeOffsetInInputWithInjectionsAroundInjections(e,t){let i=this.getInjectedTextAtOffset(e);if(!i)return e;if(t===2){if(e===i.offsetInInputWithInjections+i.length&&PK(this.injectionOptions[i.injectedTextIndex].cursorStops))return i.offsetInInputWithInjections+i.length;{let n=i.offsetInInputWithInjections;if(MK(this.injectionOptions[i.injectedTextIndex].cursorStops))return n;let o=i.injectedTextIndex-1;for(;o>=0&&this.injectionOffsets[o]===this.injectionOffsets[i.injectedTextIndex]&&!(PK(this.injectionOptions[o].cursorStops)||(n-=this.injectionOptions[o].content.length,MK(this.injectionOptions[o].cursorStops)));)o--;return n}}else if(t===1){let n=i.offsetInInputWithInjections+i.length,o=i.injectedTextIndex;for(;o+1<this.injectionOffsets.length&&this.injectionOffsets[o+1]===this.injectionOffsets[o];)n+=this.injectionOptions[o+1].content.length,o++;return n}else if(t===0){let n=i.offsetInInputWithInjections,o=i.injectedTextIndex;for(;o-1>=0&&this.injectionOffsets[o-1]===this.injectionOffsets[o];)n-=this.injectionOptions[o-1].content.length,o--;return n}rb(t)}getInjectedText(e,t){let i=this.outputPositionToOffsetInInputWithInjections(e,t),n=this.getInjectedTextAtOffset(i);return n?{options:this.injectionOptions[n.injectedTextIndex]}:null}getInjectedTextAtOffset(e){let t=this.injectionOffsets,i=this.injectionOptions;if(t!==null){let n=0;for(let o=0;o<t.length;o++){let s=i[o].content.length,a=t[o]+n,l=t[o]+n+s;if(a>e)break;if(e<=l)return{injectedTextIndex:o,offsetInInputWithInjections:a,length:s};n+=s}}}};function PK(r){return r==null?!0:r===Fl.Right||r===Fl.Both}function MK(r){return r==null?!0:r===Fl.Left||r===Fl.Both}var Xy=class{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e){return new V(e+this.outputLineIndex,this.outputOffset+1)}};var Jy=class{constructor(e,t){this.classifier=new RK(e,t)}static create(e){return new Jy(e.get(120),e.get(119))}createLineBreaksComputer(e,t,i,n){let o=[],s=[],a=[];return{addRequest:(l,c,d)=>{o.push(l),s.push(c),a.push(d)},finalize:()=>{let l=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth,c=[];for(let d=0,h=o.length;d<h;d++){let u=s[d],f=a[d];f&&!f.injectionOptions&&!u?c[d]=Hue(this.classifier,f,o[d],t,i,l,n):c[d]=$ue(this.classifier,o[d],u,t,i,l,n)}return NF.length=0,PF.length=0,c}}}},RK=class extends wd{constructor(e,t){super(0);for(let i=0;i<e.length;i++)this.set(e.charCodeAt(i),1);for(let i=0;i<t.length;i++)this.set(t.charCodeAt(i),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}},NF=[],PF=[];function Hue(r,e,t,i,n,o,s){if(n===-1)return null;let a=t.length;if(a<=1)return null;let l=e.breakOffsets,c=e.breakOffsetsVisibleColumn,d=FK(t,i,n,o,s),h=n-d,u=NF,f=PF,m=0,_=0,w=0,y=n,C=l.length,E=0;if(E>=0){let L=Math.abs(c[E]-y);for(;E+1<C;){let k=Math.abs(c[E+1]-y);if(k>=L)break;L=k,E++}}for(;E<C;){let L=E<0?0:l[E],k=E<0?0:c[E];_>L&&(L=_,k=w);let M=0,I=0,T=0,R=0;if(k<=y){let q=k,te=L===0?0:t.charCodeAt(L-1),ne=L===0?0:r.get(te),Ne=!0;for(let Oe=L;Oe<a;Oe++){let je=Oe,Ze=t.charCodeAt(Oe),$e,gt;if(Ji(Ze)?(Oe++,$e=0,gt=2):($e=r.get(Ze),gt=Qy(Ze,q,i,o)),je>_&&MF(te,ne,Ze,$e)&&(M=je,I=q),q+=gt,q>y){je>_?(T=je,R=q-gt):(T=Oe+1,R=q),q-I>h&&(M=0),Ne=!1;break}te=Ze,ne=$e}if(Ne){m>0&&(u[m]=l[l.length-1],f[m]=c[l.length-1],m++);break}}if(M===0){let q=k,te=t.charCodeAt(L),ne=r.get(te),Ne=!1;for(let Oe=L-1;Oe>=_;Oe--){let je=Oe+1,Ze=t.charCodeAt(Oe);if(Ze===9){Ne=!0;break}let $e,gt;if(pd(Ze)?(Oe--,$e=0,gt=2):($e=r.get(Ze),gt=Ya(Ze)?o:1),q<=y){if(T===0&&(T=je,R=q),q<=y-h)break;if(MF(Ze,$e,te,ne)){M=je,I=q;break}}q-=gt,te=Ze,ne=$e}if(M!==0){let Oe=h-(R-I);if(Oe<=i){let je=t.charCodeAt(T),Ze;Ji(je)?Ze=2:Ze=Qy(je,R,i,o),Oe-Ze<0&&(M=0)}}if(Ne){E--;continue}}if(M===0&&(M=T,I=R),M<=_){let q=t.charCodeAt(_);Ji(q)?(M=_+2,I=w+2):(M=_+1,I=w+Qy(q,w,i,o))}for(_=M,u[m]=M,w=I,f[m]=I,m++,y=I+h;E<0||E<C&&c[E]<I;)E++;let Z=Math.abs(c[E]-y);for(;E+1<C;){let q=Math.abs(c[E+1]-y);if(q>=Z)break;Z=q,E++}}return m===0?null:(u.length=m,f.length=m,NF=e.breakOffsets,PF=e.breakOffsetsVisibleColumn,e.breakOffsets=u,e.breakOffsetsVisibleColumn=f,e.wrappedTextIndentLength=d,e)}function $ue(r,e,t,i,n,o,s){let a=ls.applyInjectedText(e,t),l,c;if(t&&t.length>0?(l=t.map(I=>I.options),c=t.map(I=>I.column-1)):(l=null,c=null),n===-1)return l?new pg(c,l,[a.length],[],0):null;let d=a.length;if(d<=1)return l?new pg(c,l,[a.length],[],0):null;let h=FK(a,i,n,o,s),u=n-h,f=[],m=[],_=0,w=0,y=0,C=n,E=a.charCodeAt(0),L=r.get(E),k=Qy(E,0,i,o),M=1;Ji(E)&&(k+=1,E=a.charCodeAt(1),L=r.get(E),M++);for(let I=M;I<d;I++){let T=I,R=a.charCodeAt(I),Z,q;Ji(R)?(I++,Z=0,q=2):(Z=r.get(R),q=Qy(R,k,i,o)),MF(E,L,R,Z)&&(w=T,y=k),k+=q,k>C&&((w===0||k-y>u)&&(w=T,y=k-q),f[_]=w,m[_]=y,_++,C=y+u,w=0),E=R,L=Z}return _===0&&(!t||t.length===0)?null:(f[_]=d,m[_]=k,new pg(c,l,f,m,h))}function Qy(r,e,t,i){return r===9?t-e%t:Ya(r)||r<32?i:1}function AK(r,e){return e-r%e}function MF(r,e,t,i){return t!==32&&(e===2||e===3&&i!==2||i===1||i===3&&e!==1)}function FK(r,e,t,i,n){let o=0;if(n!==0){let s=wn(r);if(s!==-1){for(let l=0;l<s;l++)o+=r.charCodeAt(l)===9?AK(o,e):1;let a=n===3?2:n===2?1:0;for(let l=0;l<a;l++)o+=AK(o,e);o+i>t&&(o=0)}}return o}Tf();He();rg();var AF,RF=(AF=window.trustedTypes)===null||AF===void 0?void 0:AF.createPolicy("domLineBreaksComputer",{createHTML:r=>r}),e1=class{static create(){return new e1}constructor(){}createLineBreaksComputer(e,t,i,n){let o=[],s=[];return{addRequest:(a,l,c)=>{o.push(a),s.push(l)},finalize:()=>Kue(o,e,t,i,n,s)}}};function Kue(r,e,t,i,n,o){var s;function a(T){let R=o[T];if(R){let Z=ls.applyInjectedText(r[T],R),q=R.map(ne=>ne.options),te=R.map(ne=>ne.column-1);return new pg(te,q,[Z.length],[],0)}else return null}if(i===-1){let T=[];for(let R=0,Z=r.length;R<Z;R++)T[R]=a(R);return T}let l=Math.round(i*e.typicalHalfwidthCharacterWidth),d=Math.round(t*(n===3?2:n===2?1:0)),h=Math.ceil(e.spaceWidth*d),u=document.createElement("div");Cn(u,e);let f=jl(1e4),m=[],_=[],w=[],y=[],C=[];for(let T=0;T<r.length;T++){let R=ls.applyInjectedText(r[T],o[T]),Z=0,q=0,te=l;if(n!==0)if(Z=wn(R),Z===-1)Z=0;else{for(let je=0;je<Z;je++)q+=R.charCodeAt(je)===9?t-q%t:1;let Oe=Math.ceil(e.spaceWidth*q);Oe+e.typicalFullwidthCharacterWidth>l?(Z=0,q=0):te=l-Oe}let ne=R.substr(Z),Ne=que(ne,q,t,te,f,h);m[T]=Z,_[T]=q,w[T]=ne,y[T]=Ne[0],C[T]=Ne[1]}let E=f.build(),L=(s=RF?.createHTML(E))!==null&&s!==void 0?s:E;u.innerHTML=L,u.style.position="absolute",u.style.top="10000",u.style.wordWrap="break-word",document.body.appendChild(u);let k=document.createRange(),M=Array.prototype.slice.call(u.children,0),I=[];for(let T=0;T<r.length;T++){let R=M[T],Z=Yue(k,R,w[T],y[T]);if(Z===null){I[T]=a(T);continue}let q=m[T],te=_[T]+d,ne=C[T],Ne=[];for(let $e=0,gt=Z.length;$e<gt;$e++)Ne[$e]=ne[Z[$e]];if(q!==0)for(let $e=0,gt=Z.length;$e<gt;$e++)Z[$e]+=q;let Oe,je,Ze=o[T];Ze?(Oe=Ze.map($e=>$e.options),je=Ze.map($e=>$e.column-1)):(Oe=null,je=null),I[T]=new pg(je,Oe,Z,Ne,te)}return document.body.removeChild(u),I}function que(r,e,t,i,n,o){if(o!==0){let u=String(o);n.appendASCIIString('<div style="text-indent: -'),n.appendASCIIString(u),n.appendASCIIString("px; padding-left: "),n.appendASCIIString(u),n.appendASCIIString("px; box-sizing: border-box; width:")}else n.appendASCIIString('<div style="width:');n.appendASCIIString(String(i)),n.appendASCIIString('px;">');let s=r.length,a=e,l=0,c=[],d=[],h=0<s?r.charCodeAt(0):0;n.appendASCIIString("<span>");for(let u=0;u<s;u++){u!==0&&u%16384===0&&n.appendASCIIString("</span><span>"),c[u]=l,d[u]=a;let f=h;h=u+1<s?r.charCodeAt(u+1):0;let m=1,_=1;switch(f){case 9:m=t-a%t,_=m;for(let w=1;w<=m;w++)w<m?n.write1(160):n.appendASCII(32);break;case 32:h===32?n.write1(160):n.appendASCII(32);break;case 60:n.appendASCIIString("&lt;");break;case 62:n.appendASCIIString("&gt;");break;case 38:n.appendASCIIString("&amp;");break;case 0:n.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:n.write1(65533);break;default:Ya(f)&&_++,f<32?n.write1(9216+f):n.write1(f)}l+=m,a+=_}return n.appendASCIIString("</span>"),c[r.length]=l,d[r.length]=a,n.appendASCIIString("</div>"),[c,d]}function Yue(r,e,t,i){if(t.length<=1)return null;let n=Array.prototype.slice.call(e.children,0),o=[];try{BF(r,n,i,0,null,t.length-1,null,o)}catch(s){return console.log(s),null}return o.length===0?null:(o.push(t.length),o)}function BF(r,e,t,i,n,o,s,a){if(i===o||(n=n||FF(r,e,t[i],t[i+1]),s=s||FF(r,e,t[o],t[o+1]),Math.abs(n[0].top-s[0].top)<=.1))return;if(i+1===o){a.push(o);return}let l=i+(o-i)/2|0,c=FF(r,e,t[l],t[l+1]);BF(r,e,t,i,n,l,c,a),BF(r,e,t,l,c,o,s,a)}function FF(r,e,t,i){return r.setStart(e[t/16384|0].firstChild,t%16384),r.setEnd(e[i/16384|0].firstChild,i%16384),r.getClientRects()}no();hi();var Zue=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},bu=function(r,e){return function(t,i){e(t,i,r)}},Gue=0,BK=class{constructor(e,t,i,n,o){this.model=e,this.viewModel=t,this.view=i,this.hasRealView=n,this.listenersToRemove=o}dispose(){dt(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}},_g=class Yk extends ${constructor(e,t,i,n,o,s,a,l,c,d,h,u){super();this.languageConfigurationService=h,this._onDidDispose=this._register(new B),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new B),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new B),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new B),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new B),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new B),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new B),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new B),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new B),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new B),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new B),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new B),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new WF),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new WF),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new B),this.onWillType=this._onWillType.event,this._onDidType=this._register(new B),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new B),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new B),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new B),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new B),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new B),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new B),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new B),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new B),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new B),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new B),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new B),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new B),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new B),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new B),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new B),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new B),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new B),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new B),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null;let f=Object.assign({},t);this._domElement=e,this._overflowWidgetsDomNode=f.overflowWidgetsDomNode,delete f.overflowWidgetsDomNode,this._id=++Gue,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=i.telemetryData,this._configuration=this._register(this._createConfiguration(i.isSimpleWidget||!1,f,d)),this._register(this._configuration.onDidChange(_=>{this._onDidChangeConfiguration.fire(_);let w=this._configuration.options;if(_.hasChanged(131)){let y=w.get(131);this._onDidLayoutChange.fire(y)}})),this._contextKeyService=this._register(a.createScoped(this._domElement)),this._notificationService=c,this._codeEditorService=o,this._commandService=s,this._themeService=l,this._register(new jK(this,this._contextKeyService)),this._register(new WK(this,this._contextKeyService,u)),this._instantiationService=n.createChild(new _u([Le,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new UK(e),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let m;Array.isArray(i.contributions)?m=i.contributions:m=Id.getEditorContributions();for(let _ of m){if(this._contributions[_.id]){Ie(new Error(`Cannot have two contributions with the same id ${_.id}`));continue}try{let w=this._instantiationService.createInstance(_.ctor,this);this._contributions[_.id]=w}catch(w){Ie(w)}}Id.getEditorActions().forEach(_=>{if(this._actions[_.id]){Ie(new Error(`Cannot have two actions with the same id ${_.id}`));return}let w=new Cy(_.id,_.label,_.alias,za(_.precondition),()=>this._instantiationService.invokeFunction(y=>Promise.resolve(_.runEditorCommand(y,this,null))),this._contextKeyService);this._actions[w.id]=w}),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(e,t,i){return new bL(e,t,this._domElement,i)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Of.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();let e=Object.keys(this._contributions);for(let t=0,i=e.length;t<i;t++){let n=e[t];this._contributions[n].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e||{})}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?Xt.getWordAtPosition(this._modelData.model,this._configuration.options.get(117),e):null}getValue(e=null){if(!this._modelData)return"";let t=!!(e&&e.preserveBOM),i=0;return e&&e.lineEnding&&e.lineEnding===`
`?i=1:e&&e.lineEnding&&e.lineEnding===`\r
`&&(i=2),this._modelData.model.getValue(i,t)}setValue(e){!this._modelData||this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){let t=e;if(this._modelData===null&&t===null||this._modelData&&this._modelData.model===t)return;let i=this.hasTextFocus(),n=this._detachModel();this._attachModel(t),i&&this.hasModel()&&this.focus();let o={oldModelUrl:n?n.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(o),this._postDetachModelCleanup(n)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let e in this._decorationTypeSubtypes){let t=this._decorationTypeSubtypes[e];for(let i in t)this._removeDecorationType(e+"-"+i)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(e,t,i){let n=e.model.validatePosition({lineNumber:t,column:i}),o=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(n);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(o.lineNumber)}getTopForLineNumber(e){return this._modelData?Yk._getVerticalOffsetForPosition(this._modelData,e,1):-1}getTopForPosition(e,t){return this._modelData?Yk._getVerticalOffsetForPosition(this._modelData,e,t):-1}setHiddenAreas(e){this._modelData&&this._modelData.viewModel.setHiddenAreas(e.map(t=>D.lift(t)))}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;let t=this._modelData.model.validatePosition(e),i=this._modelData.model.getOptions().tabSize;return Zi.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,i)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e,t="api"){if(!!this._modelData){if(!V.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,i,n){if(!this._modelData)return;if(!D.isIRange(e))throw new Error("Invalid arguments");let o=this._modelData.model.validateRange(e),s=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(o);this._modelData.viewModel.revealRange("api",i,s,t,n)}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,i){if(typeof e!="number")throw new Error("Invalid arguments");this._sendRevealRange(new D(e,1,e,1),t,!1,i)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,i,n){if(!V.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new D(e.lineNumber,e.column,e.lineNumber,e.column),t,i,n)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e,t="api"){let i=he.isISelection(e),n=D.isIRange(e);if(!i&&!n)throw new Error("Invalid arguments");if(i)this._setSelectionImpl(e,t);else if(n){let o={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(o,t)}}_setSelectionImpl(e,t){if(!this._modelData)return;let i=new he(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections(t,[i])}revealLines(e,t,i=0){this._revealLines(e,t,0,i)}revealLinesInCenter(e,t,i=0){this._revealLines(e,t,1,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._revealLines(e,t,2,i)}revealLinesNearTop(e,t,i=0){this._revealLines(e,t,5,i)}_revealLines(e,t,i,n){if(typeof e!="number"||typeof t!="number")throw new Error("Invalid arguments");this._sendRevealRange(new D(e,1,t,1),i,!1,n)}revealRange(e,t=0,i=!1,n=!0){this._revealRange(e,i?1:0,n,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,i,n){if(!D.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(D.lift(e),t,i,n)}setSelections(e,t="api",i=0){if(!!this._modelData){if(!e||e.length===0)throw new Error("Invalid arguments");for(let n=0,o=e.length;n<o;n++)if(!he.isISelection(e[n]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e,i)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(!!this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(!!this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){!this._modelData||this._modelData.viewModel.viewLayout.setScrollPosition(e,t)}saveViewState(){if(!this._modelData)return null;let e={},t=Object.keys(this._contributions);for(let o of t){let s=this._contributions[o];typeof s.saveViewState=="function"&&(e[o]=s.saveViewState())}let i=this._modelData.viewModel.saveCursorState(),n=this._modelData.viewModel.saveState();return{cursorState:i,viewState:n,contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;let t=e;if(t&&t.cursorState&&t.viewState){let i=t.cursorState;Array.isArray(i)?i.length>0&&this._modelData.viewModel.restoreCursorState(i):this._modelData.viewModel.restoreCursorState([i]);let n=t.contributionsState||{},o=Object.keys(this._contributions);for(let a=0,l=o.length;a<l;a++){let c=o[a],d=this._contributions[c];typeof d.restoreViewState=="function"&&d.restoreViewState(n[c])}let s=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(s)}}getContribution(e){return this._contributions[e]||null}getActions(){let e=[],t=Object.keys(this._actions);for(let i=0,n=t.length;i<n;i++){let o=t[i];e.push(this._actions[o])}return e}getSupportedActions(){let e=this.getActions();return e=e.filter(t=>t.isSupported()),e}getAction(e){return this._actions[e]||null}trigger(e,t,i){switch(i=i||{},t){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(e);return;case"type":{let o=i;this._type(e,o.text||"");return}case"replacePreviousChar":{let o=i;this._compositionType(e,o.text||"",o.replaceCharCnt||0,0,0);return}case"compositionType":{let o=i;this._compositionType(e,o.text||"",o.replacePrevCharCnt||0,o.replaceNextCharCnt||0,o.positionDelta||0);return}case"paste":{let o=i;this._paste(e,o.text||"",o.pasteOnNewLine||!1,o.multicursorText||null,o.mode||null);return}case"cut":this._cut(e);return}let n=this.getAction(t);if(n){Promise.resolve(n.run()).then(void 0,Ie);return}!this._modelData||this._triggerEditorCommand(e,t,i)||this._triggerCommand(t,i)}_triggerCommand(e,t){this._commandService.executeCommand(e,t)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){!this._modelData||(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){!this._modelData||t.length===0||(e==="keyboard"&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),e==="keyboard"&&this._onDidType.fire(t))}_compositionType(e,t,i,n,o){!this._modelData||this._modelData.viewModel.compositionType(t,i,n,o,e)}_paste(e,t,i,n,o){if(!this._modelData||t.length===0)return;let s=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(t,i,n,e);let a=this._modelData.viewModel.getSelection().getStartPosition();e==="keyboard"&&this._onDidPaste.fire({range:new D(s.lineNumber,s.column,a.lineNumber,a.column),languageId:o})}_cut(e){!this._modelData||this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,i){let n=Id.getEditorCommand(t);return n?(i=i||{},i.source=e,this._instantiationService.invokeFunction(o=>{Promise.resolve(n.runEditorCommand(o,this,i)).then(void 0,Ie)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(81)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(81)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(e,t,i){if(!this._modelData||this._configuration.options.get(81))return!1;let n;return i?Array.isArray(i)?n=()=>i:n=i:n=()=>null,this._modelData.viewModel.executeEdits(e,t,n),!0}executeCommand(e,t){!this._modelData||this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){!this._modelData||this._modelData.viewModel.executeCommands(t,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,vm(this._configuration.options)):null}getDecorationsInRange(e){return this._modelData?this._modelData.model.getDecorationsInRange(e,this._id,vm(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?e.length===0&&t.length===0?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){let t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(131)}createOverviewRuler(e){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(e)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarMouseDown(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(e)}layout(e){this._configuration.observeContainer(e),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){let t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){let t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){let i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}}removeContentWidget(e){let t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){let i=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(i)}}addOverlayWidget(e){let t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){let t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){let i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}}removeOverlayWidget(e){let t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){let i=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(i)}}changeViewZones(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(e,t)}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;let t=this._modelData.model.validatePosition(e),i=this._configuration.options,n=i.get(131),o=Yk._getVerticalOffsetForPosition(this._modelData,t.lineNumber,t.column)-this.getScrollTop(),s=this._modelData.view.getOffsetForColumn(t.lineNumber,t.column)+n.glyphMarginWidth+n.lineNumbersWidth+n.decorationsWidth-this.getScrollLeft();return{top:o,left:s,height:i.get(59)}}getOffsetForColumn(e,t){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(e,t)}render(e=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,e)}setAriaOptions(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(e)}applyFontInfo(e){Cn(e,this._configuration.options.get(44))}setBanner(e,t){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=e,this._configuration.setReservedHeight(e?t:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(e){if(!e){this._modelData=null;return}let t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setModelLineCount(e.getLineCount()),e.onBeforeAttached();let i=new OF(this._id,this._configuration,e,e1.create(),Jy.create(this._configuration.options),s=>Es(s),this.languageConfigurationService,this._themeService);t.push(e.onDidChangeDecorations(s=>this._onDidChangeModelDecorations.fire(s))),t.push(e.onDidChangeLanguage(s=>{this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(s)})),t.push(e.onDidChangeLanguageConfiguration(s=>this._onDidChangeModelLanguageConfiguration.fire(s))),t.push(e.onDidChangeContent(s=>this._onDidChangeModelContent.fire(s))),t.push(e.onDidChangeOptions(s=>this._onDidChangeModelOptions.fire(s))),t.push(e.onWillDispose(()=>this.setModel(null))),t.push(i.onEvent(s=>{switch(s.kind){case 0:this._onDidContentSizeChange.fire(s);break;case 1:this._editorTextFocus.setValue(s.hasFocus);break;case 2:this._onDidScrollChange.fire(s);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{s.reachedMaxCursorCount&&this._notificationService.warn(g("cursors.maximum","The number of cursors has been limited to {0}.",du.MAX_CURSOR_COUNT));let a=[];for(let d=0,h=s.selections.length;d<h;d++)a[d]=s.selections[d].getPosition();let l={position:a[0],secondaryPositions:a.slice(1),reason:s.reason,source:s.source};this._onDidChangeCursorPosition.fire(l);let c={selection:s.selections[0],secondarySelections:s.selections.slice(1),modelVersionId:s.modelVersionId,oldSelections:s.oldSelections,oldModelVersionId:s.oldModelVersionId,source:s.source,reason:s.reason};this._onDidChangeCursorSelection.fire(c);break}}}));let[n,o]=this._createView(i);if(o){this._domElement.appendChild(n.domNode.domNode);let s=Object.keys(this._contentWidgets);for(let a=0,l=s.length;a<l;a++){let c=s[a];n.addContentWidget(this._contentWidgets[c])}s=Object.keys(this._overlayWidgets);for(let a=0,l=s.length;a<l;a++){let c=s[a];n.addOverlayWidget(this._overlayWidgets[c])}n.render(!1,!0),n.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new BK(e,i,n,o,t)}_createView(e){let t;this.isSimpleWidget?t={paste:(o,s,a,l)=>{this._paste("keyboard",o,s,a,l)},type:o=>{this._type("keyboard",o)},compositionType:(o,s,a,l)=>{this._compositionType("keyboard",o,s,a,l)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:t={paste:(o,s,a,l)=>{let c={text:o,pasteOnNewLine:s,multicursorText:a,mode:l};this._commandService.executeCommand("paste",c)},type:o=>{let s={text:o};this._commandService.executeCommand("type",s)},compositionType:(o,s,a,l)=>{if(a||l){let c={text:o,replacePrevCharCnt:s,replaceNextCharCnt:a,positionDelta:l};this._commandService.executeCommand("compositionType",c)}else{let c={text:o,replaceCharCnt:s};this._commandService.executeCommand("replacePreviousChar",c)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};let i=new fp(e.coordinatesConverter);return i.onKeyDown=o=>this._onKeyDown.fire(o),i.onKeyUp=o=>this._onKeyUp.fire(o),i.onContextMenu=o=>this._onContextMenu.fire(o),i.onMouseMove=o=>this._onMouseMove.fire(o),i.onMouseLeave=o=>this._onMouseLeave.fire(o),i.onMouseDown=o=>this._onMouseDown.fire(o),i.onMouseUp=o=>this._onMouseUp.fire(o),i.onMouseDrag=o=>this._onMouseDrag.fire(o),i.onMouseDrop=o=>this._onMouseDrop.fire(o),i.onMouseDropCanceled=o=>this._onMouseDropCanceled.fire(o),i.onMouseWheel=o=>this._onMouseWheel.fire(o),[new a2(t,this._configuration,this._themeService.getColorTheme(),e,i,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e&&e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;let e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&this._domElement.removeChild(t),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return this._modelData!==null}};_g=Zue([bu(3,ze),bu(4,Tt),bu(5,pi),bu(6,Le),bu(7,Ft),bu(8,si),bu(9,oo),bu(10,en),bu(11,ve)],_g);var WF=class extends ${constructor(){super();this._onDidChangeToTrue=this._register(new B),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new B),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){let t=e?2:1;this._value!==t&&(this._value=t,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}},jK=class extends ${constructor(e,t){super();this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=F.editorSimpleInput.bindTo(t),this._editorFocus=F.focus.bindTo(t),this._textInputFocus=F.textInputFocus.bindTo(t),this._editorTextFocus=F.editorTextFocus.bindTo(t),this._editorTabMovesFocus=F.tabMovesFocus.bindTo(t),this._editorReadonly=F.readOnly.bindTo(t),this._inDiffEditor=F.inDiffEditor.bindTo(t),this._editorColumnSelection=F.columnSelection.bindTo(t),this._hasMultipleSelections=F.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=F.hasNonEmptySelection.bindTo(t),this._canUndo=F.canUndo.bindTo(t),this._canRedo=F.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){let e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(130)),this._editorReadonly.set(e.get(81)),this._inDiffEditor.set(e.get(54)),this._editorColumnSelection.set(e.get(18))}_updateFromSelection(){let e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(t=>!t.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){let e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))}},WK=class extends ${constructor(e,t,i){super();this._editor=e,this._contextKeyService=t,this._languageFeaturesService=i,this._langId=F.languageId.bindTo(t),this._hasCompletionItemProvider=F.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=F.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=F.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=F.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=F.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=F.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=F.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=F.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=F.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=F.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=F.hasReferenceProvider.bindTo(t),this._hasRenameProvider=F.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=F.hasSignatureHelpProvider.bindTo(t),this._hasInlayHintsProvider=F.hasInlayHintsProvider.bindTo(t),this._hasDocumentFormattingProvider=F.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=F.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=F.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=F.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInWalkThrough=F.isInWalkThroughSnippet.bindTo(t);let n=()=>this._update();this._register(e.onDidChangeModel(n)),this._register(e.onDidChangeModelLanguage(n)),this._register(i.completionProvider.onDidChange(n)),this._register(i.codeActionProvider.onDidChange(n)),this._register(i.codeLensProvider.onDidChange(n)),this._register(i.definitionProvider.onDidChange(n)),this._register(i.declarationProvider.onDidChange(n)),this._register(i.implementationProvider.onDidChange(n)),this._register(i.typeDefinitionProvider.onDidChange(n)),this._register(i.hoverProvider.onDidChange(n)),this._register(i.documentHighlightProvider.onDidChange(n)),this._register(i.documentSymbolProvider.onDidChange(n)),this._register(i.referenceProvider.onDidChange(n)),this._register(i.renameProvider.onDidChange(n)),this._register(i.documentFormattingEditProvider.onDidChange(n)),this._register(i.documentRangeFormattingEditProvider.onDidChange(n)),this._register(i.signatureHelpProvider.onDidChange(n)),this._register(i.inlayHintsProvider.onDidChange(n)),n()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){let e=this._editor.getModel();if(!e){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(e)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(e)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(e)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(e)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(e)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(e)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(e)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(e)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(e)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(e)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(e)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(e)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(e)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(e)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(e)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(e).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===rt.walkThroughSnippet)})}},UK=class extends ${constructor(e){super();this._onChange=this._register(new B),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(Ic(e)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}},Xue=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),Que=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function jF(r){return Xue+encodeURIComponent(r.toString())+Que}var Jue=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),efe=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function tfe(r){return Jue+encodeURIComponent(r.toString())+efe}yt((r,e)=>{let t=r.getColor(FL);t&&e.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${t}; }`);let i=r.getColor(Td);i&&e.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${jF(i)}") repeat-x bottom left; }`);let n=r.getColor(xz);n&&e.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${n}; }`);let o=r.getColor(op);o&&e.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${o}; }`);let s=r.getColor(qs);s&&e.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${jF(s)}") repeat-x bottom left; }`);let a=r.getColor(Dz);a&&e.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${a}; }`);let l=r.getColor(rv);l&&e.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${l}; }`);let c=r.getColor(jr);c&&e.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${jF(c)}") repeat-x bottom left; }`);let d=r.getColor(Lz);d&&e.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${d}; }`);let h=r.getColor(Iz);h&&e.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${h}; }`);let u=r.getColor(kz);u&&e.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${tfe(u)}") no-repeat bottom left; }`);let f=r.getColor(uH);f&&e.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${f.rgba.a}; }`);let m=r.getColor(hH);m&&e.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${m}; }`);let _=r.getColor(ec)||"inherit";e.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${_}}`)});ke();Be();Be();Ee();var oi=class{constructor(e,t,i){let n=o=>this.emitter.fire(o);this.emitter=new B({onFirstListenerAdd:()=>e.addEventListener(t,n,i),onLastListenerRemove:()=>e.removeEventListener(t,n,i)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}};function UF(r){return r.preventDefault(),r.stopPropagation(),r}nt();Ee();re();xt();var Hv=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},ife=!1,t1;(function(r){r.North="north",r.South="south",r.East="east",r.West="west"})(t1||(t1={}));var nfe=4,ofe=new B,rfe=300,sfe=new B,Zk=class{constructor(){this.disposables=new J}get onPointerMove(){return this.disposables.add(new oi(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new oi(window,"mouseup")).event}dispose(){this.disposables.dispose()}};Hv([En],Zk.prototype,"onPointerMove",null);Hv([En],Zk.prototype,"onPointerUp",null);var Gk=class{constructor(e){this.el=e,this.disposables=new J}get onPointerMove(){return this.disposables.add(new oi(this.el,li.Change)).event}get onPointerUp(){return this.disposables.add(new oi(this.el,li.End)).event}dispose(){this.disposables.dispose()}};Hv([En],Gk.prototype,"onPointerMove",null);Hv([En],Gk.prototype,"onPointerUp",null);var i1=class{constructor(e){this.factory=e}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}};Hv([En],i1.prototype,"onPointerMove",null);Hv([En],i1.prototype,"onPointerUp",null);var zK="pointer-events-disabled",Gn=class extends ${constructor(e,t,i){super();this.hoverDelay=rfe,this.hoverDelayer=this._register(new pr(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new B),this._onDidStart=this._register(new B),this._onDidChange=this._register(new B),this._onDidReset=this._register(new B),this._onDidEnd=this._register(new B),this.orthogonalStartSashDisposables=this._register(new J),this.orthogonalStartDragHandleDisposables=this._register(new J),this.orthogonalEndSashDisposables=this._register(new J),this.orthogonalEndDragHandleDisposables=this._register(new J),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=ee(e,le(".monaco-sash")),i.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${i.orthogonalEdge}`),Je&&this.el.classList.add("mac");let n=this._register(new oi(this.el,"mousedown")).event;this._register(n(h=>this.onPointerStart(h,new Zk),this));let o=this._register(new oi(this.el,"dblclick")).event;this._register(o(this.onPointerDoublePress,this));let s=this._register(new oi(this.el,"mouseenter")).event;this._register(s(()=>Gn.onMouseEnter(this)));let a=this._register(new oi(this.el,"mouseleave")).event;this._register(a(()=>Gn.onMouseLeave(this))),this._register(zt.addTarget(this.el));let l=xe.map(this._register(new oi(this.el,li.Start)).event,h=>{var u;return Object.assign(Object.assign({},h),{target:(u=h.initialTarget)!==null&&u!==void 0?u:null})});this._register(l(h=>this.onPointerStart(h,new Gk(this.el)),this));let c=this._register(new oi(this.el,li.Tap)).event,d=xe.map(xe.filter(xe.debounce(c,(h,u)=>{var f;return{event:u,count:((f=h?.count)!==null&&f!==void 0?f:0)+1}},250),({count:h})=>h===2),({event:h})=>{var u;return Object.assign(Object.assign({},h),{target:(u=h.initialTarget)!==null&&u!==void 0?u:null})});this._register(d(this.onPointerDoublePress,this)),typeof i.size=="number"?(this.size=i.size,i.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=nfe,this._register(ofe.event(h=>{this.size=h,this.layout()}))),this._register(sfe.event(h=>this.hoverDelay=h)),this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",ife),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",e===0),this.el.classList.toggle("minimum",e===1),this.el.classList.toggle("maximum",e===2),this._state=e,this.onDidEnablementChange.fire(e))}set orthogonalStartSash(e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){let t=i=>{this.orthogonalStartDragHandleDisposables.clear(),i!==0&&(this._orthogonalStartDragHandle=ee(this.el,le(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(Ve(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new oi(this._orthogonalStartDragHandle,"mouseenter")).event(()=>Gn.onMouseEnter(e),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new oi(this._orthogonalStartDragHandle,"mouseleave")).event(()=>Gn.onMouseLeave(e),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalStartSash=e}set orthogonalEndSash(e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){let t=i=>{this.orthogonalEndDragHandleDisposables.clear(),i!==0&&(this._orthogonalEndDragHandle=ee(this.el,le(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(Ve(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new oi(this._orthogonalEndDragHandle,"mouseenter")).event(()=>Gn.onMouseEnter(e),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new oi(this._orthogonalEndDragHandle,"mouseleave")).event(()=>Gn.onMouseLeave(e),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalEndSash=e}onPointerStart(e,t){Kt.stop(e);let i=!1;if(!e.__orthogonalSashEvent){let m=this.getOrthogonalSash(e);m&&(i=!0,e.__orthogonalSashEvent=!0,m.onPointerStart(e,new i1(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new i1(t))),!this.state)return;let n=HU("iframe");for(let m of n)m.classList.add(zK);let o=e.pageX,s=e.pageY,a=e.altKey,l={startX:o,currentX:o,startY:s,currentY:s,altKey:a};this.el.classList.add("active"),this._onDidStart.fire(l);let c=po(this.el),d=()=>{let m="";i?m="all-scroll":this.orientation===1?this.state===1?m="s-resize":this.state===2?m="n-resize":m=Je?"row-resize":"ns-resize":this.state===1?m="e-resize":this.state===2?m="w-resize":m=Je?"col-resize":"ew-resize",c.textContent=`* { cursor: ${m} !important; }`},h=new J;d(),i||this.onDidEnablementChange.event(d,null,h);let u=m=>{Kt.stop(m,!1);let _={startX:o,currentX:m.pageX,startY:s,currentY:m.pageY,altKey:a};this._onDidChange.fire(_)},f=m=>{Kt.stop(m,!1),this.el.removeChild(c),this.el.classList.remove("active"),this._onDidEnd.fire(),h.dispose();for(let _ of n)_.classList.remove(zK)};t.onPointerMove(u,null,h),t.onPointerUp(f,null,h),h.add(t)}onPointerDoublePress(e){let t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger(()=>e.el.classList.add("hover"),e.hoverDelay).then(void 0,()=>{}),!t&&e.linkedSash&&Gn.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&Gn.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){Gn.onMouseLeave(this)}layout(){if(this.orientation===0){let e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{let e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(e){if(!(!e.target||!(e.target instanceof HTMLElement))&&e.target.classList.contains("orthogonal-drag-handle"))return e.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}};nt();Ee();re();var cl=class{constructor(e,t,i){this._visiblePosition=e,this._visiblePositionScrollDelta=t,this._cursorPosition=i}static capture(e){let t=null,i=0;if(e.getScrollTop()!==0){let n=e.getVisibleRanges();if(n.length>0){t=n[0].getStartPosition();let o=e.getTopForPosition(t.lineNumber,t.column);i=e.getScrollTop()-o}}return new cl(t,i,e.getPosition())}restore(e){if(this._visiblePosition){let t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){let t=e.getPosition();if(!this._cursorPosition||!t)return;let i=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+i)}};io();ke();Be();Be();os();Oo();oy();var Xk={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:Ys.text,TERMINALS:"Terminals"},zF=class{constructor(e){this.data=e}update(){}getData(){return this.data}},zc={CurrentDragAndDropData:void 0};Be();ss();re();xt();ai();ke();var Qs=class extends ${constructor(e,t,i={}){super();this.options=i,this._context=e||this,this._action=t,t instanceof Kn&&this._register(t.onDidChange(n=>{!this.element||this.handleActionChangeEvent(n)}))}handleActionChangeEvent(e){e.enabled!==void 0&&this.updateEnabled(),e.checked!==void 0&&this.updateChecked(),e.class!==void 0&&this.updateClass(),e.label!==void 0&&(this.updateLabel(),this.updateTooltip()),e.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new Yl)),this._actionRunner}set actionRunner(e){this._actionRunner=e}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){let t=this.element=e;this._register(zt.addTarget(e));let i=this.options&&this.options.draggable;i&&(e.draggable=!0,$n&&this._register(se(e,Re.DRAG_START,n=>{var o;return(o=n.dataTransfer)===null||o===void 0?void 0:o.setData(Xk.TEXT,this._action.label)}))),this._register(se(t,li.Tap,n=>this.onClick(n,!0))),this._register(se(t,Re.MOUSE_DOWN,n=>{i||Kt.stop(n,!0),this._action.enabled&&n.button===0&&t.classList.add("active")})),Je&&this._register(se(t,Re.CONTEXT_MENU,n=>{n.button===0&&n.ctrlKey===!0&&this.onClick(n)})),this._register(se(t,Re.CLICK,n=>{Kt.stop(n,!0),this.options&&this.options.isMenu||this.onClick(n)})),this._register(se(t,Re.DBLCLICK,n=>{Kt.stop(n,!0)})),[Re.MOUSE_UP,Re.MOUSE_OUT].forEach(n=>{this._register(se(t,n,o=>{Kt.stop(o),t.classList.remove("active")}))})}onClick(e,t=!1){var i;Kt.stop(e,!0);let n=fr(this._context)?!((i=this.options)===null||i===void 0)&&i.useEventAsContext?e:{preserveFocus:t}:this._context;this.actionRunner.run(this._action,n)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(e){this.element&&(this.element.tabIndex=e?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}},Gd=class extends Qs{constructor(e,t,i={}){super(e,t,i);this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass=""}render(e){super.render(e),this.element&&(this.label=ee(this.element,le("a.action-label"))),this.label&&(this._action.id===$o.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&(ee(this.element,le("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=g({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e&&this.label&&(this.label.title=e)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}};ss();Ee();re();ai();var afe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},yr=class extends ${constructor(e,t={}){var i,n,o,s,a,l;super();this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new B),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new B({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new B),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new B),this.onBeforeRun=this._onBeforeRun.event,this.options=t,this._context=(i=t.context)!==null&&i!==void 0?i:null,this._orientation=(n=this.options.orientation)!==null&&n!==void 0?n:0,this._triggerKeys={keyDown:(s=(o=this.options.triggerKeys)===null||o===void 0?void 0:o.keyDown)!==null&&s!==void 0?s:!1,keys:(l=(a=this.options.triggerKeys)===null||a===void 0?void 0:a.keys)!==null&&l!==void 0?l:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new Yl,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(h=>this._onDidRun.fire(h))),this._register(this._actionRunner.onBeforeRun(h=>this._onBeforeRun.fire(h))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",t.animated!==!1&&this.domNode.classList.add("animated");let c,d;switch(this._orientation){case 0:c=[15],d=[17];break;case 1:c=[16],d=[18],this.domNode.className+=" vertical";break}this._register(se(this.domNode,Re.KEY_DOWN,h=>{let u=new $t(h),f=!0,m=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;c&&(u.equals(c[0])||u.equals(c[1]))?f=this.focusPrevious():d&&(u.equals(d[0])||u.equals(d[1]))?f=this.focusNext():u.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():u.equals(14)?f=this.focusFirst():u.equals(13)?f=this.focusLast():u.equals(2)&&m instanceof Qs&&m.trapsArrowNavigation?f=this.focusNext():this.isTriggerKeyEvent(u)?this._triggerKeys.keyDown?this.doTrigger(u):this.triggerKeyDown=!0:f=!1,f&&(u.preventDefault(),u.stopPropagation())})),this._register(se(this.domNode,Re.KEY_UP,h=>{let u=new $t(h);this.isTriggerKeyEvent(u)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(u)),u.preventDefault(),u.stopPropagation()):(u.equals(2)||u.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(Ic(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(Bf()===this.domNode||!Kl(Bf(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role","toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(e){if(this.focusable=e,this.focusable){let t=this.viewItems.find(i=>i instanceof Qs&&i.isEnabled());t instanceof Qs&&t.setFocusable(!0)}else this.viewItems.forEach(t=>{t instanceof Qs&&t.setFocusable(!1)})}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach(i=>{t=t||e.equals(i)}),t}updateFocusedItem(){for(let e=0;e<this.actionsList.children.length;e++){let t=this.actionsList.children[e];if(Kl(Bf(),t)){this.focusedItem=e;break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach(t=>t.setActionContext(e))}get actionRunner(){return this._actionRunner}set actionRunner(e){e&&(this._actionRunner=e,this.viewItems.forEach(t=>t.actionRunner=e))}getContainer(){return this.domNode}push(e,t={}){let i=Array.isArray(e)?e:[e],n=Nl(t.index)?t.index:null;i.forEach(o=>{let s=document.createElement("li");s.className="action-item",s.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(se(s,Re.CONTEXT_MENU,l=>{Kt.stop(l,!0)}));let a;this.options.actionViewItemProvider&&(a=this.options.actionViewItemProvider(o)),a||(a=new Gd(this.context,o,t)),a.actionRunner=this._actionRunner,a.setActionContext(this.context),a.render(s),this.focusable&&a instanceof Qs&&this.viewItems.length===0&&a.setFocusable(!0),n===null||n<0||n>=this.actionsList.children.length?(this.actionsList.appendChild(s),this.viewItems.push(a),this._actionIds.push(o.id)):(this.actionsList.insertBefore(s,this.actionsList.children[n]),this.viewItems.splice(n,0,a),this._actionIds.splice(n,0,o.id),n++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){dt(this.viewItems),this.viewItems=[],this._actionIds=[],nn(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}focus(e){let t=!1,i;if(e===void 0?t=!0:typeof e=="number"?i=e:typeof e=="boolean"&&(t=e),t&&typeof this.focusedItem>"u"){let n=this.viewItems.findIndex(o=>o.isEnabled());this.focusedItem=n===-1?void 0:n,this.updateFocus(void 0,void 0,!0)}else i!==void 0&&(this.focusedItem=i),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(e){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;let t=this.focusedItem,i;do{if(!e&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=t,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&this.options.focusOnlyEnabledItems&&!i.isEnabled());return this.updateFocus(),!0}focusPrevious(e){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;let t=this.focusedItem,i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!e&&this.options.preventLoopNavigation)return this.focusedItem=t,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&this.options.focusOnlyEnabledItems&&!i.isEnabled());return this.updateFocus(!0),!0}updateFocus(e,t,i=!1){var n;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((n=this.viewItems[this.previouslyFocusedItem])===null||n===void 0||n.blur());let o=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(o){let s=!0;nb(o.focus)||(s=!1),this.options.focusOnlyEnabledItems&&nb(o.isEnabled)&&!o.isEnabled()&&(s=!1),s?(i||this.previouslyFocusedItem!==this.focusedItem)&&(o.focus(e),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem=void 0)}}doTrigger(e){if(typeof this.focusedItem>"u")return;let t=this.viewItems[this.focusedItem];if(t instanceof Qs){let i=t._context===null||t._context===void 0?e:t._context;this.run(t._action,i)}}run(e,t){return afe(this,void 0,void 0,function*(){yield this._actionRunner.run(e,t)})}dispose(){dt(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}};ss();re();kt();io();Sd();lt();Gs();Et();Li();pt();ln();nt();ln();Ee();ke();vL();as();pt();var lfe={IconContribution:"base.contributions.icons"},VK;(function(r){function e(t,i){let n=t.defaults;for(;Qt.isThemeIcon(n);){let o=kp.getIcon(n.id);if(!o)return;n=o.defaults}return n}r.getDefinition=e})(VK||(VK={}));var $K=class{constructor(){this._onDidChange=new B,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:g("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:g("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${to.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(e,t,i,n){let o=this.iconsById[e];if(o){if(i&&!o.description){o.description=i,this.iconSchema.properties[e].markdownDescription=`${i} $(${e})`;let l=this.iconReferenceSchema.enum.indexOf(e);l!==-1&&(this.iconReferenceSchema.enumDescriptions[l]=i),this._onDidChange.fire()}return o}let s={id:e,description:i,defaults:t,deprecationMessage:n};this.iconsById[e]=s;let a={$ref:"#/definitions/icons"};return n&&(a.deprecationMessage=n),i&&(a.markdownDescription=`${i}: $(${e})`),this.iconSchema.properties[e]=a,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:e}}getIcons(){return Object.keys(this.iconsById).map(e=>this.iconsById[e])}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}toString(){let e=(o,s)=>o.id.localeCompare(s.id),t=o=>{for(;Qt.isThemeIcon(o.defaults);)o=this.iconsById[o.defaults.id];return`codicon codicon-${o?o.id:""}`},i=[];i.push("| preview     | identifier                        | default codicon ID                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");let n=Object.keys(this.iconsById).map(o=>this.iconsById[o]);for(let o of n.filter(s=>!!s.description).sort(e))i.push(`|<i class="${t(o)}"></i>|${o.id}|${Qt.isThemeIcon(o.defaults)?o.defaults.id:o.id}|${o.description||""}|`);i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(let o of n.filter(s=>!Qt.isThemeIcon(s.defaults)).sort(e))i.push(`|<i class="${t(o)}"></i>|${o.id}|`);return i.join(`
`)}},kp=new $K;Ti.add(lfe.IconContribution,kp);function bn(r,e,t,i){return kp.registerIcon(r,e,t,i)}function VF(){return kp}function cfe(){for(let r of p.getAll())kp.registerIcon(r.id,r.definition,r.description)}cfe();var KK="vscode://schemas/icons",qK=Ti.as(Jm.JSONContribution);qK.registerSchema(KK,kp.getIconSchema());var HK=new wt(()=>qK.notifySchemaChanged(KK),200);kp.onDidChange(()=>{HK.isScheduled()||HK.schedule()});var Qk=bn("widget-close",p.close,g("widgetClose","Icon for the close action in widgets.")),B$e=bn("goto-previous-location",p.arrowUp,g("previousChangeIcon","Icon for goto previous editor location.")),j$e=bn("goto-next-location",p.arrowDown,g("nextChangeIcon","Icon for goto next editor location.")),W$e=Qt.modify(p.sync,"spin"),U$e=Qt.modify(p.loading,"spin");Vo();var dfe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},hfe=function(r,e){return function(t,i){e(t,i,r)}},ufe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},HF,Jk=3,$v=class{constructor(e,t,i,n){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=i,this.modifiedLineEnd=n}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}},eI=class{constructor(e){this.entries=e}},ffe=bn("diff-review-insert",p.add,g("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),gfe=bn("diff-review-remove",p.remove,g("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),mfe=bn("diff-review-close",p.close,g("diffReviewCloseIcon","Icon for 'Close' in diff review.")),n1=class Ip extends ${constructor(e,t){super();this._languageService=t,this._width=0,this._diffEditor=e,this._isVisible=!1,this.shadow=vt(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=vt(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new yr(this.actionBarContainer.domNode)),this._actionBar.push(new Kn("diffreview.close",g("label.close","Close"),"close-diff-review "+Qt.asClassName(mfe),!0,()=>ufe(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=vt(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=vt(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new Fc(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(e.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(e.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(Bi(this.domNode.domNode,"click",i=>{i.preventDefault();let n=EA(i.target,"diff-review-row");n&&this._goToRow(n)})),this._register(Bi(this.domNode.domNode,"keydown",i=>{(i.equals(18)||i.equals(2066)||i.equals(530))&&(i.preventDefault(),this._goToRow(this._getNextRow())),(i.equals(16)||i.equals(2064)||i.equals(528))&&(i.preventDefault(),this._goToRow(this._getPrevRow())),(i.equals(9)||i.equals(2057)||i.equals(521)||i.equals(1033))&&(i.preventDefault(),this.hide()),(i.equals(10)||i.equals(3))&&(i.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let i=-1;for(let n=0,o=this._diffs.length;n<o;n++)if(this._diffs[n]===this._currentDiff){i=n;break}e=this._diffs.length+i-1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;e=e%this._diffs.length;let t=this._diffs[e].entries;this._diffEditor.setPosition(new V(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let i=-1;for(let n=0,o=this._diffs.length;n<o;n++)if(this._diffs[n]===this._currentDiff){i=n;break}e=i+1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;e=e%this._diffs.length;let t=this._diffs[e].entries;this._diffEditor.setPosition(new V(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let e=-1,t=this._getCurrentFocusedRow();if(t){let i=parseInt(t.getAttribute("data-line"),10);isNaN(i)||(e=i)}this.hide(),e!==-1&&(this._diffEditor.setPosition(new V(e,1)),this._diffEditor.revealPosition(new V(e,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()}_getNextRow(){let e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null}_goToRow(e){let t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(e,t,i){this._width=t,this.shadow.setTop(e-6),this.shadow.setWidth(t),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(t),this.domNode.setHeight(i),this._content.setHeight(i),this._content.setWidth(t),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){let e=this._diffEditor.getLineChanges();if(!e||e.length===0)return[];let t=this._diffEditor.getOriginalEditor().getModel(),i=this._diffEditor.getModifiedEditor().getModel();return!t||!i?[]:Ip._mergeAdjacent(e,t.getLineCount(),i.getLineCount())}static _mergeAdjacent(e,t,i){if(!e||e.length===0)return[];let n=[],o=0;for(let c=0,d=e.length;c<d;c++){let h=e[c],u=h.originalStartLineNumber,f=h.originalEndLineNumber,m=h.modifiedStartLineNumber,_=h.modifiedEndLineNumber,w=[],y=0;{let C=f===0?u:u-1,E=_===0?m:m-1,L=1,k=1;if(c>0){let T=e[c-1];T.originalEndLineNumber===0?L=T.originalStartLineNumber+1:L=T.originalEndLineNumber+1,T.modifiedEndLineNumber===0?k=T.modifiedStartLineNumber+1:k=T.modifiedEndLineNumber+1}let M=C-Jk+1,I=E-Jk+1;if(M<L){let T=L-M;M=M+T,I=I+T}if(I<k){let T=k-I;M=M+T,I=I+T}w[y++]=new $v(M,C,I,E)}f!==0&&(w[y++]=new $v(u,f,0,0)),_!==0&&(w[y++]=new $v(0,0,m,_));{let C=f===0?u+1:f+1,E=_===0?m+1:_+1,L=t,k=i;if(c+1<d){let T=e[c+1];T.originalEndLineNumber===0?L=T.originalStartLineNumber:L=T.originalStartLineNumber-1,T.modifiedEndLineNumber===0?k=T.modifiedStartLineNumber:k=T.modifiedStartLineNumber-1}let M=C+Jk-1,I=E+Jk-1;if(M>L){let T=L-M;M=M+T,I=I+T}if(I>k){let T=k-I;M=M+T,I=I+T}w[y++]=new $v(C,M,E,I)}n[o++]=new eI(w)}let s=n[0].entries,a=[],l=0;for(let c=1,d=n.length;c<d;c++){let h=n[c].entries,u=s[s.length-1],f=h[0];if(u.getType()===0&&f.getType()===0&&f.originalLineStart<=u.originalLineEnd){s[s.length-1]=new $v(u.originalLineStart,f.originalLineEnd,u.modifiedLineStart,f.modifiedLineEnd),s=s.concat(h.slice(1));continue}a[l++]=new eI(s),s=h}return a[l++]=new eI(s),a}_findDiffIndex(e){let t=e.lineNumber;for(let i=0,n=this._diffs.length;i<n;i++){let o=this._diffs[i].entries,s=o[o.length-1].modifiedLineEnd;if(t<=s)return i}return 0}_render(){let e=this._diffEditor.getOriginalEditor().getOptions(),t=this._diffEditor.getModifiedEditor().getOptions(),i=this._diffEditor.getOriginalEditor().getModel(),n=this._diffEditor.getModifiedEditor().getModel(),o=i.getOptions(),s=n.getOptions();if(!this._isVisible||!i||!n){nn(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});let a=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[a]===this._currentDiff)return;this._currentDiff=this._diffs[a];let l=this._diffs[a].entries,c=document.createElement("div");c.className="diff-review-table",c.setAttribute("role","list"),c.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),Cn(c,t.get(44));let d=0,h=0,u=0,f=0;for(let I=0,T=l.length;I<T;I++){let R=l[I],Z=R.originalLineStart,q=R.originalLineEnd,te=R.modifiedLineStart,ne=R.modifiedLineEnd;Z!==0&&(d===0||Z<d)&&(d=Z),q!==0&&(h===0||q>h)&&(h=q),te!==0&&(u===0||te<u)&&(u=te),ne!==0&&(f===0||ne>f)&&(f=ne)}let m=document.createElement("div");m.className="diff-review-row";let _=document.createElement("div");_.className="diff-review-cell diff-review-summary";let w=h-d+1,y=f-u+1;_.appendChild(document.createTextNode(`${a+1}/${this._diffs.length}: @@ -${d},${w} +${u},${y} @@`)),m.setAttribute("data-line",String(u));let C=I=>I===0?g("no_lines_changed","no lines changed"):I===1?g("one_line_changed","1 line changed"):g("more_lines_changed","{0} lines changed",I),E=C(w),L=C(y);m.setAttribute("aria-label",g({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",a+1,this._diffs.length,d,E,u,L)),m.appendChild(_),m.setAttribute("role","listitem"),c.appendChild(m);let k=t.get(59),M=u;for(let I=0,T=l.length;I<T;I++){let R=l[I];Ip._renderSection(c,R,M,k,this._width,e,i,o,t,n,s,this._languageService.languageIdCodec),R.modifiedLineStart!==0&&(M=R.modifiedLineEnd)}nn(this._content.domNode),this._content.domNode.appendChild(c),this.scrollbar.scanDomNode()}static _renderSection(e,t,i,n,o,s,a,l,c,d,h,u){let f=t.getType(),m="diff-review-row",_="",w="diff-review-spacer",y=null;switch(f){case 1:m="diff-review-row line-insert",_=" char-insert",y=ffe;break;case 2:m="diff-review-row line-delete",_=" char-delete",y=gfe;break}let C=t.originalLineStart,E=t.originalLineEnd,L=t.modifiedLineStart,k=t.modifiedLineEnd,M=Math.max(k-L,E-C),I=s.get(131),T=I.glyphMarginWidth+I.lineNumbersWidth,R=c.get(131),Z=10+R.glyphMarginWidth+R.lineNumbersWidth;for(let q=0;q<=M;q++){let te=C===0?0:C+q,ne=L===0?0:L+q,Ne=document.createElement("div");Ne.style.minWidth=o+"px",Ne.className=m,Ne.setAttribute("role","listitem"),ne!==0&&(i=ne),Ne.setAttribute("data-line",String(i));let Oe=document.createElement("div");Oe.className="diff-review-cell",Oe.style.height=`${n}px`,Ne.appendChild(Oe);let je=document.createElement("span");je.style.width=T+"px",je.style.minWidth=T+"px",je.className="diff-review-line-number"+_,te!==0?je.appendChild(document.createTextNode(String(te))):je.innerText="\xA0",Oe.appendChild(je);let Ze=document.createElement("span");Ze.style.width=Z+"px",Ze.style.minWidth=Z+"px",Ze.style.paddingRight="10px",Ze.className="diff-review-line-number"+_,ne!==0?Ze.appendChild(document.createTextNode(String(ne))):Ze.innerText="\xA0",Oe.appendChild(Ze);let $e=document.createElement("span");if($e.className=w,y){let _i=document.createElement("span");_i.className=Qt.asClassName(y),_i.innerText="\xA0\xA0",$e.appendChild(_i)}else $e.innerText="\xA0\xA0";Oe.appendChild($e);let gt;if(ne!==0){let _i=this._renderLine(d,c,h.tabSize,ne,u);Ip._ttPolicy&&(_i=Ip._ttPolicy.createHTML(_i)),Oe.insertAdjacentHTML("beforeend",_i),gt=d.getLineContent(ne)}else{let _i=this._renderLine(a,s,l.tabSize,te,u);Ip._ttPolicy&&(_i=Ip._ttPolicy.createHTML(_i)),Oe.insertAdjacentHTML("beforeend",_i),gt=a.getLineContent(te)}gt.length===0&&(gt=g("blankLine","blank"));let Pe="";switch(f){case 0:te===ne?Pe=g({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",gt,te):Pe=g("equalLine","{0} original line {1} modified line {2}",gt,te,ne);break;case 1:Pe=g("insertLine","+ {0} modified line {1}",gt,ne);break;case 2:Pe=g("deleteLine","- {0} original line {1}",gt,te);break}Ne.setAttribute("aria-label",Pe),e.appendChild(Ne)}}static _renderLine(e,t,i,n,o){let s=e.getLineContent(n),a=t.get(44),l=tn.createEmpty(s,o),c=br.isBasicASCII(s,e.mightContainNonBasicASCII()),d=br.containsRTL(s,c,e.mightContainRTL());return Bb(new tl(a.isMonospace&&!t.get(29),a.canUseHalfwidthRightwardsArrow,s,!1,c,d,0,l,[],i,0,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,t.get(105),t.get(88),t.get(83),t.get(45)!==er.OFF,null)).html}};n1._ttPolicy=(HF=window.trustedTypes)===null||HF===void 0?void 0:HF.createPolicy("diffReview",{createHTML:r=>r});n1=dfe([hfe(1,Gt)],n1);yt((r,e)=>{let t=r.getColor(ZL);t&&e.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${t}; }`);let i=r.getColor(Jl);i&&e.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${i} 0 -6px 6px -6px inset; }`)});var YK=class extends we{constructor(){super({id:"editor.action.diffReview.next",label:g("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:Ce.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(e,t){let i=GK(e);i&&i.diffReviewNext()}},ZK=class extends we{constructor(){super({id:"editor.action.diffReview.prev",label:g("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:Ce.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(e,t){let i=GK(e);i&&i.diffReviewPrev()}};function GK(r){let e=r.get(Tt),t=e.listDiffEditors(),i=e.getActiveCodeEditor();if(!i)return null;for(let n=0,o=t.length;n<o;n++){let s=t[n];if(s.getModifiedEditor().getId()===i.getId()||s.getOriginalEditor().getId()===i.getId())return s}return null}de(YK);de(ZK);ye();Tf();t0();Fo();vu();Et();Ye();Li();pt();Ye();var wu=Fe("contextViewService"),Js=Fe("contextMenuService");ke();Be();ss();re();ye();ln();var $F=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},KF=class extends ${constructor(e,t,i,n,o,s){super();this._viewZoneId=e,this._marginDomNode=t,this.editor=i,this.diff=n,this._contextMenuService=o,this._clipboardService=s,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=p.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";let a=i.getOption(59),l=i.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${a}px`,this._diffActions.style.lineHeight=`${a}px`,this._marginDomNode.appendChild(this._diffActions);let c=[],d=n.modifiedEndLineNumber===0;c.push(new Kn("diff.clipboard.copyDeletedContent",d?n.originalEndLineNumber>n.modifiedStartLineNumber?g("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):g("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):n.originalEndLineNumber>n.modifiedStartLineNumber?g("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):g("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>$F(this,void 0,void 0,function*(){let _=new D(n.originalStartLineNumber,1,n.originalEndLineNumber+1,1),w=n.originalModel.getValueInRange(_);yield this._clipboardService.writeText(w)})));let h=0,u;n.originalEndLineNumber>n.modifiedStartLineNumber&&(u=new Kn("diff.clipboard.copyDeletedLineContent",d?g("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",n.originalStartLineNumber):g("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",n.originalStartLineNumber),void 0,!0,()=>$F(this,void 0,void 0,function*(){let _=n.originalModel.getLineContent(n.originalStartLineNumber+h);if(_===""){let w=n.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(w===0?`
`:`\r
`)}else yield this._clipboardService.writeText(_)})),c.push(u)),i.getOption(81)||c.push(new Kn("diff.inline.revertChange",g("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>$F(this,void 0,void 0,function*(){let _=new D(n.originalStartLineNumber,1,n.originalEndLineNumber,n.originalModel.getLineMaxColumn(n.originalEndLineNumber)),w=n.originalModel.getValueInRange(_);if(n.modifiedEndLineNumber===0){let y=i.getModel().getLineMaxColumn(n.modifiedStartLineNumber);i.executeEdits("diffEditor",[{range:new D(n.modifiedStartLineNumber,y,n.modifiedStartLineNumber,y),text:l+w}])}else{let y=i.getModel().getLineMaxColumn(n.modifiedEndLineNumber);i.executeEdits("diffEditor",[{range:new D(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber,y),text:w}])}})));let m=(_,w)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:_,y:w}),getActions:()=>(u&&(u.label=d?g("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",n.originalStartLineNumber+h):g("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",n.originalStartLineNumber+h)),c),autoSelectFirstItem:!0})};this._register(Bi(this._diffActions,"mousedown",_=>{let{top:w,height:y}=ji(this._diffActions),C=Math.floor(a/3);_.preventDefault(),m(_.posx,w+y+C)})),this._register(i.onMouseMove(_=>{_.target.type===8||_.target.type===5?_.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,h=this._updateLightBulbPosition(this._marginDomNode,_.event.browserEvent.y,a)):this.visibility=!1:this.visibility=!1})),this._register(i.onMouseDown(_=>{!_.event.rightButton||(_.target.type===8||_.target.type===5)&&_.target.detail.viewZoneId===this._viewZoneId&&(_.event.preventDefault(),h=this._updateLightBulbPosition(this._marginDomNode,_.event.browserEvent.y,a),m(_.event.posx,_.event.posy+a))}))}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,e?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(e,t,i){let{top:n}=ji(e),o=t-n,s=Math.floor(o/i),a=s*i;if(this._diffActions.style.top=`${a}px`,this.diff.viewLineCounts){let l=0;for(let c=0;c<this.diff.viewLineCounts.length;c++)if(l+=this.diff.viewLineCounts[c],s<l)return c}return s}};Ye();var dl=Fe("clipboardService");kt();ut();Vc();ln();var _fe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Cu=function(r,e){return function(t,i){e(t,i,r)}},qF,YF=class{constructor(e,t){this._contextMenuService=e,this._clipboardService=t,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(e){return e.filter(t=>!this._zonesMap[String(t.id)])}clean(e){this._zones.length>0&&e.changeViewZones(t=>{for(let i of this._zones)t.removeZone(i)}),this._zones=[],this._zonesMap={},this._decorations=e.deltaDecorations(this._decorations,[])}apply(e,t,i,n){let o=n?cl.capture(e):null;e.changeViewZones(s=>{var a;for(let l of this._zones)s.removeZone(l);for(let l of this._inlineDiffMargins)l.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let l=0,c=i.zones.length;l<c;l++){let d=i.zones[l];d.suppressMouseDown=!0;let h=s.addZone(d);this._zones.push(h),this._zonesMap[String(h)]=!0,i.zones[l].diff&&d.marginDomNode&&(d.suppressMouseDown=!1,((a=i.zones[l].diff)===null||a===void 0?void 0:a.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new KF(h,d.marginDomNode,e,i.zones[l].diff,this._contextMenuService,this._clipboardService)))}}),o&&o.restore(e),this._decorations=e.deltaDecorations(this._decorations,i.decorations),t&&t.setZones(i.overviewZones)}},bfe=0,vfe=bn("diff-insert",p.add,g("diffInsertIcon","Line decoration for inserts in the diff editor.")),JK=bn("diff-remove",p.remove,g("diffRemoveIcon","Line decoration for removals in the diff editor.")),XK=(qF=window.trustedTypes)===null||qF===void 0?void 0:qF.createPolicy("diffEditorWidget",{createHTML:r=>r}),Su=class Sr extends ${constructor(e,t,i,n,o,s,a,l,c,d,h,u){super();this._editorProgressService=u,this._onDidDispose=this._register(new B),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new B),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new B),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=o,this._codeEditorService=l,this._contextKeyService=this._register(s.createScoped(e)),this._instantiationService=a.createChild(new _u([Le,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=c,this._notificationService=d,this._id=++bfe,this._state=0,this._updatingDiffProgress=null,this._domElement=e,t=t||{},this._options=QK(t,{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),typeof t.isInEmbeddedEditor<"u"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",t.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new wt(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=Sr._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=vt(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(Bi(this._overviewDomElement,"mousedown",m=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(m)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new YF(h,n),this._modifiedEditorState=new YF(h,n),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new z0(this._containerDomElement,t.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),t.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(t,i.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(t,i.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=a.createInstance(n1,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new Xd(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new GF(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(c.onDidColorThemeChange(m=>{this._strategy&&this._strategy.applyColors(m)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=Sr._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));let f=Id.getDiffEditorContributions();for(let m of f)try{this._register(a.createInstance(m.ctor,this))}catch(_){Ie(_)}this._codeEditorService.addDiffEditor(this)}_setState(e){this._state!==e&&(this._state=e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(e,t){let i="monaco-diff-editor monaco-editor-background ";return t&&(i+="side-by-side "),i+=Zm(e.type),i}_recreateOverviewRulers(){!this._options.renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(e,t){let i=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(e),t);this._register(i.onDidScrollChange(o=>{this._isHandlingScrollEvent||!o.scrollTopChanged&&!o.scrollLeftChanged&&!o.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(i.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(i.onDidChangeConfiguration(o=>{!i.getModel()||(o.hasChanged(44)&&this._updateDecorationsRunner.schedule(),o.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(i.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(i.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));let n=this._contextKeyService.createKey("isInDiffLeftEditor",i.hasWidgetFocus());return this._register(i.onDidFocusEditorWidget(()=>n.set(!0))),this._register(i.onDidBlurEditorWidget(()=>n.set(!1))),this._register(i.onDidContentSizeChange(o=>{let s=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Sr.ONE_OVERVIEW_WIDTH,a=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:a,contentWidth:s,contentHeightChanged:o.contentHeightChanged,contentWidthChanged:o.contentWidthChanged})})),i}_createRightHandSideEditor(e,t){let i=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(e),t);this._register(i.onDidScrollChange(o=>{this._isHandlingScrollEvent||!o.scrollTopChanged&&!o.scrollLeftChanged&&!o.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(i.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(i.onDidChangeConfiguration(o=>{!i.getModel()||(o.hasChanged(44)&&this._updateDecorationsRunner.schedule(),o.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(i.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(i.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(i.onDidChangeModelOptions(o=>{o.tabSize&&this._updateDecorationsRunner.schedule()}));let n=this._contextKeyService.createKey("isInDiffRightEditor",i.hasWidgetFocus());return this._register(i.onDidFocusEditorWidget(()=>n.set(!0))),this._register(i.onDidBlurEditorWidget(()=>n.set(!1))),this._register(i.onDidContentSizeChange(o=>{let s=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Sr.ONE_OVERVIEW_WIDTH,a=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:a,contentWidth:s,contentHeightChanged:o.contentHeightChanged,contentWidthChanged:o.contentWidthChanged})})),i}_createInnerEditor(e,t,i,n){return e.createInstance(_g,t,i,n)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Of.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(e){let t=QK(e,this._options),i=Cfe(this._options,t);this._options=t;let n=i.ignoreTrimWhitespace||i.renderIndicators,o=this._isVisible&&(i.maxComputationTime||i.maxFileSize);n?this._beginUpdateDecorations():o&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(e)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(e)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),i.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new Xd(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new GF(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=Sr._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),i.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(e?e.original:null),this._modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),e&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(e){return this._modifiedEditor.getVisibleColumnFromPosition(e)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(e,t="api"){this._modifiedEditor.setPosition(e,t)}revealLine(e,t=0){this._modifiedEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this._modifiedEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this._modifiedEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this._modifiedEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this._modifiedEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this._modifiedEditor.revealPositionNearTop(e,t)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(e,t="api"){this._modifiedEditor.setSelection(e,t)}setSelections(e,t="api"){this._modifiedEditor.setSelections(e,t)}revealLines(e,t,i=0){this._modifiedEditor.revealLines(e,t,i)}revealLinesInCenter(e,t,i=0){this._modifiedEditor.revealLinesInCenter(e,t,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t,i)}revealLinesNearTop(e,t,i=0){this._modifiedEditor.revealLinesNearTop(e,t,i)}revealRange(e,t=0,i=!1,n=!0){this._modifiedEditor.revealRange(e,t,i,n)}revealRangeInCenter(e,t=0){this._modifiedEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this._modifiedEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this._modifiedEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){let e=this._originalEditor.saveViewState(),t=this._modifiedEditor.saveViewState();return{original:e,modified:t}}restoreViewState(e){if(e&&e.original&&e.modified){let t=e;this._originalEditor.restoreViewState(t.original),this._modifiedEditor.restoreViewState(t.modified)}}layout(e){this._elementSizeObserver.observe(e)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(e,t,i){this._modifiedEditor.trigger(e,t,i)}changeDecorations(e){return this._modifiedEditor.changeDecorations(e)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;let e=this._elementSizeObserver.getHeight(),t=this._getReviewHeight(),i=Sr.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Sr.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:Sr.ONE_OVERVIEW_WIDTH,right:i+Sr.ONE_OVERVIEW_WIDTH,height:e-t}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:Sr.ONE_OVERVIEW_WIDTH,height:e-t}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),Sr.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(e,t){return!e&&!t?!0:!e||!t?!1:e.toString()===t.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;let e=this._originalEditor.getModel(),t=this._modifiedEditor.getModel();if(!e||!t)return;this._diffComputationToken++;let i=this._diffComputationToken,n=this._options.maxFileSize*1024*1024,o=s=>{let a=s.getValueLength();return n===0||a<=n};if(!o(e)||!o(t)){(!Sr._equals(e.uri,this._lastOriginalWarning)||!Sr._equals(t.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=e.uri,this._lastModifiedWarning=t.uri,this._notificationService.warn(g("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._setState(1),this._editorWorkerService.computeDiff(e.uri,t.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(s=>{i===this._diffComputationToken&&e===this._originalEditor.getModel()&&t===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=s,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},s=>{i===this._diffComputationToken&&e===this._originalEditor.getModel()&&t===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;let e=this._diffComputationResult?this._diffComputationResult.changes:[],t=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),i=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),n=this._strategy.getEditorsDiffDecorations(e,this._options.ignoreTrimWhitespace,this._options.renderIndicators,t,i);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,n.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,n.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(e){let t=Object.assign({},e);return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar=Object.assign({},t.scrollbar||{}),t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=this._options.diffCodeLens,t.fixedOverflowWidgets=!0,t.minimap=Object.assign({},t.minimap||{}),t.minimap.enabled=!1,t}_adjustOptionsForLeftHandSide(e){let t=this._adjustOptionsForSubEditor(e);return this._options.renderSideBySide?t.wordWrapOverride1=this._options.diffWordWrap:(t.wordWrapOverride1="off",t.wordWrapOverride2="off"),e.originalAriaLabel&&(t.ariaLabel=e.originalAriaLabel),t.readOnly=!this._options.originalEditable,t.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},t),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(e){let t=this._adjustOptionsForSubEditor(e);return e.modifiedAriaLabel&&(t.ariaLabel=e.modifiedAriaLabel),t.wordWrapOverride1=this._options.diffWordWrap,t.revealHorizontalRightPadding=vs.revealHorizontalRightPadding.defaultValue+Sr.ENTIRE_DIFF_OVERVIEW_WIDTH,t.scrollbar.verticalHasArrows=!1,t.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},t),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){let e=this._elementSizeObserver.getWidth(),t=this._elementSizeObserver.getHeight(),i=this._getReviewHeight(),n=this._strategy.layout();this._originalDomNode.style.width=n+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=e-n+"px",this._modifiedDomNode.style.left=n+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=t-i+"px",this._overviewDomElement.style.width=Sr.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=e-Sr.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(Sr.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:n,height:t-i}),this._modifiedEditor.layout({width:e-n-(this._options.renderOverviewRuler?Sr.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:t-i}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(t-i,e,i),this._layoutOverviewViewport()}_layoutOverviewViewport(){let e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){let e=this._modifiedEditor.getLayoutInfo();if(!e)return null;let t=this._modifiedEditor.getScrollTop(),i=this._modifiedEditor.getScrollHeight(),n=Math.max(0,e.height),o=Math.max(0,n-2*0),s=i>0?o/i:0,a=Math.max(0,Math.floor(e.height*s)),l=Math.floor(t*s);return{height:a,top:l}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(e,t){let i=this._diffComputationResult?this._diffComputationResult.changes:[];if(i.length===0||e<t(i[0]))return null;let n=0,o=i.length-1;for(;n<o;){let s=Math.floor((n+o)/2),a=t(i[s]),l=s+1<=o?t(i[s+1]):1073741824;e<a?o=s-1:e>=l?n=s+1:(n=s,o=s)}return i[n]}_getEquivalentLineForOriginalLineNumber(e){let t=this._getLineChangeAtOrBeforeLineNumber(e,l=>l.originalStartLineNumber);if(!t)return e;let i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,s=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,a=e-i;return a<=o?n+Math.min(a,s):n+s-o+a}_getEquivalentLineForModifiedLineNumber(e){let t=this._getLineChangeAtOrBeforeLineNumber(e,l=>l.modifiedStartLineNumber);if(!t)return e;let i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,s=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,a=e-n;return a<=s?i+Math.min(a,o):i+o-s+a}getDiffLineInformationForOriginal(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null}getDiffLineInformationForModified(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null}};Su.ONE_OVERVIEW_WIDTH=15;Su.ENTIRE_DIFF_OVERVIEW_WIDTH=30;Su.UPDATE_DIFF_DECORATIONS_DELAY=200;Su=_fe([Cu(3,dl),Cu(4,Yo),Cu(5,Le),Cu(6,ze),Cu(7,Tt),Cu(8,Ft),Cu(9,si),Cu(10,Js),Cu(11,ea)],Su);var XF=class extends ${constructor(e){super();this._dataSource=e,this._insertColor=null,this._removeColor=null}applyColors(e){let t=e.getColor(nV)||(e.getColor(HA)||CL).transparent(2),i=e.getColor(oV)||(e.getColor($A)||yL).transparent(2),n=!t.equals(this._insertColor)||!i.equals(this._removeColor);return this._insertColor=t,this._removeColor=i,n}getEditorsDiffDecorations(e,t,i,n,o){o=o.sort((c,d)=>c.afterLineNumber-d.afterLineNumber),n=n.sort((c,d)=>c.afterLineNumber-d.afterLineNumber);let s=this._getViewZones(e,n,o,i),a=this._getOriginalEditorDecorations(s,e,t,i),l=this._getModifiedEditorDecorations(s,e,t,i);return{original:{decorations:a.decorations,overviewZones:a.overviewZones,zones:s.original},modified:{decorations:l.decorations,overviewZones:l.overviewZones,zones:s.modified}}}},ZF=class{constructor(e){this._source=e,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}},bg=class{constructor(e,t,i,n,o){this._lineChanges=e,this._originalForeignVZ=t,this._modifiedForeignVZ=i,this._originalEditor=n,this._modifiedEditor=o}static _getViewLineCount(e,t,i){let n=e.getModel(),o=e._getViewModel();if(n&&o){let s=o1(n,o,t,i);return s.endLineNumber-s.startLineNumber+1}return i-t+1}getViewZones(){let e=this._originalEditor.getOption(59),t=this._modifiedEditor.getOption(59),i=this._originalEditor.getOption(132).wrappingColumn!==-1,n=this._modifiedEditor.getOption(132).wrappingColumn!==-1,o=i||n,s=this._originalEditor.getModel(),a=this._originalEditor._getViewModel().coordinatesConverter,l=this._modifiedEditor._getViewModel().coordinatesConverter,c={original:[],modified:[]},d=0,h=0,u=0,f=0,m=0,_=0,w=(M,I)=>M.afterLineNumber-I.afterLineNumber,y=(M,I)=>{if(I.domNode===null&&M.length>0){let T=M[M.length-1];if(T.afterLineNumber===I.afterLineNumber&&T.domNode===null){T.heightInLines+=I.heightInLines;return}}M.push(I)},C=new ZF(this._modifiedForeignVZ),E=new ZF(this._originalForeignVZ),L=1,k=1;for(let M=0,I=this._lineChanges.length;M<=I;M++){let T=M<I?this._lineChanges[M]:null;T!==null?(u=T.originalStartLineNumber+(T.originalEndLineNumber>0?-1:0),f=T.modifiedStartLineNumber+(T.modifiedEndLineNumber>0?-1:0),h=T.originalEndLineNumber>0?bg._getViewLineCount(this._originalEditor,T.originalStartLineNumber,T.originalEndLineNumber):0,d=T.modifiedEndLineNumber>0?bg._getViewLineCount(this._modifiedEditor,T.modifiedStartLineNumber,T.modifiedEndLineNumber):0,m=Math.max(T.originalStartLineNumber,T.originalEndLineNumber),_=Math.max(T.modifiedStartLineNumber,T.modifiedEndLineNumber)):(u+=1e7+h,f+=1e7+d,m=u,_=f);let R=[],Z=[];if(o){let ne;T?T.originalEndLineNumber>0?ne=T.originalStartLineNumber-L:ne=T.modifiedStartLineNumber-k:ne=s.getLineCount()-L+1;for(let Ne=0;Ne<ne;Ne++){let Oe=L+Ne,je=k+Ne,Ze=a.getModelLineViewLineCount(Oe),$e=l.getModelLineViewLineCount(je);Ze<$e?R.push({afterLineNumber:Oe,heightInLines:$e-Ze,domNode:null,marginDomNode:null}):Ze>$e&&Z.push({afterLineNumber:je,heightInLines:Ze-$e,domNode:null,marginDomNode:null})}T&&(L=(T.originalEndLineNumber>0?T.originalEndLineNumber:T.originalStartLineNumber)+1,k=(T.modifiedEndLineNumber>0?T.modifiedEndLineNumber:T.modifiedStartLineNumber)+1)}for(;C.current&&C.current.afterLineNumber<=_;){let ne;C.current.afterLineNumber<=f?ne=u-f+C.current.afterLineNumber:ne=m;let Ne=null;T&&T.modifiedStartLineNumber<=C.current.afterLineNumber&&C.current.afterLineNumber<=T.modifiedEndLineNumber&&(Ne=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),R.push({afterLineNumber:ne,heightInLines:C.current.height/t,domNode:null,marginDomNode:Ne}),C.advance()}for(;E.current&&E.current.afterLineNumber<=m;){let ne;E.current.afterLineNumber<=u?ne=f-u+E.current.afterLineNumber:ne=_,Z.push({afterLineNumber:ne,heightInLines:E.current.height/e,domNode:null}),E.advance()}if(T!==null&&Kv(T)){let ne=this._produceOriginalFromDiff(T,h,d);ne&&R.push(ne)}if(T!==null&&qv(T)){let ne=this._produceModifiedFromDiff(T,h,d);ne&&Z.push(ne)}let q=0,te=0;for(R=R.sort(w),Z=Z.sort(w);q<R.length&&te<Z.length;){let ne=R[q],Ne=Z[te],Oe=ne.afterLineNumber-u,je=Ne.afterLineNumber-f;Oe<je?(y(c.original,ne),q++):je<Oe?(y(c.modified,Ne),te++):ne.shouldNotShrink?(y(c.original,ne),q++):Ne.shouldNotShrink?(y(c.modified,Ne),te++):ne.heightInLines>=Ne.heightInLines?(ne.heightInLines-=Ne.heightInLines,te++):(Ne.heightInLines-=ne.heightInLines,q++)}for(;q<R.length;)y(c.original,R[q]),q++;for(;te<Z.length;)y(c.modified,Z[te]),te++}return{original:bg._ensureDomNodes(c.original),modified:bg._ensureDomNodes(c.modified)}}static _ensureDomNodes(e){return e.map(t=>(t.domNode||(t.domNode=iq()),t))}};function yu(r,e,t,i,n){return{range:new D(r,e,t,i),options:n}}var Is={charDelete:ot.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:ot.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:ot.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:ot.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:ot.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:ot.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+Qt.asClassName(vfe),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:ot.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:ot.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+Qt.asClassName(JK),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:ot.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})},Xd=class extends XF{constructor(e,t){super(e);this._disableSash=t===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new Gn(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(i=>this._onSashDrag(i)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(e){let t=e===!1;this._disableSash!==t&&(this._disableSash=t,this._sash.state=this._disableSash?0:3)}layout(e=this._sashRatio){let i=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Su.ENTIRE_DIFF_OVERVIEW_WIDTH:0),n=Math.floor((e||.5)*i),o=Math.floor(.5*i);return n=this._disableSash?o:n||o,i>Xd.MINIMUM_EDITOR_WIDTH*2?(n<Xd.MINIMUM_EDITOR_WIDTH&&(n=Xd.MINIMUM_EDITOR_WIDTH),n>i-Xd.MINIMUM_EDITOR_WIDTH&&(n=i-Xd.MINIMUM_EDITOR_WIDTH)):n=o,this._sashPosition!==n&&(this._sashPosition=n),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(e){let i=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Su.ENTIRE_DIFF_OVERVIEW_WIDTH:0),n=this.layout((this._startSashPosition+(e.currentX-e.startX))/i);this._sashRatio=n/i,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(e){return 0}getVerticalSashLeft(e){return this._sashPosition}getVerticalSashHeight(e){return this._dataSource.getHeight()}_getViewZones(e,t,i){let n=this._dataSource.getOriginalEditor(),o=this._dataSource.getModifiedEditor();return new eq(e,t,i,n,o).getViewZones()}_getOriginalEditorDecorations(e,t,i,n){let o=this._dataSource.getOriginalEditor(),s=String(this._removeColor),a={decorations:[],overviewZones:[]},l=o.getModel(),c=o._getViewModel();for(let d of t)if(qv(d)){a.decorations.push({range:new D(d.originalStartLineNumber,1,d.originalEndLineNumber,1073741824),options:n?Is.lineDeleteWithSign:Is.lineDelete}),(!Kv(d)||!d.charChanges)&&a.decorations.push(yu(d.originalStartLineNumber,1,d.originalEndLineNumber,1073741824,Is.charDeleteWholeLine));let h=o1(l,c,d.originalStartLineNumber,d.originalEndLineNumber);if(a.overviewZones.push(new vp(h.startLineNumber,h.endLineNumber,0,s)),d.charChanges){for(let u of d.charChanges)if(qv(u))if(i)for(let f=u.originalStartLineNumber;f<=u.originalEndLineNumber;f++){let m,_;f===u.originalStartLineNumber?m=u.originalStartColumn:m=l.getLineFirstNonWhitespaceColumn(f),f===u.originalEndLineNumber?_=u.originalEndColumn:_=l.getLineLastNonWhitespaceColumn(f),a.decorations.push(yu(f,m,f,_,Is.charDelete))}else a.decorations.push(yu(u.originalStartLineNumber,u.originalStartColumn,u.originalEndLineNumber,u.originalEndColumn,Is.charDelete))}}return a}_getModifiedEditorDecorations(e,t,i,n){let o=this._dataSource.getModifiedEditor(),s=String(this._insertColor),a={decorations:[],overviewZones:[]},l=o.getModel(),c=o._getViewModel();for(let d of t)if(Kv(d)){a.decorations.push({range:new D(d.modifiedStartLineNumber,1,d.modifiedEndLineNumber,1073741824),options:n?Is.lineInsertWithSign:Is.lineInsert}),(!qv(d)||!d.charChanges)&&a.decorations.push(yu(d.modifiedStartLineNumber,1,d.modifiedEndLineNumber,1073741824,Is.charInsertWholeLine));let h=o1(l,c,d.modifiedStartLineNumber,d.modifiedEndLineNumber);if(a.overviewZones.push(new vp(h.startLineNumber,h.endLineNumber,0,s)),d.charChanges){for(let u of d.charChanges)if(Kv(u))if(i)for(let f=u.modifiedStartLineNumber;f<=u.modifiedEndLineNumber;f++){let m,_;f===u.modifiedStartLineNumber?m=u.modifiedStartColumn:m=l.getLineFirstNonWhitespaceColumn(f),f===u.modifiedEndLineNumber?_=u.modifiedEndColumn:_=l.getLineLastNonWhitespaceColumn(f),a.decorations.push(yu(f,m,f,_,Is.charInsert))}else a.decorations.push(yu(u.modifiedStartLineNumber,u.modifiedStartColumn,u.modifiedEndLineNumber,u.modifiedEndColumn,Is.charInsert))}}return a}};Xd.MINIMUM_EDITOR_WIDTH=100;var eq=class extends bg{constructor(e,t,i,n,o){super(e,t,i,n,o)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(e,t,i){return i>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i-t,domNode:null}:null}_produceModifiedFromDiff(e,t,i){return t>i?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-i,domNode:null}:null}},GF=class extends XF{constructor(e,t){super(e);this._decorationsLeft=e.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(e.getOriginalEditor().onDidLayoutChange(i=>{this._decorationsLeft!==i.decorationsLeft&&(this._decorationsLeft=i.decorationsLeft,e.relayoutEditors())}))}setEnableSplitViewResizing(e){}_getViewZones(e,t,i,n){let o=this._dataSource.getOriginalEditor(),s=this._dataSource.getModifiedEditor();return new tq(e,t,i,o,s,n).getViewZones()}_getOriginalEditorDecorations(e,t,i,n){let o=String(this._removeColor),s={decorations:[],overviewZones:[]},a=this._dataSource.getOriginalEditor(),l=a.getModel(),c=a._getViewModel(),d=0;for(let h of t)if(qv(h)){for(s.decorations.push({range:new D(h.originalStartLineNumber,1,h.originalEndLineNumber,1073741824),options:Is.lineDeleteMargin});d<e.modified.length;){let m=e.modified[d];if(m.diff&&m.diff.originalStartLineNumber>=h.originalStartLineNumber)break;d++}let u=0;if(d<e.modified.length){let m=e.modified[d];m.diff&&m.diff.originalStartLineNumber===h.originalStartLineNumber&&m.diff.originalEndLineNumber===h.originalEndLineNumber&&m.diff.modifiedStartLineNumber===h.modifiedStartLineNumber&&m.diff.modifiedEndLineNumber===h.modifiedEndLineNumber&&(u=m.heightInLines)}let f=o1(l,c,h.originalStartLineNumber,h.originalEndLineNumber);s.overviewZones.push(new vp(f.startLineNumber,f.endLineNumber,u,o))}return s}_getModifiedEditorDecorations(e,t,i,n){let o=this._dataSource.getModifiedEditor(),s=String(this._insertColor),a={decorations:[],overviewZones:[]},l=o.getModel(),c=o._getViewModel();for(let d of t)if(Kv(d)){a.decorations.push({range:new D(d.modifiedStartLineNumber,1,d.modifiedEndLineNumber,1073741824),options:n?Is.lineInsertWithSign:Is.lineInsert});let h=o1(l,c,d.modifiedStartLineNumber,d.modifiedEndLineNumber);if(a.overviewZones.push(new vp(h.startLineNumber,h.endLineNumber,0,s)),d.charChanges){for(let u of d.charChanges)if(Kv(u))if(i)for(let f=u.modifiedStartLineNumber;f<=u.modifiedEndLineNumber;f++){let m,_;f===u.modifiedStartLineNumber?m=u.modifiedStartColumn:m=l.getLineFirstNonWhitespaceColumn(f),f===u.modifiedEndLineNumber?_=u.modifiedEndColumn:_=l.getLineLastNonWhitespaceColumn(f),a.decorations.push(yu(f,m,f,_,Is.charInsert))}else a.decorations.push(yu(u.modifiedStartLineNumber,u.modifiedStartColumn,u.modifiedEndLineNumber,u.modifiedEndColumn,Is.charInsert))}else a.decorations.push(yu(d.modifiedStartLineNumber,1,d.modifiedEndLineNumber,1073741824,Is.charInsertWholeLine))}return a}layout(){return Math.max(5,this._decorationsLeft)}},tq=class extends bg{constructor(e,t,i,n,o,s){super(e,t,i,n,o);this._originalModel=n.getModel(),this._renderIndicators=s,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){let e=super.getViewZones();return this._finalize(e),e}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){let e=document.createElement("div");return e.className="inline-added-margin-view-zone",e}_produceOriginalFromDiff(e,t,i){let n=document.createElement("div");return n.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i,domNode:document.createElement("div"),marginDomNode:n}}_produceModifiedFromDiff(e,t,i){let n=document.createElement("div");n.className=`view-lines line-delete ${Ac}`;let o=document.createElement("div");o.className="inline-deleted-margin-view-zone";let s={shouldNotShrink:!0,afterLineNumber:e.modifiedEndLineNumber===0?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,minWidthInPx:0,domNode:n,marginDomNode:o,diff:{originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber,modifiedStartLineNumber:e.modifiedStartLineNumber,modifiedEndLineNumber:e.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let a=e.originalStartLineNumber;a<=e.originalEndLineNumber;a++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(a),null,null);return this._pendingLineChange.push(e),this._pendingViewZones.push(s),s}_finalize(e){let t=this._modifiedEditor.getOptions(),i=this._modifiedEditor.getModel().getOptions().tabSize,n=t.get(44),o=t.get(29),s=n.typicalHalfwidthCharacterWidth,a=t.get(93),l=this._originalModel.mightContainNonBasicASCII(),c=this._originalModel.mightContainRTL(),d=t.get(59),u=t.get(131).decorationsWidth,f=t.get(105),m=t.get(88),_=t.get(83),w=t.get(45),y=this._lineBreaksComputer.finalize(),C=0;for(let E=0;E<this._pendingLineChange.length;E++){let L=this._pendingLineChange[E],k=this._pendingViewZones[E],M=k.domNode;Cn(M,n);let I=k.marginDomNode;Cn(I,n);let T=[];if(L.charChanges)for(let je of L.charChanges)qv(je)&&T.push(new Af(new D(je.originalStartLineNumber,je.originalStartColumn,je.originalEndLineNumber,je.originalEndColumn),"char-delete",0));let R=T.length>0,Z=jl(1e4),q=0,te=0,ne=null;for(let je=L.originalStartLineNumber;je<=L.originalEndLineNumber;je++){let Ze=je-L.originalStartLineNumber,$e=this._originalModel.getLineTokens(je),gt=$e.getLineContent(),Pe=y[C++],_i=_r.filter(T,je,1,gt.length+1);if(Pe){let We=0;for(let ei of Pe.breakOffsets){let hn=$e.sliceAndInflate(We,ei,0),Un=gt.substring(We,ei);q=Math.max(q,this._renderOriginalLine(te++,Un,hn,_r.extractWrapped(_i,We,ei),R,l,c,n,o,d,u,f,m,_,w,i,Z,I)),We=ei}for(ne||(ne=[]);ne.length<Ze;)ne[ne.length]=1;ne[Ze]=Pe.breakOffsets.length,k.heightInLines+=Pe.breakOffsets.length-1;let Ue=document.createElement("div");Ue.className="gutter-delete",e.original.push({afterLineNumber:je,afterColumn:0,heightInLines:Pe.breakOffsets.length-1,domNode:iq(),marginDomNode:Ue})}else q=Math.max(q,this._renderOriginalLine(te++,gt,$e,_i,R,l,c,n,o,d,u,f,m,_,w,i,Z,I))}q+=a;let Ne=Z.build(),Oe=XK?XK.createHTML(Ne):Ne;if(M.innerHTML=Oe,k.minWidthInPx=q*s,ne){let je=L.originalEndLineNumber-L.originalStartLineNumber;for(;ne.length<=je;)ne[ne.length]=1}k.diff.viewLineCounts=ne}e.original.sort((E,L)=>E.afterLineNumber-L.afterLineNumber)}_renderOriginalLine(e,t,i,n,o,s,a,l,c,d,h,u,f,m,_,w,y,C){y.appendASCIIString('<div class="view-line'),o||y.appendASCIIString(" char-delete"),y.appendASCIIString('" style="top:'),y.appendASCIIString(String(e*d)),y.appendASCIIString('px;width:1000000px;">');let E=br.isBasicASCII(t,s),L=br.containsRTL(t,E,a),k=jm(new tl(l.isMonospace&&!c,l.canUseHalfwidthRightwardsArrow,t,!1,E,L,0,i,n,w,0,l.spaceWidth,l.middotWidth,l.wsmiddotWidth,u,f,m,_!==er.OFF,null),y);if(y.appendASCIIString("</div>"),this._renderIndicators){let M=document.createElement("div");M.className=`delete-sign ${Qt.asClassName(JK)}`,M.setAttribute("style",`position:absolute;top:${e*d}px;width:${h}px;height:${d}px;right:0;`),C.appendChild(M)}return k.characterMapping.getAbsoluteOffset(k.characterMapping.length)}};function wfe(r,e){return ts(r,e,["off","on","inherit"])}function Kv(r){return r.modifiedEndLineNumber>0}function qv(r){return r.originalEndLineNumber>0}function iq(){let r=document.createElement("div");return r.className="diagonal-fill",r}function o1(r,e,t,i){let n=r.getLineCount();return t=Math.min(n,Math.max(1,t)),i=Math.min(n,Math.max(1,i)),e.coordinatesConverter.convertModelRangeToViewRange(new D(t,r.getLineMinColumn(t),i,r.getLineMaxColumn(i)))}function QK(r,e){return{enableSplitViewResizing:Xe(r.enableSplitViewResizing,e.enableSplitViewResizing),renderSideBySide:Xe(r.renderSideBySide,e.renderSideBySide),maxComputationTime:yx(r.maxComputationTime,e.maxComputationTime,0,1073741824),maxFileSize:yx(r.maxFileSize,e.maxFileSize,0,1073741824),ignoreTrimWhitespace:Xe(r.ignoreTrimWhitespace,e.ignoreTrimWhitespace),renderIndicators:Xe(r.renderIndicators,e.renderIndicators),originalEditable:Xe(r.originalEditable,e.originalEditable),diffCodeLens:Xe(r.diffCodeLens,e.diffCodeLens),renderOverviewRuler:Xe(r.renderOverviewRuler,e.renderOverviewRuler),diffWordWrap:wfe(r.diffWordWrap,e.diffWordWrap)}}function Cfe(r,e){return{enableSplitViewResizing:r.enableSplitViewResizing!==e.enableSplitViewResizing,renderSideBySide:r.renderSideBySide!==e.renderSideBySide,maxComputationTime:r.maxComputationTime!==e.maxComputationTime,maxFileSize:r.maxFileSize!==e.maxFileSize,ignoreTrimWhitespace:r.ignoreTrimWhitespace!==e.ignoreTrimWhitespace,renderIndicators:r.renderIndicators!==e.renderIndicators,originalEditable:r.originalEditable!==e.originalEditable,diffCodeLens:r.diffCodeLens!==e.diffCodeLens,renderOverviewRuler:r.renderOverviewRuler!==e.renderOverviewRuler,diffWordWrap:r.diffWordWrap!==e.diffWordWrap}}yt((r,e)=>{let t=r.getColor(HA);t&&e.addRule(`.monaco-editor .char-insert, .monaco-diff-editor .char-insert { background-color: ${t}; }`);let i=r.getColor(Jz)||t;i&&e.addRule(`.monaco-editor .line-insert, .monaco-diff-editor .line-insert { background-color: ${i}; }`);let n=r.getColor(tV)||i;n&&(e.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${n}; }`),e.addRule(`.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert { background-color: ${n}; }`));let o=r.getColor($A);o&&e.addRule(`.monaco-editor .char-delete, .monaco-diff-editor .char-delete { background-color: ${o}; }`);let s=r.getColor(eV)||o;s&&e.addRule(`.monaco-editor .line-delete, .monaco-diff-editor .line-delete { background-color: ${s}; }`);let a=r.getColor(iV)||s;a&&(e.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${a}; }`),e.addRule(`.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete { background-color: ${a}; }`));let l=r.getColor(rV);l&&e.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${r.type==="hc"?"dashed":"solid"} ${l}; }`);let c=r.getColor(sV);c&&e.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${r.type==="hc"?"dashed":"solid"} ${c}; }`);let d=r.getColor(Jl);d&&e.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${d}; }`);let h=r.getColor(aV);h&&e.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${h}; }`);let u=r.getColor(Zh);u&&e.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${u};
			}
		`);let f=r.getColor(Gh);f&&e.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${f};
			}
		`);let m=r.getColor(Xh);m&&e.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${m};
			}
		`);let _=r.getColor(lV);e.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${_} 12.5%,
			#0000 12.5%, #0000 50%,
			${_} 50%, ${_} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)});vu();no();Be();rs();Ee();re();pt();var yfe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Sfe=function(r,e){return function(t,i){e(t,i,r)}},tI=class extends ${constructor(e){super();this._themeService=e,this._onCodeEditorAdd=this._register(new B),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new B),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new B),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new B),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map(e=>this._codeEditors[e])}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}removeDiffEditor(e){delete this._diffEditors[e.getId()]&&this._onDiffEditorRemove.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map(e=>this._diffEditors[e])}getFocusedCodeEditor(){let e=null,t=this.listCodeEditors();for(let i of t){if(i.hasTextFocus())return i;i.hasWidgetFocus()&&(e=i)}return e}removeDecorationType(e){let t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach(i=>i.removeDecorations(e))))}setModelProperty(e,t,i){let n=e.toString(),o;this._modelProperties.has(n)?o=this._modelProperties.get(n):(o=new Map,this._modelProperties.set(n,o)),o.set(t,i)}getModelProperty(e,t){let i=e.toString();if(this._modelProperties.has(i))return this._modelProperties.get(i).get(t)}};tI=yfe([Sfe(0,Ft)],tI);io();Et();Ss();pt();var Efe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},nq=function(r,e){return function(t,i){e(t,i,r)}},r1=class extends tI{constructor(e,t){super(t);this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=e.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let e=!1;for(let t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(e,t,i){return t?Promise.resolve(this.doOpenEditor(t,e)):Promise.resolve(null)}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){let o=t.resource.scheme;if(o===rt.http||o===rt.https)return rL(t.resource.toString()),e}return null}let n=t.options?t.options.selection:null;if(n)if(typeof n.endLineNumber=="number"&&typeof n.endColumn=="number")e.setSelection(n),e.revealRangeInCenter(n,1);else{let o={lineNumber:n.startLineNumber,column:n.startColumn};e.setPosition(o),e.revealPositionInCenter(o,1)}return e}findModel(e,t){let i=e.getModel();return i&&i.uri.toString()!==t.toString()?null:i}};r1=Efe([nq(0,Le),nq(1,Ft)],r1);Lt(Tt,r1);Be();Ee();Ye();var Qd=Fe("layoutService");io();Ss();var oq=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},rq=function(r,e){return function(t,i){e(t,i,r)}},iI=class{constructor(e){this._codeEditorService=e,this.onDidLayout=xe.None}get dimension(){return this._dimension||(this._dimension=Ff(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var e;(e=this._codeEditorService.getFocusedCodeEditor())===null||e===void 0||e.focus()}};iI=oq([rq(0,Tt)],iI);var nI=class extends iI{constructor(e,t){super(t);this._container=e}get hasContainer(){return!1}get container(){return this._container}};nI=oq([rq(1,Tt)],nI);Lt(Qd,iI);ut();re();rs();ke();Ye();var Yv=Fe("dialogService");Ss();Ky();var xfe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},sq=function(r,e){return function(t,i){e(t,i,r)}},oI=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},Zv=!1;function rI(r){return r.scheme===rt.file?r.fsPath:r.path}var aq=0,s1=class{constructor(e,t,i,n,o,s,a){this.id=++aq,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=i,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=n,this.groupOrder=o,this.sourceId=s,this.sourceOrder=a,this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}},QF=class{constructor(e,t){this.resourceLabel=e,this.reason=t}},JF=class{constructor(){this.elements=new Map}createMessage(){let e=[],t=[];for(let[,n]of this.elements)(n.reason===0?e:t).push(n.resourceLabel);let i=[];return e.length>0&&i.push(g({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&i.push(g({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",t.join(", "))),i.join(`
`)}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}},lq=class{constructor(e,t,i,n,o,s,a){this.id=++aq,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=i,this.groupId=n,this.groupOrder=o,this.sourceId=s,this.sourceOrder=a,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(e,t,i){this.removedResources||(this.removedResources=new JF),this.removedResources.has(t)||this.removedResources.set(t,new QF(e,i))}setValid(e,t,i){i?this.invalidatedResources&&(this.invalidatedResources.delete(t),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new JF),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new QF(e,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}},t4=class{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(let e of this._past)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);for(let e of this._future)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push(`   * [UNDO] ${this._past[t]}`);for(let t=this._future.length-1;t>=0;t--)e.push(`   * [REDO] ${this._future[t]}`);return e.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){e.type===1?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(let i of this._past)t(i.actual)&&this._setElementValidFlag(i,e);for(let i of this._future)t(i.actual)&&this._setElementValidFlag(i,e)}pushElement(e){for(let t of this._future)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){let t=[];for(let i=0,n=this._past.length;i<n;i++)t.push(this._past[i].id);for(let i=this._future.length-1;i>=0;i--)t.push(this._future[i].id);return new Hk(e,t)}restoreSnapshot(e){let t=e.elements.length,i=!0,n=0,o=-1;for(let a=0,l=this._past.length;a<l;a++,n++){let c=this._past[a];i&&(n>=t||c.id!==e.elements[n])&&(i=!1,o=0),!i&&c.type===1&&c.removeResource(this.resourceLabel,this.strResource,0)}let s=-1;for(let a=this._future.length-1;a>=0;a--,n++){let l=this._future[a];i&&(n>=t||l.id!==e.elements[n])&&(i=!1,s=a),!i&&l.type===1&&l.removeResource(this.resourceLabel,this.strResource,0)}o!==-1&&(this._past=this._past.slice(0,o)),s!==-1&&(this._future=this._future.slice(s+1)),this.versionId++}getElements(){let e=[],t=[];for(let i of this._past)e.push(i.actual);for(let i of this._future)t.push(i.actual);return{past:e,future:t}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let i=this._past.length-1;i>=0;i--)if(this._past[i]===e){t.has(this.strResource)?this._past[i]=t.get(this.strResource):this._past.splice(i,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let i=this._future.length-1;i>=0;i--)if(this._future[i]===e){t.has(this.strResource)?this._future[i]=t.get(this.strResource):this._future.splice(i,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}},sI=class{constructor(e){this.editStacks=e,this._versionIds=[];for(let t=0,i=this.editStacks.length;t<i;t++)this._versionIds[t]=this.editStacks[t].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}},cq=new t4("","");cq.locked=!0;var e4=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(let t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);let t=[];for(let i of this._editStacks)t.push(i[1].toString());console.log(t.join(`
`))}pushElement(e,t=fg.None,i=nc.None){if(e.type===0){let n=rI(e.resource),o=this.getUriComparisonKey(e.resource);this._pushElement(new s1(e,n,o,t.id,t.nextOrder(),i.id,i.nextOrder()))}else{let n=new Set,o=[],s=[];for(let a of e.resources){let l=rI(a),c=this.getUriComparisonKey(a);n.has(c)||(n.add(c),o.push(l),s.push(c))}o.length===1?this._pushElement(new s1(e,o[0],s[0],t.id,t.nextOrder(),i.id,i.nextOrder())):this._pushElement(new lq(e,o,s,t.id,t.nextOrder(),i.id,i.nextOrder()))}Zv&&this._print("pushElement")}_pushElement(e){for(let t=0,i=e.strResources.length;t<i;t++){let n=e.resourceLabels[t],o=e.strResources[t],s;this._editStacks.has(o)?s=this._editStacks.get(o):(s=new t4(n,o),this._editStacks.set(o,s)),s.pushElement(e)}}getLastElement(e){let t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){let i=this._editStacks.get(t);if(i.hasFutureElements())return null;let n=i.getClosestPastElement();return n?n.actual:null}return null}_splitPastWorkspaceElement(e,t){let i=e.actual.split(),n=new Map;for(let o of i){let s=rI(o.resource),a=this.getUriComparisonKey(o.resource),l=new s1(o,s,a,0,0,0,0);n.set(l.strResource,l)}for(let o of e.strResources){if(t&&t.has(o))continue;this._editStacks.get(o).splitPastWorkspaceElement(e,n)}}_splitFutureWorkspaceElement(e,t){let i=e.actual.split(),n=new Map;for(let o of i){let s=rI(o.resource),a=this.getUriComparisonKey(o.resource),l=new s1(o,s,a,0,0,0,0);n.set(l.strResource,l)}for(let o of e.strResources){if(t&&t.has(o))continue;this._editStacks.get(o).splitFutureWorkspaceElement(e,n)}}removeElements(e){let t=typeof e=="string"?e:this.getUriComparisonKey(e);this._editStacks.has(t)&&(this._editStacks.get(t).dispose(),this._editStacks.delete(t)),Zv&&this._print("removeElements")}setElementsValidFlag(e,t,i){let n=this.getUriComparisonKey(e);this._editStacks.has(n)&&this._editStacks.get(n).setElementsValidFlag(t,i),Zv&&this._print("setElementsValidFlag")}createSnapshot(e){let t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).createSnapshot(e):new Hk(e,[])}restoreSnapshot(e){let t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){let i=this._editStacks.get(t);i.restoreSnapshot(e),!i.hasPastElements()&&!i.hasFutureElements()&&(i.dispose(),this._editStacks.delete(t))}Zv&&this._print("restoreSnapshot")}getElements(e){let t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(let[n,o]of this._editStacks){let s=o.getClosestPastElement();!s||s.sourceId===e&&(!t||s.sourceOrder>t.sourceOrder)&&(t=s,i=n)}return[t,i]}canUndo(e){if(e instanceof nc){let[,i]=this._findClosestUndoElementWithSource(e.id);return!!i}let t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasPastElements():!1}_onError(e,t){Ie(e);for(let i of t.strResources)this.removeElements(i);this._notificationService.error(e)}_acquireLocks(e){for(let t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(let t of e.editStacks)t.locked=!0;return()=>{for(let t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,i,n,o){let s=this._acquireLocks(i),a;try{a=t()}catch(l){return s(),n.dispose(),this._onError(l,e)}return a?a.then(()=>(s(),n.dispose(),o()),l=>(s(),n.dispose(),this._onError(l,e))):(s(),n.dispose(),o())}_invokeWorkspacePrepare(e){return oI(this,void 0,void 0,function*(){if(typeof e.actual.prepareUndoRedo>"u")return $.None;let t=e.actual.prepareUndoRedo();return typeof t>"u"?$.None:t})}_invokeResourcePrepare(e,t){if(e.actual.type!==1||typeof e.actual.prepareUndoRedo>"u")return t($.None);let i=e.actual.prepareUndoRedo();return i?lb(i)?t(i):i.then(n=>t(n)):t($.None)}_getAffectedEditStacks(e){let t=[];for(let i of e.strResources)t.push(this._editStacks.get(i)||cq);return new sI(t)}_tryToSplitAndUndo(e,t,i,n){if(t.canSplit())return this._splitPastWorkspaceElement(t,i),this._notificationService.warn(n),new a1(this._undo(e,0,!0));for(let o of t.strResources)this.removeElements(o);return this._notificationService.warn(n),new a1}_checkWorkspaceUndo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,g({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,g({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));let o=[];for(let a of i.editStacks)a.getClosestPastElement()!==t&&o.push(a.resourceLabel);if(o.length>0)return this._tryToSplitAndUndo(e,t,null,g({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));let s=[];for(let a of i.editStacks)a.locked&&s.push(a.resourceLabel);return s.length>0?this._tryToSplitAndUndo(e,t,null,g({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,s.join(", "))):i.isValid()?null:this._tryToSplitAndUndo(e,t,null,g({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t,i){let n=this._getAffectedEditStacks(t),o=this._checkWorkspaceUndo(e,t,n,!1);return o?o.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,n,i)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(let[,t]of this._editStacks){let i=t.getClosestPastElement();if(!!i){if(i===e){let n=t.getSecondClosestPastElement();if(n&&n.groupId===e.groupId)return!0}if(i.groupId===e.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(e,t,i,n){return oI(this,void 0,void 0,function*(){if(t.canSplit()&&!this._isPartOfUndoGroup(t)){let a=yield this._dialogService.show(Pi.Info,g("confirmWorkspace","Would you like to undo '{0}' across all files?",t.label),[g({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",i.editStacks.length),g("nok","Undo this File"),g("cancel","Cancel")],{cancelId:2});if(a.choice===2)return;if(a.choice===1)return this._splitPastWorkspaceElement(t,null),this._undo(e,0,!0);let l=this._checkWorkspaceUndo(e,t,i,!1);if(l)return l.returnValue;n=!0}let o;try{o=yield this._invokeWorkspacePrepare(t)}catch(a){return this._onError(a,t)}let s=this._checkWorkspaceUndo(e,t,i,!0);if(s)return o.dispose(),s.returnValue;for(let a of i.editStacks)a.moveBackward(t);return this._safeInvokeWithLocks(t,()=>t.actual.undo(),i,o,()=>this._continueUndoInGroup(t.groupId,n))})}_resourceUndo(e,t,i){if(!t.isValid){e.flushAllElements();return}if(e.locked){let n=g({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(n);return}return this._invokeResourcePrepare(t,n=>(e.moveBackward(t),this._safeInvokeWithLocks(t,()=>t.actual.undo(),new sI([e]),n,()=>this._continueUndoInGroup(t.groupId,i))))}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(let[n,o]of this._editStacks){let s=o.getClosestPastElement();!s||s.groupId===e&&(!t||s.groupOrder>t.groupOrder)&&(t=s,i=n)}return[t,i]}_continueUndoInGroup(e,t){if(!e)return;let[,i]=this._findClosestUndoElementInGroup(e);if(i)return this._undo(i,0,t)}undo(e){if(e instanceof nc){let[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return typeof e=="string"?this._undo(e,0,!1):this._undo(this.getUriComparisonKey(e),0,!1)}_undo(e,t=0,i){if(!this._editStacks.has(e))return;let n=this._editStacks.get(e),o=n.getClosestPastElement();if(!o)return;if(o.groupId){let[a,l]=this._findClosestUndoElementInGroup(o.groupId);if(o!==a&&l)return this._undo(l,t,i)}if((o.sourceId!==t||o.confirmBeforeUndo)&&!i)return this._confirmAndContinueUndo(e,t,o);try{return o.type===1?this._workspaceUndo(e,o,i):this._resourceUndo(n,o,i)}finally{Zv&&this._print("undo")}}_confirmAndContinueUndo(e,t,i){return oI(this,void 0,void 0,function*(){if((yield this._dialogService.show(Pi.Info,g("confirmDifferentSource","Would you like to undo '{0}'?",i.label),[g("confirmDifferentSource.yes","Yes"),g("confirmDifferentSource.no","No")],{cancelId:1})).choice!==1)return this._undo(e,t,!0)})}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(let[n,o]of this._editStacks){let s=o.getClosestFutureElement();!s||s.sourceId===e&&(!t||s.sourceOrder<t.sourceOrder)&&(t=s,i=n)}return[t,i]}canRedo(e){if(e instanceof nc){let[,i]=this._findClosestRedoElementWithSource(e.id);return!!i}let t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasFutureElements():!1}_tryToSplitAndRedo(e,t,i,n){if(t.canSplit())return this._splitFutureWorkspaceElement(t,i),this._notificationService.warn(n),new a1(this._redo(e));for(let o of t.strResources)this.removeElements(o);return this._notificationService.warn(n),new a1}_checkWorkspaceRedo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,g({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,g({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));let o=[];for(let a of i.editStacks)a.getClosestFutureElement()!==t&&o.push(a.resourceLabel);if(o.length>0)return this._tryToSplitAndRedo(e,t,null,g({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));let s=[];for(let a of i.editStacks)a.locked&&s.push(a.resourceLabel);return s.length>0?this._tryToSplitAndRedo(e,t,null,g({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,s.join(", "))):i.isValid()?null:this._tryToSplitAndRedo(e,t,null,g({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){let i=this._getAffectedEditStacks(t),n=this._checkWorkspaceRedo(e,t,i,!1);return n?n.returnValue:this._executeWorkspaceRedo(e,t,i)}_executeWorkspaceRedo(e,t,i){return oI(this,void 0,void 0,function*(){let n;try{n=yield this._invokeWorkspacePrepare(t)}catch(s){return this._onError(s,t)}let o=this._checkWorkspaceRedo(e,t,i,!0);if(o)return n.dispose(),o.returnValue;for(let s of i.editStacks)s.moveForward(t);return this._safeInvokeWithLocks(t,()=>t.actual.redo(),i,n,()=>this._continueRedoInGroup(t.groupId))})}_resourceRedo(e,t){if(!t.isValid){e.flushAllElements();return}if(e.locked){let i=g({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(i);return}return this._invokeResourcePrepare(t,i=>(e.moveForward(t),this._safeInvokeWithLocks(t,()=>t.actual.redo(),new sI([e]),i,()=>this._continueRedoInGroup(t.groupId))))}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(let[n,o]of this._editStacks){let s=o.getClosestFutureElement();!s||s.groupId===e&&(!t||s.groupOrder<t.groupOrder)&&(t=s,i=n)}return[t,i]}_continueRedoInGroup(e){if(!e)return;let[,t]=this._findClosestRedoElementInGroup(e);if(t)return this._redo(t)}redo(e){if(e instanceof nc){let[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return typeof e=="string"?this._redo(e):this._redo(this.getUriComparisonKey(e))}_redo(e){if(!this._editStacks.has(e))return;let t=this._editStacks.get(e),i=t.getClosestFutureElement();if(!!i){if(i.groupId){let[n,o]=this._findClosestRedoElementInGroup(i.groupId);if(i!==n&&o)return this._redo(o)}try{return i.type===1?this._workspaceRedo(e,i):this._resourceRedo(t,i)}finally{Zv&&this._print("redo")}}}};e4=xfe([sq(0,Yv),sq(1,si)],e4);var a1=class{constructor(e){this.returnValue=e}};Lt(gg,e4);rc();He();Be();os();Ee();Hm();re();xt();Oi();Ye();Oi();ai();var Xv=Fe("IWorkspaceEditService");function kfe(r){return Qn(r)&&(Boolean(r.newUri)||Boolean(r.oldUri))}function Ife(r){return Qn(r)&&De.isUri(r.resource)&&Qn(r.edit)}var Op=class{constructor(e){this.metadata=e}static convert(e){return e.edits.map(t=>{if(Ife(t))return new cI(t.resource,t.edit,t.modelVersionId,t.metadata);if(kfe(t))return new vq(t.oldUri,t.newUri,t.options,t.metadata);throw new Error("Unsupported edit")})}},cI=class extends Op{constructor(e,t,i,n){super(n);this.resource=e,this.textEdit=t,this.versionId=i}},vq=class extends Op{constructor(e,t,i,n){super(n);this.oldResource=e,this.newResource=t,this.options=i}};jC();ke();Sp();as();var Ofe=Object.freeze({id:"editor",order:5,type:"object",title:g("editorConfigurationTitle","Editor"),scope:5}),hI=Object.assign(Object.assign({},Ofe),{properties:{"editor.tabSize":{type:"number",default:Lo.tabSize,minimum:1,markdownDescription:g("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:Lo.insertSpaces,markdownDescription:g("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:Lo.detectIndentation,markdownDescription:g("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:Lo.trimAutoWhitespace,description:g("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:Lo.largeFileOptimizations,description:g("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:g("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[g("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),g("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),g("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:g("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[g("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),g("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),g("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:g("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:g("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:g("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:"array",default:!1,description:g("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:g("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:g("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:"array",default:!1,description:g("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:g("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:g("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:g("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:g("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:g("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:g("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:g("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:g("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[g("wordWrap.off","Lines will never wrap."),g("wordWrap.on","Lines will wrap at the viewport width."),g("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function Tfe(r){return typeof r.type<"u"||typeof r.anyOf<"u"}for(let r of wf){let e=r.schema;if(typeof e<"u")if(Tfe(e))hI.properties[`editor.${r.name}`]=e;else for(let t in e)Object.hasOwnProperty.call(e,t)&&(hI.properties[t]=e[t])}var dI=null;function wq(){return dI===null&&(dI=Object.create(null),Object.keys(hI.properties).forEach(r=>{dI[r]=!0})),dI}function Cq(r){return wq()[`editor.${r}`]||!1}function yq(r){return wq()[`diffEditor.${r}`]||!1}var Nfe=Ti.as(al.Configuration);Nfe.registerConfiguration(hI);sc();lt();ye();ns();xa();_0();on();Fr();jt();ia();Jo();ai();Oi();Fr();Sp();as();var na=class{constructor(e={},t=[],i=[]){this._contents=e,this._keys=t,this._overrides=i,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(e){return e?kM(this.contents,e):this.contents}getOverrideValue(e,t){let i=this.getContentsForOverrideIdentifer(t);return i?e?kM(i,e):i:void 0}override(e){let t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}merge(...e){let t=Ml(this.contents),i=Ml(this.overrides),n=[...this.keys];for(let o of e){this.mergeContents(t,o.contents);for(let s of o.overrides){let[a]=i.filter(l=>Xn(l.identifiers,s.identifiers));a?(this.mergeContents(a.contents,s.contents),a.keys.push(...s.keys),a.keys=Ua(a.keys)):i.push(Ml(s))}for(let s of o.keys)n.indexOf(s)===-1&&n.push(s)}return new na(t,n,i)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(e){let t=this.getContentsForOverrideIdentifer(e);if(!t||typeof t!="object"||!Object.keys(t).length)return this;let i={};for(let n of Ua([...Object.keys(this.contents),...Object.keys(t)])){let o=this.contents[n],s=t[n];s&&(typeof o=="object"&&typeof s=="object"?(o=Ml(o),this.mergeContents(o,s)):o=s),i[n]=o}return new na(i,this.keys,this.overrides)}mergeContents(e,t){for(let i of Object.keys(t)){if(i in e&&Qn(e[i])&&Qn(t[i])){this.mergeContents(e[i],t[i]);continue}e[i]=Ml(t[i])}}checkAndFreeze(e){return this.isFrozen&&!Object.isFrozen(e)?Yj(e):e}getContentsForOverrideIdentifer(e){let t=null,i=null,n=o=>{o&&(i?this.mergeContents(i,o):i=Ml(o))};for(let o of this.overrides)Xn(o.identifiers,[e])?t=o.contents:o.identifiers.includes(e)&&n(o.contents);return n(t),i}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(e,t){this.addKey(e),AD(this.contents,e,t,i=>{throw new Error(i)})}removeValue(e){this.removeKey(e)&&NW(this.contents,e)}addKey(e){let t=this.keys.length;for(let i=0;i<t;i++)e.indexOf(this.keys[i])===0&&(t=i);this.keys.splice(t,1,e)}removeKey(e){let t=this.keys.indexOf(e);return t!==-1?(this.keys.splice(t,1),!0):!1}},o4=class extends na{constructor(e={}){let t=Ti.as(al.Configuration).getConfigurationProperties(),i=Object.keys(t),n=Object.create(null),o=[];for(let s in t){let a=e[s],l=a!==void 0?a:t[s].default;AD(n,s,l,c=>console.error(`Conflict in default settings: ${c}`))}for(let s of Object.keys(n))Mv.test(s)&&o.push({identifiers:T2(s),keys:Object.keys(n[s]),contents:LM(n[s],a=>console.error(`Conflict in default settings file: ${a}`))});super(n,i,o)}},Qv=class{constructor(e,t,i=new na,n=new na,o=new wo,s=new na,a=new wo,l=!0){this._defaultConfiguration=e,this._localUserConfiguration=t,this._remoteUserConfiguration=i,this._workspaceConfiguration=n,this._folderConfigurations=o,this._memoryConfiguration=s,this._memoryConfigurationByResource=a,this._freeze=l,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new wo,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidateConfigurationModel(t,i).getValue(e)}updateValue(e,t,i={}){let n;i.resource?(n=this._memoryConfigurationByResource.get(i.resource),n||(n=new na,this._memoryConfigurationByResource.set(i.resource,n))):n=this._memoryConfiguration,t===void 0?n.removeValue(e):n.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(e,t,i){let n=this.getConsolidateConfigurationModel(t,i),o=this.getFolderConfigurationModelForResource(t.resource,i),s=t.resource?this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration:this._memoryConfiguration,a=t.overrideIdentifier?this._defaultConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._defaultConfiguration.freeze().getValue(e),l=t.overrideIdentifier?this.userConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.userConfiguration.freeze().getValue(e),c=t.overrideIdentifier?this.localUserConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.localUserConfiguration.freeze().getValue(e),d=t.overrideIdentifier?this.remoteUserConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.remoteUserConfiguration.freeze().getValue(e),h=i?t.overrideIdentifier?this._workspaceConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._workspaceConfiguration.freeze().getValue(e):void 0,u=o?t.overrideIdentifier?o.freeze().override(t.overrideIdentifier).getValue(e):o.freeze().getValue(e):void 0,f=t.overrideIdentifier?s.override(t.overrideIdentifier).getValue(e):s.getValue(e),m=n.getValue(e),_=Ua(eb(n.overrides.map(w=>w.identifiers))).filter(w=>n.getOverrideValue(e,w)!==void 0);return{defaultValue:a,userValue:l,userLocalValue:c,userRemoteValue:d,workspaceValue:h,workspaceFolderValue:u,memoryValue:f,value:m,default:a!==void 0?{value:this._defaultConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,user:l!==void 0?{value:this.userConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,userLocal:c!==void 0?{value:this.localUserConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,userRemote:d!==void 0?{value:this.remoteUserConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,workspace:h!==void 0?{value:this._workspaceConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,workspaceFolder:u!==void 0?{value:o?.freeze().getValue(e),override:t.overrideIdentifier?o?.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,memory:f!==void 0?{value:s.getValue(e),override:t.overrideIdentifier?s.getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,overrideIdentifiers:_.length?_:void 0}}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidateConfigurationModel(e,t){let i=this.getConsolidatedConfigurationModelForResource(e,t);return e.overrideIdentifier?i.override(e.overrideIdentifier):i}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();if(t&&e){let n=t.getFolder(e);n&&(i=this.getFolderConsolidatedConfiguration(n.uri)||i);let o=this._memoryConfigurationByResource.get(e);o&&(i=i.merge(o))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){let i=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(e);n?(t=i.merge(n),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}getFolderConfigurationModelForResource(e,t){if(t&&e){let i=t.getFolder(e);if(i)return this._folderConfigurations.get(i.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((e,t)=>{let{contents:i,overrides:n,keys:o}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:n,keys:o}]),e},[])}}static parse(e){let t=this.parseConfigurationModel(e.defaults),i=this.parseConfigurationModel(e.user),n=this.parseConfigurationModel(e.workspace),o=e.folders.reduce((s,a)=>(s.set(De.revive(a[0]),this.parseConfigurationModel(a[1])),s),new wo);return new Qv(t,i,new na,n,o,new na,new wo,!1)}static parseConfigurationModel(e){return new na(e.contents,e.keys,e.overrides).freeze()}},r4=class{constructor(e,t,i,n){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=n,this._previousConfiguration=void 0;let o=new Set;e.keys.forEach(a=>o.add(a)),e.overrides.forEach(([,a])=>a.forEach(l=>o.add(l))),this.affectedKeys=[...o.values()];let s=new na;this.affectedKeys.forEach(a=>s.setValue(a,{})),this.affectedKeysTree=s.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=Qv.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){var i;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,e)){if(t){let n=this.previousConfiguration?this.previousConfiguration.getValue(e,t,(i=this.previous)===null||i===void 0?void 0:i.workspace):void 0,o=this.currentConfiguraiton.getValue(e,t,this.currentWorkspace);return!Qo(n,o)}return!0}return!1}doesAffectedKeysTreeContains(e,t){let i=LM({[t]:!0},()=>{}),n;for(;typeof i=="object"&&(n=Object.keys(i)[0]);){if(e=e[n],!e)return!1;i=i[n]}return!0}};Et();Ye();nt();Ee();re();ke();var Pfe=/^(cursor|delete)/,s4=class extends ${constructor(e,t,i,n,o){super();this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=n,this._logService=o,this._onDidUpdateKeybindings=this._register(new B),this._currentChord=null,this._currentChordChecker=new bd,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=Tp.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new mn,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:xe.None}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){let i=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(!!i)return i.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){let i=this.resolveKeyboardEvent(e);if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;let[n]=i.getDispatchParts();if(n===null)return null;let o=this._contextKeyService.getContext(t),s=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(o,s,n)}_enterChordMode(e,t){this._currentChord={keypress:e,label:t},this._currentChordStatusMessage=this._notificationService.status(g("first.chord","({0}) was pressed. Waiting for second key of chord...",t));let i=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-i>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){let i=this.resolveKeyboardEvent(e),[n]=i.getSingleModifierDispatchParts();if(n)return this._ignoreSingleModifiers.has(n)?(this._log(`+ Ignoring single modifier ${n} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=Tp.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=Tp.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${n}.`),this._currentSingleModifier=n,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):n===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${n} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));let[o]=i.getParts();return this._ignoreSingleModifiers=new Tp(o),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(e,t,i=!1){let n=!1;if(e.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let o=null,s=null;if(i){let[d]=e.getSingleModifierDispatchParts();o=d,s=d}else[o]=e.getDispatchParts(),s=this._currentChord?this._currentChord.keypress:null;if(o===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),n;let a=this._contextKeyService.getContext(t),l=e.getLabel(),c=this._getResolver().resolve(a,s,o);return this._logService.trace("KeybindingService#dispatch",l,c?.commandId),c&&c.enterChord?(n=!0,this._enterChordMode(o,l),n):(this._currentChord&&(!c||!c.commandId)&&(this._notificationService.status(g("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,l),{hideAfter:10*1e3}),n=!0),this._leaveChordMode(),c&&c.commandId&&(c.bubble||(n=!0),typeof c.commandArgs>"u"?this._commandService.executeCommand(c.commandId).then(void 0,d=>this._notificationService.warn(d)):this._commandService.executeCommand(c.commandId,c.commandArgs).then(void 0,d=>this._notificationService.warn(d)),Pfe.test(c.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:c.commandId,from:"keybinding"})),n)}mightProducePrintableCharacter(e){return e.ctrlKey||e.metaKey?!1:e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30}},Tp=class{constructor(e){this._ctrlKey=e?e.ctrlKey:!1,this._shiftKey=e?e.shiftKey:!1,this._altKey=e?e.altKey:!1,this._metaKey=e?e.metaKey:!1}has(e){switch(e){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}};Tp.EMPTY=new Tp(null);Ye();var Di=Fe("keybindingService");Et();var Np=class{constructor(e,t,i){this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(let n of e){let o=n.command;o&&o.charAt(0)!=="-"&&this._defaultBoundCommands.set(o,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=Np.handleRemovals([].concat(e).concat(t));for(let n=0,o=this._keybindings.length;n<o;n++){let s=this._keybindings[n];s.keypressParts.length!==0&&(s.when&&s.when.type===0||this._addKeyPress(s.keypressParts[0],s))}}static _isTargetedForRemoval(e,t,i,n){return!(t&&e.keypressParts[0]!==t||i&&e.keypressParts[1]!==i||n&&(!e.when||!GU(n,e.when)))}static handleRemovals(e){let t=new Map;for(let n=0,o=e.length;n<o;n++){let s=e[n];if(s.command&&s.command.charAt(0)==="-"){let a=s.command.substring(1);t.has(a)?t.get(a).push(s):t.set(a,[s])}}if(t.size===0)return e;let i=[];for(let n=0,o=e.length;n<o;n++){let s=e[n];if(!s.command||s.command.length===0){i.push(s);continue}if(s.command.charAt(0)==="-")continue;let a=t.get(s.command);if(!a||!s.isDefault){i.push(s);continue}let l=!1;for(let c of a){let d=c.keypressParts[0],h=c.keypressParts[1],u=c.when;if(this._isTargetedForRemoval(s,d,h,u)){l=!0;break}}if(!l){i.push(s);continue}}return i}_addKeyPress(e,t){let i=this._map.get(e);if(typeof i>"u"){this._map.set(e,[t]),this._addToLookupMap(t);return}for(let n=i.length-1;n>=0;n--){let o=i[n];if(o.command===t.command)continue;let s=o.keypressParts.length>1,a=t.keypressParts.length>1;s&&a&&o.keypressParts[1]!==t.keypressParts[1]||Np.whenIsEntirelyIncluded(o.when,t.when)&&this._removeFromLookupMap(o)}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);typeof t>"u"?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);if(!(typeof t>"u")){for(let i=0,n=t.length;i<n;i++)if(t[i]===e){t.splice(i,1);return}}}static whenIsEntirelyIncluded(e,t){return!t||t.type===1?!0:!e||e.type===1?!1:NA(e,t)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){let i=this._lookupMap.get(e);if(typeof i>"u"||i.length===0)return null;if(i.length===1)return i[0];for(let n=i.length-1;n>=0;n--){let o=i[n];if(t.contextMatchesRules(o.when))return o}return i[i.length-1]}resolve(e,t,i){this._log(`| Resolving ${i}${t?` chorded from ${t}`:""}`);let n=null;if(t!==null){let s=this._map.get(t);if(typeof s>"u")return this._log("\\ No keybinding entries."),null;n=[];for(let a=0,l=s.length;a<l;a++){let c=s[a];c.keypressParts[1]===i&&n.push(c)}}else{let s=this._map.get(i);if(typeof s>"u")return this._log("\\ No keybinding entries."),null;n=s}let o=this._findCommand(e,n);return o?t===null&&o.keypressParts.length>1&&o.keypressParts[1]!==null?(this._log(`\\ From ${n.length} keybinding entries, matched chord, when: ${Sq(o.when)}, source: ${Eq(o)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${n.length} keybinding entries, matched ${o.command}, when: ${Sq(o.when)}, source: ${Eq(o)}.`),{enterChord:!1,leaveChord:o.keypressParts.length>1,commandId:o.command,commandArgs:o.commandArgs,bubble:o.bubble}):(this._log(`\\ From ${n.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(e,t){for(let i=t.length-1;i>=0;i--){let n=t[i];if(!!Np._contextMatchesRules(e,n.when))return n}return null}static _contextMatchesRules(e,t){return t?t.evaluate(e):!0}};function Sq(r){return r?`${r.serialize()}`:"no when condition"}function Eq(r){return r.extensionId?r.isBuiltinExtension?`built-in extension ${r.extensionId}`:`user extension ${r.extensionId}`:r.isDefault?"built-in":"user"}qh();var fI=class{constructor(e,t,i,n,o,s,a){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.keypressParts=e?uI(e.getDispatchParts()):[],e&&this.keypressParts.length===0&&(this.keypressParts=uI(e.getSingleModifierDispatchParts())),this.bubble=t?t.charCodeAt(0)===94:!1,this.command=this.bubble?t.substr(1):t,this.commandArgs=i,this.when=n,this.isDefault=o,this.extensionId=s,this.isBuiltinExtension=a}};function uI(r){let e=[];for(let t=0,i=r.length;t<i;t++){let n=r[t];if(!n)return e;e.push(n)}return e}Ha();Hm();ut();ke();var c1=class{constructor(e,t,i=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(t.length===0)return null;let n=[];for(let o=0,s=t.length;o<s;o++){let a=t[o],l=i(a);if(l===null)return null;n[o]=Mfe(a,l,this.modifierLabels[e])}return n.join(" ")}},Jv=new c1({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:g({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:g({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:g({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:g({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:g({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:g({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:g({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:g({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),xq=new c1({ctrlKey:g({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:g({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:g({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:g({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:g({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:g({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:g({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:g({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:g({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:g({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:g({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:g({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),Dq=new c1({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),DYe=new c1({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function Mfe(r,e,t){if(e===null)return"";let i=[];return r.ctrlKey&&i.push(t.ctrlKey),r.shiftKey&&i.push(t.shiftKey),r.altKey&&i.push(t.altKey),r.metaKey&&i.push(t.metaKey),e!==""&&i.push(e),i.join(t.separator)}Hm();var a4=class extends mA{constructor(e,t){super();if(t.length===0)throw is("parts");this._os=e,this._parts=t}getLabel(){return Jv.toLabel(this._os,this._parts,e=>this._getLabel(e))}getAriaLabel(){return xq.toLabel(this._os,this._parts,e=>this._getAriaLabel(e))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:Dq.toLabel(this._os,this._parts,e=>this._getElectronAccelerator(e))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(e=>this._getPart(e))}_getPart(e){return new gA(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchParts(){return this._parts.map(e=>this._getDispatchPart(e))}getSingleModifierDispatchParts(){return this._parts.map(e=>this._getSingleModifierDispatchPart(e))}};var Pp=class extends a4{constructor(e,t){super(t,e.parts)}_keyCodeToUILabel(e){if(this._os===2)switch(e){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return Mh.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":Mh.toString(e.keyCode)}_getElectronAccelerator(e){return Mh.toElectronAccelerator(e.keyCode)}_getDispatchPart(e){return Pp.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=Mh.toString(e.keyCode),t}_getSingleModifierDispatchPart(e){return e.keyCode===5&&!e.shiftKey&&!e.altKey&&!e.metaKey?"ctrl":e.keyCode===4&&!e.ctrlKey&&!e.altKey&&!e.metaKey?"shift":e.keyCode===6&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey?"alt":e.keyCode===57&&!e.ctrlKey&&!e.shiftKey&&!e.altKey?"meta":null}static _scanCodeToKeyCode(e){let t=kx[e];if(t!==-1)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(e){if(!e)return null;if(e instanceof Hl)return e;let t=this._scanCodeToKeyCode(e.scanCode);return t===0?null:new Hl(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)}static resolveUserBinding(e,t){let i=uI(e.map(n=>this._resolveSimpleUserBinding(n)));return i.length>0?[new Pp(new zb(i),t)]:[]}};Ye();var eh=Fe("labelService");Vc();Xm();ke();ia();Oi();Ye();var gI=Fe("contextService");function l4(r){let e=r;return typeof e?.id=="string"&&De.isUri(e.uri)}function Lq(r){if(r.configuration)return{id:r.id,configPath:r.configuration};if(r.folders.length===1)return{id:r.id,uri:r.folders[0].uri}}var c4=class{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}},mI="code-workspace",VYe=[{name:g("codeWorkspace","Code Workspace"),extensions:[mI]}];ke();var kq;(function(r){r.noSelection=g("noSelection","No selection"),r.singleSelectionRange=g("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),r.singleSelection=g("singleSelection","Line {0}, Column {1}"),r.multiSelectionRange=g("multiSelectionRange","{0} selections ({1} characters selected)"),r.multiSelection=g("multiSelection","{0} selections"),r.emergencyConfOn=g("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),r.openingDocs=g("openingDocs","Now opening the Editor Accessibility documentation page."),r.readonlyDiffEditor=g("readonlyDiffEditor"," in a read-only pane of a diff editor."),r.editableDiffEditor=g("editableDiffEditor"," in a pane of a diff editor."),r.readonlyEditor=g("readonlyEditor"," in a read-only code editor"),r.editableEditor=g("editableEditor"," in a code editor"),r.changeConfigToOnMac=g("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),r.changeConfigToOnWinLinux=g("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),r.auto_on=g("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),r.auto_off=g("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),r.tabFocusModeOnMsg=g("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),r.tabFocusModeOnMsgNoKb=g("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),r.tabFocusModeOffMsg=g("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),r.tabFocusModeOffMsgNoKb=g("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),r.openDocMac=g("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),r.openDocWinLinux=g("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),r.outroMsg=g("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),r.showAccessibilityHelpAction=g("showAccessibilityHelpAction","Show Accessibility Help")})(kq||(kq={}));var Iq;(function(r){r.inspectTokensAction=g("inspectTokens","Developer: Inspect Tokens")})(Iq||(Iq={}));var Oq;(function(r){r.gotoLineActionLabel=g("gotoLineActionLabel","Go to Line/Column...")})(Oq||(Oq={}));var Tq;(function(r){r.helpQuickAccessActionLabel=g("helpQuickAccess","Show all Quick Access Providers")})(Tq||(Tq={}));var Nq;(function(r){r.quickCommandActionLabel=g("quickCommandActionLabel","Command Palette"),r.quickCommandHelp=g("quickCommandActionHelp","Show And Run Commands")})(Nq||(Nq={}));var Pq;(function(r){r.quickOutlineActionLabel=g("quickOutlineActionLabel","Go to Symbol..."),r.quickOutlineByCategoryActionLabel=g("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(Pq||(Pq={}));var d1;(function(r){r.editorViewAccessibleLabel=g("editorViewAccessibleLabel","Editor content"),r.accessibilityHelpMessage=g("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(d1||(d1={}));var Mq;(function(r){r.toggleHighContrast=g("toggleHighContrast","Toggle High Contrast Theme")})(Mq||(Mq={}));var pI;(function(r){r.bulkEditServiceSummary=g("bulkEditServiceSummary","Made {0} edits in {1} files")})(pI||(pI={}));io();Vl();Ye();var _I=Fe("workspaceTrustManagementService");XD();Be();re();xt();var yo;(function(r){function e(o,s){if(o.start>=s.end||s.start>=o.end)return{start:0,end:0};let a=Math.max(o.start,s.start),l=Math.min(o.end,s.end);return l-a<=0?{start:0,end:0}:{start:a,end:l}}r.intersect=e;function t(o){return o.end-o.start<=0}r.isEmpty=t;function i(o,s){return!t(e(o,s))}r.intersects=i;function n(o,s){let a=[],l={start:o.start,end:Math.min(s.start,o.end)},c={start:Math.max(s.end,o.start),end:o.end};return t(l)||a.push(l),t(c)||a.push(c),a}r.relativeComplement=n})(yo||(yo={}));var vg;(function(r){r[r.AVOID=0]="AVOID",r[r.ALIGN=1]="ALIGN"})(vg||(vg={}));function Mp(r,e,t){let i=t.mode===vg.ALIGN?t.offset:t.offset+t.size,n=t.mode===vg.ALIGN?t.offset+t.size:t.offset;return t.position===0?e<=r-i?i:e<=n?n-e:Math.max(r-e,0):e<=n?n-e:e<=r-i?i:0}var wg=class extends ${constructor(e,t){super();this.container=null,this.delegate=null,this.toDisposeOnClean=$.None,this.toDisposeOnSetContainer=$.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=le(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,No(this.view),this.setContainer(e,t),this._register(Ve(()=>this.setContainer(null,1)))}setContainer(e,t){var i;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(i=this.shadowRootHostElement)===null||i===void 0||i.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),e){if(this.container=e,this.useFixedPosition=t!==1,this.useShadowDOM=t===3,this.useShadowDOM){this.shadowRootHostElement=le(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});let o=document.createElement("style");o.textContent=Afe,this.shadowRoot.appendChild(o),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(le("slot"))}else this.container.appendChild(this.view);let n=new J;wg.BUBBLE_UP_EVENTS.forEach(o=>{n.add(Bi(this.container,o,s=>{this.onDOMEvent(s,!1)}))}),wg.BUBBLE_DOWN_EVENTS.forEach(o=>{n.add(Bi(this.container,o,s=>{this.onDOMEvent(s,!0)},!0))}),this.toDisposeOnSetContainer=n}}show(e){this.isVisible()&&this.hide(),nn(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",Ho(this.view),this.toDisposeOnClean=e.render(this.view)||$.None,this.delegate=e,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(Jr&&Vm.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let e=this.delegate.getAnchor(),t;if(oL(e)){let h=ji(e);t={top:h.top,left:h.left,width:h.width,height:h.height}}else t={top:e.y,left:e.x,width:e.width||1,height:e.height||2};let i=Vs(this.view),n=O0(this.view),o=this.delegate.anchorPosition||0,s=this.delegate.anchorAlignment||0,a=this.delegate.anchorAxisAlignment||0,l,c;if(a===0){let h={offset:t.top-window.pageYOffset,size:t.height,position:o===0?0:1},u={offset:t.left,size:t.width,position:s===0?0:1,mode:vg.ALIGN};l=Mp(window.innerHeight,n,h)+window.pageYOffset,yo.intersects({start:l,end:l+n},{start:h.offset,end:h.offset+h.size})&&(u.mode=vg.AVOID),c=Mp(window.innerWidth,i,u)}else{let h={offset:t.left,size:t.width,position:s===0?0:1},u={offset:t.top,size:t.height,position:o===0?0:1,mode:vg.ALIGN};c=Mp(window.innerWidth,i,h),yo.intersects({start:c,end:c+i},{start:h.offset,end:h.offset+h.size})&&(u.mode=vg.AVOID),l=Mp(window.innerHeight,n,u)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(o===0?"bottom":"top"),this.view.classList.add(s===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);let d=ji(this.container);this.view.style.top=`${l-(this.useFixedPosition?ji(this.view).top:d.top)}px`,this.view.style.left=`${c-(this.useFixedPosition?ji(this.view).left:d.left)}px`,this.view.style.width="initial"}hide(e){let t=this.delegate;this.delegate=null,t?.onHide&&t.onHide(e),this.toDisposeOnClean.dispose(),No(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):t&&!Kl(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}};wg.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"];wg.BUBBLE_DOWN_EVENTS=["click"];var Afe=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;re();var Rfe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ffe=function(r,e){return function(t,i){e(t,i,r)}},bI=class extends ${constructor(e){super();this.layoutService=e,this.currentViewDisposable=$.None,this.container=e.hasContainer?e.container:null,this.contextView=this._register(new wg(this.container,1)),this.layout(),this._register(e.onDidLayout(()=>this.layout()))}setContainer(e,t){this.contextView.setContainer(e,t||1)}showContextView(e,t,i){t?t!==this.container&&(this.container=t,this.setContainer(t,i?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(e);let n=Ve(()=>{this.currentViewDisposable===n&&this.hideContextView()});return this.currentViewDisposable=n,n}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}};bI=Rfe([Ffe(0,Qd)],bI);Ee();re();jt();ut();Ee();re();He();nt();jk();ia();xf();xt();He();var d4="**",Aq="/",vI="[/\\\\]",wI="[^/\\\\]",Bfe=/\//g;function Rq(r){switch(r){case 0:return"";case 1:return`${wI}*?`;default:return`(?:${vI}|${wI}+${vI}|${vI}${wI}+)*?`}}function Fq(r,e){if(!r)return[];let t=[],i=!1,n=!1,o="";for(let s of r){switch(s){case e:if(!i&&!n){t.push(o),o="";continue}break;case"{":i=!0;break;case"}":i=!1;break;case"[":n=!0;break;case"]":n=!1;break}o+=s}return o&&t.push(o),t}function zq(r){if(!r)return"";let e="",t=Fq(r,Aq);if(t.every(i=>i===d4))e=".*";else{let i=!1;t.forEach((n,o)=>{if(n===d4){i||(e+=Rq(2),i=!0);return}let s=!1,a="",l=!1,c="";for(let d of n){if(d!=="}"&&s){a+=d;continue}if(l&&(d!=="]"||!c)){let h;d==="-"?h=d:(d==="^"||d==="!")&&!c?h="^":d===Aq?h="":h=Io(d),c+=h;continue}switch(d){case"{":s=!0;continue;case"[":l=!0;continue;case"}":{e+=`(?:${Fq(a,",").map(f=>zq(f)).join("|")})`,s=!1,a="";break}case"]":e+="["+c+"]",l=!1,c="";break;case"?":e+=wI;continue;case"*":e+=Rq(1);continue;default:e+=Io(d)}}o<t.length-1&&(t[o+1]!==d4||o+2<t.length)&&(e+=vI),i=!1})}return e}var jfe=/^\*\*\/\*\.[\w\.-]+$/,Wfe=/^\*\*\/([\w\.-]+)\/?$/,Ufe=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,zfe=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,Vfe=/^\*\*((\/[\w\.-]+)+)\/?$/,Hfe=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,Bq=new ta(1e4),jq=function(){return!1},th=function(){return null};function u4(r,e){if(!r)return th;let t;typeof r!="string"?t=r.pattern:t=r,t=t.trim();let i=`${t}_${!!e.trimForExclusions}`,n=Bq.get(i);if(n)return Wq(n,r);let o;if(jfe.test(t)){let s=t.substr(4);n=function(a,l){return typeof a=="string"&&a.endsWith(s)?t:null}}else(o=Wfe.exec(h4(t,e)))?n=$fe(o[1],t):(e.trimForExclusions?zfe:Ufe).test(t)?n=Kfe(t,e):(o=Vfe.exec(h4(t,e)))?n=Uq(o[1].substr(1),t,!0):(o=Hfe.exec(h4(t,e)))?n=Uq(o[1],t,!1):n=qfe(t);return Bq.set(i,n),Wq(n,r)}function Wq(r,e){return typeof e=="string"?r:function(t,i){return Py(t,e.base,!Fi)?r(t.substr(e.base.length+1),i):null}}function h4(r,e){return e.trimForExclusions&&r.endsWith("/**")?r.substr(0,r.length-2):r}function $fe(r,e){let t=`/${r}`,i=`\\${r}`,n=function(s,a){return typeof s!="string"?null:a?a===r?e:null:s===r||s.endsWith(t)||s.endsWith(i)?e:null},o=[r];return n.basenames=o,n.patterns=[e],n.allBasenames=o,n}function Kfe(r,e){let t=Hq(r.slice(1,-1).split(",").map(a=>u4(a,e)).filter(a=>a!==th),r),i=t.length;if(!i)return th;if(i===1)return t[0];let n=function(a,l){for(let c=0,d=t.length;c<d;c++)if(t[c](a,l))return r;return null},o=t.find(a=>!!a.allBasenames);o&&(n.allBasenames=o.allBasenames);let s=t.reduce((a,l)=>l.allPaths?a.concat(l.allPaths):a,[]);return s.length&&(n.allPaths=s),n}function Uq(r,e,t){let i=fd===gn.sep,n=i?r:r.replace(Bfe,fd),o=fd+n,s=gn.sep+r,a=t?function(l,c){return typeof l=="string"&&(l===n||l.endsWith(o)||!i&&(l===r||l.endsWith(s)))?e:null}:function(l,c){return typeof l=="string"&&(l===n||!i&&l===r)?e:null};return a.allPaths=[(t?"*/":"./")+r],a}function qfe(r){try{let e=new RegExp(`^${zq(r)}$`);return function(t){return e.lastIndex=0,typeof t=="string"&&e.test(t)?r:null}}catch{return th}}function Vq(r,e,t){return!r||typeof e!="string"?!1:f4(r)(e,void 0,t)}function f4(r,e={}){if(!r)return jq;if(typeof r=="string"||Yfe(r)){let t=u4(r,e);if(t===th)return jq;let i=function(n,o){return!!t(n,o)};return t.allBasenames&&(i.allBasenames=t.allBasenames),t.allPaths&&(i.allPaths=t.allPaths),i}return Zfe(r,e)}function Yfe(r){let e=r;return e?typeof e.base=="string"&&typeof e.pattern=="string":!1}function Zfe(r,e){let t=Hq(Object.getOwnPropertyNames(r).map(a=>Gfe(a,r[a],e)).filter(a=>a!==th)),i=t.length;if(!i)return th;if(!t.some(a=>!!a.requiresSiblings)){if(i===1)return t[0];let a=function(d,h){for(let u=0,f=t.length;u<f;u++){let m=t[u](d,h);if(m)return m}return null},l=t.find(d=>!!d.allBasenames);l&&(a.allBasenames=l.allBasenames);let c=t.reduce((d,h)=>h.allPaths?d.concat(h.allPaths):d,[]);return c.length&&(a.allPaths=c),a}let n=function(a,l,c){let d;for(let h=0,u=t.length;h<u;h++){let f=t[h];f.requiresSiblings&&c&&(l||(l=ud(a)),d||(d=l.substr(0,l.length-U6(a).length)));let m=f(a,l,d,c);if(m)return m}return null},o=t.find(a=>!!a.allBasenames);o&&(n.allBasenames=o.allBasenames);let s=t.reduce((a,l)=>l.allPaths?a.concat(l.allPaths):a,[]);return s.length&&(n.allPaths=s),n}function Gfe(r,e,t){if(e===!1)return th;let i=u4(r,t);if(i===th)return th;if(typeof e=="boolean")return i;if(e){let n=e.when;if(typeof n=="string"){let o=(s,a,l,c)=>{if(!c||!i(s,a))return null;let d=n.replace("$(basename)",l),h=c(d);return UW(h)?h.then(u=>u?r:null):h?r:null};return o.requiresSiblings=!0,o}}return i}function Hq(r,e){let t=r.filter(a=>!!a.basenames);if(t.length<2)return r;let i=t.reduce((a,l)=>{let c=l.basenames;return c?a.concat(c):a},[]),n;if(e){n=[];for(let a=0,l=i.length;a<l;a++)n.push(e)}else n=t.reduce((a,l)=>{let c=l.patterns;return c?a.concat(c):a},[]);let o=function(a,l){if(typeof a!="string")return null;if(!l){let d;for(d=a.length;d>0;d--){let h=a.charCodeAt(d-1);if(h===47||h===92)break}l=a.substr(d)}let c=i.indexOf(l);return c!==-1?n[c]:null};o.basenames=i,o.patterns=n,o.allBasenames=i;let s=r.filter(a=>!a.basenames);return s.push(o),s}oy();rs();xf();Vr();He();var ew=[],g4=[],Kq=[];function h1(r,e=!1){Xfe(r,!1,e)}function Xfe(r,e,t){let i=Qfe(r,e);ew.push(i),i.userConfigured?Kq.push(i):g4.push(i),t&&!i.userConfigured&&ew.forEach(n=>{n.mime===i.mime||n.userConfigured||(i.extension&&n.extension===i.extension&&console.warn(`Overwriting extension <<${i.extension}>> to now point to mime <<${i.mime}>>`),i.filename&&n.filename===i.filename&&console.warn(`Overwriting filename <<${i.filename}>> to now point to mime <<${i.mime}>>`),i.filepattern&&n.filepattern===i.filepattern&&console.warn(`Overwriting filepattern <<${i.filepattern}>> to now point to mime <<${i.mime}>>`),i.firstline&&n.firstline===i.firstline&&console.warn(`Overwriting firstline <<${i.firstline}>> to now point to mime <<${i.mime}>>`))})}function Qfe(r,e){return{id:r.id,mime:r.mime,filename:r.filename,extension:r.extension,filepattern:r.filepattern,firstline:r.firstline,userConfigured:e,filenameLowercase:r.filename?r.filename.toLowerCase():void 0,extensionLowercase:r.extension?r.extension.toLowerCase():void 0,filepatternLowercase:r.filepattern?f4(r.filepattern.toLowerCase()):void 0,filepatternOnPath:r.filepattern?r.filepattern.indexOf(gn.sep)>=0:!1}}function qq(){ew=ew.filter(r=>r.userConfigured),g4=[]}function Yq(r,e){let t;if(r)switch(r.scheme){case rt.file:t=r.fsPath;break;case rt.data:{t=Vd.parseMetaData(r).get(Vd.META_DATA_LABEL);break}default:t=r.path}if(!t)return[Ys.unknown];t=t.toLowerCase();let i=ud(t),n=$q(t,i,Kq);if(n)return[n,Ys.text];let o=$q(t,i,g4);if(o)return[o,Ys.text];if(e){let s=Jfe(e);if(s)return[s,Ys.text]}return[Ys.unknown]}function $q(r,e,t){var i;let n,o,s;for(let a=t.length-1;a>=0;a--){let l=t[a];if(e===l.filenameLowercase){n=l;break}if(l.filepattern&&(!o||l.filepattern.length>o.filepattern.length)){let c=l.filepatternOnPath?r:e;!((i=l.filepatternLowercase)===null||i===void 0)&&i.call(l,c)&&(o=l)}l.extension&&(!s||l.extension.length>s.extension.length)&&e.endsWith(l.extensionLowercase)&&(s=l)}if(n)return n.mime;if(o)return o.mime;if(s)return s.mime}function Jfe(r){if(vb(r)&&(r=r.substr(1)),r.length>0)for(let e=ew.length-1;e>=0;e--){let t=ew[e];if(!t.firstline)continue;let i=r.match(t.firstline);if(i&&i.length>0)return t.mime}}Wd();Sp();as();no();var CI=Object.prototype.hasOwnProperty,m4="vs.editor.nullLanguage";qi.register(m4,{});var Zq=class{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(m4,0),this._register(zr,1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;let t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||m4}},Ap=class extends ${constructor(e=!0,t=!1){super();this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,Ap.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new Zq,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(ag.onDidChangeLanguages(i=>{this._initializeFromRegistry()})))}dispose(){Ap.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},qq();let e=[].concat(ag.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(e)}_registerLanguages(e){for(let t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(t=>{let i=this._languages[t];i.name&&(this._nameMap[i.name]=i.identifier),i.aliases.forEach(n=>{this._lowercaseNameMap[n.toLowerCase()]=i.identifier}),i.mimetypes.forEach(n=>{this._mimeTypesMap[n]=i.identifier})}),Ti.as(al.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(e){let t=e.id,i;CI.call(this._languages,t)?i=this._languages[t]:(this.languageIdCodec.register(t),i={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[t]=i),this._mergeLanguage(i,e)}_mergeLanguage(e,t){let i=t.id,n=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),n=t.mimetypes[0]),n||(n=`text/x-${i}`,e.mimetypes.push(n)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(let a of t.extensions)h1({id:i,mime:n,extension:a},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(let a of t.filenames)h1({id:i,mime:n,filename:a},this._warnOnOverwrite),e.filenames.push(a);if(Array.isArray(t.filenamePatterns))for(let a of t.filenamePatterns)h1({id:i,mime:n,filepattern:a},this._warnOnOverwrite);if(typeof t.firstLine=="string"&&t.firstLine.length>0){let a=t.firstLine;a.charAt(0)!=="^"&&(a="^"+a);try{let l=new RegExp(a);oW(l)||h1({id:i,mime:n,firstline:l},this._warnOnOverwrite)}catch(l){Ie(l)}}e.aliases.push(i);let o=null;if(typeof t.aliases<"u"&&Array.isArray(t.aliases)&&(t.aliases.length===0?o=[null]:o=t.aliases),o!==null)for(let a of o)!a||a.length===0||e.aliases.push(a);let s=o!==null&&o.length>0;if(!(s&&o[0]===null)){let a=(s?o[0]:null)||i;(s||!e.name)&&(e.name=a)}t.configuration&&e.configurationFiles.push(t.configuration),t.icon&&e.icons.push(t.icon)}isRegisteredLanguageId(e){return e?CI.call(this._languages,e):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(e){let t=e.toLowerCase();return CI.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t]:null}getLanguageIdByMimeType(e){return e&&CI.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:null}guessLanguageIdByFilepathOrFirstLine(e,t){if(!e&&!t)return[];let i=Yq(e,t);return Il(i.map(n=>this.getLanguageIdByMimeType(n)))}};Ap.instanceCount=0;jt();cn();Wd();var Rp=class extends ${constructor(e=!1){super();this._onDidEncounterLanguage=this._register(new B),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new B({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,Rp.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new Ap(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){Rp.instanceCount--,super.dispose()}isRegisteredLanguageId(e){return this._registry.isRegisteredLanguageId(e)}getLanguageIdByLanguageName(e){return this._registry.getLanguageIdByLanguageName(e)}getLanguageIdByMimeType(e){return this._registry.getLanguageIdByMimeType(e)}guessLanguageIdByFilepathOrFirstLine(e,t){let i=this._registry.guessLanguageIdByFilepathOrFirstLine(e,t);return px(i,null)}createById(e){return new p4(this.onDidChange,()=>this._createAndGetLanguageIdentifier(e))}createByFilepathOrFirstLine(e,t){return new p4(this.onDidChange,()=>{let i=this.guessLanguageIdByFilepathOrFirstLine(e,t);return this._createAndGetLanguageIdentifier(i)})}_createAndGetLanguageIdentifier(e){return(!e||!this.isRegisteredLanguageId(e))&&(e=zr),this._encounteredLanguages.has(e)||(this._encounteredLanguages.add(e),bi.getOrCreate(e),this._onDidEncounterLanguage.fire(e)),e}};Rp.instanceCount=0;var p4=class{constructor(e,t){this._onDidChangeLanguages=e,this._selector=t,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new B({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){let e=this._selector();e!==this.languageId&&(this.languageId=e,this._emitter&&this._emitter.fire(this.languageId))}};Be();Ee();re();Xm();pt();Be();il();Oo();Be();os();il();ln();function _4(r){let e=r.definition;for(;e instanceof p;)e=e.definition;return`.codicon-${r.id}:before { content: '${e.fontCharacter}'; }`}ss();nt();ln();ln();ia();He();function Qq(...r){return function(e,t){for(let i=0,n=r.length;i<n;i++){let o=r[i](e,t);if(o)return o}return null}}var YZe=Jq.bind(void 0,!1),EI=Jq.bind(void 0,!0);function Jq(r,e,t){if(!t||t.length<e.length)return null;let i;return r?i=pb(t,e):i=t.indexOf(e)===0,i?e.length>0?[{start:0,end:e.length}]:[]:null}function ege(r,e){let t=e.toLowerCase().indexOf(r.toLowerCase());return t===-1?null:[{start:t,end:t+r.length}]}function tge(r,e){return v4(r.toLowerCase(),e.toLowerCase(),0,0)}function v4(r,e,t,i){if(t===r.length)return[];if(i===e.length)return null;if(r[t]===e[i]){let n=null;return(n=v4(r,e,t+1,i+1))?tY({start:i,end:i+1},n):null}return v4(r,e,t,i+1)}function y4(r){return 97<=r&&r<=122}function xI(r){return 65<=r&&r<=90}function S4(r){return 48<=r&&r<=57}function ige(r){return r===32||r===9||r===10||r===13}var nge=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(r=>nge.add(r.charCodeAt(0)));function eY(r){return y4(r)||xI(r)||S4(r)}function tY(r,e){return e.length===0?e=[r]:r.end===e[0].start?e[0].start=r.start:e.unshift(r),e}function iY(r,e){for(let t=e;t<r.length;t++){let i=r.charCodeAt(t);if(xI(i)||S4(i)||t>0&&!eY(r.charCodeAt(t-1)))return t}return r.length}function w4(r,e,t,i){if(t===r.length)return[];if(i===e.length)return null;if(r[t]!==e[i].toLowerCase())return null;{let n=null,o=i+1;for(n=w4(r,e,t+1,i+1);!n&&(o=iY(e,o))<e.length;)n=w4(r,e,t+1,o),o++;return n===null?null:tY({start:i,end:i+1},n)}}function oge(r){let e=0,t=0,i=0,n=0,o=0;for(let d=0;d<r.length;d++)o=r.charCodeAt(d),xI(o)&&e++,y4(o)&&t++,eY(o)&&i++,S4(o)&&n++;let s=e/r.length,a=t/r.length,l=i/r.length,c=n/r.length;return{upperPercent:s,lowerPercent:a,alphaPercent:l,numericPercent:c}}function rge(r){let{upperPercent:e,lowerPercent:t}=r;return t===0&&e>.6}function sge(r){let{upperPercent:e,lowerPercent:t,alphaPercent:i,numericPercent:n}=r;return t>.2&&e<.8&&i>.6&&n<.2}function age(r){let e=0,t=0,i=0,n=0;for(let o=0;o<r.length;o++)i=r.charCodeAt(o),xI(i)&&e++,y4(i)&&t++,ige(i)&&n++;return(e===0||t===0)&&n===0?r.length<=30:e<=5}function nY(r,e){if(!e||(e=e.trim(),e.length===0)||!age(r)||e.length>60)return null;let t=oge(e);if(!sge(t)){if(!rge(t))return null;e=e.toLowerCase()}let i=null,n=0;for(r=r.toLowerCase();n<e.length&&(i=w4(r,e,0,n))===null;)n=iY(e,n+1);return i}var lge=Qq(EI,nY,ege),cge=Qq(EI,nY,tge),Gq=new ta(1e4);function E4(r,e,t=!1){if(typeof r!="string"||typeof e!="string")return null;let i=Gq.get(r);i||(i=new RegExp(nW(r),"i"),Gq.set(r,i));let n=i.exec(e);return n?[{start:n.index,end:n.index+n[0].length}]:t?cge(r,e):lge(r,e)}function oY(r,e,t,i,n,o){let s=Math.min(13,r.length);for(;t<s;t++){let a=Fp(r,e,t,i,n,o,!1);if(a)return a}return[0,o]}function f1(r){if(typeof r>"u")return[];let e=[],t=r[1];for(let i=r.length-1;i>1;i--){let n=r[i]+t,o=e[e.length-1];o&&o.end===n?o.end=n+1:e.push({start:n,end:n+1})}return e}var yg=128;function x4(){let r=[],e=[];for(let t=0;t<=yg;t++)e[t]=0;for(let t=0;t<=yg;t++)r.push(e.slice(0));return r}function rY(r){let e=[];for(let t=0;t<=r;t++)e[t]=0;return e}var sY=rY(2*yg),C4=rY(2*yg),ih=x4(),Cg=x4(),u1=x4(),dge=!1;function b4(r,e,t,i,n){function o(a,l,c=" "){for(;a.length<l;)a=c+a;return a}let s=` |   |${i.split("").map(a=>o(a,3)).join("|")}
`;for(let a=0;a<=t;a++)a===0?s+=" |":s+=`${e[a-1]}|`,s+=r[a].slice(0,n+1).map(l=>o(l.toString(),3)).join("|")+`
`;return s}function hge(r,e,t,i){r=r.substr(e),t=t.substr(i),console.log(b4(Cg,r,r.length,t,t.length)),console.log(b4(u1,r,r.length,t,t.length)),console.log(b4(ih,r,r.length,t,t.length))}function yI(r,e){if(e<0||e>=r.length)return!1;let t=r.codePointAt(e);switch(t){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!XC(t)}}function Xq(r,e){if(e<0||e>=r.length)return!1;switch(r.charCodeAt(e)){case 32:case 9:return!0;default:return!1}}function SI(r,e,t){return e[r]!==t[r]}function uge(r,e,t,i,n,o,s=!1){for(;e<t&&n<o;)r[e]===i[n]&&(s&&(sY[e]=n),e+=1),n+=1;return e===t}var oa;(function(r){r.Default=[-100,0];function e(t){return!t||t.length===2&&t[0]===-100&&t[1]===0}r.isDefault=e})(oa||(oa={}));function Fp(r,e,t,i,n,o,s){let a=r.length>yg?yg:r.length,l=i.length>yg?yg:i.length;if(t>=a||o>=l||a-t>l-o||!uge(e,t,a,n,o,l,!0))return;fge(a,l,t,o,e,n);let c=1,d=1,h=t,u=o,f=[!1];for(c=1,h=t;h<a;c++,h++){let C=sY[h],E=C4[h],L=h+1<a?C4[h+1]:l;for(d=C-o+1,u=C;u<L;d++,u++){let k=Number.MIN_SAFE_INTEGER,M=!1;u<=E&&(k=gge(r,e,h,t,i,n,u,l,o,ih[c-1][d-1]===0,f));let I=0;k!==Number.MAX_SAFE_INTEGER&&(M=!0,I=k+Cg[c-1][d-1]);let T=u>C,R=T?Cg[c][d-1]+(ih[c][d-1]>0?-5:0):0,Z=u>C+1&&ih[c][d-1]>0,q=Z?Cg[c][d-2]+(ih[c][d-2]>0?-5:0):0;if(Z&&(!T||q>=R)&&(!M||q>=I))Cg[c][d]=q,u1[c][d]=3,ih[c][d]=0;else if(T&&(!M||R>=I))Cg[c][d]=R,u1[c][d]=2,ih[c][d]=0;else if(M)Cg[c][d]=I,u1[c][d]=1,ih[c][d]=ih[c-1][d-1]+1;else throw new Error("not possible")}}if(dge&&hge(r,t,i,o),!f[0]&&!s)return;c--,d--;let m=[Cg[c][d],o],_=0,w=0;for(;c>=1;){let C=d;do{let E=u1[c][C];if(E===3)C=C-2;else if(E===2)C=C-1;else break}while(C>=1);_>1&&e[t+c-1]===n[o+d-1]&&!SI(C+o-1,i,n)&&_+1>ih[c][C]&&(C=d),C===d?_++:_=1,w||(w=C),c--,d=C-1,m.push(d)}l===a&&(m[0]+=2);let y=w-a;return m[0]-=y,m}function fge(r,e,t,i,n,o){let s=r-1,a=e-1;for(;s>=t&&a>=i;)n[s]===o[a]&&(C4[s]=a,s--),a--}function gge(r,e,t,i,n,o,s,a,l,c,d){if(e[t]!==o[s])return Number.MIN_SAFE_INTEGER;let h=1,u=!1;return s===t-i?h=r[t]===n[s]?7:5:SI(s,n,o)&&(s===0||!SI(s-1,n,o))?(h=r[t]===n[s]?7:5,u=!0):yI(o,s)&&(s===0||!yI(o,s-1))?h=5:(yI(o,s-1)||Xq(o,s-1))&&(h=5,u=!0),h>1&&t===i&&(d[0]=!0),u||(u=SI(s,n,o)||yI(o,s-1)||Xq(o,s-1)),t===i?s>l&&(h-=u?3:5):c?h+=u?2:0:h+=u?0:1,s+1===a&&(h-=u?3:5),h}function aY(r,e,t,i,n,o,s){return mge(r,e,t,i,n,o,!0,s)}function mge(r,e,t,i,n,o,s,a){let l=Fp(r,e,t,i,n,o,a);if(l&&!s)return l;if(r.length>=3){let c=Math.min(7,r.length-1);for(let d=t+1;d<c;d++){let h=pge(r,d);if(h){let u=Fp(h,h.toLowerCase(),t,i,n,o,a);u&&(u[0]-=3,(!l||u[0]>l[0])&&(l=u))}}}return l}function pge(r,e){if(e+1>=r.length)return;let t=r[e],i=r[e+1];if(t!==i)return r.slice(0,e)+i+t+r.slice(e+2)}He();var g1="$(",D4=new RegExp(`\\$\\(${to.iconNameExpression}(?:${to.iconModifierExpression})?\\)`,"g"),_ge=new RegExp(to.iconNameCharacter),bge=new RegExp(`(\\\\)?${D4.source}`,"g");function lY(r){return r.replace(bge,(e,t)=>t?e:`\\${e}`)}var vge=new RegExp(`\\\\${D4.source}`,"g");function cY(r){return r.replace(vge,e=>`\\${e}`)}var wge=new RegExp(`(\\s)?(\\\\)?${D4.source}(\\s)?`,"g");function DI(r){return r.indexOf(g1)===-1?r:r.replace(wge,(e,t,i,n)=>i?e:t||n||"")}function m1(r){let e=r.indexOf(g1);return e===-1?{text:r}:Cge(r,e)}function Cge(r,e){let t=[],i="";function n(u){if(u){i+=u;for(let f of u)t.push(a)}}let o=-1,s="",a=0,l,c,d=e,h=r.length;for(n(r.substr(0,e));d<h;)l=r[d],c=r[d+1],l===g1[0]&&c===g1[1]?(o=d,n(s),s=g1,d++):l===")"&&o!==-1?(a+=d-o+1,o=-1,s=""):o!==-1?_ge.test(l)?s+=l:(n(s),o=-1,s=""):n(l),d++;return n(s),{text:i,iconOffsets:t}}function p1(r,e,t=!1){let{text:i,iconOffsets:n}=e;if(!n||n.length===0)return E4(r,i,t);let o=vD(i," "),s=i.length-o.length,a=E4(r,o,t);if(a)for(let l of a){let c=n[l.start+s]+s;l.start+=c,l.end+=c}return a}re();xt();He();var k4=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,L4=/(&amp;)?(&amp;)([^\s&])/g,kI;(function(r){r[r.Right=0]="Right",r[r.Left=1]="Left"})(kI||(kI={}));var Sg=class extends yr{constructor(e,t,i={}){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");let n=document.createElement("div");n.classList.add("monaco-menu"),n.setAttribute("role","presentation");super(n,{orientation:1,actionViewItemProvider:a=>this.doGetActionViewItem(a,i,o),context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...Je||Fi?[10]:[]],keyDown:!0}});this.menuElement=n,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new J),this.initializeOrUpdateStyleSheet(e,{}),this._register(zt.addTarget(n)),se(n,Re.KEY_DOWN,a=>{new $t(a).equals(2)&&a.preventDefault()}),i.enableMnemonics&&this.menuDisposables.add(se(n,Re.KEY_DOWN,a=>{let l=a.key.toLocaleLowerCase();if(this.mnemonics.has(l)){Kt.stop(a,!0);let c=this.mnemonics.get(l);if(c.length===1&&(c[0]instanceof I4&&c[0].container&&this.focusItemByElement(c[0].container),c[0].onClick(a)),c.length>1){let d=c.shift();d&&d.container&&(this.focusItemByElement(d.container),c.push(d)),this.mnemonics.set(l,c)}}})),Fi&&this._register(se(n,Re.KEY_DOWN,a=>{let l=new $t(a);l.equals(14)||l.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),Kt.stop(a,!0)):(l.equals(13)||l.equals(12))&&(this.focusedItem=0,this.focusPrevious(),Kt.stop(a,!0))})),this._register(se(this.domNode,Re.MOUSE_OUT,a=>{let l=a.relatedTarget;Kl(l,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),a.stopPropagation())})),this._register(se(this.actionsList,Re.MOUSE_OVER,a=>{let l=a.target;if(!(!l||!Kl(l,this.actionsList)||l===this.actionsList)){for(;l.parentElement!==this.actionsList&&l.parentElement!==null;)l=l.parentElement;if(l.classList.contains("action-item")){let c=this.focusedItem;this.setFocusedItem(l),c!==this.focusedItem&&this.updateFocus()}}})),this._register(zt.addTarget(this.actionsList)),this._register(se(this.actionsList,li.Tap,a=>{let l=a.initialTarget;if(!(!l||!Kl(l,this.actionsList)||l===this.actionsList)){for(;l.parentElement!==this.actionsList&&l.parentElement!==null;)l=l.parentElement;if(l.classList.contains("action-item")){let c=this.focusedItem;this.setFocusedItem(l),c!==this.focusedItem&&this.updateFocus()}}}));let o={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new Fc(n,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));let s=this.scrollableElement.getDomNode();s.style.position="",this._register(se(n,li.Change,a=>{Kt.stop(a,!0);let l=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:l-a.translationY})})),this._register(se(s,Re.MOUSE_UP,a=>{a.preventDefault()})),n.style.maxHeight=`${Math.max(10,window.innerHeight-e.getBoundingClientRect().top-35)}px`,t=t.filter(a=>{var l;return!((l=i.submenuIds)===null||l===void 0)&&l.has(a.id)?(console.warn(`Found submenu cycle: ${a.id}`),!1):!0}),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(a=>!(a instanceof LI)).forEach((a,l,c)=>{a.updatePositionInSet(l+1,c.length)})}initializeOrUpdateStyleSheet(e,t){this.styleSheet||(Vh(e)?this.styleSheet=po(e):(Sg.globalStyleSheet||(Sg.globalStyleSheet=po()),this.styleSheet=Sg.globalStyleSheet)),this.styleSheet.textContent=Sge(t,Vh(e))}style(e){let t=this.getContainer();this.initializeOrUpdateStyleSheet(t,e);let i=e.foregroundColor?`${e.foregroundColor}`:"",n=e.backgroundColor?`${e.backgroundColor}`:"",o=e.borderColor?`1px solid ${e.borderColor}`:"",s=e.shadowColor?`0 2px 4px ${e.shadowColor}`:"";t.style.border=o,this.domNode.style.color=i,this.domNode.style.backgroundColor=n,t.style.boxShadow=s,this.viewItems&&this.viewItems.forEach(a=>{(a instanceof II||a instanceof LI)&&a.style(e)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){let t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++){let i=this.actionsList.children[t];if(e===i){this.focusedItem=t;break}}}updateFocus(e){super.updateFocus(e,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,i){if(e instanceof $o)return new LI(t.context,e,{icon:!0});if(e instanceof Hh){let n=new I4(e,e.actions,i,Object.assign(Object.assign({},t),{submenuIds:new Set([...t.submenuIds||[],e.id])}));if(t.enableMnemonics){let o=n.getMnemonic();if(o&&n.isEnabled()){let s=[];this.mnemonics.has(o)&&(s=this.mnemonics.get(o)),s.push(n),this.mnemonics.set(o,s)}}return n}else{let n={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){let s=t.getKeyBinding(e);if(s){let a=s.getLabel();a&&(n.keybinding=a)}}let o=new II(t.context,e,n);if(t.enableMnemonics){let s=o.getMnemonic();if(s&&o.isEnabled()){let a=[];this.mnemonics.has(s)&&(a=this.mnemonics.get(s)),a.push(o),this.mnemonics.set(s,a)}}return o}}},II=class extends Qs{constructor(e,t,i={}){i.isMenu=!0;super(t,t,i);if(this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass="",this.options.label&&i.enableMnemonics){let n=this.getAction().label;if(n){let o=k4.exec(n);o&&(this.mnemonic=(o[1]?o[1]:o[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new wt(()=>{!this.element||(this._register(se(this.element,Re.MOUSE_UP,n=>{if(Kt.stop(n,!0),$n){if(new To(n).rightButton)return;this.onClick(n)}else setTimeout(()=>{this.onClick(n)},0)})),this._register(se(this.element,Re.CONTEXT_MENU,n=>{Kt.stop(n,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),this.element&&(this.container=e,this.item=ee(this.element,le("a.action-menu-item")),this._action.id===$o.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=ee(this.item,le("span.menu-item-check"+p.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=ee(this.item,le("span.action-label")),this.options.label&&this.options.keybinding&&(ee(this.item,le("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",`${e}`),this.item.setAttribute("aria-setsize",`${t}`))}updateLabel(){if(!!this.label&&this.options.label){nn(this.label);let e=DI(this.getAction().label);if(e){let t=yge(e);this.options.enableMnemonics||(e=t),this.label.setAttribute("aria-label",t.replace(/&&/g,"&"));let i=k4.exec(e);if(i){e=gb(e),L4.lastIndex=0;let n=L4.exec(e);for(;n&&n[1];)n=L4.exec(e);let o=s=>s.replace(/&amp;&amp;/g,"&amp;");n?this.label.append(vD(o(e.substr(0,n.index))," "),le("u",{"aria-hidden":"true"},n[3]),iW(o(e.substr(n.index+n[0].length))," ")):this.label.innerText=o(e).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(i[1]?i[1]:i[3]).toLocaleLowerCase())}else this.label.innerText=e.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;let e=this.getAction().checked;this.item.classList.toggle("checked",!!e),e!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",e?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;let e=this.element&&this.element.classList.contains("focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,n=e&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=t?t.toString():"",this.item.style.backgroundColor=i?i.toString():""),this.check&&(this.check.style.color=t?t.toString():""),this.container&&(this.container.style.border=n)}style(e){this.menuStyle=e,this.applyStyle()}},I4=class extends II{constructor(e,t,i,n){super(e,e,n);this.submenuActions=t,this.parentData=i,this.submenuOptions=n,this.mysubmenu=null,this.submenuDisposables=this._register(new J),this.mouseOver=!1,this.expandDirection=n&&n.expandDirection!==void 0?n.expandDirection:kI.Right,this.showScheduler=new wt(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new wt(()=>{this.element&&!Kl(Bf(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(e){super.render(e),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=ee(this.item,le("span.submenu-indicator"+p.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(se(this.element,Re.KEY_UP,t=>{let i=new $t(t);(i.equals(17)||i.equals(3))&&(Kt.stop(t,!0),this.createSubmenu(!0))})),this._register(se(this.element,Re.KEY_DOWN,t=>{let i=new $t(t);Bf()===this.item&&(i.equals(17)||i.equals(3))&&Kt.stop(t,!0)})),this._register(se(this.element,Re.MOUSE_OVER,t=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register(se(this.element,Re.MOUSE_LEAVE,t=>{this.mouseOver=!1})),this._register(se(this.element,Re.FOCUS_OUT,t=>{this.element&&!Kl(Bf(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(e){Kt.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,i,n){let o={top:0,left:0};return o.left=Mp(e.width,t.width,{position:n===kI.Right?0:1,offset:i.left,size:i.width}),o.left>=i.left&&o.left<i.left+i.width&&(i.left+10+t.width<=e.width&&(o.left=i.left+10),i.top+=10,i.height=0),o.top=Mp(e.height,t.height,{position:0,offset:i.top,size:0}),o.top+t.height===i.top&&o.top+i.height+t.height<=e.height&&(o.top+=i.height),o}createSubmenu(e=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=ee(this.element,le("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");let t=getComputedStyle(this.parentData.parent.domNode),i=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new Sg(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new Zb],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);let n=this.element.getBoundingClientRect(),o={top:n.top-i,left:n.left,height:n.height+2*i,width:n.width},s=this.submenuContainer.getBoundingClientRect(),{top:a,left:l}=this.calculateSubmenuMenuLayout(new ui(window.innerWidth,window.innerHeight),ui.lift(s),o,this.expandDirection);this.submenuContainer.style.left=`${l-s.left}px`,this.submenuContainer.style.top=`${a-s.top}px`,this.submenuDisposables.add(se(this.submenuContainer,Re.KEY_UP,c=>{new $t(c).equals(15)&&(Kt.stop(c,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(se(this.submenuContainer,Re.KEY_DOWN,c=>{new $t(c).equals(15)&&Kt.stop(c,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){var t;this.item&&((t=this.item)===null||t===void 0||t.setAttribute("aria-expanded",e))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;let t=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=t?`${t}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}},LI=class extends Gd{style(e){this.label&&(this.label.style.borderBottomColor=e.separatorColor?`${e.separatorColor}`:"")}};function yge(r){let e=k4,t=e.exec(r);if(!t)return r;let i=!t[1];return r.replace(e,i?"$2$3":"").trim()}function Sge(r,e){let t=`
.monaco-menu {
	font-size: 13px;

}

${_4(p.menuSelection)}
${_4(p.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.4;
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(e){t+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;let i=r.scrollbarShadow;i&&(t+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${i} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${i} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${i} 6px 6px 6px -6px inset;
				}
			`);let n=r.scrollbarSliderBackground;n&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${n};
				}
			`);let o=r.scrollbarSliderHoverBackground;o&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${o};
				}
			`);let s=r.scrollbarSliderActiveBackground;s&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${s};
				}
			`)}return t}ss();ut();re();Li();function hl(r,e){let t=Object.create(null);for(let i in e){let n=e[i];n&&(t[i]=Od(n,r))}return t}function O4(r,e,t){function i(){let n=hl(r.getColorTheme(),e);typeof t=="function"?t(n):t.style(n)}return i(),r.onDidColorThemeChange(i)}function dY(r,e,t){return O4(e,{badgeBackground:t?.badgeBackground||tp,badgeForeground:t?.badgeForeground||ip,badgeBorder:Ni},r)}function Eu(r,e,t){return O4(e,Object.assign(Object.assign({},_1),t||{}),r)}var _1={listFocusBackground:cV,listFocusForeground:dV,listFocusOutline:hV,listActiveSelectionBackground:Jh,listActiveSelectionForeground:eu,listActiveSelectionIconForeground:H0,listFocusAndSelectionBackground:Jh,listFocusAndSelectionForeground:eu,listInactiveSelectionBackground:uV,listInactiveSelectionIconForeground:gV,listInactiveSelectionForeground:fV,listInactiveFocusBackground:mV,listInactiveFocusOutline:pV,listHoverBackground:_V,listHoverForeground:bV,listDropBackground:vV,listSelectionOutline:ro,listHoverOutline:ro,listFilterWidgetBackground:wV,listFilterWidgetOutline:CV,listFilterWidgetNoMatchesOutline:yV,listMatchesShadow:Ql,treeIndentGuidesStroke:SV,tableColumnsBorder:EV,tableOddRowsBackgroundColor:xV},Ege={shadowColor:Ql,borderColor:DV,foregroundColor:LV,backgroundColor:kV,selectionForegroundColor:IV,selectionBackgroundColor:OV,selectionBorderColor:TV,separatorColor:NV,scrollbarShadow:Jl,scrollbarSliderBackground:Zh,scrollbarSliderHoverBackground:Gh,scrollbarSliderActiveBackground:Xh};function hY(r,e,t){return O4(e,Object.assign(Object.assign({},Ege),t),r)}var T4=class{constructor(e,t,i,n,o){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=n,this.themeService=o,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){let t=e.getActions();if(!t.length)return;this.focusToReturn=document.activeElement;let i,n=oL(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:o=>{let s=e.getMenuClassName?e.getMenuClassName():"";s&&(o.className+=" "+s),this.options.blockMouse&&(this.block=o.appendChild(le(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",se(this.block,Re.MOUSE_DOWN,c=>c.stopPropagation()));let a=new J,l=e.actionRunner||new Yl;return l.onBeforeRun(this.onActionRun,this,a),l.onDidRun(this.onDidActionRun,this,a),i=new Sg(o,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:l,getKeyBinding:e.getKeyBinding?e.getKeyBinding:c=>this.keybindingService.lookupKeybinding(c.id)}),a.add(hY(i,this.themeService)),i.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,a),i.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,a),a.add(se(window,Re.BLUR,()=>this.contextViewService.hideContextView(!0))),a.add(se(window,Re.MOUSE_DOWN,c=>{if(c.defaultPrevented)return;let d=new To(c),h=d.target;if(!d.rightButton){for(;h;){if(h===o)return;h=h.parentElement}this.contextViewService.hideContextView(!0)}})),Ws(a,i)},focus:()=>{i&&i.focus(!!e.autoSelectFirstItem)},onHide:o=>{e.onHide&&e.onHide(!!o),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},n,!!n)}onActionRun(e){this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(e){e.error&&!ws(e.error)&&this.notificationService.error(e.error)}};var xge=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},b1=function(r,e){return function(t,i){e(t,i,r)}},OI=class extends ${constructor(e,t,i,n,o){super();this._onDidShowContextMenu=new B,this._onDidHideContextMenu=new B,this.contextMenuHandler=new T4(i,e,t,n,o)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},e),{onHide:t=>{e.onHide&&e.onHide(t),this._onDidHideContextMenu.fire()}})),Dd.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};OI=xge([b1(0,ka),b1(1,si),b1(2,wu),b1(3,Di),b1(4,Ft)],OI);pt();Ss();Be();Ei();Ph();ia();Db();Oi();function v1(r){let e=JSON.parse(r);return e=N4(e),e}function N4(r,e=0){if(!r||e>200)return r;if(typeof r=="object"){switch(r.$mid){case 1:return De.revive(r);case 2:return new RegExp(r.source,r.flags);case 14:return new Date(r.source)}if(r instanceof Om||r instanceof Uint8Array)return r;if(Array.isArray(r))for(let t=0;t<r.length;++t)r[t]=N4(r[t],e+1);else for(let t in r)Object.hasOwnProperty.call(r,t)&&(r[t]=N4(r[t],e+1))}return r}rs();Vr();Oi();io();on();var w1;(function(r){r[r.API=0]="API",r[r.USER=1]="USER"})(w1||(w1={}));re();He();Oi();Ye();var uY=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},so=Fe("openerService"),fY=Object.freeze({_serviceBrand:void 0,registerOpener(){return $.None},registerValidator(){return $.None},registerExternalUriResolver(){return $.None},setDefaultExternalOpener(){},registerExternalOpener(){return $.None},open(){return uY(this,void 0,void 0,function*(){return!1})},resolveExternalUri(r){return uY(this,void 0,void 0,function*(){return{resolved:r,dispose(){}}})}});function P4(r,e){return De.isUri(r)?Rh(r.scheme,e):pb(r,e+":")}function M4(r,...e){return e.some(t=>P4(r,t))}function gY(r){let e,t=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(r.fragment);return t&&(e={startLineNumber:parseInt(t[1]),startColumn:t[2]?parseInt(t[2]):1,endLineNumber:t[4]?parseInt(t[4]):void 0,endColumn:t[4]?t[5]?parseInt(t[5]):1:void 0},r=r.with({fragment:""})),{selection:e,uri:r}}var F4=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},TI=function(r,e){return function(t,i){e(t,i,r)}},Bp=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},A4=class{constructor(e){this._commandService=e}open(e,t){return Bp(this,void 0,void 0,function*(){if(!P4(e,rt.command))return!1;if(!t?.allowCommands)return!0;typeof e=="string"&&(e=De.parse(e));let i=[];try{i=v1(decodeURIComponent(e.query))}catch{try{i=v1(e.query)}catch{}}return Array.isArray(i)||(i=[i]),yield this._commandService.executeCommand(e.path,...i),!0})}};A4=F4([TI(0,pi)],A4);var R4=class{constructor(e){this._editorService=e}open(e,t){return Bp(this,void 0,void 0,function*(){typeof e=="string"&&(e=De.parse(e));let{selection:i,uri:n}=gY(e);return e=n,e.scheme===rt.file&&(e=K$(e)),yield this._editorService.openCodeEditor({resource:e,options:Object.assign({selection:i,source:t?.fromUserGesture?w1.USER:w1.API},t?.editorOptions)},this._editorService.getFocusedCodeEditor(),t?.openToSide),!0})}};R4=F4([TI(0,Tt)],R4);var NI=class{constructor(e,t){this._openers=new fo,this._validators=new fo,this._resolvers=new fo,this._resolvedUriTargets=new wo(i=>i.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new fo,this._defaultExternalOpener={openExternal:i=>Bp(this,void 0,void 0,function*(){return M4(i,rt.http,rt.https)?rL(i):window.location.href=i,!0})},this._openers.push({open:(i,n)=>Bp(this,void 0,void 0,function*(){return n?.openExternal||M4(i,rt.mailto,rt.http,rt.https,rt.vsls)?(yield this._doOpenExternal(i,n),!0):!1})}),this._openers.push(new A4(t)),this._openers.push(new R4(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}registerValidator(e){return{dispose:this._validators.push(e)}}registerExternalUriResolver(e){return{dispose:this._resolvers.push(e)}}setDefaultExternalOpener(e){this._defaultExternalOpener=e}registerExternalOpener(e){return{dispose:this._externalOpeners.push(e)}}open(e,t){var i;return Bp(this,void 0,void 0,function*(){let n=typeof e=="string"?De.parse(e):e,o=(i=this._resolvedUriTargets.get(n))!==null&&i!==void 0?i:e;for(let s of this._validators)if(!(yield s.shouldOpen(o)))return!1;for(let s of this._openers)if(yield s.open(e,t))return!0;return!1})}resolveExternalUri(e,t){return Bp(this,void 0,void 0,function*(){for(let i of this._resolvers)try{let n=yield i.resolveExternalUri(e,t);if(n)return this._resolvedUriTargets.has(n.resolved)||this._resolvedUriTargets.set(n.resolved,e),n}catch{}throw new Error("Could not resolve external URI: "+e.toString())})}_doOpenExternal(e,t){return Bp(this,void 0,void 0,function*(){let i=typeof e=="string"?De.parse(e):e,n;try{n=(yield this.resolveExternalUri(i,t)).resolved}catch{n=i}let o;if(typeof e=="string"&&i.toString()===n.toString()?o=e:o=encodeURI(n.toString(!0)),t?.allowContributedOpeners){let s=typeof t?.allowContributedOpeners=="string"?t?.allowContributedOpeners:void 0;for(let a of this._externalOpeners)if(yield a.openExternal(o,{sourceUri:i,preferredOpenerId:s},Qe.None))return!0}return this._defaultExternalOpener.openExternal(o,{sourceUri:i},Qe.None)})}dispose(){this._validators.clear()}};NI=F4([TI(0,Tt),TI(1,pi)],NI);vu();Vo();ke();Ye();var Vi;(function(r){r[r.Hint=1]="Hint",r[r.Info=2]="Info",r[r.Warning=4]="Warning",r[r.Error=8]="Error"})(Vi||(Vi={}));(function(r){function e(s,a){return a-s}r.compare=e;let t=Object.create(null);t[r.Error]=g("sev.error","Error"),t[r.Warning]=g("sev.warning","Warning"),t[r.Info]=g("sev.info","Info");function i(s){return t[s]||""}r.toString=i;function n(s){switch(s){case Pi.Error:return r.Error;case Pi.Warning:return r.Warning;case Pi.Info:return r.Info;case Pi.Ignore:return r.Hint}}r.fromSeverity=n;function o(s){switch(s){case r.Error:return Pi.Error;case r.Warning:return Pi.Warning;case r.Info:return Pi.Info;case r.Hint:return Pi.Ignore}}r.toSeverity=o})(Vi||(Vi={}));var C1;(function(r){let e="";function t(n){return i(n,!0)}r.makeKey=t;function i(n,o){let s=[e];return n.source?s.push(n.source.replace("\xA6","\\\xA6")):s.push(e),n.code?typeof n.code=="string"?s.push(n.code.replace("\xA6","\\\xA6")):s.push(n.code.value.replace("\xA6","\\\xA6")):s.push(e),n.severity!==void 0&&n.severity!==null?s.push(Vi.toString(n.severity)):s.push(e),n.message&&o?s.push(n.message.replace("\xA6","\\\xA6")):s.push(e),n.startLineNumber!==void 0&&n.startLineNumber!==null?s.push(n.startLineNumber.toString()):s.push(e),n.startColumn!==void 0&&n.startColumn!==null?s.push(n.startColumn.toString()):s.push(e),n.endLineNumber!==void 0&&n.endLineNumber!==null?s.push(n.endLineNumber.toString()):s.push(e),n.endColumn!==void 0&&n.endColumn!==null?s.push(n.endColumn.toString()):s.push(e),s.push(e),s.join("\xA6")}r.makeKeyOptionalMessage=i})(C1||(C1={}));var ra=Fe("markerService");re();Us();pt();Gs();ns();ye();rs();Ee();Li();ia();var Dge=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},mY=function(r,e){return function(t,i){e(t,i,r)}},pY=class extends ${constructor(e){super();this.model=e,this._markersData=new Map,this._register(Ve(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(e,t){let i=[...this._markersData.keys()];this._markersData.clear();let n=this.model.deltaDecorations(i,t);for(let o=0;o<n.length;o++)this._markersData.set(n[o],e[o]);return i.length!==0||n.length!==0}getMarker(e){return this._markersData.get(e.id)}},PI=class extends ${constructor(e,t){super();this._markerService=t,this._onDidChangeMarker=this._register(new B),this._markerDecorations=new wo,e.getModels().forEach(i=>this._onModelAdded(i)),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(e=>e.dispose()),this._markerDecorations.clear()}getMarker(e,t){let i=this._markerDecorations.get(e);return i&&i.getMarker(t)||null}_handleMarkerChange(e){e.forEach(t=>{let i=this._markerDecorations.get(t);i&&this._updateDecorations(i)})}_onModelAdded(e){let t=new pY(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){let t=this._markerDecorations.get(e.uri);t&&(t.dispose(),this._markerDecorations.delete(e.uri)),(e.uri.scheme===rt.inMemory||e.uri.scheme===rt.internal||e.uri.scheme===rt.vscode)&&this._markerService&&this._markerService.read({resource:e.uri}).map(i=>i.owner).forEach(i=>this._markerService.remove(i,[e.uri]))}_updateDecorations(e){let t=this._markerService.read({resource:e.model.uri,take:500}),i=t.map(n=>({range:this._createDecorationRange(e.model,n),options:this._createDecorationOption(n)}));e.update(t,i)&&this._onDidChangeMarker.fire(e.model)}_createDecorationRange(e,t){let i=D.lift(t);if(t.severity===Vi.Hint&&!this._hasMarkerTag(t,1)&&!this._hasMarkerTag(t,2)&&(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),i=e.validateRange(i),i.isEmpty()){let n=e.getLineLastNonWhitespaceColumn(i.startLineNumber)||e.getLineMaxColumn(i.startLineNumber);if(n===1||i.endColumn>=n)return i;let o=e.getWordAtPosition(i.getStartPosition());o&&(i=new D(i.startLineNumber,o.startColumn,i.endLineNumber,o.endColumn))}else if(t.endColumn===Number.MAX_VALUE&&t.startColumn===1&&i.startLineNumber===i.endLineNumber){let n=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);n<i.endColumn&&(i=new D(i.startLineNumber,n,i.endLineNumber,i.endColumn),t.startColumn=n)}return i}_createDecorationOption(e){let t,i,n,o,s;switch(e.severity){case Vi.Hint:this._hasMarkerTag(e,2)?t=void 0:this._hasMarkerTag(e,1)?t="squiggly-unnecessary":t="squiggly-hint",n=0;break;case Vi.Warning:t="squiggly-warning",i=rn(_H),n=20,s={color:rn(AV),position:Rr.Inline};break;case Vi.Info:t="squiggly-info",i=rn(bH),n=10;break;case Vi.Error:default:t="squiggly-error",i=rn(pH),n=30,s={color:rn(MV),position:Rr.Inline};break}return e.tags&&(e.tags.indexOf(1)!==-1&&(o="squiggly-inline-unnecessary"),e.tags.indexOf(2)!==-1&&(o="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:i,position:Ar.Right},minimap:s,zIndex:n,inlineClassName:o}}_hasMarkerTag(e,t){return e.tags?e.tags.indexOf(t)>=0:!1}};PI=Dge([mY(0,ii),mY(1,ra)],PI);Y4();kt();pt();Ei();Ye();Et();io();Ei();Be();os();Be();os();Be();ln();var Mge=new RegExp(`(\\\\)?\\$\\((${to.iconNameExpression}(?:${to.iconModifierExpression})?)\\)`,"g");function ac(r){let e=new Array,t,i=0,n=0;for(;(t=Mge.exec(r))!==null;){n=t.index||0,e.push(r.substring(i,n)),i=(t.index||0)+t[0].length;let[,o,s]=t;e.push(o?`$(${s})`:Age({id:s}))}return i<r.length&&e.push(r.substring(i)),e}function Age(r){let e=le("span");return e.classList.add(...to.asClassNameArray(r)),e}Yn();Ee();re();Jo();var Rge={buttonBackground:X.fromHex("#0E639C"),buttonHoverBackground:X.fromHex("#006BB3"),buttonForeground:X.white},jI=class extends ${constructor(e,t){super();this._onDidClick=this._register(new B),this.options=t||Object.create(null),gr(this.options,Rge,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),e.appendChild(this._element),this._register(zt.addTarget(this._element)),[Re.CLICK,li.Tap].forEach(i=>{this._register(se(this._element,i,n=>{if(!this.enabled){Kt.stop(n);return}this._onDidClick.fire(n)}))}),this._register(se(this._element,Re.KEY_DOWN,i=>{let n=new $t(i),o=!1;this.enabled&&(n.equals(3)||n.equals(10))?(this._onDidClick.fire(i),o=!0):n.equals(9)&&(this._element.blur(),o=!0),o&&Kt.stop(n,!0)})),this._register(se(this._element,Re.MOUSE_OVER,i=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register(se(this._element,Re.MOUSE_OUT,i=>{this.applyStyles()})),this.focusTracker=this._register(Ic(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let e;this.options.secondary?e=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:e=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,e&&(this._element.style.backgroundColor=e)}style(e){this.buttonForeground=e.buttonForeground,this.buttonBackground=e.buttonBackground,this.buttonHoverBackground=e.buttonHoverBackground,this.buttonSecondaryForeground=e.buttonSecondaryForeground,this.buttonSecondaryBackground=e.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=e.buttonSecondaryHoverBackground,this.buttonBorder=e.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let e,t;this.options.secondary?(t=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",e=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(t=this.buttonForeground?this.buttonForeground.toString():"",e=this.buttonBackground?this.buttonBackground.toString():"");let i=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=t,this._element.style.backgroundColor=e,this._element.style.borderWidth=i?"1px":"",this._element.style.borderStyle=i?"solid":"",this._element.style.borderColor=i}}get element(){return this._element}set label(e){this._element.classList.add("monaco-text-button"),this.options.supportIcons?ql(this._element,...ac(e)):this._element.textContent=e,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=e)}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}};Be();Yn();Jo();He();var Fge={badgeBackground:X.fromHex("#4D4D4D"),badgeForeground:X.fromHex("#FFFFFF")},tw=class{constructor(e,t){this.count=0,this.options=t||Object.create(null),gr(this.options,Fge,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=ee(e,le(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){this.element.textContent=Ec(this.countFormat,this.count),this.element.title=Ec(this.titleFormat,this.count),this.applyStyles()}style(e){this.badgeBackground=e.badgeBackground,this.badgeForeground=e.badgeForeground,this.badgeBorder=e.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){let e=this.badgeBackground?this.badgeBackground.toString():"",t=this.badgeForeground?this.badgeForeground.toString():"",i=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}}};Be();nt();Yn();re();Jo();var IY="done",OY="active",Z4="infinite",G4="infinite-long-running",TY="discrete",Bge={progressBarBackground:X.fromHex("#0E70C0")},iw=class extends ${constructor(e,t){super();this.options=t||Object.create(null),gr(this.options,Bge,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new wt(()=>Ho(this.element),0)),this.longRunningScheduler=this._register(new wt(()=>this.infiniteLongRunning(),iw.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(e)}create(e){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(OY,Z4,G4,TY),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add(IY),this.element.classList.contains(Z4)?(this.bit.style.opacity="0",e?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",e?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(TY,IY,G4),this.element.classList.add(OY,Z4),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(G4)}getContainer(){return this.element}style(e){this.progressBarBackground=e.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){let e=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=e}}};iw.LONG_RUNNING_INFINITE_THRESHOLD=1e4;ss();jt();nt();Ei();ln();Ee();re();xt();ai();Be();var nw=class{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}},WI=new nw("id#");var X4={},jge=new nw("quick-input-button-icon-");function L1(r){if(!r)return;let e,t=r.dark.toString();return X4[t]?e=X4[t]:(e=jge.nextId(),T0(`.${e}`,`background-image: ${Ld(r.light||r.dark)}`),T0(`.vs-dark .${e}, .hc-black .${e}`,`background-image: ${Ld(r.dark)}`),X4[t]=e),e}var NY={ctrlCmd:!1,alt:!1},ow;(function(r){r[r.Blur=1]="Blur",r[r.Gesture=2]="Gesture",r[r.Other=3]="Other"})(ow||(ow={}));var ul;(function(r){r[r.NONE=0]="NONE",r[r.FIRST=1]="FIRST",r[r.SECOND=2]="SECOND",r[r.LAST=3]="LAST"})(ul||(ul={}));var PY=class{constructor(e){this.options=e}},lJe=new PY;ke();Be();os();il();Be();Be();function MY(r,e={}){let t=UI(e);return t.textContent=r,t}function AY(r,e={}){let t=UI(e);return FY(t,Wge(r,!!e.renderCodeSegments),e.actionHandler,e.renderCodeSegments),t}function UI(r){let e=r.inline?"span":"div",t=document.createElement(e);return r.className&&(t.className=r.className),t}var RY=class{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){let e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}};function FY(r,e,t,i){let n;if(e.type===2)n=document.createTextNode(e.content||"");else if(e.type===3)n=document.createElement("b");else if(e.type===4)n=document.createElement("i");else if(e.type===7&&i)n=document.createElement("code");else if(e.type===5&&t){let o=document.createElement("a");t.disposables.add(Bi(o,"click",s=>{t.callback(String(e.index),s)})),n=o}else e.type===8?n=document.createElement("br"):e.type===1&&(n=r);n&&r!==n&&r.appendChild(n),n&&Array.isArray(e.children)&&e.children.forEach(o=>{FY(n,o,t,i)})}function Wge(r,e){let t={type:1,children:[]},i=0,n=t,o=[],s=new RY(r);for(;!s.eos();){let a=s.next(),l=a==="\\"&&Q4(s.peek(),e)!==0;if(l&&(a=s.next()),!l&&Uge(a,e)&&a===s.peek()){s.advance(),n.type===2&&(n=o.pop());let c=Q4(a,e);if(n.type===c||n.type===5&&c===6)n=o.pop();else{let d={type:c,children:[]};c===5&&(d.index=i,i++),n.children.push(d),o.push(n),n=d}}else if(a===`
`)n.type===2&&(n=o.pop()),n.children.push({type:8});else if(n.type!==2){let c={type:2,content:a};n.children.push(c),o.push(n),n=c}else n.content+=a}return n.type===2&&(n=o.pop()),o.length,t}function Uge(r,e){return Q4(r,e)!==0}function Q4(r,e){switch(r){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return e?7:0;default:return 0}}xs();Yn();Ee();var J4=class{constructor(e,t=0,i=e.length,n=t-1){this.items=e,this.start=t,this.end=i,this.index=n}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}};var e5=class{constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}getHistory(){return this._elements}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(e){return this._history.has(e)}_onChange(){this._reduceToLimit();let e=this._elements;this._navigator=new J4(e,0,e.length,e.length)}_reduceToLimit(){let e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){let e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(let t of e)this._history.add(t)}get _elements(){let e=[];return this._history.forEach(t=>e.push(t)),e}};Jo();ke();var k1=le,zge={inputBackground:X.fromHex("#3C3C3C"),inputForeground:X.fromHex("#CCCCCC"),inputValidationInfoBorder:X.fromHex("#55AAFF"),inputValidationInfoBackground:X.fromHex("#063B49"),inputValidationWarningBorder:X.fromHex("#B89500"),inputValidationWarningBackground:X.fromHex("#352A05"),inputValidationErrorBorder:X.fromHex("#BE1100"),inputValidationErrorBackground:X.fromHex("#5A1D1D")},zI=class extends Ro{constructor(e,t,i){var n;super();this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new B),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=i||Object.create(null),gr(this.options,zge,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(n=this.options.tooltip)!==null&&n!==void 0?n:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=ee(e,k1(".monaco-inputbox.idle"));let o=this.options.flexibleHeight?"textarea":"input",s=ee(this.element,k1(".ibwrapper"));if(this.input=ee(s,k1(o+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=ee(s,k1("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new uy(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),ee(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(c=>this.input.scrollTop=c.scrollTop));let a=this._register(new oi(document,"selectionchange")),l=xe.filter(a.event,()=>{let c=document.getSelection();return c?.anchorNode===s});this._register(l(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new yr(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.input.title=e}setAriaLabel(e){this.ariaLabel=e,e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:O0(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return Vs(this.input)}set width(e){if(this.options.flexibleHeight&&this.options.flexibleWidth){let t=0;if(this.mirror){let i=parseFloat(this.mirror.style.paddingLeft||"")||0,n=parseFloat(this.mirror.style.paddingRight||"")||0;t=i+n}this.input.style.width=e-t+"px"}else this.input.style.width=e+"px";this.mirror&&(this.mirror.style.width=e+"px")}set paddingRight(e){this.input.style.width=`calc(100% - ${e}px)`,this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;let e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i})}showMessage(e,t){this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));let i=this.stylesForType(this.message.type);this.element.style.border=i.border?`1px solid ${i.border}`:"",(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),e?.type}stylesForType(e){switch(e){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e,t=()=>e.style.width=Vs(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:n=>{if(!this.message)return null;e=ee(n,k1(".monaco-inputbox-container")),t();let o={inline:!0,className:"monaco-inputbox-message"},s=this.message.formatContent?AY(this.message.content,o):MY(this.message.content,o);s.classList.add(this.classForType(this.message.type));let a=this.stylesForType(this.message.type);return s.style.backgroundColor=a.background?a.background.toString():"",s.style.color=a.foreground?a.foreground.toString():"",s.style.border=a.border?`1px solid ${a.border}`:"",ee(e,s),null},onHide:()=>{this.state="closed"},layout:t});let i;this.message.type===3?i=g("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?i=g("alertWarningMessage","Warning: {0}",this.message.content):i=g("alertInfoMessage","Info: {0}",this.message.content),Sn(i),this.state="open"}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;let e=this.value,i=e.charCodeAt(e.length-1)===10?" ":"";(e+i).replace(/\u000c/g,"")?this.mirror.textContent=e+i:this.mirror.innerText="\xA0",this.layout()}style(e){this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){let e=this.inputBackground?this.inputBackground.toString():"",t=this.inputForeground?this.inputForeground.toString():"",i=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.input.style.backgroundColor="inherit",this.input.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}layout(){if(!this.mirror)return;let e=this.cachedContentHeight;this.cachedContentHeight=O0(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){let t=this.inputElement,i=t.selectionStart,n=t.selectionEnd,o=t.value;i!==null&&n!==null&&(this.value=o.substr(0,i)+e+o.substr(n),t.setSelectionRange(i+1,i+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}},I1=class extends zI{constructor(e,t,i){let n=g({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21C5 plus a single space, then used as a hint where input field keeps history"]},"for history"),o=` or \u21C5 ${n}`,s=` (\u21C5 ${n})`;super(e,t,i);this.history=new e5(i.history,100);let a=()=>{if(i.showHistoryHint&&i.showHistoryHint()&&!this.placeholder.endsWith(o)&&!this.placeholder.endsWith(s)&&this.history.getHistory().length){let l=this.placeholder.endsWith(")")?o:s,c=this.placeholder+l;i.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=c:this.setPlaceHolder(c)}};this.observer=new MutationObserver((l,c)=>{l.forEach(d=>{d.target.textContent||a()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>a()),this.onblur(this.input,()=>{let l=c=>{if(this.placeholder.endsWith(c)){let d=this.placeholder.slice(0,this.placeholder.length-c.length);return i.showPlaceholderOnFocus?this.placeholder=d:this.setPlaceHolder(d),!0}else return!1};l(s)||l(o)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),e&&(this.value=e,Km(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,Km(this.value))}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}};re();var Vge=le,t5=class extends ${constructor(e){super();this.parent=e,this.onKeyDown=t=>se(this.inputBox.inputElement,Re.KEY_DOWN,i=>{t(new $t(i))}),this.onMouseDown=t=>se(this.inputBox.inputElement,Re.MOUSE_DOWN,i=>{t(new To(i))}),this.onDidChange=t=>this.inputBox.onDidChange(t),this.container=ee(this.parent,Vge(".quick-input-box")),this.inputBox=this._register(new zI(this.container,void 0))}get value(){return this.inputBox.value}set value(e){this.inputBox.value=e}select(e=null){this.inputBox.select(e)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.inputBox.setPlaceHolder(e)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(e){this.inputBox.setAriaLabel(e)}get password(){return this.inputBox.inputElement.type==="password"}set password(e){this.inputBox.inputElement.type=e?"password":"text"}setAttribute(e,t){this.inputBox.inputElement.setAttribute(e,t)}removeAttribute(e){this.inputBox.inputElement.removeAttribute(e)}showDecoration(e){e===Pi.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:e===Pi.Info?1:e===Pi.Warning?2:3,content:""})}stylesForType(e){return this.inputBox.stylesForType(e===Pi.Info?1:e===Pi.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(e){this.inputBox.style(e)}};Be();os();Be();Be();Jo();var oh=class{constructor(e,t){var i;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(i=t?.supportIcons)!==null&&i!==void 0?i:!1,this.domNode=ee(e,le("span.monaco-highlighted-label"))}get element(){return this.domNode}set(e,t=[],i="",n){e||(e=""),n&&(e=oh.escapeNewLines(e,t)),!(this.didEverRender&&this.text===e&&this.title===i&&Qo(this.highlights,t))&&(this.text=e,this.title=i,this.highlights=t,this.render())}render(){let e=[],t=0;for(let i of this.highlights){if(i.end===i.start)continue;if(t<i.start){let s=this.text.substring(t,i.start);e.push(le("span",void 0,...this.supportIcons?ac(s):[s])),t=i.end}let n=this.text.substring(i.start,i.end),o=le("span.highlight",void 0,...this.supportIcons?ac(n):[n]);i.extraClasses&&o.classList.add(...i.extraClasses),e.push(o),t=i.end}if(t<this.text.length){let i=this.text.substring(t);e.push(le("span",void 0,...this.supportIcons?ac(i):[i]))}ql(this.domNode,...e),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(e,t){let i=0,n=0;return e.replace(/\r\n|\r|\n/g,(o,s)=>{n=o===`\r
`?-1:0,s+=i;for(let a of t)a.end<=s||(a.start>=s&&(a.start+=n),a.end>=s&&(a.end+=n));return i+=n,"\u23CE"})}};Be();nt();Ei();ut();var Bo=class{constructor(e="",t=!1){var i,n,o;if(this.value=e,typeof this.value!="string")throw is("value");typeof t=="boolean"?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(i=t.isTrusted)!==null&&i!==void 0?i:void 0,this.supportThemeIcons=(n=t.supportThemeIcons)!==null&&n!==void 0?n:!1,this.supportHtml=(o=t.supportHtml)!==null&&o!==void 0?o:!1)}appendText(e,t=0){return this.value+=Hge(this.supportThemeIcons?lY(e):e).replace(/([ \t]+)/g,(i,n)=>"&nbsp;".repeat(n.length)).replace(/\>/gm,"\\>").replace(/\n/g,t===1?`\\
`:`

`),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+="\n```",this.value+=e,this.value+=`
`,this.value+=t,this.value+="\n```\n",this}};function xu(r){return i5(r)?!r.value:Array.isArray(r)?r.every(xu):!0}function i5(r){return r instanceof Bo?!0:r&&typeof r=="object"?typeof r.value=="string"&&(typeof r.isTrusted=="boolean"||r.isTrusted===void 0)&&(typeof r.supportThemeIcons=="boolean"||r.supportThemeIcons===void 0):!1}function Hge(r){return r.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}function VI(r){return r&&r.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function BY(r){let e=[],t=r.split("|").map(n=>n.trim());r=t[0];let i=t[1];if(i){let n=/height=(\d+)/.exec(i),o=/width=(\d+)/.exec(i),s=n?n[1]:"",a=o?o[1]:"",l=isFinite(parseInt(a)),c=isFinite(parseInt(s));l&&e.push(`width="${a}"`),c&&e.push(`height="${s}"`)}return{href:r,dimensions:e}}re();ai();ke();var n5=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};function jY(r,e){Nr(e)?r.title=DI(e):e?.markdownNotSupportedFallback?r.title=e.markdownNotSupportedFallback:r.removeAttribute("title")}var WY=class{constructor(e,t,i){this.hoverDelegate=e,this.target=t,this.fadeInAnimation=i}update(e,t){var i;return n5(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let n;if(e===void 0||Nr(e)||e instanceof HTMLElement)n=e;else if(!nb(e.markdown))n=(i=e.markdown)!==null&&i!==void 0?i:e.markdownNotSupportedFallback;else{this._hoverWidget||this.show(g("iconLabel.loading","Loading..."),t),this._cancellationTokenSource=new Ki;let o=this._cancellationTokenSource.token;if(n=yield e.markdown(o),n===void 0&&(n=e.markdownNotSupportedFallback),this.isDisposed||o.isCancellationRequested)return}this.show(n,t)})}show(e,t){let i=this._hoverWidget;if(this.hasContent(e)){let n={content:e,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!i};this._hoverWidget=this.hoverDelegate.showHover(n,t)}i?.dispose()}hasContent(e){return e?i5(e)?!!e.value:!0:!1}get isDisposed(){var e;return(e=this._hoverWidget)===null||e===void 0?void 0:e.isDisposed}dispose(){var e,t;(e=this._hoverWidget)===null||e===void 0||e.dispose(),(t=this._cancellationTokenSource)===null||t===void 0||t.dispose(!0),this._cancellationTokenSource=void 0}};function UY(r,e,t){let i,n,o=(d,h)=>{var u;d&&(n?.dispose(),n=void 0),h&&(i?.dispose(),i=void 0),(u=r.onDidHideHover)===null||u===void 0||u.call(r)},s=(d,h,u)=>new mn(()=>n5(this,void 0,void 0,function*(){(!n||n.isDisposed)&&(n=new WY(r,u||e,d>0),yield n.update(t,h))}),d),a=()=>{if(i)return;let d=new J,h=m=>o(!1,m.fromElement===e);d.add(se(e,Re.MOUSE_LEAVE,h,!0));let u=()=>o(!0,!0);d.add(se(e,Re.MOUSE_DOWN,u,!0));let f={targetElements:[e],dispose:()=>{}};if(r.placement===void 0||r.placement==="mouse"){let m=_=>f.x=_.x+10;d.add(se(e,Re.MOUSE_MOVE,m,!0))}d.add(s(r.delay,!1,f)),i=d},l=se(e,Re.MOUSE_OVER,a,!0);return{show:d=>{o(!1,!0),s(0,d)},hide:()=>{o(!0,!0)},update:d=>n5(this,void 0,void 0,function*(){t=d,yield n?.update(t)}),dispose:()=>{l.dispose(),o(!0,!0)}}}re();Jo();var HI=class{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set className(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}},Dg=class extends ${constructor(e,t){super();this.customHovers=new Map,this.domNode=this._register(new HI(ee(e,le(".monaco-icon-label")))),this.labelContainer=ee(this.domNode.element,le(".monaco-icon-label-container"));let i=ee(this.labelContainer,le("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new HI(ee(this.labelContainer,le("span.monaco-icon-description-container")))),t?.supportHighlights||t?.supportIcons?this.nameNode=new VY(i,!!t.supportIcons):this.nameNode=new zY(i),t?.supportDescriptionHighlights?this.descriptionNodeFactory=()=>new oh(ee(this.descriptionContainer.element,le("span.label-description")),{supportIcons:!!t.supportIcons}):this.descriptionNodeFactory=()=>this._register(new HI(ee(this.descriptionContainer.element,le("span.label-description")))),this.hoverDelegate=t?.hoverDelegate}get element(){return this.domNode.element}setLabel(e,t,i){let n=["monaco-icon-label"];i&&(i.extraClasses&&n.push(...i.extraClasses),i.italic&&n.push("italic"),i.strikethrough&&n.push("strikethrough")),this.domNode.className=n.join(" "),this.setupHover(i?.descriptionTitle?this.labelContainer:this.element,i?.title),this.nameNode.setLabel(e,i),(t||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof oh?(this.descriptionNode.set(t||"",i?i.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,i?.descriptionTitle)):(this.descriptionNode.textContent=t||"",this.setupHover(this.descriptionNode.element,i?.descriptionTitle||""),this.descriptionNode.empty=!t))}setupHover(e,t){let i=this.customHovers.get(e);if(i&&(i.dispose(),this.customHovers.delete(e)),!t){e.removeAttribute("title");return}if(!this.hoverDelegate)jY(e,t);else{let n=UY(this.hoverDelegate,e,t);n&&this.customHovers.set(e,n)}}dispose(){super.dispose();for(let e of this.customHovers.values())e.dispose();this.customHovers.clear()}},zY=class{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&Qo(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=ee(this.container,le("a.label-name",{id:t?.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let i=0;i<e.length;i++){let n=e[i],o=t?.domId&&`${t?.domId}_${i}`;ee(this.container,le("a.label-name",{id:o,"data-icon-label-count":e.length,"data-icon-label-index":i,role:"treeitem"},n)),i<e.length-1&&ee(this.container,le("span.label-separator",void 0,t?.separator||"/"))}}}};function $ge(r,e,t){if(!t)return;let i=0;return r.map(n=>{let o={start:i,end:i+n.length},s=t.map(a=>yo.intersect(o,a)).filter(a=>!yo.isEmpty(a)).map(({start:a,end:l})=>({start:a-i,end:l-i}));return i=o.end+e.length,s})}var VY=class{constructor(e,t){this.container=e,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&Qo(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new oh(ee(this.container,le("a.label-name",{id:t?.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(e,t?.matches,void 0,t?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;let i=t?.separator||"/",n=$ge(e,i,t?.matches);for(let o=0;o<e.length;o++){let s=e[o],a=n?n[o]:void 0,l=t?.domId&&`${t?.domId}_${o}`,c=le("a.label-name",{id:l,"data-icon-label-count":e.length,"data-icon-label-index":o,role:"treeitem"});new oh(ee(this.container,c),{supportIcons:this.supportIcons}).set(s,a,void 0,t?.labelEscapeNewLines),o<e.length-1&&ee(c,le("span.label-separator",void 0,i))}}}};Be();Jo();ke();var $I=le,O1=class{constructor(e,t,i){this.os=t,this.keyElements=new Set,this.options=i||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=ee(e,$I(".monaco-keybinding")),this.didEverRender=!1,e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t){this.didEverRender&&this.keybinding===e&&O1.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){if(this.clear(),this.keybinding){let[e,t]=this.keybinding.getParts();e&&this.renderPart(this.domNode,e,this.matches?this.matches.firstPart:null),t&&(ee(this.domNode,$I("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,t,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){nn(this.domNode),this.keyElements.clear()}renderPart(e,t,i){let n=Jv.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,n.ctrlKey,Boolean(i?.ctrlKey),n.separator),t.shiftKey&&this.renderKey(e,n.shiftKey,Boolean(i?.shiftKey),n.separator),t.altKey&&this.renderKey(e,n.altKey,Boolean(i?.altKey),n.separator),t.metaKey&&this.renderKey(e,n.metaKey,Boolean(i?.metaKey),n.separator);let o=t.keyLabel;o&&this.renderKey(e,o,Boolean(i?.keyCode),"")}renderKey(e,t,i,n){ee(e,this.createKeyElement(t,i?".highlight":"")),n&&ee(e,$I("span.monaco-keybinding-key-separator",void 0,n))}renderUnbound(e){ee(e,this.createKeyElement(g("unbound","Unbound")))}createKeyElement(e,t=""){let i=$I("span.monaco-keybinding-key"+t,void 0,e);return this.keyElements.add(i),i}style(e){this.labelBackground=e.keybindingLabelBackground,this.labelForeground=e.keybindingLabelForeground,this.labelBorder=e.keybindingLabelBorder,this.labelBottomBorder=e.keybindingLabelBottomBorder,this.labelShadow=e.keybindingLabelShadow,this.applyStyles()}applyStyles(){var e;if(this.element){for(let t of this.keyElements)this.labelBackground&&(t.style.backgroundColor=(e=this.labelBackground)===null||e===void 0?void 0:e.toString()),this.labelBorder&&(t.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(t.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(t.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(e,t){return e===t||!e&&!t?!0:!!e&&!!t&&Qo(e.firstPart,t.firstPart)&&Qo(e.chordPart,t.chordPart)}};ss();jt();ln();nt();var HY=new el(()=>{let r=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:r,collatorIsNumeric:r.resolvedOptions().numeric}}),het=new el(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),uet=new el(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function Kge(r,e,t=!1){let i=r||"",n=e||"",o=HY.value.collator.compare(i,n);return HY.value.collatorIsNumeric&&o===0&&i!==n?i<n?-1:1:o}function $Y(r,e,t){let i=r.toLowerCase(),n=e.toLowerCase(),o=qge(r,e,t);if(o)return o;let s=i.endsWith(t),a=n.endsWith(t);if(s!==a)return s?-1:1;let l=Kge(i,n);return l!==0?l:i.localeCompare(n)}function qge(r,e,t){let i=r.toLowerCase(),n=e.toLowerCase(),o=i.startsWith(t),s=n.startsWith(t);if(o!==s)return o?-1:1;if(o&&s){if(i.length<n.length)return-1;if(i.length>n.length)return 1}return 0}Ee();re();xt();ai();ke();var KY=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Yge=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},rh=le,qY=class{constructor(e){this.hidden=!1,this._onChecked=new B,this.onChecked=this._onChecked.event,Object.assign(this,e)}get checked(){return!!this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire(e))}dispose(){this._onChecked.dispose()}},rw=class{get templateId(){return rw.ID}renderTemplate(e){let t=Object.create(null);t.toDisposeElement=[],t.toDisposeTemplate=[],t.entry=ee(e,rh(".quick-input-list-entry"));let i=ee(t.entry,rh("label.quick-input-list-label"));t.toDisposeTemplate.push(Bi(i,Re.CLICK,c=>{t.checkbox.offsetParent||c.preventDefault()})),t.checkbox=ee(i,rh("input.quick-input-list-checkbox")),t.checkbox.type="checkbox",t.toDisposeTemplate.push(Bi(t.checkbox,Re.CHANGE,c=>{t.element.checked=t.checkbox.checked}));let n=ee(i,rh(".quick-input-list-rows")),o=ee(n,rh(".quick-input-list-row")),s=ee(n,rh(".quick-input-list-row"));t.label=new Dg(o,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});let a=ee(o,rh(".quick-input-list-entry-keybinding"));t.keybinding=new O1(a,ur);let l=ee(s,rh(".quick-input-list-label-meta"));return t.detail=new Dg(l,{supportHighlights:!0,supportIcons:!0}),t.separator=ee(t.entry,rh(".quick-input-list-separator")),t.actionBar=new yr(t.entry),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.push(t.actionBar),t}renderElement(e,t,i){i.toDisposeElement=dt(i.toDisposeElement),i.element=e,i.checkbox.checked=e.checked,i.toDisposeElement.push(e.onChecked(c=>i.checkbox.checked=c));let{labelHighlights:n,descriptionHighlights:o,detailHighlights:s}=e,a=Object.create(null);a.matches=n||[],a.descriptionTitle=e.saneDescription,a.descriptionMatches=o||[],a.extraClasses=e.item.iconClasses,a.italic=e.item.italic,a.strikethrough=e.item.strikethrough,i.label.setLabel(e.saneLabel,e.saneDescription,a),i.keybinding.set(e.item.keybinding),e.saneDetail&&i.detail.setLabel(e.saneDetail,void 0,{matches:s,title:e.saneDetail}),e.separator&&e.separator.label?(i.separator.textContent=e.separator.label,i.separator.style.display=""):i.separator.style.display="none",i.entry.classList.toggle("quick-input-list-separator-border",!!e.separator),i.actionBar.clear();let l=e.item.buttons;l&&l.length?(i.actionBar.push(l.map((c,d)=>{let h=c.iconClass||(c.iconPath?L1(c.iconPath):void 0);c.alwaysVisible&&(h=h?`${h} always-visible`:"always-visible");let u=new Kn(`id-${d}`,"",h,!0,()=>Yge(this,void 0,void 0,function*(){e.fireButtonTriggered({button:c,item:e.item})}));return u.tooltip=c.tooltip||"",u}),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions")}disposeElement(e,t,i){i.toDisposeElement=dt(i.toDisposeElement)}disposeTemplate(e){e.toDisposeElement=dt(e.toDisposeElement),e.toDisposeTemplate=dt(e.toDisposeTemplate)}};rw.ID="listelement";var YY=class{getHeight(e){return e.saneDetail?44:22}getTemplateId(e){return rw.ID}},Bn;(function(r){r[r.First=1]="First",r[r.Second=2]="Second",r[r.Last=3]="Last",r[r.Next=4]="Next",r[r.Previous=5]="Previous",r[r.NextPage=6]="NextPage",r[r.PreviousPage=7]="PreviousPage"})(Bn||(Bn={}));var T1=class{constructor(e,t,i){this.parent=e,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new B,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new B,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new B,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new B,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new B,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new B,this.onKeyDown=this._onKeyDown.event,this._onLeave=new B,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=t,this.container=ee(this.parent,rh(".quick-input-list"));let n=new YY,o=new ZY;this.list=i.createList("QuickInput",this.container,n,[new rw],{identityProvider:{getId:s=>s.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:o}),this.list.getHTMLElement().id=t,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(s=>{let a=new $t(s);switch(a.keyCode){case 10:this.toggleCheckbox();break;case 31:(Je?s.metaKey:s.ctrlKey)&&this.list.setFocus(Do(this.list.length));break;case 16:{let l=this.list.getFocus();l.length===1&&l[0]===0&&this._onLeave.fire();break}case 18:{let l=this.list.getFocus();l.length===1&&l[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(a)})),this.disposables.push(this.list.onMouseDown(s=>{s.browserEvent.button!==2&&s.browserEvent.preventDefault()})),this.disposables.push(se(this.container,Re.CLICK,s=>{(s.x||s.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(s=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(s=>{typeof s.index=="number"&&(s.browserEvent.preventDefault(),this.list.setSelection([s.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return xe.map(this.list.onDidChangeFocus,e=>e.elements.map(t=>t.item))}get onDidChangeSelection(){return xe.map(this.list.onDidChangeSelection,e=>({items:e.elements.map(t=>t.item),event:e.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(e,t=!0){for(let i=0,n=e.length;i<n;i++){let o=e[i];if(!o.hidden)if(o.checked)t=!0;else return!1}return t}getCheckedCount(){let e=0,t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].checked&&e++;return e}getVisibleCount(){let e=0,t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].hidden||e++;return e}setAllVisibleChecked(e){try{this._fireCheckedEvents=!1,this.elements.forEach(t=>{t.hidden||(t.checked=e)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(e){this.elementDisposables=dt(this.elementDisposables);let t=i=>this.fireButtonTriggered(i);this.inputElements=e,this.elements=e.reduce((i,n,o)=>{var s,a,l;if(n.type!=="separator"){let c=o&&e[o-1],d=n.label&&n.label.replace(/\r?\n/g," "),h=n.meta&&n.meta.replace(/\r?\n/g," "),u=n.description&&n.description.replace(/\r?\n/g," "),f=n.detail&&n.detail.replace(/\r?\n/g," "),m=n.ariaLabel||[d,u,f].map(w=>G6(w)).filter(w=>!!w).join(", "),_=this.parent.classList.contains("show-checkboxes");i.push(new qY({hasCheckbox:_,index:o,item:n,saneLabel:d,saneMeta:h,saneAriaLabel:m,saneDescription:u,saneDetail:f,labelHighlights:(s=n.highlights)===null||s===void 0?void 0:s.label,descriptionHighlights:(a=n.highlights)===null||a===void 0?void 0:a.description,detailHighlights:(l=n.highlights)===null||l===void 0?void 0:l.detail,checked:!1,separator:c&&c.type==="separator"?c:void 0,fireButtonTriggered:t}))}return i},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(i=>i.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((i,n,o)=>(i.set(n.item,o),i),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(e=>e.item)}setFocusedElements(e){if(this.list.setFocus(e.filter(t=>this.elementsToIndexes.has(t)).map(t=>this.elementsToIndexes.get(t))),e.length>0){let t=this.list.getFocus()[0];typeof t=="number"&&this.list.reveal(t)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){this.list.setSelection(e.filter(t=>this.elementsToIndexes.has(t)).map(t=>this.elementsToIndexes.get(t)))}getCheckedElements(){return this.elements.filter(e=>e.checked).map(e=>e.item)}setCheckedElements(e){try{this._fireCheckedEvents=!1;let t=new Set;for(let i of e)t.add(i);for(let i of this.elements)i.checked=t.has(i.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(e){this.list.getHTMLElement().style.pointerEvents=e?"":"none"}focus(e){if(!this.list.length)return;switch(e===Bn.Next&&this.list.getFocus()[0]===this.list.length-1&&(e=Bn.First),e===Bn.Previous&&this.list.getFocus()[0]===0&&(e=Bn.Last),e===Bn.Second&&this.list.length<2&&(e=Bn.First),e){case Bn.First:this.list.focusFirst();break;case Bn.Second:this.list.focusNth(1);break;case Bn.Last:this.list.focusLast();break;case Bn.Next:this.list.focusNext();break;case Bn.Previous:this.list.focusPrevious();break;case Bn.NextPage:this.list.focusNextPage();break;case Bn.PreviousPage:this.list.focusPreviousPage();break}let t=this.list.getFocus()[0];typeof t=="number"&&this.list.reveal(t)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(e){this.list.getHTMLElement().style.maxHeight=e?`calc(${Math.floor(e/44)*44}px)`:"",this.list.layout()}filter(e){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(e=e.trim(),!e||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(i=>{i.labelHighlights=void 0,i.descriptionHighlights=void 0,i.detailHighlights=void 0,i.hidden=!1;let n=i.index&&this.inputElements[i.index-1];i.separator=n&&n.type==="separator"?n:void 0});else{let i;this.elements.forEach(n=>{let o=this.matchOnLabel?za(p1(e,m1(n.saneLabel))):void 0,s=this.matchOnDescription?za(p1(e,m1(n.saneDescription||""))):void 0,a=this.matchOnDetail?za(p1(e,m1(n.saneDetail||""))):void 0,l=this.matchOnMeta?za(p1(e,m1(n.saneMeta||""))):void 0;if(o||s||a||l?(n.labelHighlights=o,n.descriptionHighlights=s,n.detailHighlights=a,n.hidden=!1):(n.labelHighlights=void 0,n.descriptionHighlights=void 0,n.detailHighlights=void 0,n.hidden=!n.item.alwaysShow),n.separator=void 0,!this.sortByLabel){let c=n.index&&this.inputElements[n.index-1];i=c&&c.type==="separator"?c:i,i&&!n.hidden&&(n.separator=i,i=void 0)}})}let t=this.elements.filter(i=>!i.hidden);if(this.sortByLabel&&e){let i=e.toLowerCase();t.sort((n,o)=>Zge(n,o,i))}return this.elementsToIndexes=t.reduce((i,n,o)=>(i.set(n.item,o),i),new Map),this.list.splice(0,this.list.length,t),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(t.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;let e=this.list.getFocusedElements(),t=this.allVisibleChecked(e);for(let i of e)i.checked=!t}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(e){this.container.style.display=e?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=dt(this.elementDisposables),this.disposables=dt(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(e){this._onButtonTriggered.fire(e)}style(e){this.list.style(e)}};KY([En],T1.prototype,"onDidChangeFocus",null);KY([En],T1.prototype,"onDidChangeSelection",null);function Zge(r,e,t){let i=r.labelHighlights||[],n=e.labelHighlights||[];return i.length&&!n.length?-1:!i.length&&n.length?1:i.length===0&&n.length===0?0:$Y(r.saneLabel,e.saneLabel,t)}var ZY=class{getWidgetAriaLabel(){return g("quickInput","Quick Input")}getAriaLabel(e){return e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(e){return e.hasCheckbox?"checkbox":"option"}isChecked(e){if(!!e.hasCheckbox)return{value:e.checked,onDidChange:e.onChecked}}};var GY=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},Na=le,o5={iconClass:p.quickInputBack.classNames,tooltip:g("quickInput.back","Back"),handle:-1},N1=class extends ${constructor(e){super();this.ui=e,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=N1.noPromptMessage,this._severity=Pi.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new B),this.onDidHideEmitter=this._register(new B),this.onDisposeEmitter=this._register(new B),this.visibleDisposables=this._register(new J),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){let t=this._ignoreFocusOut!==e&&!Jr;this._ignoreFocusOut=e&&!Jr,t&&this.update()}get buttons(){return this._buttons}set buttons(e){this._buttons=e,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(e=>{this.buttons.indexOf(e)!==-1&&this.onDidTriggerButtonEmitter.fire(e)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(e=ow.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}update(){if(!this.visible)return;let e=this.getTitle();e&&this.ui.title.textContent!==e?this.ui.title.textContent=e:!e&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");let t=this.getDescription();if(this.ui.description1.textContent!==t&&(this.ui.description1.textContent=t),this.ui.description2.textContent!==t&&(this.ui.description2.textContent=t),this.busy&&!this.busyDelay&&(this.busyDelay=new mn,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();let n=this.buttons.filter(s=>s===o5);this.ui.leftActionBar.push(n.map((s,a)=>{let l=new Kn(`id-${a}`,"",s.iconClass||L1(s.iconPath),!0,()=>GY(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(s)}));return l.tooltip=s.tooltip||"",l}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();let o=this.buttons.filter(s=>s!==o5);this.ui.rightActionBar.push(o.map((s,a)=>{let l=new Kn(`id-${a}`,"",s.iconClass||L1(s.iconPath),!0,()=>GY(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(s)}));return l.tooltip=s.tooltip||"",l}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);let i=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==i&&(this._lastValidationMessage=i,ql(this.ui.message,...ac(i))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?g("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e!==Pi.Ignore){let t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?`${t.foreground}`:"",this.ui.message.style.backgroundColor=t.background?`${t.background}`:"",this.ui.message.style.border=t.border?`1px solid ${t.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}};N1.noPromptMessage=g("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");var sw=class extends N1{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new B),this.onWillAcceptEmitter=this._register(new B),this.onDidAcceptEmitter=this._register(new B),this.onDidCustomEmitter=this._register(new B),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?ul.NONE:ul.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new B),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new B),this.onDidTriggerItemButtonEmitter=this._register(new B),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this.doSetValue(e)}doSetValue(e,t){this._value!==e&&(this._value=e,t||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(e){this.ui.list.scrollTop=e}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(e){this._autoFocusOnList=e,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?NY:this.ui.keyMods}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Bn.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{this.doSetValue(e,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(e=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(e=>{switch(e.keyCode){case 18:this.ui.list.focus(Bn.Next),this.canSelectMany&&this.ui.list.domFocus(),Kt.stop(e,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Bn.Previous):this.ui.list.focus(Bn.Last),this.canSelectMany&&this.ui.list.domFocus(),Kt.stop(e,!0);break;case 12:this.ui.list.focus(Bn.NextPage),this.canSelectMany&&this.ui.list.domFocus(),Kt.stop(e,!0);break;case 11:this.ui.list.focus(Bn.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),Kt.stop(e,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(e.ctrlKey||e.metaKey)&&!e.shiftKey&&!e.altKey&&(this.ui.list.focus(Bn.First),Kt.stop(e,!0));break;case 13:(e.ctrlKey||e.metaKey)&&!e.shiftKey&&!e.altKey&&(this.ui.list.focus(Bn.Last),Kt.stop(e,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&Xn(e,this._activeItems,(t,i)=>t===i)||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:e,event:t})=>{if(this.canSelectMany){e.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&Xn(e,this._selectedItems,(i,n)=>i===n)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(t instanceof MouseEvent&&t.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(e=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&Xn(e,this._selectedItems,(t,i)=>t===i)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(e=>this.onDidTriggerItemButtonEmitter.fire(e))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return se(this.ui.container,Re.KEY_UP,e=>{if(this.canSelectMany||!this._quickNavigate)return;let t=new $t(e),i=t.keyCode;this._quickNavigate.keybindings.some(s=>{let[a,l]=s.getParts();return l?!1:a.shiftKey&&i===4?!(t.ctrlKey||t.altKey||t.metaKey):!!(a.altKey&&i===6||a.ctrlKey&&i===5||a.metaKey&&i===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;let e=this.keepScrollPosition?this.scrollTop:0,t=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",t&&!this.description);let i={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!t,progressBar:!t,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(i),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let n=this.ariaLabel||this.placeholder||sw.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==n&&(this.ui.inputBox.ariaLabel=n),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case ul.NONE:this._itemActivation=ul.FIRST;break;case ul.SECOND:this.ui.list.focus(Bn.Second),this._itemActivation=ul.FIRST;break;case ul.LAST:this.ui.list.focus(Bn.Last),this._itemActivation=ul.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),i.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Bn.First)),this.keepScrollPosition&&(this.scrollTop=e)}};sw.DEFAULT_ARIA_LABEL=g("quickInputBox.ariaLabel","Type to narrow down results.");var aw=class extends ${constructor(e){super();this.options=e,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new B),this.onDidCustomEmitter=this._register(new B),this.onDidTriggerButtonEmitter=this._register(new B),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new B),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new B),this.onHide=this.onHideEmitter.event,this.idPrefix=e.idPrefix,this.parentElement=e.container,this.styles=e.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){let e=t=>{this.keyMods.ctrlCmd=t.ctrlKey||t.metaKey,this.keyMods.alt=t.altKey};this._register(se(window,Re.KEY_DOWN,e,!0)),this._register(se(window,Re.KEY_UP,e,!0)),this._register(se(window,Re.MOUSE_DOWN,e,!0))}getUI(){if(this.ui)return this.ui;let e=ee(this.parentElement,Na(".quick-input-widget.show-file-icons"));e.tabIndex=-1,e.style.display="none";let t=po(e),i=ee(e,Na(".quick-input-titlebar")),n=this._register(new yr(i));n.domNode.classList.add("quick-input-left-action-bar");let o=ee(i,Na(".quick-input-title")),s=this._register(new yr(i));s.domNode.classList.add("quick-input-right-action-bar");let a=ee(e,Na(".quick-input-description")),l=ee(e,Na(".quick-input-header")),c=ee(l,Na("input.quick-input-check-all"));c.type="checkbox",this._register(Bi(c,Re.CHANGE,Z=>{let q=c.checked;I.setAllVisibleChecked(q)})),this._register(se(c,Re.CLICK,Z=>{(Z.x||Z.y)&&f.setFocus()}));let d=ee(l,Na(".quick-input-description")),h=ee(l,Na(".quick-input-and-message")),u=ee(h,Na(".quick-input-filter")),f=this._register(new t5(u));f.setAttribute("aria-describedby",`${this.idPrefix}message`);let m=ee(u,Na(".quick-input-visible-count"));m.setAttribute("aria-live","polite"),m.setAttribute("aria-atomic","true");let _=new tw(m,{countFormat:g({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),w=ee(u,Na(".quick-input-count"));w.setAttribute("aria-live","polite");let y=new tw(w,{countFormat:g({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),C=ee(l,Na(".quick-input-action")),E=new jI(C);E.label=g("ok","OK"),this._register(E.onDidClick(Z=>{this.onDidAcceptEmitter.fire()}));let L=ee(l,Na(".quick-input-action")),k=new jI(L);k.label=g("custom","Custom"),this._register(k.onDidClick(Z=>{this.onDidCustomEmitter.fire()}));let M=ee(h,Na(`#${this.idPrefix}message.quick-input-message`)),I=this._register(new T1(e,this.idPrefix+"list",this.options));this._register(I.onChangedAllVisibleChecked(Z=>{c.checked=Z})),this._register(I.onChangedVisibleCount(Z=>{_.setCount(Z)})),this._register(I.onChangedCheckedCount(Z=>{y.setCount(Z)})),this._register(I.onLeave(()=>{setTimeout(()=>{f.setFocus(),this.controller instanceof sw&&this.controller.canSelectMany&&I.clearFocus()},0)})),this._register(I.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));let T=new iw(e);T.getContainer().classList.add("quick-input-progress");let R=Ic(e);return this._register(R),this._register(se(e,Re.FOCUS,Z=>{this.previousFocusElement=Z.relatedTarget instanceof HTMLElement?Z.relatedTarget:void 0},!0)),this._register(R.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(ow.Blur),this.previousFocusElement=void 0})),this._register(se(e,Re.FOCUS,Z=>{f.setFocus()})),this._register(se(e,Re.KEY_DOWN,Z=>{let q=new $t(Z);switch(q.keyCode){case 3:Kt.stop(Z,!0),this.onDidAcceptEmitter.fire();break;case 9:Kt.stop(Z,!0),this.hide(ow.Gesture);break;case 2:if(!q.altKey&&!q.ctrlKey&&!q.metaKey){let te=[".action-label.codicon"];e.classList.contains("show-checkboxes")?te.push("input"):te.push("input[type=text]"),this.getUI().list.isDisplayed()&&te.push(".monaco-list");let ne=e.querySelectorAll(te.join(", "));q.shiftKey&&q.target===ne[0]?(Kt.stop(Z,!0),ne[ne.length-1].focus()):!q.shiftKey&&q.target===ne[ne.length-1]&&(Kt.stop(Z,!0),ne[0].focus())}break}})),this.ui={container:e,styleSheet:t,leftActionBar:n,titleBar:i,title:o,description1:a,description2:d,rightActionBar:s,checkAll:c,filterContainer:u,inputBox:f,visibleCountContainer:m,visibleCount:_,countContainer:w,count:y,okContainer:C,ok:E,message:M,customButtonContainer:L,customButton:k,list:I,progressBar:T,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:Z=>this.show(Z),hide:()=>this.hide(),setVisibilities:Z=>this.setVisibilities(Z),setComboboxAccessibility:Z=>this.setComboboxAccessibility(Z),setEnabled:Z=>this.setEnabled(Z),setContextKey:Z=>this.options.setContextKey(Z)},this.updateStyles(),this.ui}pick(e,t={},i=Qe.None){return new Promise((n,o)=>{let s=d=>{s=n,t.onKeyMods&&t.onKeyMods(a.keyMods),n(d)};if(i.isCancellationRequested){s(void 0);return}let a=this.createQuickPick(),l,c=[a,a.onDidAccept(()=>{if(a.canSelectMany)s(a.selectedItems.slice()),a.hide();else{let d=a.activeItems[0];d&&(s(d),a.hide())}}),a.onDidChangeActive(d=>{let h=d[0];h&&t.onDidFocus&&t.onDidFocus(h)}),a.onDidChangeSelection(d=>{if(!a.canSelectMany){let h=d[0];h&&(s(h),a.hide())}}),a.onDidTriggerItemButton(d=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton(Object.assign(Object.assign({},d),{removeItem:()=>{let h=a.items.indexOf(d.item);if(h!==-1){let u=a.items.slice(),f=u.splice(h,1),m=a.activeItems.filter(w=>w!==f[0]),_=a.keepScrollPosition;a.keepScrollPosition=!0,a.items=u,m&&(a.activeItems=m),a.keepScrollPosition=_}}}))),a.onDidChangeValue(d=>{l&&!d&&(a.activeItems.length!==1||a.activeItems[0]!==l)&&(a.activeItems=[l])}),i.onCancellationRequested(()=>{a.hide()}),a.onDidHide(()=>{dt(c),s(void 0)})];a.title=t.title,a.canSelectMany=!!t.canPickMany,a.placeholder=t.placeHolder,a.ignoreFocusOut=!!t.ignoreFocusLost,a.matchOnDescription=!!t.matchOnDescription,a.matchOnDetail=!!t.matchOnDetail,a.matchOnLabel=t.matchOnLabel===void 0||t.matchOnLabel,a.autoFocusOnList=t.autoFocusOnList===void 0||t.autoFocusOnList,a.quickNavigate=t.quickNavigate,a.contextKey=t.contextKey,a.busy=!0,Promise.all([e,t.activeItem]).then(([d,h])=>{l=h,a.busy=!1,a.items=d,a.canSelectMany&&(a.selectedItems=d.filter(u=>u.type!=="separator"&&u.picked)),l&&(a.activeItems=[l])}),a.show(),Promise.resolve(e).then(void 0,d=>{o(d),a.hide()})})}createQuickPick(){let e=this.getUI();return new sw(e)}show(e){let t=this.getUI();this.onShowEmitter.fire();let i=this.controller;this.controller=e,i&&i.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description1.textContent="",t.description2.textContent="",t.rightActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(Pi.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),ql(t.message),t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),t.inputBox.ariaLabel="";let n=this.options.backKeybindingLabel();o5.tooltip=n?g("quickInput.backWithKeybinding","Back ({0})",n):g("quickInput.back","Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus()}setVisibilities(e){let t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=e.description&&!(e.inputBox||e.checkAll)?"":"none",t.checkAll.style.display=e.checkAll?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.display(!!e.list),t.container.classList[e.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(e){if(e!==this.comboboxAccessibility){let t=this.getUI();this.comboboxAccessibility=e,this.comboboxAccessibility?(t.inputBox.setAttribute("role","combobox"),t.inputBox.setAttribute("aria-haspopup","true"),t.inputBox.setAttribute("aria-autocomplete","list"),t.inputBox.setAttribute("aria-activedescendant",t.list.getActiveDescendant()||"")):(t.inputBox.removeAttribute("role"),t.inputBox.removeAttribute("aria-haspopup"),t.inputBox.removeAttribute("aria-autocomplete"),t.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(let t of this.getUI().leftActionBar.viewItems)t.getAction().enabled=e;for(let t of this.getUI().rightActionBar.viewItems)t.getAction().enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(e){var t;let i=this.controller;if(i){let n=!(!((t=this.ui)===null||t===void 0)&&t.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!n){let o=this.previousFocusElement;for(;o&&!o.offsetParent;)o=za(o.parentElement);o?.offsetParent?(o.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}i.didHide(e)}}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;let e=this.ui.container.style,t=Math.min(this.dimension.width*.62,aw.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){let{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:i,contrastBorder:n,widgetShadow:o}=this.styles.widget;this.ui.titleBar.style.backgroundColor=e?e.toString():"",this.ui.container.style.backgroundColor=t?t.toString():"",this.ui.container.style.color=i?i.toString():"",this.ui.container.style.border=n?`1px solid ${n}`:"",this.ui.container.style.boxShadow=o?`0 0 8px 2px ${o}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);let s=[];this.styles.list.pickerGroupBorder&&s.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&s.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(s.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&s.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&s.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&s.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&s.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&s.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),s.push("}"));let a=s.join(`
`);a!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=a)}}};aw.MAX_WIDTH=600;Et();Ye();Be();jt();Ei();Ee();re();Be();os();xs();var r5=class{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach(n=>n.splice(e,t,i))}};jt();nt();Yn();Ee();re();Gv();Jo();xt();ai();var Du=class extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}};Oo();Be();jt();nt();Ee();re();Jo();function XY(r,e){let t=[];for(let i of e){if(r.start>=i.range.end)continue;if(r.end<i.range.start)break;let n=yo.intersect(r,i.range);yo.isEmpty(n)||t.push({range:n,size:i.size})}return t}function KI({start:r,end:e},t){return{start:r+t,end:e+t}}function Gge(r){let e=[],t=null;for(let i of r){let n=i.range.start,o=i.range.end,s=i.size;if(t&&s===t.size){t.range.end=o;continue}t={range:{start:n,end:o},size:s},e.push(t)}return e}function Xge(...r){return Gge(r.reduce((e,t)=>e.concat(t),[]))}var qI=class{constructor(){this.groups=[],this._size=0}splice(e,t,i=[]){let n=i.length-t,o=XY({start:0,end:e},this.groups),s=XY({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(l=>({range:KI(l.range,n),size:l.size})),a=i.map((l,c)=>({range:{start:e+c,end:e+c+1},size:l.size}));this.groups=Xge(o,a,s),this._size=this.groups.reduce((l,c)=>l+c.size*(c.range.end-c.range.start),0)}get count(){let e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;let t=0,i=0;for(let n of this.groups){let o=n.range.end-n.range.start,s=i+o*n.size;if(e<s)return t+Math.floor((e-i)/n.size);t+=o,i=s}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(let n of this.groups){let o=n.range.end-n.range.start,s=i+o;if(e<s)return t+(e-i)*n.size;t+=o*n.size,i=s}return-1}};Be();function Qge(r){try{r.parentElement&&r.parentElement.removeChild(r)}catch{}}var s5=class{constructor(e){this.renderers=e,this.cache=new Map}alloc(e){let t=this.getTemplateCache(e).pop();if(!t){let i=le(".monaco-list-row"),o=this.getRenderer(e).renderTemplate(i);t={domNode:i,templateId:e,templateData:o}}return t}release(e){!e||this.releaseRow(e)}releaseRow(e){let{domNode:t,templateId:i}=e;t&&(t.classList.remove("scrolling"),Qge(t)),this.getTemplateCache(i).push(e)}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach((e,t)=>{for(let i of e)this.getRenderer(t).disposeTemplate(i.templateData),i.templateData=null}),this.cache.clear()}getRenderer(e){let t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}};var Up=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},sh={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(r){return[r]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0},Lg=class{constructor(e){this.elements=e}update(){}getData(){return this.elements}},QY=class{constructor(e){this.elements=e}update(){}getData(){return this.elements}},JY=class{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){let i=e.files.item(t);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}};function Jge(r,e){return Array.isArray(r)&&Array.isArray(e)?Xn(r,e):r===e}var eZ=class{constructor(e){e?.getSetSize?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(t,i,n)=>n,e?.getPosInSet?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(t,i)=>i+1,e?.getRole?this.getRole=e.getRole.bind(e):this.getRole=t=>"listitem",e?.isChecked?this.isChecked=e.isChecked.bind(e):this.isChecked=t=>{}}},fl=class{constructor(e,t,i,n=sh){if(this.virtualDelegate=t,this.domId=`list_id_${++fl.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new pr(50),this.splicing=!1,this.dragOverAnimationStopDisposable=$.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=$.None,this.onDragLeaveTimeout=$.None,this.disposables=new J,this._onDidChangeContentHeight=new B,this._horizontalScrolling=!1,n.horizontalScrolling&&n.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new qI;for(let s of i)this.renderers.set(s.templateId,s);this.cache=this.disposables.add(new s5(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof n.mouseSupport=="boolean"?n.mouseSupport:!0),this._horizontalScrolling=vc(n,s=>s.horizontalScrolling,sh.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof n.additionalScrollHeight>"u"?0:n.additionalScrollHeight,this.accessibilityProvider=new eZ(n.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",vc(n,s=>s.transformOptimization,sh.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(zt.addTarget(this.rowsContainer)),this.scrollable=new Fd({forceIntegerValues:!0,smoothScrollDuration:vc(n,s=>s.smoothScrolling,!1)?125:0,scheduleAtNextAnimationFrame:s=>Es(s)}),this.scrollableElement=this.disposables.add(new gp(this.rowsContainer,{alwaysConsumeMouseWheel:vc(n,s=>s.alwaysConsumeMouseWheel,sh.alwaysConsumeMouseWheel),horizontal:1,vertical:vc(n,s=>s.verticalScrollMode,sh.verticalScrollMode),useShadows:vc(n,s=>s.useShadows,sh.useShadows),mouseWheelScrollSensitivity:n.mouseWheelScrollSensitivity,fastScrollSensitivity:n.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(se(this.rowsContainer,li.Change,s=>this.onTouchChange(s))),this.disposables.add(se(this.scrollableElement.getDomNode(),"scroll",s=>s.target.scrollTop=0)),this.disposables.add(se(this.domNode,"dragover",s=>this.onDragOver(this.toDragEvent(s)))),this.disposables.add(se(this.domNode,"drop",s=>this.onDrop(this.toDragEvent(s)))),this.disposables.add(se(this.domNode,"dragleave",s=>this.onDragLeave(this.toDragEvent(s)))),this.disposables.add(se(this.domNode,"dragend",s=>this.onDragEnd(s))),this.setRowLineHeight=vc(n,s=>s.setRowLineHeight,sh.setRowLineHeight),this.setRowHeight=vc(n,s=>s.setRowHeight,sh.setRowHeight),this.supportDynamicHeights=vc(n,s=>s.supportDynamicHeights,sh.supportDynamicHeights),this.dnd=vc(n,s=>s.dnd,sh.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(let t of this.items)this.measureItemWidth(t);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:nL(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(e){e.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=e.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),e.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),e.horizontalScrolling!==void 0&&(this.horizontalScrolling=e.horizontalScrolling),e.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),e.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:e.fastScrollSensitivity})}splice(e,t,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,i=[]){let n=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),o={start:e,end:e+t},s=yo.intersect(n,o),a=new Map;for(let M=s.end-1;M>=s.start;M--){let I=this.items[M];if(I.dragStartDisposable.dispose(),I.row){let T=a.get(I.templateId);T||(T=[],a.set(I.templateId,T));let R=this.renderers.get(I.templateId);R&&R.disposeElement&&R.disposeElement(I.element,M,I.row.templateData,I.size),T.push(I.row)}I.row=null}let l={start:e+t,end:this.items.length},c=yo.intersect(l,n),d=yo.relativeComplement(l,n),h=i.map(M=>({id:String(this.itemId++),element:M,templateId:this.virtualDelegate.getTemplateId(M),size:this.virtualDelegate.getHeight(M),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(M),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:$.None,checkedDisposable:$.None})),u;e===0&&t>=this.items.length?(this.rangeMap=new qI,this.rangeMap.splice(0,0,h),u=this.items,this.items=h):(this.rangeMap.splice(e,t,h),u=this.items.splice(e,t,...h));let f=i.length-t,m=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),_=KI(c,f),w=yo.intersect(m,_);for(let M=w.start;M<w.end;M++)this.updateItemInDOM(this.items[M],M);let y=yo.relativeComplement(_,m);for(let M of y)for(let I=M.start;I<M.end;I++)this.removeItemFromDOM(I);let C=d.map(M=>KI(M,f)),L=[{start:e,end:e+i.length},...C].map(M=>yo.intersect(m,M)),k=this.getNextToLastElement(L);for(let M of L)for(let I=M.start;I<M.end;I++){let T=this.items[I],R=a.get(T.templateId),Z=R?.pop();this.insertItemInDOM(I,k,Z)}for(let M of a.values())for(let I of M)this.cache.release(I);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),u.map(M=>M.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=Es(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(let t of this.items)typeof t.width<"u"&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:e===0?0:e+10})}rerender(){if(!!this.supportDynamicHeights){for(let e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(e){return this.items[e].element}domElement(e){let t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){let i={height:typeof e=="number"?e:FU(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),typeof t<"u"&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof t=="number"?t:nL(this.domNode)})}render(e,t,i,n,o,s=!1){let a=this.getRenderRange(t,i),l=yo.relativeComplement(a,e),c=yo.relativeComplement(e,a),d=this.getNextToLastElement(l);if(s){let h=yo.intersect(e,a);for(let u=h.start;u<h.end;u++)this.updateItemInDOM(this.items[u],u)}for(let h of l)for(let u=h.start;u<h.end;u++)this.insertItemInDOM(u,d);for(let h of c)for(let u=h.start;u<h.end;u++)this.removeItemFromDOM(u);n!==void 0&&(this.rowsContainer.style.left=`-${n}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&o!==void 0&&(this.rowsContainer.style.width=`${Math.max(o,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t,i){let n=this.items[e];n.row||(n.row=i??this.cache.alloc(n.templateId));let o=this.accessibilityProvider.getRole(n.element)||"listitem";n.row.domNode.setAttribute("role",o);let s=this.accessibilityProvider.isChecked(n.element);if(typeof s=="boolean")n.row.domNode.setAttribute("aria-checked",String(!!s));else if(s){let c=d=>n.row.domNode.setAttribute("aria-checked",String(!!d));c(s.value),n.checkedDisposable=s.onDidChange(c)}n.row.domNode.parentElement||(t?this.rowsContainer.insertBefore(n.row.domNode,t):this.rowsContainer.appendChild(n.row.domNode)),this.updateItemInDOM(n,e);let a=this.renderers.get(n.templateId);if(!a)throw new Error(`No renderer found for template id ${n.templateId}`);a&&a.renderElement(n.element,e,n.row.templateData,n.size);let l=this.dnd.getDragURI(n.element);n.dragStartDisposable.dispose(),n.row.domNode.draggable=!!l,l&&(n.dragStartDisposable=se(n.row.domNode,"dragstart",c=>this.onDragStart(n.element,l,c))),this.horizontalScrolling&&(this.measureItemWidth(n),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width=$n?"-moz-fit-content":"fit-content",e.width=nL(e.row.domNode);let t=window.getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2===0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){let t=this.items[e];if(t.dragStartDisposable.dispose(),t.checkedDisposable.dispose(),t.row){let i=this.renderers.get(t.templateId);i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return xe.map(this.disposables.add(new oi(this.domNode,"click")).event,e=>this.toMouseEvent(e))}get onMouseDblClick(){return xe.map(this.disposables.add(new oi(this.domNode,"dblclick")).event,e=>this.toMouseEvent(e))}get onMouseMiddleClick(){return xe.filter(xe.map(this.disposables.add(new oi(this.domNode,"auxclick")).event,e=>this.toMouseEvent(e)),e=>e.browserEvent.button===1)}get onMouseDown(){return xe.map(this.disposables.add(new oi(this.domNode,"mousedown")).event,e=>this.toMouseEvent(e))}get onContextMenu(){return xe.any(xe.map(this.disposables.add(new oi(this.domNode,"contextmenu")).event,e=>this.toMouseEvent(e)),xe.map(this.disposables.add(new oi(this.domNode,li.Contextmenu)).event,e=>this.toGestureEvent(e)))}get onTouchStart(){return xe.map(this.disposables.add(new oi(this.domNode,"touchstart")).event,e=>this.toTouchEvent(e))}get onTap(){return xe.map(this.disposables.add(new oi(this.rowsContainer,li.Tap)).event,e=>this.toGestureEvent(e))}toMouseEvent(e){let t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],n=i&&i.element;return{browserEvent:e,index:t,element:n}}toTouchEvent(e){let t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],n=i&&i.element;return{browserEvent:e,index:t,element:n}}toGestureEvent(e){let t=this.getItemIndexFromEventTarget(e.initialTarget||null),i=typeof t>"u"?void 0:this.items[t],n=i&&i.element;return{browserEvent:e,index:t,element:n}}toDragEvent(e){let t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],n=i&&i.element;return{browserEvent:e,index:t,element:n}}onScroll(e){try{let t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){if(!i.dataTransfer)return;let n=this.dnd.getDragElements(e);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(Xk.TEXT,t),i.dataTransfer.setDragImage){let o;this.dnd.getDragLabel&&(o=this.dnd.getDragLabel(n,i)),typeof o>"u"&&(o=String(n.length));let s=le(".monaco-drag-image");s.textContent=o,document.body.appendChild(s),i.dataTransfer.setDragImage(s,-10,-10),setTimeout(()=>document.body.removeChild(s),0)}this.currentDragData=new Lg(n),zc.CurrentDragAndDropData=new QY(n),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,i)}onDragOver(e){if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),zc.CurrentDragAndDropData&&zc.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(zc.CurrentDragAndDropData)this.currentDragData=zc.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new JY}let t=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.browserEvent);if(this.canDrop=typeof t=="boolean"?t:t.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;e.browserEvent.dataTransfer.dropEffect=typeof t!="boolean"&&t.effect===0?"copy":"move";let i;if(typeof t!="boolean"&&t.feedback?i=t.feedback:typeof e.index>"u"?i=[-1]:i=[e.index],i=Ua(i).filter(n=>n>=-1&&n<this.length).sort((n,o)=>n-o),i=i[0]===-1?[-1]:i,Jge(this.currentDragFeedback,i))return!0;if(this.currentDragFeedback=i,this.currentDragFeedbackDisposable.dispose(),i[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=Ve(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(let n of i){let o=this.items[n];o.dropTarget=!0,o.row&&o.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=Ve(()=>{for(let n of i){let o=this.items[n];o.dropTarget=!1,o.row&&o.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(e){var t,i;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=Ul(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((i=(t=this.dnd).onDragLeave)===null||i===void 0||i.call(t,this.currentDragData,e.element,e.index,e.browserEvent))}onDrop(e){if(!this.canDrop)return;let t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,zc.CurrentDragAndDropData=void 0,!(!t||!e.browserEvent.dataTransfer)&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.browserEvent))}onDragEnd(e){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,zc.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=$.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){let t=iL(this.domNode).top;this.dragOverAnimationDisposable=$U(this.animateDragAndDropScrollTop.bind(this,t))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=Ul(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(this.dragOverMouseY===void 0)return;let t=this.dragOverMouseY-e,i=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(e){let t=this.scrollableElement.getDomNode(),i=e;for(;i instanceof HTMLElement&&i!==this.rowsContainer&&t.contains(i);){let n=i.getAttribute("data-index");if(n){let o=Number(n);if(!isNaN(o))return o}i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,i){let n=this.getRenderRange(e,t),o,s;e===this.elementTop(n.start)?(o=n.start,s=0):n.end-n.start>1&&(o=n.start+1,s=this.elementTop(o)-e);let a=0;for(;;){let l=this.getRenderRange(e,t),c=!1;for(let d=l.start;d<l.end;d++){let h=this.probeDynamicHeight(d);h!==0&&this.rangeMap.splice(d,1,[this.items[d]]),a+=h,c=c||h!==0}if(!c){a!==0&&this.eventuallyUpdateScrollDimensions();let d=yo.relativeComplement(n,l);for(let u of d)for(let f=u.start;f<u.end;f++)this.items[f].row&&this.removeItemFromDOM(f);let h=yo.relativeComplement(l,n);for(let u of h)for(let f=u.start;f<u.end;f++){let m=f+1,_=m<this.items.length?this.items[m].row:null,w=_?_.domNode:null;this.insertItemInDOM(f,w)}for(let u=l.start;u<l.end;u++)this.items[u].row&&this.updateItemInDOM(this.items[u],u);if(typeof o=="number"){let u=this.scrollable.getFutureScrollPosition().scrollTop-e,f=this.elementTop(o)-s+u;this.setScrollTop(f,i)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(e){let t=this.items[e];if(this.virtualDelegate.getDynamicHeight){let s=this.virtualDelegate.getDynamicHeight(t.element);if(s!==null){let a=t.size;return t.size=s,t.lastDynamicHeightWidth=this.renderWidth,s-a}}if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(t.element))return 0;let i=t.size;if(!this.setRowHeight&&t.row){let s=t.row.domNode.offsetHeight;return t.size=s,t.lastDynamicHeightWidth=this.renderWidth,s-i}let n=this.cache.alloc(t.templateId);n.domNode.style.height="",this.rowsContainer.appendChild(n.domNode);let o=this.renderers.get(t.templateId);return o&&(o.renderElement(t.element,e,n.templateData,void 0),o.disposeElement&&o.disposeElement(t.element,e,n.templateData,void 0)),t.size=n.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(n.domNode),this.cache.release(n),t.size-i}getNextToLastElement(e){let t=e[e.length-1];if(!t)return null;let i=this.items[t.end];return!i||!i.row?null:i.row.domNode}getElementDomId(e){return`${this.domId}_${e}`}dispose(){if(this.items){for(let e of this.items)if(e.row){let t=this.renderers.get(e.row.templateId);t&&(t.disposeElement&&t.disposeElement(e.element,-1,e.row.templateData,void 0),t.disposeTemplate(e.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),dt(this.disposables)}};fl.InstanceCount=0;Up([En],fl.prototype,"onMouseClick",null);Up([En],fl.prototype,"onMouseDblClick",null);Up([En],fl.prototype,"onMouseMiddleClick",null);Up([En],fl.prototype,"onMouseDown",null);Up([En],fl.prototype,"onContextMenu",null);Up([En],fl.prototype,"onTouchStart",null);Up([En],fl.prototype,"onTap",null);var Vp=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},tZ=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},oZ=class{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(e){return e}renderElement(e,t,i){let n=this.renderedElements.findIndex(o=>o.templateData===i);if(n>=0){let o=this.renderedElements[n];this.trait.unrender(i),o.index=t}else{let o={index:t,templateData:i};this.renderedElements.push(o)}this.trait.renderIndex(t,i)}splice(e,t,i){let n=[];for(let o of this.renderedElements)o.index<e?n.push(o):o.index>=e+t&&n.push({index:o.index+i-t,templateData:o.templateData});this.renderedElements=n}renderIndexes(e){for(let{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){let t=this.renderedElements.findIndex(i=>i.templateData===e);t<0||this.renderedElements.splice(t,1)}},P1=class{constructor(e){this._trait=e,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new B,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new oZ(this)}splice(e,t,i){var n;t=Math.max(0,Math.min(t,this.length-e));let o=i.length-t,s=e+t,a=[...this.sortedIndexes.filter(c=>c<e),...i.map((c,d)=>c?d+e:-1).filter(c=>c!==-1),...this.sortedIndexes.filter(c=>c>=s).map(c=>c+o)],l=this.length+o;if(this.sortedIndexes.length>0&&a.length===0&&l>0){let c=(n=this.sortedIndexes.find(d=>d>=e))!==null&&n!==void 0?n:l-1;a.push(Math.min(c,l-1))}this.renderer.splice(e,t,i.length),this._set(a,a),this.length=l}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(nZ),t)}_set(e,t,i){let n=this.indexes,o=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;let s=a5(o,e);return this.renderer.renderIndexes(s),this._onChange.fire({indexes:e,browserEvent:i}),n}get(){return this.indexes}contains(e){return J_(this.sortedIndexes,e,nZ)>=0}dispose(){dt(this._onChange)}};Vp([En],P1.prototype,"renderer",null);var rZ=class extends P1{constructor(e){super("selected");this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}},YI=class{constructor(e,t,i){this.trait=e,this.view=t,this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,i.map(()=>!1));let n=this.trait.get().map(s=>this.identityProvider.getId(this.view.element(s)).toString()),o=i.map(s=>n.indexOf(this.identityProvider.getId(s).toString())>-1);this.trait.splice(e,t,o)}};function Lu(r){return r.tagName==="INPUT"||r.tagName==="TEXTAREA"}function zp(r){return r.classList.contains("monaco-editor")?!0:r.classList.contains("monaco-list")||!r.parentElement?!1:zp(r.parentElement)}var l5=class{constructor(e,t,i){this.list=e,this.view=t,this.disposables=new J,this.multipleSelectionDisposables=new J,this.onKeyDown.filter(n=>n.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(n=>n.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(n=>n.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(n=>n.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(n=>n.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(n=>n.keyCode===9).on(this.onEscape,this,this.disposables),i.multipleSelectionSupport!==!1&&this.onKeyDown.filter(n=>(Je?n.metaKey:n.ctrlKey)&&n.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return xe.chain(this.disposables.add(new oi(this.view.domNode,"keydown")).event).filter(e=>!Lu(e.target)).map(e=>new $t(e))}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),e.multipleSelectionSupport&&this.onKeyDown.filter(t=>(Je?t.metaKey:t.ctrlKey)&&t.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(Do(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}};Vp([En],l5.prototype,"onKeyDown",null);var lw;(function(r){r[r.Idle=0]="Idle",r[r.Typing=1]="Typing"})(lw||(lw={}));var c5=new class{mightProducePrintableCharacter(r){return r.ctrlKey||r.metaKey||r.altKey?!1:r.keyCode>=31&&r.keyCode<=56||r.keyCode>=21&&r.keyCode<=30||r.keyCode>=93&&r.keyCode<=102||r.keyCode>=80&&r.keyCode<=90}},sZ=class{constructor(e,t,i,n){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=i,this.delegate=n,this.enabled=!1,this.state=lw.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new J,this.disposables=new J,this.updateOptions(e.options)}updateOptions(e){(typeof e.enableKeyboardNavigation>"u"?!0:!!e.enableKeyboardNavigation)?this.enable():this.disable(),typeof e.automaticKeyboardNavigation<"u"&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation)}enable(){if(this.enabled)return;let e=xe.chain(this.enabledDisposables.add(new oi(this.view.domNode,"keydown")).event).filter(n=>!Lu(n.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(n=>new $t(n)).filter(n=>this.delegate.mightProducePrintableCharacter(n)).forEach(n=>n.preventDefault()).map(n=>n.browserEvent.key).event,t=xe.debounce(e,()=>null,800);xe.reduce(xe.any(e,t),(n,o)=>o===null?null:(n||"")+o)(this.onInput,this,this.enabledDisposables),t(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var e;let t=this.list.getFocus();if(t.length>0&&t[0]===this.previouslyFocused){let i=(e=this.list.options.accessibilityProvider)===null||e===void 0?void 0:e.getAriaLabel(this.list.element(t[0]));i&&Sn(i)}this.previouslyFocused=-1}onInput(e){if(!e){this.state=lw.Idle,this.triggered=!1;return}let t=this.list.getFocus(),i=t.length>0?t[0]:0,n=this.state===lw.Idle?1:0;this.state=lw.Typing;for(let o=0;o<this.list.length;o++){let s=(i+o+n)%this.list.length,a=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(s)),l=a&&a.toString();if(typeof l>"u"||EI(e,l)){this.previouslyFocused=i,this.list.setFocus([s]),this.list.reveal(s);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}},aZ=class{constructor(e,t){this.list=e,this.view=t,this.disposables=new J,xe.chain(this.disposables.add(new oi(t.domNode,"keydown")).event).filter(n=>!Lu(n.target)).map(n=>new $t(n)).filter(n=>n.keyCode===2&&!n.ctrlKey&&!n.metaKey&&!n.shiftKey&&!n.altKey).on(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;let t=this.list.getFocus();if(t.length===0)return;let i=this.view.domElement(t[0]);if(!i)return;let n=i.querySelector("[tabIndex]");if(!n||!(n instanceof HTMLElement)||n.tabIndex===-1)return;let o=window.getComputedStyle(n);o.visibility==="hidden"||o.display==="none"||(e.preventDefault(),e.stopPropagation(),n.focus())}dispose(){this.disposables.dispose()}};function d5(r){return Je?r.browserEvent.metaKey:r.browserEvent.ctrlKey}function h5(r){return r.browserEvent.shiftKey}function eme(r){return r instanceof MouseEvent&&r.button===2}var iZ={isSelectionSingleChangeEvent:d5,isSelectionRangeChangeEvent:h5},ZI=class{constructor(e){this.list=e,this.disposables=new J,this._onPointer=new B,this.onPointer=this._onPointer.event,e.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||iZ),this.mouseSupport=typeof e.options.mouseSupport>"u"||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(zt.addTarget(e.getHTMLElement()))),xe.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||iZ))}isSelectionSingleChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):!1}isSelectionRangeChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):!1}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){zp(e.browserEvent.target)||document.activeElement!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(zp(e.browserEvent.target))return;let t=typeof e.index>"u"?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport||Lu(e.browserEvent.target)||zp(e.browserEvent.target))return;let t=e.index;if(typeof t>"u"){this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(e))return this.changeSelection(e);if(this.isSelectionChangeEvent(e))return this.changeSelection(e);this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),eme(e.browserEvent)||this.list.setSelection([t],e.browserEvent),this._onPointer.fire(e)}onDoubleClick(e){if(Lu(e.browserEvent.target)||zp(e.browserEvent.target)||this.isSelectionChangeEvent(e))return;let t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){let t=e.index,i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){if(typeof i>"u"){let d=this.list.getFocus()[0];i=d??t,this.list.setAnchor(i)}let n=Math.min(i,t),o=Math.max(i,t),s=Do(n,o+1),a=this.list.getSelection(),l=nme(a5(a,[i]),i);if(l.length===0)return;let c=a5(s,ome(a,l));this.list.setSelection(c,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){let n=this.list.getSelection(),o=n.filter(s=>s!==t);this.list.setFocus([t]),this.list.setAnchor(t),n.length===o.length?this.list.setSelection([...o,t],e.browserEvent):this.list.setSelection(o,e.browserEvent)}}dispose(){this.disposables.dispose()}},GI=class{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){let t=this.selectorSuffix&&`.${this.selectorSuffix}`,i=[];e.listBackground&&(e.listBackground.isOpaque()?i.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`):Je||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),e.listFocusBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionBackground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }
			`),e.listFocusAndSelectionForeground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }
			`),e.listInactiveFocusForeground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&i.push(`.monaco-list${t} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(i.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&i.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&i.push(`.monaco-list${t}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&i.push(`.monaco-list${t} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`),e.listSelectionOutline&&i.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listFocusOutline&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
			`),e.listInactiveFocusOutline&&i.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&i.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropBackground&&i.push(`
				.monaco-list${t}.drop-target,
				.monaco-list${t} .monaco-list-rows.drop-target,
				.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropBackground} !important; color: inherit !important; }
			`),e.listFilterWidgetBackground&&i.push(`.monaco-list-type-filter { background-color: ${e.listFilterWidgetBackground} }`),e.listFilterWidgetOutline&&i.push(`.monaco-list-type-filter { border: 1px solid ${e.listFilterWidgetOutline}; }`),e.listFilterWidgetNoMatchesOutline&&i.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${e.listFilterWidgetNoMatchesOutline}; }`),e.listMatchesShadow&&i.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${e.listMatchesShadow}; }`),e.tableColumnsBorder&&i.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${e.tableColumnsBorder};
			}`),e.tableOddRowsBackgroundColor&&i.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${e.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=i.join(`
`)}},tme={listFocusBackground:X.fromHex("#7FB0D0"),listActiveSelectionBackground:X.fromHex("#0E639C"),listActiveSelectionForeground:X.fromHex("#FFFFFF"),listActiveSelectionIconForeground:X.fromHex("#FFFFFF"),listFocusAndSelectionBackground:X.fromHex("#094771"),listFocusAndSelectionForeground:X.fromHex("#FFFFFF"),listInactiveSelectionBackground:X.fromHex("#3F3F46"),listInactiveSelectionIconForeground:X.fromHex("#FFFFFF"),listHoverBackground:X.fromHex("#2A2D2E"),listDropBackground:X.fromHex("#383B3D"),treeIndentGuidesStroke:X.fromHex("#a9a9a9"),tableColumnsBorder:X.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:X.fromHex("#cccccc").transparent(.04)},ime={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function nme(r,e){let t=r.indexOf(e);if(t===-1)return[];let i=[],n=t-1;for(;n>=0&&r[n]===e-(t-n);)i.push(r[n--]);for(i.reverse(),n=t;n<r.length&&r[n]===e+(n-t);)i.push(r[n++]);return i}function a5(r,e){let t=[],i=0,n=0;for(;i<r.length||n<e.length;)if(i>=r.length)t.push(e[n++]);else if(n>=e.length)t.push(r[i++]);else if(r[i]===e[n]){t.push(r[i]),i++,n++;continue}else r[i]<e[n]?t.push(r[i++]):t.push(e[n++]);return t}function ome(r,e){let t=[],i=0,n=0;for(;i<r.length||n<e.length;)if(i>=r.length)t.push(e[n++]);else if(n>=e.length)t.push(r[i++]);else if(r[i]===e[n]){i++,n++;continue}else r[i]<e[n]?t.push(r[i++]):n++;return t}var nZ=(r,e)=>r-e,lZ=class{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(t=>t.renderTemplate(e))}renderElement(e,t,i,n){let o=0;for(let s of this.renderers)s.renderElement(e,t,i[o++],n)}disposeElement(e,t,i,n){let o=0;for(let s of this.renderers)s.disposeElement&&s.disposeElement(e,t,i[o],n),o+=1}disposeTemplate(e){let t=0;for(let i of this.renderers)i.disposeTemplate(e[t++])}},cZ=class{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return e}renderElement(e,t,i){let n=this.accessibilityProvider.getAriaLabel(e);n?i.setAttribute("aria-label",n):i.removeAttribute("aria-label");let o=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);typeof o=="number"?i.setAttribute("aria-level",`${o}`):i.removeAttribute("aria-level")}disposeTemplate(e){}},dZ=class{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){let t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(e,t)}onDragOver(e,t,i,n){return this.dnd.onDragOver(e,t,i,n)}onDragLeave(e,t,i,n){var o,s;(s=(o=this.dnd).onDragLeave)===null||s===void 0||s.call(o,e,t,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}drop(e,t,i,n){this.dnd.drop(e,t,i,n)}},Os=class{constructor(e,t,i,n,o=ime){var s;this.user=e,this._options=o,this.focus=new P1("focused"),this.anchor=new P1("anchor"),this.eventBufferer=new ym,this._ariaLabel="",this.disposables=new J,this._onDidDispose=new B,this.onDidDispose=this._onDidDispose.event;let a=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(s=this._options.accessibilityProvider)===null||s===void 0?void 0:s.getWidgetRole():"list";this.selection=new rZ(a!=="listbox"),gr(o,tme,!1);let l=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=o.accessibilityProvider,this.accessibilityProvider&&(l.push(new cZ(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),n=n.map(d=>new lZ(d.templateId,[...l,d]));let c=Object.assign(Object.assign({},o),{dnd:o.dnd&&new dZ(this,o.dnd)});if(this.view=new fl(t,i,n,c),this.view.domNode.setAttribute("role",a),o.styleController)this.styleController=o.styleController(this.view.domId);else{let d=po(this.view.domNode);this.styleController=new GI(d,this.view.domId)}if(this.spliceable=new r5([new YI(this.focus,this.view,o.identityProvider),new YI(this.selection,this.view,o.identityProvider),new YI(this.anchor,this.view,o.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new aZ(this,this.view)),(typeof o.keyboardSupport!="boolean"||o.keyboardSupport)&&(this.keyboardController=new l5(this,this.view,o),this.disposables.add(this.keyboardController)),o.keyboardNavigationLabelProvider){let d=o.keyboardNavigationDelegate||c5;this.typeLabelController=new sZ(this,this.view,o.keyboardNavigationLabelProvider,d),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(o),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return xe.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e))}get onDidChangeSelection(){return xe.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1,t=xe.chain(this.disposables.add(new oi(this.view.domNode,"keydown")).event).map(o=>new $t(o)).filter(o=>e=o.keyCode===58||o.shiftKey&&o.keyCode===68).map(UF).filter(()=>!1).event,i=xe.chain(this.disposables.add(new oi(this.view.domNode,"keyup")).event).forEach(()=>e=!1).map(o=>new $t(o)).filter(o=>o.keyCode===58||o.shiftKey&&o.keyCode===68).map(UF).map(({browserEvent:o})=>{let s=this.getFocus(),a=s.length?s[0]:void 0,l=typeof a<"u"?this.view.element(a):void 0,c=typeof a<"u"?this.view.domElement(a):this.view.domNode;return{index:a,element:l,anchor:c,browserEvent:o}}).event,n=xe.chain(this.view.onContextMenu).filter(o=>!e).map(({element:o,index:s,browserEvent:a})=>({element:o,index:s,anchor:{x:a.pageX+1,y:a.pageY},browserEvent:a})).event;return xe.any(t,i,n)}get onKeyDown(){return this.disposables.add(new oi(this.view.domNode,"keydown")).event}get onDidFocus(){return xe.signal(this.disposables.add(new oi(this.view.domNode,"focus",!0)).event)}createMouseController(e){return new ZI(this)}updateOptions(e={}){var t;this._options=Object.assign(Object.assign({},this._options),e),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),(t=this.keyboardController)===null||t===void 0||t.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new Du(this.user,`Invalid start index: ${e}`);if(t<0)throw new Du(this.user,`Invalid delete count: ${t}`);t===0&&i.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,t,i))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(let i of e)if(i<0||i>=this.length)throw new Du(this.user,`Invalid index ${i}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setAnchor(e){if(typeof e>"u"){this.anchor.set([]);return}if(e<0||e>=this.length)throw new Du(this.user,`Invalid index ${e}`);this.anchor.set([e])}getAnchor(){return px(this.anchor.get(),void 0)}getAnchorElement(){let e=this.getAnchor();return typeof e>"u"?void 0:this.element(e)}setFocus(e,t){for(let i of e)if(i<0||i>=this.length)throw new Du(this.user,`Invalid index ${i}`);this.focus.set(e,t)}focusNext(e=1,t=!1,i,n){if(this.length===0)return;let o=this.focus.get(),s=this.findNextIndex(o.length>0?o[0]+e:0,t,n);s>-1&&this.setFocus([s],i)}focusPrevious(e=1,t=!1,i,n){if(this.length===0)return;let o=this.focus.get(),s=this.findPreviousIndex(o.length>0?o[0]-e:0,t,n);s>-1&&this.setFocus([s],i)}focusNextPage(e,t){return tZ(this,void 0,void 0,function*(){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=i===0?0:i-1;let n=this.view.element(i),o=this.getFocusedElements()[0];if(o!==n){let s=this.findPreviousIndex(i,!1,t);s>-1&&o!==this.view.element(s)?this.setFocus([s],e):this.setFocus([i],e)}else{let s=this.view.getScrollTop();this.view.setScrollTop(s+this.view.renderHeight-this.view.elementHeight(i)),this.view.getScrollTop()!==s&&(this.setFocus([]),yield Wl(0),yield this.focusNextPage(e,t))}})}focusPreviousPage(e,t){return tZ(this,void 0,void 0,function*(){let i,n=this.view.getScrollTop();n===0?i=this.view.indexAt(n):i=this.view.indexAfter(n-1);let o=this.view.element(i),s=this.getFocusedElements()[0];if(s!==o){let a=this.findNextIndex(i,!1,t);a>-1&&s!==this.view.element(a)?this.setFocus([a],e):this.setFocus([i],e)}else{let a=n;this.view.setScrollTop(n-this.view.renderHeight),this.view.getScrollTop()!==a&&(this.setFocus([]),yield Wl(0),yield this.focusPreviousPage(e,t))}})}focusLast(e,t){if(this.length===0)return;let i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(this.length===0)return;let n=this.findNextIndex(e,!1,i);n>-1&&this.setFocus([n],t)}findNextIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e>=this.length&&!t)return-1;if(e=e%this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,t){if(e<0||e>=this.length)throw new Du(this.user,`Invalid index ${e}`);let i=this.view.getScrollTop(),n=this.view.elementTop(e),o=this.view.elementHeight(e);if(Nl(t)){let s=o-this.view.renderHeight;this.view.setScrollTop(s*sr(t,0,1)+n)}else{let s=n+o,a=i+this.view.renderHeight;n<i&&s>=a||(n<i||s>=a&&o>=this.view.renderHeight?this.view.setScrollTop(n):s>=a&&this.view.setScrollTop(s-this.view.renderHeight))}}getRelativeTop(e){if(e<0||e>=this.length)throw new Du(this.user,`Invalid index ${e}`);let t=this.view.getScrollTop(),i=this.view.elementTop(e),n=this.view.elementHeight(e);if(i<t||i+n>t+this.view.renderHeight)return null;let o=n-this.view.renderHeight;return Math.abs((t-i)/o)}getHTMLElement(){return this.view.domNode}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map(i=>this.view.element(i)),browserEvent:t}}_onFocusChange(){let e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var e;let t=this.focus.get();if(t.length>0){let i;!((e=this.accessibilityProvider)===null||e===void 0)&&e.getActiveDescendantId&&(i=this.accessibilityProvider.getActiveDescendantId(this.view.element(t[0]))),this.view.domNode.setAttribute("aria-activedescendant",i||this.view.getElementDomId(t[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){let e=this.selection.get();this.view.domNode.classList.toggle("selection-none",e.length===0),this.view.domNode.classList.toggle("selection-single",e.length===1),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}};Vp([En],Os.prototype,"onDidChangeFocus",null);Vp([En],Os.prototype,"onDidChangeSelection",null);Vp([En],Os.prototype,"onContextMenu",null);Vp([En],Os.prototype,"onKeyDown",null);Vp([En],Os.prototype,"onDidFocus",null);var hZ=class{constructor(e,t){this.renderer=e,this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:$.None}}renderElement(e,t,i,n){if(i.disposable&&i.disposable.dispose(),!i.data)return;let o=this.modelProvider();if(o.isResolved(e))return this.renderer.renderElement(o.get(e),e,i.data,n);let s=new Ki,a=o.resolve(e,s.token);i.disposable={dispose:()=>s.cancel()},this.renderer.renderPlaceholder(e,i.data),a.then(l=>this.renderer.renderElement(l,e,i.data,n))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}},uZ=class{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){let t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}};function rme(r,e){return Object.assign(Object.assign({},e),{accessibilityProvider:e.accessibilityProvider&&new uZ(r,e.accessibilityProvider)})}var u5=class{constructor(e,t,i,n,o={}){let s=()=>this.model,a=n.map(l=>new hZ(l,s));this.list=new Os(e,t,i,a,rme(s,o))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return xe.map(this.list.onMouseDblClick,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onPointer(){return xe.map(this.list.onPointer,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onDidChangeSelection(){return xe.map(this.list.onDidChangeSelection,({elements:e,indexes:t,browserEvent:i})=>({elements:e.map(n=>this._model.get(n)),indexes:t,browserEvent:i}))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,Do(e.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(e=>this.model.get(e))}style(e){this.list.style(e)}dispose(){this.list.dispose()}};Be();Be();jt();Yn();Ee();re();Gv();ai();var sme={separatorBorder:X.transparent},f5=class{constructor(e,t,i,n){this.container=e,this.view=t,this.disposable=n,this._cachedVisibleSize=void 0,typeof i=="number"?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}set size(e){this._size=e}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(e,t){e!==this.visible&&(e?(this.size=sr(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof t=="number"?t:this.size,this.size=0),this.container.classList.toggle("visible",e),this.view.setVisible&&this.view.setVisible(e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)}dispose(){return this.disposable.dispose(),this.view}},fZ=class extends f5{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}},gZ=class extends f5{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}},ku;(function(r){r[r.Idle=0]="Idle",r[r.Busy=1]="Busy"})(ku||(ku={}));var M1;(function(r){r.Distribute={type:"distribute"};function e(i){return{type:"split",index:i}}r.Split=e;function t(i){return{type:"invisible",cachedVisibleSize:i}}r.Invisible=t})(M1||(M1={}));var A1=class extends ${constructor(e,t={}){var i,n,o,s,a;super();this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=ku.Idle,this._onDidSashChange=this._register(new B),this._onDidSashReset=this._register(new B),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(i=t.orientation)!==null&&i!==void 0?i:0,this.inverseAltBehavior=(n=t.inverseAltBehavior)!==null&&n!==void 0?n:!1,this.proportionalLayout=(o=t.proportionalLayout)!==null&&o!==void 0?o:!0,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=ee(this.el,le(".sash-container")),this.viewContainer=le(".split-view-container"),this.scrollable=new Fd({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:Es}),this.scrollableElement=this._register(new gp(this.viewContainer,{vertical:this.orientation===0?(s=t.scrollbarVisibility)!==null&&s!==void 0?s:1:2,horizontal:this.orientation===1?(a=t.scrollbarVisibility)!==null&&a!==void 0?a:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(l=>{this.viewContainer.scrollTop=l.scrollTop,this.viewContainer.scrollLeft=l.scrollLeft})),ee(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||sme),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach((l,c)=>{let d=Xo(l.visible)||l.visible?l.size:{type:"invisible",cachedVisibleSize:l.size},h=l.view;this.doAddView(h,d,c,!0)}),this.contentSize=this.viewItems.reduce((l,c)=>l+c.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(e){for(let t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}set orthogonalEndSash(e){for(let t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,n){this.doAddView(e,t,i,n)}layout(e,t){let i=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions)for(let n=0;n<this.viewItems.length;n++){let o=this.viewItems[n];o.size=sr(Math.round(this.proportions[n]*e),o.minimumSize,o.maximumSize)}else{let n=Do(this.viewItems.length),o=n.filter(a=>this.viewItems[a].priority===1),s=n.filter(a=>this.viewItems[a].priority===2);this.resize(this.viewItems.length-1,e-i,void 0,o,s)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(e=>e.size/this.contentSize))}onSashStart({sash:e,start:t,alt:i}){for(let a of this.viewItems)a.enabled=!1;let n=this.sashItems.findIndex(a=>a.sash===e),o=Ws(se(document.body,"keydown",a=>s(this.sashDragState.current,a.altKey)),se(document.body,"keyup",()=>s(this.sashDragState.current,!1))),s=(a,l)=>{let c=this.viewItems.map(m=>m.size),d=Number.NEGATIVE_INFINITY,h=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(l=!l),l)if(n===this.sashItems.length-1){let _=this.viewItems[n];d=(_.minimumSize-_.size)/2,h=(_.maximumSize-_.size)/2}else{let _=this.viewItems[n+1];d=(_.size-_.maximumSize)/2,h=(_.size-_.minimumSize)/2}let u,f;if(!l){let m=Do(n,-1),_=Do(n+1,this.viewItems.length),w=m.reduce((T,R)=>T+(this.viewItems[R].minimumSize-c[R]),0),y=m.reduce((T,R)=>T+(this.viewItems[R].viewMaximumSize-c[R]),0),C=_.length===0?Number.POSITIVE_INFINITY:_.reduce((T,R)=>T+(c[R]-this.viewItems[R].minimumSize),0),E=_.length===0?Number.NEGATIVE_INFINITY:_.reduce((T,R)=>T+(c[R]-this.viewItems[R].viewMaximumSize),0),L=Math.max(w,E),k=Math.min(C,y),M=this.findFirstSnapIndex(m),I=this.findFirstSnapIndex(_);if(typeof M=="number"){let T=this.viewItems[M],R=Math.floor(T.viewMinimumSize/2);u={index:M,limitDelta:T.visible?L-R:L+R,size:T.size}}if(typeof I=="number"){let T=this.viewItems[I],R=Math.floor(T.viewMinimumSize/2);f={index:I,limitDelta:T.visible?k+R:k-R,size:T.size}}}this.sashDragState={start:a,current:a,index:n,sizes:c,minDelta:d,maxDelta:h,alt:l,snapBefore:u,snapAfter:f,disposable:o}};s(t,i)}onSashChange({current:e}){let{index:t,start:i,sizes:n,alt:o,minDelta:s,maxDelta:a,snapBefore:l,snapAfter:c}=this.sashDragState;this.sashDragState.current=e;let d=e-i,h=this.resize(t,d,n,void 0,void 0,s,a,l,c);if(o){let u=t===this.sashItems.length-1,f=this.viewItems.map(E=>E.size),m=u?t:t+1,_=this.viewItems[m],w=_.size-_.maximumSize,y=_.size-_.minimumSize,C=u?t-1:t+1;this.resize(C,-h,f,void 0,void 0,w,y)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(let t of this.viewItems)t.enabled=!0}onViewChange(e,t){let i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t=typeof t=="number"?t:e.size,t=sr(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(this.state!==ku.Idle)throw new Error("Cant modify splitview");if(this.state=ku.Busy,e<0||e>=this.viewItems.length)return;let i=Do(this.viewItems.length).filter(a=>a!==e),n=[...i.filter(a=>this.viewItems[a].priority===1),e],o=i.filter(a=>this.viewItems[a].priority===2),s=this.viewItems[e];t=Math.round(t),t=sr(t,s.minimumSize,Math.min(s.maximumSize,this.size)),s.size=t,this.relayout(n,o),this.state=ku.Idle}distributeViewSizes(){let e=[],t=0;for(let a of this.viewItems)a.maximumSize-a.minimumSize>0&&(e.push(a),t+=a.size);let i=Math.floor(t/e.length);for(let a of e)a.size=sr(i,a.minimumSize,a.maximumSize);let n=Do(this.viewItems.length),o=n.filter(a=>this.viewItems[a].priority===1),s=n.filter(a=>this.viewItems[a].priority===2);this.relayout(o,s)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,n){if(this.state!==ku.Idle)throw new Error("Cant modify splitview");this.state=ku.Busy;let o=le(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(o):this.viewContainer.insertBefore(o,this.viewContainer.children.item(i));let s=e.onDidChange(u=>this.onViewChange(d,u)),a=Ve(()=>this.viewContainer.removeChild(o)),l=Ws(s,a),c;typeof t=="number"?c=t:t.type==="split"?c=this.getViewSize(t.index)/2:t.type==="invisible"?c={cachedVisibleSize:t.cachedVisibleSize}:c=e.minimumSize;let d=this.orientation===0?new fZ(o,e,c,l):new gZ(o,e,c,l);if(this.viewItems.splice(i,0,d),this.viewItems.length>1){let u={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},f=this.orientation===0?new Gn(this.sashContainer,{getHorizontalSashTop:T=>this.getSashPosition(T),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},u),{orientation:1})):new Gn(this.sashContainer,{getVerticalSashLeft:T=>this.getSashPosition(T),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},u),{orientation:0})),m=this.orientation===0?T=>({sash:f,start:T.startY,current:T.currentY,alt:T.altKey}):T=>({sash:f,start:T.startX,current:T.currentX,alt:T.altKey}),w=xe.map(f.onDidStart,m)(this.onSashStart,this),C=xe.map(f.onDidChange,m)(this.onSashChange,this),L=xe.map(f.onDidEnd,()=>this.sashItems.findIndex(T=>T.sash===f))(this.onSashEnd,this),k=f.onDidReset(()=>{let T=this.sashItems.findIndex(ne=>ne.sash===f),R=Do(T,-1),Z=Do(T+1,this.viewItems.length),q=this.findFirstSnapIndex(R),te=this.findFirstSnapIndex(Z);typeof q=="number"&&!this.viewItems[q].visible||typeof te=="number"&&!this.viewItems[te].visible||this._onDidSashReset.fire(T)}),M=Ws(w,C,L,k,f),I={sash:f,disposable:M};this.sashItems.splice(i-1,0,I)}o.appendChild(e.element);let h;typeof t!="number"&&t.type==="split"&&(h=[t.index]),n||this.relayout([i],h),this.state=ku.Idle,!n&&typeof t!="number"&&t.type==="distribute"&&this.distributeViewSizes()}relayout(e,t){let i=this.viewItems.reduce((n,o)=>n+o.size,0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map(d=>d.size),n,o,s=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,l,c){if(e<0||e>=this.viewItems.length)return 0;let d=Do(e,-1),h=Do(e+1,this.viewItems.length);if(o)for(let I of o)_x(d,I),_x(h,I);if(n)for(let I of n)FC(d,I),FC(h,I);let u=d.map(I=>this.viewItems[I]),f=d.map(I=>i[I]),m=h.map(I=>this.viewItems[I]),_=h.map(I=>i[I]),w=d.reduce((I,T)=>I+(this.viewItems[T].minimumSize-i[T]),0),y=d.reduce((I,T)=>I+(this.viewItems[T].maximumSize-i[T]),0),C=h.length===0?Number.POSITIVE_INFINITY:h.reduce((I,T)=>I+(i[T]-this.viewItems[T].minimumSize),0),E=h.length===0?Number.NEGATIVE_INFINITY:h.reduce((I,T)=>I+(i[T]-this.viewItems[T].maximumSize),0),L=Math.max(w,E,s),k=Math.min(C,y,a),M=!1;if(l){let I=this.viewItems[l.index],T=t>=l.limitDelta;M=T!==I.visible,I.setVisible(T,l.size)}if(!M&&c){let I=this.viewItems[c.index],T=t<c.limitDelta;M=T!==I.visible,I.setVisible(T,c.size)}if(M)return this.resize(e,t,i,n,o,s,a);t=sr(t,L,k);for(let I=0,T=t;I<u.length;I++){let R=u[I],Z=sr(f[I]+T,R.minimumSize,R.maximumSize);T-=Z-f[I],R.size=Z}for(let I=0,T=t;I<m.length;I++){let R=m[I],Z=sr(_[I]-T,R.minimumSize,R.maximumSize);T+=Z-_[I],R.size=Z}return t}distributeEmptySpace(e){let t=this.viewItems.reduce((a,l)=>a+l.size,0),i=this.size-t,n=Do(this.viewItems.length-1,-1),o=n.filter(a=>this.viewItems[a].priority===1),s=n.filter(a=>this.viewItems[a].priority===2);for(let a of s)_x(n,a);for(let a of o)FC(n,a);typeof e=="number"&&FC(n,e);for(let a=0;i!==0&&a<n.length;a++){let l=this.viewItems[n[a]],c=sr(l.size+i,l.minimumSize,l.maximumSize);i-=c-l.size,l.size=c}}layoutViews(){this.contentSize=this.viewItems.reduce((t,i)=>t+i.size,0);let e=0;for(let t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach(t=>t.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let e=!1,t=this.viewItems.map(l=>e=l.size-l.minimumSize>0||e);e=!1;let i=this.viewItems.map(l=>e=l.maximumSize-l.size>0||e),n=[...this.viewItems].reverse();e=!1;let o=n.map(l=>e=l.size-l.minimumSize>0||e).reverse();e=!1;let s=n.map(l=>e=l.maximumSize-l.size>0||e).reverse(),a=0;for(let l=0;l<this.sashItems.length;l++){let{sash:c}=this.sashItems[l];a+=this.viewItems[l].size;let h=!(t[l]&&s[l+1]),u=!(i[l]&&o[l+1]);if(h&&u){let f=Do(l,-1),m=Do(l+1,this.viewItems.length),_=this.findFirstSnapIndex(f),w=this.findFirstSnapIndex(m),y=typeof _=="number"&&!this.viewItems[_].visible,C=typeof w=="number"&&!this.viewItems[w].visible;y&&o[l]&&(a>0||this.startSnappingEnabled)?c.state=1:C&&t[l]&&(a<this.contentSize||this.endSnappingEnabled)?c.state=2:c.state=0}else h&&!u?c.state=1:!h&&u?c.state=2:c.state=3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(let t of e){let i=this.viewItems[t];if(!!i.visible&&i.snap)return t}for(let t of e){let i=this.viewItems[t];if(i.visible&&i.maximumSize-i.minimumSize>0)return;if(!i.visible&&i.snap)return t}}dispose(){super.dispose(),dt(this.viewItems),this.viewItems=[],this.sashItems.forEach(e=>e.disposable.dispose()),this.sashItems=[]}};Ee();re();var cw=class{constructor(e,t,i){this.columns=e,this.getColumnSize=i,this.templateId=cw.TemplateId,this.renderedTemplates=new Set;let n=new Map(t.map(o=>[o.templateId,o]));this.renderers=[];for(let o of e){let s=n.get(o.templateId);if(!s)throw new Error(`Table cell renderer for template id ${o.templateId} not found.`);this.renderers.push(s)}}renderTemplate(e){let t=ee(e,le(".monaco-table-tr")),i=[],n=[];for(let s=0;s<this.columns.length;s++){let a=this.renderers[s],l=ee(t,le(".monaco-table-td",{"data-col-index":s}));l.style.width=`${this.getColumnSize(s)}px`,i.push(l),n.push(a.renderTemplate(l))}let o={container:e,cellContainers:i,cellTemplateData:n};return this.renderedTemplates.add(o),o}renderElement(e,t,i,n){for(let o=0;o<this.columns.length;o++){let a=this.columns[o].project(e);this.renderers[o].renderElement(a,t,i.cellTemplateData[o],n)}}disposeElement(e,t,i,n){for(let o=0;o<this.columns.length;o++){let s=this.renderers[o];if(s.disposeElement){let l=this.columns[o].project(e);s.disposeElement(l,t,i.cellTemplateData[o],n)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(e.cellTemplateData[t]);nn(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(let{cellContainers:i}of this.renderedTemplates)i[e].style.width=`${t}px`}};cw.TemplateId="row";function ame(r){return{getHeight(e){return r.getHeight(e)},getTemplateId(){return cw.TemplateId}}}var mZ=class{constructor(e,t){this.column=e,this.index=t,this._onDidLayout=new B,this.onDidLayout=this._onDidLayout.event,this.element=le(".monaco-table-th",{"data-col-index":t,title:e.tooltip},e.label)}get minimumSize(){var e;return(e=this.column.minimumWidth)!==null&&e!==void 0?e:120}get maximumSize(){var e;return(e=this.column.maximumWidth)!==null&&e!==void 0?e:Number.POSITIVE_INFINITY}get onDidChange(){var e;return(e=this.column.onDidChangeWidthConstraints)!==null&&e!==void 0?e:xe.None}layout(e){this._onDidLayout.fire([this.index,e])}},dw=class{constructor(e,t,i,n,o,s){this.virtualDelegate=i,this.domId=`table_id_${++dw.InstanceCount}`,this.disposables=new J,this.cachedWidth=0,this.cachedHeight=0,this.domNode=ee(t,le(`.monaco-table.${this.domId}`));let a=n.map((d,h)=>new mZ(d,h)),l={size:a.reduce((d,h)=>d+h.column.weight,0),views:a.map(d=>({size:d.column.weight,view:d}))};this.splitview=this.disposables.add(new A1(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:l})),this.splitview.el.style.height=`${i.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${i.headerRowHeight}px`;let c=new cw(n,o,d=>this.splitview.getViewSize(d));this.list=this.disposables.add(new Os(e,this.domNode,ame(i),[c],s)),xe.any(...a.map(d=>d.onDidLayout))(([d,h])=>c.layoutColumn(d,h),null,this.disposables),this.splitview.onDidSashReset(d=>{let h=n.reduce((f,m)=>f+m.weight,0),u=n[d].weight/h*this.cachedWidth;this.splitview.resizeView(d,u)},null,this.disposables),this.styleElement=po(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(e){this.list.updateOptions(e)}splice(e,t,i=[]){this.list.splice(e,t,i)}getHTMLElement(){return this.domNode}style(e){let t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=t.join(`
`),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}};dw.InstanceCount=0;Be();os();var hw;(function(r){r[r.Unknown=0]="Unknown",r[r.Twistie=1]="Twistie",r[r.Element=2]="Element"})(hw||(hw={}));var Hr=class extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}},uw=class{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}};jt();nt();Ee();Va();function R1(r){return typeof r=="object"&&"visibility"in r&&"data"in r}function Hp(r){switch(r){case!0:return 1;case!1:return 0;default:return r}}function g5(r){return typeof r.collapsible=="boolean"}var m5=class{constructor(e,t,i,n={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new ym,this._onDidChangeCollapseState=new B,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new B,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new B,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new pr(MM),this.collapseByDefault=typeof n.collapseByDefault>"u"?!1:n.collapseByDefault,this.filter=n.filter,this.autoExpandSingleChildren=typeof n.autoExpandSingleChildren>"u"?!1:n.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,i=Ot.empty(),n={}){if(e.length===0)throw new Hr(this.user,"Invalid tree location");n.diffIdentityProvider?this.spliceSmart(n.diffIdentityProvider,e,t,i,n):this.spliceSimple(e,t,i,n)}spliceSmart(e,t,i,n,o,s){var a;n===void 0&&(n=Ot.empty()),s===void 0&&(s=(a=o.diffDepth)!==null&&a!==void 0?a:0);let{parentNode:l}=this.getParentNodeWithListIndex(t);if(!l.lastDiffIds)return this.spliceSimple(t,i,n,o);let c=[...n],d=t[t.length-1],h=new Ea({getElements:()=>l.lastDiffIds},{getElements:()=>[...l.children.slice(0,d),...c,...l.children.slice(d+i)].map(w=>e.getId(w.element).toString())}).ComputeDiff(!1);if(h.quitEarly)return l.lastDiffIds=void 0,this.spliceSimple(t,i,c,o);let u=t.slice(0,-1),f=(w,y,C)=>{if(s>0)for(let E=0;E<C;E++)w--,y--,this.spliceSmart(e,[...u,w,0],Number.MAX_SAFE_INTEGER,c[y].children,o,s-1)},m=Math.min(l.children.length,d+i),_=c.length;for(let w of h.changes.sort((y,C)=>C.originalStart-y.originalStart))f(m,_,m-(w.originalStart+w.originalLength)),m=w.originalStart,_=w.modifiedStart-d,this.spliceSimple([...u,m],w.originalLength,Ot.slice(c,_,_+w.modifiedLength),o);f(m,_,m)}spliceSimple(e,t,i=Ot.empty(),{onDidCreateNode:n,onDidDeleteNode:o,diffIdentityProvider:s}){let{parentNode:a,listIndex:l,revealed:c,visible:d}=this.getParentNodeWithListIndex(e),h=[],u=Ot.map(i,I=>this.createTreeNode(I,a,a.visible?1:0,c,h,n)),f=e[e.length-1],m=a.children.length>0,_=0;for(let I=f;I>=0&&I<a.children.length;I--){let T=a.children[I];if(T.visible){_=T.visibleChildIndex;break}}let w=[],y=0,C=0;for(let I of u)w.push(I),C+=I.renderNodeCount,I.visible&&(I.visibleChildIndex=_+y++);let E=PP(a.children,f,t,w);s?a.lastDiffIds?PP(a.lastDiffIds,f,t,w.map(I=>s.getId(I.element).toString())):a.lastDiffIds=a.children.map(I=>s.getId(I.element).toString()):a.lastDiffIds=void 0;let L=0;for(let I of E)I.visible&&L++;if(L!==0)for(let I=f+w.length;I<a.children.length;I++){let T=a.children[I];T.visible&&(T.visibleChildIndex-=L)}if(a.visibleChildrenCount+=y-L,c&&d){let I=E.reduce((T,R)=>T+(R.visible?R.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(a,C-I),this.list.splice(l,I,h)}if(E.length>0&&o){let I=T=>{o(T),T.children.forEach(I)};E.forEach(I)}this._onDidSplice.fire({insertedNodes:w,deletedNodes:E});let k=a.children.length>0;m!==k&&this.setCollapsible(e.slice(0,-1),k);let M=a;for(;M;){if(M.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}M=M.parent}}rerender(e){if(e.length===0)throw new Hr(this.user,"Invalid tree location");let{node:t,listIndex:i,revealed:n}=this.getTreeNodeWithListIndex(e);t.visible&&n&&this.list.splice(i,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){let{listIndex:t,visible:i,revealed:n}=this.getTreeNodeWithListIndex(e);return i&&n?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){let i=this.getTreeNode(e);typeof t>"u"&&(t=!i.collapsible);let n={collapsible:t};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,n))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){let n=this.getTreeNode(e);typeof t>"u"&&(t=!n.collapsed);let o={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,o))}_setCollapseState(e,t){let{node:i,listIndex:n,revealed:o}=this.getTreeNodeWithListIndex(e),s=this._setListNodeCollapseState(i,n,o,t);if(i!==this.root&&this.autoExpandSingleChildren&&s&&!g5(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let a=-1;for(let l=0;l<i.children.length;l++)if(i.children[l].visible)if(a>-1){a=-1;break}else a=l;a>-1&&this._setCollapseState([...e,a],t)}return s}_setListNodeCollapseState(e,t,i,n){let o=this._setNodeCollapseState(e,n,!1);if(!i||!e.visible||!o)return o;let s=e.renderNodeCount,a=this.updateNodeAfterCollapseChange(e),l=s-(t===-1?0:1);return this.list.splice(t+1,l,a.slice(1)),o}_setNodeCollapseState(e,t,i){let n;if(e===this.root?n=!1:(g5(t)?(n=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(n=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):n=!1,n&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!g5(t)&&t.recursive)for(let o of e.children)n=this._setNodeCollapseState(o,t,!0)||n;return n}expandTo(e){this.eventBufferer.bufferEvents(()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})})}refilter(){let e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t),this.refilterDelayer.cancel()}createTreeNode(e,t,i,n,o,s){let a={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof e.collapsible=="boolean"?e.collapsible:typeof e.collapsed<"u",collapsed:typeof e.collapsed>"u"?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(a,i);a.visibility=l,n&&o.push(a);let c=e.children||Ot.empty(),d=n&&l!==0&&!a.collapsed,h=Ot.map(c,m=>this.createTreeNode(m,a,l,d,o,s)),u=0,f=1;for(let m of h)a.children.push(m),f+=m.renderNodeCount,m.visible&&(m.visibleChildIndex=u++);return a.collapsible=a.collapsible||a.children.length>0,a.visibleChildrenCount=u,a.visible=l===2?u>0:l===1,a.visible?a.collapsed||(a.renderNodeCount=f):(a.renderNodeCount=0,n&&o.pop()),s&&s(a),a}updateNodeAfterCollapseChange(e){let t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(e.visible===!1)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(let i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){let t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,n=!0){let o;if(e!==this.root){if(o=this._filterNode(e,t),o===0)return e.visible=!1,e.renderNodeCount=0,!1;n&&i.push(e)}let s=i.length;e.renderNodeCount=e===this.root?0:1;let a=!1;if(!e.collapsed||o!==0){let l=0;for(let c of e.children)a=this._updateNodeAfterFilterChange(c,o,i,n&&!e.collapsed)||a,c.visible&&(c.visibleChildIndex=l++);e.visibleChildrenCount=l}else e.visibleChildrenCount=0;return e!==this.root&&(e.visible=o===2?a:o===1,e.visibility=o),e.visible?e.collapsed||(e.renderNodeCount+=i.length-s):(e.renderNodeCount=0,n&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(t!==0)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){let i=this.filter?this.filter.filter(e.element,t):1;return typeof i=="boolean"?(e.filterData=void 0,i?1:0):R1(i)?(e.filterData=i.data,Hp(i.visibility)):(e.filterData=void 0,Hp(i))}hasTreeNode(e,t=this.root){if(!e||e.length===0)return!0;let[i,...n]=e;return i<0||i>t.children.length?!1:this.hasTreeNode(n,t.children[i])}getTreeNode(e,t=this.root){if(!e||e.length===0)return t;let[i,...n]=e;if(i<0||i>t.children.length)throw new Hr(this.user,"Invalid tree location");return this.getTreeNode(n,t.children[i])}getTreeNodeWithListIndex(e){if(e.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};let{parentNode:t,listIndex:i,revealed:n,visible:o}=this.getParentNodeWithListIndex(e),s=e[e.length-1];if(s<0||s>t.children.length)throw new Hr(this.user,"Invalid tree location");let a=t.children[s];return{node:a,listIndex:i,revealed:n,visible:o&&a.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,n=!0,o=!0){let[s,...a]=e;if(s<0||s>t.children.length)throw new Hr(this.user,"Invalid tree location");for(let l=0;l<s;l++)i+=t.children[l].renderNodeCount;return n=n&&!t.collapsed,o=o&&t.visible,a.length===0?{parentNode:t,listIndex:i,revealed:n,visible:o}:this.getParentNodeWithListIndex(a,t.children[s],i+1,n,o)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){let t=[],i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){if(e.length!==0)return e.length===1?[]:jj(e)[0]}getFirstElementChild(e){let t=this.getTreeNode(e);if(t.children.length!==0)return t.children[0].element}};jt();nt();ln();Ee();re();Gv();xt();ke();var _Z=class extends Lg{constructor(e){super(e.elements.map(t=>t.element));this.data=e}};function p5(r){return r instanceof Lg?new _Z(r):r}var bZ=class{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=$.None}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(p5(e),t)}onDragOver(e,t,i,n,o=!0){let s=this.dnd.onDragOver(p5(e),t&&t.element,i,n),a=this.autoExpandNode!==t;if(a&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),typeof t>"u")return s;if(a&&typeof s!="boolean"&&s.autoExpand&&(this.autoExpandDisposable=Ul(()=>{let u=this.modelProvider(),f=u.getNodeLocation(t);u.isCollapsed(f)&&u.setCollapsed(f,!1),this.autoExpandNode=void 0},500)),typeof s=="boolean"||!s.accept||typeof s.bubble>"u"||s.feedback){if(!o){let u=typeof s=="boolean"?s:s.accept,f=typeof s=="boolean"?void 0:s.effect;return{accept:u,effect:f,feedback:[i]}}return s}if(s.bubble===1){let u=this.modelProvider(),f=u.getNodeLocation(t),m=u.getParentNodeLocation(f),_=u.getNode(m),w=m&&u.getListIndex(m);return this.onDragOver(e,_,w,n,!1)}let l=this.modelProvider(),c=l.getNodeLocation(t),d=l.getListIndex(c),h=l.getListRenderCount(c);return Object.assign(Object.assign({},s),{feedback:Do(d,d+h)})}drop(e,t,i,n){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(p5(e),t&&t.element,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}};function lme(r,e){return e&&Object.assign(Object.assign({},e),{identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new bZ(r,e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent(t){return e.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))},isSelectionRangeChangeEvent(t){return e.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))}},accessibilityProvider:e.accessibilityProvider&&Object.assign(Object.assign({},e.accessibilityProvider),{getSetSize(t){let i=r(),n=i.getNodeLocation(t),o=i.getParentNodeLocation(n);return i.getNode(o).visibleChildrenCount},getPosInSet(t){return t.visibleChildIndex+1},isChecked:e.accessibilityProvider&&e.accessibilityProvider.isChecked?t=>e.accessibilityProvider.isChecked(t.element):void 0,getRole:e.accessibilityProvider&&e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",getAriaLabel(t){return e.accessibilityProvider.getAriaLabel(t.element)},getWidgetAriaLabel(){return e.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:e.accessibilityProvider&&e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider&&e.accessibilityProvider.getAriaLevel?t=>e.accessibilityProvider.getAriaLevel(t.element):t=>t.depth,getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))}),keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}}),enableKeyboardNavigation:e.simpleKeyboardNavigation})}var B1=class{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(e.element,t)}},F1;(function(r){r.None="none",r.OnHover="onHover",r.Always="always"})(F1||(F1={}));var vZ=class{constructor(e,t=[]){this._elements=t,this.onDidChange=xe.forEach(e,i=>this._elements=i)}get elements(){return this._elements}},fw=class{constructor(e,t,i,n,o={}){this.renderer=e,this.modelProvider=t,this.activeNodes=n,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=fw.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new WA,this.activeIndentNodes=new Set,this.indentGuidesDisposable=$.None,this.disposables=new J,this.templateId=e.templateId,this.updateOptions(o),xe.map(i,s=>s.node)(this.onDidChangeNodeTwistieState,this,this.disposables),e.onDidChangeTwistieState&&e.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){if(typeof e.indent<"u"&&(this.indent=sr(e.indent,0,40)),typeof e.renderIndentGuides<"u"){let t=e.renderIndentGuides!==F1.None;if(t!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=t,this.indentGuidesDisposable.dispose(),t)){let i=new J;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,i),this.indentGuidesDisposable=i,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof e.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){let t=ee(e,le(".monaco-tl-row")),i=ee(t,le(".monaco-tl-indent")),n=ee(t,le(".monaco-tl-twistie")),o=ee(t,le(".monaco-tl-contents")),s=this.renderer.renderTemplate(o);return{container:e,indent:i,twistie:n,indentGuidesDisposable:$.None,templateData:s}}renderElement(e,t,i,n){typeof n=="number"&&(this.renderedNodes.set(e,{templateData:i,height:n}),this.renderedElements.set(e.element,e));let o=fw.DefaultIndent+(e.depth-1)*this.indent;i.twistie.style.paddingLeft=`${o}px`,i.indent.style.width=`${o+this.indent-16}px`,this.renderTwistie(e,i),typeof n=="number"&&this.renderIndentGuides(e,i),this.renderer.renderElement(e,t,i.templateData,n)}disposeElement(e,t,i,n){i.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.templateData,n),typeof n=="number"&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){let t=this.renderedElements.get(e);!t||this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){let t=this.renderedNodes.get(e);!t||(this.renderTwistie(e,t.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(e,t.templateData))}renderTwistie(e,t){t.twistie.classList.remove(...p.treeItemExpanded.classNamesArray);let i=!1;this.renderer.renderTwistie&&(i=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(i||t.twistie.classList.add(...p.treeItemExpanded.classNamesArray),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded")}renderIndentGuides(e,t){if(nn(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;let i=new J,n=this.modelProvider(),o=e;for(;;){let s=n.getNodeLocation(o),a=n.getParentNodeLocation(s);if(!a)break;let l=n.getNode(a),c=le(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(l)&&c.classList.add("active"),t.indent.childElementCount===0?t.indent.appendChild(c):t.indent.insertBefore(c,t.indent.firstElementChild),this.renderedIndentGuides.add(l,c),i.add(Ve(()=>this.renderedIndentGuides.delete(l,c))),o=l}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;let t=new Set,i=this.modelProvider();e.forEach(n=>{let o=i.getNodeLocation(n);try{let s=i.getParentNodeLocation(o);n.collapsible&&n.children.length>0&&!n.collapsed?t.add(n):s&&t.add(i.getNode(s))}catch{}}),this.activeIndentNodes.forEach(n=>{t.has(n)||this.renderedIndentGuides.forEach(n,o=>o.classList.remove("active"))}),t.forEach(n=>{this.activeIndentNodes.has(n)||this.renderedIndentGuides.forEach(n,o=>o.classList.add("active"))}),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),dt(this.disposables)}};fw.DefaultIndent=8;var wZ=class{constructor(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new J,e.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()}filter(e,t){if(this._filter){let o=this._filter.filter(e,t);if(this.tree.options.simpleKeyboardNavigation)return o;let s;if(typeof o=="boolean"?s=o?1:0:R1(o)?s=Hp(o.visibility):s=o,s===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:oa.Default,visibility:!0};let i=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),n=Array.isArray(i)?i:[i];for(let o of n){let s=o&&o.toString();if(typeof s>"u")return{data:oa.Default,visibility:!0};let a=Fp(this._pattern,this._lowercasePattern,0,s,s.toLowerCase(),0,!0);if(a)return this._matchCount++,n.length===1?{data:a,visibility:!0}:{data:{label:s,score:a},visibility:!0}}return this.tree.options.filterOnType?2:{data:oa.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){dt(this.disposables)}},CZ=class{constructor(e,t,i,n,o){this.tree=e,this.view=i,this.filter=n,this.keyboardNavigationDelegate=o,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new B,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new B,this.enabledDisposables=new J,this.disposables=new J,this.domNode=le(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add(se(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=ee(i.getHTMLElement(),le(".monaco-list-type-filter-message")),this.labelDomNode=ee(this.domNode,le("span.label"));let s=ee(this.domNode,le(".controls"));this._filterOnType=!!e.options.filterOnType,this.filterOnTypeDomNode=ee(s,le("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add(se(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=ee(s,le("button.clear"+p.treeFilterClear.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=g("clear","Clear"),this.keyboardNavigationEventFilter=e.options.keyboardNavigationEventFilter,t.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(e.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(e){e.simpleKeyboardNavigation?this.disable():this.enable(),typeof e.filterOnType<"u"&&(this._filterOnType=!!e.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof e.automaticKeyboardNavigation<"u"&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;let e=this.enabledDisposables.add(new oi(this.view.getHTMLElement(),"keydown")),t=xe.chain(e.event).filter(n=>!Lu(n.target)||n.target===this.filterOnTypeDomNode).filter(n=>n.key!=="Dead"&&!/^Media/.test(n.key)).map(n=>new $t(n)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(n=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(n)&&!(n.keyCode===18||n.keyCode===16||n.keyCode===15||n.keyCode===17)||(this.pattern.length>0||this.triggered)&&(n.keyCode===9||n.keyCode===1)&&!n.altKey&&!n.ctrlKey&&!n.metaKey||n.keyCode===1&&(Je?n.altKey&&!n.metaKey:n.ctrlKey)&&!n.shiftKey).forEach(n=>{n.stopPropagation(),n.preventDefault()}).event,i=this.enabledDisposables.add(new oi(this.clearDomNode,"click"));xe.chain(xe.any(t,i.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(e){typeof e=="string"?this.onInput(e):e instanceof MouseEvent||e.keyCode===9||e.keyCode===1&&(Je?e.altKey:e.ctrlKey)?this.onInput(""):e.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+e.browserEvent.key)}onInput(e){let t=this.view.getHTMLElement();e&&!this.domNode.parentElement?t.append(this.domNode):!e&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,n=>!oa.isDefault(n.filterData));let i=this.tree.getFocus();if(i.length>0){let n=i[0];this.tree.getRelativeTop(n)===null&&this.tree.reveal(n,.5)}this.render(),e||(this.triggered=!1)}onDragStart(){let e=this.view.getHTMLElement(),{left:t}=ji(e),i=e.clientWidth,n=i/2,o=this.domNode.clientWidth,s=new J,a=this.positionClassName,l=()=>{switch(a){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${i-o-6}px`;break}},c=h=>{h.preventDefault();let u=h.clientX-t;h.dataTransfer&&(h.dataTransfer.dropEffect="none"),u<n?a="nw":a="ne",l()},d=()=>{this.positionClassName=a,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",dt(s)};l(),this.domNode.classList.remove(a),this.domNode.classList.add("dragging"),s.add(Ve(()=>this.domNode.classList.remove("dragging"))),s.add(se(document,"dragover",h=>c(h))),s.add(se(this.domNode,"dragend",()=>d())),zc.CurrentDragAndDropData=new zF("vscode-ui"),s.add(Ve(()=>zc.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...p.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.classList.add(...p.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.title=g("disable filter on type","Disable Filter on Type")):(this.filterOnTypeDomNode.classList.remove(...p.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.classList.add(...p.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.title=g("enable filter on type","Enable Filter on Type"))}render(){let e=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&e?(this.messageDomNode.textContent=g("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",e),this.domNode.title=g("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(e){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!oa.isDefault(e.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),dt(this.disposables)}};function pZ(r){let e=hw.Unknown;return xA(r.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?e=hw.Twistie:xA(r.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(e=hw.Element),{browserEvent:r.browserEvent,element:r.element?r.element.element:null,target:e}}function XI(r,e){e(r),r.children.forEach(t=>XI(t,e))}var QI=class{constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new B,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(e,t){!t?.__forceEvent&&Xn(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){let n=this;this._onDidChange.fire({get elements(){return n.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map(e=>e.element)),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){let l=this.createNodeSet(),c=d=>l.delete(d);t.forEach(d=>XI(d,c)),this.set([...l.values()]);return}let i=new Set,n=l=>i.add(this.identityProvider.getId(l.element).toString());t.forEach(l=>XI(l,n));let o=new Map,s=l=>o.set(this.identityProvider.getId(l.element).toString(),l);e.forEach(l=>XI(l,s));let a=[];for(let l of this.nodes){let c=this.identityProvider.getId(l.element).toString();if(!i.has(c))a.push(l);else{let h=o.get(c);h&&a.push(h)}}if(this.nodes.length>0&&a.length===0){let l=this.getFirstViewElementWithTrait();l&&a.push(l)}this._set(a,!0)}createNodeSet(){let e=new Set;for(let t of this.nodes)e.add(t);return e}},yZ=class extends ZI{constructor(e,t){super(e);this.tree=t}onViewPointer(e){if(Lu(e.browserEvent.target)||zp(e.browserEvent.target))return;let t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);let i=e.browserEvent.target,n=i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&e.browserEvent.offsetX<16,o=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?o=this.tree.expandOnlyOnTwistieClick(t.element):o=!!this.tree.expandOnlyOnTwistieClick,o&&!n&&e.browserEvent.detail!==2)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&e.browserEvent.detail===2)return super.onViewPointer(e);if(t.collapsible){let s=this.tree.model,a=s.getNodeLocation(t),l=e.browserEvent.altKey;if(this.tree.setFocus([a]),s.setCollapsed(a,void 0,l),o&&n)return}super.onViewPointer(e)}onDoubleClick(e){e.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(e)}},SZ=class extends Os{constructor(e,t,i,n,o,s,a,l){super(e,t,i,n,l);this.focusTrait=o,this.selectionTrait=s,this.anchorTrait=a}createMouseController(e){return new yZ(this,e.tree)}splice(e,t,i=[]){if(super.splice(e,t,i),i.length===0)return;let n=[],o=[],s;i.forEach((a,l)=>{this.focusTrait.has(a)&&n.push(e+l),this.selectionTrait.has(a)&&o.push(e+l),this.anchorTrait.has(a)&&(s=e+l)}),n.length>0&&super.setFocus(Ua([...super.getFocus(),...n])),o.length>0&&super.setSelection(Ua([...super.getSelection(),...o])),typeof s=="number"&&super.setAnchor(s)}setFocus(e,t,i=!1){super.setFocus(e,t),i||this.focusTrait.set(e.map(n=>this.element(n)),t)}setSelection(e,t,i=!1){super.setSelection(e,t),i||this.selectionTrait.set(e.map(n=>this.element(n)),t)}setAnchor(e,t=!1){super.setAnchor(e),t||(typeof e>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}},j1=class{constructor(e,t,i,n,o={}){this._user=e,this._options=o,this.eventBufferer=new ym,this.disposables=new J,this._onWillRefilter=new B,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new B;let s=new B1(i),a=new xx,l=new xx,c=new vZ(l.event);this.renderers=n.map(u=>new fw(u,()=>this.model,a.event,c,o));for(let u of this.renderers)this.disposables.add(u);let d;o.keyboardNavigationLabelProvider&&(d=new wZ(this,o.keyboardNavigationLabelProvider,o.filter),o=Object.assign(Object.assign({},o),{filter:d}),this.disposables.add(d)),this.focus=new QI(()=>this.view.getFocusedElements()[0],o.identityProvider),this.selection=new QI(()=>this.view.getSelectedElements()[0],o.identityProvider),this.anchor=new QI(()=>this.view.getAnchorElement(),o.identityProvider),this.view=new SZ(e,t,s,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},lme(()=>this.model,o)),{tree:this})),this.model=this.createModel(e,this.view,o),a.input=this.model.onDidChangeCollapseState;let h=xe.forEach(this.model.onDidSplice,u=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(u),this.selection.onDidModelSplice(u)})});if(h(()=>null,null,this.disposables),l.input=xe.chain(xe.any(h,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{let u=new Set;for(let f of this.focus.getNodes())u.add(f);for(let f of this.selection.getNodes())u.add(f);return[...u.values()]}).event,o.keyboardSupport!==!1){let u=xe.chain(this.view.onKeyDown).filter(f=>!Lu(f.target)).map(f=>new $t(f));u.filter(f=>f.keyCode===15).on(this.onLeftArrow,this,this.disposables),u.filter(f=>f.keyCode===17).on(this.onRightArrow,this,this.disposables),u.filter(f=>f.keyCode===10).on(this.onSpace,this,this.disposables)}if(o.keyboardNavigationLabelProvider){let u=o.keyboardNavigationDelegate||c5;this.typeFilterController=new CZ(this,this.model,this.view,d,u),this.focusNavigationFilter=f=>this.typeFilterController.shouldAllowFocus(f),this.disposables.add(this.typeFilterController)}this.styleElement=po(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===F1.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return xe.map(this.view.onMouseDblClick,pZ)}get onPointer(){return xe.map(this.view.onPointer,pZ)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return xe.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(e={}){this._options=Object.assign(Object.assign({},this._options),e);for(let t of this.renderers)t.updateOptions(e);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===F1.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}domFocus(){this.view.domFocus()}layout(e,t){this.view.layout(e,t)}style(e){let t=`.${this.view.domId}`,i=[];e.treeIndentGuidesStroke&&(i.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeIndentGuidesStroke.transparent(.4)}; }`),i.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=i.join(`
`),this.view.style(e)}getParentElement(e){let t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}getFirstElementChild(e){return this.model.getFirstElementChild(e)}getNode(e){return this.model.getNode(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){let i=e.map(o=>this.model.getNode(o));this.selection.set(i,t);let n=e.map(o=>this.model.getListIndex(o)).filter(o=>o>-1);this.view.setSelection(n,t,!0)}getSelection(){return this.selection.get()}setFocus(e,t){let i=e.map(o=>this.model.getNode(o));this.focus.set(i,t);let n=e.map(o=>this.model.getListIndex(o)).filter(o=>o>-1);this.view.setFocus(n,t,!0)}focusNext(e=1,t=!1,i,n=this.focusNavigationFilter){this.view.focusNext(e,t,i,n)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);let i=this.model.getListIndex(e);i!==-1&&this.view.reveal(i,t)}getRelativeTop(e){let t=this.model.getListIndex(e);return t===-1?null:this.view.getRelativeTop(t)}onLeftArrow(e){e.preventDefault(),e.stopPropagation();let t=this.view.getFocusedElements();if(t.length===0)return;let i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!0)){let s=this.model.getParentNodeLocation(n);if(!s)return;let a=this.model.getListIndex(s);this.view.reveal(a),this.view.setFocus([a])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();let t=this.view.getFocusedElements();if(t.length===0)return;let i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!1)){if(!i.children.some(l=>l.visible))return;let[s]=this.view.getFocus(),a=s+1;this.view.reveal(a),this.view.setFocus([a])}}onSpace(e){e.preventDefault(),e.stopPropagation();let t=this.view.getFocusedElements();if(t.length===0)return;let i=t[0],n=this.model.getNodeLocation(i),o=e.browserEvent.altKey;this.model.setCollapsed(n,void 0,o)}dispose(){dt(this.disposables),this.view.dispose()}};Va();var $p=class{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new m5(e,t,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare(n,o){return i.sorter.compare(n.element,o.element)}}),this.identityProvider=i.identityProvider}setChildren(e,t=Ot.empty(),i={}){let n=this.getElementLocation(e);this._setChildren(n,this.preserveCollapseState(t),i)}_setChildren(e,t=Ot.empty(),i){let n=new Set,o=new Set,s=l=>{var c;if(l.element===null)return;let d=l;if(n.add(d.element),this.nodes.set(d.element,d),this.identityProvider){let h=this.identityProvider.getId(d.element).toString();o.add(h),this.nodesByIdentity.set(h,d)}(c=i.onDidCreateNode)===null||c===void 0||c.call(i,d)},a=l=>{var c;if(l.element===null)return;let d=l;if(n.has(d.element)||this.nodes.delete(d.element),this.identityProvider){let h=this.identityProvider.getId(d.element).toString();o.has(h)||this.nodesByIdentity.delete(h)}(c=i.onDidDeleteNode)===null||c===void 0||c.call(i,d)};this.model.splice([...e,0],Number.MAX_VALUE,t,Object.assign(Object.assign({},i),{onDidCreateNode:s,onDidDeleteNode:a}))}preserveCollapseState(e=Ot.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),Ot.map(e,t=>{let i=this.nodes.get(t.element);if(!i&&this.identityProvider){let s=this.identityProvider.getId(t.element).toString();i=this.nodesByIdentity.get(s)}if(!i)return Object.assign(Object.assign({},t),{children:this.preserveCollapseState(t.children)});let n=typeof t.collapsible=="boolean"?t.collapsible:i.collapsible,o=typeof t.collapsed<"u"?t.collapsed:i.collapsed;return Object.assign(Object.assign({},t),{collapsible:n,collapsed:o,children:this.preserveCollapseState(t.children)})})}rerender(e){let t=this.getElementLocation(e);this.model.rerender(t)}getFirstElementChild(e=null){let t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}has(e){return this.nodes.has(e)}getListIndex(e){let t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){let t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){let t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){let i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){let t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){let n=this.getElementLocation(e);return this.model.setCollapsed(n,t,i)}expandTo(e){let t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(e===null)return this.model.getNode(this.model.rootRef);let t=this.nodes.get(e);if(!t)throw new Hr(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(e===null)throw new Hr(this.user,"Invalid getParentNodeLocation call");let t=this.nodes.get(e);if(!t)throw new Hr(this.user,`Tree element not found: ${e}`);let i=this.model.getNodeLocation(t),n=this.model.getParentNodeLocation(i);return this.model.getNode(n).element}getElementLocation(e){if(e===null)return[];let t=this.nodes.get(e);if(!t)throw new Hr(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}};Ee();Va();function JI(r){let e=[r.element],t=r.incompressible||!1;return{element:{elements:e,incompressible:t},children:Ot.map(Ot.from(r.children),JI),collapsible:r.collapsible,collapsed:r.collapsed}}function eO(r){let e=[r.element],t=r.incompressible||!1,i,n;for(;[n,i]=Ot.consume(Ot.from(r.children),2),!(n.length!==1||n[0].incompressible);)r=n[0],e.push(r.element);return{element:{elements:e,incompressible:t},children:Ot.map(Ot.concat(n,i),eO),collapsible:r.collapsible,collapsed:r.collapsed}}function _5(r,e=0){let t;return e<r.element.elements.length-1?t=[_5(r,e+1)]:t=Ot.map(Ot.from(r.children),i=>_5(i,0)),e===0&&r.element.incompressible?{element:r.element.elements[e],children:t,incompressible:!0,collapsible:r.collapsible,collapsed:r.collapsed}:{element:r.element.elements[e],children:t,collapsible:r.collapsible,collapsed:r.collapsed}}function EZ(r){return _5(r,0)}function xZ(r,e,t){return r.element===e?Object.assign(Object.assign({},r),{children:t}):Object.assign(Object.assign({},r),{children:Ot.map(Ot.from(r.children),i=>xZ(i,e,t))})}var cme=r=>({getId(e){return e.elements.map(t=>r.getId(t).toString()).join("\0")}}),DZ=class{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new $p(e,t,i),this.enabled=typeof i.compressionEnabled>"u"?!0:i.compressionEnabled,this.identityProvider=i.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(e,t=Ot.empty(),i){let n=i.diffIdentityProvider&&cme(i.diffIdentityProvider);if(e===null){let f=Ot.map(t,this.enabled?eO:JI);this._setChildren(null,f,{diffIdentityProvider:n,diffDepth:1/0});return}let o=this.nodes.get(e);if(!o)throw new Error("Unknown compressed tree node");let s=this.model.getNode(o),a=this.model.getParentNodeLocation(o),l=this.model.getNode(a),c=EZ(s),d=xZ(c,e,t),h=(this.enabled?eO:JI)(d),u=l.children.map(f=>f===s?h:f);this._setChildren(l.element,u,{diffIdentityProvider:n,diffDepth:s.depth-l.depth})}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;let i=this.model.getNode().children,n=Ot.map(i,EZ),o=Ot.map(n,e?eO:JI);this._setChildren(null,o,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,i){let n=new Set,o=a=>{for(let l of a.element.elements)n.add(l),this.nodes.set(l,a.element)},s=a=>{for(let l of a.element.elements)n.has(l)||this.nodes.delete(l)};this.model.setChildren(e,t,Object.assign(Object.assign({},i),{onDidCreateNode:o,onDidDeleteNode:s}))}has(e){return this.nodes.has(e)}getListIndex(e){let t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){let t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(typeof e>"u")return this.model.getNode();let t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){let t=this.model.getNodeLocation(e);return t===null?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){let t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return i===null?null:i.elements[i.elements.length-1]}getFirstElementChild(e){let t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}isCollapsible(e){let t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){let i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){let t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){let n=this.getCompressedNode(e);return this.model.setCollapsed(n,t,i)}expandTo(e){let t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){let t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(e===null)return null;let t=this.nodes.get(e);if(!t)throw new Hr(this.user,`Tree element not found: ${e}`);return t}},dme=r=>r[r.length-1],tO=class{constructor(e,t){this.unwrapper=e,this.node=t}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(e=>new tO(this.unwrapper,e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}};function hme(r,e){return{splice(t,i,n){e.splice(t,i,n.map(o=>r.map(o)))},updateElementHeight(t,i){e.updateElementHeight(t,i)}}}function ume(r,e){return Object.assign(Object.assign({},e),{identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(r(t))}},sorter:e.sorter&&{compare(t,i){return e.sorter.compare(t.elements[0],i.elements[0])}},filter:e.filter&&{filter(t,i){return e.filter.filter(r(t),i)}}})}var b5=class{constructor(e,t,i={}){this.rootRef=null,this.elementMapper=i.elementMapper||dme;let n=o=>this.elementMapper(o.elements);this.nodeMapper=new uw(o=>new tO(n,o)),this.model=new DZ(e,hme(this.nodeMapper,t),ume(n,i))}get onDidSplice(){return xe.map(this.model.onDidSplice,({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map(i=>this.nodeMapper.map(i)),deletedNodes:t.map(i=>this.nodeMapper.map(i))}))}get onDidChangeCollapseState(){return xe.map(this.model.onDidChangeCollapseState,({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t}))}get onDidChangeRenderNodeCount(){return xe.map(this.model.onDidChangeRenderNodeCount,e=>this.nodeMapper.map(e))}setChildren(e,t=Ot.empty(),i={}){this.model.setChildren(e,t,i)}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}getFirstElementChild(e){let t=this.model.getFirstElementChild(e);return t===null||typeof t>"u"?t:this.elementMapper(t.elements)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}};Va();var fme=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},gw=class extends j1{constructor(e,t,i,n,o={}){super(e,t,i,n,o);this.user=e}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(e,t=Ot.empty(),i){this.model.setChildren(e,t,i)}rerender(e){if(e===void 0){this.view.rerender();return}this.model.rerender(e)}hasElement(e){return this.model.has(e)}createModel(e,t,i){return new $p(e,t,i)}},v5=class{constructor(e,t){this._compressedTreeNodeProvider=e,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(e){let t=this.renderer.renderTemplate(e);return{compressedTreeNode:void 0,data:t}}renderElement(e,t,i,n){let o=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);o.element.elements.length===1?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,n)):(i.compressedTreeNode=o,this.renderer.renderCompressedElements(o,t,i.data,n))}disposeElement(e,t,i,n){i.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(i.compressedTreeNode,t,i.data,n):this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.data,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(e,t):!1}};fme([En],v5.prototype,"compressedTreeNodeProvider",null);function gme(r,e){return e&&Object.assign(Object.assign({},e),{keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let i;try{i=r().getCompressedTreeNode(t)}catch{return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return i.element.elements.length===1?e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(i.element.elements)}}})}var W1=class extends gw{constructor(e,t,i,n,o={}){let s=()=>this,a=n.map(l=>new v5(s,l));super(e,t,i,a,gme(s,o))}setChildren(e,t=Ot.empty(),i){this.model.setChildren(e,t,i)}createModel(e,t,i){return new b5(e,t,i)}updateOptions(e={}){super.updateOptions(e),typeof e.compressionEnabled<"u"&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}};nt();ln();ut();Ee();Va();re();ai();var kg=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};function w5(r){return Object.assign(Object.assign({},r),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function y5(r,e){return e.parent?e.parent===r?!0:y5(r,e.parent):!1}function mme(r,e){return r===e||y5(r,e)||y5(e,r)}var iO=class{constructor(e){this.node=e}get element(){return this.node.element.element}get children(){return this.node.children.map(e=>new iO(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}},IZ=class{constructor(e,t,i){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?(t.classList.add(...p.treeItemLoading.classNamesArray),!0):(t.classList.remove(...p.treeItemLoading.classNamesArray),!1)}disposeElement(e,t,i,n){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}};function LZ(r){return{browserEvent:r.browserEvent,elements:r.elements.map(e=>e.element)}}function kZ(r){return{browserEvent:r.browserEvent,element:r.element&&r.element.element,target:r.target}}var OZ=class extends Lg{constructor(e){super(e.elements.map(t=>t.element));this.data=e}};function C5(r){return r instanceof Lg?new OZ(r):r}var TZ=class{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(C5(e),t)}onDragOver(e,t,i,n,o=!0){return this.dnd.onDragOver(C5(e),t&&t.element,i,n)}drop(e,t,i,n){this.dnd.drop(C5(e),t&&t.element,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}};function NZ(r){return r&&Object.assign(Object.assign({},r),{collapseByDefault:!0,identityProvider:r.identityProvider&&{getId(e){return r.identityProvider.getId(e.element)}},dnd:r.dnd&&new TZ(r.dnd),multipleSelectionController:r.multipleSelectionController&&{isSelectionSingleChangeEvent(e){return r.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},isSelectionRangeChangeEvent(e){return r.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))}},accessibilityProvider:r.accessibilityProvider&&Object.assign(Object.assign({},r.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:r.accessibilityProvider.getRole?e=>r.accessibilityProvider.getRole(e.element):()=>"treeitem",isChecked:r.accessibilityProvider.isChecked?e=>{var t;return!!(!((t=r.accessibilityProvider)===null||t===void 0)&&t.isChecked(e.element))}:void 0,getAriaLabel(e){return r.accessibilityProvider.getAriaLabel(e.element)},getWidgetAriaLabel(){return r.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:r.accessibilityProvider.getWidgetRole?()=>r.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:r.accessibilityProvider.getAriaLevel&&(e=>r.accessibilityProvider.getAriaLevel(e.element)),getActiveDescendantId:r.accessibilityProvider.getActiveDescendantId&&(e=>r.accessibilityProvider.getActiveDescendantId(e.element))}),filter:r.filter&&{filter(e,t){return r.filter.filter(e.element,t)}},keyboardNavigationLabelProvider:r.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},r.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(e){return r.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof r.expandOnlyOnTwistieClick>"u"?void 0:typeof r.expandOnlyOnTwistieClick!="function"?r.expandOnlyOnTwistieClick:e=>r.expandOnlyOnTwistieClick(e.element),additionalScrollHeight:r.additionalScrollHeight})}function S5(r,e){e(r),r.children.forEach(t=>S5(t,e))}var nO=class{constructor(e,t,i,n,o,s={}){this.user=e,this.dataSource=o,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new B,this._onDidChangeNodeSlowState=new B,this.nodeMapper=new uw(a=>new iO(a)),this.disposables=new J,this.identityProvider=s.identityProvider,this.autoExpandSingleChildren=typeof s.autoExpandSingleChildren>"u"?!1:s.autoExpandSingleChildren,this.sorter=s.sorter,this.collapseByDefault=s.collapseByDefault,this.tree=this.createTree(e,t,i,n,s),this.root=w5({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return xe.map(this.tree.onDidChangeFocus,LZ)}get onDidChangeSelection(){return xe.map(this.tree.onDidChangeSelection,LZ)}get onMouseDblClick(){return xe.map(this.tree.onMouseDblClick,kZ)}get onPointer(){return xe.map(this.tree.onPointer,kZ)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidDispose(){return this.tree.onDidDispose}createTree(e,t,i,n,o){let s=new B1(i),a=n.map(c=>new IZ(c,this.nodeMapper,this._onDidChangeNodeSlowState.event)),l=NZ(o)||{};return new gw(e,t,s,a,l)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}setInput(e,t){return kg(this,void 0,void 0,function*(){this.refreshPromises.forEach(n=>n.cancel()),this.refreshPromises.clear(),this.root.element=e;let i=t&&{viewState:t,focus:[],selection:[]};yield this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&typeof t.scrollTop=="number"&&(this.scrollTop=t.scrollTop)})}_updateChildren(e=this.root.element,t=!0,i=!1,n,o){return kg(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new Hr(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield xe.toPromise(this._onDidRender.event));let s=this.getDataNode(e);if(yield this.refreshAndRenderNode(s,t,n,o),i)try{this.tree.rerender(s)}catch{}})}rerender(e){if(e===void 0||e===this.root.element){this.tree.rerender();return}let t=this.getDataNode(e);this.tree.rerender(t)}getNode(e=this.root.element){let t=this.getDataNode(e),i=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(i)}collapse(e,t=!1){let i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}expand(e,t=!1){return kg(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new Hr(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield xe.toPromise(this._onDidRender.event));let i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i)||(i.refreshPromise&&(yield this.root.refreshPromise,yield xe.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i)))return!1;let n=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(yield this.root.refreshPromise,yield xe.toPromise(this._onDidRender.event)),n})}setSelection(e,t){let i=e.map(n=>this.getDataNode(n));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map(t=>t.element)}setFocus(e,t){let i=e.map(n=>this.getDataNode(n));this.tree.setFocus(i,t)}getFocus(){return this.tree.getFocus().map(t=>t.element)}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getParentElement(e){let t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}getFirstElementChild(e=this.root.element){let t=this.getDataNode(e),i=this.tree.getFirstElementChild(t===this.root?null:t);return i&&i.element}getDataNode(e){let t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new Hr(this.user,`Data tree node not found: ${e}`);return t}refreshAndRenderNode(e,t,i,n){return kg(this,void 0,void 0,function*(){yield this.refreshNode(e,t,i),this.render(e,i,n)})}refreshNode(e,t,i){return kg(this,void 0,void 0,function*(){let n;return this.subTreeRefreshPromises.forEach((o,s)=>{!n&&mme(s,e)&&(n=o.then(()=>this.refreshNode(e,t,i)))}),n||this.doRefreshSubTree(e,t,i)})}doRefreshSubTree(e,t,i){return kg(this,void 0,void 0,function*(){let n;e.refreshPromise=new Promise(o=>n=o),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally(()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)});try{let o=yield this.doRefreshNode(e,t,i);e.stale=!1,yield jD.settled(o.map(s=>this.doRefreshSubTree(s,t,i)))}finally{n()}})}doRefreshNode(e,t,i){return kg(this,void 0,void 0,function*(){e.hasChildren=!!this.dataSource.hasChildren(e.element);let n;if(!e.hasChildren)n=Promise.resolve(Ot.empty());else{let o=this.doGetChildren(e);if(AP(o))n=Promise.resolve(o);else{let s=Wl(800);s.then(()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)},a=>null),n=o.finally(()=>s.cancel())}}try{let o=yield n;return this.setChildren(e,o,t,i)}catch(o){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),ws(o))return[];throw o}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}})}doGetChildren(e){let t=this.refreshPromises.get(e);if(t)return t;let i=this.dataSource.getChildren(e.element);return AP(i)?this.processChildren(i):(t=xi(()=>kg(this,void 0,void 0,function*(){return this.processChildren(yield i)})),this.refreshPromises.set(e,t),t.finally(()=>{this.refreshPromises.delete(e)}))}_onDidChangeCollapseState({node:e,deep:t}){e.element!==null&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(Ie))}setChildren(e,t,i,n){let o=[...t];if(e.children.length===0&&o.length===0)return[];let s=new Map,a=new Map;for(let d of e.children)if(s.set(d.element,d),this.identityProvider){let h=this.tree.isCollapsed(d);a.set(d.id,{node:d,collapsed:h})}let l=[],c=o.map(d=>{let h=!!this.dataSource.hasChildren(d);if(!this.identityProvider){let _=w5({element:d,parent:e,hasChildren:h});return h&&this.collapseByDefault&&!this.collapseByDefault(d)&&(_.collapsedByDefault=!1,l.push(_)),_}let u=this.identityProvider.getId(d).toString(),f=a.get(u);if(f){let _=f.node;return s.delete(_.element),this.nodes.delete(_.element),this.nodes.set(d,_),_.element=d,_.hasChildren=h,i?f.collapsed?(_.children.forEach(w=>S5(w,y=>this.nodes.delete(y.element))),_.children.splice(0,_.children.length),_.stale=!0):l.push(_):h&&this.collapseByDefault&&!this.collapseByDefault(d)&&(_.collapsedByDefault=!1,l.push(_)),_}let m=w5({element:d,parent:e,id:u,hasChildren:h});return n&&n.viewState.focus&&n.viewState.focus.indexOf(u)>-1&&n.focus.push(m),n&&n.viewState.selection&&n.viewState.selection.indexOf(u)>-1&&n.selection.push(m),n&&n.viewState.expanded&&n.viewState.expanded.indexOf(u)>-1?l.push(m):h&&this.collapseByDefault&&!this.collapseByDefault(d)&&(m.collapsedByDefault=!1,l.push(m)),m});for(let d of s.values())S5(d,h=>this.nodes.delete(h.element));for(let d of c)this.nodes.set(d.element,d);return e.children.splice(0,e.children.length,...c),e!==this.root&&this.autoExpandSingleChildren&&c.length===1&&l.length===0&&(c[0].collapsedByDefault=!1,l.push(c[0])),l}render(e,t,i){let n=e.children.map(s=>this.asTreeElement(s,t)),o=i&&Object.assign(Object.assign({},i),{diffIdentityProvider:i.diffIdentityProvider&&{getId(s){return i.diffIdentityProvider.getId(s.element)}}});this.tree.setChildren(e===this.root?null:e,n,o),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1?i=!1:i=e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?Ot.map(e.children,n=>this.asTreeElement(n,t)):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose()}},oO=class{constructor(e){this.node=e}get element(){return{elements:this.node.element.elements.map(e=>e.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(e=>new oO(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}},PZ=class{constructor(e,t,i,n){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=i,this.onDidChangeTwistieState=n,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderCompressedElements(e,t,i,n){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?(t.classList.add(...p.treeItemLoading.classNamesArray),!0):(t.classList.remove(...p.treeItemLoading.classNamesArray),!1)}disposeElement(e,t,i,n){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,n)}disposeCompressedElements(e,t,i,n){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=dt(this.disposables)}};function pme(r){let e=r&&NZ(r);return e&&Object.assign(Object.assign({},e),{keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(t){return r.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map(i=>i.element))}})})}var E5=class extends nO{constructor(e,t,i,n,o,s,a={}){super(e,t,i,o,s,a);this.compressionDelegate=n,this.compressibleNodeMapper=new uw(l=>new oO(l)),this.filter=a.filter}createTree(e,t,i,n,o){let s=new B1(i),a=n.map(c=>new PZ(c,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),l=pme(o)||{};return new W1(e,t,s,a,l)}asTreeElement(e,t){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(e.element)},super.asTreeElement(e,t))}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t){if(!this.identityProvider)return super.render(e,t);let i=u=>this.identityProvider.getId(u).toString(),n=u=>{let f=new Set;for(let m of u){let _=this.tree.getCompressedTreeNode(m===this.root?null:m);if(!!_.element)for(let w of _.element.elements)f.add(i(w.element))}return f},o=n(this.tree.getSelection()),s=n(this.tree.getFocus());super.render(e,t);let a=this.getSelection(),l=!1,c=this.getFocus(),d=!1,h=u=>{let f=u.element;if(f)for(let m=0;m<f.elements.length;m++){let _=i(f.elements[m].element),w=f.elements[f.elements.length-1].element;o.has(_)&&a.indexOf(w)===-1&&(a.push(w),l=!0),s.has(_)&&c.indexOf(w)===-1&&(c.push(w),d=!0)}u.children.forEach(h)};h(this.tree.getCompressedTreeNode(e===this.root?null:e)),l&&this.setSelection(a),d&&this.setFocus(c)}processChildren(e){return this.filter&&(e=Ot.filter(e,t=>{let i=this.filter.filter(t,1),n=_me(i);if(n===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return n===1})),super.processChildren(e)}};function _me(r){return typeof r=="boolean"?r?1:0:R1(r)?Hp(r.visibility):Hp(r)}var x5=class extends j1{constructor(e,t,i,n,o,s={}){super(e,t,i,n,s);this.user=e,this.dataSource=o,this.identityProvider=s.identityProvider}createModel(e,t,i){return new $p(e,t,i)}};Ee();re();ke();Fr();Sp();Et();xt();ke();Et();var Tnt=new Se("isMac",Je,g("isMac","Whether the operating system is macOS")),Nnt=new Se("isLinux",Fi,g("isLinux","Whether the operating system is Linux")),U1=new Se("isWindows",Ri,g("isWindows","Whether the operating system is Windows")),Pnt=new Se("isWeb",pa,g("isWeb","Whether the platform is a web browser")),Mnt=new Se("isMacNative",Je&&!pa,g("isMacNative","Whether the operating system is macOS on a non-browser platform")),Ant=new Se("isIOS",Jr,g("isIOS","Whether the operating system is iOS")),Rnt=new Se("isDevelopment",!1,!0),D5="inputFocus",Fnt=new Se(D5,!1,g("inputFocus","Whether keyboard focus is inside an input box"));Ye();as();pt();var dh=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Vt=function(r,e){return function(t,i){e(t,i,r)}},sa=Fe("listService"),rO=class{constructor(e){this._themeService=e,this.disposables=new J,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(e){var t,i;e!==this._lastFocusedWidget&&((t=this._lastFocusedWidget)===null||t===void 0||t.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=e,(i=this._lastFocusedWidget)===null||i===void 0||i.getHTMLElement().classList.add("last-focused"))}register(e,t){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;let n=new GI(po(),"");this.disposables.add(Eu(n,this._themeService))}if(this.lists.some(n=>n.widget===e))throw new Error("Cannot register the same widget multiple times");let i={widget:e,extraContextKeys:t};return this.lists.push(i),e.getHTMLElement()===document.activeElement&&this.setLastFocusedList(e),Ws(e.onDidFocus(()=>this.setLastFocusedList(e)),Ve(()=>this.lists.splice(this.lists.indexOf(i),1)),e.onDidDispose(()=>{this.lists=this.lists.filter(n=>n!==i),this._lastFocusedWidget===e&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};rO=dh([Vt(0,Ft)],rO);var WZ=new Se("listFocus",!0),hO=new Se("listSupportsMultiselect",!0),k5=Ce.and(WZ,Ce.not(D5)),I5=new Se("listHasSelectionOrFocus",!1),O5=new Se("listDoubleSelection",!1),T5=new Se("listMultiSelection",!1),uO=new Se("listSelectionNavigation",!1),fO=new Se("treeElementCanCollapse",!1),bme=new Se("treeElementHasParent",!1),gO=new Se("treeElementCanExpand",!1),vme=new Se("treeElementHasChild",!1),UZ="listAutomaticKeyboardNavigation";function mO(r,e){let t=r.createScoped(e.getHTMLElement());return WZ.bindTo(t),t}var qp="workbench.list.multiSelectModifier",L5="workbench.list.openMode",gl="workbench.list.horizontalScrolling",sO="workbench.list.keyboardNavigation",N5="workbench.list.automaticKeyboardNavigation",z1="workbench.tree.indent",aO="workbench.tree.renderIndentGuides",Hc="workbench.list.smoothScrolling",ah="workbench.list.mouseWheelScrollSensitivity",lh="workbench.list.fastScrollSensitivity",lO="workbench.tree.expandMode";function ch(r){return r.getValue(qp)==="alt"}var zZ=class extends ${constructor(e){super();this.configurationService=e,this.useAltAsMultipleSelectionModifier=ch(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(qp)&&(this.useAltAsMultipleSelectionModifier=ch(this.configurationService))}))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:d5(e)}isSelectionRangeChangeEvent(e){return h5(e)}};function pO(r,e,t){var i;let n=new J;return[Object.assign(Object.assign({},r),{keyboardNavigationDelegate:{mightProducePrintableCharacter(s){return t.mightProducePrintableCharacter(s)}},smoothScrolling:Boolean(e.getValue(Hc)),mouseWheelScrollSensitivity:e.getValue(ah),fastScrollSensitivity:e.getValue(lh),multipleSelectionController:(i=r.multipleSelectionController)!==null&&i!==void 0?i:n.add(new zZ(e))}),n]}var cO=class extends Os{constructor(e,t,i,n,o,s,a,l,c,d){let h=typeof o.horizontalScrolling<"u"?o.horizontalScrolling:Boolean(c.getValue(gl)),[u,f]=pO(o,c,d);super(e,t,i,n,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},hl(l.getColorTheme(),_1)),u),{horizontalScrolling:h}));this.disposables.add(f),this.contextKeyService=mO(s,this),this.themeService=l,this.listSupportsMultiSelect=hO.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(o.multipleSelectionSupport!==!1),uO.bindTo(this.contextKeyService).set(Boolean(o.selectionNavigation)),this.listHasSelectionOrFocus=I5.bindTo(this.contextKeyService),this.listDoubleSelection=O5.bindTo(this.contextKeyService),this.listMultiSelection=T5.bindTo(this.contextKeyService),this.horizontalScrolling=o.horizontalScrolling,this._useAltAsMultipleSelectionModifier=ch(c),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),o.overrideStyles&&this.updateStyles(o.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{let _=this.getSelection(),w=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(_.length>0||w.length>0),this.listMultiSelection.set(_.length>1),this.listDoubleSelection.set(_.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{let _=this.getSelection(),w=this.getFocus();this.listHasSelectionOrFocus.set(_.length>0||w.length>0)})),this.disposables.add(c.onDidChangeConfiguration(_=>{_.affectsConfiguration(qp)&&(this._useAltAsMultipleSelectionModifier=ch(c));let w={};if(_.affectsConfiguration(gl)&&this.horizontalScrolling===void 0){let y=Boolean(c.getValue(gl));w=Object.assign(Object.assign({},w),{horizontalScrolling:y})}if(_.affectsConfiguration(Hc)){let y=Boolean(c.getValue(Hc));w=Object.assign(Object.assign({},w),{smoothScrolling:y})}if(_.affectsConfiguration(ah)){let y=c.getValue(ah);w=Object.assign(Object.assign({},w),{mouseWheelScrollSensitivity:y})}if(_.affectsConfiguration(lh)){let y=c.getValue(lh);w=Object.assign(Object.assign({},w),{fastScrollSensitivity:y})}Object.keys(w).length>0&&this.updateOptions(w)})),this.navigator=new P5(this,Object.assign({configurationService:c},o)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;(t=this._styler)===null||t===void 0||t.dispose(),this._styler=Eu(this,this.themeService,e)}dispose(){var e;(e=this._styler)===null||e===void 0||e.dispose(),super.dispose()}};cO=dh([Vt(5,Le),Vt(6,sa),Vt(7,Ft),Vt(8,Ht),Vt(9,Di)],cO);var MZ=class extends u5{constructor(e,t,i,n,o,s,a,l,c,d){let h=typeof o.horizontalScrolling<"u"?o.horizontalScrolling:Boolean(c.getValue(gl)),[u,f]=pO(o,c,d);super(e,t,i,n,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},hl(l.getColorTheme(),_1)),u),{horizontalScrolling:h}));this.disposables=new J,this.disposables.add(f),this.contextKeyService=mO(s,this),this.themeService=l,this.horizontalScrolling=o.horizontalScrolling,this.listSupportsMultiSelect=hO.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(o.multipleSelectionSupport!==!1),uO.bindTo(this.contextKeyService).set(Boolean(o.selectionNavigation)),this._useAltAsMultipleSelectionModifier=ch(c),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),o.overrideStyles&&this.updateStyles(o.overrideStyles),o.overrideStyles&&this.disposables.add(Eu(this,l,o.overrideStyles)),this.disposables.add(c.onDidChangeConfiguration(_=>{_.affectsConfiguration(qp)&&(this._useAltAsMultipleSelectionModifier=ch(c));let w={};if(_.affectsConfiguration(gl)&&this.horizontalScrolling===void 0){let y=Boolean(c.getValue(gl));w=Object.assign(Object.assign({},w),{horizontalScrolling:y})}if(_.affectsConfiguration(Hc)){let y=Boolean(c.getValue(Hc));w=Object.assign(Object.assign({},w),{smoothScrolling:y})}if(_.affectsConfiguration(ah)){let y=c.getValue(ah);w=Object.assign(Object.assign({},w),{mouseWheelScrollSensitivity:y})}if(_.affectsConfiguration(lh)){let y=c.getValue(lh);w=Object.assign(Object.assign({},w),{fastScrollSensitivity:y})}Object.keys(w).length>0&&this.updateOptions(w)})),this.navigator=new P5(this,Object.assign({configurationService:c},o)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;(t=this._styler)===null||t===void 0||t.dispose(),this._styler=Eu(this,this.themeService,e)}dispose(){var e;(e=this._styler)===null||e===void 0||e.dispose(),this.disposables.dispose(),super.dispose()}};MZ=dh([Vt(5,Le),Vt(6,sa),Vt(7,Ft),Vt(8,Ht),Vt(9,Di)],MZ);var AZ=class extends dw{constructor(e,t,i,n,o,s,a,l,c,d,h){let u=typeof s.horizontalScrolling<"u"?s.horizontalScrolling:Boolean(d.getValue(gl)),[f,m]=pO(s,d,h);super(e,t,i,n,o,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},hl(c.getColorTheme(),_1)),f),{horizontalScrolling:u}));this.disposables.add(m),this.contextKeyService=mO(a,this),this.themeService=c,this.listSupportsMultiSelect=hO.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(s.multipleSelectionSupport!==!1),uO.bindTo(this.contextKeyService).set(Boolean(s.selectionNavigation)),this.listHasSelectionOrFocus=I5.bindTo(this.contextKeyService),this.listDoubleSelection=O5.bindTo(this.contextKeyService),this.listMultiSelection=T5.bindTo(this.contextKeyService),this.horizontalScrolling=s.horizontalScrolling,this._useAltAsMultipleSelectionModifier=ch(d),this.disposables.add(this.contextKeyService),this.disposables.add(l.register(this)),s.overrideStyles&&this.updateStyles(s.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{let w=this.getSelection(),y=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(w.length>0||y.length>0),this.listMultiSelection.set(w.length>1),this.listDoubleSelection.set(w.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{let w=this.getSelection(),y=this.getFocus();this.listHasSelectionOrFocus.set(w.length>0||y.length>0)})),this.disposables.add(d.onDidChangeConfiguration(w=>{w.affectsConfiguration(qp)&&(this._useAltAsMultipleSelectionModifier=ch(d));let y={};if(w.affectsConfiguration(gl)&&this.horizontalScrolling===void 0){let C=Boolean(d.getValue(gl));y=Object.assign(Object.assign({},y),{horizontalScrolling:C})}if(w.affectsConfiguration(Hc)){let C=Boolean(d.getValue(Hc));y=Object.assign(Object.assign({},y),{smoothScrolling:C})}if(w.affectsConfiguration(ah)){let C=d.getValue(ah);y=Object.assign(Object.assign({},y),{mouseWheelScrollSensitivity:C})}if(w.affectsConfiguration(lh)){let C=d.getValue(lh);y=Object.assign(Object.assign({},y),{fastScrollSensitivity:C})}Object.keys(y).length>0&&this.updateOptions(y)})),this.navigator=new VZ(this,Object.assign({configurationService:d},s)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;(t=this._styler)===null||t===void 0||t.dispose(),this._styler=Eu(this,this.themeService,e)}dispose(){var e;(e=this._styler)===null||e===void 0||e.dispose(),this.disposables.dispose(),super.dispose()}};AZ=dh([Vt(6,Le),Vt(7,sa),Vt(8,Ft),Vt(9,Ht),Vt(10,Di)],AZ);var _O=class extends ${constructor(e,t){var i;super();this.widget=e,this._onDidOpen=this._register(new B),this.onDidOpen=this._onDidOpen.event,this._register(xe.filter(this.widget.onDidChangeSelection,n=>n.browserEvent instanceof KeyboardEvent)(n=>this.onSelectionFromKeyboard(n))),this._register(this.widget.onPointer(n=>this.onPointer(n.element,n.browserEvent))),this._register(this.widget.onMouseDblClick(n=>this.onMouseDblClick(n.element,n.browserEvent))),typeof t?.openOnSingleClick!="boolean"&&t?.configurationService?(this.openOnSingleClick=t?.configurationService.getValue(L5)!=="doubleClick",this._register(t?.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=t?.configurationService.getValue(L5)!=="doubleClick"}))):this.openOnSingleClick=(i=t?.openOnSingleClick)!==null&&i!==void 0?i:!0}onSelectionFromKeyboard(e){if(e.elements.length!==1)return;let t=e.browserEvent,i=typeof t.preserveFocus=="boolean"?t.preserveFocus:!0,n=typeof t.pinned=="boolean"?t.pinned:!i,o=!1;this._open(this.getSelectedElement(),i,n,o,e.browserEvent)}onPointer(e,t){if(!this.openOnSingleClick||t.detail===2)return;let n=t.button===1,o=!0,s=n,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,o,s,a,t)}onMouseDblClick(e,t){if(!t)return;let i=t.target;if(i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&t.offsetX<16)return;let o=!1,s=!0,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,o,s,a,t)}_open(e,t,i,n,o){!e||this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:i,revealIfVisible:!0},sideBySide:n,element:e,browserEvent:o})}},P5=class extends _O{constructor(e,t){super(e,t);this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}},VZ=class extends _O{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}},HZ=class extends _O{constructor(e,t){super(e,t)}getSelectedElement(){var e;return(e=this.widget.getSelection()[0])!==null&&e!==void 0?e:void 0}};function wme(r,e){let t=!1;return i=>{if(i.toKeybinding().isModifierKey())return!1;if(t)return t=!1,!1;let n=e.softDispatch(i,r);return n&&n.enterChord?(t=!0,!1):(t=!1,!0)}}var RZ=class extends gw{constructor(e,t,i,n,o,s,a,l,c,d,h){let{options:u,getAutomaticKeyboardNavigation:f,disposable:m}=V1(t,o,s,c,d,h);super(e,t,i,n,u);this.disposables.add(m),this.internals=new Kp(this,o,f,o.overrideStyles,s,a,l,c,h),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};RZ=dh([Vt(5,Le),Vt(6,sa),Vt(7,Ft),Vt(8,Ht),Vt(9,Di),Vt(10,oo)],RZ);var FZ=class extends W1{constructor(e,t,i,n,o,s,a,l,c,d,h){let{options:u,getAutomaticKeyboardNavigation:f,disposable:m}=V1(t,o,s,c,d,h);super(e,t,i,n,u);this.disposables.add(m),this.internals=new Kp(this,o,f,o.overrideStyles,s,a,l,c,h),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};FZ=dh([Vt(5,Le),Vt(6,sa),Vt(7,Ft),Vt(8,Ht),Vt(9,Di),Vt(10,oo)],FZ);var BZ=class extends x5{constructor(e,t,i,n,o,s,a,l,c,d,h,u){let{options:f,getAutomaticKeyboardNavigation:m,disposable:_}=V1(t,s,a,d,h,u);super(e,t,i,n,o,f);this.disposables.add(_),this.internals=new Kp(this,s,m,s.overrideStyles,a,l,c,d,u),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};BZ=dh([Vt(6,Le),Vt(7,sa),Vt(8,Ft),Vt(9,Ht),Vt(10,Di),Vt(11,oo)],BZ);var dO=class extends nO{constructor(e,t,i,n,o,s,a,l,c,d,h,u){let{options:f,getAutomaticKeyboardNavigation:m,disposable:_}=V1(t,s,a,d,h,u);super(e,t,i,n,o,f);this.disposables.add(_),this.internals=new Kp(this,s,m,s.overrideStyles,a,l,c,d,u),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};dO=dh([Vt(6,Le),Vt(7,sa),Vt(8,Ft),Vt(9,Ht),Vt(10,Di),Vt(11,oo)],dO);var jZ=class extends E5{constructor(e,t,i,n,o,s,a,l,c,d,h,u,f){let{options:m,getAutomaticKeyboardNavigation:_,disposable:w}=V1(t,a,l,h,u,f);super(e,t,i,n,o,s,m);this.disposables.add(w),this.internals=new Kp(this,a,_,a.overrideStyles,l,c,d,h,f),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};jZ=dh([Vt(7,Le),Vt(8,sa),Vt(9,Ft),Vt(10,Ht),Vt(11,Di),Vt(12,oo)],jZ);function V1(r,e,t,i,n,o){var s;let a=()=>{let m=Boolean(t.getContextKeyValue(UZ));return m&&(m=Boolean(i.getValue(N5))),m},l=o.isScreenReaderOptimized(),c=e.simpleKeyboardNavigation||l?"simple":i.getValue(sO),d=e.horizontalScrolling!==void 0?e.horizontalScrolling:Boolean(i.getValue(gl)),[h,u]=pO(e,i,n),f=e.additionalScrollHeight;return{getAutomaticKeyboardNavigation:a,disposable:u,options:Object.assign(Object.assign({keyboardSupport:!1},h),{indent:typeof i.getValue(z1)=="number"?i.getValue(z1):void 0,renderIndentGuides:i.getValue(aO),smoothScrolling:Boolean(i.getValue(Hc)),automaticKeyboardNavigation:a(),simpleKeyboardNavigation:c==="simple",filterOnType:c==="filter",horizontalScrolling:d,keyboardNavigationEventFilter:wme(r,n),additionalScrollHeight:f,hideTwistiesOfChildlessElements:e.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(s=e.expandOnlyOnTwistieClick)!==null&&s!==void 0?s:i.getValue(lO)==="doubleClick"})}}var Kp=class{constructor(e,t,i,n,o,s,a,l,c){this.tree=e,this.themeService=a,this.disposables=[],this.contextKeyService=mO(o,e),this.listSupportsMultiSelect=hO.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(t.multipleSelectionSupport!==!1),uO.bindTo(this.contextKeyService).set(Boolean(t.selectionNavigation)),this.hasSelectionOrFocus=I5.bindTo(this.contextKeyService),this.hasDoubleSelection=O5.bindTo(this.contextKeyService),this.hasMultiSelection=T5.bindTo(this.contextKeyService),this.treeElementCanCollapse=fO.bindTo(this.contextKeyService),this.treeElementHasParent=bme.bindTo(this.contextKeyService),this.treeElementCanExpand=gO.bindTo(this.contextKeyService),this.treeElementHasChild=vme.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=ch(l);let h=new Set;h.add(UZ);let u=()=>{let _=c.isScreenReaderOptimized()?"simple":l.getValue(sO);e.updateOptions({simpleKeyboardNavigation:_==="simple",filterOnType:_==="filter"})};this.updateStyleOverrides(n);let f=()=>{let m=e.getFocus()[0];if(!m)return;let _=e.getNode(m);this.treeElementCanCollapse.set(_.collapsible&&!_.collapsed),this.treeElementHasParent.set(!!e.getParentElement(m)),this.treeElementCanExpand.set(_.collapsible&&_.collapsed),this.treeElementHasChild.set(!!e.getFirstElementChild(m))};this.disposables.push(this.contextKeyService,s.register(e),e.onDidChangeSelection(()=>{let m=e.getSelection(),_=e.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(m.length>0||_.length>0),this.hasMultiSelection.set(m.length>1),this.hasDoubleSelection.set(m.length===2)})}),e.onDidChangeFocus(()=>{let m=e.getSelection(),_=e.getFocus();this.hasSelectionOrFocus.set(m.length>0||_.length>0),f()}),e.onDidChangeCollapseState(f),e.onDidChangeModel(f),l.onDidChangeConfiguration(m=>{let _={};if(m.affectsConfiguration(qp)&&(this._useAltAsMultipleSelectionModifier=ch(l)),m.affectsConfiguration(z1)){let w=l.getValue(z1);_=Object.assign(Object.assign({},_),{indent:w})}if(m.affectsConfiguration(aO)){let w=l.getValue(aO);_=Object.assign(Object.assign({},_),{renderIndentGuides:w})}if(m.affectsConfiguration(Hc)){let w=Boolean(l.getValue(Hc));_=Object.assign(Object.assign({},_),{smoothScrolling:w})}if(m.affectsConfiguration(sO)&&u(),m.affectsConfiguration(N5)&&(_=Object.assign(Object.assign({},_),{automaticKeyboardNavigation:i()})),m.affectsConfiguration(gl)&&t.horizontalScrolling===void 0){let w=Boolean(l.getValue(gl));_=Object.assign(Object.assign({},_),{horizontalScrolling:w})}if(m.affectsConfiguration(lO)&&t.expandOnlyOnTwistieClick===void 0&&(_=Object.assign(Object.assign({},_),{expandOnlyOnTwistieClick:l.getValue(lO)==="doubleClick"})),m.affectsConfiguration(ah)){let w=l.getValue(ah);_=Object.assign(Object.assign({},_),{mouseWheelScrollSensitivity:w})}if(m.affectsConfiguration(lh)){let w=l.getValue(lh);_=Object.assign(Object.assign({},_),{fastScrollSensitivity:w})}Object.keys(_).length>0&&e.updateOptions(_)}),this.contextKeyService.onDidChangeContext(m=>{m.affectsSome(h)&&e.updateOptions({automaticKeyboardNavigation:i()})}),c.onDidChangeScreenReaderOptimized(()=>u())),this.navigator=new HZ(e,Object.assign({configurationService:l},t)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(e){e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){dt(this.styler),this.styler=e?Eu(this.tree,this.themeService,e):$.None}dispose(){this.disposables=dt(this.disposables),dt(this.styler),this.styler=void 0}};Kp=dh([Vt(4,Le),Vt(5,sa),Vt(6,Ft),Vt(7,Ht),Vt(8,oo)],Kp);var Cme=Ti.as(al.Configuration);Cme.registerConfiguration({id:"workbench",order:7,title:g("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[qp]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[g("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),g("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:g({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[L5]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:g({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[gl]:{type:"boolean",default:!1,description:g("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[z1]:{type:"number",default:8,minimum:4,maximum:40,description:g("tree indent setting","Controls tree indentation in pixels.")},[aO]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:g("render tree indent guides","Controls whether the tree should render indent guides.")},[Hc]:{type:"boolean",default:!1,description:g("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[ah]:{type:"number",default:1,description:g("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[lh]:{type:"number",default:5,description:g("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[sO]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[g("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),g("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),g("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:g("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},[N5]:{type:"boolean",default:!0,markdownDescription:g("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},[lO]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:g("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}});nt();Ei();wm();re();Ye();jt();re();as();var bO;(function(r){r[r.PRESERVE=0]="PRESERVE",r[r.LAST=1]="LAST"})(bO||(bO={}));var M5={Quickaccess:"workbench.contributions.quickaccess"},$Z=class{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return e.prefix.length===0?this.defaultProvider=e:this.providers.push(e),this.providers.sort((t,i)=>i.prefix.length-t.prefix.length),Ve(()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return Il([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find(i=>e.startsWith(i.prefix))||void 0||this.defaultProvider}};Ti.add(M5.Quickaccess,new $Z);Ye();var hh=Fe("quickInputService");as();var yme=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},KZ=function(r,e){return function(t,i){e(t,i,r)}},vO=class extends ${constructor(e,t){super();this.quickInputService=e,this.instantiationService=t,this.registry=Ti.as(M5.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,i){var n;let[o,s]=this.getOrInstantiateProvider(e),a=this.visibleQuickAccess,l=a?.descriptor;if(a&&s&&l===s){e!==s.prefix&&!i?.preserveValue&&(a.picker.value=e),this.adjustValueSelection(a.picker,s,i);return}if(s&&!i?.preserveValue){let f;if(a&&l&&l!==s){let m=a.value.substr(l.prefix.length);m&&(f=`${s.prefix}${m}`)}if(!f){let m=o?.defaultFilterValue;m===bO.LAST?f=this.lastAcceptedPickerValues.get(s):typeof m=="string"&&(f=`${s.prefix}${m}`)}typeof f=="string"&&(e=f)}let c=new J,d=c.add(this.quickInputService.createQuickPick());d.value=e,this.adjustValueSelection(d,s,i),d.placeholder=s?.placeholder,d.quickNavigate=i?.quickNavigateConfiguration,d.hideInput=!!d.quickNavigate&&!a,(typeof i?.itemActivation=="number"||i?.quickNavigateConfiguration)&&(d.itemActivation=(n=i?.itemActivation)!==null&&n!==void 0?n:ul.SECOND),d.contextKey=s?.contextKey,d.filterValue=f=>f.substring(s?s.prefix.length:0),s?.placeholder&&(d.ariaLabel=s?.placeholder);let h;t&&(h=new l0,c.add(ba(d.onWillAccept)(f=>{f.veto(),d.hide()}))),c.add(this.registerPickerListeners(d,o,s,e));let u=c.add(new Ki);if(o&&c.add(o.provide(d,u.token)),ba(d.onDidHide)(()=>{d.selectedItems.length===0&&u.cancel(),c.dispose(),h?.complete(d.selectedItems.slice(0))}),d.show(),t)return h?.p}adjustValueSelection(e,t,i){var n;let o;i?.preserveValue?o=[e.value.length,e.value.length]:o=[(n=t?.prefix.length)!==null&&n!==void 0?n:0,e.value.length],e.valueSelection=o}registerPickerListeners(e,t,i,n){let o=new J,s=this.visibleQuickAccess={picker:e,descriptor:i,value:n};return o.add(Ve(()=>{s===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),o.add(e.onDidChangeValue(a=>{let[l]=this.getOrInstantiateProvider(a);l!==t?this.show(a,{preserveValue:!0}):s.value=a})),i&&o.add(e.onDidAccept(()=>{this.lastAcceptedPickerValues.set(i,e.value)})),o}getOrInstantiateProvider(e){let t=this.registry.getQuickAccessProvider(e);if(!t)return[void 0,void 0];let i=this.mapProviderToDescriptor.get(t);return i||(i=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,i)),[i,t]}};vO=yme([KZ(0,hh),KZ(1,ze)],vO);Li();pt();var Sme=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},H1=function(r,e){return function(t,i){e(t,i,r)}},wO=class extends AA{constructor(e,t,i,n,o){super(i);this.instantiationService=e,this.contextKeyService=t,this.accessibilityService=n,this.layoutService=o,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(vO))),this._quickAccess}createController(e=this.layoutService,t){var i,n;let o={idPrefix:"quickInput_",container:e.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:a=>this.setContextKey(a),returnFocus:()=>e.focus(),createList:(a,l,c,d,h)=>this.instantiationService.createInstance(cO,a,l,c,d,h),styles:this.computeStyles()},s=this._register(new aw(Object.assign(Object.assign({},o),t)));return s.layout(e.dimension,(n=(i=e.offset)===null||i===void 0?void 0:i.top)!==null&&n!==void 0?n:0),this._register(e.onDidLayout(a=>{var l,c;return s.layout(a,(c=(l=e.offset)===null||l===void 0?void 0:l.top)!==null&&c!==void 0?c:0)})),this._register(s.onShow(()=>this.resetContextKeys())),this._register(s.onHide(()=>this.resetContextKeys())),s}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new Se(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),!(t&&t.get())&&(this.resetContextKeys(),t&&t.set(!0))}resetContextKeys(){this.contexts.forEach(e=>{e.get()&&e.reset()})}pick(e,t={},i=Qe.None){return this.controller.pick(e,t,i)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},hl(this.theme,{quickInputBackground:VA,quickInputForeground:Tz,quickInputTitleBackground:Nz,contrastBorder:Ni,widgetShadow:Ql})),inputBox:hl(this.theme,{inputForeground:nv,inputBackground:iv,inputBorder:ov,inputValidationInfoBackground:kL,inputValidationInfoForeground:IL,inputValidationInfoBorder:OL,inputValidationWarningBackground:TL,inputValidationWarningForeground:NL,inputValidationWarningBorder:PL,inputValidationErrorBackground:ML,inputValidationErrorForeground:AL,inputValidationErrorBorder:RL}),countBadge:hl(this.theme,{badgeBackground:tp,badgeForeground:ip,badgeBorder:Ni}),button:hl(this.theme,{buttonForeground:yz,buttonBackground:wL,buttonHoverBackground:Sz,buttonBorder:Ni}),progressBar:hl(this.theme,{progressBarBackground:Ez}),keybindingLabel:hl(this.theme,{keybindingLabelBackground:Az,keybindingLabelForeground:Rz,keybindingLabelBorder:Fz,keybindingLabelBottomBorder:Bz,keybindingLabelShadow:Ql}),list:hl(this.theme,{listBackground:VA,listInactiveFocusForeground:av,listInactiveSelectionIconForeground:lv,listInactiveFocusBackground:cv,listFocusOutline:ro,listInactiveFocusOutline:ro,pickerGroupBorder:Mz,pickerGroupForeground:Pz})}}};wO=Sme([H1(0,ze),H1(1,Le),H1(2,Ft),H1(3,oo),H1(4,Qd)],wO);wm();var qZ=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Yp=function(r,e){return function(t,i){e(t,i,r)}},A5=class extends wO{constructor(e,t,i,n,o,s){super(t,i,n,o,new nI(e.getContainerDomNode(),s));this.host=void 0;let a=Zp.get(e);if(a){let l=a.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return l.getDomNode()},get dimension(){return e.getLayoutInfo()},get onDidLayout(){return e.onDidLayoutChange},focus:()=>e.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};A5=qZ([Yp(1,ze),Yp(2,Le),Yp(3,Ft),Yp(4,oo),Yp(5,Tt)],A5);var CO=class{constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}get activeService(){let e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){let i=t=this.instantiationService.createInstance(A5,e);this.mapEditorToService.set(e,t),ba(e.onDidDispose)(()=>{i.dispose(),this.mapEditorToService.delete(e)})}return t}get quickAccess(){return this.activeService.quickAccess}pick(e,t={},i=Qe.None){return this.activeService.pick(e,t,i)}createQuickPick(){return this.activeService.createQuickPick()}};CO=qZ([Yp(0,ze),Yp(1,Tt)],CO);var Zp=class{constructor(e){this.editor=e,this.widget=new $1(this.editor)}static get(e){return e.getContribution(Zp.ID)}dispose(){this.widget.dispose()}};Zp.ID="editor.controller.quickInput";var $1=class{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return $1.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}};$1.ID="editor.contrib.quickInputWidget";st(Zp.ID,Zp);Be();Yn();Ee();cn();Yn();var YZ=class{constructor(e,t,i,n,o){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=i,this.foreground=n,this.background=o}};function Eme(r){if(!r||!Array.isArray(r))return[];let e=[],t=0;for(let i=0,n=r.length;i<n;i++){let o=r[i],s=-1;if(typeof o.fontStyle=="string"){s=0;let c=o.fontStyle.split(" ");for(let d=0,h=c.length;d<h;d++)switch(c[d]){case"italic":s=s|1;break;case"bold":s=s|2;break;case"underline":s=s|4;break;case"strikethrough":s=s|8;break}}let a=null;typeof o.foreground=="string"&&(a=o.foreground);let l=null;typeof o.background=="string"&&(l=o.background),e[t++]=new YZ(o.token||"",i,s,a,l)}return e}function xme(r,e){r.sort((d,h)=>{let u=Ime(d.token,h.token);return u!==0?u:d.index-h.index});let t=0,i="000000",n="ffffff";for(;r.length>=1&&r[0].token==="";){let d=r.shift();d.fontStyle!==-1&&(t=d.fontStyle),d.foreground!==null&&(i=d.foreground),d.background!==null&&(n=d.background)}let o=new ZZ;for(let d of e)o.getId(d);let s=o.getId(i),a=o.getId(n),l=new SO(t,s,a),c=new EO(l);for(let d=0,h=r.length;d<h;d++){let u=r[d];c.insert(u.token,u.fontStyle,o.getId(u.foreground),o.getId(u.background))}return new yO(o,c)}var Dme=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/,ZZ=class{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(e===null)return 0;let t=e.match(Dme);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let i=this._color2id.get(e);return i||(i=++this._lastColorId,this._color2id.set(e,i),this._id2color[i]=X.fromHex("#"+e),i)}getColorMap(){return this._id2color.slice(0)}},yO=class{constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(Eme(e),t)}static createFromParsedTokenTheme(e,t){return xme(e,t)}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let i=this._cache.get(t);if(typeof i>"u"){let n=this._match(t),o=kme(t);i=(n.metadata|o<<8)>>>0,this._cache.set(t,i)}return(i|e<<0)>>>0}},Lme=/\b(comment|string|regex|regexp)\b/;function kme(r){let e=r.match(Lme);if(!e)return 0;switch(e[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function Ime(r,e){return r<e?-1:r>e?1:0}var SO=class{constructor(e,t,i){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=i,this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}clone(){return new SO(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,i){e!==-1&&(this._fontStyle=e),t!==0&&(this._foreground=t),i!==0&&(this._background=i),this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}},EO=class{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(e==="")return this._mainRule;let t=e.indexOf("."),i,n;t===-1?(i=e,n=""):(i=e.substring(0,t),n=e.substring(t+1));let o=this._children.get(i);return typeof o<"u"?o.match(n):this._mainRule}insert(e,t,i,n){if(e===""){this._mainRule.acceptOverwrite(t,i,n);return}let o=e.indexOf("."),s,a;o===-1?(s=e,a=""):(s=e.substring(0,o),a=e.substring(o+1));let l=this._children.get(s);typeof l>"u"&&(l=new EO(this._mainRule.clone()),this._children.set(s,l)),l.insert(a,t,i,n)}};function GZ(r){let e=[];for(let t=1,i=r.length;t<i;t++){let n=r[t];e[t]=`.mtk${t} { color: ${n}; }`}return e.push(".mtki { font-style: italic; }"),e.push(".mtkb { font-weight: bold; }"),e.push(".mtku { text-decoration: underline; text-underline-position: under; }"),e.push(".mtks { text-decoration: line-through; }"),e.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),e.join(`
`)}Gs();Li();var XZ={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[nr]:"#FFFFFE",[ec]:"#000000",[X0]:"#E5EBF1",[fv]:"#D3D3D3",[gv]:"#939393",[Q0]:"#ADD6FF4D"}},QZ={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[nr]:"#1E1E1E",[ec]:"#D4D4D4",[X0]:"#3A3D41",[fv]:"#404040",[gv]:"#707070",[Q0]:"#ADD6FF26"}},JZ={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[nr]:"#000000",[ec]:"#FFFFFF",[fv]:"#FFFFFF",[gv]:"#FFFFFF"}};as();Li();pt();re();B0();Be();Ee();pt();function eG(r){let e=new B,t=VF();return t.onDidChange(()=>e.fire()),r?.onDidProductIconThemeChange(()=>e.fire()),{onDidChange:e.event,getCSS(){let i=r?r.getProductIconTheme():new xO,n={},o=a=>{let l=i.getIcon(a);if(!l)return;let c=l.font;return c?(n[c.id]=c.definition,`.codicon-${a.id}:before { content: '${l.fontCharacter}'; font-family: ${kA(c.id)}; }`):`.codicon-${a.id}:before { content: '${l.fontCharacter}'; }`},s=[];for(let a of t.getIcons()){let l=o(a);l&&s.push(l)}for(let a in n){let l=n[a],c=l.weight?`font-weight: ${l.weight};`:"",d=l.style?`font-style: ${l.style};`:"",h=l.src.map(u=>`${Ld(u.location)} format('${u.format}')`).join(", ");s.push(`@font-face { src: ${h}; font-family: ${kA(a)};${c}${d} font-display: block; }`)}return s.join(`
`)}}}var xO=class{getIcon(e){let t=VF(),i=e.defaults;for(;Qt.isThemeIcon(i);){let n=t.getIcon(i.id);if(!n)return;i=n.defaults}return i}};var Gp="vs",LO="vs-dark",mw="hc-black",tG=Ti.as(zA.ColorContribution),Ome=Ti.as(MA.ThemingContribution),B5=class{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;let i=t.base;e.length>0?(DO(e)?this.id=e:this.id=i+" "+e,this.themeName=e):(this.id=i,this.themeName=i),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){let e=new Map;for(let t in this.themeData.colors)e.set(t,X.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){let t=F5(this.themeData.base);for(let i in t.colors)e.has(i)||e.set(i,X.fromHex(t.colors[i]))}this.colors=e}return this.colors}getColor(e,t){let i=this.getColors().get(e);if(i)return i;if(t!==!1)return this.getDefault(e)}getDefault(e){let t=this.defaultColors[e];return t||(t=tG.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return Object.prototype.hasOwnProperty.call(this.getColors(),e)}get type(){switch(this.base){case Gp:return $s.LIGHT;case mw:return $s.HIGH_CONTRAST;default:return $s.DARK}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){let o=F5(this.themeData.base);e=o.rules,o.encodedTokensColors&&(t=o.encodedTokensColors)}let i=this.themeData.colors["editor.foreground"],n=this.themeData.colors["editor.background"];if(i||n){let o={token:""};i&&(o.foreground=i),n&&(o.background=n),e.push(o)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=yO.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,i){let o=this.tokenTheme._match([e].concat(t).join(".")).metadata,s=tr.getForeground(o),a=tr.getFontStyle(o);return{foreground:s,italic:Boolean(a&1),bold:Boolean(a&2),underline:Boolean(a&4),strikethrough:Boolean(a&8)}}};function DO(r){return r===Gp||r===LO||r===mw}function F5(r){switch(r){case Gp:return XZ;case LO:return QZ;case mw:return JZ}}function R5(r){let e=F5(r);return new B5(r,e)}var j5=class extends ${constructor(){super();this._onColorThemeChange=this._register(new B),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new B),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new xO,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(Gp,R5(Gp)),this._knownThemes.set(LO,R5(LO)),this._knownThemes.set(mw,R5(mw));let e=eG(this);this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(Gp),e.onDidChange(()=>{this._codiconCSS=e.getCSS(),this._updateCSS()}),KU("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(e){return Vh(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=po(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),$.None}_registerShadowDomContainer(e){let t=po(e);return t.className="monaco-colors",t.textContent=this._allCSS,this._styleElements.push(t),{dispose:()=>{for(let i=0;i<this._styleElements.length;i++)if(this._styleElements[i]===t){this._styleElements.splice(i,1);return}}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!DO(t.base)&&!DO(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new B5(e,t)),DO(e)&&this._knownThemes.forEach(i=>{i.base===e&&i.notifyBaseUpdated()}),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let t;this._knownThemes.has(e)?t=this._knownThemes.get(e):t=this._knownThemes.get(Gp),this._desiredTheme=t,this._updateActualTheme()}_updateActualTheme(){let e=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(mw):this._desiredTheme;this._theme!==e&&(this._theme=e,this._updateThemeOrColorMap())}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._updateActualTheme()}_updateThemeOrColorMap(){let e=[],t={},i={addRule:s=>{t[s]||(e.push(s),t[s]=!0)}};Ome.getThemingParticipants().forEach(s=>s(this._theme,i,this._environment));let n=[];for(let s of tG.getColors()){let a=this._theme.getColor(s.id,!0);a&&n.push(`${EL(s.id)}: ${a.toString()};`)}i.addRule(`.monaco-editor { ${n.join(`
`)} }`);let o=this._colorMapOverride||this._theme.tokenTheme.getColorMap();i.addRule(GZ(o)),this._themeCSS=e.join(`
`),this._updateCSS(),bi.setColorMap(o),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(e=>e.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}};Ye();var Ts=Fe("themeService");Ee();re();Fr();Et();var Tme=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},iG=function(r,e){return function(t,i){e(t,i,r)}},kO=class extends ${constructor(e,t){super();this._contextKeyService=e,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new B,this._accessibilityModeEnabledContext=Qm.bindTo(this._contextKeyService);let i=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(n=>{n.affectsConfiguration("editor.accessibilitySupport")&&(i(),this._onDidChangeScreenReaderOptimized.fire())})),i(),this.onDidChangeScreenReaderOptimized(()=>i())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){let e=this._configurationService.getValue("editor.accessibilitySupport");return e==="on"||e==="auto"&&this._accessibilitySupport===2}getAccessibilitySupport(){return this._accessibilitySupport}};kO=Tme([iG(0,Le),iG(1,Ht)],kO);Mo();nt();Ee();re();Mo();on();Et();var nG=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},IO=function(r,e){return function(t,i){e(t,i,r)}},OO=class{constructor(e){this._commandService=e}createMenu(e,t,i){return new W5(e,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},i),this._commandService,t,this)}};OO=nG([IO(0,pi)],OO);var W5=class pw{constructor(e,t,i,n,o){this._id=e,this._options=t,this._commandService=i,this._contextKeyService=n,this._menuService=o,this._disposables=new J,this._menuGroups=[],this._contextKeys=new Set,this._build();let s=new wt(()=>{this._build(),this._onDidChange.fire(this)},t.eventDebounceDelay);this._disposables.add(s),this._disposables.add(Po.onDidChangeMenu(c=>{c.has(e)&&s.schedule()}));let a=this._disposables.add(new J),l=()=>{let c=new wt(()=>this._onDidChange.fire(this),t.eventDebounceDelay);a.add(c),a.add(n.onDidChangeContext(d=>{d.affectsSome(this._contextKeys)&&c.schedule()}))};this._onDidChange=new B({onFirstListenerAdd:l,onLastListenerRemove:a.clear.bind(a)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();let e=Po.getMenuItems(this._id),t;e.sort(pw._compareMenuItems);for(let i of e){let n=i.group||"";(!t||t[0]!==n)&&(t=[n,[]],this._menuGroups.push(t)),t[1].push(i),this._collectContextKeys(i)}}_collectContextKeys(e){if(pw._fillInKbExprKeys(e.when,this._contextKeys),Wf(e)){if(e.command.precondition&&pw._fillInKbExprKeys(e.command.precondition,this._contextKeys),e.command.toggled){let t=e.command.toggled.condition||e.command.toggled;pw._fillInKbExprKeys(t,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&Po.getMenuItems(e.submenu).forEach(this._collectContextKeys,this)}getActions(e){let t=[];for(let i of this._menuGroups){let[n,o]=i,s=[];for(let a of o)if(this._contextKeyService.contextMatchesRules(a.when)){let l=Wf(a)?new Zl(a.command,a.alt,e,this._contextKeyService,this._commandService):new Gm(a,this._menuService,this._contextKeyService,e);s.push(l)}s.length>0&&t.push([n,s])}return t}static _fillInKbExprKeys(e,t){if(e)for(let i of e.keys())t.add(i)}static _compareMenuItems(e,t){let i=e.group,n=t.group;if(i!==n){if(i){if(!n)return-1}else return 1;if(i==="navigation")return-1;if(n==="navigation")return 1;let a=i.localeCompare(n);if(a!==0)return a}let o=e.order||0,s=t.order||0;return o<s?-1:o>s?1:pw._compareTitles(Wf(e)?e.command.title:e.title,Wf(t)?t.command.title:t.title)}static _compareTitles(e,t){let i=typeof e=="string"?e:e.original,n=typeof t=="string"?t:t.original;return i.localeCompare(n)}};W5=nG([IO(2,pi),IO(3,Le),IO(4,La)],W5);Oo();Be();nt();re();Vl();var Nme=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},oG=function(r,e){return function(t,i){e(t,i,r)}},K1=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},TO=class extends ${constructor(e,t){super();this.layoutService=e,this.logService=t,this.mapTextToType=new Map,this.findText="",(ir||QC)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){let e=()=>{let t=new l0;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=t,navigator.clipboard.write([new ClipboardItem({"text/plain":t.p})]).catch(i=>K1(this,void 0,void 0,function*(){(!(i instanceof Error)||i.name!=="NotAllowedError"||!t.isRejected)&&this.logService.error(i)}))};this.layoutService.hasContainer&&(this._register(se(this.layoutService.container,"click",e)),this._register(se(this.layoutService.container,"keydown",e)))}writeText(e,t){return K1(this,void 0,void 0,function*(){if(t){this.mapTextToType.set(t,e);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(e);try{return yield navigator.clipboard.writeText(e)}catch(o){console.error(o)}let i=document.activeElement,n=document.body.appendChild(le("textarea",{"aria-hidden":!0}));n.style.height="1px",n.style.width="1px",n.style.position="absolute",n.value=e,n.focus(),n.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(n)})}readText(e){return K1(this,void 0,void 0,function*(){if(e)return this.mapTextToType.get(e)||"";try{return yield navigator.clipboard.readText()}catch(t){return console.error(t),""}})}readFindText(){return K1(this,void 0,void 0,function*(){return this.findText})}writeFindText(e){return K1(this,void 0,void 0,function*(){this.findText=e})}};TO=Nme([oG(0,Qd),oG(1,go)],TO);Ee();Va();re();ia();ke();on();Fr();Et();var Pme=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Mme=function(r,e){return function(t,i){e(t,i,r)}},q1="data-keybinding-context",PO=class{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}setValue(e,t){return this._value[e]!==t?(this._value[e]=t,!0):!1}removeValue(e){return e in this._value?(delete this._value[e],!0):!1}getValue(e){let t=this._value[e];return typeof t>"u"&&this._parent?this._parent.getValue(e):t}},Xp=class extends PO{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}};Xp.INSTANCE=new Xp;var _w=class extends PO{constructor(e,t,i){super(e,null);this._configurationService=t,this._values=Jd.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(n=>{if(n.source===6){let o=Array.from(Ot.map(this._values,([s])=>s));this._values.clear(),i.fire(new z5(o))}else{let o=[];for(let s of n.affectedKeys){let a=`config.${s}`,l=this._values.findSuperstr(a);l!==void 0&&(o.push(...Ot.map(l,([c])=>c)),this._values.deleteSuperstr(a)),this._values.has(a)&&(o.push(a),this._values.delete(a))}i.fire(new z5(o))}})}dispose(){this._listener.dispose()}getValue(e){if(e.indexOf(_w._keyPrefix)!==0)return super.getValue(e);if(this._values.has(e))return this._values.get(e);let t=e.substr(_w._keyPrefix.length),i=this._configurationService.getValue(t),n;switch(typeof i){case"number":case"boolean":case"string":n=i;break;default:Array.isArray(i)?n=JSON.stringify(i):n=i}return this._values.set(e,n),n}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}};_w._keyPrefix="config.";var rG=class{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}},U5=class{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}},z5=class{constructor(e){this.keys=e}affectsSome(e){for(let t of this.keys)if(e.has(t))return!0;return!1}},sG=class{constructor(e){this.events=e}affectsSome(e){for(let t of this.events)if(t.affectsSome(e))return!0;return!1}},V5=class{constructor(e){this._onDidChangeContext=new Cm({merge:t=>new sG(t)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new rG(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new aG(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");let t=this.getContextValuesContainer(this._myContextId);return e?e.evaluate(t):!0}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;let i=this.getContextValuesContainer(this._myContextId);!i||i.setValue(e,t)&&this._onDidChangeContext.fire(new U5(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new U5(e))}getContext(e){return this._isDisposed?Xp.INSTANCE:this.getContextValuesContainer(Ame(e))}},NO=class extends V5{constructor(e){super(0);this._contexts=new Map,this._toDispose=new J,this._lastContextId=0;let t=new _w(this._myContextId,e,this._onDidChangeContext);this._contexts.set(this._myContextId,t),this._toDispose.add(t)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(e){return this._isDisposed?Xp.INSTANCE:this._contexts.get(e)||Xp.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let t=++this._lastContextId;return this._contexts.set(t,new PO(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};NO=Pme([Mme(0,Ht)],NO);var aG=class extends V5{constructor(e,t){super(e.createChildContext());if(this._parentChangeListener=new kn,this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(q1)){let i="";this._domNode.classList&&(i=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${i?": "+i:""}`)}this._domNode.setAttribute(q1,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(q1),this._isDisposed=!0)}getContextValuesContainer(e){return this._isDisposed?Xp.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}};function Ame(r){for(;r;){if(r.hasAttribute(q1)){let e=r.getAttribute(q1);return e?parseInt(e,10):NaN}r=r.parentElement}return 0}ht.registerCommand(QU,function(r,e,t){r.get(Le).createKey(String(e),t)});ht.registerCommand({id:"getContextKeyInfo",handler(){return[...Se.all()].sort((r,e)=>r.key.localeCompare(e.key))},description:{description:g("getContextKeyInfo","A command that returns information about context keys"),args:[]}});ht.registerCommand("_generateContextKeyInfo",function(){let r=[],e=new Set;for(let t of Se.all())e.has(t.key)||(e.add(t.key),r.push(t));r.sort((t,i)=>t.key.localeCompare(i.key)),console.log(JSON.stringify(r,void 0,2))});RD();nt();ut();RD();var lG=class{constructor(e){this.incoming=new Map,this.outgoing=new Map,this.data=e}},H5=class{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){let e=[];for(let t of this._nodes.values())t.outgoing.size===0&&e.push(t);return e}insertEdge(e,t){let i=this.lookupOrInsertNode(e),n=this.lookupOrInsertNode(t);i.outgoing.set(this._hashFn(t),n),n.incoming.set(this._hashFn(e),i)}removeNode(e){let t=this._hashFn(e);this._nodes.delete(t);for(let i of this._nodes.values())i.outgoing.delete(t),i.incoming.delete(t)}lookupOrInsertNode(e){let t=this._hashFn(e),i=this._nodes.get(t);return i||(i=new lG(e),this._nodes.set(t,i)),i}isEmpty(){return this._nodes.size===0}toString(){let e=[];for(let[t,i]of this._nodes)e.push(`${t}, (incoming)[${[...i.incoming.keys()].join(", ")}], (outgoing)[${[...i.outgoing.keys()].join(",")}]`);return e.join(`
`)}findCycleSlow(){for(let[e,t]of this._nodes){let i=new Set([e]),n=this._findCycle(t,i);if(n)return n}}_findCycle(e,t){for(let[i,n]of e.outgoing){if(t.has(i))return[...t,i].join(" -> ");t.add(i);let o=this._findCycle(n,t);if(o)return o;t.delete(i)}}};Ye();var cG=!1,$5=class extends Error{constructor(e){var t;super("cyclic dependency between services");this.message=(t=e.findCycleSlow())!==null&&t!==void 0?t:`UNABLE to detect cycle, dumping graph: 
${e.toString()}`}},Y1=class{constructor(e=new _u,t=!1,i){this._activeInstantiations=new Set,this._services=e,this._strict=t,this._parent=i,this._services.set(ze,this)}createChild(e){return new Y1(e,this._strict,this)}invokeFunction(e,...t){let i=aa.traceInvocation(e),n=!1;try{return e({get:s=>{if(n)throw k6("service accessor is only valid during the invocation of its target method");let a=this._getOrCreateServiceInstance(s,i);if(!a)throw new Error(`[invokeFunction] unknown service '${s}'`);return a}},...t)}finally{n=!0,i.stop()}}createInstance(e,...t){let i,n;return e instanceof Sa?(i=aa.traceCreation(e.ctor),n=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=aa.traceCreation(e),n=this._createInstance(e,t,i)),i.stop(),n}_createInstance(e,t=[],i){let n=Rl.getServiceDependencies(e).sort((a,l)=>a.index-l.index),o=[];for(let a of n){let l=this._getOrCreateServiceInstance(a.id,i);l||this._throwIfStrict(`[createInstance] ${e.name} depends on UNKNOWN service ${a.id}.`,!1),o.push(l)}let s=n.length>0?n[0].index:t.length;if(t.length!==s){console.warn(`[createInstance] First service dependency of ${e.name} at position ${s+1} conflicts with ${t.length} static arguments`);let a=s-t.length;a>0?t=t.concat(new Array(a)):t=t.slice(0,s)}return new e(...[...t,...o])}_setServiceInstance(e,t){if(this._services.get(e)instanceof Sa)this._services.set(e,t);else if(this._parent)this._parent._setServiceInstance(e,t);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(e){let t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){let i=this._getServiceInstanceOrDescriptor(e);return i instanceof Sa?this._safeCreateAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_safeCreateAndCacheServiceInstance(e,t,i){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,i)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,i){let n=new H5(a=>a.id.toString()),o=0,s=[{id:e,desc:t,_trace:i}];for(;s.length;){let a=s.pop();if(n.lookupOrInsertNode(a),o++>1e3)throw new $5(n);for(let l of Rl.getServiceDependencies(a.desc.ctor)){let c=this._getServiceInstanceOrDescriptor(l.id);if(c||this._throwIfStrict(`[createInstance] ${e} depends on ${l.id} which is NOT registered.`,!0),c instanceof Sa){let d={id:l.id,desc:c,_trace:a._trace.branch(l.id,!0)};n.insertEdge(a,d),s.push(d)}}}for(;;){let a=n.roots();if(a.length===0){if(!n.isEmpty())throw new $5(n);break}for(let{data:l}of a){if(this._getServiceInstanceOrDescriptor(l.id)instanceof Sa){let d=this._createServiceInstanceWithOwner(l.id,l.desc.ctor,l.desc.staticArguments,l.desc.supportsDelayedInstantiation,l._trace);this._setServiceInstance(l.id,d)}n.removeNode(l)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,i=[],n,o){if(this._services.get(e)instanceof Sa)return this._createServiceInstance(t,i,n,o);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,n,o);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t=[],i,n){if(i){let o=new el(()=>this._createInstance(e,t,n));return new Proxy(Object.create(null),{get(s,a){if(a in s)return s[a];let l=o.value,c=l[a];return typeof c!="function"||(c=c.bind(l),s[a]=c),c},set(s,a,l){return o.value[a]=l,!0}})}else return this._createInstance(e,t,n)}_throwIfStrict(e,t){if(t&&console.warn(t),this._strict)throw new Error(e)}},aa=class{constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}static traceInvocation(e){return cG?new aa(1,e.name||e.toString().substring(0,42).replace(/\n/g,"")):aa._None}static traceCreation(e){return cG?new aa(0,e.name):aa._None}branch(e,t){let i=new aa(2,e.toString());return this._dep.push([e,t,i]),i}stop(){let e=Date.now()-this._start;aa._totals+=e;let t=!1;function i(o,s){let a=[],l=new Array(o+1).join("	");for(let[c,d,h]of s._dep)if(d&&h){t=!0,a.push(`${l}CREATES -> ${c}`);let u=i(o+1,h);u&&a.push(u)}else a.push(`${l}uses -> ${c}`);return a.join(`
`)}let n=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${i(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${aa._totals.toFixed(2)}ms)`];(e>2||t)&&console.log(n.join(`
`))}};aa._None=new class extends aa{constructor(){super(-1,null)}stop(){}branch(){return this}};aa._totals=0;jt();Ee();Va();ia();rs();Oi();var dG=class{constructor(){this._byResource=new wo,this._byOwner=new Map}set(e,t,i){let n=this._byResource.get(e);n||(n=new Map,this._byResource.set(e,n)),n.set(t,i);let o=this._byOwner.get(t);o||(o=new wo,this._byOwner.set(t,o)),o.set(e,i)}get(e,t){let i=this._byResource.get(e);return i?.get(t)}delete(e,t){let i=!1,n=!1,o=this._byResource.get(e);o&&(i=o.delete(t));let s=this._byOwner.get(t);if(s&&(n=s.delete(e)),i!==n)throw new Error("illegal state");return i&&n}values(e){var t,i,n,o;return typeof e=="string"?(i=(t=this._byOwner.get(e))===null||t===void 0?void 0:t.values())!==null&&i!==void 0?i:Ot.empty():De.isUri(e)?(o=(n=this._byResource.get(e))===null||n===void 0?void 0:n.values())!==null&&o!==void 0?o:Ot.empty():Ot.map(Ot.concat(...this._byOwner.values()),s=>s[1])}},hG=class{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new wo,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(let t of e){let i=this._data.get(t);i&&this._substract(i);let n=this._resourceStats(t);this._add(n),this._data.set(t,n)}}_resourceStats(e){let t={errors:0,warnings:0,infos:0,unknowns:0};if(e.scheme===rt.inMemory||e.scheme===rt.walkThrough||e.scheme===rt.walkThroughSnippet)return t;for(let{severity:i}of this._service.read({resource:e}))i===Vi.Error?t.errors+=1:i===Vi.Warning?t.warnings+=1:i===Vi.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}},Iu=class{constructor(){this._onMarkerChanged=new UP({delay:0,merge:Iu._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new dG,this._stats=new hG(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(e,t){for(let i of t||[])this.changeOne(e,i,[])}changeOne(e,t,i){if(mx(i))this._data.delete(t,e)&&this._onMarkerChanged.fire([t]);else{let n=[];for(let o of i){let s=Iu._toMarker(e,t,o);s&&n.push(s)}this._data.set(t,e,n),this._onMarkerChanged.fire([t])}}static _toMarker(e,t,i){let{code:n,severity:o,message:s,source:a,startLineNumber:l,startColumn:c,endLineNumber:d,endColumn:h,relatedInformation:u,tags:f}=i;if(!!s)return l=l>0?l:1,c=c>0?c:1,d=d>=l?d:l,h=h>0?h:c,{resource:t,owner:e,code:n,severity:o,message:s,source:a,startLineNumber:l,startColumn:c,endLineNumber:d,endColumn:h,relatedInformation:u,tags:f}}read(e=Object.create(null)){let{owner:t,resource:i,severities:n,take:o}=e;if((!o||o<0)&&(o=-1),t&&i){let s=this._data.get(i,t);if(s){let a=[];for(let l of s)if(Iu._accept(l,n)){let c=a.push(l);if(o>0&&c===o)break}return a}else return[]}else if(!t&&!i){let s=[];for(let a of this._data.values())for(let l of a)if(Iu._accept(l,n)){let c=s.push(l);if(o>0&&c===o)return s}return s}else{let s=this._data.values(i??t),a=[];for(let l of s)for(let c of l)if(Iu._accept(c,n)){let d=a.push(c);if(o>0&&d===o)return a}return a}}static _accept(e,t){return t===void 0||(t&e.severity)===e.severity}static _merge(e){let t=new wo;for(let i of e)for(let n of i)t.set(n,!0);return Array.from(t.keys())}};Ee();re();ai();nt();Ee();re();ai();var Z1=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},bw;(function(r){r[r.None=0]="None",r[r.Initialized=1]="Initialized",r[r.Closed=2]="Closed"})(bw||(bw={}));var Qp=class extends ${constructor(e,t=Object.create(null)){super();this.database=e,this.options=t,this._onDidChangeStorage=this._register(new B),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=bw.None,this.cache=new Map,this.flushDelayer=new AM(Qp.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(e=>this.onDidChangeItemsExternal(e)))}onDidChangeItemsExternal(e){var t,i;(t=e.changed)===null||t===void 0||t.forEach((n,o)=>this.accept(o,n)),(i=e.deleted)===null||i===void 0||i.forEach(n=>this.accept(n,void 0))}accept(e,t){if(this.state===bw.Closed)return;let i=!1;fr(t)?i=this.cache.delete(e):this.cache.get(e)!==t&&(this.cache.set(e,t),i=!0),i&&this._onDidChangeStorage.fire(e)}get(e,t){let i=this.cache.get(e);return fr(i)?t:i}getBoolean(e,t){let i=this.get(e);return fr(i)?t:i==="true"}getNumber(e,t){let i=this.get(e);return fr(i)?t:parseInt(i,10)}set(e,t){return Z1(this,void 0,void 0,function*(){if(this.state===bw.Closed)return;if(fr(t))return this.delete(e);let i=String(t);if(this.cache.get(e)!==i)return this.cache.set(e,i),this.pendingInserts.set(e,i),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire(e),this.doFlush()})}delete(e){return Z1(this,void 0,void 0,function*(){if(!(this.state===bw.Closed||!this.cache.delete(e)))return this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire(e),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return Z1(this,void 0,void 0,function*(){if(!this.hasPending)return;let e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally(()=>{var t;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(t=this.whenFlushedCallbacks.pop())===null||t===void 0||t()})})}doFlush(e){return Z1(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),e)})}dispose(){this.flushDelayer.dispose(),super.dispose()}};Qp.DEFAULT_FLUSH_DELAY=100;var MO=class{constructor(){this.onDidChangeItemsExternal=xe.None,this.items=new Map}updateItems(e){return Z1(this,void 0,void 0,function*(){e.insert&&e.insert.forEach((t,i)=>this.items.set(i,t)),e.delete&&e.delete.forEach(t=>this.items.delete(t))})}};Ye();var AO="__$__targetStorageMarker",la=Fe("storageService"),vw;(function(r){r[r.NONE=0]="NONE",r[r.SHUTDOWN=1]="SHUTDOWN"})(vw||(vw={}));var G1=class extends ${constructor(e={flushInterval:G1.DEFAULT_FLUSH_INTERVAL}){super();this.options=e,this._onDidChangeValue=this._register(new Cm),this._onDidChangeTarget=this._register(new Cm),this._onWillSaveState=this._register(new B),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(e,t){t===AO?(e===0?this._globalKeyTargets=void 0:e===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:e})):this._onDidChangeValue.fire({scope:e,key:t,target:this.getKeyTargets(e)[t]})}get(e,t,i){var n;return(n=this.getStorage(t))===null||n===void 0?void 0:n.get(e,i)}getBoolean(e,t,i){var n;return(n=this.getStorage(t))===null||n===void 0?void 0:n.getBoolean(e,i)}getNumber(e,t,i){var n;return(n=this.getStorage(t))===null||n===void 0?void 0:n.getNumber(e,i)}store(e,t,i,n){if(fr(t)){this.remove(e,i);return}this.withPausedEmitters(()=>{var o;this.updateKeyTarget(e,i,n),(o=this.getStorage(i))===null||o===void 0||o.set(e,t)})}remove(e,t){this.withPausedEmitters(()=>{var i;this.updateKeyTarget(e,t,void 0),(i=this.getStorage(t))===null||i===void 0||i.delete(e)})}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(e,t,i){var n,o;let s=this.getKeyTargets(t);typeof i=="number"?s[e]!==i&&(s[e]=i,(n=this.getStorage(t))===null||n===void 0||n.set(AO,JSON.stringify(s))):typeof s[e]=="number"&&(delete s[e],(o=this.getStorage(t))===null||o===void 0||o.set(AO,JSON.stringify(s)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(e){return e===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(e){let t=this.get(AO,e);if(t)try{return JSON.parse(t)}catch{}return Object.create(null)}};G1.DEFAULT_FLUSH_INTERVAL=60*1e3;var K5=class extends G1{constructor(){super();this.globalStorage=this._register(new Qp(new MO)),this.workspaceStorage=this._register(new Qp(new MO)),this._register(this.workspaceStorage.onDidChangeStorage(e=>this.emitDidChangeValue(1,e))),this._register(this.globalStorage.onDidChangeStorage(e=>this.emitDidChangeValue(0,e)))}getStorage(e){return e===0?this.globalStorage:this.workspaceStorage}};Ee();re();Us();xf();function q5(r,e,t,i,n){if(Array.isArray(r)){let o=0;for(let s of r){let a=q5(s,e,t,i,n);if(a===10)return a;a>o&&(o=a)}return o}else{if(typeof r=="string")return i?r==="*"?5:r===t?10:0:0;if(r){let{language:o,pattern:s,scheme:a,hasAccessToAllModels:l,notebookType:c}=r;if(!i&&!l)return 0;let d=0;if(a)if(a===e.scheme)d=10;else if(a==="*")d=5;else return 0;if(o)if(o===t)d=10;else if(o==="*")d=Math.max(d,5);else return 0;if(c)if(c===n)d=10;else if(c==="*")d=Math.max(d,5);else return 0;if(s){let h;if(typeof s=="string"?h=s:h=Object.assign(Object.assign({},s),{base:hb(s.base)}),h===e.fsPath||Vq(h,e.fsPath))d=10;else return 0}return d}else return 0}}function uG(r){return typeof r=="string"?!1:Array.isArray(r)?r.every(uG):!!r.exclusive}var Nn=class{constructor(e){this._notebookTypeResolver=e,this._clock=0,this._entries=[],this._onDidChange=new B,this.onDidChange=this._onDidChange.event}register(e,t){let i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),Ve(()=>{if(i){let n=this._entries.indexOf(i);n>=0&&(this._entries.splice(n,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);let t=[];for(let i of this._entries)i._score>0&&t.push(i.provider);return t}ordered(e){let t=[];return this._orderedForEach(e,i=>t.push(i.provider)),t}orderedGroups(e){let t=[],i,n;return this._orderedForEach(e,o=>{i&&n===o._score?i.push(o.provider):(n=o._score,i=[o.provider],t.push(i))}),t}_orderedForEach(e,t){if(!!e){this._updateScores(e);for(let i of this._entries)i._score>0&&t(i)}}_updateScores(e){var t;let i=(t=this._notebookTypeResolver)===null||t===void 0?void 0:t.call(this,e.uri),n={uri:e.uri.toString(),language:e.getLanguageId(),notebookType:i};if(!(this._lastCandidate&&this._lastCandidate.language===n.language&&this._lastCandidate.uri===n.uri&&this._lastCandidate.notebookType===n.notebookType)){this._lastCandidate=n;for(let o of this._entries)if(o._score=q5(o.selector,e.uri,e.getLanguageId(),pW(e),i),uG(o.selector)&&o._score>0){for(let s of this._entries)s._score=0;o._score=1e3;break}this._entries.sort(Nn._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0}};hi();Ss();var fG=class{constructor(){this.referenceProvider=new Nn(this._score.bind(this)),this.renameProvider=new Nn(this._score.bind(this)),this.codeActionProvider=new Nn(this._score.bind(this)),this.definitionProvider=new Nn(this._score.bind(this)),this.typeDefinitionProvider=new Nn(this._score.bind(this)),this.declarationProvider=new Nn(this._score.bind(this)),this.implementationProvider=new Nn(this._score.bind(this)),this.documentSymbolProvider=new Nn(this._score.bind(this)),this.inlayHintsProvider=new Nn(this._score.bind(this)),this.colorProvider=new Nn(this._score.bind(this)),this.codeLensProvider=new Nn(this._score.bind(this)),this.documentFormattingEditProvider=new Nn(this._score.bind(this)),this.documentRangeFormattingEditProvider=new Nn(this._score.bind(this)),this.onTypeFormattingEditProvider=new Nn(this._score.bind(this)),this.signatureHelpProvider=new Nn(this._score.bind(this)),this.hoverProvider=new Nn(this._score.bind(this)),this.documentHighlightProvider=new Nn(this._score.bind(this)),this.selectionRangeProvider=new Nn(this._score.bind(this)),this.foldingRangeProvider=new Nn(this._score.bind(this)),this.linkProvider=new Nn(this._score.bind(this)),this.inlineCompletionsProvider=new Nn(this._score.bind(this)),this.completionProvider=new Nn(this._score.bind(this)),this.linkedEditingRangeProvider=new Nn(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new Nn(this._score.bind(this)),this.documentSemanticTokensProvider=new Nn(this._score.bind(this))}_score(e){var t;return(t=this._notebookTypeResolver)===null||t===void 0?void 0:t.call(this,e)}};Lt(ve,fG,!0);var Ig=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},$r=function(r,e){return function(t,i){e(t,i,r)}},mG=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},pG=class{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new B}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}},Y5=class{constructor(e){this.modelService=e}createModelReference(e){let t=this.modelService.getModel(e);return t?Promise.resolve(new WP(new pG(t))):Promise.reject(new Error("Model not found"))}};Y5=Ig([$r(0,ii)],Y5);var Q1=class{show(){return Q1.NULL_PROGRESS_RUNNER}showWhile(e,t){return mG(this,void 0,void 0,function*(){yield e})}};Q1.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};var _G=class{confirm(e){return this.doConfirm(e).then(t=>({confirmed:t,checkboxChecked:!1}))}doConfirm(e){let t=e.message;return e.detail&&(t=t+`

`+e.detail),Promise.resolve(window.confirm(t))}show(e,t,i,n){return Promise.resolve({choice:0})}},J1=class{info(e){return this.notify({severity:Pi.Info,message:e})}warn(e){return this.notify({severity:Pi.Warning,message:e})}error(e){return this.notify({severity:Pi.Error,message:e})}notify(e){switch(e.severity){case Pi.Error:console.error(e.message);break;case Pi.Warning:console.warn(e.message);break;default:console.log(e.message);break}return J1.NO_OP}status(e,t){return $.None}};J1.NO_OP=new TF;var Z5=class{constructor(e){this._onWillExecuteCommand=new B,this._onDidExecuteCommand=new B,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=e}executeCommand(e,...t){let i=ht.getCommand(e);if(!i)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});let n=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(n)}catch(n){return Promise.reject(n)}}};Z5=Ig([$r(0,ze)],Z5);var X1=class extends s4{constructor(e,t,i,n,o,s){super(e,t,i,n,o);this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];let a=f=>{let m=new J;m.add(se(f,Re.KEY_DOWN,_=>{let w=new $t(_);this._dispatch(w,w.target)&&(w.preventDefault(),w.stopPropagation())})),m.add(se(f,Re.KEY_UP,_=>{let w=new $t(_);this._singleModifierDispatch(w,w.target)&&w.preventDefault()})),this._domNodeListeners.push(new bG(f,m))},l=f=>{for(let m=0;m<this._domNodeListeners.length;m++){let _=this._domNodeListeners[m];_.domNode===f&&(this._domNodeListeners.splice(m,1),_.dispose())}},c=f=>{f.getOption(54)||a(f.getContainerDomNode())},d=f=>{f.getOption(54)||l(f.getContainerDomNode())};this._register(s.onCodeEditorAdd(c)),this._register(s.onCodeEditorRemove(d)),s.listCodeEditors().forEach(c);let h=f=>{a(f.getContainerDomNode())},u=f=>{l(f.getContainerDomNode())};this._register(s.onDiffEditorAdd(h)),this._register(s.onDiffEditorRemove(u)),s.listDiffEditors().forEach(h)}addDynamicKeybinding(e,t,i,n){let o=D0(t,ur),s=new J;return o&&(this._dynamicKeybindings.push({keybinding:o.parts,command:e,when:n,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),s.add(Ve(()=>{for(let a=0;a<this._dynamicKeybindings.length;a++)if(this._dynamicKeybindings[a].command===e){this._dynamicKeybindings.splice(a,1),this.updateResolver({source:1});return}}))),s.add(ht.registerCommand(e,i)),this.updateResolver({source:1}),s}updateResolver(e){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(e)}_getResolver(){if(!this._cachedResolver){let e=this._toNormalizedKeybindingItems(qn.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new Np(e,t,i=>this._log(i))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(e,t){let i=[],n=0;for(let o of e){let s=o.when||void 0,a=o.keybinding;if(!a)i[n++]=new fI(void 0,o.command,o.commandArgs,s,t,null,!1);else{let l=Pp.resolveUserBinding(a,ur);for(let c of l)i[n++]=new fI(c,o.command,o.commandArgs,s,t,null,!1)}}return i}resolveKeyboardEvent(e){let t=new Hl(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode).toChord();return new Pp(t,ur)}};X1=Ig([$r(0,Le),$r(1,pi),$r(2,ka),$r(3,si),$r(4,go),$r(5,Tt)],X1);var bG=class extends ${constructor(e,t){super();this.domNode=e,this._register(t)}};function gG(r){return r&&typeof r=="object"&&(!r.overrideIdentifier||typeof r.overrideIdentifier=="string")&&(!r.resource||r.resource instanceof De)}var t3=class{constructor(){this._onDidChangeConfiguration=new B,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new Qv(new o4,new na)}getValue(e,t){let i=typeof e=="string"?e:void 0,n=gG(e)?e:gG(t)?t:{};return this._configuration.getValue(i,n,void 0)}updateValues(e){let t={data:this._configuration.toData()},i=[];for(let n of e){let[o,s]=n;this.getValue(o)!==s&&(this._configuration.updateValue(o,s),i.push(o))}if(i.length>0){let n=new r4({keys:i,overrides:[]},t,this._configuration);n.source=7,n.sourceConfig=null,this._onDidChangeConfiguration.fire(n)}return Promise.resolve()}updateValue(e,t,i,n){return this.updateValues([[e,t]])}inspect(e,t={}){return this._configuration.inspect(e,t,void 0)}},G5=class{constructor(e){this.configurationService=e,this._onDidChangeConfiguration=new B,this.configurationService.onDidChangeConfiguration(t=>{this._onDidChangeConfiguration.fire({affectedKeys:t.affectedKeys,affectsConfiguration:(i,n)=>t.affectsConfiguration(n)})})}getValue(e,t,i){let o=(V.isIPosition(t)?t:null)?typeof i=="string"?i:void 0:typeof t=="string"?t:void 0;return typeof o>"u"?this.configurationService.getValue():this.configurationService.getValue(o)}};G5=Ig([$r(0,Ht)],G5);var X5=class{constructor(e){this.configurationService=e}getEOL(e,t){let i=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return i&&typeof i=="string"&&i!=="auto"?i:Fi||Je?`
`:`\r
`}};X5=Ig([$r(0,Ht)],X5);var vG=class{publicLog(e,t){return Promise.resolve(void 0)}publicLog2(e,t){return this.publicLog(e,t)}},eS=class{constructor(){let e=De.from({scheme:eS.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new c4({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}};eS.SCHEME="inmemory";function tS(r,e,t){if(!e||!(r instanceof t3))return;let i=[];Object.keys(e).forEach(n=>{Cq(n)&&i.push([`editor.${n}`,e[n]]),t&&yq(n)&&i.push([`diffEditor.${n}`,e[n]])}),i.length>0&&r.updateValues(i)}var Q5=class{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}apply(e,t){return mG(this,void 0,void 0,function*(){let i=new Map;for(let s of e){if(!(s instanceof cI))throw new Error("bad edit - only text edits are supported");let a=this._modelService.getModel(s.resource);if(!a)throw new Error("bad edit - model not found");if(typeof s.versionId=="number"&&a.getVersionId()!==s.versionId)throw new Error("bad state - model changed in the meantime");let l=i.get(a);l||(l=[],i.set(a,l)),l.push(vi.replaceMove(D.lift(s.textEdit.range),s.textEdit.text))}let n=0,o=0;for(let[s,a]of i)s.pushStackElement(),s.pushEditOperations([],a,()=>[]),s.pushStackElement(),o+=1,n+=a.length;return{ariaSummary:Ec(pI.bulkEditServiceSummary,n,o)}})}};Q5=Ig([$r(0,ii)],Q5);var wG=class{getUriLabel(e,t){return e.scheme==="file"?e.fsPath:e.path}},J5=class extends bI{constructor(e,t){super(e);this._codeEditorService=t}showContextView(e,t,i){if(!t){let n=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();n&&(t=n.getContainerDomNode())}return super.showContextView(e,t,i)}};J5=Ig([$r(0,Qd),$r(1,Tt)],J5);var CG=class{constructor(){this._neverEmitter=new B,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}},yG=class extends Rp{constructor(){super()}},SG=class extends eA{constructor(){super(new JM)}},e3=class extends OI{constructor(e,t,i,n,o){super(e,t,i,n,o);this.configure({blockMouse:!1})}};e3=Ig([$r(0,ka),$r(1,si),$r(2,wu),$r(3,Di),$r(4,Ft)],e3);Lt(Ht,t3);Lt(Fb,G5);Lt(HD,X5);Lt(gI,eS);Lt(eh,wG);Lt(ka,vG);Lt(Yv,_G);Lt(si,J1);Lt(ra,Iu);Lt(Gt,yG);Lt(Ts,j5);Lt(go,SG);Lt(ii,x1);Lt(Yb,PI);Lt(Le,NO);Lt(ea,Q1);Lt(la,K5);Lt(Yo,KD);Lt(Xv,Q5);Lt(_I,CG);Lt(Tn,Y5);Lt(oo,kO);Lt(sa,rO);Lt(pi,Z5);Lt(Di,X1);Lt(hh,CO);Lt(wu,J5);Lt(so,NI);Lt(dl,TO);Lt(Js,e3);Lt(La,OO);var _t;(function(r){let e=new _u;for(let[s,a]of IM())e.set(s,a);let t=new Y1(e,!0);e.set(ze,t);function i(s){let a=e.get(s);if(!a)throw new Error("Missing service "+s);return a instanceof Sa?t.invokeFunction(l=>l.get(s)):a}r.get=i;let n=!1;function o(s){if(n)return t;n=!0;for(let[a,l]of IM())e.get(a)||e.set(a,l);for(let a in s)if(s.hasOwnProperty(a)){let l=Fe(a);e.get(l)instanceof Sa&&e.set(l,s[a])}return t}r.initialize=o})(_t||(_t={}));Mo();on();Fr();Et();Ye();pt();Vc();ns();Vo();Wd();no();hi();var i3=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},sn=function(r,e){return function(t,i){e(t,i,r)}},Rme=0,EG=!1;function Fme(r){if(!r){if(EG)return;EG=!0}ZU(r||document.body)}var RO=class extends _g{constructor(e,t,i,n,o,s,a,l,c,d,h,u){let f=Object.assign({},t);f.ariaLabel=f.ariaLabel||d1.editorViewAccessibleLabel,f.ariaLabel=f.ariaLabel+";"+d1.accessibilityHelpMessage;super(e,f,{},i,n,o,s,l,c,d,h,u);a instanceof X1?this._standaloneKeybindingService=a:this._standaloneKeybindingService=null,Fme(f.ariaContainerElement)}addCommand(e,t,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let n="DYNAMIC_"+ ++Rme,o=Ce.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(n,e,t,o),n}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if(typeof e.id!="string"||typeof e.label!="string"||typeof e.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),$.None;let t=e.id,i=e.label,n=Ce.and(Ce.equals("editorId",this.getId()),Ce.deserialize(e.precondition)),o=e.keybindings,s=Ce.and(n,Ce.deserialize(e.keybindingContext)),a=e.contextMenuGroupId||null,l=e.contextMenuOrder||0,c=(f,...m)=>Promise.resolve(e.run(this,...m)),d=new J,h=this.getId()+":"+t;if(d.add(ht.registerCommand(h,c)),a){let f={command:{id:h,title:i},when:n,group:a,order:l};d.add(Po.appendMenuItem(H.EditorContext,f))}if(Array.isArray(o))for(let f of o)d.add(this._standaloneKeybindingService.addDynamicKeybinding(h,f,c,s));let u=new Cy(h,i,i,n,c,this._contextKeyService);return this._actions[t]=u,d.add(Ve(()=>{delete this._actions[t]})),d}_triggerCommand(e,t){if(this._codeEditorService instanceof r1)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};RO=i3([sn(2,ze),sn(3,Tt),sn(4,pi),sn(5,Le),sn(6,Di),sn(7,Ft),sn(8,si),sn(9,oo),sn(10,en),sn(11,ve)],RO);var FO=class extends RO{constructor(e,t,i,n,o,s,a,l,c,d,h,u,f,m,_){let w=Object.assign({},t);tS(d,w,!1);let y=l.registerEditorContainer(e);typeof w.theme=="string"&&l.setTheme(w.theme),typeof w.autoDetectHighContrast<"u"&&l.setAutoDetectHighContrast(Boolean(w.autoDetectHighContrast));let C=w.model;delete w.model;super(e,w,i,n,o,s,a,l,c,h,m,_);this._configurationService=d,this._standaloneThemeService=l,this._register(y);let E;if(typeof C>"u"){let L=f.getLanguageIdByMimeType(w.language)||w.language||zr;E=n3(u,f,w.value||"",L,void 0),this._ownsModel=!0}else E=C,this._ownsModel=!1;if(this._attachModel(E),E){let L={oldModelUrl:null,newModelUrl:E.uri};this._onDidChangeModel.fire(L)}}dispose(){super.dispose()}updateOptions(e){tS(this._configurationService,e,!1),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};FO=i3([sn(2,ze),sn(3,Tt),sn(4,pi),sn(5,Le),sn(6,Di),sn(7,Ts),sn(8,si),sn(9,Ht),sn(10,oo),sn(11,ii),sn(12,Gt),sn(13,en),sn(14,ve)],FO);var BO=class extends Su{constructor(e,t,i,n,o,s,a,l,c,d,h,u){let f=Object.assign({},t);tS(c,f,!0);let m=a.registerEditorContainer(e);typeof f.theme=="string"&&a.setTheme(f.theme),typeof f.autoDetectHighContrast<"u"&&a.setAutoDetectHighContrast(Boolean(f.autoDetectHighContrast));super(e,f,{},u,o,n,i,s,a,l,d,h);this._configurationService=c,this._standaloneThemeService=a,this._register(m)}dispose(){super.dispose()}updateOptions(e){tS(this._configurationService,e,!0),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_createInnerEditor(e,t,i){return e.createInstance(RO,t,i)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};BO=i3([sn(2,ze),sn(3,Le),sn(4,Yo),sn(5,Tt),sn(6,Ts),sn(7,si),sn(8,Ht),sn(9,Js),sn(10,ea),sn(11,dl)],BO);function n3(r,e,t,i,n){if(t=t||"",!i){let o=t.indexOf(`
`),s=t;return o!==-1&&(s=t.substring(0,o)),xG(r,t,e.createByFilepathOrFirstLine(n||null,s),n)}return xG(r,t,e.createById(i),n)}function xG(r,e,t,i){return r.createModel(e,t,i)}on();function Bme(r,e,t){return _t.initialize(t||{}).createInstance(FO,r,e)}function jme(r){return _t.get(Tt).onCodeEditorAdd(t=>{r(t)})}function Wme(r,e,t){return _t.initialize(t||{}).createInstance(BO,r,e)}function Ume(r,e){return new cM(r,e)}function zme(r,e,t){let i=_t.get(Gt),n=i.getLanguageIdByMimeType(e)||e;return n3(_t.get(ii),i,r,n,t)}function Vme(r,e){let t=_t.get(Gt);_t.get(ii).setMode(r,t.createById(e))}function Hme(r,e,t){r&&_t.get(ra).changeOne(e,r.uri,t)}function $me(r){return _t.get(ra).read(r)}function Kme(r){return _t.get(ra).onMarkerChanged(r)}function qme(r){return _t.get(ii).getModel(r)}function Yme(){return _t.get(ii).getModels()}function Zme(r){return _t.get(ii).onModelAdded(r)}function Gme(r){return _t.get(ii).onModelRemoved(r)}function Xme(r){return _t.get(ii).onModelLanguageChanged(t=>{r({model:t.model,oldLanguage:t.oldLanguageId})})}function Qme(r){return vU(_t.get(ii),_t.get(en),r)}function Jme(r,e){let t=_t.get(Gt),i=_t.get(Ts);return i.registerEditorContainer(r),x0.colorizeElement(i,t,r,e)}function epe(r,e,t){let i=_t.get(Gt);return _t.get(Ts).registerEditorContainer(document.body),x0.colorize(i,r,e,t)}function tpe(r,e,t=4){return _t.get(Ts).registerEditorContainer(document.body),x0.colorizeModelLine(r,e,t)}function ipe(r){let e=bi.get(r);return e||{getInitialState:()=>Pf,tokenize:(t,i,n)=>WW(r,n)}}function npe(r,e){bi.getOrCreate(e);let t=ipe(e),i=mr(r),n=[],o=t.getInitialState();for(let s=0,a=i.length;s<a;s++){let l=i[s],c=t.tokenize(l,!0,o);n[s]=c.tokens,o=c.endState}return n}function ope(r,e){_t.get(Ts).defineTheme(r,e)}function rpe(r){_t.get(Ts).setTheme(r)}function spe(){e0.clearAllFontInfos()}function ape(r,e){return ht.registerCommand({id:r,handler:e})}function DG(){return{create:Bme,onDidCreateEditor:jme,createDiffEditor:Wme,createDiffNavigator:Ume,createModel:zme,setModelLanguage:Vme,setModelMarkers:Hme,getModelMarkers:$me,onDidChangeMarkers:Kme,getModels:Yme,getModel:qme,onDidCreateModel:Zme,onWillDisposeModel:Gme,onDidChangeModelLanguage:Xme,createWebWorker:Qme,colorizeElement:Jme,colorize:epe,colorizeModelLine:tpe,tokenize:npe,defineTheme:ope,setTheme:rpe,remeasureFonts:spe,registerCommand:ape,AccessibilitySupport:Mx,ContentWidgetPositionPreference:jx,CursorChangeReason:Wx,DefaultEndOfLine:Ux,EditorAutoIndentStrategy:Vx,EditorOption:Hx,EndOfLinePreference:$x,EndOfLineSequence:Kx,MinimapPosition:eD,MouseTargetType:tD,OverlayWidgetPositionPreference:iD,OverviewRulerLane:nD,RenderLineNumbersType:rD,RenderMinimap:sD,ScrollbarVisibility:lD,ScrollType:aD,TextEditorCursorBlinkingStyle:fD,TextEditorCursorStyle:gD,TrackedRangeStickiness:mD,WrappingIndent:pD,InjectedTextCursorStops:Yx,PositionAffinity:oD,ConfigurationChangedEvent:UC,BareFontInfo:_d,FontInfo:Cb,TextModelResolvedOptions:km,FindMatch:Bh,ApplyUpdateResult:_m,EditorType:Of,EditorOptions:vs}}Yn();ye();cn();no();Wd();Vo();function lpe(r,e){if(!e||!Array.isArray(e))return!1;for(let t of e)if(!r(t))return!1;return!0}function jO(r,e){return typeof r=="boolean"?r:e}function LG(r,e){return typeof r=="string"?r:e}function cpe(r){let e={};for(let t of r)e[t]=!0;return e}function kG(r,e=!1){e&&(r=r.map(function(i){return i.toLowerCase()}));let t=cpe(r);return e?function(i){return t[i.toLowerCase()]!==void 0&&t.hasOwnProperty(i.toLowerCase())}:function(i){return t[i]!==void 0&&t.hasOwnProperty(i)}}function o3(r,e){e=e.replace(/@@/g,"");let t=0,i;do i=!1,e=e.replace(/@(\w+)/g,function(o,s){i=!0;let a="";if(typeof r[s]=="string")a=r[s];else if(r[s]&&r[s]instanceof RegExp)a=r[s].source;else throw r[s]===void 0?Ai(r,"language definition does not contain attribute '"+s+"', used at: "+e):Ai(r,"attribute reference '"+s+"' must be a string, used at: "+e);return Wm(a)?"":"(?:"+a+")"}),t++;while(i&&t<5);e=e.replace(/\x01/g,"@");let n=(r.ignoreCase?"i":"")+(r.unicode?"u":"");return new RegExp(e,n)}function dpe(r,e,t,i){if(i<0)return r;if(i<e.length)return e[i];if(i>=100){i=i-100;let n=t.split(".");if(n.unshift(t),i<n.length)return n[i]}return null}function hpe(r,e,t,i){let n=-1,o=t,s=t.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);s&&(s[3]&&(n=parseInt(s[3]),s[2]&&(n=n+100)),o=s[4]);let a="~",l=o;!o||o.length===0?(a="!=",l=""):/^\w*$/.test(l)?a="==":(s=o.match(/^(@|!@|~|!~|==|!=)(.*)$/),s&&(a=s[1],l=s[2]));let c;if((a==="~"||a==="!~")&&/^(\w|\|)*$/.test(l)){let d=kG(l.split("|"),r.ignoreCase);c=function(h){return a==="~"?d(h):!d(h)}}else if(a==="@"||a==="!@"){let d=r[l];if(!d)throw Ai(r,"the @ match target '"+l+"' is not defined, in rule: "+e);if(!lpe(function(u){return typeof u=="string"},d))throw Ai(r,"the @ match target '"+l+"' must be an array of strings, in rule: "+e);let h=kG(d,r.ignoreCase);c=function(u){return a==="@"?h(u):!h(u)}}else if(a==="~"||a==="!~")if(l.indexOf("$")<0){let d=o3(r,"^"+l+"$");c=function(h){return a==="~"?d.test(h):!d.test(h)}}else c=function(d,h,u,f){return o3(r,"^"+xd(r,l,h,u,f)+"$").test(d)};else if(l.indexOf("$")<0){let d=Ed(r,l);c=function(h){return a==="=="?h===d:h!==d}}else{let d=Ed(r,l);c=function(h,u,f,m,_){let w=xd(r,d,u,f,m);return a==="=="?h===w:h!==w}}return n===-1?{name:t,value:i,test:function(d,h,u,f){return c(d,d,h,u,f)}}:{name:t,value:i,test:function(d,h,u,f){let m=dpe(d,h,u,n);return c(m||"",d,h,u,f)}}}function r3(r,e,t){if(t){if(typeof t=="string")return t;if(t.token||t.token===""){if(typeof t.token!="string")throw Ai(r,"a 'token' attribute must be of type string, in rule: "+e);{let i={token:t.token};if(t.token.indexOf("$")>=0&&(i.tokenSubst=!0),typeof t.bracket=="string")if(t.bracket==="@open")i.bracket=1;else if(t.bracket==="@close")i.bracket=-1;else throw Ai(r,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+e);if(t.next){if(typeof t.next!="string")throw Ai(r,"the next state must be a string value in rule: "+e);{let n=t.next;if(!/^(@pop|@push|@popall)$/.test(n)&&(n[0]==="@"&&(n=n.substr(1)),n.indexOf("$")<0&&!DU(r,xd(r,n,"",[],""))))throw Ai(r,"the next state '"+t.next+"' is not defined in rule: "+e);i.next=n}}return typeof t.goBack=="number"&&(i.goBack=t.goBack),typeof t.switchTo=="string"&&(i.switchTo=t.switchTo),typeof t.log=="string"&&(i.log=t.log),typeof t.nextEmbedded=="string"&&(i.nextEmbedded=t.nextEmbedded,r.usesEmbedded=!0),i}}else if(Array.isArray(t)){let i=[];for(let n=0,o=t.length;n<o;n++)i[n]=r3(r,e,t[n]);return{group:i}}else if(t.cases){let i=[];for(let o in t.cases)if(t.cases.hasOwnProperty(o)){let s=r3(r,e,t.cases[o]);o==="@default"||o==="@"||o===""?i.push({test:void 0,value:s,name:o}):o==="@eos"?i.push({test:function(a,l,c,d){return d},value:s,name:o}):i.push(hpe(r,e,o,s))}let n=r.defaultToken;return{test:function(o,s,a,l){for(let c of i)if(!c.test||c.test(o,s,a,l))return c.value;return n}}}else throw Ai(r,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+e)}else return{token:""}}var IG=class{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let i;if(typeof t=="string")i=t;else if(t instanceof RegExp)i=t.source;else throw Ai(e,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=i.length>0&&i[0]==="^",this.name=this.name+": "+i,this.regex=o3(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")}setAction(e,t){this.action=r3(e,this.name,t)}};function s3(r,e){if(!e||typeof e!="object")throw new Error("Monarch: expecting a language definition object");let t={};t.languageId=r,t.includeLF=jO(e.includeLF,!1),t.noThrow=!1,t.maxStack=100,t.start=typeof e.start=="string"?e.start:null,t.ignoreCase=jO(e.ignoreCase,!1),t.unicode=jO(e.unicode,!1),t.tokenPostfix=LG(e.tokenPostfix,"."+t.languageId),t.defaultToken=LG(e.defaultToken,"source"),t.usesEmbedded=!1;let i=e;i.languageId=r,i.includeLF=t.includeLF,i.ignoreCase=t.ignoreCase,i.unicode=t.unicode,i.noThrow=t.noThrow,i.usesEmbedded=t.usesEmbedded,i.stateNames=e.tokenizer,i.defaultToken=t.defaultToken;function n(s,a,l){for(let c of l){let d=c.include;if(d){if(typeof d!="string")throw Ai(t,"an 'include' attribute must be a string at: "+s);if(d[0]==="@"&&(d=d.substr(1)),!e.tokenizer[d])throw Ai(t,"include target '"+d+"' is not defined at: "+s);n(s+"."+d,a,e.tokenizer[d])}else{let h=new IG(s);if(Array.isArray(c)&&c.length>=1&&c.length<=3)if(h.setRegex(i,c[0]),c.length>=3)if(typeof c[1]=="string")h.setAction(i,{token:c[1],next:c[2]});else if(typeof c[1]=="object"){let u=c[1];u.next=c[2],h.setAction(i,u)}else throw Ai(t,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+s);else h.setAction(i,c[1]);else{if(!c.regex)throw Ai(t,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+s);c.name&&typeof c.name=="string"&&(h.name=c.name),c.matchOnlyAtStart&&(h.matchOnlyAtLineStart=jO(c.matchOnlyAtLineStart,!1)),h.setRegex(i,c.regex),h.setAction(i,c.action)}a.push(h)}}}if(!e.tokenizer||typeof e.tokenizer!="object")throw Ai(t,"a language definition must define the 'tokenizer' attribute as an object");t.tokenizer=[];for(let s in e.tokenizer)if(e.tokenizer.hasOwnProperty(s)){t.start||(t.start=s);let a=e.tokenizer[s];t.tokenizer[s]=new Array,n("tokenizer."+s,t.tokenizer[s],a)}if(t.usesEmbedded=i.usesEmbedded,e.brackets){if(!Array.isArray(e.brackets))throw Ai(t,"the 'brackets' attribute must be defined as an array")}else e.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let o=[];for(let s of e.brackets){let a=s;if(a&&Array.isArray(a)&&a.length===3&&(a={token:a[2],open:a[0],close:a[1]}),a.open===a.close)throw Ai(t,"open and close brackets in a 'brackets' attribute must be different: "+a.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof a.open=="string"&&typeof a.token=="string"&&typeof a.close=="string")o.push({token:a.token+t.tokenPostfix,open:Ed(t,a.open),close:Ed(t,a.close)});else throw Ai(t,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return t.brackets=o,t.noThrow=!0,t}hi();var upe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};function fpe(r){ag.registerLanguage(r)}function gpe(){let r=[];return r=r.concat(ag.getLanguages()),r}function mpe(r){return _t.get(Gt).languageIdCodec.encodeLanguageId(r)}function ppe(r,e){let i=_t.get(Gt).onDidEncounterLanguage(n=>{n===r&&(i.dispose(),e())});return i}function _pe(r,e){if(!_t.get(Gt).isRegisteredLanguageId(r))throw new Error(`Cannot set configuration for unknown language ${r}`);return qi.register(r,e,100)}var OG=class{constructor(e,t){this._languageId=e,this._actual=t}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,i){if(typeof this._actual.tokenize=="function")return ww.adaptTokenize(this._languageId,this._actual,e,i);throw new Error("Not supported!")}tokenizeEncoded(e,t,i){let n=this._actual.tokenizeEncoded(e,i);return new Df(n.tokens,n.endState)}},ww=class{constructor(e,t,i,n){this._languageId=e,this._actual=t,this._languageService=i,this._standaloneThemeService=n}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t){let i=[],n=0;for(let o=0,s=e.length;o<s;o++){let a=e[o],l=a.startIndex;o===0?l=0:l<n&&(l=n),i[o]=new gd(l,a.scopes,t),n=l}return i}static adaptTokenize(e,t,i,n){let o=t.tokenize(i,n),s=ww._toClassicTokens(o.tokens,e),a;return o.endState.equals(n)?a=n:a=o.endState,new xm(s,a)}tokenize(e,t,i){return ww.adaptTokenize(this._languageId,this._actual,e,i)}_toBinaryTokens(e,t){let i=e.encodeLanguageId(this._languageId),n=this._standaloneThemeService.getColorTheme().tokenTheme,o=[],s=0,a=0;for(let c=0,d=t.length;c<d;c++){let h=t[c],u=n.match(i,h.scopes);if(s>0&&o[s-1]===u)continue;let f=h.startIndex;c===0?f=0:f<a&&(f=a),o[s++]=f,o[s++]=u,a=f}let l=new Uint32Array(s);for(let c=0;c<s;c++)l[c]=o[c];return l}tokenizeEncoded(e,t,i){let n=this._actual.tokenize(e,i),o=this._toBinaryTokens(this._languageService.languageIdCodec,n.tokens),s;return n.endState.equals(i)?s=i:s=n.endState,new Df(o,s)}};function bpe(r){return typeof r.getInitialState=="function"}function vpe(r){return"tokenizeEncoded"in r}function TG(r){return r&&typeof r.then=="function"}function wpe(r){let e=_t.get(Ts);if(r){let t=[null];for(let i=1,n=r.length;i<n;i++)t[i]=X.fromHex(r[i]);e.setColorMapOverride(t)}else e.setColorMapOverride(null)}function NG(r,e){return vpe(e)?new OG(r,e):new ww(r,e,_t.get(Gt),_t.get(Ts))}function a3(r,e){let t={createTokenizationSupport:()=>upe(this,void 0,void 0,function*(){let i=yield Promise.resolve(e.create());return i?bpe(i)?NG(r,i):new Rf(_t.get(Gt),_t.get(Ts),r,s3(r,i)):null})};return bi.registerFactory(r,t)}function Cpe(r,e){if(!_t.get(Gt).isRegisteredLanguageId(r))throw new Error(`Cannot set tokens provider for unknown language ${r}`);return TG(e)?a3(r,{create:()=>e}):bi.register(r,NG(r,e))}function ype(r,e){let t=i=>new Rf(_t.get(Gt),_t.get(Ts),r,s3(r,i));return TG(e)?a3(r,{create:()=>e}):bi.register(r,t(e))}function Spe(r,e){return _t.get(ve).referenceProvider.register(r,e)}function Epe(r,e){return _t.get(ve).renameProvider.register(r,e)}function xpe(r,e){return _t.get(ve).signatureHelpProvider.register(r,e)}function Dpe(r,e){return _t.get(ve).hoverProvider.register(r,{provideHover:(i,n,o)=>{let s=i.getWordAtPosition(n);return Promise.resolve(e.provideHover(i,n,o)).then(a=>{if(!!a)return!a.range&&s&&(a.range=new D(n.lineNumber,s.startColumn,n.lineNumber,s.endColumn)),a.range||(a.range=new D(n.lineNumber,n.column,n.lineNumber,n.column)),a})}})}function Lpe(r,e){return _t.get(ve).documentSymbolProvider.register(r,e)}function kpe(r,e){return _t.get(ve).documentHighlightProvider.register(r,e)}function Ipe(r,e){return _t.get(ve).linkedEditingRangeProvider.register(r,e)}function Ope(r,e){return _t.get(ve).definitionProvider.register(r,e)}function Tpe(r,e){return _t.get(ve).implementationProvider.register(r,e)}function Npe(r,e){return _t.get(ve).typeDefinitionProvider.register(r,e)}function Ppe(r,e){return _t.get(ve).codeLensProvider.register(r,e)}function Mpe(r,e,t){return _t.get(ve).codeActionProvider.register(r,{providedCodeActionKinds:t?.providedCodeActionKinds,provideCodeActions:(n,o,s,a)=>{let c=_t.get(ra).read({resource:n.uri}).filter(d=>D.areIntersectingOrTouching(d,o));return e.provideCodeActions(n,o,{markers:c,only:s.only},a)},resolveCodeAction:e.resolveCodeAction})}function Ape(r,e){return _t.get(ve).documentFormattingEditProvider.register(r,e)}function Rpe(r,e){return _t.get(ve).documentRangeFormattingEditProvider.register(r,e)}function Fpe(r,e){return _t.get(ve).onTypeFormattingEditProvider.register(r,e)}function Bpe(r,e){return _t.get(ve).linkProvider.register(r,e)}function jpe(r,e){return _t.get(ve).completionProvider.register(r,e)}function Wpe(r,e){return _t.get(ve).colorProvider.register(r,e)}function Upe(r,e){return _t.get(ve).foldingRangeProvider.register(r,e)}function zpe(r,e){return _t.get(ve).declarationProvider.register(r,e)}function Vpe(r,e){return _t.get(ve).selectionRangeProvider.register(r,e)}function Hpe(r,e){return _t.get(ve).documentSemanticTokensProvider.register(r,e)}function $pe(r,e){return _t.get(ve).documentRangeSemanticTokensProvider.register(r,e)}function Kpe(r,e){return _t.get(ve).inlineCompletionsProvider.register(r,e)}function qpe(r,e){return _t.get(ve).inlayHintsProvider.register(r,e)}function PG(){return{register:fpe,getLanguages:gpe,onLanguage:ppe,getEncodedLanguageId:mpe,setLanguageConfiguration:_pe,setColorMap:wpe,registerTokensProviderFactory:a3,setTokensProvider:Cpe,setMonarchTokensProvider:ype,registerReferenceProvider:Spe,registerRenameProvider:Epe,registerCompletionItemProvider:jpe,registerSignatureHelpProvider:xpe,registerHoverProvider:Dpe,registerDocumentSymbolProvider:Lpe,registerDocumentHighlightProvider:kpe,registerLinkedEditingRangeProvider:Ipe,registerDefinitionProvider:Ope,registerImplementationProvider:Tpe,registerTypeDefinitionProvider:Npe,registerCodeLensProvider:Ppe,registerCodeActionProvider:Mpe,registerDocumentFormattingEditProvider:Ape,registerDocumentRangeFormattingEditProvider:Rpe,registerOnTypeFormattingEditProvider:Fpe,registerLinkProvider:Bpe,registerColorProvider:Wpe,registerFoldingRangeProvider:Upe,registerDeclarationProvider:zpe,registerSelectionRangeProvider:Vpe,registerDocumentSemanticTokensProvider:Hpe,registerDocumentRangeSemanticTokensProvider:$pe,registerInlineCompletionsProvider:Kpe,registerInlayHintsProvider:qpe,DocumentHighlightKind:zx,CompletionItemKind:Rx,CompletionItemTag:Fx,CompletionItemInsertTextRule:Ax,SymbolKind:hD,SymbolTag:uD,IndentAction:qx,CompletionTriggerKind:Bx,SignatureHelpTriggerKind:dD,InlayHintKind:Zx,InlineCompletionTriggerKind:Gx,FoldingRangeKind:Ca}}xt();g3();var m3;vs.wrappingIndent.defaultValue=0;vs.glyphMargin.defaultValue=!1;vs.autoIndent.defaultValue=3;vs.overviewRulerLanes.defaultValue=2;Nu.setFormatterSelector((r,e,t)=>Promise.resolve(r[0]));var ds=_D();ds.editor=DG();ds.languages=PG();var Qpe=ds.CancellationTokenSource,Jpe=ds.Emitter,p3=ds.KeyCode,_3=ds.KeyMod,e_e=ds.Position,t_e=ds.Range,i_e=ds.Selection,n_e=ds.SelectionDirection,o_e=ds.MarkerSeverity,r_e=ds.MarkerTag,s_e=ds.Uri,a_e=ds.Token,UO=ds.editor,l_e=ds.languages;(((m3=Hi.MonacoEnvironment)===null||m3===void 0?void 0:m3.globalAPI)||typeof define=="function"&&define.amd)&&(self.monaco=ds);typeof self.require<"u"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});xs();Ha();kt();mi();Wi();ke();Et();var c_e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},d_e=function(r,e){return function(t,i){e(t,i,r)}},VO=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},HO=new Se("selectionAnchorSet",!1),Pu=class jG{constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=HO.bindTo(t),this.modelChangeListener=e.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(e){return e.getContribution(jG.ID)}setSelectionAnchor(){if(this.editor.hasModel()){let e=this.editor.getPosition(),t=this.decorationId?[this.decorationId]:[],i=this.editor.deltaDecorations(t,[{range:he.fromPositions(e,e),options:{description:"selection-anchor",stickiness:1,hoverMessage:new Bo().appendText(g("selectionAnchor","Selection Anchor")),className:"selection-anchor"}}]);this.decorationId=i[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),Sn(g("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){let e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){let e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){let t=this.editor.getPosition();this.editor.setSelection(he.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};Pu.ID="editor.contrib.selectionAnchorController";Pu=c_e([d_e(1,Le)],Pu);var WG=class extends we{constructor(){super({id:"editor.action.setSelectionAnchor",label:g("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:F.editorTextFocus,primary:an(2089,2080),weight:100}})}run(e,t){var i;return VO(this,void 0,void 0,function*(){(i=Pu.get(t))===null||i===void 0||i.setSelectionAnchor()})}},UG=class extends we{constructor(){super({id:"editor.action.goToSelectionAnchor",label:g("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:HO})}run(e,t){var i;return VO(this,void 0,void 0,function*(){(i=Pu.get(t))===null||i===void 0||i.goToSelectionAnchor()})}},zG=class extends we{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:g("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:HO,kbOpts:{kbExpr:F.editorTextFocus,primary:an(2089,2089),weight:100}})}run(e,t){var i;return VO(this,void 0,void 0,function*(){(i=Pu.get(t))===null||i===void 0||i.selectFromAnchorToCursor()})}},VG=class extends we{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:g("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:HO,kbOpts:{kbExpr:F.editorTextFocus,primary:9,weight:100}})}run(e,t){var i;return VO(this,void 0,void 0,function*(){(i=Pu.get(t))===null||i===void 0||i.cancelSelectionAnchor()})}};st(Pu.ID,Pu);de(WG);de(UG);de(zG);de(VG);nt();re();kt();lt();ye();mi();Wi();Us();Fo();Gs();ke();Mo();Li();pt();var h_e=W("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},g("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets.")),HG=class extends we{constructor(){super({id:"editor.action.jumpToBracket",label:g("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:F.editorTextFocus,primary:3160,weight:100}})}run(e,t){var i;(i=lc.get(t))===null||i===void 0||i.jumpToBracket()}},$G=class extends we{constructor(){super({id:"editor.action.selectToBracket",label:g("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,i){var n;let o=!0;i&&i.selectBrackets===!1&&(o=!1),(n=lc.get(t))===null||n===void 0||n.selectToBracket(o)}},KG=class{constructor(e,t,i){this.position=e,this.brackets=t,this.options=i}},lc=class extends ${constructor(e){super();this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new wt(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(64),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition(t=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelContent(t=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModel(t=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelLanguageConfiguration(t=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(64)&&(this._matchBrackets=this._editor.getOption(64),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(e.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(e){return e.getContribution(lc.ID)}jumpToBracket(){if(!this._editor.hasModel())return;let e=this._editor.getModel(),t=this._editor.getSelections().map(i=>{let n=i.getStartPosition(),o=e.bracketPairs.matchBracket(n),s=null;if(o)o[0].containsPosition(n)?s=o[1].getStartPosition():o[1].containsPosition(n)&&(s=o[0].getStartPosition());else{let a=e.bracketPairs.findEnclosingBrackets(n);if(a)s=a[0].getStartPosition();else{let l=e.bracketPairs.findNextBracket(n);l&&l.range&&(s=l.range.getStartPosition())}}return s?new he(s.lineNumber,s.column,s.lineNumber,s.column):new he(n.lineNumber,n.column,n.lineNumber,n.column)});this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;let t=this._editor.getModel(),i=[];this._editor.getSelections().forEach(n=>{let o=n.getStartPosition(),s=t.bracketPairs.matchBracket(o);if(!s&&(s=t.bracketPairs.findEnclosingBrackets(o),!s)){let c=t.bracketPairs.findNextBracket(o);c&&c.range&&(s=t.bracketPairs.matchBracket(c.range.getStartPosition()))}let a=null,l=null;if(s){s.sort(D.compareRangesUsingStarts);let[c,d]=s;if(a=e?c.getStartPosition():c.getEndPosition(),l=e?d.getEndPosition():d.getStartPosition(),d.containsPosition(o)){let h=a;a=l,l=h}}a&&l&&i.push(new he(a.lineNumber,a.column,l.lineNumber,l.column))}),i.length>0&&(this._editor.setSelections(i),this._editor.revealRange(i[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();let e=[],t=0;for(let i of this._lastBracketsData){let n=i.brackets;n&&(e[t++]={range:n[0],options:i.options},e[t++]={range:n[1],options:i.options})}this._decorations=this._editor.deltaDecorations(this._decorations,e)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}let e=this._editor.getSelections();if(e.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}let t=this._editor.getModel(),i=t.getVersionId(),n=[];this._lastVersionId===i&&(n=this._lastBracketsData);let o=[],s=0;for(let h=0,u=e.length;h<u;h++){let f=e[h];f.isEmpty()&&(o[s++]=f.getStartPosition())}o.length>1&&o.sort(V.compare);let a=[],l=0,c=0,d=n.length;for(let h=0,u=o.length;h<u;h++){let f=o[h];for(;c<d&&n[c].position.isBefore(f);)c++;if(c<d&&n[c].position.equals(f))a[l++]=n[c];else{let m=t.bracketPairs.matchBracket(f,20),_=lc._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!m&&this._matchBrackets==="always"&&(m=t.bracketPairs.findEnclosingBrackets(f,20),_=lc._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),a[l++]=new KG(f,m,_)}}this._lastBracketsData=a,this._lastVersionId=i}};lc.ID="editor.contrib.bracketMatchingController";lc._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=ot.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:rn(h_e),position:Ar.Center}});lc._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=ot.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"});st(lc.ID,lc);de($G);de(HG);yt((r,e)=>{let t=r.getColor(lH);t&&e.addRule(`.monaco-editor .bracket-match { background-color: ${t}; }`);let i=r.getColor(XL);i&&e.addRule(`.monaco-editor .bracket-match { border: 1px solid ${i}; }`)});Po.appendMenuItem(H.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:g({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});kt();Wi();ye();mi();var b3=class{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;let i=this._selection.startLineNumber,n=this._selection.startColumn,o=this._selection.endColumn;if(!(this._isMovingLeft&&n===1)&&!(!this._isMovingLeft&&o===e.getLineMaxColumn(i)))if(this._isMovingLeft){let s=new D(i,n-1,i,n),a=e.getValueInRange(s);t.addEditOperation(s,null),t.addEditOperation(new D(i,o,i,o),a)}else{let s=new D(i,o,i,o+1),a=e.getValueInRange(s);t.addEditOperation(s,null),t.addEditOperation(new D(i,n,i,n),a)}}computeCursorState(e,t){return this._isMovingLeft?new he(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new he(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}};ke();var v3=class extends we{constructor(e,t){super(t);this.left=e}run(e,t){if(!t.hasModel())return;let i=[],n=t.getSelections();for(let o of n)i.push(new b3(o,this.left));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}},qG=class extends v3{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:g("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:F.writable})}},YG=class extends v3{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:g("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:F.writable})}};de(qG);de(YG);kt();ye();Wi();ke();var ZG=class extends we{constructor(){super({id:"editor.action.transposeLetters",label:g("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:F.writable,kbOpts:{kbExpr:F.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(e,t){if(!t.hasModel())return;let i=t.getModel(),n=[],o=t.getSelections();for(let s of o){if(!s.isEmpty())continue;let a=s.startLineNumber,l=s.startColumn,c=i.getLineMaxColumn(a);if(a===1&&(l===1||l===2&&c===2))continue;let d=l===c?s.getPosition():Jt.rightPosition(i,s.getPosition().lineNumber,s.getPosition().column),h=Jt.leftPosition(i,d),u=Jt.leftPosition(i,h),f=i.getValueInRange(D.fromPositions(u,h)),m=i.getValueInRange(D.fromPositions(h,d)),_=D.fromPositions(u,d);n.push(new Fn(_,m+f))}n.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop())}};de(ZG);Oo();xt();kt();io();Wi();ke();Mo();var u_e=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},e_="9_cutcopypaste",f_e=_s||document.queryCommandSupported("cut"),GG=_s||document.queryCommandSupported("copy"),g_e=typeof navigator.clipboard>"u"||$n?document.queryCommandSupported("paste"):!0;function C3(r){return r.register(),r}var m_e=f_e?C3(new Uf({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:_s?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:H.MenubarEditMenu,group:"2_ccp",title:g({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:H.EditorContext,group:e_,title:g("actions.clipboard.cutLabel","Cut"),when:F.writable,order:1},{menuId:H.CommandPalette,group:"",title:g("actions.clipboard.cutLabel","Cut"),order:1},{menuId:H.SimpleEditorContext,group:e_,title:g("actions.clipboard.cutLabel","Cut"),when:F.writable,order:1}]})):void 0,p_e=GG?C3(new Uf({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:_s?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:H.MenubarEditMenu,group:"2_ccp",title:g({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:H.EditorContext,group:e_,title:g("actions.clipboard.copyLabel","Copy"),order:2},{menuId:H.CommandPalette,group:"",title:g("actions.clipboard.copyLabel","Copy"),order:1},{menuId:H.SimpleEditorContext,group:e_,title:g("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;Po.appendMenuItem(H.MenubarEditMenu,{submenu:H.MenubarCopy,title:{value:g("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3});Po.appendMenuItem(H.EditorContext,{submenu:H.EditorContextCopy,title:{value:g("copy as","Copy As"),original:"Copy As"},group:e_,order:3});var w3=g_e?C3(new Uf({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:_s?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:H.MenubarEditMenu,group:"2_ccp",title:g({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:H.EditorContext,group:e_,title:g("actions.clipboard.pasteLabel","Paste"),when:F.writable,order:4},{menuId:H.CommandPalette,group:"",title:g("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:H.SimpleEditorContext,group:e_,title:g("actions.clipboard.pasteLabel","Paste"),when:F.writable,order:4}]})):void 0,XG=class extends we{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:g("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:F.textInputFocus,primary:0,weight:100}})}run(e,t){!t.hasModel()||!t.getOption(32)&&t.getSelection().isEmpty()||(sy.forceCopyWithSyntaxHighlighting=!0,t.focus(),document.execCommand("copy"),sy.forceCopyWithSyntaxHighlighting=!1)}};function QG(r,e){!r||(r.addImplementation(1e4,"code-editor",(t,i)=>{let n=t.get(Tt).getFocusedCodeEditor();if(n&&n.hasTextFocus()){let o=n.getOption(32),s=n.getSelection();return s&&s.isEmpty()&&!o||document.execCommand(e),!0}return!1}),r.addImplementation(0,"generic-dom",(t,i)=>(document.execCommand(e),!0)))}QG(m_e,"cut");QG(p_e,"copy");w3&&(w3.addImplementation(1e4,"code-editor",(r,e)=>{let t=r.get(Tt),i=r.get(dl),n=t.getFocusedCodeEditor();return n&&n.hasTextFocus()?!document.execCommand("paste")&&pa?(()=>u_e(void 0,void 0,void 0,function*(){let s=yield i.readText();if(s!==""){let a=ap.INSTANCE.get(s),l=!1,c=null,d=null;a&&(l=n.getOption(32)&&!!a.isFromEmptySelection,c=typeof a.multicursorText<"u"?a.multicursorText:null,d=a.mode),n.trigger("keyboard","paste",{text:s,pasteOnNewLine:l,multicursorText:c,mode:d})}}))():!0:!1}),w3.addImplementation(0,"generic-dom",(r,e)=>(document.execCommand("paste"),!0)));GG&&de(XG);kt();Ei();YC();re();He();kt();Wi();hi();jt();Ei();ut();re();Oi();Jp();ye();mi();ns();on();Vc();var Wt=class{constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||this.value===""||e.value.startsWith(this.value+Wt.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(e){return new Wt(this.value+Wt.sep+e)}};Wt.sep=".";Wt.None=new Wt("@@none@@");Wt.Empty=new Wt("");Wt.QuickFix=new Wt("quickfix");Wt.Refactor=new Wt("refactor");Wt.Source=new Wt("source");Wt.SourceOrganizeImports=Wt.Source.append("organizeImports");Wt.SourceFixAll=Wt.Source.append("fixAll");function JG(r,e){return!(r.include&&!r.include.intersects(e)||r.excludes&&r.excludes.some(t=>tX(e,t,r.include))||!r.includeSourceActions&&Wt.Source.contains(e))}function eX(r,e){let t=e.kind?new Wt(e.kind):void 0;return!(r.include&&(!t||!r.include.contains(t))||r.excludes&&t&&r.excludes.some(i=>tX(t,i,r.include))||!r.includeSourceActions&&t&&Wt.Source.contains(t)||r.onlyIncludePreferredActions&&!e.isPreferred)}function tX(r,e,t){return!(!e.contains(r)||t&&e.contains(t))}var ml=class{constructor(e,t,i){this.kind=e,this.apply=t,this.preferred=i}static fromUser(e,t){return!e||typeof e!="object"?new ml(t.kind,t.apply,!1):new ml(ml.getKindFromUser(e,t.kind),ml.getApplyFromUser(e,t.apply),ml.getPreferredUser(e))}static getApplyFromUser(e,t){switch(typeof e.apply=="string"?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return typeof e.kind=="string"?new Wt(e.kind):t}static getPreferredUser(e){return typeof e.preferred=="boolean"?e.preferred:!1}};hi();var y3=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},$O="editor.action.codeAction",KO="editor.action.refactor",qO="editor.action.sourceAction",nS="editor.action.organizeImports",oS="editor.action.fixAll",YO=class{constructor(e,t){this.action=e,this.provider=t}resolve(e){var t;return y3(this,void 0,void 0,function*(){if(((t=this.provider)===null||t===void 0?void 0:t.resolveCodeAction)&&!this.action.edit){let i;try{i=yield this.provider.resolveCodeAction(this.action,e)}catch(n){Si(n)}i&&(this.action.edit=i.edit)}return this})}},ZO=class extends ${constructor(e,t,i){super();this.documentation=t,this._register(i),this.allActions=[...e].sort(ZO.codeActionsComparator),this.validActions=this.allActions.filter(({action:n})=>!n.disabled)}static codeActionsComparator({action:e},{action:t}){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:jn(e.diagnostics)?jn(t.diagnostics)?e.diagnostics[0].message.localeCompare(t.diagnostics[0].message):-1:jn(t.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:e})=>!!e.kind&&Wt.QuickFix.contains(new Wt(e.kind))&&!!e.isPreferred)}},iX={actions:[],documentation:void 0};function rS(r,e,t,i,n,o){var s;let a=i.filter||{},l={only:(s=a.include)===null||s===void 0?void 0:s.value,trigger:i.type},c=new Cw(e,o),d=__e(r,e,a),h=new J,u=d.map(m=>y3(this,void 0,void 0,function*(){try{n.report(m);let _=yield m.provideCodeActions(e,t,l,c.token);if(_&&h.add(_),c.token.isCancellationRequested)return iX;let w=(_?.actions||[]).filter(C=>C&&eX(a,C)),y=b_e(m,w,a.include);return{actions:w.map(C=>new YO(C,m)),documentation:y}}catch(_){if(ws(_))throw _;return Si(_),iX}})),f=r.onDidChange(()=>{let m=r.all(e);Xn(m,d)||c.cancel()});return Promise.all(u).then(m=>{let _=eb(m.map(y=>y.actions)),w=Il(m.map(y=>y.documentation));return new ZO(_,w,h)}).finally(()=>{f.dispose(),c.dispose()})}function __e(r,e,t){return r.all(e).filter(i=>i.providedCodeActionKinds?i.providedCodeActionKinds.some(n=>JG(t,new Wt(n))):!0)}function b_e(r,e,t){if(!r.documentation)return;let i=r.documentation.map(n=>({kind:new Wt(n.kind),command:n.command}));if(t){let n;for(let o of i)o.kind.contains(t)&&(n?n.kind.contains(o.kind)&&(n=o):n=o);if(n)return n?.command}for(let n of e)if(!!n.kind){for(let o of i)if(o.kind.contains(new Wt(n.kind)))return o.command}}ht.registerCommand("_executeCodeActionProvider",function(r,e,t,i,n){return y3(this,void 0,void 0,function*(){if(!(e instanceof De))throw is();let{codeActionProvider:o}=r.get(ve),s=r.get(ii).getModel(e);if(!s)throw is();let a=he.isISelection(t)?he.liftSelection(t):D.isIRange(t)?s.validateRange(t):void 0;if(!a)throw is();let l=typeof i=="string"?new Wt(i):void 0,c=yield rS(o,s,a,{type:1,filter:{includeSourceActions:!0,include:l}},oc.None,Qe.None),d=[],h=Math.min(c.validActions.length,typeof n=="number"?n:0);for(let u=0;u<h;u++)d.push(c.validActions[u].resolve(Qe.None));try{return yield Promise.all(d),c.validActions.map(u=>u.action)}finally{setTimeout(()=>c.dispose(),100)}})});ut();YC();re();xs();nt();re();kt();ye();ke();Et();var v_e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},w_e=function(r,e){return function(t,i){e(t,i,r)}},Kr=class S3{constructor(e,t){this._messageWidget=new kn,this._messageListeners=new J,this._editor=e,this._visible=S3.MESSAGE_VISIBLE.bindTo(t),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(e){return e.getContribution(S3.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){Sn(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new E3(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new mn(()=>this.closeMessage(),3e3));let i;this._messageListeners.add(this._editor.onMouseMove(n=>{!n.target.position||(i?i.containsPosition(n.target.position)||this.closeMessage():i=new D(t.lineNumber-3,1,n.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(E3.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(g("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}};Kr.ID="editor.contrib.messageController";Kr.MESSAGE_VISIBLE=new Se("messageVisible",!1,g("messageVisible","Whether the editor is currently showing an inline message"));Kr=v_e([w_e(1,Le)],Kr);var C_e=Yi.bindToContribution(Kr.get);me(new C_e({id:"leaveEditorMessage",precondition:Kr.MESSAGE_VISIBLE,handler:r=>r.closeMessage(),kbOpts:{weight:100+30,primary:9}}));var E3=class{constructor(e,{lineNumber:t,column:i},n){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:i-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");let o=document.createElement("div");o.classList.add("anchor","top"),this._domNode.appendChild(o);let s=document.createElement("div");s.classList.add("message"),s.textContent=n,this._domNode.appendChild(s);let a=document.createElement("div");a.classList.add("anchor","below"),this._domNode.appendChild(a),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(e){let t,i=()=>{e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",i)};return t=setTimeout(i,110),e.getDomNode().addEventListener("animationend",i),e.getDomNode().classList.add("fadeOut"),{dispose:i}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(e){this._domNode.classList.toggle("below",e===2)}};st(Kr.ID,Kr);Ye();Be();ss();ut();YC();re();lt();hi();var y_e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},x3=function(r,e){return function(t,i){e(t,i,r)}},S_e=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},D3=class extends Kn{constructor(e,t){super(e.command?e.command.id:e.title,E_e(e.title),void 0,!e.disabled,t);this.action=e}};function E_e(r){return r.replace(/\r\n|\r|\n/g," ")}var GO=class extends ${constructor(e,t,i,n,o){super();this._editor=e,this._delegate=t,this._contextMenuService=i,this._languageFeaturesService=o,this._visible=!1,this._showingActions=this._register(new kn),this._keybindingResolver=new sS({getKeybindings:()=>n.getKeybindings()})}get isVisible(){return this._visible}show(e,t,i,n){return S_e(this,void 0,void 0,function*(){let o=n.includeDisabledActions?t.allActions:t.validActions;if(!o.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,ab();this._visible=!0,this._showingActions.value=t;let s=this.getMenuActions(e,o,t.documentation),a=V.isIPosition(i)?this._toCoords(i):i||{x:0,y:0},l=this._keybindingResolver.getResolver(),c=this._editor.getOption(115);this._contextMenuService.showContextMenu({domForShadowRoot:c?this._editor.getDomNode():void 0,getAnchor:()=>a,getActions:()=>s,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:d=>d instanceof D3?l(d.action):void 0})})}getMenuActions(e,t,i){var n,o;let s=d=>new D3(d.action,()=>this._delegate.onSelectCodeAction(d)),a=t.map(s),l=[...i],c=this._editor.getModel();if(c&&a.length)for(let d of this._languageFeaturesService.codeActionProvider.all(c))d._getAdditionalMenuItems&&l.push(...d._getAdditionalMenuItems({trigger:e.type,only:(o=(n=e.filter)===null||n===void 0?void 0:n.include)===null||o===void 0?void 0:o.value},t.map(h=>h.action)));return l.length&&a.push(new $o,...l.map(d=>s(new YO({title:d.title,command:d},void 0)))),a}_toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();let t=this._editor.getScrolledVisiblePosition(e),i=ji(this._editor.getDomNode()),n=i.left+t.left,o=i.top+t.top+t.height;return{x:n,y:o}}};GO=y_e([x3(2,Js),x3(3,Di),x3(4,ve)],GO);var sS=class{constructor(e){this._keybindingProvider=e}getResolver(){let e=new Sc(()=>this._keybindingProvider.getKeybindings().filter(t=>sS.codeActionCommands.indexOf(t.command)>=0).filter(t=>t.resolvedKeybinding).map(t=>{let i=t.commandArgs;return t.command===nS?i={kind:Wt.SourceOrganizeImports.value}:t.command===oS&&(i={kind:Wt.SourceFixAll.value}),Object.assign({resolvedKeybinding:t.resolvedKeybinding},ml.fromUser(i,{kind:Wt.None,apply:"never"}))}));return t=>{if(t.kind){let i=this.bestKeybindingForCodeAction(t,e.getValue());return i?.resolvedKeybinding}}}bestKeybindingForCodeAction(e,t){if(!e.kind)return;let i=new Wt(e.kind);return t.filter(n=>n.kind.contains(i)).filter(n=>n.preferred?e.isPreferred:!0).reduceRight((n,o)=>n?n.kind.contains(o.kind)?o:n:o,void 0)}};sS.codeActionCommands=[KO,$O,qO,nS,oS];Be();ln();Ee();re();gk();ke();Li();pt();var x_e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},D_e=function(r,e){return function(t,i){e(t,i,r)}},aS;(function(r){r.Hidden={type:0};class e{constructor(i,n,o,s){this.actions=i,this.trigger=n,this.editorPosition=o,this.widgetPosition=s,this.type=1}}r.Showing=e})(aS||(aS={}));var lS=class nX extends ${constructor(e,t,i,n){super();this._editor=e,this._quickFixActionId=t,this._preferredFixActionId=i,this._keybindingService=n,this._onClick=this._register(new B),this.onClick=this._onClick.event,this._state=aS.Hidden,this._domNode=document.createElement("div"),this._domNode.className=p.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(o=>{let s=this._editor.getModel();(this.state.type!==1||!s||this.state.editorPosition.lineNumber>=s.getLineCount())&&this.hide()})),zt.ignoreTarget(this._domNode),this._register(PU(this._domNode,o=>{if(this.state.type!==1)return;this._editor.focus(),o.preventDefault();let{top:s,height:a}=ji(this._domNode),l=this._editor.getOption(59),c=Math.floor(l/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(c+=l),this._onClick.fire({x:o.posx,y:s+a+c,actions:this.state.actions,trigger:this.state.trigger})})),this._register(se(this._domNode,"mouseenter",o=>{if((o.buttons&1)!==1)return;this.hide();let s=new Oa;s.startMonitoring(o.target,o.buttons,Oc,()=>{},()=>{s.dispose()})})),this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(57)&&!this._editor.getOption(57).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(e,t,i){if(e.validActions.length<=0)return this.hide();let n=this._editor.getOptions();if(!n.get(57).enabled)return this.hide();let o=this._editor.getModel();if(!o)return this.hide();let{lineNumber:s,column:a}=o.validatePosition(i),l=o.getOptions().tabSize,c=n.get(44),d=o.getLineContent(s),h=pp(d,l),u=c.spaceWidth*h>22,f=_=>_>2&&this._editor.getTopForLineNumber(_)===this._editor.getTopForLineNumber(_-1),m=s;if(!u){if(s>1&&!f(s-1))m-=1;else if(!f(s+1))m+=1;else if(a*c.spaceWidth<22)return this.hide()}this.state=new aS.Showing(e,t,i,{position:{lineNumber:m,column:1},preference:nX._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=aS.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...p.lightBulb.classNamesArray),this._domNode.classList.add(...p.lightbulbAutofix.classNamesArray);let t=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(t){this.title=g("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",t.getLabel());return}}this._domNode.classList.remove(...p.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...p.lightBulb.classNamesArray);let e=this._keybindingService.lookupKeybinding(this._quickFixActionId);e?this.title=g("codeActionWithKb","Show Code Actions ({0})",e.getLabel()):this.title=g("codeAction","Show Code Actions")}set title(e){this._domNode.title=e}};lS._posPref=[0];lS=x_e([D_e(3,Di)],lS);yt((r,e)=>{var t;let i=(t=r.getColor(nr))===null||t===void 0?void 0:t.transparent(.7),n=r.getColor(Xz);n&&e.addRule(`
		.monaco-editor .contentWidgets ${p.lightBulb.cssSelector} {
			color: ${n};
			background-color: ${i};
		}`);let o=r.getColor(Qz);o&&e.addRule(`
		.monaco-editor .contentWidgets ${p.lightbulbAutofix.cssSelector} {
			color: ${o};
			background-color: ${i};
		}`)});var L_e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},k_e=function(r,e){return function(t,i){e(t,i,r)}},L3=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},I_e=function(r,e,t,i,n){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?n.call(r,t):n?n.value=t:e.set(r,t),t},O_e=function(r,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(r):i?i.value:e.get(r)},XO,QO=class extends ${constructor(e,t,i,n,o){super();this._editor=e,this.delegate=n,this._activeCodeActions=this._register(new kn),XO.set(this,!1),this._codeActionWidget=new Sc(()=>this._register(o.createInstance(GO,this._editor,{onSelectCodeAction:s=>L3(this,void 0,void 0,function*(){this.delegate.applyCodeAction(s,!0)})}))),this._lightBulbWidget=new Sc(()=>{let s=this._register(o.createInstance(lS,this._editor,t,i));return this._register(s.onClick(a=>this.showCodeActionList(a.trigger,a.actions,a,{includeDisabledActions:!1}))),s})}dispose(){I_e(this,XO,!0,"f"),super.dispose()}update(e){var t,i,n,o,s;return L3(this,void 0,void 0,function*(){if(e.type!==1){(t=this._lightBulbWidget.rawValue)===null||t===void 0||t.hide();return}let a;try{a=yield e.actions}catch(l){Ie(l);return}if(!O_e(this,XO,"f"))if(this._lightBulbWidget.getValue().update(a,e.trigger,e.position),e.trigger.type===1){if(!((i=e.trigger.filter)===null||i===void 0)&&i.include){let c=this.tryGetValidActionToApply(e.trigger,a);if(c){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(c,!1)}finally{a.dispose()}return}if(e.trigger.context){let d=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,a);if(d&&d.action.disabled){(n=Kr.get(this._editor))===null||n===void 0||n.showMessage(d.action.disabled,e.trigger.context.position),a.dispose();return}}}let l=!!(!((o=e.trigger.filter)===null||o===void 0)&&o.include);if(e.trigger.context&&(!a.allActions.length||!l&&!a.validActions.length)){(s=Kr.get(this._editor))===null||s===void 0||s.showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=a,a.dispose();return}this._activeCodeActions.value=a,this._codeActionWidget.getValue().show(e.trigger,a,e.position,{includeDisabledActions:l})}else this._codeActionWidget.getValue().isVisible?a.dispose():this._activeCodeActions.value=a})}getInvalidActionThatWouldHaveBeenApplied(e,t){if(!!t.allActions.length&&(e.autoApply==="first"&&t.validActions.length===0||e.autoApply==="ifSingle"&&t.allActions.length===1))return t.allActions.find(({action:i})=>i.disabled)}tryGetValidActionToApply(e,t){if(!!t.validActions.length&&(e.autoApply==="first"&&t.validActions.length>0||e.autoApply==="ifSingle"&&t.validActions.length===1))return t.validActions[0]}showCodeActionList(e,t,i,n){return L3(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(e,t,i,n)})}};XO=new WeakMap;QO=L_e([k_e(4,ze)],QO);ke();on();Et();Ye();Vc();Xm();nt();ut();Ee();re();Vr();ye();Et();Vc();var k3=function(r,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(r):i?i.value:e.get(r)},T_e=function(r,e,t,i,n){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?n.call(r,t):n?n.value=t:e.set(r,t),t},yw,I3=new Se("supportedCodeAction",""),oX=class extends ${constructor(e,t,i,n=250){super();this._editor=e,this._markerService=t,this._signalChange=i,this._delay=n,this._autoTriggerTimer=this._register(new mn),this._register(this._markerService.onMarkerChanged(o=>this._onMarkerChanges(o))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(e){let t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);return this._createEventAndSignalChange(e,t)}_onMarkerChanges(e){let t=this._editor.getModel();!t||e.some(i=>Uk(i,t.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(e){let t=this._editor.getModel();if(!!t)for(let i of this._markerService.read({resource:t.uri})){let n=t.validateRange(i);if(D.intersectRanges(n,e))return D.lift(n)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(!this._editor.hasModel())return;let t=this._editor.getModel(),i=this._editor.getSelection();if(i.isEmpty()&&e.type===2){let{lineNumber:n,column:o}=i.getPosition(),s=t.getLineContent(n);if(s.length===0)return;if(o===1){if(/\s/.test(s[0]))return}else if(o===t.getLineMaxColumn(n)){if(/\s/.test(s[s.length-1]))return}else if(/\s/.test(s[o-2])&&/\s/.test(s[o-1]))return}return i}_createEventAndSignalChange(e,t){let i=this._editor.getModel();if(!t||!i){this._signalChange(void 0);return}let n=this._getRangeOfMarker(t),o=n?n.getStartPosition():t.getStartPosition(),s={trigger:e,selection:t,position:o};return this._signalChange(s),s}},t_;(function(r){r.Empty={type:0};class e{constructor(i,n,o,s){this.trigger=i,this.rangeOrSelection=n,this.position=o,this._cancellablePromise=s,this.type=1,this.actions=s.catch(a=>{if(ws(a))return N_e;throw a})}cancel(){this._cancellablePromise.cancel()}}r.Triggered=e})(t_||(t_={}));var N_e={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1},O3=class extends ${constructor(e,t,i,n,o){super();this._editor=e,this._registry=t,this._markerService=i,this._progressService=o,this._codeActionOracle=this._register(new kn),this._state=t_.Empty,this._onDidChangeState=this._register(new B),this.onDidChangeState=this._onDidChangeState.event,yw.set(this,!1),this._supportedCodeActions=I3.bindTo(n),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){k3(this,yw,"f")||(T_e(this,yw,!0,"f"),super.dispose(),this.setState(t_.Empty,!0))}_update(){if(k3(this,yw,"f"))return;this._codeActionOracle.value=void 0,this.setState(t_.Empty);let e=this._editor.getModel();if(e&&this._registry.has(e)&&!this._editor.getOption(81)){let t=[];for(let i of this._registry.all(e))Array.isArray(i.providedCodeActionKinds)&&t.push(...i.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new oX(this._editor,this._markerService,i=>{var n;if(!i){this.setState(t_.Empty);return}let o=xi(s=>rS(this._registry,e,i.selection,i.trigger,oc.None,s));i.trigger.type===1&&((n=this._progressService)===null||n===void 0||n.showWhile(o,250)),this.setState(new t_.Triggered(i.trigger,i.selection,i.position,o))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(e){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(e)}setState(e,t){e!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=e,!t&&!k3(this,yw,"f")&&this._onDidChangeState.fire(e))}};yw=new WeakMap;var P_e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},cS=function(r,e){return function(t,i){e(t,i,r)}},rX=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};function dS(r){return Ce.regex(I3.keys()[0],new RegExp("(\\s|^)"+Io(r.value)+"\\b"))}var T3={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:g("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:g("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[g("args.schema.apply.first","Always apply the first returned code action."),g("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),g("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:g("args.schema.preferred","Controls if only preferred code actions should be returned.")}}},Mu=class sX extends ${constructor(e,t,i,n,o,s){super();this._instantiationService=o,this._editor=e,this._model=this._register(new O3(this._editor,s.codeActionProvider,t,i,n)),this._register(this._model.onDidChangeState(a=>this.update(a))),this._ui=new Sc(()=>this._register(new QO(e,Au.Id,n_.Id,{applyCodeAction:(a,l)=>rX(this,void 0,void 0,function*(){try{yield this._applyCodeAction(a)}finally{l&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(e){return e.getContribution(sX.ID)}update(e){this._ui.getValue().update(e)}showCodeActions(e,t,i){return this._ui.getValue().showCodeActionList(e,t,i,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(e,t,i){var n;if(!this._editor.hasModel())return;(n=Kr.get(this._editor))===null||n===void 0||n.closeMessage();let o=this._editor.getPosition();this._trigger({type:1,filter:t,autoApply:i,context:{notAvailableMessage:e,position:o}})}_trigger(e){return this._model.trigger(e)}_applyCodeAction(e){return this._instantiationService.invokeFunction(M_e,e,this._editor)}};Mu.ID="editor.contrib.quickFixController";Mu=P_e([cS(1,ra),cS(2,Le),cS(3,ea),cS(4,ze),cS(5,ve)],Mu);function M_e(r,e,t){return rX(this,void 0,void 0,function*(){let i=r.get(Xv),n=r.get(pi),o=r.get(ka),s=r.get(si);if(o.publicLog2("codeAction.applyCodeAction",{codeActionTitle:e.action.title,codeActionKind:e.action.kind,codeActionIsPreferred:!!e.action.isPreferred}),yield e.resolve(Qe.None),e.action.edit&&(yield i.apply(Op.convert(e.action.edit),{editor:t,label:e.action.title})),e.action.command)try{yield n.executeCommand(e.action.command.id,...e.action.command.arguments||[])}catch(a){let l=A_e(a);s.error(typeof l=="string"?l:g("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function A_e(r){return typeof r=="string"?r:r instanceof Error&&typeof r.message=="string"?r.message:void 0}function i_(r,e,t,i){if(r.hasModel()){let n=Mu.get(r);n&&n.manualTriggerAtCurrentPosition(e,t,i)}}var Au=class extends we{constructor(){super({id:Au.Id,label:g("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:Ce.and(F.writable,F.hasCodeActionsProvider),kbOpts:{kbExpr:F.editorTextFocus,primary:2132,weight:100}})}run(e,t){return i_(t,g("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}};Au.Id="editor.action.quickFix";var N3=class extends Yi{constructor(){super({id:$O,precondition:Ce.and(F.writable,F.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:T3}]}})}runEditorCommand(e,t,i){let n=ml.fromUser(i,{kind:Wt.Empty,apply:"ifSingle"});return i_(t,typeof i?.kind=="string"?n.preferred?g("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",i.kind):g("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",i.kind):n.preferred?g("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):g("editor.action.codeAction.noneMessage","No code actions available"),{include:n.kind,includeSourceActions:!0,onlyIncludePreferredActions:n.preferred},n.apply)}},P3=class extends we{constructor(){super({id:KO,label:g("refactor.label","Refactor..."),alias:"Refactor...",precondition:Ce.and(F.writable,F.hasCodeActionsProvider),kbOpts:{kbExpr:F.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:Ce.and(F.writable,dS(Wt.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:T3}]}})}run(e,t,i){let n=ml.fromUser(i,{kind:Wt.Refactor,apply:"never"});return i_(t,typeof i?.kind=="string"?n.preferred?g("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",i.kind):g("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",i.kind):n.preferred?g("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):g("editor.action.refactor.noneMessage","No refactorings available"),{include:Wt.Refactor.contains(n.kind)?n.kind:Wt.None,onlyIncludePreferredActions:n.preferred},n.apply)}},M3=class extends we{constructor(){super({id:qO,label:g("source.label","Source Action..."),alias:"Source Action...",precondition:Ce.and(F.writable,F.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:Ce.and(F.writable,dS(Wt.Source))},description:{description:"Source Action...",args:[{name:"args",schema:T3}]}})}run(e,t,i){let n=ml.fromUser(i,{kind:Wt.Source,apply:"never"});return i_(t,typeof i?.kind=="string"?n.preferred?g("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",i.kind):g("editor.action.source.noneMessage.kind","No source actions for '{0}' available",i.kind):n.preferred?g("editor.action.source.noneMessage.preferred","No preferred source actions available"):g("editor.action.source.noneMessage","No source actions available"),{include:Wt.Source.contains(n.kind)?n.kind:Wt.None,includeSourceActions:!0,onlyIncludePreferredActions:n.preferred},n.apply)}},A3=class extends we{constructor(){super({id:nS,label:g("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:Ce.and(F.writable,dS(Wt.SourceOrganizeImports)),kbOpts:{kbExpr:F.editorTextFocus,primary:1581,weight:100}})}run(e,t){return i_(t,g("editor.action.organize.noneMessage","No organize imports action available"),{include:Wt.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}},R3=class extends we{constructor(){super({id:oS,label:g("fixAll.label","Fix All"),alias:"Fix All",precondition:Ce.and(F.writable,dS(Wt.SourceFixAll))})}run(e,t){return i_(t,g("fixAll.noneMessage","No fix all action available"),{include:Wt.SourceFixAll,includeSourceActions:!0},"ifSingle")}},n_=class extends we{constructor(){super({id:n_.Id,label:g("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:Ce.and(F.writable,dS(Wt.QuickFix)),kbOpts:{kbExpr:F.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(e,t){return i_(t,g("editor.action.autoFix.noneMessage","No auto fixes available"),{include:Wt.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}};n_.Id="editor.action.autoFix";st(Mu.ID,Mu);de(Au);de(P3);de(M3);de(A3);de(n_);de(R3);me(new N3);Be();nt();ut();Tb();re();kt();Wi();Ei();ut();re();ai();Oi();ns();on();hi();var aX=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},hS=class{constructor(){this.lenses=[],this._disposables=new J}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(e,t){this._disposables.add(e);for(let i of e.lenses)this.lenses.push({symbol:i,provider:t})}};function F3(r,e,t){return aX(this,void 0,void 0,function*(){let i=r.ordered(e),n=new Map,o=new hS,s=i.map((a,l)=>aX(this,void 0,void 0,function*(){n.set(a,l);try{let c=yield Promise.resolve(a.provideCodeLenses(e,t));c&&o.add(c,a)}catch(c){Si(c)}}));return yield Promise.all(s),o.lenses=o.lenses.sort((a,l)=>a.symbol.range.startLineNumber<l.symbol.range.startLineNumber?-1:a.symbol.range.startLineNumber>l.symbol.range.startLineNumber?1:n.get(a.provider)<n.get(l.provider)?-1:n.get(a.provider)>n.get(l.provider)?1:a.symbol.range.startColumn<l.symbol.range.startColumn?-1:a.symbol.range.startColumn>l.symbol.range.startColumn?1:0),o})}ht.registerCommand("_executeCodeLensProvider",function(r,...e){let[t,i]=e;Yt(De.isUri(t)),Yt(typeof i=="number"||!i);let{codeLensProvider:n}=r.get(ve),o=r.get(ii).getModel(t);if(!o)throw is();let s=[],a=new J;return F3(n,o,Qe.None).then(l=>{a.add(l);let c=[];for(let d of l.lenses)i==null||Boolean(d.symbol.command)?s.push(d.symbol):i-- >0&&d.provider.resolveCodeLens&&c.push(Promise.resolve(d.provider.resolveCodeLens(o,d.symbol,Qe.None)).then(h=>s.push(h||d.symbol)));return Promise.all(c)}).then(()=>s).finally(()=>{setTimeout(()=>a.dispose(),100)})});nt();wm();ia();ye();Ss();Ye();var R_e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},F_e=function(r,e){return function(t,i){e(t,i,r)}},W3=Fe("ICodeLensCache"),B3=class{constructor(e,t){this.lineCount=e,this.data=t}},j3=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new ta(20,.75);let t="codelens/cache";Tm(()=>e.remove(t,1));let i="codelens/cache2",n=e.get(i,1,"{}");this._deserialize(n),ba(e.onWillSaveState)(o=>{o.reason===vw.SHUTDOWN&&e.store(i,this._serialize(),1,1)})}put(e,t){let i=t.lenses.map(s=>{var a;return{range:s.symbol.range,command:s.symbol.command&&{id:"",title:(a=s.symbol.command)===null||a===void 0?void 0:a.title}}}),n=new hS;n.add({lenses:i,dispose:()=>{}},this._fakeProvider);let o=new B3(e.getLineCount(),n);this._cache.set(e.uri.toString(),o)}get(e){let t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){let e=Object.create(null);for(let[t,i]of this._cache){let n=new Set;for(let o of i.data.lenses)n.add(o.symbol.range.startLineNumber);e[t]={lineCount:i.lineCount,lines:[...n.values()]}}return JSON.stringify(e)}_deserialize(e){try{let t=JSON.parse(e);for(let i in t){let n=t[i],o=[];for(let a of n.lines)o.push({range:new D(a,1,a,11)});let s=new hS;s.add({lenses:o,dispose(){}},this._fakeProvider),this._cache.set(i,new B3(n.lineCount,s))}}catch{}}};j3=R_e([F_e(0,la)],j3);Lt(W3,j3);Be();ye();Fo();var lX=class{constructor(e,t,i){this.afterColumn=1073741824,this.afterLineNumber=e,this.heightInPx=t,this._onHeight=i,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){this._lastHeight===void 0?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}},uS=class{constructor(e,t,i){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id=`codelens.widget-${uS._idPool++}`,this.updatePosition(i),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${t}`}withCommands(e,t){this._commands.clear();let i=[],n=!1;for(let o=0;o<e.length;o++){let s=e[o];if(!!s&&(n=!0,s.command)){let a=ac(s.command.title.trim());s.command.id?(i.push(le("a",{id:String(o),title:s.command.tooltip},...a)),this._commands.set(String(o),s.command)):i.push(le("span",{title:s.command.tooltip},...a)),o+1<e.length&&i.push(le("span",void 0,"\xA0|\xA0"))}}n?(ql(this._domNode,...i),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):ql(this._domNode,le("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){let t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}};uS._idPool=0;var fS=class{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){let t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let i=0,n=t.length;i<n;i++)this._addDecorationsCallbacks[i](t[i])}},JO=class{constructor(e,t,i,n,o,s,a){this._isDisposed=!1,this._editor=t,this._className=i,this._data=e,this._decorationIds=[];let l,c=[];this._data.forEach((d,h)=>{d.symbol.command&&c.push(d.symbol),n.addDecoration({range:d.symbol.range,options:ot.EMPTY},u=>this._decorationIds[h]=u),l?l=D.plusRange(l,d.symbol.range):l=D.lift(d.symbol.range)}),this._viewZone=new lX(l.startLineNumber-1,s,a),this._viewZoneId=o.addZone(this._viewZone),c.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(c,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new uS(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t&&t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((e,t)=>{let i=this._editor.getModel().getDecorationRange(e),n=this._data[t].symbol;return!!(i&&D.isEmpty(n.range)===i.isEmpty())})}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach((i,n)=>{t.addDecoration({range:i.symbol.range,options:ot.EMPTY},o=>this._decorationIds[n]=o)})}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){let i=e.getDecorationRange(this._decorationIds[t]);i&&(this._data[t].symbol.range=i)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){let i=e[t];if(i){let{symbol:n}=this._data[t];n.command=i.command||n.command}}}getCommand(e){var t;return(t=this._contentWidget)===null||t===void 0?void 0:t.getCommand(e)}getLineNumber(){let e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){let t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}};ke();on();rc();hi();var B_e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},gS=function(r,e){return function(t,i){e(t,i,r)}},j_e=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},Sw=class{constructor(e,t,i,n,o,s){this._editor=e,this._languageFeaturesService=t,this._commandService=n,this._notificationService=o,this._codeLensCache=s,this._disposables=new J,this._localToDispose=new J,this._lenses=[],this._oldCodeLensModels=new J,this._provideCodeLensDebounce=i.for(t.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=i.for(t.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new wt(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(a=>{(a.hasChanged(44)||a.hasChanged(16)||a.hasChanged(15))&&this._updateLensStyle(),a.hasChanged(14)&&this._onModelChange()})),this._disposables.add(t.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+UD(this._editor.getId()).toString(16),this._styleElement=po(Vh(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(e=this._currentCodeLensModel)===null||e===void 0||e.dispose(),this._styleElement.remove()}_getLayoutInfo(){let e=this._editor.getOption(16),t;return!e||e<5?(e=this._editor.getOption(46)*.9|0,t=this._editor.getOption(59)):t=e*Math.max(1.3,this._editor.getOption(59)/this._editor.getOption(46))|0,{codeLensHeight:t,fontSize:e}}_updateLensStyle(){let{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),i=this._editor.getOption(15),n=this._editor.getOption(44),o=`--codelens-font-family${this._styleClassName}`,s=`--codelens-font-features${this._styleClassName}`,a=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${e}px; font-size: ${t}px; padding-right: ${Math.round(t*.5)}px; font-feature-settings: var(${s}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${e}px; font-size: ${t}px; }
		`;i&&(a+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${o}), ${Jn.fontFamily}}`),this._styleElement.textContent=a,this._editor.getContainerDomNode().style.setProperty(o,i??"inherit"),this._editor.getContainerDomNode().style.setProperty(s,n.fontFeatureSettings),this._editor.changeViewZones(l=>{for(let c of this._lenses)c.updateHeight(e,l)})}_localDispose(){var e,t,i;(e=this._getCodeLensModelPromise)===null||e===void 0||e.cancel(),this._getCodeLensModelPromise=void 0,(t=this._resolveCodeLensesPromise)===null||t===void 0||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(i=this._currentCodeLensModel)===null||i===void 0||i.dispose()}_onModelChange(){this._localDispose();let e=this._editor.getModel();if(!e||!this._editor.getOption(14))return;let t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!this._languageFeaturesService.codeLensProvider.has(e)){t&&this._localToDispose.add(Ul(()=>{let n=this._codeLensCache.get(e);t===n&&(this._codeLensCache.delete(e),this._onModelChange())},30*1e3));return}for(let n of this._languageFeaturesService.codeLensProvider.all(e))if(typeof n.onDidChange=="function"){let o=n.onDidChange(()=>i.schedule());this._localToDispose.add(o)}let i=new wt(()=>{var n;let o=Date.now();(n=this._getCodeLensModelPromise)===null||n===void 0||n.cancel(),this._getCodeLensModelPromise=xi(s=>F3(this._languageFeaturesService.codeLensProvider,e,s)),this._getCodeLensModelPromise.then(s=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=s,this._codeLensCache.put(e,s);let a=this._provideCodeLensDebounce.update(e,Date.now()-o);i.delay=a,this._renderCodeLensSymbols(s),this._resolveCodeLensesInViewportSoon()},Ie)},this._provideCodeLensDebounce.get(e));this._localToDispose.add(i),this._localToDispose.add(Ve(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(n=>{this._editor.changeViewZones(o=>{let s=[],a=-1;this._lenses.forEach(c=>{!c.isValid()||a===c.getLineNumber()?s.push(c):(c.update(o),a=c.getLineNumber())});let l=new fS;s.forEach(c=>{c.dispose(l,o),this._lenses.splice(this._lenses.indexOf(c),1)}),l.commit(n)})}),i.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{i.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(n=>{n.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(Ve(()=>{if(this._editor.getModel()){let n=cl.capture(this._editor);this._editor.changeDecorations(o=>{this._editor.changeViewZones(s=>{this._disposeAllLenses(o,s)})}),n.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(n=>{if(n.target.type!==9)return;let o=n.target.element;if(o?.tagName==="SPAN"&&(o=o.parentElement),o?.tagName==="A")for(let s of this._lenses){let a=s.getCommand(o);if(a){this._commandService.executeCommand(a.id,...a.arguments||[]).catch(l=>this._notificationService.error(l));break}}})),i.schedule()}_disposeAllLenses(e,t){let i=new fS;for(let n of this._lenses)n.dispose(i,t);e&&i.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){if(!this._editor.hasModel())return;let t=this._editor.getModel().getLineCount(),i=[],n;for(let a of e.lenses){let l=a.symbol.range.startLineNumber;l<1||l>t||(n&&n[n.length-1].symbol.range.startLineNumber===l?n.push(a):(n=[a],i.push(n)))}let o=cl.capture(this._editor),s=this._getLayoutInfo();this._editor.changeDecorations(a=>{this._editor.changeViewZones(l=>{let c=new fS,d=0,h=0;for(;h<i.length&&d<this._lenses.length;){let u=i[h][0].symbol.range.startLineNumber,f=this._lenses[d].getLineNumber();f<u?(this._lenses[d].dispose(c,l),this._lenses.splice(d,1)):f===u?(this._lenses[d].updateCodeLensSymbols(i[h],c),h++,d++):(this._lenses.splice(d,0,new JO(i[h],this._editor,this._styleClassName,c,l,s.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),d++,h++)}for(;d<this._lenses.length;)this._lenses[d].dispose(c,l),this._lenses.splice(d,1);for(;h<i.length;)this._lenses.push(new JO(i[h],this._editor,this._styleClassName,c,l,s.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),h++;c.commit(a)})}),o.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var e;(e=this._resolveCodeLensesPromise)===null||e===void 0||e.cancel(),this._resolveCodeLensesPromise=void 0;let t=this._editor.getModel();if(!t)return;let i=[],n=[];if(this._lenses.forEach(a=>{let l=a.computeIfNecessary(t);l&&(i.push(l),n.push(a))}),i.length===0)return;let o=Date.now(),s=xi(a=>{let l=i.map((c,d)=>{let h=new Array(c.length),u=c.map((f,m)=>!f.symbol.command&&typeof f.provider.resolveCodeLens=="function"?Promise.resolve(f.provider.resolveCodeLens(t,f.symbol,a)).then(_=>{h[m]=_},Si):(h[m]=f.symbol,Promise.resolve(void 0)));return Promise.all(u).then(()=>{!a.isCancellationRequested&&!n[d].isDisposed()&&n[d].updateCommands(h)})});return Promise.all(l)});this._resolveCodeLensesPromise=s,this._resolveCodeLensesPromise.then(()=>{let a=this._resolveCodeLensesDebounce.update(t,Date.now()-o);this._resolveCodeLensesScheduler.delay=a,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),s===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},a=>{Ie(a),s===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};Sw.ID="css.editor.codeLens";Sw=B_e([gS(1,ve),gS(2,Co),gS(3,pi),gS(4,si),gS(5,W3)],Sw);st(Sw.ID,Sw);de(class extends we{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:F.hasCodeLensProvider,label:g("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(e,t){return j_e(this,void 0,void 0,function*(){if(!t.hasModel())return;let i=e.get(hh),n=e.get(pi),o=e.get(si),s=t.getSelection().positionLineNumber,a=t.getContribution(Sw.ID);if(!a)return;let l=a.getModel();if(!l)return;let c=[];for(let h of l.lenses)h.symbol.command&&h.symbol.range.startLineNumber===s&&c.push({label:h.symbol.command.title,command:h.symbol.command});if(c.length===0)return;let d=yield i.pick(c,{canPickMany:!1});if(!!d){if(l.isDisposed)return yield n.executeCommand(this.id);try{yield n.executeCommand(d.command.id,...d.command.arguments||[])}catch(h){o.error(h)}}})}});re();kt();ye();nt();Yn();ut();re();va();He();kt();ye();Fo();rc();hi();Ei();ut();Oi();ye();ns();on();hi();function cX(r,e,t){let i=[],o=r.ordered(e).reverse().map(s=>Promise.resolve(s.provideDocumentColors(e,t)).then(a=>{if(Array.isArray(a))for(let l of a)i.push({colorInfo:l,provider:s})}));return Promise.all(o).then(()=>i)}function U3(r,e,t,i){return Promise.resolve(t.provideColorPresentations(r,e,i))}ht.registerCommand("_executeDocumentColorProvider",function(r,...e){let[t]=e;if(!(t instanceof De))throw is();let{colorProvider:i}=r.get(ve),n=r.get(ii).getModel(t);if(!n)throw is();let o=[],a=i.ordered(n).reverse().map(l=>Promise.resolve(l.provideDocumentColors(n,Qe.None)).then(c=>{if(Array.isArray(c))for(let d of c)o.push({range:d.range,color:[d.color.red,d.color.green,d.color.blue,d.color.alpha]})}));return Promise.all(a).then(()=>o)});ht.registerCommand("_executeColorPresentationProvider",function(r,...e){let[t,i]=e,{uri:n,range:o}=i;if(!(n instanceof De)||!Array.isArray(t)||t.length!==4||!D.isIRange(o))throw is();let[s,a,l,c]=t,{colorProvider:d}=r.get(ve),h=r.get(ii).getModel(n);if(!h)throw is();let u={range:o,color:{red:s,green:a,blue:l,alpha:c}},f=[],_=d.ordered(h).reverse().map(w=>Promise.resolve(w.provideColorPresentations(h,u,Qe.None)).then(y=>{Array.isArray(y)&&f.push(...y)}));return Promise.all(_).then(()=>f)});Fr();var W_e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},z3=function(r,e){return function(t,i){e(t,i,r)}},U_e=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},V3=Object.create({}),z_e=500,Tg=class dX extends ${constructor(e,t,i,n){super();this._editor=e,this._configurationService=t,this._languageFeaturesService=i,this._localToDispose=this._register(new J),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=new Set,this._ruleFactory=new Yf(this._editor),this._colorDecorationClassRefs=this._register(new J),this._debounceInformation=n.for(i.colorProvider,"Document Colors",{min:dX.RECOMPUTE_TIME}),this._register(e.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(e.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(i.colorProvider.onDidChange(()=>this.onModelChanged())),this._register(e.onDidChangeConfiguration(()=>{let o=this._isEnabled;this._isEnabled=this.isEnabled(),o!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){let e=this._editor.getModel();if(!e)return!1;let t=e.getLanguageId(),i=this._configurationService.getValue(t);if(i&&typeof i=="object"){let n=i.colorDecorators;if(n&&n.enable!==void 0&&!n.enable)return n.enable}return this._editor.getOption(17)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;let e=this._editor.getModel();!e||!this._languageFeaturesService.colorProvider.has(e)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new mn,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(e)))})),this.beginCompute())}beginCompute(){this._computePromise=xi(e=>U_e(this,void 0,void 0,function*(){let t=this._editor.getModel();if(!t)return Promise.resolve([]);let i=new fn(!1),n=yield cX(this._languageFeaturesService.colorProvider,t,e);return this._debounceInformation.update(t,i.elapsed()),n})),this._computePromise.then(e=>{this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null},Ie)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){let t=e.map(i=>({range:{startLineNumber:i.colorInfo.range.startLineNumber,startColumn:i.colorInfo.range.startColumn,endLineNumber:i.colorInfo.range.endLineNumber,endColumn:i.colorInfo.range.endColumn},options:ot.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach((i,n)=>this._colorDatas.set(i,e[n]))}updateColorDecorators(e){this._colorDecorationClassRefs.clear();let t=[];for(let i=0;i<e.length&&t.length<z_e;i++){let{red:n,green:o,blue:s,alpha:a}=e[i].colorInfo.color,l=new At(Math.round(n*255),Math.round(o*255),Math.round(s*255),a),c=`rgba(${l.r}, ${l.g}, ${l.b}, ${l.a})`,d=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:c}));t.push({range:{startLineNumber:e[i].colorInfo.range.startLineNumber,startColumn:e[i].colorInfo.range.startColumn,endLineNumber:e[i].colorInfo.range.endLineNumber,endColumn:e[i].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:cW,inlineClassName:`${d.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:V3}}})}this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],t))}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],[])),this._colorDecorationClassRefs.clear()}getColorData(e){let t=this._editor.getModel();if(!t)return null;let i=t.getDecorationsInRange(D.fromPositions(e,e)).filter(n=>this._colorDatas.has(n.id));return i.length===0?null:this._colorDatas.get(i[0].id)}isColorDecorationId(e){return this._colorDecoratorIds.has(e)}};Tg.ID="editor.contrib.colorDetector";Tg.RECOMPUTE_TIME=1e3;Tg=W_e([z3(1,Ht),z3(2,ve),z3(3,Co)],Tg);st(Tg.ID,Tg);nt();Ei();Yn();re();ye();Ee();var H3=class{constructor(e,t,i){this.presentationIndex=i,this._onColorFlushed=new B,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new B,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new B,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){for(let i=0;i<this.colorPresentations.length;i++)if(t.toLowerCase()===this.colorPresentations[i].label){this.presentationIndex=i,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}};Oo();Be();Yn();Ee();re();ke();Li();pt();var Kc=le,hX=class extends ${constructor(e,t,i){super();this.model=t,this.domNode=Kc(".colorpicker-header"),ee(e,this.domNode),this.pickedColorNode=ee(this.domNode,Kc(".picked-color"));let n=g("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",n);let o=ee(this.domNode,Kc(".original-color"));o.style.backgroundColor=X.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=i.getColorTheme().getColor(iu)||X.white,this._register(yt((s,a)=>{this.backgroundColor=s.getColor(iu)||X.white})),this._register(se(this.pickedColorNode,Re.CLICK,()=>this.model.selectNextColorPresentation())),this._register(se(o,Re.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this._register(t.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=X.Format.CSS.format(t.color)||"",this.pickedColorNode.classList.toggle("light",t.color.rgba.a<.5?this.backgroundColor.isLighter():t.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){this.pickedColorNode.style.backgroundColor=X.Format.CSS.format(e)||"",this.pickedColorNode.classList.toggle("light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(Kc(".codicon.codicon-color-mode"))}},uX=class extends ${constructor(e,t,i){super();this.model=t,this.pixelRatio=i,this.domNode=Kc(".colorpicker-body"),ee(e,this.domNode),this.saturationBox=new fX(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new gX(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new mX(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){let i=this.model.color.hsva;this.model.color=new X(new Xl(i.h,e,t,i.a))}onDidOpacityChange(e){let t=this.model.color.hsva;this.model.color=new X(new Xl(t.h,t.s,t.v,e))}onDidHueChange(e){let t=this.model.color.hsva,i=(1-e)*360;this.model.color=new X(new Xl(i===360?0:i,t.s,t.v,t.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}},fX=class extends ${constructor(e,t,i){super();this.model=t,this.pixelRatio=i,this._onDidChange=new B,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new B,this.onColorFlushed=this._onColorFlushed.event,this.domNode=Kc(".saturation-wrap"),ee(e,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",ee(this.domNode,this.canvas),this.selection=Kc(".saturation-selection"),ee(this.domNode,this.selection),this.layout(),this._register(eL(this.domNode,n=>this.onMouseDown(n))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(e){this.monitor=this._register(new Oa);let t=ji(this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.buttons,Oc,n=>this.onDidChangePosition(n.posx-t.left,n.posy-t.top),()=>null);let i=yA(document,()=>{this._onColorFlushed.fire(),i.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(e,t){let i=Math.max(0,Math.min(1,e/this.width)),n=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(i,n),this._onDidChange.fire({s:i,v:n})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();let e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){let e=this.model.color.hsva,t=new X(new Xl(e.h,1,1,1)),i=this.canvas.getContext("2d"),n=i.createLinearGradient(0,0,this.canvas.width,0);n.addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),n.addColorStop(1,"rgba(255, 255, 255, 0)");let o=i.createLinearGradient(0,0,0,this.canvas.height);o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(1,"rgba(0, 0, 0, 1)"),i.rect(0,0,this.canvas.width,this.canvas.height),i.fillStyle=X.Format.CSS.format(t),i.fill(),i.fillStyle=n,i.fill(),i.fillStyle=o,i.fill()}paintSelection(e,t){this.selection.style.left=`${e*this.width}px`,this.selection.style.top=`${this.height-t*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}},$3=class extends ${constructor(e,t){super();this.model=t,this._onDidChange=new B,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new B,this.onColorFlushed=this._onColorFlushed.event,this.domNode=ee(e,Kc(".strip")),this.overlay=ee(this.domNode,Kc(".overlay")),this.slider=ee(this.domNode,Kc(".slider")),this.slider.style.top="0px",this._register(eL(this.domNode,i=>this.onMouseDown(i))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;let e=this.getValue(this.model.color);this.updateSliderPosition(e)}onMouseDown(e){let t=this._register(new Oa),i=ji(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.buttons,Oc,o=>this.onDidChangeTop(o.posy-i.top),()=>null);let n=yA(document,()=>{this._onColorFlushed.fire(),n.dispose(),t.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(e){let t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}updateSliderPosition(e){this.slider.style.top=`${(1-e)*this.height}px`}},gX=class extends $3{constructor(e,t){super(e,t);this.domNode.classList.add("opacity-strip"),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){let{r:t,g:i,b:n}=e.rgba,o=new X(new At(t,i,n,1)),s=new X(new At(t,i,n,0));this.overlay.style.background=`linear-gradient(to bottom, ${o} 0%, ${s} 100%)`}getValue(e){return e.hsva.a}},mX=class extends $3{constructor(e,t){super(e,t);this.domNode.classList.add("hue-strip")}getValue(e){return 1-e.hsva.h/360}},K3=class extends Ro{constructor(e,t,i,n){super();this.model=t,this.pixelRatio=i,this._register(Fh.onDidChange(()=>this.layout()));let o=Kc(".colorpicker-widget");e.appendChild(o);let s=new hX(o,this.model,n);this.body=new uX(o,this.model,this.pixelRatio),this._register(s),this._register(this.body)}layout(){this.body.layout()}};pt();var V_e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},H_e=function(r,e){return function(t,i){e(t,i,r)}},pX=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},_X=class{constructor(e,t,i,n){this.owner=e,this.range=t,this.model=i,this.provider=n,this.forceShowAtRange=!0}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}},eT=class{constructor(e,t){this._editor=e,this._themeService=t,this.hoverOrdinal=1}computeSync(e,t){return[]}computeAsync(e,t,i){return dn.fromPromise(this._computeAsync(e,t,i))}_computeAsync(e,t,i){return pX(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];let n=Tg.get(this._editor);if(!n)return[];for(let o of t){if(!n.isColorDecorationId(o.id))continue;let s=n.getColorData(o.range.getStartPosition());if(s)return[yield this._createColorHover(this._editor.getModel(),s.colorInfo,s.provider)]}return[]})}_createColorHover(e,t,i){return pX(this,void 0,void 0,function*(){let n=e.getValueInRange(t.range),{red:o,green:s,blue:a,alpha:l}=t.color,c=new At(Math.round(o*255),Math.round(s*255),Math.round(a*255),l),d=new X(c),h=yield U3(e,t,i,Qe.None),u=new H3(d,[],0);return u.colorPresentations=h||[],u.guessColorPresentation(d,n),new _X(this,D.lift(t.range),u,i)})}renderHoverParts(e,t){if(t.length===0||!this._editor.hasModel())return $.None;let i=new J,n=t[0],o=this._editor.getModel(),s=n.model,a=i.add(new K3(e.fragment,s,this._editor.getOption(129),this._themeService));e.setColorPicker(a);let l=new D(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn),c=()=>{let h,u;if(s.presentation.textEdit){h=[s.presentation.textEdit],u=new D(s.presentation.textEdit.range.startLineNumber,s.presentation.textEdit.range.startColumn,s.presentation.textEdit.range.endLineNumber,s.presentation.textEdit.range.endColumn);let f=this._editor.getModel()._setTrackedRange(null,u,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",h),u=this._editor.getModel()._getTrackedRange(f)||u}else h=[{range:l,text:s.presentation.label,forceMoveMarkers:!1}],u=l.setEndPosition(l.endLineNumber,l.startColumn+s.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",h);s.presentation.additionalTextEdits&&(h=[...s.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",h),e.hide()),this._editor.pushUndoStop(),l=u},d=h=>U3(o,{range:l,color:{red:h.rgba.r/255,green:h.rgba.g/255,blue:h.rgba.b/255,alpha:h.rgba.a}},n.provider,Qe.None).then(u=>{s.colorPresentations=u||[]});return i.add(s.onColorFlushed(h=>{d(h).then(c)})),i.add(s.onDidChangeColor(d)),i}};eT=V_e([H_e(1,Ft)],eT);Ha();re();kt();ye();Wi();Vo();nt();ut();re();ai();Jp();kt();lt();ye();Vo();xa();Ee();re();xt();function q3(r,e){return!!r[e]}var tT=class{constructor(e,t){this.target=e.target,this.hasTriggerModifier=q3(e.event,t.triggerModifier),this.hasSideBySideModifier=q3(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=e.event.detail<=1}},Y3=class{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=q3(e,t.triggerModifier)}},mS=class{constructor(e,t,i,n){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=i,this.triggerSideBySideModifier=n}equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}};function bX(r){return r==="altKey"?Je?new mS(57,"metaKey",6,"altKey"):new mS(5,"ctrlKey",6,"altKey"):Je?new mS(6,"altKey",57,"metaKey"):new mS(6,"altKey",5,"ctrlKey")}var o_=class extends ${constructor(e){super();this._onMouseMoveOrRelevantKeyDown=this._register(new B),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new B),this.onExecute=this._onExecute.event,this._onCancel=this._register(new B),this.onCancel=this._onCancel.event,this._editor=e,this._opts=bX(this._editor.getOption(70)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(t=>{if(t.hasChanged(70)){let i=bX(this._editor.getOption(70));if(this._opts.equals(i))return;this._opts=i,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(t=>this._onEditorMouseMove(new tT(t,this._opts)))),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(new tT(t,this._opts)))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(new tT(t,this._opts)))),this._register(this._editor.onKeyDown(t=>this._onEditorKeyDown(new Y3(t,this._opts)))),this._register(this._editor.onKeyUp(t=>this._onEditorKeyUp(new Y3(t,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(t=>this._onDidChangeCursorSelection(t))),this._register(this._editor.onDidChangeModel(t=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(t=>{(t.scrollTopChanged||t.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=e.target.position?e.target.position.lineNumber:0}_onEditorMouseUp(e){let t=e.target.position?e.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}};Be();ss();ln();Yn();Ee();Jo();kt();io();Jo();io();on();Et();Ye();pt();no();hi();var $_e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ru=function(r,e){return function(t,i){e(t,i,r)}},qc=class extends _g{constructor(e,t,i,n,o,s,a,l,c,d,h,u){super(e,Object.assign(Object.assign({},i.getRawOptions()),{overflowWidgetsDomNode:i.getOverflowWidgetsDomNode()}),{},n,o,s,a,l,c,d,h,u);this._parentEditor=i,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(i.onDidChangeConfiguration(f=>this._onParentConfigurationChanged(f)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){gr(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};qc=$_e([Ru(3,ze),Ru(4,Tt),Ru(5,pi),Ru(6,Le),Ru(7,Ft),Ru(8,si),Ru(9,oo),Ru(10,en),Ru(11,ve)],qc);Be();Yn();re();Jo();ye();Fo();var vX=new X(new At(0,122,204)),K_e={showArrow:!0,showFrame:!0,className:"",frameColor:vX,arrowColor:vX,keepEditorSelection:!1},q_e="vs.editor.contrib.zoneWidget",wX=class{constructor(e,t,i,n,o,s){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=i,this.heightInLines=n,this._onDomNodeTop=o,this._onComputedHeight=s}onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}},CX=class{constructor(e,t){this._id=e,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}},pS=class{constructor(e){this._editor=e,this._ruleName=pS._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),DA(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){DA(this._ruleName),T0(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(e){e.column===1&&(e={lineNumber:e.lineNumber,column:2}),this._decorations=this._editor.deltaDecorations(this._decorations,[{range:D.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}};pS._IdGenerator=new nw(".arrow-decoration-");var Z3=class{constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new J,this.container=null,this._isShowing=!1,this.editor=e,this.options=Ml(t),gr(this.options,K_e,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(i=>{let n=this._getWidth(i);this.domNode.style.width=n+"px",this.domNode.style.left=this._getLeft(i)+"px",this._onWidth(n)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new pS(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){let e=this.options.arrowColor.toString();this._arrow.color=e}}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return e.minimap.minimapWidth>0&&e.minimap.minimapLeft===0?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){if(this.domNode.style.height=`${e}px`,this.container){let t=e-this._decoratingElementsHeight();this.container.style.height=`${t}px`;let i=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(i))}this._resizeSash&&this._resizeSash.layout()}get position(){let[e]=this._positionMarkerId;if(!e)return;let t=this.editor.getModel();if(!t)return;let i=t.getDecorationRange(e);if(!!i)return i.getStartPosition()}show(e,t){let i=D.isIRange(e)?D.lift(e):D.fromPositions(e);this._isShowing=!0,this._showImpl(i,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:i,options:ot.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let e=this.editor.getOption(59),t=0;if(this.options.showArrow){let i=Math.round(e/3);t+=2*i}if(this.options.showFrame){let i=Math.round(e/9);t+=2*i}return t}_showImpl(e,t){let i=e.getStartPosition(),n=this.editor.getLayoutInfo(),o=this._getWidth(n);this.domNode.style.width=`${o}px`,this.domNode.style.left=this._getLeft(n)+"px";let s=document.createElement("div");s.style.overflow="hidden";let a=this.editor.getOption(59),l=Math.max(12,this.editor.getLayoutInfo().height/a*.8);t=Math.min(t,l);let c=0,d=0;if(this._arrow&&this.options.showArrow&&(c=Math.round(a/3),this._arrow.height=c,this._arrow.show(i)),this.options.showFrame&&(d=Math.round(a/9)),this.editor.changeViewZones(f=>{this._viewZone&&f.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new wX(s,i.lineNumber,i.column,t,m=>this._onViewZoneTop(m),m=>this._onViewZoneHeight(m)),this._viewZone.id=f.addZone(this._viewZone),this._overlayWidget=new CX(q_e+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){let f=this.options.frameWidth?this.options.frameWidth:d;this.container.style.borderTopWidth=f+"px",this.container.style.borderBottomWidth=f+"px"}let h=t*a-this._decoratingElementsHeight();this.container&&(this.container.style.top=c+"px",this.container.style.height=h+"px",this.container.style.overflow="hidden"),this._doLayout(h,o),this.options.keepEditorSelection||this.editor.setSelection(e);let u=this.editor.getModel();if(u){let f=e.endLineNumber+1;f<=u.getLineCount()?this.revealLine(f,!1):this.revealLine(u.getLineCount(),!0)}}revealLine(e,t){t?this.editor.revealLineInCenter(e,0):this.editor.revealLine(e,0)}setCssClass(e,t){!this.container||(t&&this.container.classList.remove(t),this.container.classList.add(e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new Gn(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let e;this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{e=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{if(e){let i=(t.currentY-e.startY)/this.editor.getOption(59),n=i<0?Math.ceil(i):Math.floor(i),o=e.heightInLines+n;o>5&&o<35&&this._relayout(o)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){let e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}};ke();Be();os();Be();Be();os();ss();Ee();var yX=class extends Yl{constructor(e,t){super();this._onDidChangeVisibility=this._register(new B),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=ee(e,le(".monaco-dropdown")),this._label=ee(this._element,le(".dropdown-label"));let i=t.labelRenderer;i||(i=o=>(o.textContent=t.label||"",null));for(let o of[Re.CLICK,Re.MOUSE_DOWN,li.Tap])this._register(se(this.element,o,s=>Kt.stop(s,!0)));for(let o of[Re.MOUSE_DOWN,li.Tap])this._register(se(this._label,o,s=>{s instanceof MouseEvent&&s.detail>1||(this.visible?this.hide():this.show())}));this._register(se(this._label,Re.KEY_UP,o=>{let s=new $t(o);(s.equals(3)||s.equals(10))&&(Kt.stop(o,!0),this.visible?this.hide():this.show())}));let n=i(this._label);n&&this._register(n),this._register(zt.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}},G3=class extends yX{constructor(e,t){super(e,t);this._actions=[],this._contextMenuProvider=t.contextMenuProvider,this.actions=t.actions||[],this.actionProvider=t.actionProvider,this.menuClassName=t.menuClassName||"",this.menuAsChild=!!t.menuAsChild}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:e=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}};Ee();var iT=class extends Qs{constructor(e,t,i,n=Object.create(null)){super(null,e,n);this.actionItem=null,this._onDidChangeVisibility=this._register(new B),this.menuActionsOrProvider=t,this.contextMenuProvider=i,this.options=n,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;let t=o=>{this.element=ee(o,le("a.action-label"));let s=[];return typeof this.options.classNames=="string"?s=this.options.classNames.split(/\s+/g).filter(a=>!!a):this.options.classNames&&(s=this.options.classNames),s.find(a=>a==="icon")||s.push("codicon"),this.element.classList.add(...s),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},i=Array.isArray(this.menuActionsOrProvider),n={contextMenuProvider:this.contextMenuProvider,labelRenderer:t,menuAsChild:this.options.menuAsChild,actions:i?this.menuActionsOrProvider:void 0,actionProvider:i?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new G3(e,n)),this._register(this.dropdownMenu.onDidChangeVisibility(o=>{var s;(s=this.element)===null||s===void 0||s.setAttribute("aria-expanded",`${o}`),this._onDidChangeVisibility.fire(o)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){let o=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return o.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}updateEnabled(){var e,t;let i=!this.getAction().enabled;(e=this.actionItem)===null||e===void 0||e.classList.toggle("disabled",i),(t=this.element)===null||t===void 0||t.classList.toggle("disabled",i)}};ss();re();xt();ke();Mo();Et();Ye();pt();var J3=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},fh=function(r,e){return function(t,i){e(t,i,r)}},SX=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};function EX(r,e,t,i,n,o,s){let a=r.getActions(e);return Z_e(a,t,!1,typeof i=="string"?c=>c===i:i,n,o,s),Y_e(a)}function Y_e(r){let e=new J;for(let[,t]of r)for(let i of t)e.add(i);return e}function Z_e(r,e,t,i=a=>a==="navigation",n=Number.MAX_SAFE_INTEGER,o=()=>!1,s=!1){let a,l;Array.isArray(e)?(a=e,l=e):(a=e.primary,l=e.secondary);let c=new Set;for(let[d,h]of r){let u;i(d)?(u=a,u.length>0&&s&&u.push(new $o)):(u=l,u.length>0&&u.push(new $o));for(let f of h){t&&(f=f instanceof Zl&&f.alt?f.alt:f);let m=u.push(f);f instanceof Hh&&c.add({group:d,action:f,index:m-1})}}for(let{group:d,action:h,index:u}of c){let f=i(d)?a:l,m=h.actions;(m.length<=1||f.length+m.length-2<=n)&&o(h,d,f.length)&&f.splice(u,1,...m)}if(a!==l&&a.length>n){let d=a.splice(n,a.length-n);l.unshift(...d,new $o)}}var r_=class extends Gd{constructor(e,t,i,n,o){super(void 0,e,{icon:!!(e.class||e.item.icon),label:!e.class&&!e.item.icon,draggable:t?.draggable});this._keybindingService=i,this._notificationService=n,this._contextKeyService=o,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new kn),this._altKey=Dd.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(e){return SX(this,void 0,void 0,function*(){e.preventDefault(),e.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(t){this._notificationService.error(t)}})}render(e){super.render(e),e.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let t=!1,i=this._altKey.keyStatus.altKey||(Ri||Fi)&&this._altKey.keyStatus.shiftKey,n=()=>{let o=t&&i;o!==this._wantsAltCommand&&(this._wantsAltCommand=o,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(o=>{i=o.altKey||(Ri||Fi)&&o.shiftKey,n()})),this._register(se(e,"mouseleave",o=>{t=!1,n()})),this._register(se(e,"mouseenter",o=>{t=!0,n()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){let e=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),t=e&&e.getLabel(),i=this._commandAction.tooltip||this._commandAction.label,n=t?g("titleAndKb","{0} ({1})",i,t):i;if(!this._wantsAltCommand&&this._menuItemAction.alt){let o=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,s=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),a=s&&s.getLabel(),l=a?g("titleAndKb","{0} ({1})",o,a):o;n+=`
[${Jv.modifierLabels[ur].altKey}] ${l}`}this.label.title=n}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){var t;this._itemClassDispose.value=void 0;let{element:i,label:n}=this;if(!i||!n)return;let o=this._commandAction.checked&&((t=e.toggled)===null||t===void 0?void 0:t.icon)?e.toggled.icon:e.icon;if(!!o)if(Qt.isThemeIcon(o)){let s=Qt.asClassNameArray(o);n.classList.add(...s),this._itemClassDispose.value=Ve(()=>{n.classList.remove(...s)})}else o.light&&n.style.setProperty("--menu-entry-icon-light",Ld(o.light)),o.dark&&n.style.setProperty("--menu-entry-icon-dark",Ld(o.dark)),n.classList.add("icon"),this._itemClassDispose.value=Ve(()=>{n.classList.remove("icon"),n.style.removeProperty("--menu-entry-icon-light"),n.style.removeProperty("--menu-entry-icon-dark")})}};r_=J3([fh(2,Di),fh(3,si),fh(4,Le)],r_);var X3=class extends iT{constructor(e,t,i){var n,o;let s=Object.assign({},t??Object.create(null),{menuAsChild:(n=t?.menuAsChild)!==null&&n!==void 0?n:!1,classNames:(o=t?.classNames)!==null&&o!==void 0?o:Qt.isThemeIcon(e.item.icon)?Qt.asClassName(e.item.icon):void 0});super(e,{getActions:()=>e.actions},i,s)}render(e){if(super.render(e),this.element){e.classList.add("menu-entry");let{icon:t}=this._action.item;t&&!Qt.isThemeIcon(t)&&(this.element.classList.add("icon"),t.light&&this.element.style.setProperty("--menu-entry-icon-light",Ld(t.light)),t.dark&&this.element.style.setProperty("--menu-entry-icon-dark",Ld(t.dark)))}}};X3=J3([fh(2,Js)],X3);var Q3=class extends Qs{constructor(e,t,i,n,o,s,a,l){var c,d,h;super(null,e);this._keybindingService=i,this._notificationService=n,this._contextMenuService=o,this._menuService=s,this._instaService=a,this._storageService=l,this._container=null,this._storageKey=`${e.item.submenu._debugName}_lastActionId`;let u,f=l.get(this._storageKey,1);f&&(u=e.actions.find(_=>f===_.id)),u||(u=e.actions[0]),this._defaultAction=this._instaService.createInstance(r_,u,void 0);let m=Object.assign({},t??Object.create(null),{menuAsChild:(c=t?.menuAsChild)!==null&&c!==void 0?c:!0,classNames:(d=t?.classNames)!==null&&d!==void 0?d:["codicon","codicon-chevron-down"],actionRunner:(h=t?.actionRunner)!==null&&h!==void 0?h:new Yl});this._dropdown=new iT(e,e.actions,this._contextMenuService,m),this._dropdown.actionRunner.onDidRun(_=>{_.action instanceof Zl&&this.update(_.action)})}update(e){this._storageService.store(this._storageKey,e.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(r_,e,void 0),this._defaultAction.actionRunner=new class extends Yl{runAction(t,i){return SX(this,void 0,void 0,function*(){yield t.run(void 0)})}},this._container&&this._defaultAction.render(zU(this._container,le(".action-container")))}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");let t=le(".action-container");this._defaultAction.render(ee(this._container,t)),this._register(se(t,Re.KEY_DOWN,n=>{let o=new $t(n);o.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),o.stopPropagation())}));let i=le(".dropdown-action-container");this._dropdown.render(ee(this._container,i)),this._register(se(i,Re.KEY_DOWN,n=>{var o;let s=new $t(n);s.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(o=this._defaultAction.element)===null||o===void 0||o.focus(),s.stopPropagation())}))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};Q3=J3([fh(2,Di),fh(3,si),fh(4,Js),fh(5,La),fh(6,ze),fh(7,la)],Q3);function xX(r,e,t){return e instanceof Zl?r.createInstance(r_,e,void 0):e instanceof Gm?e.item.rememberDefaultAction?r.createInstance(Q3,e,t):r.createInstance(X3,e,t):void 0}Et();Ss();Ye();Li();var DX=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},LX=function(r,e){return function(t,i){e(t,i,r)}},t7=Fe("IPeekViewService");Lt(t7,class{constructor(){this._widgets=new Map}addExclusiveWidget(r,e){let t=this._widgets.get(r);t&&(t.listener.dispose(),t.widget.dispose());let i=()=>{let n=this._widgets.get(r);n&&n.widget===e&&(n.listener.dispose(),this._widgets.delete(r))};this._widgets.set(r,{widget:e,listener:e.onDidClose(i)})}});var ar;(function(r){r.inPeekEditor=new Se("inReferenceSearchEditor",!0,g("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),r.notInPeekEditor=r.inPeekEditor.toNegated()})(ar||(ar={}));var _S=class{constructor(e,t){e instanceof qc&&ar.inPeekEditor.bindTo(t)}dispose(){}};_S.ID="editor.contrib.referenceController";_S=DX([LX(1,Le)],_S);st(_S.ID,_S);function kX(r){let e=r.get(Tt).getFocusedCodeEditor();return e instanceof qc?e.getParentEditor():e}var G_e={headerBackgroundColor:X.white,primaryHeadingColor:X.fromHex("#333333"),secondaryHeadingColor:X.fromHex("#6c6c6cb3")},Ew=class extends Z3{constructor(e,t,i){super(e,t);this.instantiationService=i,this._onDidClose=new B,this.onDidClose=this._onDidClose.event,gr(this.options,G_e,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){let t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();let e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=le(".head"),this._bodyElement=le(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){let i=le(".peekview-title");this.options.supportOnTitleClick&&(i.classList.add("clickable"),Bi(i,"click",s=>this._onTitleClick(s))),ee(this._headElement,i),this._fillTitleIcon(i),this._primaryHeading=le("span.filename"),this._secondaryHeading=le("span.dirname"),this._metaHeading=le("span.meta"),ee(i,this._primaryHeading,this._secondaryHeading,this._metaHeading);let n=le(".peekview-actions");ee(this._headElement,n);let o=this._getActionBarOptions();this._actionbarWidget=new yr(n,o),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new Kn("peekview.close",g("label.close","Close"),p.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:xX.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:nn(this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,Ho(this._metaHeading)):No(this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0){this.dispose();return}let i=Math.ceil(this.editor.getOption(59)*1.2),n=Math.round(e-(i+2));this._doLayoutHead(i,t),this._doLayoutBody(n,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=`${e}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=`${e}px`)}};Ew=DX([LX(2,ze)],Ew);var IX=W("peekViewTitle.background",{dark:at(jr,.1),light:at(jr,.1),hc:null},g("peekViewTitleBackground","Background color of the peek view title area.")),nT=W("peekViewTitleLabel.foreground",{dark:X.white,light:X.black,hc:X.white},g("peekViewTitleForeground","Color of the peek view title.")),oT=W("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hc:"#FFFFFF99"},g("peekViewTitleInfoForeground","Color of the peek view title info.")),OX=W("peekView.border",{dark:jr,light:jr,hc:Ni},g("peekViewBorder","Color of the peek view borders and arrow.")),TX=W("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:X.black},g("peekViewResultsBackground","Background color of the peek view result list.")),Spt=W("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:X.white},g("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),Ept=W("peekViewResult.fileForeground",{dark:X.white,light:"#1E1E1E",hc:X.white},g("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),xpt=W("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},g("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),Dpt=W("peekViewResult.selectionForeground",{dark:X.white,light:"#6C6C6C",hc:X.white},g("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),e7=W("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:X.black},g("peekViewEditorBackground","Background color of the peek view editor.")),Lpt=W("peekViewEditorGutter.background",{dark:e7,light:e7,hc:e7},g("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),kpt=W("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},g("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),Ipt=W("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},g("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),Opt=W("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:ro},g("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));ke();Et();Li();pt();Oo();xs();nt();Ha();xt();ai();Oi();Jp();d3();kt();io();lt();ye();Wi();cn();nt();ut();Ha();re();io();lt();ye();ke();on();Fr();Et();Ye();qh();ut();Ee();re();ia();Vr();He();ye();ke();var Q_e=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},cc=class{constructor(e,t,i,n){this.isProviderFirst=e,this.parent=t,this.link=i,this._rangeCallback=n,this.id=WI.nextId()}get uri(){return this.link.uri}get range(){var e,t;return(t=(e=this._range)!==null&&e!==void 0?e:this.link.targetSelectionRange)!==null&&t!==void 0?t:this.link.range}set range(e){this._range=e,this._rangeCallback(this)}get ariaMessage(){var e;let t=(e=this.parent.getPreview(this))===null||e===void 0?void 0:e.preview(this.range);return t?g({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",qo(this.uri),this.range.startLineNumber,this.range.startColumn,t.value):g("aria.oneReference","symbol in {0} on line {1} at column {2}",qo(this.uri),this.range.startLineNumber,this.range.startColumn)}},NX=class{constructor(e){this._modelReference=e}dispose(){this._modelReference.dispose()}preview(e,t=8){let i=this._modelReference.object.textEditorModel;if(!i)return;let{startLineNumber:n,startColumn:o,endLineNumber:s,endColumn:a}=e,l=i.getWordUntilPosition({lineNumber:n,column:o-t}),c=new D(n,l.startColumn,n,o),d=new D(s,a,s,1073741824),h=i.getValueInRange(c).replace(/^\s+/,""),u=i.getValueInRange(e),f=i.getValueInRange(d).replace(/\s+$/,"");return{value:h+u+f,highlight:{start:h.length,end:h.length+u.length}}}},Ng=class{constructor(e,t){this.parent=e,this.uri=t,this.children=[],this._previews=new wo}dispose(){dt(this._previews.values()),this._previews.clear()}getPreview(e){return this._previews.get(e.uri)}get ariaMessage(){let e=this.children.length;return e===1?g("aria.fileReferences.1","1 symbol in {0}, full path {1}",qo(this.uri),this.uri.fsPath):g("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,qo(this.uri),this.uri.fsPath)}resolve(e){return Q_e(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let t of this.children)if(!this._previews.has(t.uri))try{let i=yield e.createModelReference(t.uri);this._previews.set(t.uri,new NX(i))}catch(i){Ie(i)}return this})}},Er=class{constructor(e,t){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new B,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;let[i]=e;e.sort(Er._compareReferences);let n;for(let o of e)if((!n||!Ui.isEqual(n.uri,o.uri,!0))&&(n=new Ng(this,o.uri),this.groups.push(n)),n.children.length===0||Er._compareReferences(o,n.children[n.children.length-1])!==0){let s=new cc(i===o,n,o,a=>this._onDidChangeReferenceRange.fire(a));this.references.push(s),n.children.push(s)}}dispose(){dt(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new Er(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?g("aria.result.0","No results found"):this.references.length===1?g("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?g("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):g("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(e,t){let{parent:i}=e,n=i.children.indexOf(e),o=i.children.length,s=i.parent.groups.length;return s===1||t&&n+1<o||!t&&n>0?(t?n=(n+1)%o:n=(n+o-1)%o,i.children[n]):(n=i.parent.groups.indexOf(i),t?(n=(n+1)%s,i.parent.groups[n].children[0]):(n=(n+s-1)%s,i.parent.groups[n].children[i.parent.groups[n].children.length-1]))}nearestReference(e,t){let i=this.references.map((n,o)=>({idx:o,prefixLen:xc(n.uri.toString(),e.toString()),offsetDist:Math.abs(n.range.startLineNumber-t.lineNumber)*100+Math.abs(n.range.startColumn-t.column)})).sort((n,o)=>n.prefixLen>o.prefixLen?-1:n.prefixLen<o.prefixLen?1:n.offsetDist<o.offsetDist?-1:n.offsetDist>o.offsetDist?1:0)[0];if(i)return this.references[i.idx]}referenceAt(e,t){for(let i of this.references)if(i.uri.toString()===e.toString()&&D.containsPosition(i.range,t))return i}firstReference(){for(let e of this.references)if(e.isProviderFirst)return e;return this.references[0]}static _compareReferences(e,t){return Ui.compare(e.uri,t.uri)||D.compareRangesUsingStarts(e.range,t.range)}};Be();Yn();Ee();re();rs();Vr();ye();Fo();no();Wd();Vo();xa();Be();jk();rs();xt();Vr();Oi();function rT(r){if(!r)return;typeof r=="string"&&(r=De.file(r));let e=qo(r)||(r.scheme===rt.file?r.fsPath:r.path);return Ri&&W$(e)?sT(e):e}function sT(r,e){return tF(r,e)?r.charAt(0).toUpperCase()+r.slice(1):r}re();Vr();xa();ke();Ye();pt();var cT=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},bS=function(r,e){return function(t,i){e(t,i,r)}},aT=class{constructor(e){this._resolverService=e}hasChildren(e){return e instanceof Er||e instanceof Ng}getChildren(e){if(e instanceof Er)return e.groups;if(e instanceof Ng)return e.resolve(this._resolverService).then(t=>t.children);throw new Error("bad tree")}};aT=cT([bS(0,Tn)],aT);var n7=class{getHeight(){return 23}getTemplateId(e){return e instanceof Ng?xw.id:s_.id}},lT=class{constructor(e){this._keybindingService=e}getKeyboardNavigationLabel(e){var t;if(e instanceof cc){let i=(t=e.parent.getPreview(e))===null||t===void 0?void 0:t.preview(e.range);if(i)return i.value}return qo(e.uri)}};lT=cT([bS(0,Di)],lT);var o7=class{getId(e){return e instanceof cc?e.id:e.uri}},i7=class extends ${constructor(e,t,i){super();this._uriLabel=t;let n=document.createElement("div");n.classList.add("reference-file"),this.file=this._register(new Dg(n,{supportHighlights:!0})),this.badge=new tw(ee(n,le(".count"))),this._register(dY(this.badge,i)),e.appendChild(n)}set(e,t){let i=hg(e.uri);this.file.setLabel(rT(e.uri),this._uriLabel.getUriLabel(i,{relative:!0}),{title:this._uriLabel.getUriLabel(e.uri),matches:t});let n=e.children.length;this.badge.setCount(n),n>1?this.badge.setTitleFormat(g("referencesCount","{0} references",n)):this.badge.setTitleFormat(g("referenceCount","{0} reference",n))}};i7=cT([bS(1,eh),bS(2,Ft)],i7);var xw=class PX{constructor(e){this._instantiationService=e,this.templateId=PX.id}renderTemplate(e){return this._instantiationService.createInstance(i7,e)}renderElement(e,t,i){i.set(e.element,f1(e.filterData))}disposeTemplate(e){e.dispose()}};xw.id="FileReferencesRenderer";xw=cT([bS(0,ze)],xw);var MX=class{constructor(e){this.label=new oh(e)}set(e,t){var i;let n=(i=e.parent.getPreview(e))===null||i===void 0?void 0:i.preview(e.range);if(!n||!n.value)this.label.set(`${qo(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`);else{let{value:o,highlight:s}=n;t&&!oa.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(o,f1(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(o,[s]))}}},s_=class{constructor(){this.templateId=s_.id}renderTemplate(e){return new MX(e)}renderElement(e,t,i){i.set(e.element,e.filterData)}disposeTemplate(){}};s_.id="OneReferenceRenderer";var r7=class{getWidgetAriaLabel(){return g("treeAriaLabel","References")}getAriaLabel(e){return e.ariaMessage}};ke();Ye();pt();Ky();var J_e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Fu=function(r,e){return function(t,i){e(t,i,r)}},AX=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},vS=class{constructor(e,t){this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new J,this._callOnModelChange=new J,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();let e=this._editor.getModel();if(!!e){for(let t of this._model.references)if(t.uri.toString()===e.uri.toString()){this._addDecorations(t.parent);return}}}_addDecorations(e){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));let t=[],i=[];for(let o=0,s=e.children.length;o<s;o++){let a=e.children[o];this._decorationIgnoreSet.has(a.id)||a.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:a.range,options:vS.DecorationOptions}),i.push(o))}let n=this._editor.deltaDecorations([],t);for(let o=0;o<n.length;o++)this._decorations.set(n[o],e.children[i[o]])}_onDecorationChanged(){let e=[],t=this._editor.getModel();if(!!t){for(let[i,n]of this._decorations){let o=t.getDecorationRange(i);if(!o)continue;let s=!1;if(!D.equalsRange(o,n.range)){if(D.spansMultipleLines(o))s=!0;else{let a=n.range.endColumn-n.range.startColumn,l=o.endColumn-o.startColumn;a!==l&&(s=!0)}s?(this._decorationIgnoreSet.add(n.id),e.push(i)):n.range=o}}for(let i=0,n=e.length;i<n;i++)this._decorations.delete(e[i]);this._editor.deltaDecorations(e,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}};vS.DecorationOptions=ot.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});var s7=class{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(e){let t,i;try{let n=JSON.parse(e);t=n.ratio,i=n.heightInLines}catch{}return{ratio:t||.7,heightInLines:i||18}}},RX=class extends dO{},dT=class extends Ew{constructor(e,t,i,n,o,s,a,l,c,d,h,u){super(e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},s);this._defaultTreeKeyboardSupport=t,this.layoutData=i,this._textModelResolverService=o,this._instantiationService=s,this._peekViewService=a,this._uriLabel=l,this._undoRedoService=c,this._keybindingService=d,this._languageService=h,this._languageConfigurationService=u,this._disposeOnNewModel=new J,this._callOnDispose=new J,this._onDidSelectReference=new B,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new ui(0,0),this._applyTheme(n.getColorTheme()),this._callOnDispose.add(n.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(e,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),dt(this._preview),dt(this._previewNotAvailableMessage),dt(this._tree),dt(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(e){let t=e.getColor(OX)||X.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(IX)||X.transparent,primaryHeadingColor:e.getColor(nT),secondaryHeadingColor:e.getColor(oT)})}show(e){this.editor.revealRangeInCenterIfOutsideViewport(e,0),super.show(e,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(e){this.setCssClass("reference-zone-widget"),this._messageContainer=ee(e,le("div.messages")),No(this._messageContainer),this._splitView=new A1(e,{orientation:1}),this._previewContainer=ee(e,le("div.preview.inline"));let t={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(qc,this._previewContainer,t,this.editor),No(this._previewContainer),this._previewNotAvailableMessage=new Uc(g("missingPreviewMessage","no preview available"),zr,Uc.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=ee(e,le("div.ref-tree.inline"));let i={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new r7,keyboardNavigationLabelProvider:this._instantiationService.createInstance(lT),identityProvider:new o7,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:TX}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(Bi(this._treeContainer,"keydown",o=>{o.equals(9)&&(this._keybindingService.dispatchEvent(o,o.target),o.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(RX,"ReferencesWidget",this._treeContainer,new n7,[this._instantiationService.createInstance(xw),this._instantiationService.createInstance(s_)],this._instantiationService.createInstance(aT),i),this._splitView.addView({onDidChange:xe.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:o=>{this._preview.layout({height:this._dim.height,width:o})}},M1.Distribute),this._splitView.addView({onDidChange:xe.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:o=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${o}px`,this._tree.layout(this._dim.height,o)}},M1.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let n=(o,s)=>{o instanceof cc&&(s==="show"&&this._revealReference(o,!1),this._onDidSelectReference.fire({element:o,kind:s,source:"tree"}))};this._tree.onDidOpen(o=>{o.sideBySide?n(o.element,"side"):o.editorOptions.pinned?n(o.element,"goto"):n(o.element,"show")}),No(this._treeContainer)}_onWidth(e){this._dim&&this._doLayoutBody(this._dim.height,e)}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._dim=new ui(t,e),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}setSelection(e){return this._revealReference(e,!0).then(()=>{!this._model||(this._tree.setSelection([e]),this._tree.setFocus([e]))})}setModel(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=g("noResults","No results"),Ho(this._messageContainer),Promise.resolve(void 0)):(No(this._messageContainer),this._decorationsManager=new vS(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(e=>this._tree.rerender(e))),this._disposeOnNewModel.add(this._preview.onMouseDown(e=>{let{event:t,target:i}=e;if(t.detail!==2)return;let n=this._getFocusedReference();!n||this._onDidSelectReference.fire({element:{uri:n.uri,range:i.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),Ho(this._treeContainer),Ho(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){let[e]=this._tree.getFocus();if(e instanceof cc)return e;if(e instanceof Ng&&e.children.length>0)return e.children[0]}revealReference(e){return AX(this,void 0,void 0,function*(){yield this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})})}_revealReference(e,t){return AX(this,void 0,void 0,function*(){if(this._revealedReference===e)return;this._revealedReference=e,e.uri.scheme!==rt.inMemory?this.setTitle(V$(e.uri),this._uriLabel.getUriLabel(hg(e.uri))):this.setTitle(g("peekView.alternateTitle","References"));let i=this._textModelResolverService.createModelReference(e.uri);this._tree.getInput()===e.parent?this._tree.reveal(e):(t&&this._tree.reveal(e.parent),yield this._tree.expand(e.parent),this._tree.reveal(e));let n=yield i;if(!this._model){n.dispose();return}dt(this._previewModelReference);let o=n.object;if(o){let s=this._preview.getModel()===o.textEditorModel?0:1,a=D.lift(e.range).collapseToStart();this._previewModelReference=n,this._preview.setModel(o.textEditorModel),this._preview.setSelection(a),this._preview.revealRangeInCenter(a,s)}else this._preview.setModel(this._previewNotAvailableMessage),n.dispose()})}};dT=J_e([Fu(3,Ft),Fu(4,Tn),Fu(5,ze),Fu(6,t7),Fu(7,eh),Fu(8,gg),Fu(9,Di),Fu(10,Gt),Fu(11,en)],dT);var ebe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Dw=function(r,e){return function(t,i){e(t,i,r)}},FX=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},l_=new Se("referenceSearchVisible",!1,g("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'")),a_=class a7{constructor(e,t,i,n,o,s,a,l){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=n,this._notificationService=o,this._instantiationService=s,this._storageService=a,this._configurationService=l,this._disposables=new J,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=l_.bindTo(i)}static get(e){return e.getContribution(a7.ID)}dispose(){var e,t;this._referenceSearchVisible.reset(),this._disposables.dispose(),(e=this._widget)===null||e===void 0||e.dispose(),(t=this._model)===null||t===void 0||t.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,t,i){let n;if(this._widget&&(n=this._widget.position),this.closeWidget(),!!n&&e.containsPosition(n))return;this._peekMode=i,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));let o="peekViewLayout",s=s7.fromJSON(this._storageService.get(o,0,"{}"));this._widget=this._instantiationService.createInstance(dT,this._editor,this._defaultTreeKeyboardSupport,s),this._widget.setTitle(g("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(()=>{t.cancel(),this._widget&&(this._storageService.store(o,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(l=>{let{element:c,kind:d}=l;if(!!c)switch(d){case"open":(l.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(c,!1,!1);break;case"side":this.openReference(c,!0,!1);break;case"goto":i?this._gotoReference(c):this.openReference(c,!1,!0);break}}));let a=++this._requestIdPool;t.then(l=>{var c;if(a!==this._requestIdPool||!this._widget){l.dispose();return}return(c=this._model)===null||c===void 0||c.dispose(),this._model=l,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(g("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let d=this._editor.getModel().uri,h=new V(e.startLineNumber,e.startColumn),u=this._model.nearestReference(d,h);if(u)return this._widget.setSelection(u).then(()=>{this._widget&&this._editor.getOption(77)==="editor"&&this._widget.focusOnPreviewEditor()})}})},l=>{this._notificationService.error(l)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(e){return FX(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;let t=this._widget.position;if(!t)return;let i=this._model.nearestReference(this._editor.getModel().uri,t);if(!i)return;let n=this._model.nextOrPreviousReference(i,e),o=this._editor.hasTextFocus(),s=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(n),yield this._gotoReference(n),o?this._editor.focus():this._widget&&s&&this._widget.focusOnPreviewEditor()})}revealReference(e){return FX(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(e))})}closeWidget(e=!0){var t,i;(t=this._widget)===null||t===void 0||t.dispose(),(i=this._model)===null||i===void 0||i.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(e){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;let t=D.lift(e.range).collapseToStart();return this._editorService.openCodeEditor({resource:e.uri,options:{selection:t,selectionSource:"code.jump"}},this._editor).then(i=>{var n;if(this._ignoreModelChangeEvent=!1,!i||!this._widget){this.closeWidget();return}if(this._editor===i)this._widget.show(t),this._widget.focusOnReferenceTree();else{let o=a7.get(i),s=this._model.clone();this.closeWidget(),i.focus(),o?.toggleWidget(t,xi(a=>Promise.resolve(s)),(n=this._peekMode)!==null&&n!==void 0?n:!1)}},i=>{this._ignoreModelChangeEvent=!1,Ie(i)})}openReference(e,t,i){t||this.closeWidget();let{uri:n,range:o}=e;this._editorService.openCodeEditor({resource:n,options:{selection:o,selectionSource:"code.jump",pinned:i}},this._editor,t)}};a_.ID="editor.contrib.referencesController";a_=ebe([Dw(2,Le),Dw(3,Tt),Dw(4,si),Dw(5,ze),Dw(6,la),Dw(7,Ht)],a_);function c_(r,e){let t=kX(r);if(!t)return;let i=a_.get(t);i&&e(i)}qn.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:an(2089,60),when:Ce.or(l_,ar.inPeekEditor),handler(r){c_(r,e=>{e.changeFocusBetweenPreviewAndReferences()})}});qn.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:Ce.or(l_,ar.inPeekEditor),handler(r){c_(r,e=>{e.goToNextOrPreviousReference(!0)})}});qn.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:Ce.or(l_,ar.inPeekEditor),handler(r){c_(r,e=>{e.goToNextOrPreviousReference(!1)})}});ht.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference");ht.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference");ht.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch");ht.registerCommand("closeReferenceSearch",r=>c_(r,e=>e.closeWidget()));qn.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:Ce.and(ar.inPeekEditor,Ce.not("config.editor.stablePeek"))});qn.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:Ce.and(l_,Ce.not("config.editor.stablePeek"))});qn.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:Ce.and(l_,k5,fO.negate(),gO.negate()),handler(r){var e;let i=(e=r.get(sa).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof cc&&c_(r,n=>n.revealReference(i[0]))}});qn.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:Ce.and(l_,k5,fO.negate(),gO.negate()),handler(r){var e;let i=(e=r.get(sa).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof cc&&c_(r,n=>n.openReference(i[0],!0,!0))}});ht.registerCommand("openReference",r=>{var e;let i=(e=r.get(sa).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof cc&&c_(r,n=>n.openReference(i[0],!1,!0))});Ee();re();Vr();kt();io();ye();ke();Et();Ss();Ye();qh();var BX=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},wS=function(r,e){return function(t,i){e(t,i,r)}},d7=new Se("hasSymbols",!1,g("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),CS=Fe("ISymbolNavigationService"),l7=class{constructor(e,t,i,n){this._editorService=t,this._notificationService=i,this._keybindingService=n,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=d7.bindTo(e)}reset(){var e,t;this._ctxHasSymbols.reset(),(e=this._currentState)===null||e===void 0||e.dispose(),(t=this._currentMessage)===null||t===void 0||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(e){let t=e.parent.parent;if(t.references.length<=1){this.reset();return}this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();let i=new c7(this._editorService),n=i.onDidChange(o=>{if(this._ignoreEditorChange)return;let s=this._editorService.getActiveCodeEditor();if(!s)return;let a=s.getModel(),l=s.getPosition();if(!a||!l)return;let c=!1,d=!1;for(let h of t.references)if(Uk(h.uri,a.uri))c=!0,d=d||D.containsPosition(h.range,l);else if(c)break;(!c||!d)&&this.reset()});this._currentState=Ws(i,n)}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;let t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:D.collapseToStart(t.range),selectionRevealType:3}},e).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var e;(e=this._currentMessage)===null||e===void 0||e.dispose();let t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),i=t?g("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,t.getLabel()):g("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(i)}};l7=BX([wS(0,Le),wS(1,Tt),wS(2,si),wS(3,Di)],l7);Lt(CS,l7,!0);me(new class extends Yi{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:d7,kbOpts:{weight:100,primary:70}})}runEditorCommand(r,e){return r.get(CS).revealNext(e)}});qn.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:d7,primary:9,handler(r){r.get(CS).reset()}});var c7=class{constructor(e){this._listener=new Map,this._disposables=new J,this._onDidChange=new B,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),dt(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,Ws(e.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:e})),e.onDidChangeModelContent(t=>this._onDidChange.fire({editor:e}))))}_onDidRemoveEditor(e){var t;(t=this._listener.get(e))===null||t===void 0||t.dispose(),this._listener.delete(e)}};c7=BX([wS(0,Tt)],c7);ke();Mo();on();Et();Ye();Vc();Ei();ut();kt();hi();var jX=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};function yS(r,e,t,i){let o=t.ordered(r).map(s=>Promise.resolve(i(s,r,e)).then(void 0,a=>{Si(a)}));return Promise.all(o).then(s=>{let a=[];for(let l of s)Array.isArray(l)?a.push(...l):l&&a.push(l);return a})}function SS(r,e,t,i){return yS(e,t,r,(n,o,s)=>n.provideDefinition(o,s,i))}function h7(r,e,t,i){return yS(e,t,r,(n,o,s)=>n.provideDeclaration(o,s,i))}function u7(r,e,t,i){return yS(e,t,r,(n,o,s)=>n.provideImplementation(o,s,i))}function f7(r,e,t,i){return yS(e,t,r,(n,o,s)=>n.provideTypeDefinition(o,s,i))}function ES(r,e,t,i,n){return yS(e,t,r,(o,s,a)=>jX(this,void 0,void 0,function*(){let l=yield o.provideReferences(s,a,{includeDeclaration:!0},n);if(!i||!l||l.length!==2)return l;let c=yield o.provideReferences(s,a,{includeDeclaration:!1},n);return c&&c.length===1?c:l}))}function xS(r){return jX(this,void 0,void 0,function*(){let e=yield r(),t=new Er(e,""),i=t.references.map(n=>n.link);return t.dispose(),i})}Ks("_executeDefinitionProvider",(r,e,t)=>{let i=r.get(ve),n=SS(i.definitionProvider,e,t,Qe.None);return xS(()=>n)});Ks("_executeTypeDefinitionProvider",(r,e,t)=>{let i=r.get(ve),n=f7(i.typeDefinitionProvider,e,t,Qe.None);return xS(()=>n)});Ks("_executeDeclarationProvider",(r,e,t)=>{let i=r.get(ve),n=h7(i.declarationProvider,e,t,Qe.None);return xS(()=>n)});Ks("_executeReferenceProvider",(r,e,t)=>{let i=r.get(ve),n=ES(i.referenceProvider,e,t,!1,Qe.None);return xS(()=>n)});Ks("_executeImplementationProvider",(r,e,t)=>{let i=r.get(ve),n=u7(i.implementationProvider,e,t,Qe.None);return xS(()=>n)});hi();var dc=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},g7,m7,p7,_7,b7,v7,w7,C7;Po.appendMenuItem(H.EditorContext,{submenu:H.EditorContextPeek,title:g("peek.submenu","Peek"),group:"navigation",order:100});var WX=new Set;function Yc(r){let e=new r;return _L(e),WX.add(e.id),e}var d_=class{constructor(e,t){this.model=e,this.position=t}static is(e){return!e||typeof e!="object"?!1:!!(e instanceof d_||V.isIPosition(e.position)&&e.model)}},Bu=class extends we{constructor(e,t){super(t);this.configuration=e}run(e,t,i){if(!t.hasModel())return Promise.resolve(void 0);let n=e.get(si),o=e.get(Tt),s=e.get(ea),a=e.get(CS),l=e.get(ve),c=t.getModel(),d=t.getPosition(),h=d_.is(i)?i:new d_(c,d),u=new Ou(t,5),f=kb(this._getLocationModel(l,h.model,h.position,u.token),u.token).then(m=>dc(this,void 0,void 0,function*(){var _;if(!m||u.token.isCancellationRequested)return;Sn(m.ariaMessage);let w;if(m.referenceAt(c.uri,d)){let C=this._getAlternativeCommand(t);C!==this.id&&WX.has(C)&&(w=t.getAction(C))}let y=m.references.length;if(y===0){if(!this.configuration.muteMessage){let C=c.getWordAtPosition(d);(_=Kr.get(t))===null||_===void 0||_.showMessage(this._getNoResultFoundMessage(C),d)}}else if(y===1&&w)w.run();else return this._onResult(o,a,t,m)}),m=>{n.error(m)}).finally(()=>{u.dispose()});return s.showWhile(f,250),f}_onResult(e,t,i,n){return dc(this,void 0,void 0,function*(){let o=this._getGoToPreference(i);if(!(i instanceof qc)&&(this.configuration.openInPeek||o==="peek"&&n.references.length>1))this._openInPeek(i,n);else{let s=n.firstReference(),a=n.references.length>1&&o==="gotoAndPeek",l=yield this._openReference(i,e,s,this.configuration.openToSide,!a);a&&l?this._openInPeek(l,n):n.dispose(),o==="goto"&&t.put(s)}})}_openReference(e,t,i,n,o){return dc(this,void 0,void 0,function*(){let s;if(Q6(i)&&(s=i.targetSelectionRange),s||(s=i.range),!s)return;let a=yield t.openCodeEditor({resource:i.uri,options:{selection:D.collapseToStart(s),selectionRevealType:3,selectionSource:"code.jump"}},e,n);if(!!a){if(o){let l=a.getModel(),c=a.deltaDecorations([],[{range:s,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{a.getModel()===l&&a.deltaDecorations(c,[])},350)}return a}})}_openInPeek(e,t){let i=a_.get(e);i&&e.hasModel()?i.toggleWidget(e.getSelection(),xi(n=>Promise.resolve(t)),this.configuration.openInPeek):t.dispose()}},Pg=class extends Bu{_getLocationModel(e,t,i,n){return dc(this,void 0,void 0,function*(){return new Er(yield SS(e.definitionProvider,t,i,n),g("def.title","Definitions"))})}_getNoResultFoundMessage(e){return e&&e.word?g("noResultWord","No definition found for '{0}'",e.word):g("generic.noResults","No definition found")}_getAlternativeCommand(e){return e.getOption(51).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(51).multipleDefinitions}},UX=pa&&!JC?2118:70;Yc((g7=class y7 extends Pg{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:y7.id,label:g("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:Ce.and(F.hasDefinitionProvider,F.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:F.editorTextFocus,primary:UX,weight:100},contextMenuOpts:{group:"navigation",order:1.1}});ht.registerCommandAlias("editor.action.goToDeclaration",y7.id)}},g7.id="editor.action.revealDefinition",g7));Yc((m7=class S7 extends Pg{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:S7.id,label:g("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:Ce.and(F.hasDefinitionProvider,F.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:F.editorTextFocus,primary:an(2089,UX),weight:100}});ht.registerCommandAlias("editor.action.openDeclarationToTheSide",S7.id)}},m7.id="editor.action.revealDefinitionAside",m7));Yc((p7=class E7 extends Pg{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:E7.id,label:g("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:Ce.and(F.hasDefinitionProvider,ar.notInPeekEditor,F.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:F.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:H.EditorContextPeek,group:"peek",order:2}});ht.registerCommandAlias("editor.action.previewDeclaration",E7.id)}},p7.id="editor.action.peekDefinition",p7));var x7=class extends Bu{_getLocationModel(e,t,i,n){return dc(this,void 0,void 0,function*(){return new Er(yield h7(e.declarationProvider,t,i,n),g("decl.title","Declarations"))})}_getNoResultFoundMessage(e){return e&&e.word?g("decl.noResultWord","No declaration found for '{0}'",e.word):g("decl.generic.noResults","No declaration found")}_getAlternativeCommand(e){return e.getOption(51).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(51).multipleDeclarations}};Yc((_7=class zX extends x7{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:zX.id,label:g("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:Ce.and(F.hasDeclarationProvider,F.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(e){return e&&e.word?g("decl.noResultWord","No declaration found for '{0}'",e.word):g("decl.generic.noResults","No declaration found")}},_7.id="editor.action.revealDeclaration",_7));Yc(class extends x7{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:g("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:Ce.and(F.hasDeclarationProvider,ar.notInPeekEditor,F.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:H.EditorContextPeek,group:"peek",order:3}})}});var D7=class extends Bu{_getLocationModel(e,t,i,n){return dc(this,void 0,void 0,function*(){return new Er(yield f7(e.typeDefinitionProvider,t,i,n),g("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(e){return e&&e.word?g("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):g("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(e){return e.getOption(51).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(51).multipleTypeDefinitions}};Yc((b7=class VX extends D7{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:VX.ID,label:g("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:Ce.and(F.hasTypeDefinitionProvider,F.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:F.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},b7.ID="editor.action.goToTypeDefinition",b7));Yc((v7=class HX extends D7{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:HX.ID,label:g("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:Ce.and(F.hasTypeDefinitionProvider,ar.notInPeekEditor,F.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:H.EditorContextPeek,group:"peek",order:4}})}},v7.ID="editor.action.peekTypeDefinition",v7));var L7=class extends Bu{_getLocationModel(e,t,i,n){return dc(this,void 0,void 0,function*(){return new Er(yield u7(e.implementationProvider,t,i,n),g("impl.title","Implementations"))})}_getNoResultFoundMessage(e){return e&&e.word?g("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):g("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(e){return e.getOption(51).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(51).multipleImplementations}};Yc((w7=class $X extends L7{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:$X.ID,label:g("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:Ce.and(F.hasImplementationProvider,F.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:F.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},w7.ID="editor.action.goToImplementation",w7));Yc((C7=class KX extends L7{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:KX.ID,label:g("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:Ce.and(F.hasImplementationProvider,ar.notInPeekEditor,F.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:F.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:H.EditorContextPeek,group:"peek",order:5}})}},C7.ID="editor.action.peekImplementation",C7));var k7=class extends Bu{_getNoResultFoundMessage(e){return e?g("references.no","No references found for '{0}'",e.word):g("references.noGeneric","No references found")}_getAlternativeCommand(e){return e.getOption(51).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(51).multipleReferences}};Yc(class extends k7{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:g("goToReferences.label","Go to References"),alias:"Go to References",precondition:Ce.and(F.hasReferenceProvider,ar.notInPeekEditor,F.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:F.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(e,t,i,n){return dc(this,void 0,void 0,function*(){return new Er(yield ES(e.referenceProvider,t,i,!0,n),g("ref.title","References"))})}});Yc(class extends k7{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:g("references.action.label","Peek References"),alias:"Peek References",precondition:Ce.and(F.hasReferenceProvider,ar.notInPeekEditor,F.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:H.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(e,t,i,n){return dc(this,void 0,void 0,function*(){return new Er(yield ES(e.referenceProvider,t,i,!1,n),g("ref.title","References"))})}});var qX=class extends Bu{constructor(e,t,i){super(e,{id:"editor.action.goToLocation",label:g("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:Ce.and(ar.notInPeekEditor,F.isInWalkThroughSnippet.toNegated())});this._references=t,this._gotoMultipleBehaviour=i}_getLocationModel(e,t,i,n){return dc(this,void 0,void 0,function*(){return new Er(this._references,g("generic.title","Locations"))})}_getNoResultFoundMessage(e){return e&&g("generic.noResult","No results for '{0}'",e.word)||""}_getGoToPreference(e){var t;return(t=this._gotoMultipleBehaviour)!==null&&t!==void 0?t:e.getOption(51).multipleReferences}_getAlternativeCommand(){return""}};ht.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:De},{name:"position",description:"The position at which to start",constraint:V.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(r,e,t,i,n,o,s)=>dc(void 0,void 0,void 0,function*(){Yt(De.isUri(e)),Yt(V.isIPosition(t)),Yt(Array.isArray(i)),Yt(typeof n>"u"||typeof n=="string"),Yt(typeof s>"u"||typeof s=="boolean");let a=r.get(Tt),l=yield a.openCodeEditor({resource:e},a.getFocusedCodeEditor());if(uh(l))return l.setPosition(t),l.revealPositionInCenterIfOutsideViewport(t,0),l.invokeWithinContext(c=>{let d=new class extends qX{_getNoResultFoundMessage(h){return o||super._getNoResultFoundMessage(h)}}({muteMessage:!Boolean(o),openInPeek:Boolean(s),openToSide:!1},i,n);c.get(ze).invokeFunction(d.run.bind(d),l)})})});ht.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:De},{name:"position",description:"The position at which to start",constraint:V.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(r,e,t,i,n)=>dc(void 0,void 0,void 0,function*(){r.get(pi).executeCommand("editor.action.goToLocations",e,t,i,n,void 0,!0)})});ht.registerCommand({id:"editor.action.findReferences",handler:(r,e,t)=>{Yt(De.isUri(e)),Yt(V.isIPosition(t));let i=r.get(ve),n=r.get(Tt);return n.openCodeEditor({resource:e},n.getFocusedCodeEditor()).then(o=>{if(!uh(o)||!o.hasModel())return;let s=a_.get(o);if(!s)return;let a=xi(c=>ES(i.referenceProvider,o.getModel(),V.lift(t),!1,c).then(d=>new Er(d,g("ref.title","References")))),l=new D(t.lineNumber,t.column,t.lineNumber,t.column);return Promise.resolve(s.toggleWidget(l,a,!1))})}});ht.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");Po.appendMenuItems([{id:H.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:g({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:H.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:g({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:H.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:g({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:H.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:g({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:H.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:g({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}]);hi();var tbe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},I7=function(r,e){return function(t,i){e(t,i,r)}},Mg=class DS{constructor(e,t,i,n){this.textModelResolverService=t,this.languageService=i,this.languageFeaturesService=n,this.toUnhook=new J,this.toUnhookForKeyboard=new J,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e;let o=new o_(e);this.toUnhook.add(o),this.toUnhook.add(o.onMouseMoveOrRelevantKeyDown(([s,a])=>{this.startFindDefinitionFromMouse(s,za(a))})),this.toUnhook.add(o.onExecute(s=>{this.isEnabled(s)&&this.gotoDefinition(s.target.position,s.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},a=>{this.removeLinkDecorations(),Ie(a)})})),this.toUnhook.add(o.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(e){return e.getContribution(DS.ID)}startFindDefinitionFromCursor(e){return this.startFindDefinition(e).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(t=>{t&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(e,t){if(e.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,t)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}let i=e.target.position;this.startFindDefinition(i)}startFindDefinition(e){var t;this.toUnhookForKeyboard.clear();let i=e?(t=this.editor.getModel())===null||t===void 0?void 0:t.getWordAtPosition(e):null;if(!i)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===i.startColumn&&this.currentWordAtPosition.endColumn===i.endColumn&&this.currentWordAtPosition.word===i.word)return Promise.resolve(0);this.currentWordAtPosition=i;let n=new Og(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=xi(o=>this.findDefinition(e,o)),this.previousPromise.then(o=>{if(!o||!o.length||!n.validate(this.editor)){this.removeLinkDecorations();return}if(o.length>1)this.addDecoration(new D(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn),new Bo().appendText(g("multipleResults","Click to show {0} definitions.",o.length)));else{let s=o[0];if(!s.uri)return;this.textModelResolverService.createModelReference(s.uri).then(a=>{if(!a.object||!a.object.textEditorModel){a.dispose();return}let{object:{textEditorModel:l}}=a,{startLineNumber:c}=s.range;if(c<1||c>l.getLineCount()){a.dispose();return}let d=this.getPreviewValue(l,c,s),h;s.originSelectionRange?h=D.lift(s.originSelectionRange):h=new D(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn);let u=this.languageService.guessLanguageIdByFilepathOrFirstLine(l.uri);this.addDecoration(h,new Bo().appendCodeblock(u||"",d)),a.dispose()})}}).then(void 0,Ie)}getPreviewValue(e,t,i){let n=i.targetSelectionRange?i.range:this.getPreviewRangeBasedOnBrackets(e,t);return n.endLineNumber-n.startLineNumber>=DS.MAX_SOURCE_PREVIEW_LINES&&(n=this.getPreviewRangeBasedOnIndentation(e,t)),this.stripIndentationFromPreviewRange(e,t,n)}stripIndentationFromPreviewRange(e,t,i){let o=e.getLineFirstNonWhitespaceColumn(t);for(let a=t+1;a<i.endLineNumber;a++){let l=e.getLineFirstNonWhitespaceColumn(a);o=Math.min(o,l)}return e.getValueInRange(i).replace(new RegExp(`^\\s{${o-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(e,t){let i=e.getLineFirstNonWhitespaceColumn(t),n=Math.min(e.getLineCount(),t+DS.MAX_SOURCE_PREVIEW_LINES),o=t+1;for(;o<n;o++){let s=e.getLineFirstNonWhitespaceColumn(o);if(i===s)break}return new D(t,1,o+1,1)}getPreviewRangeBasedOnBrackets(e,t){let i=Math.min(e.getLineCount(),t+DS.MAX_SOURCE_PREVIEW_LINES),n=[],o=!0,s=e.bracketPairs.findNextBracket(new V(t,1));for(;s!==null;){if(n.length===0)n.push(s);else{let d=n[n.length-1];if(d.open[0]===s.open[0]&&d.isOpen&&!s.isOpen?n.pop():n.push(s),n.length===0)if(o)o=!1;else return new D(t,1,s.range.endLineNumber+1,1)}let a=e.getLineMaxColumn(t),l=s.range.endLineNumber,c=s.range.endColumn;if(a===s.range.endColumn&&(l++,c=1),l>i)return new D(t,1,i+1,1);s=e.bracketPairs.findNextBracket(new V(l,c))}return new D(t,1,i+1,1)}addDecoration(e,t){let i={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[i])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&e.target.type===6&&(e.hasTriggerModifier||(t?t.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(e,t){let i=this.editor.getModel();return i?SS(this.languageFeaturesService.definitionProvider,i,e,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext(i=>{let n=!t&&this.editor.getOption(78)&&!this.isInPeekEditor(i);return new Pg({openToSide:t,openInPeek:n,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(i,this.editor)})}isInPeekEditor(e){let t=e.get(Le);return ar.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose()}};Mg.ID="editor.contrib.gotodefinitionatposition";Mg.MAX_SOURCE_PREVIEW_LINES=8;Mg=tbe([I7(1,Tn),I7(2,Gt),I7(3,ve)],Mg);st(Mg.ID,Mg);yt((r,e)=>{let t=r.getColor(sv);t&&e.addRule(`.monaco-editor .goto-definition-link { color: ${t} !important; }`)});Be();Be();os();re();var hT=le,LS=class extends ${constructor(){super();this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new Fc(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}},kS=class extends ${constructor(e,t,i){super();this.actionContainer=ee(e,hT("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=ee(this.actionContainer,hT("a.action")),this.action.setAttribute("role","button"),t.iconClass&&ee(this.action,hT(`span.icon.${t.iconClass}`));let n=ee(this.action,hT("span"));n.textContent=i?`${t.label} (${i})`:t.label,this._register(se(this.actionContainer,Re.CLICK,o=>{o.stopPropagation(),o.preventDefault(),t.run(this.actionContainer)})),this._register(se(this.actionContainer,Re.KEY_UP,o=>{new $t(o).equals(3)&&(o.stopPropagation(),o.preventDefault(),t.run(this.actionContainer))})),this.setEnabled(!0)}static render(e,t,i){return new kS(e,t,i)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}};jt();re();lt();ye();Fo();cn();nt();ut();Ee();re();var ibe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},nbe=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=r[o]&&function(s){return new Promise(function(a,l){s=r[o](s),n(a,l,s.done,s.value)})}}function n(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}},YX=class{constructor(e,t,i){this.value=e,this.isComplete=t,this.hasLoadingMessage=i}},IS=class extends ${constructor(e,t){super();this._editor=e,this._computer=t,this._onResult=this._register(new B),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new wt(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new wt(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new wt(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(53).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(e,t=!0){this._state=e,t&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=HW(e=>this._computer.computeAsync(e)),ibe(this,void 0,void 0,function*(){var e,t;try{try{for(var i=nbe(this._asyncIterable),n;n=yield i.next(),!n.done;){let o=n.value;o&&(this._result.push(o),this._fireResult())}}catch(o){e={error:o}}finally{try{n&&!n.done&&(t=i.return)&&(yield t.call(i))}finally{if(e)throw e.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(o){Ie(o)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;let e=this._state===0,t=this._state===4;this._onResult.fire(new YX(this._result.slice(0),e,t))}start(e){if(e===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}};var OS=class{constructor(e,t){this.priority=e,this.range=t,this.type=1}equals(e){return e.type===1&&this.range.equalsRange(e.range)}canAdoptVisibleHover(e,t){return e.type===1&&t.lineNumber===this.range.startLineNumber}},h_=class{constructor(e,t,i){this.priority=e,this.owner=t,this.range=i,this.type=2}equals(e){return e.type===2&&this.owner===e.owner}canAdoptVisibleHover(e,t){return e.type===2&&this.owner===e.owner}},pl=new class{constructor(){this._participants=[]}register(e){this._participants.push(e)}getAll(){return this._participants}};Et();Ye();Ei();ut();re();va();ai();Oi();lt();ye();xa();var _l=class{constructor(){this.value="",this.pos=0}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return e===95||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let e=this.pos,t=0,i=this.value.charCodeAt(e),n;if(n=_l._table[i],typeof n=="number")return this.pos+=1,{type:n,pos:e,len:1};if(_l.isDigitCharacter(i)){n=8;do t+=1,i=this.value.charCodeAt(e+t);while(_l.isDigitCharacter(i));return this.pos+=t,{type:n,pos:e,len:t}}if(_l.isVariableCharacter(i)){n=9;do i=this.value.charCodeAt(e+ ++t);while(_l.isVariableCharacter(i)||_l.isDigitCharacter(i));return this.pos+=t,{type:n,pos:e,len:t}}n=10;do t+=1,i=this.value.charCodeAt(e+t);while(!isNaN(i)&&typeof _l._table[i]>"u"&&!_l.isDigitCharacter(i)&&!_l.isVariableCharacter(i));return this.pos+=t,{type:n,pos:e,len:t}}};_l._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};var u_=class{constructor(){this._children=[]}appendChild(e){return e instanceof qr&&this._children[this._children.length-1]instanceof qr?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){let{parent:i}=e,n=i.children.indexOf(e),o=i.children.slice(0);o.splice(n,1,...t),i._children=o,function s(a,l){for(let c of a)c.parent=l,s(c.children,c)}(t,i)}get children(){return this._children}get snippet(){let e=this;for(;;){if(!e)return;if(e instanceof TS)return e;e=e.parent}}toString(){return this.children.reduce((e,t)=>e+t.toString(),"")}len(){return 0}},qr=class extends u_{constructor(e){super();this.value=e}toString(){return this.value}len(){return this.value.length}clone(){return new qr(this.value)}},O7=class extends u_{},Pa=class extends O7{constructor(e){super();this.index=e}static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof f_?this._children[0]:void 0}clone(){let e=new Pa(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}},f_=class extends u_{constructor(){super(...arguments);this.options=[]}appendChild(e){return e instanceof qr&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let e=new f_;return this.options.forEach(e.appendChild,e),e}},uT=class extends u_{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(e){let t=this,i=!1,n=e.replace(this.regexp,function(){return i=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))});return!i&&this._children.some(o=>o instanceof hc&&Boolean(o.elseValue))&&(n=this._replace([])),n}_replace(e){let t="";for(let i of this._children)if(i instanceof hc){let n=e[i.index]||"";n=i.resolve(n),t+=n}else t+=i.toString();return t}toString(){return""}clone(){let e=new uT;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map(t=>t.clone()),e}},hc=class extends u_{constructor(e,t,i,n){super();this.index=e,this.shorthandName=t,this.ifValue=i,this.elseValue=n}resolve(e){return this.shorthandName==="upcase"?e?e.toLocaleUpperCase():"":this.shorthandName==="downcase"?e?e.toLocaleLowerCase():"":this.shorthandName==="capitalize"?e?e[0].toLocaleUpperCase()+e.substr(1):"":this.shorthandName==="pascalcase"?e?this._toPascalCase(e):"":this.shorthandName==="camelcase"?e?this._toCamelCase(e):"":Boolean(e)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(e)&&typeof this.elseValue=="string"?this.elseValue:e||""}_toPascalCase(e){let t=e.match(/[a-z0-9]+/gi);return t?t.map(i=>i.charAt(0).toUpperCase()+i.substr(1).toLowerCase()).join(""):e}_toCamelCase(e){let t=e.match(/[a-z0-9]+/gi);return t?t.map((i,n)=>n===0?i.toLowerCase():i.charAt(0).toUpperCase()+i.substr(1).toLowerCase()).join(""):e}clone(){return new hc(this.index,this.shorthandName,this.ifValue,this.elseValue)}},Lw=class extends O7{constructor(e){super();this.name=e}resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),t!==void 0?(this._children=[new qr(t)],!0):!1}clone(){let e=new Lw(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}};function ZX(r,e){let t=[...r];for(;t.length>0;){let i=t.shift();if(!e(i))break;t.unshift(...i.children)}}var TS=class extends u_{get placeholderInfo(){if(!this._placeholders){let e=[],t;this.walk(function(i){return i instanceof Pa&&(e.push(i),t=!t||t.index<i.index?i:t),!0}),this._placeholders={all:e,last:t}}return this._placeholders}get placeholders(){let{all:e}=this.placeholderInfo;return e}offset(e){let t=0,i=!1;return this.walk(n=>n===e?(i=!0,!1):(t+=n.len(),!0)),i?t:-1}fullLen(e){let t=0;return ZX([e],i=>(t+=i.len(),!0)),t}enclosingPlaceholders(e){let t=[],{parent:i}=e;for(;i;)i instanceof Pa&&t.push(i),i=i.parent;return t}resolveVariables(e){return this.walk(t=>(t instanceof Lw&&t.resolve(e)&&(this._placeholders=void 0),!0)),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){let e=new TS;return this._children=this.children.map(t=>t.clone()),e}walk(e){ZX(this.children,e)}},ju=class{constructor(){this._scanner=new _l,this._token={type:14,pos:0,len:0}}static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,i){this._scanner.text(e),this._token=this._scanner.next();let n=new TS;for(;this._parse(n););let o=new Map,s=[],a=0;n.walk(l=>(l instanceof Pa&&(a+=1,l.isFinalTabstop?o.set(0,void 0):!o.has(l.index)&&l.children.length>0?o.set(l.index,l.children):s.push(l)),!0));for(let l of s){let c=o.get(l.index);if(c){let d=new Pa(l.index);d.transform=l.transform;for(let h of c)d.appendChild(h.clone());n.replace(l,[d])}}return i||(i=a>0&&t),!o.has(0)&&i&&n.appendChild(new Pa(0)),n}_accept(e,t){if(e===void 0||this._token.type===e){let i=t?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),i}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){let t=this._token;for(;this._token.type!==e;){if(this._token.type===14)return!1;if(this._token.type===5){let n=this._scanner.next();if(n.type!==0&&n.type!==4&&n.type!==5)return!1}this._token=this._scanner.next()}let i=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),i}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return(t=this._accept(5,!0))?(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new qr(t)),!0):!1}_parseTabstopOrVariableName(e){let t,i=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new Pa(Number(t)):new Lw(t)),!0):this._backTo(i)}_parseComplexPlaceholder(e){let t,i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(i);let o=new Pa(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new qr("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else if(o.index>0&&this._accept(7)){let s=new f_;for(;;){if(this._parseChoiceElement(s)){if(this._accept(2))continue;if(this._accept(7)&&(o.appendChild(s),this._accept(4)))return e.appendChild(o),!0}return this._backTo(i),!1}}else return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(i)}_parseChoiceElement(e){let t=this._token,i=[];for(;!(this._token.type===2||this._token.type===7);){let n;if((n=this._accept(5,!0))?n=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||n:n=this._accept(void 0,!0),!n)return this._backTo(t),!1;i.push(n)}return i.length===0?(this._backTo(t),!1):(e.appendChild(new qr(i.join(""))),!0)}_parseComplexVariable(e){let t,i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(i);let o=new Lw(t);if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new qr("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(i)}_parseTransform(e){let t=new uT,i="",n="";for(;!this._accept(6);){let o;if(o=this._accept(5,!0)){o=this._accept(6,!0)||o,i+=o;continue}if(this._token.type!==14){i+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let o;if(o=this._accept(5,!0)){o=this._accept(5,!0)||this._accept(6,!0)||o,t.appendChild(new qr(o));continue}if(!(this._parseFormatString(t)||this._parseAnything(t)))return!1}for(;!this._accept(4);){if(this._token.type!==14){n+=this._accept(void 0,!0);continue}return!1}try{t.regexp=new RegExp(i,n)}catch{return!1}return e.transform=t,!0}_parseFormatString(e){let t=this._token;if(!this._accept(0))return!1;let i=!1;this._accept(3)&&(i=!0);let n=this._accept(8,!0);if(n)if(i){if(this._accept(4))return e.appendChild(new hc(Number(n))),!0;if(!this._accept(1))return this._backTo(t),!1}else return e.appendChild(new hc(Number(n))),!0;else return this._backTo(t),!1;if(this._accept(6)){let o=this._accept(9,!0);return!o||!this._accept(4)?(this._backTo(t),!1):(e.appendChild(new hc(Number(n),o)),!0)}else if(this._accept(11)){let o=this._until(4);if(o)return e.appendChild(new hc(Number(n),void 0,o,void 0)),!0}else if(this._accept(12)){let o=this._until(4);if(o)return e.appendChild(new hc(Number(n),void 0,void 0,o)),!0}else if(this._accept(13)){let o=this._until(1);if(o){let s=this._until(4);if(s)return e.appendChild(new hc(Number(n),void 0,o,s)),!0}}else{let o=this._until(4);if(o)return e.appendChild(new hc(Number(n),void 0,void 0,o)),!0}return this._backTo(t),!1}_parseAnything(e){return this._token.type!==14?(e.appendChild(new qr(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}};ke();Mo();on();Et();hi();Be();ln();Yn();Ee();var obe={inputActiveOptionBorder:X.fromHex("#007ACC00"),inputActiveOptionForeground:X.fromHex("#FFFFFF"),inputActiveOptionBackground:X.fromHex("#0E639C50")},Wu=class extends Ro{constructor(e){super();this._onChange=this._register(new B),this.onChange=this._onChange.event,this._onKeyDown=this._register(new B),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},obe),e),this._checked=this._opts.isChecked;let t=["monaco-custom-checkbox"];this._opts.icon&&t.push(...to.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,i=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),i.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,i=>{if(i.keyCode===10||i.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),i.preventDefault();return}this._onKeyDown.fire(i)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(e){e.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=e.inputActiveOptionBorder),e.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=e.inputActiveOptionForeground),e.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=e.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}};ln();ke();var rbe=g("caseDescription","Match Case"),sbe=g("wordsDescription","Match Whole Word"),abe=g("regexDescription","Use Regular Expression"),NS=class extends Wu{constructor(e){super({icon:p.caseSensitive,title:rbe+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},PS=class extends Wu{constructor(e){super({icon:p.wholeWord,title:sbe+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},MS=class extends Wu{constructor(e){super({icon:p.regex,title:abe+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}};Ee();ke();var lbe=g("defaultLabel","input"),T7=class extends Ro{constructor(e,t,i,n){super();this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new B),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new B),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new B),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new B),this._onKeyUp=this._register(new B),this._onCaseSensitiveKeyDown=this._register(new B),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new B),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=t,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||lbe,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;let o=n.appendCaseSensitiveLabel||"",s=n.appendWholeWordsLabel||"",a=n.appendRegexLabel||"",l=n.history||[],c=!!n.flexibleHeight,d=!!n.flexibleWidth,h=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new I1(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:l,showHistoryHint:n.showHistoryHint,flexibleHeight:c,flexibleWidth:d,flexibleMaxHeight:h})),this.regex=this._register(new MS({appendTitle:a,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(f=>{this._onRegexKeyDown.fire(f)})),this.wholeWords=this._register(new PS({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new NS({appendTitle:o,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(f=>{this._onCaseSensitiveKeyDown.fire(f)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let u=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,f=>{if(f.equals(15)||f.equals(17)||f.equals(9)){let m=u.indexOf(document.activeElement);if(m>=0){let _=-1;f.equals(17)?_=(m+1)%u.length:f.equals(15)&&(m===0?_=u.length-1:_=m-1),f.equals(9)?(u[m].blur(),this.inputBox.focus()):_>=0&&u[_].focus(),Kt.stop(f,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this.domNode.appendChild(this.controls),e&&e.appendChild(this.domNode),this._register(se(this.inputBox.inputElement,"compositionstart",f=>{this.imeSessionInProgress=!0})),this._register(se(this.inputBox.inputElement,"compositionend",f=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,f=>this._onKeyDown.fire(f)),this.onkeyup(this.inputBox.inputElement,f=>this._onKeyUp.fire(f)),this.oninput(this.inputBox.inputElement,f=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,f=>this._onMouseDown.fire(f))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){let e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(e),this.wholeWords.style(e),this.caseSensitive.style(e);let t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(e){this.caseSensitive.checked=e}getWholeWords(){return this.wholeWords.checked}setWholeWords(e){this.wholeWords.checked=e}getRegex(){return this.regex.checked}setRegex(e){this.regex.checked=e,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}};Be();ln();Ee();ke();var cbe=g("defaultLabel","input"),dbe=g("label.preserveCaseCheckbox","Preserve Case"),GX=class extends Wu{constructor(e){super({icon:p.preserveCase,title:dbe+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},N7=class extends Ro{constructor(e,t,i,n){super();this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new B),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new B),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new B),this._onInput=this._register(new B),this._onKeyUp=this._register(new B),this._onPreserveCaseKeyDown=this._register(new B),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||cbe,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;let o=n.appendPreserveCaseLabel||"",s=n.history||[],a=!!n.flexibleHeight,l=!!n.flexibleWidth,c=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new I1(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:s,showHistoryHint:n.showHistoryHint,flexibleHeight:a,flexibleWidth:l,flexibleMaxHeight:c})),this.preserveCase=this._register(new GX({appendTitle:o,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(u=>{this._onDidOptionChange.fire(u),!u&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(u=>{this._onPreserveCaseKeyDown.fire(u)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let d=[this.preserveCase.domNode];this.onkeydown(this.domNode,u=>{if(u.equals(15)||u.equals(17)||u.equals(9)){let f=d.indexOf(document.activeElement);if(f>=0){let m=-1;u.equals(17)?m=(f+1)%d.length:u.equals(15)&&(f===0?m=d.length-1:m=f-1),u.equals(9)?(d[f].blur(),this.inputBox.focus()):m>=0&&d[m].focus(),Kt.stop(u,!0)}}});let h=document.createElement("div");h.className="controls",h.style.display=this._showOptionButtons?"block":"none",h.appendChild(this.preserveCase.domNode),this.domNode.appendChild(h),e&&e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,u=>this._onKeyDown.fire(u)),this.onkeyup(this.inputBox.inputElement,u=>this._onKeyUp.fire(u)),this.oninput(this.inputBox.inputElement,u=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,u=>this._onMouseDown.fire(u))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){let e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(e);let t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=e,this.domNode.style.width=e+"px"}dispose(){super.dispose()}};Et();qh();ke();var XX=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},QX=function(r,e){return function(t,i){e(t,i,r)}},mT=new Se("suggestWidgetVisible",!1,g("suggestWidgetVisible","Whether suggestion are visible")),AS="historyNavigationWidget",JX="historyNavigationForwardsEnabled",eQ="historyNavigationBackwardsEnabled";function hbe(r,e,t){new Se(t,e).bindTo(r)}function ube(r,e){return r.createScoped(e.target)}function tQ(r,e){return r.getContext(document.activeElement).getValue(e)}function iQ(r,e){let t=ube(r,e);hbe(t,e,AS);let i=new Se(JX,!0).bindTo(t),n=new Se(eQ,!0).bindTo(t);return{scopedContextKeyService:t,historyNavigationForwardsEnablement:i,historyNavigationBackwardsEnablement:n}}var fT=class extends T7{constructor(e,t,i,n,o=!1){super(e,t,o,i);this._register(iQ(n,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};fT=XX([QX(3,Le)],fT);var gT=class extends N7{constructor(e,t,i,n,o=!1){super(e,t,o,i);this._register(iQ(n,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};gT=XX([QX(3,Le)],gT);qn.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:Ce.and(Ce.has(AS),Ce.equals(eQ,!0),mT.isEqualTo(!1)),primary:16,secondary:[528],handler:r=>{let e=tQ(r.get(Le),AS);e&&e.historyNavigator.showPreviousValue()}});qn.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:Ce.and(Ce.has(AS),Ce.equals(JX,!0),mT.isEqualTo(!1)),primary:18,secondary:[530],handler:r=>{let e=tQ(r.get(Le),AS);e&&e.historyNavigator.showNextValue()}});var FS=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},qt={Visible:mT,DetailsVisible:new Se("suggestWidgetDetailsVisible",!1,g("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new Se("suggestWidgetMultipleSuggestions",!1,g("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new Se("suggestionMakesTextEdit",!0,g("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new Se("acceptSuggestionOnEnter",!0,g("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new Se("suggestionHasInsertAndReplaceRange",!1,g("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new Se("suggestionInsertMode",void 0,{type:"string",description:g("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new Se("suggestionCanResolve",!1,g("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},gh=new H("suggestWidgetStatusBar"),nQ=class{constructor(e,t,i,n){this.position=e,this.completion=t,this.container=i,this.provider=n,this.isInvalid=!1,this.score=oa.Default,this.distance=0,this.textLabel=typeof t.label=="string"?t.label:t.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),D.isIRange(t.range)?(this.editStart=new V(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new V(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new V(t.range.endLineNumber,t.range.endColumn),this.isInvalid=this.isInvalid||D.spansMultipleLines(t.range)||t.range.startLineNumber!==e.lineNumber):(this.editStart=new V(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new V(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new V(t.range.replace.endLineNumber,t.range.replace.endColumn),this.isInvalid=this.isInvalid||D.spansMultipleLines(t.range.insert)||D.spansMultipleLines(t.range.replace)||t.range.insert.startLineNumber!==e.lineNumber||t.range.replace.startLineNumber!==e.lineNumber||t.range.insert.startColumn!==t.range.replace.startColumn),typeof n.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(e){return FS(this,void 0,void 0,function*(){if(!this._resolveCache){let t=e.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then(i=>{Object.assign(this.completion,i),this._isResolved=!0,t.dispose()},i=>{ws(i)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}},kw=class{constructor(e=2,t=new Set,i=new Set,n=!0){this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=i,this.showDeprecated=n}};kw.default=new kw;var RS;function oQ(){return RS}var rQ=class{constructor(e,t,i,n){this.items=e,this.needsClipboard=t,this.durations=i,this.disposable=n}};function M7(r,e,t,i=kw.default,n={triggerKind:0},o=Qe.None){return FS(this,void 0,void 0,function*(){let s=new fn(!0);t=t.clone();let a=e.getWordAtPosition(t),l=a?new D(t.lineNumber,a.startColumn,t.lineNumber,a.endColumn):D.fromPositions(t),c={replace:l,insert:l.setEndPosition(t.lineNumber,t.column)},d=[],h=new J,u=[],f=!1,m=(w,y,C)=>{var E,L,k;let M=!1;if(!y)return M;for(let I of y.suggestions)if(!i.kindFilter.has(I.kind)){if(!i.showDeprecated&&((E=I?.tags)===null||E===void 0?void 0:E.includes(1)))continue;I.range||(I.range=c),I.sortText||(I.sortText=typeof I.label=="string"?I.label:I.label.label),!f&&I.insertTextRules&&I.insertTextRules&4&&(f=ju.guessNeedsClipboard(I.insertText)),d.push(new nQ(t,I,y,w)),M=!0}return lb(y)&&h.add(y),u.push({providerName:(L=w._debugDisplayName)!==null&&L!==void 0?L:"unknown_provider",elapsedProvider:(k=y.duration)!==null&&k!==void 0?k:-1,elapsedOverall:C.elapsed()}),M},_=(()=>FS(this,void 0,void 0,function*(){if(!RS||i.kindFilter.has(27)||i.providerFilter.size>0&&!i.providerFilter.has(RS))return;let w=new fn(!0),y=yield RS.provideCompletionItems(e,t,n,o);m(RS,y,w)}))();for(let w of r.orderedGroups(e)){let y=!1;if(yield Promise.all(w.map(C=>FS(this,void 0,void 0,function*(){if(!(i.providerFilter.size>0&&!i.providerFilter.has(C)))try{let E=new fn(!0),L=yield C.provideCompletionItems(e,t,n,o);y=m(C,L,E)||y}catch(E){Si(E)}}))),y||o.isCancellationRequested)break}return yield _,o.isCancellationRequested?(h.dispose(),Promise.reject(ab())):new rQ(d.sort(R7(i.snippetSortOrder)),f,{entries:u,elapsed:s.elapsed()},h)})}function A7(r,e){if(r.sortTextLow&&e.sortTextLow){if(r.sortTextLow<e.sortTextLow)return-1;if(r.sortTextLow>e.sortTextLow)return 1}return r.completion.label<e.completion.label?-1:r.completion.label>e.completion.label?1:r.completion.kind-e.completion.kind}function fbe(r,e){if(r.completion.kind!==e.completion.kind){if(r.completion.kind===27)return-1;if(e.completion.kind===27)return 1}return A7(r,e)}function gbe(r,e){if(r.completion.kind!==e.completion.kind){if(r.completion.kind===27)return 1;if(e.completion.kind===27)return-1}return A7(r,e)}var _T=new Map;_T.set(0,fbe);_T.set(2,gbe);_T.set(1,A7);function R7(r){return _T.get(r)}ht.registerCommand("_executeCompletionItemProvider",(r,...e)=>FS(void 0,void 0,void 0,function*(){let[t,i,n,o]=e;Yt(De.isUri(t)),Yt(V.isIPosition(i)),Yt(typeof n=="string"||!n),Yt(typeof o=="number"||!o);let{completionProvider:s}=r.get(ve),a=yield r.get(Tn).createModelReference(t);try{let l={incomplete:!1,suggestions:[]},c=[],d=yield M7(s,a.object.textEditorModel,V.lift(i),void 0,{triggerCharacter:n,triggerKind:n?1:0});for(let h of d.items)c.length<(o??0)&&c.push(h.resolve(Qe.None)),l.incomplete=l.incomplete||h.container.incomplete,l.suggestions.push(h.completion);try{return yield Promise.all(c),l}finally{setTimeout(()=>d.disposable.dispose(),100)}}finally{a.dispose()}}));var pT,P7=[];function sQ(r,e,t){let{completionProvider:i}=r.get(ve);pT||(pT=new class{provideCompletionItems(){let o={suggestions:P7.slice(0)};return P7.length=0,o}},i.register("*",pT)),setTimeout(()=>{var n;P7.push(...t),(n=e.getContribution("editor.contrib.suggestController"))===null||n===void 0||n.triggerSuggest(new Set().add(pT))},0)}nt();Wi();Ee();var B7=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},bT=function(r,e){return function(t,i){e(t,i,r)}},aQ=le,BS=class lQ extends ${constructor(e,t,i){super();this._editor=e,this._instantiationService=t,this._keybindingService=i,this._widget=this._register(this._instantiationService.createInstance(Ag,this._editor)),this._decorationsChangerListener=this._register(new cQ(this._editor)),this._messages=[],this._messagesAreComplete=!1,this._participants=[];for(let n of pl.getAll())this._participants.push(this._instantiationService.createInstance(n,this._editor));this._participants.sort((n,o)=>n.hoverOrdinal-o.hoverOrdinal),this._computer=new jS(this._editor,this._participants),this._hoverOperation=this._register(new IS(this._editor,this._computer)),this._register(this._hoverOperation.onResult(n=>{this._withResult(n.value,n.isComplete,n.hasLoadingMessage)})),this._register(this._decorationsChangerListener.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(Bi(this._widget.getDomNode(),"keydown",n=>{n.equals(9)&&this.hide()})),this._register(bi.onDidChange(()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))}))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.isColorPickerVisible||this._hoverOperation.start(0))}maybeShowAt(e){let t=[];for(let n of this._participants)if(n.suggestHoverAnchor){let o=n.suggestHoverAnchor(e);o&&t.push(o)}let i=e.target;if(i.type===6&&t.push(new OS(0,i.range)),i.type===7){let n=this._editor.getOption(44).typicalHalfwidthCharacterWidth/2;!i.detail.isAfterLines&&typeof i.detail.horizontalDistanceToText=="number"&&i.detail.horizontalDistanceToText<n&&t.push(new OS(0,i.range))}return t.length===0?!1:(t.sort((n,o)=>o.priority-n.priority),this._startShowingAt(t[0],0,!1),!0)}startShowingAtRange(e,t,i){this._startShowingAt(new OS(0,e),t,i)}_startShowingAt(e,t,i){if(!(this._computer.anchor&&this._computer.anchor.equals(e))){if(this._hoverOperation.cancel(),this._widget.position)if(!this._computer.anchor||!e.canAdoptVisibleHover(this._computer.anchor,this._widget.position))this.hide();else{let n=this._messages.filter(o=>o.isValidForHoverAnchor(e));if(n.length===0)this.hide();else{if(n.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(e,n)}}this._computer.anchor=e,this._computer.shouldFocus=i,this._hoverOperation.start(t)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return this._widget.isColorPickerVisible}_addLoadingMessage(e){if(this._computer.anchor){for(let t of this._participants)if(t.createLoadingMessage){let i=t.createLoadingMessage(this._computer.anchor);if(i)return e.slice(0).concat([i])}}return e}_withResult(e,t,i){this._messages=i?this._addLoadingMessage(e):e,this._messagesAreComplete=t,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):t&&this.hide()}_renderMessages(e,t){let i=1073741824,n=t[0].range,o=null;for(let h of t)i=Math.min(i,h.range.startColumn),n=D.plusRange(n,h.range),h.forceShowAtRange&&(o=h.range);let s=new J,a=s.add(new F7(this._keybindingService)),l=document.createDocumentFragment(),c=null,d={fragment:l,statusBar:a,setColorPicker:h=>c=h,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(let h of this._participants){let u=t.filter(f=>f.owner===h);u.length>0&&s.add(h.renderHoverParts(d,u))}if(a.hasContent&&l.appendChild(a.hoverElement),l.hasChildNodes()){if(n){let h=this._decorationsChangerListener.deltaDecorations([],[{range:n,options:lQ._DECORATION_OPTIONS}]);s.add(Ve(()=>{this._decorationsChangerListener.deltaDecorations(h,[])}))}this._widget.showAt(l,new dQ(c,o?o.getStartPosition():new V(e.range.startLineNumber,i),o||n,this._editor.getOption(53).above,this._computer.shouldFocus,s))}else s.dispose()}};BS._DECORATION_OPTIONS=ot.register({description:"content-hover-highlight",className:"hoverHighlight"});BS=B7([bT(1,ze),bT(2,Di)],BS);var cQ=class extends ${constructor(e){super();this._editor=e,this._onDidChangeModelDecorations=this._register(new B),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._isChangingDecorations=!1,this._register(this._editor.onDidChangeModelDecorations(t=>{this._isChangingDecorations||this._onDidChangeModelDecorations.fire(t)}))}deltaDecorations(e,t){try{return this._isChangingDecorations=!0,this._editor.deltaDecorations(e,t)}finally{this._isChangingDecorations=!1}}},dQ=class{constructor(e,t,i,n,o,s){this.colorPicker=e,this.showAtPosition=t,this.showAtRange=i,this.preferAbove=n,this.stoleFocus=o,this.disposables=s}},Ag=class hQ extends ${constructor(e,t){super();this._editor=e,this._contextKeyService=t,this.allowEditorOverflow=!0,this._hoverVisibleKey=F.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new LS),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(44)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var e,t;return(t=(e=this._visibleData)===null||e===void 0?void 0:e.showAtPosition)!==null&&t!==void 0?t:null}get isColorPickerVisible(){var e;return Boolean((e=this._visibleData)===null||e===void 0?void 0:e.colorPicker)}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return hQ.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let e=this._visibleData.preferAbove;return!e&&this._contextKeyService.getContextKeyValue(qt.Visible.key)&&(e=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:e?[1,2]:[2,1]}}_setVisibleData(e){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=e,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){let e=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:t,lineHeight:i}=this._editor.getOption(44);this._hover.contentsDomNode.style.fontSize=`${t}px`,this._hover.contentsDomNode.style.lineHeight=`${i/t}`,this._hover.contentsDomNode.style.maxHeight=`${e}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}showAt(e,t){this._setVisibleData(t),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this._editor.layoutContentWidget(this),this.onContentsChanged(),this._editor.render(),this._editor.layoutContentWidget(this),this.onContentsChanged(),t.stoleFocus&&this._hover.containerDomNode.focus(),t.colorPicker&&t.colorPicker.layout()}hide(){if(this._visibleData){let e=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),e&&this._editor.focus()}}onContentsChanged(){this._hover.onContentsChanged();let e=this._hover.scrollbar.getScrollDimensions();if(e.scrollWidth>e.width){let i=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==i&&(this._hover.contentsDomNode.style.paddingBottom=i,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};Ag.ID="editor.contrib.contentHoverWidget";Ag=B7([bT(1,Le)],Ag);var F7=class extends ${constructor(e){super();this._keybindingService=e,this._hasContent=!1,this.hoverElement=aQ("div.hover-row.status-bar"),this.actionsElement=ee(this.hoverElement,aQ("div.actions"))}get hasContent(){return this._hasContent}addAction(e){let t=this._keybindingService.lookupKeybinding(e.commandId),i=t?t.getLabel():null;return this._hasContent=!0,this._register(kS.render(this.actionsElement,e,i))}append(e){let t=ee(this.actionsElement,e);return this._hasContent=!0,t}};F7=B7([bT(0,Di)],F7);var jS=class{constructor(e,t){this._editor=e,this._participants=t,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(e){this._anchor=e}get shouldFocus(){return this._shouldFocus}set shouldFocus(e){this._shouldFocus=e}static _getLineDecorations(e,t){if(t.type!==1)return[];let i=e.getModel(),n=t.range.startLineNumber,o=i.getLineMaxColumn(n);return e.getLineDecorations(n).filter(s=>{if(s.options.isWholeLine)return!0;let a=s.range.startLineNumber===n?s.range.startColumn:1,l=s.range.endLineNumber===n?s.range.endColumn:o;if(s.options.showIfCollapsed){if(a>t.range.startColumn+1||t.range.endColumn-1>l)return!1}else if(a>t.range.startColumn||t.range.endColumn>l)return!1;return!0})}computeAsync(e){let t=this._anchor;if(!this._editor.hasModel()||!t)return dn.EMPTY;let i=jS._getLineDecorations(this._editor,t);return dn.merge(this._participants.map(n=>n.computeAsync?n.computeAsync(t,i,e):dn.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];let e=jS._getLineDecorations(this._editor,this._anchor),t=[];for(let i of this._participants)t=t.concat(i.computeSync(this._anchor,e));return Il(t)}};Be();jt();re();Be();function mbe(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}var pbe=Object.hasOwnProperty,uQ=Object.setPrototypeOf,_be=Object.isFrozen,bbe=Object.getPrototypeOf,vbe=Object.getOwnPropertyDescriptor,ca=Object.freeze,zu=Object.seal,wbe=Object.create,wQ=typeof Reflect<"u"&&Reflect,CT=wQ.apply,V7=wQ.construct;CT||(CT=function(e,t,i){return e.apply(t,i)});ca||(ca=function(e){return e});zu||(zu=function(e){return e});V7||(V7=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(mbe(t))))});var Cbe=Zc(Array.prototype.forEach),fQ=Zc(Array.prototype.pop),WS=Zc(Array.prototype.push),m_=Zc(String.prototype.toLowerCase),gQ=Zc(String.prototype.match),Rg=Zc(String.prototype.replace),ybe=Zc(String.prototype.indexOf),Sbe=Zc(String.prototype.trim),Uu=Zc(RegExp.prototype.test),mQ=Ebe(TypeError);function Zc(r){return function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return CT(r,e,i)}}function Ebe(r){return function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return V7(r,t)}}function ki(r,e){uQ&&uQ(r,null);for(var t=e.length;t--;){var i=e[t];if(typeof i=="string"){var n=m_(i);n!==i&&(_be(e)||(e[t]=n),i=n)}r[i]=!0}return r}function g_(r){var e=wbe(null),t=void 0;for(t in r)CT(pbe,r,[t])&&(e[t]=r[t]);return e}function vT(r,e){for(;r!==null;){var t=vbe(r,e);if(t){if(t.get)return Zc(t.get);if(typeof t.value=="function")return Zc(t.value)}r=bbe(r)}function i(n){return console.warn("fallback value for",n),null}return i}var pQ=ca(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),j7=ca(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),W7=ca(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),xbe=ca(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),U7=ca(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Dbe=ca(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),_Q=ca(["#text"]),bQ=ca(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),z7=ca(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),vQ=ca(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),wT=ca(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Lbe=zu(/\{\{[\s\S]*|[\s\S]*\}\}/gm),kbe=zu(/<%[\s\S]*|[\s\S]*%>/gm),Ibe=zu(/^data-[\-\w.\u00B7-\uFFFF]/),Obe=zu(/^aria-[\-\w]+$/),Tbe=zu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Nbe=zu(/^(?:\w+script|data):/i),Pbe=zu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),US=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};function mh(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}var Mbe=function(){return typeof window>"u"?null:window},Abe=function(e,t){if((typeof e>"u"?"undefined":US(e))!=="object"||typeof e.createPolicy!="function")return null;var i=null,n="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(n)&&(i=t.currentScript.getAttribute(n));var o="dompurify"+(i?"#"+i:"");try{return e.createPolicy(o,{createHTML:function(a){return a}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function CQ(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Mbe(),e=function(ce){return CQ(ce)};if(e.version="2.3.1",e.removed=[],!r||!r.document||r.document.nodeType!==9)return e.isSupported=!1,e;var t=r.document,i=r.document,n=r.DocumentFragment,o=r.HTMLTemplateElement,s=r.Node,a=r.Element,l=r.NodeFilter,c=r.NamedNodeMap,d=c===void 0?r.NamedNodeMap||r.MozNamedAttrMap:c,h=r.Text,u=r.Comment,f=r.DOMParser,m=r.trustedTypes,_=a.prototype,w=vT(_,"cloneNode"),y=vT(_,"nextSibling"),C=vT(_,"childNodes"),E=vT(_,"parentNode");if(typeof o=="function"){var L=i.createElement("template");L.content&&L.content.ownerDocument&&(i=L.content.ownerDocument)}var k=Abe(m,t),M=k&&id?k.createHTML(""):"",I=i,T=I.implementation,R=I.createNodeIterator,Z=I.createDocumentFragment,q=I.getElementsByTagName,te=t.importNode,ne={};try{ne=g_(i).documentMode?i.documentMode:{}}catch{}var Ne={};e.isSupported=typeof E=="function"&&T&&typeof T.createHTMLDocument<"u"&&ne!==9;var Oe=Lbe,je=kbe,Ze=Ibe,$e=Obe,gt=Nbe,Pe=Pbe,_i=Tbe,We=null,Ue=ki({},[].concat(mh(pQ),mh(j7),mh(W7),mh(U7),mh(_Q))),ei=null,hn=ki({},[].concat(mh(bQ),mh(z7),mh(vQ),mh(wT))),Un=null,Wo=null,So=!0,Yr=!0,Ra=!1,St=!1,yl=!1,ed=!1,td=!1,zn=!1,Zr=!1,Eh=!0,id=!1,Dt=!0,ae=!0,ie=!1,oe={},j=null,U=ki({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),G=null,K=ki({},["audio","video","img","source","image","track"]),ue=null,be=ki({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),it="http://www.w3.org/1998/Math/MathML",Ge="http://www.w3.org/2000/svg",Rt="http://www.w3.org/1999/xhtml",Mt=Rt,Ii=!1,ri=null,ct=i.createElement("form"),Pn=function(ce){ri&&ri===ce||((!ce||(typeof ce>"u"?"undefined":US(ce))!=="object")&&(ce={}),ce=g_(ce),We="ALLOWED_TAGS"in ce?ki({},ce.ALLOWED_TAGS):Ue,ei="ALLOWED_ATTR"in ce?ki({},ce.ALLOWED_ATTR):hn,ue="ADD_URI_SAFE_ATTR"in ce?ki(g_(be),ce.ADD_URI_SAFE_ATTR):be,G="ADD_DATA_URI_TAGS"in ce?ki(g_(K),ce.ADD_DATA_URI_TAGS):K,j="FORBID_CONTENTS"in ce?ki({},ce.FORBID_CONTENTS):U,Un="FORBID_TAGS"in ce?ki({},ce.FORBID_TAGS):{},Wo="FORBID_ATTR"in ce?ki({},ce.FORBID_ATTR):{},oe="USE_PROFILES"in ce?ce.USE_PROFILES:!1,So=ce.ALLOW_ARIA_ATTR!==!1,Yr=ce.ALLOW_DATA_ATTR!==!1,Ra=ce.ALLOW_UNKNOWN_PROTOCOLS||!1,St=ce.SAFE_FOR_TEMPLATES||!1,yl=ce.WHOLE_DOCUMENT||!1,zn=ce.RETURN_DOM||!1,Zr=ce.RETURN_DOM_FRAGMENT||!1,Eh=ce.RETURN_DOM_IMPORT!==!1,id=ce.RETURN_TRUSTED_TYPE||!1,td=ce.FORCE_BODY||!1,Dt=ce.SANITIZE_DOM!==!1,ae=ce.KEEP_CONTENT!==!1,ie=ce.IN_PLACE||!1,_i=ce.ALLOWED_URI_REGEXP||_i,Mt=ce.NAMESPACE||Rt,St&&(Yr=!1),Zr&&(zn=!0),oe&&(We=ki({},[].concat(mh(_Q))),ei=[],oe.html===!0&&(ki(We,pQ),ki(ei,bQ)),oe.svg===!0&&(ki(We,j7),ki(ei,z7),ki(ei,wT)),oe.svgFilters===!0&&(ki(We,W7),ki(ei,z7),ki(ei,wT)),oe.mathMl===!0&&(ki(We,U7),ki(ei,vQ),ki(ei,wT))),ce.ADD_TAGS&&(We===Ue&&(We=g_(We)),ki(We,ce.ADD_TAGS)),ce.ADD_ATTR&&(ei===hn&&(ei=g_(ei)),ki(ei,ce.ADD_ATTR)),ce.ADD_URI_SAFE_ATTR&&ki(ue,ce.ADD_URI_SAFE_ATTR),ce.FORBID_CONTENTS&&(j===U&&(j=g_(j)),ki(j,ce.FORBID_CONTENTS)),ae&&(We["#text"]=!0),yl&&ki(We,["html","head","body"]),We.table&&(ki(We,["tbody"]),delete Un.tbody),ca&&ca(ce),ri=ce)},Ln=ki({},["mi","mo","mn","ms","mtext"]),Ps=ki({},["foreignobject","desc","title","annotation-xml"]),vn=ki({},j7);ki(vn,W7),ki(vn,xbe);var lo=ki({},U7);ki(lo,Dbe);var xh=function(ce){var Ke=E(ce);(!Ke||!Ke.tagName)&&(Ke={namespaceURI:Rt,tagName:"template"});var N=m_(ce.tagName),ci=m_(Ke.tagName);if(ce.namespaceURI===Ge)return Ke.namespaceURI===Rt?N==="svg":Ke.namespaceURI===it?N==="svg"&&(ci==="annotation-xml"||Ln[ci]):Boolean(vn[N]);if(ce.namespaceURI===it)return Ke.namespaceURI===Rt?N==="math":Ke.namespaceURI===Ge?N==="math"&&Ps[ci]:Boolean(lo[N]);if(ce.namespaceURI===Rt){if(Ke.namespaceURI===Ge&&!Ps[ci]||Ke.namespaceURI===it&&!Ln[ci])return!1;var cr=ki({},["title","style","font","a","script"]);return!lo[N]&&(cr[N]||!vn[N])}return!1},ps=function(ce){WS(e.removed,{element:ce});try{ce.parentNode.removeChild(ce)}catch{try{ce.outerHTML=M}catch{ce.remove()}}},Fa=function(ce,Ke){try{WS(e.removed,{attribute:Ke.getAttributeNode(ce),from:Ke})}catch{WS(e.removed,{attribute:null,from:Ke})}if(Ke.removeAttribute(ce),ce==="is"&&!ei[ce])if(zn||Zr)try{ps(Ke)}catch{}else try{Ke.setAttribute(ce,"")}catch{}},nd=function(ce){var Ke=void 0,N=void 0;if(td)ce="<remove></remove>"+ce;else{var ci=gQ(ce,/^[\r\n\t ]+/);N=ci&&ci[0]}var cr=k?k.createHTML(ce):ce;if(Mt===Rt)try{Ke=new f().parseFromString(cr,"text/html")}catch{}if(!Ke||!Ke.documentElement){Ke=T.createDocument(Mt,"template",null);try{Ke.documentElement.innerHTML=Ii?"":cr}catch{}}var kr=Ke.body||Ke.documentElement;return ce&&N&&kr.insertBefore(i.createTextNode(N),kr.childNodes[0]||null),Mt===Rt?q.call(Ke,yl?"html":"body")[0]:yl?Ke.documentElement:kr},Dr=function(ce){return R.call(ce.ownerDocument||ce,ce,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},ua=function(ce){return ce instanceof h||ce instanceof u?!1:typeof ce.nodeName!="string"||typeof ce.textContent!="string"||typeof ce.removeChild!="function"||!(ce.attributes instanceof d)||typeof ce.removeAttribute!="function"||typeof ce.setAttribute!="function"||typeof ce.namespaceURI!="string"||typeof ce.insertBefore!="function"},fa=function(ce){return(typeof s>"u"?"undefined":US(s))==="object"?ce instanceof s:ce&&(typeof ce>"u"?"undefined":US(ce))==="object"&&typeof ce.nodeType=="number"&&typeof ce.nodeName=="string"},Lr=function(ce,Ke,N){!Ne[ce]||Cbe(Ne[ce],function(ci){ci.call(e,Ke,N,ri)})},rf=function(ce){var Ke=void 0;if(Lr("beforeSanitizeElements",ce,null),ua(ce)||gQ(ce.nodeName,/[\u0080-\uFFFF]/))return ps(ce),!0;var N=m_(ce.nodeName);if(Lr("uponSanitizeElement",ce,{tagName:N,allowedTags:We}),!fa(ce.firstElementChild)&&(!fa(ce.content)||!fa(ce.content.firstElementChild))&&Uu(/<[/\w]/g,ce.innerHTML)&&Uu(/<[/\w]/g,ce.textContent)||N==="select"&&Uu(/<template/i,ce.innerHTML))return ps(ce),!0;if(!We[N]||Un[N]){if(ae&&!j[N]){var ci=E(ce)||ce.parentNode,cr=C(ce)||ce.childNodes;if(cr&&ci)for(var kr=cr.length,Ir=kr-1;Ir>=0;--Ir)ci.insertBefore(w(cr[Ir],!0),y(ce))}return ps(ce),!0}return ce instanceof a&&!xh(ce)||(N==="noscript"||N==="noembed")&&Uu(/<\/no(script|embed)/i,ce.innerHTML)?(ps(ce),!0):(St&&ce.nodeType===3&&(Ke=ce.textContent,Ke=Rg(Ke,Oe," "),Ke=Rg(Ke,je," "),ce.textContent!==Ke&&(WS(e.removed,{element:ce.cloneNode()}),ce.textContent=Ke)),Lr("afterSanitizeElements",ce,null),!1)},sf=function(ce,Ke,N){if(Dt&&(Ke==="id"||Ke==="name")&&(N in i||N in ct))return!1;if(!(Yr&&!Wo[Ke]&&Uu(Ze,Ke))){if(!(So&&Uu($e,Ke))){if(!ei[Ke]||Wo[Ke])return!1;if(!ue[Ke]){if(!Uu(_i,Rg(N,Pe,""))){if(!((Ke==="src"||Ke==="xlink:href"||Ke==="href")&&ce!=="script"&&ybe(N,"data:")===0&&G[ce])){if(!(Ra&&!Uu(gt,Rg(N,Pe,"")))){if(N)return!1}}}}}}return!0},Yg=function(ce){var Ke=void 0,N=void 0,ci=void 0,cr=void 0;Lr("beforeSanitizeAttributes",ce,null);var kr=ce.attributes;if(!!kr){var Ir={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ei};for(cr=kr.length;cr--;){Ke=kr[cr];var Eo=Ke,Sl=Eo.name,Zg=Eo.namespaceURI;if(N=Sbe(Ke.value),ci=m_(Sl),Ir.attrName=ci,Ir.attrValue=N,Ir.keepAttr=!0,Ir.forceKeepAttr=void 0,Lr("uponSanitizeAttribute",ce,Ir),N=Ir.attrValue,!Ir.forceKeepAttr&&(Fa(Sl,ce),!!Ir.keepAttr)){if(Uu(/\/>/i,N)){Fa(Sl,ce);continue}St&&(N=Rg(N,Oe," "),N=Rg(N,je," "));var MN=ce.nodeName.toLowerCase();if(!!sf(MN,ci,N))try{Zg?ce.setAttributeNS(Zg,Sl,N):ce.setAttribute(Sl,N),fQ(e.removed)}catch{}}}Lr("afterSanitizeAttributes",ce,null)}},v=function Bt(ce){var Ke=void 0,N=Dr(ce);for(Lr("beforeSanitizeShadowDOM",ce,null);Ke=N.nextNode();)Lr("uponSanitizeShadowNode",Ke,null),!rf(Ke)&&(Ke.content instanceof n&&Bt(Ke.content),Yg(Ke));Lr("afterSanitizeShadowDOM",ce,null)};return e.sanitize=function(Bt,ce){var Ke=void 0,N=void 0,ci=void 0,cr=void 0,kr=void 0;if(Ii=!Bt,Ii&&(Bt="<!-->"),typeof Bt!="string"&&!fa(Bt)){if(typeof Bt.toString!="function")throw mQ("toString is not a function");if(Bt=Bt.toString(),typeof Bt!="string")throw mQ("dirty is not a string, aborting")}if(!e.isSupported){if(US(r.toStaticHTML)==="object"||typeof r.toStaticHTML=="function"){if(typeof Bt=="string")return r.toStaticHTML(Bt);if(fa(Bt))return r.toStaticHTML(Bt.outerHTML)}return Bt}if(ed||Pn(ce),e.removed=[],typeof Bt=="string"&&(ie=!1),!ie)if(Bt instanceof s)Ke=nd("<!---->"),N=Ke.ownerDocument.importNode(Bt,!0),N.nodeType===1&&N.nodeName==="BODY"||N.nodeName==="HTML"?Ke=N:Ke.appendChild(N);else{if(!zn&&!St&&!yl&&Bt.indexOf("<")===-1)return k&&id?k.createHTML(Bt):Bt;if(Ke=nd(Bt),!Ke)return zn?null:M}Ke&&td&&ps(Ke.firstChild);for(var Ir=Dr(ie?Bt:Ke);ci=Ir.nextNode();)ci.nodeType===3&&ci===cr||rf(ci)||(ci.content instanceof n&&v(ci.content),Yg(ci),cr=ci);if(cr=null,ie)return Bt;if(zn){if(Zr)for(kr=Z.call(Ke.ownerDocument);Ke.firstChild;)kr.appendChild(Ke.firstChild);else kr=Ke;return Eh&&(kr=te.call(t,kr,!0)),kr}var Eo=yl?Ke.outerHTML:Ke.innerHTML;return St&&(Eo=Rg(Eo,Oe," "),Eo=Rg(Eo,je," ")),k&&id?k.createHTML(Eo):Eo},e.setConfig=function(Bt){Pn(Bt),ed=!0},e.clearConfig=function(){ri=null,ed=!1},e.isValidAttribute=function(Bt,ce,Ke){ri||Pn({});var N=m_(Bt),ci=m_(ce);return sf(N,ci,Ke)},e.addHook=function(Bt,ce){typeof ce=="function"&&(Ne[Bt]=Ne[Bt]||[],WS(Ne[Bt],ce))},e.removeHook=function(Bt){Ne[Bt]&&fQ(Ne[Bt])},e.removeHooks=function(Bt){Ne[Bt]&&(Ne[Bt]=[])},e.removeAllHooks=function(){Ne={}},e}var ph=CQ();var eCt=ph.version,tCt=ph.isSupported,yQ=ph.sanitize,iCt=ph.setConfig,nCt=ph.clearConfig,oCt=ph.isValidAttribute,H7=ph.addHook,$7=ph.removeHook,rCt=ph.removeHooks,sCt=ph.removeAllHooks;il();nt();Ei();ut();Ee();re();var SQ={};(function(){function r(e,t){t(SQ)}r.amd=!0,function(e,t){typeof exports=="object"&&typeof module<"u"?t(exports):typeof r=="function"&&r.amd?r(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.marked={}))}(this,function(e){"use strict";function t(ae,ie){for(var oe=0;oe<ie.length;oe++){var j=ie[oe];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(ae,j.key,j)}}function i(ae,ie,oe){return ie&&t(ae.prototype,ie),oe&&t(ae,oe),Object.defineProperty(ae,"prototype",{writable:!1}),ae}function n(ae,ie){if(!!ae){if(typeof ae=="string")return o(ae,ie);var oe=Object.prototype.toString.call(ae).slice(8,-1);if(oe==="Object"&&ae.constructor&&(oe=ae.constructor.name),oe==="Map"||oe==="Set")return Array.from(ae);if(oe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(oe))return o(ae,ie)}}function o(ae,ie){(ie==null||ie>ae.length)&&(ie=ae.length);for(var oe=0,j=new Array(ie);oe<ie;oe++)j[oe]=ae[oe];return j}function s(ae,ie){var oe=typeof Symbol<"u"&&ae[Symbol.iterator]||ae["@@iterator"];if(oe)return(oe=oe.call(ae)).next.bind(oe);if(Array.isArray(ae)||(oe=n(ae))||ie&&ae&&typeof ae.length=="number"){oe&&(ae=oe);var j=0;return function(){return j>=ae.length?{done:!0}:{done:!1,value:ae[j++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.defaults=a();function l(ae){e.defaults=ae}var c=/[&<>"']/,d=/[&<>"']/g,h=/[<>"']|&(?!#?\w+;)/,u=/[<>"']|&(?!#?\w+;)/g,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},m=function(ie){return f[ie]};function _(ae,ie){if(ie){if(c.test(ae))return ae.replace(d,m)}else if(h.test(ae))return ae.replace(u,m);return ae}var w=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function y(ae){return ae.replace(w,function(ie,oe){return oe=oe.toLowerCase(),oe==="colon"?":":oe.charAt(0)==="#"?oe.charAt(1)==="x"?String.fromCharCode(parseInt(oe.substring(2),16)):String.fromCharCode(+oe.substring(1)):""})}var C=/(^|[^\[])\^/g;function E(ae,ie){ae=ae.source||ae,ie=ie||"";var oe={replace:function(U,G){return G=G.source||G,G=G.replace(C,"$1"),ae=ae.replace(U,G),oe},getRegex:function(){return new RegExp(ae,ie)}};return oe}var L=/[^\w:]/g,k=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function M(ae,ie,oe){if(ae){var j;try{j=decodeURIComponent(y(oe)).replace(L,"").toLowerCase()}catch{return null}if(j.indexOf("javascript:")===0||j.indexOf("vbscript:")===0||j.indexOf("data:")===0)return null}ie&&!k.test(oe)&&(oe=q(ie,oe));try{oe=encodeURI(oe).replace(/%25/g,"%")}catch{return null}return oe}var I={},T=/^[^:]+:\/*[^/]*$/,R=/^([^:]+:)[\s\S]*$/,Z=/^([^:]+:\/*[^/]*)[\s\S]*$/;function q(ae,ie){I[" "+ae]||(T.test(ae)?I[" "+ae]=ae+"/":I[" "+ae]=Oe(ae,"/",!0)),ae=I[" "+ae];var oe=ae.indexOf(":")===-1;return ie.substring(0,2)==="//"?oe?ie:ae.replace(R,"$1")+ie:ie.charAt(0)==="/"?oe?ie:ae.replace(Z,"$1")+ie:ae+ie}var te={exec:function(){}};function ne(ae){for(var ie=1,oe,j;ie<arguments.length;ie++){oe=arguments[ie];for(j in oe)Object.prototype.hasOwnProperty.call(oe,j)&&(ae[j]=oe[j])}return ae}function Ne(ae,ie){var oe=ae.replace(/\|/g,function(G,K,ue){for(var be=!1,it=K;--it>=0&&ue[it]==="\\";)be=!be;return be?"|":" |"}),j=oe.split(/ \|/),U=0;if(j[0].trim()||j.shift(),j[j.length-1].trim()||j.pop(),j.length>ie)j.splice(ie);else for(;j.length<ie;)j.push("");for(;U<j.length;U++)j[U]=j[U].trim().replace(/\\\|/g,"|");return j}function Oe(ae,ie,oe){var j=ae.length;if(j===0)return"";for(var U=0;U<j;){var G=ae.charAt(j-U-1);if(G===ie&&!oe)U++;else if(G!==ie&&oe)U++;else break}return ae.substr(0,j-U)}function je(ae,ie){if(ae.indexOf(ie[1])===-1)return-1;for(var oe=ae.length,j=0,U=0;U<oe;U++)if(ae[U]==="\\")U++;else if(ae[U]===ie[0])j++;else if(ae[U]===ie[1]&&(j--,j<0))return U;return-1}function Ze(ae){ae&&ae.sanitize&&!ae.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function $e(ae,ie){if(ie<1)return"";for(var oe="";ie>1;)ie&1&&(oe+=ae),ie>>=1,ae+=ae;return oe+ae}function gt(ae,ie,oe,j){var U=ie.href,G=ie.title?_(ie.title):null,K=ae[1].replace(/\\([\[\]])/g,"$1");if(ae[0].charAt(0)!=="!"){j.state.inLink=!0;var ue={type:"link",raw:oe,href:U,title:G,text:K,tokens:j.inlineTokens(K,[])};return j.state.inLink=!1,ue}else return{type:"image",raw:oe,href:U,title:G,text:_(K)}}function Pe(ae,ie){var oe=ae.match(/^(\s+)(?:```)/);if(oe===null)return ie;var j=oe[1];return ie.split(`
`).map(function(U){var G=U.match(/^\s+/);if(G===null)return U;var K=G[0];return K.length>=j.length?U.slice(j.length):U}).join(`
`)}var _i=function(){function ae(oe){this.options=oe||e.defaults}var ie=ae.prototype;return ie.space=function(j){var U=this.rules.block.newline.exec(j);if(U&&U[0].length>0)return{type:"space",raw:U[0]}},ie.code=function(j){var U=this.rules.block.code.exec(j);if(U){var G=U[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:U[0],codeBlockStyle:"indented",text:this.options.pedantic?G:Oe(G,`
`)}}},ie.fences=function(j){var U=this.rules.block.fences.exec(j);if(U){var G=U[0],K=Pe(G,U[3]||"");return{type:"code",raw:G,lang:U[2]?U[2].trim():U[2],text:K}}},ie.heading=function(j){var U=this.rules.block.heading.exec(j);if(U){var G=U[2].trim();if(/#$/.test(G)){var K=Oe(G,"#");(this.options.pedantic||!K||/ $/.test(K))&&(G=K.trim())}var ue={type:"heading",raw:U[0],depth:U[1].length,text:G,tokens:[]};return this.lexer.inline(ue.text,ue.tokens),ue}},ie.hr=function(j){var U=this.rules.block.hr.exec(j);if(U)return{type:"hr",raw:U[0]}},ie.blockquote=function(j){var U=this.rules.block.blockquote.exec(j);if(U){var G=U[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:U[0],tokens:this.lexer.blockTokens(G,[]),text:G}}},ie.list=function(j){var U=this.rules.block.list.exec(j);if(U){var G,K,ue,be,it,Ge,Rt,Mt,Ii,ri,ct,Pn,Ln=U[1].trim(),Ps=Ln.length>1,vn={type:"list",raw:"",ordered:Ps,start:Ps?+Ln.slice(0,-1):"",loose:!1,items:[]};Ln=Ps?"\\d{1,9}\\"+Ln.slice(-1):"\\"+Ln,this.options.pedantic&&(Ln=Ps?Ln:"[*+-]");for(var lo=new RegExp("^( {0,3}"+Ln+")((?: [^\\n]*)?(?:\\n|$))");j&&(Pn=!1,!(!(U=lo.exec(j))||this.rules.block.hr.test(j)));){if(G=U[0],j=j.substring(G.length),Mt=U[2].split(`
`,1)[0],Ii=j.split(`
`,1)[0],this.options.pedantic?(be=2,ct=Mt.trimLeft()):(be=U[2].search(/[^ ]/),be=be>4?1:be,ct=Mt.slice(be),be+=U[1].length),Ge=!1,!Mt&&/^ *$/.test(Ii)&&(G+=Ii+`
`,j=j.substring(Ii.length+1),Pn=!0),!Pn)for(var xh=new RegExp("^ {0,"+Math.min(3,be-1)+"}(?:[*+-]|\\d{1,9}[.)])");j&&(ri=j.split(`
`,1)[0],Mt=ri,this.options.pedantic&&(Mt=Mt.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!xh.test(Mt));){if(Mt.search(/[^ ]/)>=be||!Mt.trim())ct+=`
`+Mt.slice(be);else if(!Ge)ct+=`
`+Mt;else break;!Ge&&!Mt.trim()&&(Ge=!0),G+=ri+`
`,j=j.substring(ri.length+1)}vn.loose||(Rt?vn.loose=!0:/\n *\n *$/.test(G)&&(Rt=!0)),this.options.gfm&&(K=/^\[[ xX]\] /.exec(ct),K&&(ue=K[0]!=="[ ] ",ct=ct.replace(/^\[[ xX]\] +/,""))),vn.items.push({type:"list_item",raw:G,task:!!K,checked:ue,loose:!1,text:ct}),vn.raw+=G}vn.items[vn.items.length-1].raw=G.trimRight(),vn.items[vn.items.length-1].text=ct.trimRight(),vn.raw=vn.raw.trimRight();var ps=vn.items.length;for(it=0;it<ps;it++){this.lexer.state.top=!1,vn.items[it].tokens=this.lexer.blockTokens(vn.items[it].text,[]);var Fa=vn.items[it].tokens.filter(function(Dr){return Dr.type==="space"}),nd=Fa.every(function(Dr){for(var ua=Dr.raw.split(""),fa=0,Lr=s(ua),rf;!(rf=Lr()).done;){var sf=rf.value;if(sf===`
`&&(fa+=1),fa>1)return!0}return!1});!vn.loose&&Fa.length&&nd&&(vn.loose=!0,vn.items[it].loose=!0)}return vn}},ie.html=function(j){var U=this.rules.block.html.exec(j);if(U){var G={type:"html",raw:U[0],pre:!this.options.sanitizer&&(U[1]==="pre"||U[1]==="script"||U[1]==="style"),text:U[0]};return this.options.sanitize&&(G.type="paragraph",G.text=this.options.sanitizer?this.options.sanitizer(U[0]):_(U[0]),G.tokens=[],this.lexer.inline(G.text,G.tokens)),G}},ie.def=function(j){var U=this.rules.block.def.exec(j);if(U){U[3]&&(U[3]=U[3].substring(1,U[3].length-1));var G=U[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:G,raw:U[0],href:U[2],title:U[3]}}},ie.table=function(j){var U=this.rules.block.table.exec(j);if(U){var G={type:"table",header:Ne(U[1]).map(function(Rt){return{text:Rt}}),align:U[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:U[3]?U[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(G.header.length===G.align.length){G.raw=U[0];var K=G.align.length,ue,be,it,Ge;for(ue=0;ue<K;ue++)/^ *-+: *$/.test(G.align[ue])?G.align[ue]="right":/^ *:-+: *$/.test(G.align[ue])?G.align[ue]="center":/^ *:-+ *$/.test(G.align[ue])?G.align[ue]="left":G.align[ue]=null;for(K=G.rows.length,ue=0;ue<K;ue++)G.rows[ue]=Ne(G.rows[ue],G.header.length).map(function(Rt){return{text:Rt}});for(K=G.header.length,be=0;be<K;be++)G.header[be].tokens=[],this.lexer.inlineTokens(G.header[be].text,G.header[be].tokens);for(K=G.rows.length,be=0;be<K;be++)for(Ge=G.rows[be],it=0;it<Ge.length;it++)Ge[it].tokens=[],this.lexer.inlineTokens(Ge[it].text,Ge[it].tokens);return G}}},ie.lheading=function(j){var U=this.rules.block.lheading.exec(j);if(U){var G={type:"heading",raw:U[0],depth:U[2].charAt(0)==="="?1:2,text:U[1],tokens:[]};return this.lexer.inline(G.text,G.tokens),G}},ie.paragraph=function(j){var U=this.rules.block.paragraph.exec(j);if(U){var G={type:"paragraph",raw:U[0],text:U[1].charAt(U[1].length-1)===`
`?U[1].slice(0,-1):U[1],tokens:[]};return this.lexer.inline(G.text,G.tokens),G}},ie.text=function(j){var U=this.rules.block.text.exec(j);if(U){var G={type:"text",raw:U[0],text:U[0],tokens:[]};return this.lexer.inline(G.text,G.tokens),G}},ie.escape=function(j){var U=this.rules.inline.escape.exec(j);if(U)return{type:"escape",raw:U[0],text:_(U[1])}},ie.tag=function(j){var U=this.rules.inline.tag.exec(j);if(U)return!this.lexer.state.inLink&&/^<a /i.test(U[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(U[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(U[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(U[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:U[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(U[0]):_(U[0]):U[0]}},ie.link=function(j){var U=this.rules.inline.link.exec(j);if(U){var G=U[2].trim();if(!this.options.pedantic&&/^</.test(G)){if(!/>$/.test(G))return;var K=Oe(G.slice(0,-1),"\\");if((G.length-K.length)%2===0)return}else{var ue=je(U[2],"()");if(ue>-1){var be=U[0].indexOf("!")===0?5:4,it=be+U[1].length+ue;U[2]=U[2].substring(0,ue),U[0]=U[0].substring(0,it).trim(),U[3]=""}}var Ge=U[2],Rt="";if(this.options.pedantic){var Mt=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Ge);Mt&&(Ge=Mt[1],Rt=Mt[3])}else Rt=U[3]?U[3].slice(1,-1):"";return Ge=Ge.trim(),/^</.test(Ge)&&(this.options.pedantic&&!/>$/.test(G)?Ge=Ge.slice(1):Ge=Ge.slice(1,-1)),gt(U,{href:Ge&&Ge.replace(this.rules.inline._escapes,"$1"),title:Rt&&Rt.replace(this.rules.inline._escapes,"$1")},U[0],this.lexer)}},ie.reflink=function(j,U){var G;if((G=this.rules.inline.reflink.exec(j))||(G=this.rules.inline.nolink.exec(j))){var K=(G[2]||G[1]).replace(/\s+/g," ");if(K=U[K.toLowerCase()],!K||!K.href){var ue=G[0].charAt(0);return{type:"text",raw:ue,text:ue}}return gt(G,K,G[0],this.lexer)}},ie.emStrong=function(j,U,G){G===void 0&&(G="");var K=this.rules.inline.emStrong.lDelim.exec(j);if(!!K&&!(K[3]&&G.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var ue=K[1]||K[2]||"";if(!ue||ue&&(G===""||this.rules.inline.punctuation.exec(G))){var be=K[0].length-1,it,Ge,Rt=be,Mt=0,Ii=K[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Ii.lastIndex=0,U=U.slice(-1*j.length+be);(K=Ii.exec(U))!=null;)if(it=K[1]||K[2]||K[3]||K[4]||K[5]||K[6],!!it){if(Ge=it.length,K[3]||K[4]){Rt+=Ge;continue}else if((K[5]||K[6])&&be%3&&!((be+Ge)%3)){Mt+=Ge;continue}if(Rt-=Ge,!(Rt>0)){if(Ge=Math.min(Ge,Ge+Rt+Mt),Math.min(be,Ge)%2){var ri=j.slice(1,be+K.index+Ge);return{type:"em",raw:j.slice(0,be+K.index+Ge+1),text:ri,tokens:this.lexer.inlineTokens(ri,[])}}var ct=j.slice(2,be+K.index+Ge-1);return{type:"strong",raw:j.slice(0,be+K.index+Ge+1),text:ct,tokens:this.lexer.inlineTokens(ct,[])}}}}}},ie.codespan=function(j){var U=this.rules.inline.code.exec(j);if(U){var G=U[2].replace(/\n/g," "),K=/[^ ]/.test(G),ue=/^ /.test(G)&&/ $/.test(G);return K&&ue&&(G=G.substring(1,G.length-1)),G=_(G,!0),{type:"codespan",raw:U[0],text:G}}},ie.br=function(j){var U=this.rules.inline.br.exec(j);if(U)return{type:"br",raw:U[0]}},ie.del=function(j){var U=this.rules.inline.del.exec(j);if(U)return{type:"del",raw:U[0],text:U[2],tokens:this.lexer.inlineTokens(U[2],[])}},ie.autolink=function(j,U){var G=this.rules.inline.autolink.exec(j);if(G){var K,ue;return G[2]==="@"?(K=_(this.options.mangle?U(G[1]):G[1]),ue="mailto:"+K):(K=_(G[1]),ue=K),{type:"link",raw:G[0],text:K,href:ue,tokens:[{type:"text",raw:K,text:K}]}}},ie.url=function(j,U){var G;if(G=this.rules.inline.url.exec(j)){var K,ue;if(G[2]==="@")K=_(this.options.mangle?U(G[0]):G[0]),ue="mailto:"+K;else{var be;do be=G[0],G[0]=this.rules.inline._backpedal.exec(G[0])[0];while(be!==G[0]);K=_(G[0]),G[1]==="www."?ue="http://"+K:ue=K}return{type:"link",raw:G[0],text:K,href:ue,tokens:[{type:"text",raw:K,text:K}]}}},ie.inlineText=function(j,U){var G=this.rules.inline.text.exec(j);if(G){var K;return this.lexer.state.inRawBlock?K=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(G[0]):_(G[0]):G[0]:K=_(this.options.smartypants?U(G[0]):G[0]),{type:"text",raw:G[0],text:K}}},ae}(),We={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:te,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};We._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,We._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,We.def=E(We.def).replace("label",We._label).replace("title",We._title).getRegex(),We.bullet=/(?:[*+-]|\d{1,9}[.)])/,We.listItemStart=E(/^( *)(bull) */).replace("bull",We.bullet).getRegex(),We.list=E(We.list).replace(/bull/g,We.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+We.def.source+")").getRegex(),We._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",We._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,We.html=E(We.html,"i").replace("comment",We._comment).replace("tag",We._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),We.paragraph=E(We._paragraph).replace("hr",We.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",We._tag).getRegex(),We.blockquote=E(We.blockquote).replace("paragraph",We.paragraph).getRegex(),We.normal=ne({},We),We.gfm=ne({},We.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),We.gfm.table=E(We.gfm.table).replace("hr",We.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",We._tag).getRegex(),We.gfm.paragraph=E(We._paragraph).replace("hr",We.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",We.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",We._tag).getRegex(),We.pedantic=ne({},We.normal,{html:E(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",We._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:te,paragraph:E(We.normal._paragraph).replace("hr",We.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",We.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Ue={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:te,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:te,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Ue._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Ue.punctuation=E(Ue.punctuation).replace(/punctuation/g,Ue._punctuation).getRegex(),Ue.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Ue.escapedEmSt=/\\\*|\\_/g,Ue._comment=E(We._comment).replace("(?:-->|$)","-->").getRegex(),Ue.emStrong.lDelim=E(Ue.emStrong.lDelim).replace(/punct/g,Ue._punctuation).getRegex(),Ue.emStrong.rDelimAst=E(Ue.emStrong.rDelimAst,"g").replace(/punct/g,Ue._punctuation).getRegex(),Ue.emStrong.rDelimUnd=E(Ue.emStrong.rDelimUnd,"g").replace(/punct/g,Ue._punctuation).getRegex(),Ue._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Ue._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Ue._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Ue.autolink=E(Ue.autolink).replace("scheme",Ue._scheme).replace("email",Ue._email).getRegex(),Ue._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Ue.tag=E(Ue.tag).replace("comment",Ue._comment).replace("attribute",Ue._attribute).getRegex(),Ue._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ue._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Ue._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Ue.link=E(Ue.link).replace("label",Ue._label).replace("href",Ue._href).replace("title",Ue._title).getRegex(),Ue.reflink=E(Ue.reflink).replace("label",Ue._label).replace("ref",We._label).getRegex(),Ue.nolink=E(Ue.nolink).replace("ref",We._label).getRegex(),Ue.reflinkSearch=E(Ue.reflinkSearch,"g").replace("reflink",Ue.reflink).replace("nolink",Ue.nolink).getRegex(),Ue.normal=ne({},Ue),Ue.pedantic=ne({},Ue.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:E(/^!?\[(label)\]\((.*?)\)/).replace("label",Ue._label).getRegex(),reflink:E(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ue._label).getRegex()}),Ue.gfm=ne({},Ue.normal,{escape:E(Ue.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Ue.gfm.url=E(Ue.gfm.url,"i").replace("email",Ue.gfm._extended_email).getRegex(),Ue.breaks=ne({},Ue.gfm,{br:E(Ue.br).replace("{2,}","*").getRegex(),text:E(Ue.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function ei(ae){return ae.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function hn(ae){var ie="",oe,j,U=ae.length;for(oe=0;oe<U;oe++)j=ae.charCodeAt(oe),Math.random()>.5&&(j="x"+j.toString(16)),ie+="&#"+j+";";return ie}var Un=function(){function ae(oe){this.tokens=[],this.tokens.links=Object.create(null),this.options=oe||e.defaults,this.options.tokenizer=this.options.tokenizer||new _i,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var j={block:We.normal,inline:Ue.normal};this.options.pedantic?(j.block=We.pedantic,j.inline=Ue.pedantic):this.options.gfm&&(j.block=We.gfm,this.options.breaks?j.inline=Ue.breaks:j.inline=Ue.gfm),this.tokenizer.rules=j}ae.lex=function(j,U){var G=new ae(U);return G.lex(j)},ae.lexInline=function(j,U){var G=new ae(U);return G.inlineTokens(j)};var ie=ae.prototype;return ie.lex=function(j){j=j.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(j,this.tokens);for(var U;U=this.inlineQueue.shift();)this.inlineTokens(U.src,U.tokens);return this.tokens},ie.blockTokens=function(j,U){var G=this;U===void 0&&(U=[]),this.options.pedantic&&(j=j.replace(/^ +$/gm,""));for(var K,ue,be,it;j;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Rt){return(K=Rt.call({lexer:G},j,U))?(j=j.substring(K.raw.length),U.push(K),!0):!1}))){if(K=this.tokenizer.space(j)){j=j.substring(K.raw.length),K.raw.length===1&&U.length>0?U[U.length-1].raw+=`
`:U.push(K);continue}if(K=this.tokenizer.code(j)){j=j.substring(K.raw.length),ue=U[U.length-1],ue&&(ue.type==="paragraph"||ue.type==="text")?(ue.raw+=`
`+K.raw,ue.text+=`
`+K.text,this.inlineQueue[this.inlineQueue.length-1].src=ue.text):U.push(K);continue}if(K=this.tokenizer.fences(j)){j=j.substring(K.raw.length),U.push(K);continue}if(K=this.tokenizer.heading(j)){j=j.substring(K.raw.length),U.push(K);continue}if(K=this.tokenizer.hr(j)){j=j.substring(K.raw.length),U.push(K);continue}if(K=this.tokenizer.blockquote(j)){j=j.substring(K.raw.length),U.push(K);continue}if(K=this.tokenizer.list(j)){j=j.substring(K.raw.length),U.push(K);continue}if(K=this.tokenizer.html(j)){j=j.substring(K.raw.length),U.push(K);continue}if(K=this.tokenizer.def(j)){j=j.substring(K.raw.length),ue=U[U.length-1],ue&&(ue.type==="paragraph"||ue.type==="text")?(ue.raw+=`
`+K.raw,ue.text+=`
`+K.raw,this.inlineQueue[this.inlineQueue.length-1].src=ue.text):this.tokens.links[K.tag]||(this.tokens.links[K.tag]={href:K.href,title:K.title});continue}if(K=this.tokenizer.table(j)){j=j.substring(K.raw.length),U.push(K);continue}if(K=this.tokenizer.lheading(j)){j=j.substring(K.raw.length),U.push(K);continue}if(be=j,this.options.extensions&&this.options.extensions.startBlock&&function(){var Rt=1/0,Mt=j.slice(1),Ii=void 0;G.options.extensions.startBlock.forEach(function(ri){Ii=ri.call({lexer:this},Mt),typeof Ii=="number"&&Ii>=0&&(Rt=Math.min(Rt,Ii))}),Rt<1/0&&Rt>=0&&(be=j.substring(0,Rt+1))}(),this.state.top&&(K=this.tokenizer.paragraph(be))){ue=U[U.length-1],it&&ue.type==="paragraph"?(ue.raw+=`
`+K.raw,ue.text+=`
`+K.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ue.text):U.push(K),it=be.length!==j.length,j=j.substring(K.raw.length);continue}if(K=this.tokenizer.text(j)){j=j.substring(K.raw.length),ue=U[U.length-1],ue&&ue.type==="text"?(ue.raw+=`
`+K.raw,ue.text+=`
`+K.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ue.text):U.push(K);continue}if(j){var Ge="Infinite loop on byte: "+j.charCodeAt(0);if(this.options.silent){console.error(Ge);break}else throw new Error(Ge)}}return this.state.top=!0,U},ie.inline=function(j,U){this.inlineQueue.push({src:j,tokens:U})},ie.inlineTokens=function(j,U){var G=this;U===void 0&&(U=[]);var K,ue,be,it=j,Ge,Rt,Mt;if(this.tokens.links){var Ii=Object.keys(this.tokens.links);if(Ii.length>0)for(;(Ge=this.tokenizer.rules.inline.reflinkSearch.exec(it))!=null;)Ii.includes(Ge[0].slice(Ge[0].lastIndexOf("[")+1,-1))&&(it=it.slice(0,Ge.index)+"["+$e("a",Ge[0].length-2)+"]"+it.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Ge=this.tokenizer.rules.inline.blockSkip.exec(it))!=null;)it=it.slice(0,Ge.index)+"["+$e("a",Ge[0].length-2)+"]"+it.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Ge=this.tokenizer.rules.inline.escapedEmSt.exec(it))!=null;)it=it.slice(0,Ge.index)+"++"+it.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;j;)if(Rt||(Mt=""),Rt=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(ct){return(K=ct.call({lexer:G},j,U))?(j=j.substring(K.raw.length),U.push(K),!0):!1}))){if(K=this.tokenizer.escape(j)){j=j.substring(K.raw.length),U.push(K);continue}if(K=this.tokenizer.tag(j)){j=j.substring(K.raw.length),ue=U[U.length-1],ue&&K.type==="text"&&ue.type==="text"?(ue.raw+=K.raw,ue.text+=K.text):U.push(K);continue}if(K=this.tokenizer.link(j)){j=j.substring(K.raw.length),U.push(K);continue}if(K=this.tokenizer.reflink(j,this.tokens.links)){j=j.substring(K.raw.length),ue=U[U.length-1],ue&&K.type==="text"&&ue.type==="text"?(ue.raw+=K.raw,ue.text+=K.text):U.push(K);continue}if(K=this.tokenizer.emStrong(j,it,Mt)){j=j.substring(K.raw.length),U.push(K);continue}if(K=this.tokenizer.codespan(j)){j=j.substring(K.raw.length),U.push(K);continue}if(K=this.tokenizer.br(j)){j=j.substring(K.raw.length),U.push(K);continue}if(K=this.tokenizer.del(j)){j=j.substring(K.raw.length),U.push(K);continue}if(K=this.tokenizer.autolink(j,hn)){j=j.substring(K.raw.length),U.push(K);continue}if(!this.state.inLink&&(K=this.tokenizer.url(j,hn))){j=j.substring(K.raw.length),U.push(K);continue}if(be=j,this.options.extensions&&this.options.extensions.startInline&&function(){var ct=1/0,Pn=j.slice(1),Ln=void 0;G.options.extensions.startInline.forEach(function(Ps){Ln=Ps.call({lexer:this},Pn),typeof Ln=="number"&&Ln>=0&&(ct=Math.min(ct,Ln))}),ct<1/0&&ct>=0&&(be=j.substring(0,ct+1))}(),K=this.tokenizer.inlineText(be,ei)){j=j.substring(K.raw.length),K.raw.slice(-1)!=="_"&&(Mt=K.raw.slice(-1)),Rt=!0,ue=U[U.length-1],ue&&ue.type==="text"?(ue.raw+=K.raw,ue.text+=K.text):U.push(K);continue}if(j){var ri="Infinite loop on byte: "+j.charCodeAt(0);if(this.options.silent){console.error(ri);break}else throw new Error(ri)}}return U},i(ae,null,[{key:"rules",get:function(){return{block:We,inline:Ue}}}]),ae}(),Wo=function(){function ae(oe){this.options=oe||e.defaults}var ie=ae.prototype;return ie.code=function(j,U,G){var K=(U||"").match(/\S*/)[0];if(this.options.highlight){var ue=this.options.highlight(j,K);ue!=null&&ue!==j&&(G=!0,j=ue)}return j=j.replace(/\n$/,"")+`
`,K?'<pre><code class="'+this.options.langPrefix+_(K,!0)+'">'+(G?j:_(j,!0))+`</code></pre>
`:"<pre><code>"+(G?j:_(j,!0))+`</code></pre>
`},ie.blockquote=function(j){return`<blockquote>
`+j+`</blockquote>
`},ie.html=function(j){return j},ie.heading=function(j,U,G,K){return this.options.headerIds?"<h"+U+' id="'+this.options.headerPrefix+K.slug(G)+'">'+j+"</h"+U+`>
`:"<h"+U+">"+j+"</h"+U+`>
`},ie.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ie.list=function(j,U,G){var K=U?"ol":"ul",ue=U&&G!==1?' start="'+G+'"':"";return"<"+K+ue+`>
`+j+"</"+K+`>
`},ie.listitem=function(j){return"<li>"+j+`</li>
`},ie.checkbox=function(j){return"<input "+(j?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ie.paragraph=function(j){return"<p>"+j+`</p>
`},ie.table=function(j,U){return U&&(U="<tbody>"+U+"</tbody>"),`<table>
<thead>
`+j+`</thead>
`+U+`</table>
`},ie.tablerow=function(j){return`<tr>
`+j+`</tr>
`},ie.tablecell=function(j,U){var G=U.header?"th":"td",K=U.align?"<"+G+' align="'+U.align+'">':"<"+G+">";return K+j+"</"+G+`>
`},ie.strong=function(j){return"<strong>"+j+"</strong>"},ie.em=function(j){return"<em>"+j+"</em>"},ie.codespan=function(j){return"<code>"+j+"</code>"},ie.br=function(){return this.options.xhtml?"<br/>":"<br>"},ie.del=function(j){return"<del>"+j+"</del>"},ie.link=function(j,U,G){if(j=M(this.options.sanitize,this.options.baseUrl,j),j===null)return G;var K='<a href="'+_(j)+'"';return U&&(K+=' title="'+U+'"'),K+=">"+G+"</a>",K},ie.image=function(j,U,G){if(j=M(this.options.sanitize,this.options.baseUrl,j),j===null)return G;var K='<img src="'+j+'" alt="'+G+'"';return U&&(K+=' title="'+U+'"'),K+=this.options.xhtml?"/>":">",K},ie.text=function(j){return j},ae}(),So=function(){function ae(){}var ie=ae.prototype;return ie.strong=function(j){return j},ie.em=function(j){return j},ie.codespan=function(j){return j},ie.del=function(j){return j},ie.html=function(j){return j},ie.text=function(j){return j},ie.link=function(j,U,G){return""+G},ie.image=function(j,U,G){return""+G},ie.br=function(){return""},ae}(),Yr=function(){function ae(){this.seen={}}var ie=ae.prototype;return ie.serialize=function(j){return j.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ie.getNextSafeSlug=function(j,U){var G=j,K=0;if(this.seen.hasOwnProperty(G)){K=this.seen[j];do K++,G=j+"-"+K;while(this.seen.hasOwnProperty(G))}return U||(this.seen[j]=K,this.seen[G]=0),G},ie.slug=function(j,U){U===void 0&&(U={});var G=this.serialize(j);return this.getNextSafeSlug(G,U.dryrun)},ae}(),Ra=function(){function ae(oe){this.options=oe||e.defaults,this.options.renderer=this.options.renderer||new Wo,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new So,this.slugger=new Yr}ae.parse=function(j,U){var G=new ae(U);return G.parse(j)},ae.parseInline=function(j,U){var G=new ae(U);return G.parseInline(j)};var ie=ae.prototype;return ie.parse=function(j,U){U===void 0&&(U=!0);var G="",K,ue,be,it,Ge,Rt,Mt,Ii,ri,ct,Pn,Ln,Ps,vn,lo,xh,ps,Fa,nd,Dr=j.length;for(K=0;K<Dr;K++){if(ct=j[K],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ct.type]&&(nd=this.options.extensions.renderers[ct.type].call({parser:this},ct),nd!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ct.type))){G+=nd||"";continue}switch(ct.type){case"space":continue;case"hr":{G+=this.renderer.hr();continue}case"heading":{G+=this.renderer.heading(this.parseInline(ct.tokens),ct.depth,y(this.parseInline(ct.tokens,this.textRenderer)),this.slugger);continue}case"code":{G+=this.renderer.code(ct.text,ct.lang,ct.escaped);continue}case"table":{for(Ii="",Mt="",it=ct.header.length,ue=0;ue<it;ue++)Mt+=this.renderer.tablecell(this.parseInline(ct.header[ue].tokens),{header:!0,align:ct.align[ue]});for(Ii+=this.renderer.tablerow(Mt),ri="",it=ct.rows.length,ue=0;ue<it;ue++){for(Rt=ct.rows[ue],Mt="",Ge=Rt.length,be=0;be<Ge;be++)Mt+=this.renderer.tablecell(this.parseInline(Rt[be].tokens),{header:!1,align:ct.align[be]});ri+=this.renderer.tablerow(Mt)}G+=this.renderer.table(Ii,ri);continue}case"blockquote":{ri=this.parse(ct.tokens),G+=this.renderer.blockquote(ri);continue}case"list":{for(Pn=ct.ordered,Ln=ct.start,Ps=ct.loose,it=ct.items.length,ri="",ue=0;ue<it;ue++)lo=ct.items[ue],xh=lo.checked,ps=lo.task,vn="",lo.task&&(Fa=this.renderer.checkbox(xh),Ps?lo.tokens.length>0&&lo.tokens[0].type==="paragraph"?(lo.tokens[0].text=Fa+" "+lo.tokens[0].text,lo.tokens[0].tokens&&lo.tokens[0].tokens.length>0&&lo.tokens[0].tokens[0].type==="text"&&(lo.tokens[0].tokens[0].text=Fa+" "+lo.tokens[0].tokens[0].text)):lo.tokens.unshift({type:"text",text:Fa}):vn+=Fa),vn+=this.parse(lo.tokens,Ps),ri+=this.renderer.listitem(vn,ps,xh);G+=this.renderer.list(ri,Pn,Ln);continue}case"html":{G+=this.renderer.html(ct.text);continue}case"paragraph":{G+=this.renderer.paragraph(this.parseInline(ct.tokens));continue}case"text":{for(ri=ct.tokens?this.parseInline(ct.tokens):ct.text;K+1<Dr&&j[K+1].type==="text";)ct=j[++K],ri+=`
`+(ct.tokens?this.parseInline(ct.tokens):ct.text);G+=U?this.renderer.paragraph(ri):ri;continue}default:{var ua='Token with "'+ct.type+'" type was not found.';if(this.options.silent){console.error(ua);return}else throw new Error(ua)}}}return G},ie.parseInline=function(j,U){U=U||this.renderer;var G="",K,ue,be,it=j.length;for(K=0;K<it;K++){if(ue=j[K],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ue.type]&&(be=this.options.extensions.renderers[ue.type].call({parser:this},ue),be!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ue.type))){G+=be||"";continue}switch(ue.type){case"escape":{G+=U.text(ue.text);break}case"html":{G+=U.html(ue.text);break}case"link":{G+=U.link(ue.href,ue.title,this.parseInline(ue.tokens,U));break}case"image":{G+=U.image(ue.href,ue.title,ue.text);break}case"strong":{G+=U.strong(this.parseInline(ue.tokens,U));break}case"em":{G+=U.em(this.parseInline(ue.tokens,U));break}case"codespan":{G+=U.codespan(ue.text);break}case"br":{G+=U.br();break}case"del":{G+=U.del(this.parseInline(ue.tokens,U));break}case"text":{G+=U.text(ue.text);break}default:{var Ge='Token with "'+ue.type+'" type was not found.';if(this.options.silent){console.error(Ge);return}else throw new Error(Ge)}}}return G},ae}();function St(ae,ie,oe){if(typeof ae>"u"||ae===null)throw new Error("marked(): input parameter is undefined or null");if(typeof ae!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ae)+", string expected");if(typeof ie=="function"&&(oe=ie,ie=null),ie=ne({},St.defaults,ie||{}),Ze(ie),oe){var j=ie.highlight,U;try{U=Un.lex(ae,ie)}catch(be){return oe(be)}var G=function(it){var Ge;if(!it)try{ie.walkTokens&&St.walkTokens(U,ie.walkTokens),Ge=Ra.parse(U,ie)}catch(Rt){it=Rt}return ie.highlight=j,it?oe(it):oe(null,Ge)};if(!j||j.length<3||(delete ie.highlight,!U.length))return G();var K=0;St.walkTokens(U,function(be){be.type==="code"&&(K++,setTimeout(function(){j(be.text,be.lang,function(it,Ge){if(it)return G(it);Ge!=null&&Ge!==be.text&&(be.text=Ge,be.escaped=!0),K--,K===0&&G()})},0))}),K===0&&G();return}try{var ue=Un.lex(ae,ie);return ie.walkTokens&&St.walkTokens(ue,ie.walkTokens),Ra.parse(ue,ie)}catch(be){if(be.message+=`
Please report this to https://github.com/markedjs/marked.`,ie.silent)return"<p>An error occurred:</p><pre>"+_(be.message+"",!0)+"</pre>";throw be}}St.options=St.setOptions=function(ae){return ne(St.defaults,ae),l(St.defaults),St},St.getDefaults=a,St.defaults=e.defaults,St.use=function(){for(var ae=arguments.length,ie=new Array(ae),oe=0;oe<ae;oe++)ie[oe]=arguments[oe];var j=ne.apply(void 0,[{}].concat(ie)),U=St.defaults.extensions||{renderers:{},childTokens:{}},G;ie.forEach(function(K){if(K.extensions&&(G=!0,K.extensions.forEach(function(be){if(!be.name)throw new Error("extension name required");if(be.renderer){var it=U.renderers?U.renderers[be.name]:null;it?U.renderers[be.name]=function(){for(var Ge=arguments.length,Rt=new Array(Ge),Mt=0;Mt<Ge;Mt++)Rt[Mt]=arguments[Mt];var Ii=be.renderer.apply(this,Rt);return Ii===!1&&(Ii=it.apply(this,Rt)),Ii}:U.renderers[be.name]=be.renderer}if(be.tokenizer){if(!be.level||be.level!=="block"&&be.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");U[be.level]?U[be.level].unshift(be.tokenizer):U[be.level]=[be.tokenizer],be.start&&(be.level==="block"?U.startBlock?U.startBlock.push(be.start):U.startBlock=[be.start]:be.level==="inline"&&(U.startInline?U.startInline.push(be.start):U.startInline=[be.start]))}be.childTokens&&(U.childTokens[be.name]=be.childTokens)})),K.renderer&&function(){var be=St.defaults.renderer||new Wo,it=function(Mt){var Ii=be[Mt];be[Mt]=function(){for(var ri=arguments.length,ct=new Array(ri),Pn=0;Pn<ri;Pn++)ct[Pn]=arguments[Pn];var Ln=K.renderer[Mt].apply(be,ct);return Ln===!1&&(Ln=Ii.apply(be,ct)),Ln}};for(var Ge in K.renderer)it(Ge);j.renderer=be}(),K.tokenizer&&function(){var be=St.defaults.tokenizer||new _i,it=function(Mt){var Ii=be[Mt];be[Mt]=function(){for(var ri=arguments.length,ct=new Array(ri),Pn=0;Pn<ri;Pn++)ct[Pn]=arguments[Pn];var Ln=K.tokenizer[Mt].apply(be,ct);return Ln===!1&&(Ln=Ii.apply(be,ct)),Ln}};for(var Ge in K.tokenizer)it(Ge);j.tokenizer=be}(),K.walkTokens){var ue=St.defaults.walkTokens;j.walkTokens=function(be){K.walkTokens.call(this,be),ue&&ue.call(this,be)}}G&&(j.extensions=U),St.setOptions(j)})},St.walkTokens=function(ae,ie){for(var oe=function(){var K=U.value;switch(ie.call(St,K),K.type){case"table":{for(var ue=s(K.header),be;!(be=ue()).done;){var it=be.value;St.walkTokens(it.tokens,ie)}for(var Ge=s(K.rows),Rt;!(Rt=Ge()).done;)for(var Mt=Rt.value,Ii=s(Mt),ri;!(ri=Ii()).done;){var ct=ri.value;St.walkTokens(ct.tokens,ie)}break}case"list":{St.walkTokens(K.items,ie);break}default:St.defaults.extensions&&St.defaults.extensions.childTokens&&St.defaults.extensions.childTokens[K.type]?St.defaults.extensions.childTokens[K.type].forEach(function(Pn){St.walkTokens(K[Pn],ie)}):K.tokens&&St.walkTokens(K.tokens,ie)}},j=s(ae),U;!(U=j()).done;)oe()},St.parseInline=function(ae,ie){if(typeof ae>"u"||ae===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof ae!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ae)+", string expected");ie=ne({},St.defaults,ie||{}),Ze(ie);try{var oe=Un.lexInline(ae,ie);return ie.walkTokens&&St.walkTokens(oe,ie.walkTokens),Ra.parseInline(oe,ie)}catch(j){if(j.message+=`
Please report this to https://github.com/markedjs/marked.`,ie.silent)return"<p>An error occurred:</p><pre>"+_(j.message+"",!0)+"</pre>";throw j}},St.Parser=Ra,St.parser=Ra.parse,St.Renderer=Wo,St.TextRenderer=So,St.Lexer=Un,St.lexer=Un.lex,St.Tokenizer=_i,St.Slugger=Yr,St.parse=St;var yl=St.options,ed=St.setOptions,td=St.use,zn=St.walkTokens,Zr=St.parseInline,Eh=St,id=Ra.parse,Dt=Un.lex;e.Lexer=Un,e.Parser=Ra,e.Renderer=Wo,e.Slugger=Yr,e.TextRenderer=So,e.Tokenizer=_i,e.getDefaults=a,e.lexer=Dt,e.marked=St,e.options=yl,e.parse=Eh,e.parseInline=Zr,e.parser=id,e.setOptions=ed,e.use=td,e.walkTokens=zn,Object.defineProperty(e,"__esModule",{value:!0})})})();var K7=SQ||exports;rs();Jo();Vr();He();Oi();function xQ(r,e={},t={}){var i;let n=new J,o=!1,s=n.add(new Ki),a=UI(e),l=function(y){let C;try{C=v1(decodeURIComponent(y))}catch{}return C?(C=Gj(C,E=>{if(r.uris&&r.uris[E])return De.revive(r.uris[E])}),encodeURIComponent(JSON.stringify(C))):y},c=function(y,C){let E=r.uris&&r.uris[y],L=De.revive(E);return C?y.startsWith(rt.data+":")?y:(L||(L=De.parse(y)),QD.asBrowserUri(L).toString(!0)):!L||De.parse(y).toString()===L.toString()?y:(L.query&&(L=L.with({query:l(L.query)})),L.toString())},d,h=new Promise(y=>d=y),u=new K7.Renderer;if(u.image=(y,C,E)=>{let L=[],k=[];return y&&({href:y,dimensions:L}=BY(y),k.push(`src="${y}"`)),E&&k.push(`alt="${E}"`),C&&k.push(`title="${C}"`),L.length&&(k=k.concat(L)),"<img "+k.join(" ")+">"},u.link=(y,C,E)=>typeof y!="string"?"":(y===E&&(E=VI(E)),y=c(y,!1),r.baseUri&&(y=q7(De.from(r.baseUri),y)),C=typeof C=="string"?VI(C):"",y=VI(y),!y||/^data:|javascript:/i.test(y)||/^command:/i.test(y)&&!r.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(y)?E:(y=y.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a data-href="${y}" title="${C||y}">${E}</a>`)),u.paragraph=y=>`<p>${y}</p>`,e.codeBlockRenderer&&(u.code=(y,C)=>{let E=e.codeBlockRenderer(C??"",y),L=WI.nextId();return kb(Promise.all([E,h]),s.token).then(k=>{var M;if(!o&&k){let I=a.querySelector(`div[data-code="${L}"]`);I&&ql(I,k[0]),(M=e.asyncRenderCallback)===null||M===void 0||M.call(e)}}).catch(()=>{}),`<div class="code" data-code="${L}">${gb(y)}</div>`}),e.actionHandler){let y=e.actionHandler.disposables.add(new oi(a,"click")),C=e.actionHandler.disposables.add(new oi(a,"auxclick"));e.actionHandler.disposables.add(xe.any(y.event,C.event)(E=>{let L=new To(E);if(!L.leftButton&&!L.middleButton)return;let k=L.target;if(!(k.tagName!=="A"&&(k=k.parentElement,!k||k.tagName!=="A")))try{let M=k.dataset.href;M&&(r.baseUri&&(M=q7(De.from(r.baseUri),M)),e.actionHandler.callback(M,L))}catch(M){Ie(M)}finally{L.preventDefault()}}))}r.supportHtml||(t.sanitizer=y=>(r.isTrusted?y.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?y:"",t.sanitize=!0,t.silent=!0),t.renderer=u;let f=(i=r.value)!==null&&i!==void 0?i:"";f.length>1e5&&(f=`${f.substr(0,1e5)}\u2026`),r.supportThemeIcons&&(f=cY(f));let m=K7.parse(f,t);r.supportThemeIcons&&(m=ac(m).map(C=>typeof C=="string"?C:C.outerHTML).join(""));let w=new DOMParser().parseFromString(EQ(r,m),"text/html");if(w.body.querySelectorAll("img").forEach(y=>{let C=y.getAttribute("src");if(C){let E=C;try{r.baseUri&&(E=q7(De.from(r.baseUri),E))}catch{}y.src=c(E,!0)}}),a.innerHTML=EQ(r,w.body.innerHTML),d(),e.asyncRenderCallback)for(let y of a.getElementsByTagName("img")){let C=n.add(se(y,"load",()=>{C.dispose(),e.asyncRenderCallback()}))}return{element:a,dispose:()=>{o=!0,s.cancel(),n.dispose()}}}function q7(r,e){return/^\w[\w\d+.-]*:/.test(e)?e:r.path.endsWith("/")?iF(r,e).toString():iF(hg(r),e).toString()}function EQ(r,e){let{config:t,allowedSchemes:i}=Fbe(r);H7("uponSanitizeAttribute",(o,s)=>{if(s.attrName==="style"||s.attrName==="class"){if(o.tagName==="SPAN"){if(s.attrName==="style"){s.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(s.attrValue);return}else if(s.attrName==="class"){s.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(s.attrValue);return}}s.keepAttr=!1;return}});let n=document.createElement("a");H7("afterSanitizeAttributes",o=>{for(let s of["href","src"])o.hasAttribute(s)&&(n.href=o.getAttribute(s),i.includes(n.protocol.replace(/:$/,""))||o.removeAttribute(s))});try{return yQ(e,Object.assign(Object.assign({},t),{RETURN_TRUSTED_TYPE:!0}))}finally{$7("uponSanitizeAttribute"),$7("afterSanitizeAttributes")}}function Fbe(r){let e=[rt.http,rt.https,rt.mailto,rt.data,rt.file,rt.vscodeFileResource,rt.vscodeRemote,rt.vscodeRemoteResource];return r.isTrusted&&e.push(rt.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:e}}Vo();ut();Ee();re();Wd();var Bbe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},DQ=function(r,e){return function(t,i){e(t,i,r)}},jbe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},Y7,da=class LQ{constructor(e,t,i){this._options=e,this._languageService=t,this._openerService=i,this._onDidRenderAsync=new B,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(e,t,i){if(!e)return{element:document.createElement("span"),dispose:()=>{}};let n=new J;return{element:n.add(xQ(e,Object.assign(Object.assign({},this._getRenderOptions(e,n)),t),i)).element,dispose:()=>n.dispose()}}_getRenderOptions(e,t){return{codeBlockRenderer:(i,n)=>jbe(this,void 0,void 0,function*(){var o,s,a;let l;i?l=this._languageService.getLanguageIdByLanguageName(i):this._options.editor&&(l=(o=this._options.editor.getModel())===null||o===void 0?void 0:o.getLanguageId()),l||(l=zr);let c=yield h$(this._languageService,n,l),d=document.createElement("span");if(d.innerHTML=(a=(s=LQ._ttpTokenizer)===null||s===void 0?void 0:s.createHTML(c))!==null&&a!==void 0?a:c,this._options.editor){let h=this._options.editor.getOption(44);Cn(d,h)}else this._options.codeBlockFontFamily&&(d.style.fontFamily=this._options.codeBlockFontFamily);return d}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:i=>this._openerService.open(i,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:e.isTrusted}).catch(Ie),disposables:t}}}};da._ttpTokenizer=(Y7=window.trustedTypes)===null||Y7===void 0?void 0:Y7.createPolicy("tokenizeToString",{createHTML(r){return r}});da=Bbe([DQ(1,Gt),DQ(2,so)],da);var kQ=le,Fg=class extends ${constructor(e,t,i=fY){super();this._renderDisposeables=this._register(new J),this._editor=e,this._isVisible=!1,this._messages=[],this._hover=this._register(new LS),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new da({editor:this._editor},t,i)),this._computer=new IQ(this._editor),this._hoverOperation=this._register(new IS(this._editor,this._computer)),this._register(this._hoverOperation.onResult(n=>{this._withResult(n.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(44)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Fg.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(e){this._computer.lineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(e,t){this._renderDisposeables.clear();let i=document.createDocumentFragment();for(let n of t){let o=kQ("div.hover-row.markdown-hover"),s=ee(o,kQ("div.hover-contents")),a=this._renderDisposeables.add(this._markdownRenderer.render(n.value));s.appendChild(a.element),i.appendChild(o)}this._updateContents(i),this._showAt(e)}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}_showAt(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));let t=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(e),n=this._editor.getScrollTop(),o=this._editor.getOption(59),s=this._hover.containerDomNode.clientHeight,a=i-n-(s-o)/2;this._hover.containerDomNode.style.left=`${t.glyphMarginLeft+t.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(a),0)}px`}};Fg.ID="editor.contrib.modesGlyphHoverWidget";var IQ=class{constructor(e){this._editor=e,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(e){this._lineNumber=e}computeSync(){let e=n=>({value:n}),t=this._editor.getLineDecorations(this._lineNumber),i=[];if(!t)return i;for(let n of t){if(!n.options.glyphMarginClassName)continue;let o=n.options.glyphMarginHoverMessage;!o||xu(o)||i.push(...tb(o).map(e))}return i}};ke();Et();Ye();Li();pt();Be();jt();nt();re();lt();ye();Vo();nt();Ei();ut();kt();hi();var Wbe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},OQ=class{constructor(e,t,i){this.provider=e,this.hover=t,this.ordinal=i}};function Ube(r,e,t,i,n){return Wbe(this,void 0,void 0,function*(){try{let o=yield Promise.resolve(r.provideHover(t,i,n));if(o&&Vbe(o))return new OQ(r,o,e)}catch(o){Si(o)}})}function zS(r,e,t,i){let o=r.ordered(e).map((s,a)=>Ube(s,a,e,t,i));return dn.fromPromises(o).coalesce()}function zbe(r,e,t,i){return zS(r,e,t,i).map(n=>n.hover).toPromise()}Ks("_executeHoverProvider",(r,e,t)=>{let i=r.get(ve);return zbe(i.hoverProvider,e,t,Qe.None)});function Vbe(r){let e=typeof r.range<"u",t=typeof r.contents<"u"&&r.contents&&r.contents.length>0;return e&&t}ke();Fr();hi();var Hbe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},yT=function(r,e){return function(t,i){e(t,i,r)}},TQ=le,uc=class{constructor(e,t,i,n){this.owner=e,this.range=t,this.contents=i,this.ordinal=n}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}},Iw=class{constructor(e,t,i,n,o){this._editor=e,this._languageService=t,this._openerService=i,this._configurationService=n,this._languageFeaturesService=o,this.hoverOrdinal=2}createLoadingMessage(e){return new uc(this,e.range,[new Bo().appendText(g("modesContentHover.loading","Loading..."))],2e3)}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];let i=this._editor.getModel(),n=e.range.startLineNumber,o=i.getLineMaxColumn(n),s=[],a=1e3,l=i.getLineLength(n),c=i.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),d=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:c});typeof d=="number"&&l>=d&&s.push(new uc(this,e.range,[{value:g("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],a++));for(let h of t){let u=h.range.startLineNumber===n?h.range.startColumn:1,f=h.range.endLineNumber===n?h.range.endColumn:o,m=h.options.hoverMessage;if(!m||xu(m))continue;let _=new D(e.range.startLineNumber,u,e.range.startLineNumber,f);s.push(new uc(this,_,tb(m),a++))}return s}computeAsync(e,t,i){if(!this._editor.hasModel()||e.type!==1)return dn.EMPTY;let n=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(n))return dn.EMPTY;let o=new V(e.range.startLineNumber,e.range.startColumn);return zS(this._languageFeaturesService.hoverProvider,n,o,i).filter(s=>!xu(s.hover.contents)).map(s=>{let a=s.hover.range?D.lift(s.hover.range):e.range;return new uc(this,a,s.hover.contents,s.ordinal)})}renderHoverParts(e,t){return Z7(e,t,this._editor,this._languageService,this._openerService)}};Iw=Hbe([yT(1,Gt),yT(2,so),yT(3,Ht),yT(4,ve)],Iw);function Z7(r,e,t,i,n){e.sort((s,a)=>s.ordinal-a.ordinal);let o=new J;for(let s of e)for(let a of s.contents){if(xu(a))continue;let l=TQ("div.hover-row.markdown-hover"),c=ee(l,TQ("div.hover-contents")),d=o.add(new da({editor:t},i,n));o.add(d.onDidRenderAsync(()=>{c.className="hover-contents code-hover-contents",r.onContentsChanged()}));let h=o.add(d.render(a));c.appendChild(h.element),r.fragment.appendChild(l)}return o}Be();jt();nt();ut();re();Vr();ye();ln();re();kt();io();lt();ye();Wi();jt();Ee();re();Ph();He();Oi();ye();Ss();Ye();Fr();var NQ=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},ST=function(r,e){return function(t,i){e(t,i,r)}},G7=class{constructor(e,t,i){this.marker=e,this.index=t,this.total=i}},X7=class{constructor(e,t,i){this._markerService=t,this._configService=i,this._onDidChange=new B,this.onDidChange=this._onDidChange.event,this._dispoables=new J,this._markers=[],this._nextIdx=-1,De.isUri(e)?this._resourceFilter=a=>a.toString()===e.toString():e&&(this._resourceFilter=e);let n=this._configService.getValue("problems.sortOrder"),o=(a,l)=>{let c=Lf(a.resource.toString(),l.resource.toString());return c===0&&(n==="position"?c=D.compareRangesUsingStarts(a,l)||Vi.compare(a.severity,l.severity):c=Vi.compare(a.severity,l.severity)||D.compareRangesUsingStarts(a,l)),c},s=()=>{this._markers=this._markerService.read({resource:De.isUri(e)?e:void 0,severities:Vi.Error|Vi.Warning|Vi.Info}),typeof e=="function"&&(this._markers=this._markers.filter(a=>this._resourceFilter(a.resource))),this._markers.sort(o)};s(),this._dispoables.add(t.onMarkerChanged(a=>{(!this._resourceFilter||a.some(l=>this._resourceFilter(l)))&&(s(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e?!0:!this._resourceFilter||!e?!1:this._resourceFilter(e)}get selected(){let e=this._markers[this._nextIdx];return e&&new G7(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,i){let n=!1,o=this._markers.findIndex(s=>s.resource.toString()===e.uri.toString());o<0&&(o=J_(this._markers,{resource:e.uri},(s,a)=>Lf(s.resource.toString(),a.resource.toString())),o<0&&(o=~o));for(let s=o;s<this._markers.length;s++){let a=D.lift(this._markers[s]);if(a.isEmpty()){let l=e.getWordAtPosition(a.getStartPosition());l&&(a=new D(a.startLineNumber,l.startColumn,a.startLineNumber,l.endColumn))}if(t&&(a.containsPosition(t)||t.isBeforeOrEqual(a.getStartPosition()))){this._nextIdx=s,n=!0;break}if(this._markers[s].resource.toString()!==e.uri.toString())break}n||(this._nextIdx=i?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,i){if(this._markers.length===0)return!1;let n=this._nextIdx;return this._nextIdx===-1?this._initIdx(t,i,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),n!==this._nextIdx}find(e,t){let i=this._markers.findIndex(n=>n.resource.toString()===e.toString());if(!(i<0)){for(;i<this._markers.length;i++)if(D.containsPosition(this._markers[i],t))return new G7(this._markers[i],i+1,this._markers.length)}}};X7=NQ([ST(1,ra),ST(2,Ht)],X7);var J7=Fe("IMarkerNavigationService"),Q7=class{constructor(e,t){this._markerService=e,this._configService=t,this._provider=new fo}getMarkerList(e){for(let t of this._provider){let i=t.getMarkerList(e);if(i)return i}return new X7(e,this._markerService,this._configService)}};Q7=NQ([ST(0,ra),ST(1,Ht)],Q7);Lt(J7,Q7,!0);ke();Mo();Et();Ye();Be();jt();Yn();Ee();re();Vr();He();ye();ke();Mo();Et();Ye();ln();Li();pt();var ET;(function(r){function e(t){switch(t){case Pi.Ignore:return"severity-ignore "+p.info.classNames;case Pi.Info:return p.info.classNames;case Pi.Warning:return p.warning.classNames;case Pi.Error:return p.error.classNames;default:return""}}r.className=e})(ET||(ET={}));yt((r,e)=>{let t=r.getColor(UV);if(t){let o=p.error.cssSelector;e.addRule(`
			.monaco-editor .zone-widget ${o},
			.markers-panel .marker-icon${o},
			.text-search-provider-messages .providerMessage ${o},
			.extensions-viewlet > .extensions ${o} {
				color: ${t};
			}
		`)}let i=r.getColor(zV);if(i){let o=p.warning.cssSelector;e.addRule(`
			.monaco-editor .zone-widget ${o},
			.markers-panel .marker-icon${o},
			.extensions-viewlet > .extensions ${o},
			.extension-editor ${o},
			.text-search-provider-messages .providerMessage ${o},
			.preferences-editor ${o} {
				color: ${i};
			}
		`)}let n=r.getColor(VV);if(n){let o=p.info.cssSelector;e.addRule(`
			.monaco-editor .zone-widget ${o},
			.markers-panel .marker-icon${o},
			.extensions-viewlet > .extensions ${o},
			.text-search-provider-messages .providerMessage ${o},
			.extension-editor ${o} {
				color: ${n};
			}
		`)}});Li();pt();var $be=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ow=function(r,e){return function(t,i){e(t,i,r)}},RQ=class{constructor(e,t,i,n,o){this._openerService=n,this._labelService=o,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new J,this._editor=t;let s=document.createElement("div");s.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),s.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),s.appendChild(this._relatedBlock),this._disposables.add(Bi(this._relatedBlock,"click",a=>{a.preventDefault();let l=this._relatedDiagnostics.get(a.target);l&&i(l)})),this._scrollable=new uy(s,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(a=>{s.style.left=`-${a.scrollLeft}px`,s.style.top=`-${a.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){dt(this._disposables)}update(e){let{source:t,message:i,relatedInformation:n,code:o}=e,s=(t?.length||0)+2;o&&(typeof o=="string"?s+=o.length:s+=o.value.length);let a=mr(i);this._lines=a.length,this._longestLineLength=0;for(let u of a)this._longestLineLength=Math.max(u.length+s,this._longestLineLength);nn(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let l=this._messageBlock;for(let u of a)l=document.createElement("div"),l.innerText=u,u===""&&(l.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(l);if(t||o){let u=document.createElement("span");if(u.classList.add("details"),l.appendChild(u),t){let f=document.createElement("span");f.innerText=t,f.classList.add("source"),u.appendChild(f)}if(o)if(typeof o=="string"){let f=document.createElement("span");f.innerText=`(${o})`,f.classList.add("code"),u.appendChild(f)}else{this._codeLink=le("a.code-link"),this._codeLink.setAttribute("href",`${o.target.toString()}`),this._codeLink.onclick=m=>{this._openerService.open(o.target,{allowCommands:!0}),m.preventDefault(),m.stopPropagation()};let f=ee(this._codeLink,le("span"));f.innerText=o.value,u.appendChild(this._codeLink)}}if(nn(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),jn(n)){let u=this._relatedBlock.appendChild(document.createElement("div"));u.style.paddingTop=`${Math.floor(this._editor.getOption(59)*.66)}px`,this._lines+=1;for(let f of n){let m=document.createElement("div"),_=document.createElement("a");_.classList.add("filename"),_.innerText=`${rT(f.resource)}(${f.startLineNumber}, ${f.startColumn}): `,_.title=this._labelService.getUriLabel(f.resource),this._relatedDiagnostics.set(_,f);let w=document.createElement("span");w.innerText=f.message,m.appendChild(_),m.appendChild(w),this._lines+=1,u.appendChild(m)}}let c=this._editor.getOption(44),d=Math.ceil(c.typicalFullwidthCharacterWidth*this._longestLineLength*.75),h=c.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:d,scrollHeight:h})}layout(e,t){this._scrollable.getDomNode().style.height=`${e}px`,this._scrollable.getDomNode().style.width=`${t}px`,this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case Vi.Error:t=g("Error","Error");break;case Vi.Warning:t=g("Warning","Warning");break;case Vi.Info:t=g("Info","Info");break;case Vi.Hint:t=g("Hint","Hint");break}let i=g("marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn),n=this._editor.getModel();return n&&e.startLineNumber<=n.getLineCount()&&e.startLineNumber>=1&&(i=`${n.getLineContent(e.startLineNumber)}, ${i}`),i}},p_=class FQ extends Ew{constructor(e,t,i,n,o,s,a){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},o);this._themeService=t,this._openerService=i,this._menuService=n,this._contextKeyService=s,this._labelService=a,this._callOnDispose=new J,this._onDidSelectRelatedInformation=new B,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=Vi.Warning,this._backgroundColor=X.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor(Zbe);let t=e8,i=Kbe;this._severity===Vi.Warning?(t=t8,i=qbe):this._severity===Vi.Info&&(t=i8,i=Ybe);let n=e.getColor(t),o=e.getColor(i);this.style({arrowColor:n,frameColor:n,headerBackgroundColor:o,primaryHeadingColor:e.getColor(nT),secondaryHeadingColor:e.getColor(oT)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(e){super._fillHead(e),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(n=>this.editor.focus()));let t=[],i=this._menuService.createMenu(FQ.TitleMenu,this._contextKeyService);EX(i,void 0,t),this._actionbarWidget.push(t,{label:!1,icon:!0,index:0}),i.dispose()}_fillTitleIcon(e){this._icon=ee(e,le(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new RQ(this._container,this.editor,t=>this._onDidSelectRelatedInformation.fire(t),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,t,i){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());let n=D.lift(e),o=this.editor.getPosition(),s=o&&n.containsPosition(o)?o:n.getStartPosition();super.show(s,this.computeRequiredHeight());let a=this.editor.getModel();if(a){let l=i>1?g("problems","{0} of {1} problems",t,i):g("change","{0} of {1} problem",t,i);this.setTitle(qo(a.uri),l)}this._icon.className=`codicon ${ET.className(Vi.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(s,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=`${e}px`}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};p_.TitleMenu=new H("gotoErrorTitleMenu");p_=$be([Ow(1,Ft),Ow(2,so),Ow(3,La),Ow(4,ze),Ow(5,Le),Ow(6,eh)],p_);var PQ=tv(Td,FL),MQ=tv(qs,op),AQ=tv(jr,rv),e8=W("editorMarkerNavigationError.background",{dark:PQ,light:PQ,hc:Ni},g("editorMarkerNavigationError","Editor marker navigation widget error color.")),Kbe=W("editorMarkerNavigationError.headerBackground",{dark:at(e8,.1),light:at(e8,.1),hc:null},g("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),t8=W("editorMarkerNavigationWarning.background",{dark:MQ,light:MQ,hc:Ni},g("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),qbe=W("editorMarkerNavigationWarning.headerBackground",{dark:at(t8,.1),light:at(t8,.1),hc:"#0C141F"},g("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),i8=W("editorMarkerNavigationInfo.background",{dark:AQ,light:AQ,hc:Ni},g("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),Ybe=W("editorMarkerNavigationInfo.headerBackground",{dark:at(i8,.1),light:at(i8,.1),hc:null},g("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),Zbe=W("editorMarkerNavigation.background",{dark:nr,light:nr,hc:nr},g("editorMarkerNavigationBackground","Editor marker navigation widget background."));var Gbe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},xT=function(r,e){return function(t,i){e(t,i,r)}},BQ=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},Vu=class DT{constructor(e,t,i,n,o){this._markerNavigationService=t,this._contextKeyService=i,this._editorService=n,this._instantiationService=o,this._sessionDispoables=new J,this._editor=e,this._widgetVisible=UQ.bindTo(this._contextKeyService)}static get(e){return e.getContribution(DT.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(p_,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(i=>{var n,o,s;(!(!((n=this._model)===null||n===void 0)&&n.selected)||!D.containsPosition((o=this._model)===null||o===void 0?void 0:o.selected.marker,i.position))&&((s=this._model)===null||s===void 0||s.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;let i=this._model.find(this._editor.getModel().uri,this._widget.position);i?this._widget.updateMarker(i.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(i=>{this._editorService.openCodeEditor({resource:i.resource,options:{pinned:!0,revealIfOpened:!0,selection:D.lift(i).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){let t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new V(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}nagivate(e,t){var i,n;return BQ(this,void 0,void 0,function*(){if(this._editor.hasModel()){let o=this._getOrCreateModel(t?void 0:this._editor.getModel().uri);if(o.move(e,this._editor.getModel(),this._editor.getPosition()),!o.selected)return;if(o.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();let s=yield this._editorService.openCodeEditor({resource:o.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:o.selected.marker}},this._editor);s&&((i=DT.get(s))===null||i===void 0||i.close(),(n=DT.get(s))===null||n===void 0||n.nagivate(e,t))}else this._widget.showAtMarker(o.selected.marker,o.selected.index,o.selected.total)}})}};Vu.ID="editor.contrib.markerController";Vu=Gbe([xT(1,J7),xT(2,Le),xT(3,Tt),xT(4,ze)],Vu);var VS=class extends we{constructor(e,t,i){super(i);this._next=e,this._multiFile=t}run(e,t){var i;return BQ(this,void 0,void 0,function*(){t.hasModel()&&((i=Vu.get(t))===null||i===void 0||i.nagivate(this._next,this._multiFile))})}},_h=class extends VS{constructor(){super(!0,!1,{id:_h.ID,label:_h.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:F.focus,primary:578,weight:100},menuOpts:{menuId:p_.TitleMenu,title:_h.LABEL,icon:bn("marker-navigation-next",p.arrowDown,g("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}};_h.ID="editor.action.marker.next";_h.LABEL=g("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");var Bg=class extends VS{constructor(){super(!1,!1,{id:Bg.ID,label:Bg.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:F.focus,primary:1602,weight:100},menuOpts:{menuId:p_.TitleMenu,title:Bg.LABEL,icon:bn("marker-navigation-previous",p.arrowUp,g("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}};Bg.ID="editor.action.marker.prev";Bg.LABEL=g("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");var jQ=class extends VS{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:g("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:F.focus,primary:66,weight:100},menuOpts:{menuId:H.MenubarGoMenu,title:g({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}},WQ=class extends VS{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:g("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:F.focus,primary:1090,weight:100},menuOpts:{menuId:H.MenubarGoMenu,title:g({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}};st(Vu.ID,Vu);de(_h);de(Bg);de(jQ);de(WQ);var UQ=new Se("markersNavigationVisible",!1),Xbe=Yi.bindToContribution(Vu.get);me(new Xbe({id:"closeMarkersNavigation",precondition:UQ,handler:r=>r.close(),kbOpts:{weight:100+50,kbExpr:F.focus,primary:9,secondary:[1033]}}));ke();Vc();Li();pt();hi();var Qbe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},n8=function(r,e){return function(t,i){e(t,i,r)}},fc=le,VQ=class{constructor(e,t,i){this.owner=e,this.range=t,this.marker=i}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}},zQ={type:1,filter:{include:Wt.QuickFix}},LT=class{constructor(e,t,i,n){this._editor=e,this._markerDecorationsService=t,this._openerService=i,this._languageFeaturesService=n,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];let i=this._editor.getModel(),n=e.range.startLineNumber,o=i.getLineMaxColumn(n),s=[];for(let a of t){let l=a.range.startLineNumber===n?a.range.startColumn:1,c=a.range.endLineNumber===n?a.range.endColumn:o,d=this._markerDecorationsService.getMarker(i.uri,a);if(!d)continue;let h=new D(e.range.startLineNumber,l,e.range.startLineNumber,c);s.push(new VQ(this,h,d))}return s}renderHoverParts(e,t){if(!t.length)return $.None;let i=new J;t.forEach(o=>e.fragment.appendChild(this.renderMarkerHover(o,i)));let n=t.length===1?t[0]:t.sort((o,s)=>Vi.compare(o.marker.severity,s.marker.severity))[0];return this.renderMarkerStatusbar(e,n,i),i}renderMarkerHover(e,t){let i=fc("div.hover-row"),n=ee(i,fc("div.marker.hover-contents")),{source:o,message:s,code:a,relatedInformation:l}=e.marker;this._editor.applyFontInfo(n);let c=ee(n,fc("span"));if(c.style.whiteSpace="pre-wrap",c.innerText=s,o||a)if(a&&typeof a!="string"){let d=fc("span");if(o){let m=ee(d,fc("span"));m.innerText=o}let h=ee(d,fc("a.code-link"));h.setAttribute("href",a.target.toString()),t.add(se(h,"click",m=>{this._openerService.open(a.target,{allowCommands:!0}),m.preventDefault(),m.stopPropagation()}));let u=ee(h,fc("span"));u.innerText=a.value;let f=ee(n,d);f.style.opacity="0.6",f.style.paddingLeft="6px"}else{let d=ee(n,fc("span"));d.style.opacity="0.6",d.style.paddingLeft="6px",d.innerText=o&&a?`${o}(${a})`:o||`(${a})`}if(jn(l))for(let{message:d,resource:h,startLineNumber:u,startColumn:f}of l){let m=ee(n,fc("div"));m.style.marginTop="8px";let _=ee(m,fc("a"));_.innerText=`${qo(h)}(${u}, ${f}): `,_.style.cursor="pointer",t.add(se(_,"click",y=>{y.stopPropagation(),y.preventDefault(),this._openerService&&this._openerService.open(h,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:u,startColumn:f}}}).catch(Ie)}));let w=ee(m,fc("span"));w.innerText=d,this._editor.applyFontInfo(w)}return i}renderMarkerStatusbar(e,t,i){if((t.marker.severity===Vi.Error||t.marker.severity===Vi.Warning||t.marker.severity===Vi.Info)&&e.statusBar.addAction({label:g("view problem","View Problem"),commandId:_h.ID,run:()=>{var n;e.hide(),(n=Vu.get(this._editor))===null||n===void 0||n.showAtMarker(t.marker),this._editor.focus()}}),!this._editor.getOption(81)){let n=e.statusBar.append(fc("div"));this.recentMarkerCodeActionsInfo&&(C1.makeKey(this.recentMarkerCodeActionsInfo.marker)===C1.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(n.textContent=g("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);let o=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?$.None:i.add(Ul(()=>n.textContent=g("checkingForQuickFixes","Checking for quick fixes..."),200));n.textContent||(n.textContent=String.fromCharCode(160));let s=this.getCodeActions(t.marker);i.add(Ve(()=>s.cancel())),s.then(a=>{if(o.dispose(),this.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:a.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){a.dispose(),n.textContent=g("noQuickFixes","No quick fixes available");return}n.style.display="none";let l=!1;i.add(Ve(()=>{l||a.dispose()})),e.statusBar.addAction({label:g("quick fixes","Quick Fix..."),commandId:Au.Id,run:c=>{l=!0;let d=Mu.get(this._editor),h=ji(c);e.hide(),d?.showCodeActions(zQ,a,{x:h.left+6,y:h.top+h.height+6})}})},Ie)}}getCodeActions(e){return xi(t=>rS(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new D(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),zQ,oc.None,t))}};LT=Qbe([n8(1,Yb),n8(2,so),n8(3,ve)],LT);yt((r,e)=>{let t=r.getColor(Kf);t&&e.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${t}; }`);let i=r.getColor(qf);i&&e.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${i}; }`)});var Jbe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},kT=function(r,e){return function(t,i){e(t,i,r)}},Hu=class HQ{constructor(e,t,i,n,o){this._editor=e,this._instantiationService=t,this._openerService=i,this._languageService=n,this._toUnhook=new J,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(s=>{s.hasChanged(53)&&(this._unhookEvents(),this._hookEvents())})}static get(e){return e.getContribution(HQ.ID)}_hookEvents(){let e=()=>this._hideWidgets(),t=this._editor.getOption(53);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(i=>this._onEditorMouseDown(i))),this._toUnhook.add(this._editor.onMouseUp(i=>this._onEditorMouseUp(i))),this._toUnhook.add(this._editor.onMouseMove(i=>this._onEditorMouseMove(i))),this._toUnhook.add(this._editor.onKeyDown(i=>this._onKeyDown(i)))):(this._toUnhook.add(this._editor.onMouseMove(i=>this._onEditorMouseMove(i))),this._toUnhook.add(this._editor.onKeyDown(i=>this._onKeyDown(i)))),this._toUnhook.add(this._editor.onMouseLeave(e)),this._toUnhook.add(this._editor.onDidChangeModel(e)),this._toUnhook.add(this._editor.onDidScrollChange(i=>this._onEditorScrollChanged(i)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){this._isMouseDown=!0;let t=e.target;if(t.type===9&&t.detail===Ag.ID){this._hoverClicked=!0;return}t.type===12&&t.detail===Fg.ID||(t.type!==12&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(e){this._isMouseDown=!1}_onEditorMouseMove(e){var t,i,n,o,s;let a=e.target;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&a.type===9&&a.detail===Ag.ID||this._isHoverSticky&&!(!((i=(t=e.event.browserEvent.view)===null||t===void 0?void 0:t.getSelection())===null||i===void 0)&&i.isCollapsed)||!this._isHoverSticky&&a.type===9&&a.detail===Ag.ID&&((n=this._contentWidget)===null||n===void 0?void 0:n.isColorPickerVisible())||this._isHoverSticky&&a.type===12&&a.detail===Fg.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(e)){(o=this._glyphWidget)===null||o===void 0||o.hide();return}if(a.type===2&&a.position){(s=this._contentWidget)===null||s===void 0||s.hide(),this._glyphWidget||(this._glyphWidget=new Fg(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(a.position.lineNumber);return}this._hideWidgets()}_onKeyDown(e){e.keyCode!==5&&e.keyCode!==6&&e.keyCode!==57&&e.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var e,t,i;this._isMouseDown&&this._hoverClicked&&((e=this._contentWidget)===null||e===void 0?void 0:e.isColorPickerVisible())||(this._hoverClicked=!1,(t=this._glyphWidget)===null||t===void 0||t.hide(),(i=this._contentWidget)===null||i===void 0||i.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(BS,this._editor)),this._contentWidget}isColorPickerVisible(){var e;return((e=this._contentWidget)===null||e===void 0?void 0:e.isColorPickerVisible())||!1}showContentHover(e,t,i){this._getOrCreateContentWidget().startShowingAtRange(e,t,i)}dispose(){var e,t;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(e=this._glyphWidget)===null||e===void 0||e.dispose(),(t=this._contentWidget)===null||t===void 0||t.dispose()}};Hu.ID="editor.contrib.hover";Hu=Jbe([kT(1,ze),kT(2,so),kT(3,Gt),kT(4,Le)],Hu);var $Q=class extends we{constructor(){super({id:"editor.action.showHover",label:g({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:F.editorTextFocus,primary:an(2089,2087),weight:100}})}run(e,t){if(!t.hasModel())return;let i=Hu.get(t);if(!i)return;let n=t.getPosition(),o=new D(n.lineNumber,n.column,n.lineNumber,n.column),s=t.getOption(2)===2;i.showContentHover(o,1,s)}},KQ=class extends we{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:g({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(e,t){let i=Hu.get(t);if(!i)return;let n=t.getPosition();if(!n)return;let o=new D(n.lineNumber,n.column,n.lineNumber,n.column),s=Mg.get(t);if(!s)return;s.startFindDefinitionFromCursor(n).then(()=>{i.showContentHover(o,1,!0)})}};st(Hu.ID,Hu);de($Q);de(KQ);pl.register(Iw);pl.register(LT);yt((r,e)=>{let t=r.getColor($z);t&&e.addRule(`.monaco-editor .hoverHighlight { background-color: ${t}; }`);let i=r.getColor(iu);i&&e.addRule(`.monaco-editor .monaco-hover { background-color: ${i}; }`);let n=r.getColor(jL);n&&(e.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${n}; }`),e.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${n.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${n.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${n.transparent(.5)}; }`));let o=r.getColor(Kf);o&&e.addRule(`.monaco-editor .monaco-hover a { color: ${o}; }`);let s=r.getColor(qf);s&&e.addRule(`.monaco-editor .monaco-hover a:hover { color: ${s}; }`);let a=r.getColor(BL);a&&e.addRule(`.monaco-editor .monaco-hover { color: ${a}; }`);let l=r.getColor(Kz);l&&e.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${l}; }`);let c=r.getColor(LL);c&&e.addRule(`.monaco-editor .monaco-hover code { background-color: ${c}; }`)});var IT=class extends ${constructor(e){super();this._editor=e,this._register(e.onMouseDown(t=>this.onMouseDown(t)))}dispose(){super.dispose()}onMouseDown(e){let t=e.target;if(t.type!==6||!t.detail.injectedText||t.detail.injectedText.options.attachedData!==V3||!t.range)return;let i=this._editor.getContribution(Hu.ID);if(!!i&&!i.isColorPickerVisible()){let n=new D(t.range.startLineNumber,t.range.startColumn+1,t.range.endLineNumber,t.range.endColumn+1);i.showContentHover(n,1,!1)}}};IT.ID="editor.contrib.colorContribution";st(IT.ID,IT);pl.register(eT);Ha();kt();ye();Wi();no();sc();lt();ye();mi();var Gc=class{constructor(e,t,i){this.languageConfigurationService=i,this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,i){if(i<0)return!1;let n=t.length,o=e.length;if(i+n>o)return!1;for(let s=0;s<n;s++){let a=e.charCodeAt(i+s),l=t.charCodeAt(s);if(a!==l&&!(a>=65&&a<=90&&a+32===l)&&!(l>=65&&l<=90&&l+32===a))return!1}return!0}_createOperationsForBlockComment(e,t,i,n,o,s){let a=e.startLineNumber,l=e.startColumn,c=e.endLineNumber,d=e.endColumn,h=o.getLineContent(a),u=o.getLineContent(c),f=h.lastIndexOf(t,l-1+t.length),m=u.indexOf(i,d-1-i.length);if(f!==-1&&m!==-1)if(a===c)h.substring(f+t.length,m).indexOf(i)>=0&&(f=-1,m=-1);else{let w=h.substring(f+t.length),y=u.substring(0,m);(w.indexOf(i)>=0||y.indexOf(i)>=0)&&(f=-1,m=-1)}let _;f!==-1&&m!==-1?(n&&f+t.length<h.length&&h.charCodeAt(f+t.length)===32&&(t=t+" "),n&&m>0&&u.charCodeAt(m-1)===32&&(i=" "+i,m-=1),_=Gc._createRemoveBlockCommentOperations(new D(a,f+t.length+1,c,m+1),t,i)):(_=Gc._createAddBlockCommentOperations(e,t,i,this._insertSpace),this._usedEndToken=_.length===1?i:null);for(let w of _)s.addTrackedEditOperation(w.range,w.text)}static _createRemoveBlockCommentOperations(e,t,i){let n=[];return D.isEmpty(e)?n.push(vi.delete(new D(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+i.length))):(n.push(vi.delete(new D(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),n.push(vi.delete(new D(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+i.length)))),n}static _createAddBlockCommentOperations(e,t,i,n){let o=[];return D.isEmpty(e)?o.push(vi.replace(new D(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+i)):(o.push(vi.insert(new V(e.startLineNumber,e.startColumn),t+(n?" ":""))),o.push(vi.insert(new V(e.endLineNumber,e.endColumn),(n?" ":"")+i))),o}getEditOperations(e,t){let i=this._selection.startLineNumber,n=this._selection.startColumn;e.tokenizeIfCheap(i);let o=e.getLanguageIdAtPosition(i,n),s=this.languageConfigurationService.getLanguageConfiguration(o).comments;!s||!s.blockCommentStartToken||!s.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,s.blockCommentStartToken,s.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){let i=t.getInverseEditOperations();if(i.length===2){let n=i[0],o=i[1];return new he(n.range.endLineNumber,n.range.endColumn,o.range.startLineNumber,o.range.startColumn)}else{let n=i[0].range,o=this._usedEndToken?-this._usedEndToken.length-1:0;return new he(n.endLineNumber,n.endColumn+o,n.endLineNumber,n.endColumn+o)}}};He();sc();lt();ye();mi();no();var Xc=class{constructor(e,t,i,n,o,s,a){this.languageConfigurationService=e,this._selection=t,this._tabSize=i,this._type=n,this._insertSpace=o,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=s,this._ignoreFirstLine=a||!1}static _gatherPreflightCommentStrings(e,t,i,n){e.tokenizeIfCheap(t);let o=e.getLanguageIdAtPosition(t,1),s=n.getLanguageConfiguration(o).comments,a=s?s.lineCommentToken:null;if(!a)return null;let l=[];for(let c=0,d=i-t+1;c<d;c++)l[c]={ignore:!1,commentStr:a,commentStrOffset:0,commentStrLength:a.length};return l}static _analyzeLines(e,t,i,n,o,s,a,l){let c=!0,d;e===0?d=!0:e===1?d=!1:d=!0;for(let h=0,u=n.length;h<u;h++){let f=n[h],m=o+h;if(m===o&&a){f.ignore=!0;continue}let _=i.getLineContent(m),w=wn(_);if(w===-1){f.ignore=s,f.commentStrOffset=_.length;continue}if(c=!1,f.ignore=!1,f.commentStrOffset=w,d&&!Gc._haystackHasNeedleAtOffset(_,f.commentStr,w)&&(e===0?d=!1:e===1||(f.ignore=!0)),d&&t){let y=w+f.commentStrLength;y<_.length&&_.charCodeAt(y)===32&&(f.commentStrLength+=1)}}if(e===0&&c){d=!1;for(let h=0,u=n.length;h<u;h++)n[h].ignore=!1}return{supported:!0,shouldRemoveComments:d,lines:n}}static _gatherPreflightData(e,t,i,n,o,s,a,l){let c=Xc._gatherPreflightCommentStrings(i,n,o,l);return c===null?{supported:!1}:Xc._analyzeLines(e,t,i,c,n,s,a,l)}_executeLineComments(e,t,i,n){let o;i.shouldRemoveComments?o=Xc._createRemoveLineCommentsOperations(i.lines,n.startLineNumber):(Xc._normalizeInsertionPoint(e,i.lines,n.startLineNumber,this._tabSize),o=this._createAddLineCommentsOperations(i.lines,n.startLineNumber));let s=new V(n.positionLineNumber,n.positionColumn);for(let a=0,l=o.length;a<l;a++)t.addEditOperation(o[a].range,o[a].text),D.isEmpty(o[a].range)&&D.getStartPosition(o[a].range).equals(s)&&e.getLineContent(s.lineNumber).length+1===s.column&&(this._deltaColumn=(o[a].text||"").length);this._selectionId=t.trackSelection(n)}_attemptRemoveBlockComment(e,t,i,n){let o=t.startLineNumber,s=t.endLineNumber,a=n.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),l=e.getLineContent(o).lastIndexOf(i,a-1),c=e.getLineContent(s).indexOf(n,t.endColumn-1-i.length);return l!==-1&&c===-1&&(c=e.getLineContent(o).indexOf(n,l+i.length),s=o),l===-1&&c!==-1&&(l=e.getLineContent(s).lastIndexOf(i,c),o=s),t.isEmpty()&&(l===-1||c===-1)&&(l=e.getLineContent(o).indexOf(i),l!==-1&&(c=e.getLineContent(o).indexOf(n,l+i.length))),l!==-1&&e.getLineContent(o).charCodeAt(l+i.length)===32&&(i+=" "),c!==-1&&e.getLineContent(s).charCodeAt(c-1)===32&&(n=" "+n,c-=1),l!==-1&&c!==-1?Gc._createRemoveBlockCommentOperations(new D(o,l+i.length+1,s,c+1),i,n):null}_executeBlockComment(e,t,i){e.tokenizeIfCheap(i.startLineNumber);let n=e.getLanguageIdAtPosition(i.startLineNumber,1),o=qi.getComments(n);if(!o||!o.blockCommentStartToken||!o.blockCommentEndToken)return;let s=o.blockCommentStartToken,a=o.blockCommentEndToken,l=this._attemptRemoveBlockComment(e,i,s,a);if(!l){if(i.isEmpty()){let c=e.getLineContent(i.startLineNumber),d=wn(c);d===-1&&(d=c.length),l=Gc._createAddBlockCommentOperations(new D(i.startLineNumber,d+1,i.startLineNumber,c.length+1),s,a,this._insertSpace)}else l=Gc._createAddBlockCommentOperations(new D(i.startLineNumber,e.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),s,a,this._insertSpace);l.length===1&&(this._deltaColumn=s.length+1)}this._selectionId=t.trackSelection(i);for(let c of l)t.addEditOperation(c.range,c.text)}getEditOperations(e,t){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine){t.addEditOperation(new D(i.startLineNumber,e.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===e.getLineCount()?"":`
`),this._selectionId=t.trackSelection(i);return}i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));let n=Xc._gatherPreflightData(this._type,this._insertSpace,e,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return n.supported?this._executeLineComments(e,t,n,i):this._executeBlockComment(e,t,i)}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new he(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){let i=[];for(let n=0,o=e.length;n<o;n++){let s=e[n];s.ignore||i.push(vi.delete(new D(t+n,s.commentStrOffset+1,t+n,s.commentStrOffset+s.commentStrLength+1)))}return i}_createAddLineCommentsOperations(e,t){let i=[],n=this._insertSpace?" ":"";for(let o=0,s=e.length;o<s;o++){let a=e[o];a.ignore||i.push(vi.insert(new V(t+o,a.commentStrOffset+1),a.commentStr+n))}return i}static nextVisibleColumn(e,t,i,n){return i?e+(t-e%t):e+n}static _normalizeInsertionPoint(e,t,i,n){let o=1073741824,s,a;for(let l=0,c=t.length;l<c;l++){if(t[l].ignore)continue;let d=e.getLineContent(i+l),h=0;for(let u=0,f=t[l].commentStrOffset;h<o&&u<f;u++)h=Xc.nextVisibleColumn(h,n,d.charCodeAt(u)===9,1);h<o&&(o=h)}o=Math.floor(o/n)*n;for(let l=0,c=t.length;l<c;l++){if(t[l].ignore)continue;let d=e.getLineContent(i+l),h=0;for(s=0,a=t[l].commentStrOffset;h<o&&s<a;s++)h=Xc.nextVisibleColumn(h,n,d.charCodeAt(s)===9,1);h>o?t[l].commentStrOffset=s-1:t[l].commentStrOffset=s}}};ke();Mo();var OT=class extends we{constructor(e,t){super(t);this._type=e}run(e,t){let i=e.get(en);if(!t.hasModel())return;let n=t.getModel(),o=[],s=n.getOptions(),a=t.getOption(19),l=t.getSelections().map((d,h)=>({selection:d,index:h,ignoreFirstLine:!1}));l.sort((d,h)=>D.compareRangesUsingStarts(d.selection,h.selection));let c=l[0];for(let d=1;d<l.length;d++){let h=l[d];c.selection.endLineNumber===h.selection.startLineNumber&&(c.index<h.index?h.ignoreFirstLine=!0:(c.ignoreFirstLine=!0,c=h))}for(let d of l)o.push(new Xc(i,d.selection,s.tabSize,this._type,a.insertSpace,a.ignoreEmptyLines,d.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}},qQ=class extends OT{constructor(){super(0,{id:"editor.action.commentLine",label:g("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:H.MenubarEditMenu,group:"5_insert",title:g({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}},YQ=class extends OT{constructor(){super(1,{id:"editor.action.addCommentLine",label:g("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:an(2089,2081),weight:100}})}},ZQ=class extends OT{constructor(){super(2,{id:"editor.action.removeCommentLine",label:g("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:an(2089,2099),weight:100}})}},GQ=class extends we{constructor(){super({id:"editor.action.blockComment",label:g("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:H.MenubarEditMenu,group:"5_insert",title:g({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(e,t){let i=e.get(en);if(!t.hasModel())return;let n=t.getOption(19),o=[],s=t.getSelections();for(let a of s)o.push(new Gc(a,n.insertSpace,i));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}};de(qQ);de(YQ);de(ZQ);de(GQ);Be();ss();re();xt();kt();Wi();ke();Mo();Et();var eve=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},HS=function(r,e){return function(t,i){e(t,i,r)}},Tw=class XQ{constructor(e,t,i,n,o,s){this._contextMenuService=t,this._contextViewService=i,this._contextKeyService=n,this._keybindingService=o,this._menuService=s,this._toDispose=new J,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu(a=>this._onContextMenu(a))),this._toDispose.add(this._editor.onMouseWheel(a=>{if(this._contextMenuIsBeingShownCount>0){let l=this._contextViewService.getContextViewElement(),c=a.srcElement;c.shadowRoot&&nl(l)===c.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(a=>{a.keyCode===58&&(a.preventDefault(),a.stopPropagation(),this.showContextMenu())}))}static get(e){return e.getContribution(XQ.ID)}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(20)){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);return}if(e.target.type===12||e.target.type===6&&e.target.detail.injectedText||(e.event.preventDefault(),e.event.stopPropagation(),e.target.type!==6&&e.target.type!==7&&e.target.type!==1))return;if(this._editor.focus(),e.target.position){let i=!1;for(let n of this._editor.getSelections())if(n.containsPosition(e.target.position)){i=!0;break}i||this._editor.setPosition(e.target.position)}let t=null;e.target.type!==1&&(t={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(t)}showContextMenu(e){if(!this._editor.getOption(20)||!this._editor.hasModel())return;if(!this._contextMenuService){this._editor.focus();return}let t=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?H.SimpleEditorContext:H.EditorContext);t.length>0&&this._doShowContextMenu(t,e)}_getMenuActions(e,t){let i=[],n=this._menuService.createMenu(t,this._contextKeyService),o=n.getActions({arg:e.uri});n.dispose();for(let s of o){let[,a]=s,l=0;for(let c of a)if(c instanceof Gm){let d=this._getMenuActions(e,c.item.submenu);d.length>0&&(i.push(new Hh(c.id,c.label,d)),l++)}else i.push(c),l++;l&&i.push(new $o)}return i.length&&i.pop(),i}_doShowContextMenu(e,t=null){if(!this._editor.hasModel())return;let i=this._editor.getOption(53);if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();let o=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),s=ji(this._editor.getDomNode()),a=s.left+o.left,l=s.top+o.top+o.height;t={x:a,y:l}}let n=this._editor.getOption(115)&&!Jr;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:n?this._editor.getDomNode():void 0,getAnchor:()=>t,getActions:()=>e,getActionViewItem:o=>{let s=this._keybindingFor(o);if(s)return new Gd(o,o,{label:!0,keybinding:s.getLabel(),isMenu:!0});let a=o;return typeof a.getActionViewItem=="function"?a.getActionViewItem():new Gd(o,o,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:o=>this._keybindingFor(o),onHide:o=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:i})}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};Tw.ID="editor.contrib.contextmenu";Tw=eve([HS(1,Js),HS(2,wu),HS(3,Le),HS(4,Di),HS(5,La)],Tw);var QQ=class extends we{constructor(){super({id:"editor.action.showContextMenu",label:g("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:F.textInputFocus,primary:1092,weight:100}})}run(e,t){var i;(i=Tw.get(t))===null||i===void 0||i.showContextMenu()}};st(Tw.ID,Tw);de(QQ);re();kt();Wi();ke();var TT=class{constructor(e){this.selections=e}equals(e){let t=this.selections.length,i=e.selections.length;if(t!==i)return!1;for(let n=0;n<t;n++)if(!this.selections[n].equalsSelection(e.selections[n]))return!1;return!0}},NT=class{constructor(e,t,i){this.cursorState=e,this.scrollTop=t,this.scrollLeft=i}},jg=class extends ${constructor(e){super();this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeModelContent(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeCursorSelection(t=>{if(this._isCursorUndoRedo||!t.oldSelections||t.oldModelVersionId!==t.modelVersionId)return;let i=new TT(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(i)||(this._undoStack.push(new NT(i,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(e){return e.getContribution(jg.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new NT(new TT(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new NT(new TT(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}};jg.ID="editor.contrib.cursorUndoRedoController";var JQ=class extends we{constructor(){super({id:"cursorUndo",label:g("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:F.textInputFocus,primary:2099,weight:100}})}run(e,t,i){var n;(n=jg.get(t))===null||n===void 0||n.cursorUndo()}},eJ=class extends we{constructor(){super({id:"cursorRedo",label:g("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(e,t,i){var n;(n=jg.get(t))===null||n===void 0||n.cursorRedo()}};st(jg.ID,jg);de(JQ);de(eJ);re();xt();kt();lt();ye();mi();Fo();ye();mi();var o8=class{constructor(e,t,i){this.selection=e,this.targetPosition=t,this.copy=i,this.targetSelection=null}getEditOperations(e,t){let i=e.getValueInRange(this.selection);if(this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new D(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new he(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new he(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new he(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new he(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new he(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(e,t){return this.targetSelection}};function Nw(r){return Je?r.altKey:r.ctrlKey}var bh=class extends ${constructor(e){super();this._editor=e,this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(t))),this._register(this._editor.onMouseDrag(t=>this._onEditorMouseDrag(t))),this._register(this._editor.onMouseDrop(t=>this._onEditorMouseDrop(t))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(t=>this.onEditorKeyDown(t))),this._register(this._editor.onKeyUp(t=>this.onEditorKeyUp(t))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){!this._editor.getOption(31)||this._editor.getOption(18)||(Nw(e)&&(this._modifierPressed=!0),this._mouseDown&&Nw(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){!this._editor.getOption(31)||this._editor.getOption(18)||(Nw(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===bh.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){let t=e.target;if(this._dragSelection===null){let n=(this._editor.getSelections()||[]).filter(o=>t.position&&o.containsPosition(t.position));if(n.length===1)this._dragSelection=n[0];else return}Nw(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){let t=new V(e.target.position.lineNumber,e.target.position.column);if(this._dragSelection===null){let i=null;if(e.event.shiftKey){let n=this._editor.getSelection();if(n){let{selectionStartLineNumber:o,selectionStartColumn:s}=n;i=[new he(o,s,t.lineNumber,t.column)]}}else i=(this._editor.getSelections()||[]).map(n=>n.containsPosition(t)?new he(t.lineNumber,t.column,t.lineNumber,t.column):n);this._editor.setSelections(i||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(Nw(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(bh.ID,new o8(this._dragSelection,t,Nw(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){let t=[{range:new D(e.lineNumber,e.column,e.lineNumber,e.column),options:bh._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,t),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(e){return e.type===6||e.type===7}_hitMargin(e){return e.type===2||e.type===3||e.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}};bh.ID="editor.contrib.dragAndDrop";bh.TRIGGER_KEY_VALUE=Je?6:5;bh._DECORATION_OPTIONS=ot.register({description:"dnd-target",className:"dnd-target"});st(bh.ID,bh);nt();re();He();kt();Wi();jt();nt();re();lt();ye();mi();p0();ye();Us();Fo();Li();pt();var lr=class{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){let e=this._findScopeDecorationIds.map(t=>this._editor.getModel().getDecorationRange(t)).filter(t=>!!t);if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){let t=this._decorations.indexOf(e);return t>=0?t+1:1}getCurrentMatchesPosition(e){let t=this._editor.getModel().getDecorationsInRange(e);for(let i of t){let n=i.options;if(n===lr._FIND_MATCH_DECORATION||n===lr._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(i.id)}return 0}setCurrentFindMatch(e){let t=null,i=0;if(e)for(let n=0,o=this._decorations.length;n<o;n++){let s=this._editor.getModel().getDecorationRange(this._decorations[n]);if(e.equalsRange(s)){t=this._decorations[n],i=n+1;break}}return(this._highlightedDecorationId!==null||t!==null)&&this._editor.changeDecorations(n=>{if(this._highlightedDecorationId!==null&&(n.changeDecorationOptions(this._highlightedDecorationId,lr._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),t!==null&&(this._highlightedDecorationId=t,n.changeDecorationOptions(this._highlightedDecorationId,lr._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(n.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),t!==null){let o=this._editor.getModel().getDecorationRange(t);if(o.startLineNumber!==o.endLineNumber&&o.endColumn===1){let s=o.endLineNumber-1,a=this._editor.getModel().getLineMaxColumn(s);o=new D(o.startLineNumber,o.startColumn,s,a)}this._rangeHighlightDecorationId=n.addDecoration(o,lr._RANGE_HIGHLIGHT_DECORATION)}}),i}set(e,t){this._editor.changeDecorations(i=>{let n=lr._FIND_MATCH_DECORATION,o=[];if(e.length>1e3){n=lr._FIND_MATCH_NO_OVERVIEW_DECORATION;let a=this._editor.getModel().getLineCount(),c=this._editor.getLayoutInfo().height/a,d=Math.max(2,Math.ceil(3/c)),h=e[0].range.startLineNumber,u=e[0].range.endLineNumber;for(let f=1,m=e.length;f<m;f++){let _=e[f].range;u+d>=_.startLineNumber?_.endLineNumber>u&&(u=_.endLineNumber):(o.push({range:new D(h,1,u,1),options:lr._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),h=_.startLineNumber,u=_.endLineNumber)}o.push({range:new D(h,1,u,1),options:lr._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let s=new Array(e.length);for(let a=0,l=e.length;a<l;a++)s[a]={range:e[a].range,options:n};this._decorations=i.deltaDecorations(this._decorations,s),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,o),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(a=>i.removeDecoration(a)),this._findScopeDecorationIds=[]),t?.length&&(this._findScopeDecorationIds=t.map(a=>i.addDecoration(a,lr._FIND_SCOPE_DECORATION)))})}matchBeforePosition(e){if(this._decorations.length===0)return null;for(let t=this._decorations.length-1;t>=0;t--){let i=this._decorations[t],n=this._editor.getModel().getDecorationRange(i);if(!(!n||n.endLineNumber>e.lineNumber)){if(n.endLineNumber<e.lineNumber)return n;if(!(n.endColumn>e.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(this._decorations.length===0)return null;for(let t=0,i=this._decorations.length;t<i;t++){let n=this._decorations[t],o=this._editor.getModel().getDecorationRange(n);if(!(!o||o.startLineNumber<e.lineNumber)){if(o.startLineNumber>e.lineNumber)return o;if(!(o.startColumn<e.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}};lr._CURRENT_FIND_MATCH_DECORATION=ot.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:rn(UL),position:Ar.Center},minimap:{color:rn(Jb),position:Rr.Inline}});lr._FIND_MATCH_DECORATION=ot.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:rn(UL),position:Ar.Center},minimap:{color:rn(Jb),position:Rr.Inline}});lr._FIND_MATCH_NO_OVERVIEW_DECORATION=ot.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0});lr._FIND_MATCH_ONLY_OVERVIEW_DECORATION=ot.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:rn(UL),position:Ar.Center}});lr._RANGE_HIGHLIGHT_DECORATION=ot.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0});lr._FIND_SCOPE_DECORATION=ot.register({description:"find-scope",className:"findScope",isWholeLine:!0});ye();var r8=class{constructor(e,t,i){this._editorSelection=e,this._ranges=t,this._replaceStrings=i,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){let i=[];for(let s=0;s<this._ranges.length;s++)i.push({range:this._ranges[s],text:this._replaceStrings[s]});i.sort((s,a)=>D.compareRangesUsingStarts(s.range,a.range));let n=[],o=i[0];for(let s=1;s<i.length;s++)o.range.endLineNumber===i[s].range.startLineNumber&&o.range.endColumn===i[s].range.startColumn?(o.range=o.range.plusRange(i[s].range),o.text=o.text+i[s].text):(n.push(o),o=i[s]);n.push(o);for(let s of n)t.addEditOperation(s.range,s.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}};He();function s8(r,e){if(r&&r[0]!==""){let t=tJ(r,e,"-"),i=tJ(r,e,"_");return t&&!i?iJ(r,e,"-"):!t&&i?iJ(r,e,"_"):r[0].toUpperCase()===r[0]?e.toUpperCase():r[0].toLowerCase()===r[0]?e.toLowerCase():aW(r[0][0])&&e.length>0?e[0].toUpperCase()+e.substr(1):r[0][0].toUpperCase()!==r[0][0]&&e.length>0?e[0].toLowerCase()+e.substr(1):e}else return e}function tJ(r,e,t){return r[0].indexOf(t)!==-1&&e.indexOf(t)!==-1&&r[0].split(t).length===e.split(t).length}function iJ(r,e,t){let i=e.split(t),n=r[0].split(t),o="";return i.forEach((s,a)=>{o+=s8([n[a]],s)+t}),o.slice(0,-1)}var a8=class{constructor(e){this.staticValue=e,this.kind=0}},nJ=class{constructor(e){this.pieces=e,this.kind=1}},Ug=class{constructor(e){!e||e.length===0?this._state=new a8(""):e.length===1&&e[0].staticValue!==null?this._state=new a8(e[0].staticValue):this._state=new nJ(e)}static fromStaticValue(e){return new Ug([Wg.staticValue(e)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(e,t){if(this._state.kind===0)return t?s8(e,this._state.staticValue):this._state.staticValue;let i="";for(let n=0,o=this._state.pieces.length;n<o;n++){let s=this._state.pieces[n];if(s.staticValue!==null){i+=s.staticValue;continue}let a=Ug._substitute(s.matchIndex,e);if(s.caseOps!==null&&s.caseOps.length>0){let l=[],c=s.caseOps.length,d=0;for(let h=0,u=a.length;h<u;h++){if(d>=c){l.push(a.slice(h));break}switch(s.caseOps[d]){case"U":l.push(a[h].toUpperCase());break;case"u":l.push(a[h].toUpperCase()),d++;break;case"L":l.push(a[h].toLowerCase());break;case"l":l.push(a[h].toLowerCase()),d++;break;default:l.push(a[h])}}a=l.join("")}i+=a}return i}static _substitute(e,t){if(t===null)return"";if(e===0)return t[0];let i="";for(;e>0;){if(e<t.length)return(t[e]||"")+i;i=String(e%10)+i,e=Math.floor(e/10)}return"$"+i}},Wg=class{constructor(e,t,i){this.staticValue=e,this.matchIndex=t,!i||i.length===0?this.caseOps=null:this.caseOps=i.slice(0)}static staticValue(e){return new Wg(e,-1,null)}static caseOps(e,t){return new Wg(null,e,t)}},oJ=class{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){e.length!==0&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,i){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=Wg.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=Wg.caseOps(e,i),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=Wg.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new Ug(this._result)}};function rJ(r){if(!r||r.length===0)return new Ug(null);let e=[],t=new oJ(r);for(let i=0,n=r.length;i<n;i++){let o=r.charCodeAt(i);if(o===92){if(i++,i>=n)break;let s=r.charCodeAt(i);switch(s){case 92:t.emitUnchanged(i-1),t.emitStatic("\\",i+1);break;case 110:t.emitUnchanged(i-1),t.emitStatic(`
`,i+1);break;case 116:t.emitUnchanged(i-1),t.emitStatic("	",i+1);break;case 117:case 85:case 108:case 76:t.emitUnchanged(i-1),t.emitStatic("",i+1),e.push(String.fromCharCode(s));break}continue}if(o===36){if(i++,i>=n)break;let s=r.charCodeAt(i);if(s===36){t.emitUnchanged(i-1),t.emitStatic("$",i+1);continue}if(s===48||s===38){t.emitUnchanged(i-1),t.emitMatchIndex(0,i+1,e),e.length=0;continue}if(49<=s&&s<=57){let a=s-48;if(i+1<n){let l=r.charCodeAt(i+1);if(48<=l&&l<=57){i++,a=a*10+(l-48),t.emitUnchanged(i-2),t.emitMatchIndex(a,i+1,e),e.length=0;continue}}t.emitUnchanged(i-1),t.emitMatchIndex(a,i+1,e),e.length=0;continue}}}return t.finalize()}Et();var $u=new Se("findWidgetVisible",!1),xSt=$u.toNegated(),Pw=new Se("findInputFocussed",!1),$S=new Se("replaceInputFocussed",!1),KS={primary:545,mac:{primary:2593}},qS={primary:565,mac:{primary:2613}},YS={primary:560,mac:{primary:2608}},ZS={primary:554,mac:{primary:2602}},GS={primary:558,mac:{primary:2606}},Mi={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},vh=19999,tve=240,__=class{constructor(e,t){this._toDispose=new J,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new mn,this._decorations=new lr(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new wt(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(i=>{(i.reason===3||i.reason===5||i.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(i=>{this._ignoreModelContentChanged||(i.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(i=>this._onStateChanged(i))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,dt(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){this._isDisposed||!this._editor.hasModel()||(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)},tve)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let i=null;typeof t<"u"?t!==null&&(Array.isArray(t)?i=t:i=[t]):i=this._decorations.getFindScopes(),i!==null&&(i=i.map(a=>{if(a.startLineNumber!==a.endLineNumber){let l=a.endLineNumber;return a.endColumn===1&&(l=l-1),new D(a.startLineNumber,1,l,this._editor.getModel().getLineMaxColumn(l))}return a}));let n=this._findMatches(i,!1,vh);this._decorations.set(n,i);let o=this._editor.getSelection(),s=this._decorations.getCurrentMatchesPosition(o);if(s===0&&n.length>0){let a=gx(n.map(l=>l.range),l=>D.compareRangesUsingStarts(l,o)>=0);s=a>0?a-1+1:s}this._state.changeMatchInfo(s,this._decorations.getCount(),void 0),e&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){let t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:n}=e,o=this._editor.getModel();return t||n===1?(i===1?i=o.getLineCount():i--,n=o.getLineMaxColumn(i)):n--,new V(i,n)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){let d=this._decorations.matchAfterPosition(e);d&&this._setCurrentFindMatch(d);return}if(this._decorations.getCount()<vh){let d=this._decorations.matchBeforePosition(e);d&&d.isEmpty()&&d.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),d=this._decorations.matchBeforePosition(e)),d&&this._setCurrentFindMatch(d);return}if(this._cannotFind())return;let i=this._decorations.getFindScope(),n=__._getSearchRange(this._editor.getModel(),i);n.getEndPosition().isBefore(e)&&(e=n.getEndPosition()),e.isBefore(n.getStartPosition())&&(e=n.getEndPosition());let{lineNumber:o,column:s}=e,a=this._editor.getModel(),l=new V(o,s),c=a.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1);if(c&&c.range.isEmpty()&&c.range.getStartPosition().equals(l)&&(l=this._prevSearchPosition(l),c=a.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1)),!!c){if(!t&&!n.containsRange(c.range))return this._moveToPrevMatch(c.range.getStartPosition(),!0);this._setCurrentFindMatch(c.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:n}=e,o=this._editor.getModel();return t||n===o.getLineMaxColumn(i)?(i===o.getLineCount()?i=1:i++,n=1):n++,new V(i,n)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){let i=this._decorations.matchBeforePosition(e);i&&this._setCurrentFindMatch(i);return}if(this._decorations.getCount()<vh){let i=this._decorations.matchAfterPosition(e);i&&i.isEmpty()&&i.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),i=this._decorations.matchAfterPosition(e)),i&&this._setCurrentFindMatch(i);return}let t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,i,n=!1){if(this._cannotFind())return null;let o=this._decorations.getFindScope(),s=__._getSearchRange(this._editor.getModel(),o);s.getEndPosition().isBefore(e)&&(e=s.getStartPosition()),e.isBefore(s.getStartPosition())&&(e=s.getStartPosition());let{lineNumber:a,column:l}=e,c=this._editor.getModel(),d=new V(a,l),h=c.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,t);return i&&h&&h.range.isEmpty()&&h.range.getStartPosition().equals(d)&&(d=this._nextSearchPosition(d),h=c.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,t)),h?!n&&!s.containsRange(h.range)?this._getNextMatch(h.range.getEndPosition(),t,i,!0):h:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?rJ(this._state.replaceString):Ug.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let e=this._getReplacePattern(),t=this._editor.getSelection(),i=this._getNextMatch(t.getStartPosition(),!0,!1);if(i)if(t.equalsRange(i.range)){let n=e.buildReplaceString(i.matches,this._state.preserveCase),o=new Fn(t,n);this._executeEditorCommand("replace",o),this._decorations.setStartPosition(new V(t.startLineNumber,t.startColumn+n.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}_findMatches(e,t,i){let n=(e||[null]).map(o=>__._getSearchRange(this._editor.getModel(),o));return this._editor.getModel().findMatches(this._state.searchString,n,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,t,i)}replaceAll(){if(!this._hasMatches())return;let e=this._decorations.getFindScopes();e===null&&this._state.matchesCount>=vh?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){let t=new yd(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null).parseSearchRequest();if(!t)return;let i=t.regex;if(!i.multiline){let h="mu";i.ignoreCase&&(h+="i"),i.global&&(h+="g"),i=new RegExp(i.source,h)}let n=this._editor.getModel(),o=n.getValue(1),s=n.getFullModelRange(),a=this._getReplacePattern(),l,c=this._state.preserveCase;a.hasReplacementPatterns||c?l=o.replace(i,function(){return a.buildReplaceString(arguments,c)}):l=o.replace(i,a.buildReplaceString(null,c));let d=new dp(s,l,this._editor.getSelection());this._executeEditorCommand("replaceAll",d)}_regularReplaceAll(e){let t=this._getReplacePattern(),i=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),n=[];for(let s=0,a=i.length;s<a;s++)n[s]=t.buildReplaceString(i[s].matches,this._state.preserveCase);let o=new r8(this._editor.getSelection(),i.map(s=>s.range),n);this._executeEditorCommand("replaceAll",o)}selectAllMatches(){if(!this._hasMatches())return;let e=this._decorations.getFindScopes(),i=this._findMatches(e,!1,1073741824).map(o=>new he(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn)),n=this._editor.getSelection();for(let o=0,s=i.length;o<s;o++)if(i[o].equalsRange(n)){i=[n].concat(i.slice(0,o)).concat(i.slice(o+1));break}this._editor.setSelections(i)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}};Be();nt();Li();pt();var Mw=class extends Ro{constructor(e,t,i,n){super();this._hideSoon=this._register(new wt(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");let o=n.getColorTheme().getColor(Y0),s=n.getColorTheme().getColor(G0),a=n.getColorTheme().getColor(Z0);this.caseSensitive=this._register(new NS({appendTitle:this._keybindingLabelFor(Mi.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:o,inputActiveOptionForeground:s,inputActiveOptionBackground:a})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new PS({appendTitle:this._keybindingLabelFor(Mi.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:o,inputActiveOptionForeground:s,inputActiveOptionBackground:a})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new MS({appendTitle:this._keybindingLabelFor(Mi.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:o,inputActiveOptionForeground:s,inputActiveOptionBackground:a})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(l=>{let c=!1;l.isRegex&&(this.regex.checked=this._state.isRegex,c=!0),l.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,c=!0),l.matchCase&&(this.caseSensitive.checked=this._state.matchCase,c=!0),!this._state.isRevealed&&c&&this._revealTemporarily()})),this._register(qb(this._domNode,l=>this._onMouseOut())),this._register(se(this._domNode,"mouseover",l=>this._onMouseOver())),this._applyTheme(n.getColorTheme()),this._register(n.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Mw.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(Y0),inputActiveOptionForeground:e.getColor(G0),inputActiveOptionBackground:e.getColor(Z0)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)}};Mw.ID="editor.contrib.findOptionsWidget";yt((r,e)=>{let t=r.getColor(or);t&&e.addRule(`.monaco-editor .findOptionsWidget { background-color: ${t}; }`);let i=r.getColor(Nd);i&&e.addRule(`.monaco-editor .findOptionsWidget { color: ${i}; }`);let n=r.getColor(Ql);n&&e.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${n}; }`);let o=r.getColor(Ni);o&&e.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${o}; }`)});Ee();re();ye();function PT(r,e){return r===1?!0:r===2?!1:e}var l8=class extends ${constructor(){super();this._onFindReplaceStateChange=this._register(new B),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return PT(this._isRegexOverride,this._isRegex)}get wholeWord(){return PT(this._wholeWordOverride,this._wholeWord)}get matchCase(){return PT(this._matchCaseOverride,this._matchCase)}get preserveCase(){return PT(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(e,t,i){let n={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},o=!1;t===0&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,n.matchesPosition=!0,o=!0),this._matchesCount!==t&&(this._matchesCount=t,n.matchesCount=!0,o=!0),typeof i<"u"&&(D.equalsRange(this._currentMatch,i)||(this._currentMatch=i,n.currentMatch=!0,o=!0)),o&&this._onFindReplaceStateChange.fire(n)}change(e,t,i=!0){var n;let o={moveCursor:t,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},s=!1,a=this.isRegex,l=this.wholeWord,c=this.matchCase,d=this.preserveCase;typeof e.searchString<"u"&&this._searchString!==e.searchString&&(this._searchString=e.searchString,o.searchString=!0,s=!0),typeof e.replaceString<"u"&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,o.replaceString=!0,s=!0),typeof e.isRevealed<"u"&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,o.isRevealed=!0,s=!0),typeof e.isReplaceRevealed<"u"&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,o.isReplaceRevealed=!0,s=!0),typeof e.isRegex<"u"&&(this._isRegex=e.isRegex),typeof e.wholeWord<"u"&&(this._wholeWord=e.wholeWord),typeof e.matchCase<"u"&&(this._matchCase=e.matchCase),typeof e.preserveCase<"u"&&(this._preserveCase=e.preserveCase),typeof e.searchScope<"u"&&(!((n=e.searchScope)===null||n===void 0)&&n.every(h=>{var u;return(u=this._searchScope)===null||u===void 0?void 0:u.some(f=>!D.equalsRange(f,h))})||(this._searchScope=e.searchScope,o.searchScope=!0,s=!0)),typeof e.loop<"u"&&this._loop!==e.loop&&(this._loop=e.loop,o.loop=!0,s=!0),typeof e.isSearching<"u"&&this._isSearching!==e.isSearching&&(this._isSearching=e.isSearching,o.isSearching=!0,s=!0),typeof e.filters<"u"&&(this._filters?this._filters.update(e.filters):this._filters=e.filters,o.filters=!0,s=!0),this._isRegexOverride=typeof e.isRegexOverride<"u"?e.isRegexOverride:0,this._wholeWordOverride=typeof e.wholeWordOverride<"u"?e.wholeWordOverride:0,this._matchCaseOverride=typeof e.matchCaseOverride<"u"?e.matchCaseOverride:0,this._preserveCaseOverride=typeof e.preserveCaseOverride<"u"?e.preserveCaseOverride:0,a!==this.isRegex&&(s=!0,o.isRegex=!0),l!==this.wholeWord&&(s=!0,o.wholeWord=!0),c!==this.matchCase&&(s=!0,o.matchCase=!0),d!==this.preserveCase&&(s=!0,o.preserveCase=!0),s&&this._onFindReplaceStateChange.fire(o)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=vh}};Be();xs();nt();ln();ut();re();xt();He();ye();ke();function c8(r){var e,t;return((e=r.lookupKeybinding("history.showPrevious"))===null||e===void 0?void 0:e.getElectronAccelerator())==="Up"&&((t=r.lookupKeybinding("history.showNext"))===null||t===void 0?void 0:t.getElectronAccelerator())==="Down"}Li();pt();var ive=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},nve=bn("find-selection",p.selection,g("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),sJ=bn("find-collapsed",p.chevronRight,g("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),aJ=bn("find-expanded",p.chevronDown,g("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),ove=bn("find-replace",p.replace,g("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),rve=bn("find-replace-all",p.replaceAll,g("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),sve=bn("find-previous-match",p.arrowUp,g("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),ave=bn("find-next-match",p.arrowDown,g("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),lve=g("label.find","Find"),cve=g("placeholder.find","Find"),dve=g("label.previousMatchButton","Previous Match"),hve=g("label.nextMatchButton","Next Match"),uve=g("label.toggleSelectionFind","Find in Selection"),fve=g("label.closeButton","Close"),gve=g("label.replace","Replace"),mve=g("placeholder.replace","Replace"),pve=g("label.replaceButton","Replace"),_ve=g("label.replaceAllButton","Replace All"),bve=g("label.toggleReplaceButton","Toggle Replace"),vve=g("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",vh),wve=g("label.matchesLocation","{0} of {1}"),lJ=g("label.noResults","No results"),wh=419,Cve=275,yve=Cve-54,XS=69,Sve=33,cJ="ctrlEnterReplaceAll.windows.donotask",dJ=Je?256:2048,MT=class{constructor(e){this.afterLineNumber=e,this.heightInPx=Sve,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}};function hJ(r,e,t){let i=!!e.match(/\n/);if(t&&i&&t.selectionStart>0){r.stopPropagation();return}}function uJ(r,e,t){let i=!!e.match(/\n/);if(t&&i&&t.selectionEnd<t.value.length){r.stopPropagation();return}}var Aw=class extends Ro{constructor(e,t,i,n,o,s,a,l,c){super();this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=i,this._contextViewProvider=n,this._keybindingService=o,this._contextKeyService=s,this._storageService=l,this._notificationService=c,this._ctrlEnterReplaceAllWarningPrompted=!!l.getBoolean(cJ,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new pr(500),this._register(Ve(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(d=>this._onStateChanged(d))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(d=>{if(d.hasChanged(81)&&(this._codeEditor.getOption(81)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),d.hasChanged(131)&&this._tryUpdateWidgetWidth(),d.hasChanged(2)&&this.updateAccessibilitySupport(),d.hasChanged(35)){let h=this._codeEditor.getOption(35).addExtraSpaceOnTop;h&&!this._viewZone&&(this._viewZone=new MT(0),this._showViewZone()),!h&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>ive(this,void 0,void 0,function*(){if(this._isVisible){let d=yield this._controller.getGlobalBufferTerm();d&&d!==this._state.searchString&&(this._state.change({searchString:d},!1),this._findInput.select())}}))),this._findInputFocused=Pw.bindTo(s),this._findFocusTracker=this._register(Ic(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=$S.bindTo(s),this._replaceFocusTracker=this._register(Ic(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new MT(0)),this._applyTheme(a.getColorTheme()),this._register(a.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(d=>{if(d.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return Aw.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(81)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=Vs(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){let t=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",t),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,Ie)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=XS+"px",this._state.matchesCount>=vh?this._matchesCount.title=vve:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let e;if(this._state.matchesCount>0){let t=String(this._state.matchesCount);this._state.matchesCount>=vh&&(t+="+");let i=String(this._state.matchesPosition);i==="0"&&(i="?"),e=Ec(wve,i,t)}else e=lJ;this._matchesCount.appendChild(document.createTextNode(e)),Sn(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),XS=Math.max(XS,this._matchesCount.clientWidth)}_getAriaLabel(e,t,i){if(e===lJ)return i===""?g("ariaSearchNoResultEmpty","{0} found",e):g("ariaSearchNoResult","{0} found for '{1}'",e,i);if(t){let n=g("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,i,t.startLineNumber+":"+t.startColumn),o=this._codeEditor.getModel();return o&&t.startLineNumber<=o.getLineCount()&&t.startLineNumber>=1?`${o.getLineContent(t.startLineNumber)}, ${n}`:n}return g("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,i)}_updateToggleSelectionFindButton(){let e=this._codeEditor.getSelection(),t=e?e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn:!1,i=this._toggleSelectionFind.checked;this._isVisible&&(i||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let i=!this._codeEditor.getOption(81);this._toggleReplaceBtn.setEnabled(this._isVisible&&i)}_reveal(){if(this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;let e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{let i=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=i;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(35).seedSearchStringFromSelection&&e){let i=this._codeEditor.getDomNode();if(i){let n=ji(i),o=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),s=n.left+(o?o.left:0),a=o?o.top:0;if(this._viewZone&&a<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);let l=iL(this._domNode).left;s>l&&(t=!1);let c=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());n.left+(c?c.left:0)>l&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._revealTimeouts.forEach(t=>{clearTimeout(t)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(35).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;let i=this._viewZone;this._viewZoneId!==void 0||!i||this._codeEditor.changeViewZones(n=>{i.heightInPx=this._getHeight(),this._viewZoneId=n.addZone(i),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+i.heightInPx)})}_showViewZone(e=!0){if(!this._isVisible||!this._codeEditor.getOption(35).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new MT(0));let i=this._viewZone;this._codeEditor.changeViewZones(n=>{if(this._viewZoneId!==void 0){let o=this._getHeight();if(o===i.heightInPx)return;let s=o-i.heightInPx;i.heightInPx=o,n.layoutZone(this._viewZoneId),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+s);return}else{let o=this._getHeight();if(o-=this._codeEditor.getOption(75).top,o<=0)return;i.heightInPx=o,this._viewZoneId=n.addZone(i),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+o)}})}_removeViewZone(){this._codeEditor.changeViewZones(e=>{this._viewZoneId!==void 0&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(Y0),inputActiveOptionBackground:e.getColor(Z0),inputActiveOptionForeground:e.getColor(G0),inputBackground:e.getColor(iv),inputForeground:e.getColor(nv),inputBorder:e.getColor(ov),inputValidationInfoBackground:e.getColor(kL),inputValidationInfoForeground:e.getColor(IL),inputValidationInfoBorder:e.getColor(OL),inputValidationWarningBackground:e.getColor(TL),inputValidationWarningForeground:e.getColor(NL),inputValidationWarningBorder:e.getColor(PL),inputValidationErrorBackground:e.getColor(ML),inputValidationErrorForeground:e.getColor(AL),inputValidationErrorBorder:e.getColor(RL)};this._findInput.style(t),this._replaceInput.style(t),this._toggleSelectionFind.style(t)}_tryUpdateWidgetWidth(){if(!this._isVisible||!Kb(this._domNode))return;let e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");let i=e.width,n=e.minimap.minimapWidth,o=!1,s=!1,a=!1;if(this._resized&&Vs(this._domNode)>wh){this._domNode.style.maxWidth=`${i-28-n-15}px`,this._replaceInput.width=Vs(this._findInput.domNode);return}if(wh+28+n>=i&&(s=!0),wh+28+n-XS>=i&&(a=!0),wh+28+n-XS>=i+50&&(o=!0),this._domNode.classList.toggle("collapsed-find-widget",o),this._domNode.classList.toggle("narrow-find-widget",a),this._domNode.classList.toggle("reduced-find-widget",s),!a&&!o&&(this._domNode.style.maxWidth=`${i-28-n-15}px`),this._resized){this._findInput.inputBox.layout();let l=this._findInput.inputBox.element.clientWidth;l>0&&(this._replaceInput.width=l)}else this._isReplaceVisible&&(this._replaceInput.width=Vs(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){let e=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===e?!1:(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let e=this._codeEditor.getSelections();e.map(t=>{t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1)));let i=this._state.currentMatch;return t.startLineNumber!==t.endLineNumber&&!D.equalsRange(t,i)?t:null}).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){if(e.equals(dJ|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return hJ(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(e.equals(18))return uJ(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(e){if(e.equals(dJ|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{Ri&&_s&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(g("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(cJ,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(1026)){this._findInput.focus(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return hJ(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(e.equals(18))return uJ(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new fT(null,this._contextViewProvider,{width:yve,label:lve,placeholder:cve,appendCaseSensitiveLabel:this._keybindingLabelFor(Mi.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(Mi.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(Mi.ToggleRegexCommand),validation:l=>{if(l.length===0||!this._findInput.getRegex())return null;try{return new RegExp(l,"gu"),null}catch(c){return{content:c.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>c8(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(l=>this._onFindInputKeyDown(l))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(l=>{l.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),l.preventDefault())})),this._register(this._findInput.onRegexKeyDown(l=>{l.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),l.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(l=>{this._tryUpdateHeight()&&this._showViewZone()})),Fi&&this._register(this._findInput.onMouseDown(l=>this._onFindInputMouseDown(l))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new b_({label:dve+this._keybindingLabelFor(Mi.PreviousMatchFindAction),icon:sve,onTrigger:()=>{this._codeEditor.getAction(Mi.PreviousMatchFindAction).run().then(void 0,Ie)}})),this._nextBtn=this._register(new b_({label:hve+this._keybindingLabelFor(Mi.NextMatchFindAction),icon:ave,onTrigger:()=>{this._codeEditor.getAction(Mi.NextMatchFindAction).run().then(void 0,Ie)}}));let i=document.createElement("div");i.className="find-part",i.appendChild(this._findInput.domNode);let n=document.createElement("div");n.className="find-actions",i.appendChild(n),n.appendChild(this._matchesCount),n.appendChild(this._prevBtn.domNode),n.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new Wu({icon:nve,title:uve+this._keybindingLabelFor(Mi.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let l=this._codeEditor.getSelections();l.map(c=>(c.endColumn===1&&c.endLineNumber>c.startLineNumber&&(c=c.setEndPosition(c.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(c.endLineNumber-1))),c.isEmpty()?null:c)).filter(c=>!!c),l.length&&this._state.change({searchScope:l},!0)}}else this._state.change({searchScope:null},!0)})),n.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new b_({label:fve+this._keybindingLabelFor(Mi.CloseFindWidgetCommand),icon:Qk,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:l=>{l.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),l.preventDefault())}})),n.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new gT(null,void 0,{label:gve,placeholder:mve,appendPreserveCaseLabel:this._keybindingLabelFor(Mi.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>c8(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(l=>this._onReplaceInputKeyDown(l))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(l=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(l=>{l.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),l.preventDefault())})),this._replaceBtn=this._register(new b_({label:pve+this._keybindingLabelFor(Mi.ReplaceOneAction),icon:ove,onTrigger:()=>{this._controller.replace()},onKeyDown:l=>{l.equals(1026)&&(this._closeBtn.focus(),l.preventDefault())}})),this._replaceAllBtn=this._register(new b_({label:_ve+this._keybindingLabelFor(Mi.ReplaceAllAction),icon:rve,onTrigger:()=>{this._controller.replaceAll()}}));let o=document.createElement("div");o.className="replace-part",o.appendChild(this._replaceInput.domNode);let s=document.createElement("div");s.className="replace-actions",o.appendChild(s),s.appendChild(this._replaceBtn.domNode),s.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new b_({label:bve,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=Vs(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${wh}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(i),this._domNode.appendChild(o),this._resizeSash=new Gn(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let a=wh;this._register(this._resizeSash.onDidStart(()=>{a=Vs(this._domNode)})),this._register(this._resizeSash.onDidChange(l=>{this._resized=!0;let c=a+l.startX-l.currentX;if(c<wh)return;let d=parseFloat(tL(this._domNode).maxWidth)||0;c>d||(this._domNode.style.width=`${c}px`,this._isReplaceVisible&&(this._replaceInput.width=Vs(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{let l=Vs(this._domNode);if(l<wh)return;let c=wh;if(!this._resized||l===wh){let d=this._codeEditor.getLayoutInfo();c=d.width-28-d.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${c}px`,this._isReplaceVisible&&(this._replaceInput.width=Vs(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){let e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(e!==2)}};Aw.ID="editor.contrib.findWidget";var b_=class extends Ro{constructor(e){super();this._opts=e;let t="button";this._opts.className&&(t=t+" "+this._opts.className),this._opts.icon&&(t=t+" "+Qt.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,i=>{this._opts.onTrigger(),i.preventDefault()}),this.onkeydown(this._domNode,i=>{if(i.equals(10)||i.equals(3)){this._opts.onTrigger(),i.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(i)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...Qt.asClassNameArray(sJ)),this._domNode.classList.add(...Qt.asClassNameArray(aJ))):(this._domNode.classList.remove(...Qt.asClassNameArray(aJ)),this._domNode.classList.add(...Qt.asClassNameArray(sJ)))}};yt((r,e)=>{let t=(m,_)=>{_&&e.addRule(`.monaco-editor ${m} { background-color: ${_}; }`)};t(".findMatch",r.getColor(Md)),t(".currentFindMatch",r.getColor(Uz)),t(".findScope",r.getColor(zz));let i=r.getColor(or);t(".find-widget",i);let n=r.getColor(Ql);n&&e.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${n}; }`);let o=r.getColor(np);o&&e.addRule(`.monaco-editor .findMatch { border: 1px ${r.type==="hc"?"dotted":"solid"} ${o}; box-sizing: border-box; }`);let s=r.getColor(Vz);s&&e.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${s}; padding: 1px; box-sizing: border-box; }`);let a=r.getColor(Hz);a&&e.addRule(`.monaco-editor .findScope { border: 1px ${r.type==="hc"?"dashed":"solid"} ${a}; }`);let l=r.getColor(Ni);l&&e.addRule(`.monaco-editor .find-widget { border: 1px solid ${l}; }`);let c=r.getColor(Nd);c&&e.addRule(`.monaco-editor .find-widget { color: ${c}; }`);let d=r.getColor(Cz);d&&e.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${d}; }`);let h=r.getColor(Oz);if(h)e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${h}; }`);else{let m=r.getColor(Qh);m&&e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${m}; }`)}let u=r.getColor(SL);u&&e.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${u} !important;
		}
	`);let f=r.getColor(Tc);f&&e.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${f}; }`)});ke();Mo();Et();pt();var fJ=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ch=function(r,e){return function(t,i){e(t,i,r)}},v_=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},Eve=524288;function d8(r,e="single",t=!1){if(!r.hasModel())return null;let i=r.getSelection();if(e==="single"&&i.startLineNumber===i.endLineNumber||e==="multiple"){if(i.isEmpty()){let n=r.getConfiguredWordAtPosition(i.getStartPosition());if(n&&t===!1)return n.word}else if(r.getModel().getValueLengthInRange(i)<Eve)return r.getModel().getValueInRange(i)}return null}var Ns=class gJ extends ${constructor(e,t,i,n){super();this._editor=e,this._findWidgetVisible=$u.bindTo(t),this._contextKeyService=t,this._storageService=i,this._clipboardService=n,this._updateHistoryDelayer=new pr(500),this._state=this._register(new l8),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(o=>this._onStateChanged(o))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let o=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),o&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})}))}get editor(){return this._editor}static get(e){return e.getContribution(gJ.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!Pw.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let e=this._editor.getSelections();e.map(t=>(t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._editor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()?null:t)).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=Io(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}_start(e,t){return v_(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let i=Object.assign(Object.assign({},t),{isRevealed:!0});if(e.seedSearchStringFromSelection==="single"){let n=d8(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);n&&(this._state.isRegex?i.searchString=Io(n):i.searchString=n)}else if(e.seedSearchStringFromSelection==="multiple"&&!e.updateSearchScope){let n=d8(this._editor,e.seedSearchStringFromSelection);n&&(i.searchString=n)}if(!i.searchString&&e.seedSearchStringFromGlobalClipboard){let n=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;n&&(i.searchString=n)}if(e.forceRevealReplace||i.isReplaceRevealed?i.isReplaceRevealed=!0:this._findWidgetVisible.get()||(i.isReplaceRevealed=!1),e.updateSearchScope){let n=this._editor.getSelections();n.some(o=>!o.isEmpty())&&(i.searchScope=n)}i.loop=e.loop,this._state.change(i,!1),this._model||(this._model=new __(this._editor,this._state))})}start(e,t){return this._start(e,t)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return v_(this,void 0,void 0,function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(e){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};Ns.ID="editor.contrib.findController";Ns=fJ([Ch(1,Le),Ch(2,la),Ch(3,dl)],Ns);var h8=class extends Ns{constructor(e,t,i,n,o,s,a,l){super(e,i,a,l);this._contextViewService=t,this._keybindingService=n,this._themeService=o,this._notificationService=s,this._widget=null,this._findOptionsWidget=null}_start(e,t){let i=Object.create(null,{_start:{get:()=>super._start}});return v_(this,void 0,void 0,function*(){this._widget||this._createFindWidget();let n=this._editor.getSelection(),o=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":o=!0;break;case"never":o=!1;break;case"multiline":{o=!!n&&n.startLineNumber!==n.endLineNumber;break}default:break}e.updateSearchScope=e.updateSearchScope||o,yield i._start.call(this,e,t),this._widget&&(e.shouldFocus===2?this._widget.focusReplaceInput():e.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new Aw(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new Mw(this._editor,this._state,this._keybindingService,this._themeService))}};h8=fJ([Ch(1,wu),Ch(2,Le),Ch(3,Di),Ch(4,Ft),Ch(5,si),Ch(6,la),Ch(7,dl)],h8);var xve=FA(new pL({id:Mi.StartFindAction,label:g("startFindAction","Find"),alias:"Find",precondition:Ce.or(F.focus,Ce.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:H.MenubarEditMenu,group:"3_find",title:g({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));xve.addImplementation(0,(r,e,t)=>{let i=Ns.get(e);return i?i.start({forceRevealReplace:!1,seedSearchStringFromSelection:e.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(35).loop}):!1});var Dve={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:g("actions.find.isRegexOverride",`Overrides "Use Regular Expression" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:g("actions.find.wholeWordOverride",`Overrides "Match Whole Word" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:g("actions.find.matchCaseOverride",`Overrides "Math Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:g("actions.find.preserveCaseOverride",`Overrides "Preserve Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},findInSelection:{type:"boolean"}}}}]},mJ=class extends we{constructor(){super({id:Mi.StartFindWithArgs,label:g("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:Dve})}run(e,t,i){return v_(this,void 0,void 0,function*(){let n=Ns.get(t);if(n){let o=i?{searchString:i.searchString,replaceString:i.replaceString,isReplaceRevealed:i.replaceString!==void 0,isRegex:i.isRegex,wholeWord:i.matchWholeWord,matchCase:i.isCaseSensitive,preserveCase:i.preserveCase}:{};yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:n.getState().searchString.length===0&&t.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:i?.findInSelection||!1,loop:t.getOption(35).loop},o),n.setGlobalBufferTerm(n.getState().searchString)}})}},pJ=class extends we{constructor(){super({id:Mi.StartFindWithSelection,label:g("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(e,t){return v_(this,void 0,void 0,function*(){let i=Ns.get(t);i&&(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),i.setGlobalBufferTerm(i.getState().searchString))})}},u8=class extends we{run(e,t){return v_(this,void 0,void 0,function*(){let i=Ns.get(t);i&&!this._run(i)&&(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:i.getState().searchString.length===0&&t.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),this._run(i))})}},_J=class extends u8{constructor(){super({id:Mi.NextMatchFindAction,label:g("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:F.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:Ce.and(F.focus,Pw),primary:3,weight:100}]})}_run(e){return e.moveToNextMatch()?(e.editor.pushUndoStop(),!0):!1}},bJ=class extends u8{constructor(){super({id:Mi.PreviousMatchFindAction,label:g("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:F.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:Ce.and(F.focus,Pw),primary:1027,weight:100}]})}_run(e){return e.moveToPrevMatch()}},f8=class extends we{run(e,t){return v_(this,void 0,void 0,function*(){let i=Ns.get(t);if(!i)return;let n=t.getOption(35).seedSearchStringFromSelection==="selection",o=null;t.getOption(35).seedSearchStringFromSelection!=="never"&&(o=d8(t,"single",n)),o&&i.setSearchString(o),this._run(i)||(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:n,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),this._run(i))})}},vJ=class extends f8{constructor(){super({id:Mi.NextSelectionMatchFindAction,label:g("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:F.focus,primary:2109,weight:100}})}_run(e){return e.moveToNextMatch()}},wJ=class extends f8{constructor(){super({id:Mi.PreviousSelectionMatchFindAction,label:g("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:F.focus,primary:3133,weight:100}})}_run(e){return e.moveToPrevMatch()}},Lve=FA(new pL({id:Mi.StartFindReplaceAction,label:g("startReplace","Replace"),alias:"Replace",precondition:Ce.or(F.focus,Ce.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:H.MenubarEditMenu,group:"3_find",title:g({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));Lve.addImplementation(0,(r,e,t)=>{if(!e.hasModel()||e.getOption(81))return!1;let i=Ns.get(e);if(!i)return!1;let n=e.getSelection(),o=i.isFindInputFocused(),s=!n.isEmpty()&&n.startLineNumber===n.endLineNumber&&e.getOption(35).seedSearchStringFromSelection!=="never"&&!o,a=o||s?2:1;return i.start({forceRevealReplace:!0,seedSearchStringFromSelection:s?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(35).seedSearchStringFromSelection!=="never",shouldFocus:a,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(35).loop})});st(Ns.ID,h8);de(mJ);de(pJ);de(_J);de(bJ);de(vJ);de(wJ);var Qc=Yi.bindToContribution(Ns.get);me(new Qc({id:Mi.CloseFindWidgetCommand,precondition:$u,handler:r=>r.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:Ce.and(F.focus,Ce.not("isComposing")),primary:9,secondary:[1033]}}));me(new Qc({id:Mi.ToggleCaseSensitiveCommand,precondition:void 0,handler:r=>r.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:F.focus,primary:KS.primary,mac:KS.mac,win:KS.win,linux:KS.linux}}));me(new Qc({id:Mi.ToggleWholeWordCommand,precondition:void 0,handler:r=>r.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:F.focus,primary:qS.primary,mac:qS.mac,win:qS.win,linux:qS.linux}}));me(new Qc({id:Mi.ToggleRegexCommand,precondition:void 0,handler:r=>r.toggleRegex(),kbOpts:{weight:100+5,kbExpr:F.focus,primary:YS.primary,mac:YS.mac,win:YS.win,linux:YS.linux}}));me(new Qc({id:Mi.ToggleSearchScopeCommand,precondition:void 0,handler:r=>r.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:F.focus,primary:ZS.primary,mac:ZS.mac,win:ZS.win,linux:ZS.linux}}));me(new Qc({id:Mi.TogglePreserveCaseCommand,precondition:void 0,handler:r=>r.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:F.focus,primary:GS.primary,mac:GS.mac,win:GS.win,linux:GS.linux}}));me(new Qc({id:Mi.ReplaceOneAction,precondition:$u,handler:r=>r.replace(),kbOpts:{weight:100+5,kbExpr:F.focus,primary:3094}}));me(new Qc({id:Mi.ReplaceOneAction,precondition:$u,handler:r=>r.replace(),kbOpts:{weight:100+5,kbExpr:Ce.and(F.focus,$S),primary:3}}));me(new Qc({id:Mi.ReplaceAllAction,precondition:$u,handler:r=>r.replaceAll(),kbOpts:{weight:100+5,kbExpr:F.focus,primary:2563}}));me(new Qc({id:Mi.ReplaceAllAction,precondition:$u,handler:r=>r.replaceAll(),kbOpts:{weight:100+5,kbExpr:Ce.and(F.focus,$S),primary:void 0,mac:{primary:2051}}}));me(new Qc({id:Mi.SelectAllMatchesAction,precondition:$u,handler:r=>r.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:F.focus,primary:515}}));nt();ut();Ha();re();He();ai();kt();Wi();cn();no();Ee();var Ku=class{constructor(e,t,i){if(e.length!==t.length||e.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new Uint32Array(Math.ceil(e.length/32)),this._types=i,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let e=[],t=(i,n)=>{let o=e[e.length-1];return this.getStartLineNumber(o)<=i&&this.getEndLineNumber(o)>=n};for(let i=0,n=this._startIndexes.length;i<n;i++){let o=this._startIndexes[i],s=this._endIndexes[i];if(o>16777215||s>16777215)throw new Error("startLineNumber or endLineNumber must not exceed "+16777215);for(;e.length>0&&!t(o,s);)e.pop();let a=e.length>0?e[e.length-1]:-1;e.push(i),this._startIndexes[i]=o+((a&255)<<24),this._endIndexes[i]=s+((a&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return this._startIndexes[e]&16777215}getEndLineNumber(e){return this._endIndexes[e]&16777215}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){let t=e/32|0,i=e%32;return(this._collapseStates[t]&1<<i)!==0}setCollapsed(e,t){let i=e/32|0,n=e%32,o=this._collapseStates[i];t?this._collapseStates[i]=o|1<<n:this._collapseStates[i]=o&~(1<<n)}setCollapsedAllOfType(e,t){let i=!1;if(this._types)for(let n=0;n<this._types.length;n++)this._types[n]===e&&(this.setCollapsed(n,t),i=!0);return i}toRegion(e){return new CJ(this,e)}getParentIndex(e){this.ensureParentIndices();let t=((this._startIndexes[e]&4278190080)>>>24)+((this._endIndexes[e]&4278190080)>>>16);return t===65535?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,i=this._startIndexes.length;if(i===0)return-1;for(;t<i;){let n=Math.floor((t+i)/2);e<this.getStartLineNumber(n)?i=n:t=n+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);t!==-1;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}toString(){let e=[];for(let t=0;t<this.length;t++)e[t]=`[${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}},CJ=class{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}};var g8=class{constructor(e,t){this._updateEventEmitter=new B,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new Ku(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(e){if(!e.length)return;e=e.sort((i,n)=>i.regionIndex-n.regionIndex);let t={};this._decorationProvider.changeDecorations(i=>{let n=0,o=-1,s=-1,a=l=>{for(;n<l;){let c=this._regions.getEndLineNumber(n),d=this._regions.isCollapsed(n);c<=o&&i.changeDecorationOptions(this._editorDecorationIds[n],this._decorationProvider.getDecorationOption(d,c<=s)),d&&c>s&&(s=c),n++}};for(let l of e){let c=l.regionIndex,d=this._editorDecorationIds[c];if(d&&!t[d]){t[d]=!0,a(c);let h=!this._regions.isCollapsed(c);this._regions.setCollapsed(c,h),o=Math.max(o,this._regions.getEndLineNumber(c))}}a(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}update(e,t=[]){let i=[],n=(h,u)=>{for(let f of t)if(h<f&&f<=u)return!0;return!1},o=-1,s=(h,u)=>{let f=e.getStartLineNumber(h),m=e.getEndLineNumber(h);u||(u=e.isCollapsed(h)),u&&n(f,m)&&(u=!1),e.setCollapsed(h,u);let _=this._textModel.getLineMaxColumn(f),w={startLineNumber:f,startColumn:Math.max(_-1,1),endLineNumber:f,endColumn:_};i.push({range:w,options:this._decorationProvider.getDecorationOption(u,m<=o)}),u&&m>o&&(o=m)},a=0,l=()=>{for(;a<this._regions.length;){let h=this._regions.isCollapsed(a);if(a++,h)return a-1}return-1},c=0,d=l();for(;d!==-1&&c<e.length;){let h=this._textModel.getDecorationRange(this._editorDecorationIds[d]);if(h){let u=h.startLineNumber;if(h.startColumn===Math.max(h.endColumn-1,1)&&this._textModel.getLineMaxColumn(u)===h.endColumn)for(;c<e.length;){let f=e.getStartLineNumber(c);if(u>=f)s(c,u===f),c++;else break}}d=l()}for(;c<e.length;)s(c,!1),c++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,i),this._regions=e,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let e=[];for(let t=0;t<this._regions.length;t++)if(this._regions.isCollapsed(t)){let i=this._textModel.getDecorationRange(this._editorDecorationIds[t]);if(i){let n=i.startLineNumber,o=i.endLineNumber+this._regions.getEndLineNumber(t)-this._regions.getStartLineNumber(t);e.push({startLineNumber:n,endLineNumber:o})}}if(e.length>0)return e}applyMemento(e){if(!Array.isArray(e))return;let t=[];for(let i of e){let n=this.getRegionAtLine(i.startLineNumber);n&&!n.isCollapsed&&t.push(n)}this.toggleCollapseState(t)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(e,t){let i=[];if(this._regions){let n=this._regions.findRange(e),o=1;for(;n>=0;){let s=this._regions.toRegion(n);(!t||t(s,o))&&i.push(s),o++,n=s.parentIndex}}return i}getRegionAtLine(e){if(this._regions){let t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){let i=[],n=e?e.regionIndex+1:0,o=e?e.endLineNumber:Number.MAX_VALUE;if(t&&t.length===2){let s=[];for(let a=n,l=this._regions.length;a<l;a++){let c=this._regions.toRegion(a);if(this._regions.getStartLineNumber(a)<o){for(;s.length>0&&!c.containedBy(s[s.length-1]);)s.pop();s.push(c),t(c,s.length)&&i.push(c)}else break}}else for(let s=n,a=this._regions.length;s<a;s++){let l=this._regions.toRegion(s);if(this._regions.getStartLineNumber(s)<o)(!t||t(l))&&i.push(l);else break}return i}};function yJ(r,e,t){let i=[];for(let n of t){let o=r.getRegionAtLine(n);if(o){let s=!o.isCollapsed;if(i.push(o),e>1){let a=r.getRegionsInside(o,(l,c)=>l.isCollapsed!==s&&c<e);i.push(...a)}}}r.toggleCollapseState(i)}function w_(r,e,t=Number.MAX_VALUE,i){let n=[];if(i&&i.length>0)for(let o of i){let s=r.getRegionAtLine(o);if(s&&(s.isCollapsed!==e&&n.push(s),t>1)){let a=r.getRegionsInside(s,(l,c)=>l.isCollapsed!==e&&c<t);n.push(...a)}}else{let o=r.getRegionsInside(null,(s,a)=>s.isCollapsed!==e&&a<t);n.push(...o)}r.toggleCollapseState(n)}function m8(r,e,t,i){let n=[];for(let o of i){let s=r.getAllRegionsAtLine(o,(a,l)=>a.isCollapsed!==e&&l<=t);n.push(...s)}r.toggleCollapseState(n)}function SJ(r,e,t){let i=[];for(let n of t){let o=r.getAllRegionsAtLine(n,s=>s.isCollapsed!==e);o.length>0&&i.push(o[0])}r.toggleCollapseState(i)}function EJ(r,e,t,i){let n=(s,a)=>a===e&&s.isCollapsed!==t&&!i.some(l=>s.containsLine(l)),o=r.getRegionsInside(null,n);r.toggleCollapseState(o)}function p8(r,e,t){let i=[];for(let s of t){let a=r.getAllRegionsAtLine(s,void 0);a.length>0&&i.push(a[0])}let n=s=>i.every(a=>!a.containedBy(s)&&!s.containedBy(a))&&s.isCollapsed!==e,o=r.getRegionsInside(null,n);r.toggleCollapseState(o)}function AT(r,e,t){let i=r.textModel,n=r.regions,o=[];for(let s=n.length-1;s>=0;s--)if(t!==n.isCollapsed(s)){let a=n.getStartLineNumber(s);e.test(i.getLineContent(a))&&o.push(n.toRegion(s))}r.toggleCollapseState(o)}function RT(r,e,t){let i=r.regions,n=[];for(let o=i.length-1;o>=0;o--)t!==i.isCollapsed(o)&&e===i.getType(o)&&n.push(i.toRegion(o));r.toggleCollapseState(n)}function xJ(r,e){let t=null,i=e.getRegionAtLine(r);if(i!==null&&(t=i.startLineNumber,r===t)){let n=i.parentIndex;n!==-1?t=e.regions.getStartLineNumber(n):t=null}return t}function DJ(r,e){let t=e.getRegionAtLine(r);if(t!==null&&t.startLineNumber===r){if(r!==t.startLineNumber)return t.startLineNumber;{let i=t.parentIndex,n=0;for(i!==-1&&(n=e.regions.getStartLineNumber(t.parentIndex));t!==null;)if(t.regionIndex>0){if(t=e.regions.toRegion(t.regionIndex-1),t.startLineNumber<=n)return null;if(t.parentIndex===i)return t.startLineNumber}else return null}}else if(e.regions.length>0)for(t=e.regions.toRegion(e.regions.length-1);t!==null;){if(t.startLineNumber<r)return t.startLineNumber;t.regionIndex>0?t=e.regions.toRegion(t.regionIndex-1):t=null}return null}function LJ(r,e){let t=e.getRegionAtLine(r);if(t!==null&&t.startLineNumber===r){let i=t.parentIndex,n=0;if(i!==-1)n=e.regions.getEndLineNumber(t.parentIndex);else{if(e.regions.length===0)return null;n=e.regions.getEndLineNumber(e.regions.length-1)}for(;t!==null;)if(t.regionIndex<e.regions.length){if(t=e.regions.toRegion(t.regionIndex+1),t.startLineNumber>=n)return null;if(t.parentIndex===i)return t.startLineNumber}else return null}else if(e.regions.length>0)for(t=e.regions.toRegion(0);t!==null;){if(t.startLineNumber>r)return t.startLineNumber;t.regionIndex<e.regions.length?t=e.regions.toRegion(t.regionIndex+1):t=null}return null}jt();Ee();ye();zv();var _8=class{constructor(e){this._updateEventEmitter=new B,this._hasLineChanges=!1,this._foldingModel=e,this._foldingModelListener=e.onDidChange(t=>this.updateHiddenRanges()),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(e){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=e.changes.some(t=>t.range.endLineNumber!==t.range.startLineNumber||tc(t.text)[0]!==0))}updateHiddenRanges(){let e=!1,t=[],i=0,n=0,o=Number.MAX_VALUE,s=-1,a=this._foldingModel.regions;for(;i<a.length;i++){if(!a.isCollapsed(i))continue;let l=a.getStartLineNumber(i)+1,c=a.getEndLineNumber(i);o<=l&&c<=s||(!e&&n<this._hiddenRanges.length&&this._hiddenRanges[n].startLineNumber===l&&this._hiddenRanges[n].endLineNumber===c?(t.push(this._hiddenRanges[n]),n++):(e=!0,t.push(new D(l,1,c,1))),o=l,s=c)}(this._hasLineChanges||e||n<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyMemento(e){if(!Array.isArray(e)||e.length===0)return!1;let t=[];for(let i of e){if(!i.startLineNumber||!i.endLineNumber)return!1;t.push(new D(i.startLineNumber+1,1,i.endLineNumber,1))}return this.applyHiddenRanges(t),!0}getMemento(){return this._hiddenRanges.map(e=>({startLineNumber:e.startLineNumber-1,endLineNumber:e.endLineNumber}))}applyHiddenRanges(e){this._hiddenRanges=e,this._hasLineChanges=!1,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return kJ(this._hiddenRanges,e)!==null}adjustSelections(e){let t=!1,i=this._foldingModel.textModel,n=null,o=s=>((!n||!kve(s,n))&&(n=kJ(this._hiddenRanges,s)),n?n.startLineNumber-1:null);for(let s=0,a=e.length;s<a;s++){let l=e[s],c=o(l.startLineNumber);c&&(l=l.setStartPosition(c,i.getLineMaxColumn(c)),t=!0);let d=o(l.endLineNumber);d&&(l=l.setEndPosition(d,i.getLineMaxColumn(d)),t=!0),e[s]=l}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}};function kve(r,e){return r>=e.startLineNumber&&r<=e.endLineNumber}function kJ(r,e){let t=gx(r,i=>e<i.startLineNumber)-1;return t>=0&&r[t].endLineNumber>=e?r[t]:null}gk();var Ive=5e3,Ove="indent",b8=class{constructor(e,t,i){this.editorModel=e,this.languageConfigurationService=t,this.maxFoldingRegions=i,this.id=Ove}dispose(){}compute(e,t){let i=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,n=i&&!!i.offSide,o=i&&i.markers;return Promise.resolve(Tve(this.editorModel,n,o,this.maxFoldingRegions,t))}},IJ=class{constructor(e,t){this._notifyTooManyRegions=t,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}insertFirst(e,t,i){if(e>16777215||t>16777215)return;let n=this._length;this._startIndexes[n]=e,this._endIndexes[n]=t,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(e){if(this._length<=this._foldingRangesLimit){let t=new Uint32Array(this._length),i=new Uint32Array(this._length);for(let n=this._length-1,o=0;n>=0;n--,o++)t[o]=this._startIndexes[n],i[o]=this._endIndexes[n];return new Ku(t,i)}else{this._notifyTooManyRegions&&this._notifyTooManyRegions(this._foldingRangesLimit);let t=0,i=this._indentOccurrences.length;for(let a=0;a<this._indentOccurrences.length;a++){let l=this._indentOccurrences[a];if(l){if(l+t>this._foldingRangesLimit){i=a;break}t+=l}}let n=e.getOptions().tabSize,o=new Uint32Array(this._foldingRangesLimit),s=new Uint32Array(this._foldingRangesLimit);for(let a=this._length-1,l=0;a>=0;a--){let c=this._startIndexes[a],d=e.getLineContent(c),h=pp(d,n);(h<i||h===i&&t++<this._foldingRangesLimit)&&(o[l]=c,s[l]=this._endIndexes[a],l++)}return new Ku(o,s)}}};function Tve(r,e,t,i,n){let o=r.getOptions().tabSize;i=i??Ive;let s=new IJ(i,n),a;t&&(a=new RegExp(`(${t.start.source})|(?:${t.end.source})`));let l=[],c=r.getLineCount()+1;l.push({indent:-1,endAbove:c,line:c});for(let d=r.getLineCount();d>0;d--){let h=r.getLineContent(d),u=pp(h,o),f=l[l.length-1];if(u===-1){e&&(f.endAbove=d);continue}let m;if(a&&(m=h.match(a)))if(m[1]){let _=l.length-1;for(;_>0&&l[_].indent!==-2;)_--;if(_>0){l.length=_+1,f=l[_],s.insertFirst(d,f.line,u),f.line=d,f.indent=u,f.endAbove=d;continue}}else{l.push({indent:-2,endAbove:d,line:d});continue}if(f.indent>u){do l.pop(),f=l[l.length-1];while(f.indent>u);let _=f.endAbove-1;_-d>=1&&s.insertFirst(d,_,u)}f.indent===u?f.endAbove=d:l.push({indent:u,endAbove:d,line:d})}return s.toIndentRanges(r)}ut();re();var Nve={},v8="syntax",w8=class{constructor(e,t,i,n){this.editorModel=e,this.providers=t,this.limit=n,this.id=v8;for(let o of t)typeof o.onDidChange=="function"&&(this.disposables||(this.disposables=new J),this.disposables.add(o.onDidChange(i)))}compute(e,t){return Pve(this.providers,this.editorModel,e).then(i=>i?C8(i,this.limit,t):null)}dispose(){var e;(e=this.disposables)===null||e===void 0||e.dispose()}};function Pve(r,e,t){let i=null,n=r.map((o,s)=>Promise.resolve(o.provideFoldingRanges(e,Nve,t)).then(a=>{if(!t.isCancellationRequested&&Array.isArray(a)){Array.isArray(i)||(i=[]);let l=e.getLineCount();for(let c of a)c.start>0&&c.end>c.start&&c.end<=l&&i.push({start:c.start,end:c.end,rank:s,kind:c.kind})}},Si));return Promise.all(n).then(o=>i)}var OJ=class{constructor(e,t){this._notifyTooManyRegions=t,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,i,n){if(e>16777215||t>16777215)return;let o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._nestingLevels[o]=n,this._types[o]=i,this._length++,n<30&&(this._nestingLevelCounts[n]=(this._nestingLevelCounts[n]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let i=0;i<this._length;i++)e[i]=this._startIndexes[i],t[i]=this._endIndexes[i];return new Ku(e,t,this._types)}else{this._notifyTooManyRegions&&this._notifyTooManyRegions(this._foldingRangesLimit);let e=0,t=this._nestingLevelCounts.length;for(let s=0;s<this._nestingLevelCounts.length;s++){let a=this._nestingLevelCounts[s];if(a){if(a+e>this._foldingRangesLimit){t=s;break}e+=a}}let i=new Uint32Array(this._foldingRangesLimit),n=new Uint32Array(this._foldingRangesLimit),o=[];for(let s=0,a=0;s<this._length;s++){let l=this._nestingLevels[s];(l<t||l===t&&e++<this._foldingRangesLimit)&&(i[a]=this._startIndexes[s],n[a]=this._endIndexes[s],o[a]=this._types[s],a++)}return new Ku(i,n,o)}}};function C8(r,e,t){let i=r.sort((a,l)=>{let c=a.start-l.start;return c===0&&(c=a.rank-l.rank),c}),n=new OJ(e,t),o,s=[];for(let a of i)if(!o)o=a,n.add(a.start,a.end,a.kind&&a.kind.value,s.length);else if(a.start>o.start)if(a.end<=o.end)s.push(o),o=a,n.add(a.start,a.end,a.kind&&a.kind.value,s.length);else{if(a.start>o.end){do o=s.pop();while(o&&a.start>o.end);o&&s.push(o),o=a}n.add(a.start,a.end,a.kind&&a.kind.value,s.length)}return n.toIndentRanges()}var y8="init",S8=class{constructor(e,t,i,n){if(this.editorModel=e,this.id=y8,t.length){let o=s=>({range:{startLineNumber:s.startLineNumber,startColumn:0,endLineNumber:s.endLineNumber,endColumn:e.getLineLength(s.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=e.deltaDecorations([],t.map(o)),this.timeout=setTimeout(i,n)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(e){let t=[];if(this.decorationIds)for(let i of this.decorationIds){let n=this.editorModel.getDecorationRange(i);n&&t.push({start:n.startLineNumber,end:n.endLineNumber,rank:1})}return Promise.resolve(C8(t,Number.MAX_VALUE))}};ke();Et();Li();pt();ln();Fo();ke();pt();var FT=bn("folding-expanded",p.chevronDown,g("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),BT=bn("folding-collapsed",p.chevronRight,g("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),Ma=class{constructor(e){this.editor=e,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(e,t){return t?Ma.HIDDEN_RANGE_DECORATION:e?this.showFoldingHighlights?Ma.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:Ma.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?Ma.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:Ma.EXPANDED_VISUAL_DECORATION}deltaDecorations(e,t){return this.editor.deltaDecorations(e,t)}changeDecorations(e){return this.editor.changeDecorations(e)}};Ma.COLLAPSED_VISUAL_DECORATION=ot.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:Qt.asClassName(BT)});Ma.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=ot.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:Qt.asClassName(BT)});Ma.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=ot.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:Qt.asClassName(FT)});Ma.EXPANDED_VISUAL_DECORATION=ot.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Qt.asClassName(FT)});Ma.HIDDEN_RANGE_DECORATION=ot.register({description:"folding-hidden-range-decoration",stickiness:1});rc();va();hi();var Mve=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},JS=function(r,e){return function(t,i){e(t,i,r)}},hs=new Se("foldingEnabled",!1),Rw=class TJ extends ${constructor(e,t,i,n,o,s){super();this.contextKeyService=t,this.languageConfigurationService=i,this.languageFeaturesService=s,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new J),this.editor=e;let a=this.editor.getOptions();this._isEnabled=a.get(37),this._useFoldingProviders=a.get(38)!=="indentation",this._unfoldOnClickAfterEndOfLine=a.get(42),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=a.get(40),this._maxFoldingRegions=a.get(41),this.updateDebounceInfo=o.for(s.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new Ma(e),this.foldingDecorationProvider.autoHideFoldingControls=a.get(99)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=a.get(39),this.foldingEnabled=hs.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=l=>{this._tooManyRegionsNotified||(n.notify({severity:Pi.Warning,sticky:!0,message:g("maximum fold ranges",`The number of foldable regions is limited to a maximum of {0}. Increase configuration option ['Folding Maximum Regions'](command:workbench.action.openSettings?["editor.foldingMaximumRegions"]) to enable more.`,l)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(l=>{if(l.hasChanged(37)&&(this._isEnabled=this.editor.getOptions().get(37),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),l.hasChanged(41)&&(this._maxFoldingRegions=this.editor.getOptions().get(41),this._tooManyRegionsNotified=!1,this.onModelChanged()),l.hasChanged(99)||l.hasChanged(39)){let c=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=c.get(99)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=c.get(39),this.triggerFoldingModelChanged()}l.hasChanged(38)&&(this._useFoldingProviders=this.editor.getOptions().get(38)!=="indentation",this.onFoldingStrategyChanged()),l.hasChanged(42)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(42)),l.hasChanged(40)&&(this._foldingImportsByDefault=this.editor.getOptions().get(40))})),this.onModelChanged()}static get(e){return e.getContribution(TJ.ID)}saveViewState(){let e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){let t=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),i=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:i,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){let t=this.editor.getModel();if(!t||!this._isEnabled||t.isTooLargeForTokenization()||!this.hiddenRangeModel||!e||e.lineCount!==t.getLineCount()||(this._currentModelHasFoldedImports=!!e.foldedImports,!e.collapsedRegions))return;(e.provider===v8||e.provider===y8)&&(this.foldingStateMemento=e);let i=e.collapsedRegions;if(this.hiddenRangeModel.applyMemento(i)){let n=this.getFoldingModel();n&&n.then(o=>{if(o){this._restoringViewState=!0;try{o.applyMemento(i)}finally{this._restoringViewState=!1}}}).then(void 0,Ie)}}onModelChanged(){this.localToDispose.clear();let e=this.editor.getModel();!this._isEnabled||!e||e.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new g8(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new _8(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(t=>this.onHiddenRangesChanges(t))),this.updateScheduler=new pr(this.updateDebounceInfo.get(e)),this.cursorChangedScheduler=new wt(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(t=>this.onDidChangeModelContent(t))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(t=>this.onEditorMouseDown(t))),this.localToDispose.add(this.editor.onMouseUp(t=>this.onEditorMouseUp(t))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new b8(e,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){let t=this.languageFeaturesService.foldingRangeProvider.ordered(this.foldingModel.textModel);if(t.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new S8(e,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);t.length>0&&(this.rangeProvider=new w8(e,t,()=>this.triggerFoldingModelChanged(),this._maxFoldingRegions))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(e){var t;(t=this.hiddenRangeModel)===null||t===void 0||t.notifyChangeModelContent(e),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{let e=this.foldingModel;if(!e)return null;let t=new fn(!0),i=this.getRangeProvider(e.textModel),n=this.foldingRegionPromise=xi(o=>i.compute(o,this._notifyTooManyRegions));return n.then(o=>{if(o&&n===this.foldingRegionPromise){let s;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){let d=o.setCollapsedAllOfType(Ca.Imports.value,!0);d&&(s=cl.capture(this.editor),this._currentModelHasFoldedImports=d)}let a=this.editor.getSelections(),l=a?a.map(d=>d.startLineNumber):[];e.update(o,l),s&&s.restore(this.editor);let c=this.updateDebounceInfo.update(e.textModel,t.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=c)}return e})}).then(void 0,e=>(Ie(e),null)))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){let t=this.editor.getSelections();t&&this.hiddenRangeModel.adjustSelections(t)&&this.editor.setSelections(t)}this.editor.setHiddenAreas(e)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){let e=this.getFoldingModel();!e||e.then(t=>{if(t){let i=this.editor.getSelections();if(i&&i.length>0){let n=[];for(let o of i){let s=o.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(s)&&n.push(...t.getAllRegionsAtLine(s,a=>a.isCollapsed&&s>a.startLineNumber))}n.length&&(t.toggleCollapseState(n),this.reveal(i[0].getPosition()))}}}).then(void 0,Ie)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range||!e.event.leftButton&&!e.event.middleButton)return;let t=e.target.range,i=!1;switch(e.target.type){case 4:{let n=e.target.detail,o=e.target.element.offsetLeft;if(n.offsetX-o<5)return;i=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!e.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let n=this.editor.getModel();if(n&&t.startColumn===n.getLineMaxColumn(t.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:i}}onEditorMouseUp(e){let t=this.getFoldingModel();if(!t||!this.mouseDownInfo||!e.target)return;let i=this.mouseDownInfo.lineNumber,n=this.mouseDownInfo.iconClicked,o=e.target.range;if(!(!o||o.startLineNumber!==i)){if(n){if(e.target.type!==4)return}else{let s=this.editor.getModel();if(!s||o.startColumn!==s.getLineMaxColumn(i))return}t.then(s=>{if(s){let a=s.getRegionAtLine(i);if(a&&a.startLineNumber===i){let l=a.isCollapsed;if(n||l){let c=e.event.altKey,d=[];if(c){let h=f=>!f.containedBy(a)&&!a.containedBy(f),u=s.getRegionsInside(null,h);for(let f of u)f.isCollapsed&&d.push(f);d.length===0&&(d=u)}else{let h=e.event.middleButton||e.event.shiftKey;if(h)for(let u of s.getRegionsInside(a))u.isCollapsed===l&&d.push(u);(l||!h||d.length===0)&&d.push(a)}s.toggleCollapseState(d),this.reveal({lineNumber:i,column:1})}}}}).then(void 0,Ie)}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}};Rw.ID="editor.contrib.folding";Rw=Mve([JS(1,Le),JS(2,en),JS(3,si),JS(4,Co),JS(5,ve)],Rw);var us=class extends we{runEditorCommand(e,t,i){let n=e.get(en),o=Rw.get(t);if(!o)return;let s=o.getFoldingModel();if(s)return this.reportTelemetry(e,t),s.then(a=>{if(a){this.invoke(o,a,t,i,n);let l=t.getSelection();l&&o.reveal(l.getStartPosition())}})}getSelectedLines(e){let t=e.getSelections();return t?t.map(i=>i.startLineNumber):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map(i=>i+1):this.getSelectedLines(t)}run(e,t){}};function NJ(r){if(!Xo(r)){if(!Qn(r))return!1;let e=r;if(!Xo(e.levels)&&!Nl(e.levels)||!Xo(e.direction)&&!Nr(e.direction)||!Xo(e.selectionLines)&&(!bx(e.selectionLines)||!e.selectionLines.every(Nl)))return!1}return!0}var PJ=class extends us{constructor(){super({id:"editor.unfold",label:g("unfoldAction.label","Unfold"),alias:"Unfold",precondition:hs,kbOpts:{kbExpr:F.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:NJ,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,n){let o=n&&n.levels||1,s=this.getLineNumbers(n,i);n&&n.direction==="up"?m8(t,!1,o,s):w_(t,!1,o,s)}},MJ=class extends us{constructor(){super({id:"editor.unfoldRecursively",label:g("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:hs,kbOpts:{kbExpr:F.editorTextFocus,primary:an(2089,2137),weight:100}})}invoke(e,t,i,n){w_(t,!1,Number.MAX_VALUE,this.getSelectedLines(i))}},AJ=class extends us{constructor(){super({id:"editor.fold",label:g("foldAction.label","Fold"),alias:"Fold",precondition:hs,kbOpts:{kbExpr:F.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:NJ,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,n){let o=this.getLineNumbers(n,i),s=n&&n.levels,a=n&&n.direction;typeof s!="number"&&typeof a!="string"?SJ(t,!0,o):a==="up"?m8(t,!0,s||1,o):w_(t,!0,s||1,o)}},RJ=class extends us{constructor(){super({id:"editor.toggleFold",label:g("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:hs,kbOpts:{kbExpr:F.editorTextFocus,primary:an(2089,2090),weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);yJ(t,1,n)}},FJ=class extends us{constructor(){super({id:"editor.foldRecursively",label:g("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:hs,kbOpts:{kbExpr:F.editorTextFocus,primary:an(2089,2135),weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);w_(t,!0,Number.MAX_VALUE,n)}},BJ=class extends us{constructor(){super({id:"editor.foldAllBlockComments",label:g("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:hs,kbOpts:{kbExpr:F.editorTextFocus,primary:an(2089,2133),weight:100}})}invoke(e,t,i,n,o){if(t.regions.hasTypes())RT(t,Ca.Comment.value,!0);else{let s=i.getModel();if(!s)return;let a=o.getLanguageConfiguration(s.getLanguageId()).comments;if(a&&a.blockCommentStartToken){let l=new RegExp("^\\s*"+Io(a.blockCommentStartToken));AT(t,l,!0)}}}},jJ=class extends us{constructor(){super({id:"editor.foldAllMarkerRegions",label:g("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:hs,kbOpts:{kbExpr:F.editorTextFocus,primary:an(2089,2077),weight:100}})}invoke(e,t,i,n,o){if(t.regions.hasTypes())RT(t,Ca.Region.value,!0);else{let s=i.getModel();if(!s)return;let a=o.getLanguageConfiguration(s.getLanguageId()).foldingRules;if(a&&a.markers&&a.markers.start){let l=new RegExp(a.markers.start);AT(t,l,!0)}}}},WJ=class extends us{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:g("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:hs,kbOpts:{kbExpr:F.editorTextFocus,primary:an(2089,2078),weight:100}})}invoke(e,t,i,n,o){if(t.regions.hasTypes())RT(t,Ca.Region.value,!1);else{let s=i.getModel();if(!s)return;let a=o.getLanguageConfiguration(s.getLanguageId()).foldingRules;if(a&&a.markers&&a.markers.start){let l=new RegExp(a.markers.start);AT(t,l,!1)}}}},UJ=class extends us{constructor(){super({id:"editor.foldAllExcept",label:g("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:hs,kbOpts:{kbExpr:F.editorTextFocus,primary:an(2089,2131),weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);p8(t,!0,n)}},zJ=class extends us{constructor(){super({id:"editor.unfoldAllExcept",label:g("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:hs,kbOpts:{kbExpr:F.editorTextFocus,primary:an(2089,2129),weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);p8(t,!1,n)}},VJ=class extends us{constructor(){super({id:"editor.foldAll",label:g("foldAllAction.label","Fold All"),alias:"Fold All",precondition:hs,kbOpts:{kbExpr:F.editorTextFocus,primary:an(2089,2069),weight:100}})}invoke(e,t,i){w_(t,!0)}},HJ=class extends us{constructor(){super({id:"editor.unfoldAll",label:g("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:hs,kbOpts:{kbExpr:F.editorTextFocus,primary:an(2089,2088),weight:100}})}invoke(e,t,i){w_(t,!1)}},zg=class extends us{getFoldingLevel(){return parseInt(this.id.substr(zg.ID_PREFIX.length))}invoke(e,t,i){EJ(t,this.getFoldingLevel(),!0,this.getSelectedLines(i))}};zg.ID_PREFIX="editor.foldLevel";zg.ID=r=>zg.ID_PREFIX+r;var $J=class extends us{constructor(){super({id:"editor.gotoParentFold",label:g("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:hs,kbOpts:{kbExpr:F.editorTextFocus,weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);if(n.length>0){let o=xJ(n[0],t);o!==null&&i.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}},KJ=class extends us{constructor(){super({id:"editor.gotoPreviousFold",label:g("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:hs,kbOpts:{kbExpr:F.editorTextFocus,weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);if(n.length>0){let o=DJ(n[0],t);o!==null&&i.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}},qJ=class extends us{constructor(){super({id:"editor.gotoNextFold",label:g("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:hs,kbOpts:{kbExpr:F.editorTextFocus,weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);if(n.length>0){let o=LJ(n[0],t);o!==null&&i.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}};st(Rw.ID,Rw);de(PJ);de(MJ);de(AJ);de(FJ);de(VJ);de(HJ);de(BJ);de(jJ);de(WJ);de(UJ);de(zJ);de(RJ);de($J);de(KJ);de(qJ);for(let r=1;r<=7;r++)_L(new zg({id:zg.ID(r),label:g("foldLevelAction.label","Fold Level {0}",r),alias:`Fold Level ${r}`,precondition:hs,kbOpts:{kbExpr:F.editorTextFocus,primary:an(2089,2048|21+r),weight:100}}));var Ave=W("editor.foldBackground",{light:at(Pd,.3),dark:at(Pd,.3),hc:null},g("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),Rve=W("editorGutter.foldingControlForeground",{dark:DL,light:DL,hc:DL},g("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));yt((r,e)=>{let t=r.getColor(Ave);t&&e.addRule(`.monaco-editor .folded-background { background-color: ${t}; }`);let i=r.getColor(Rve);i&&e.addRule(`
		.monaco-editor .cldr${Qt.asCSSSelector(FT)},
		.monaco-editor .cldr${Qt.asCSSSelector(BT)} {
			color: ${i} !important;
		}
		`)});kt();ke();var YJ=class extends we{constructor(){super({id:"editor.action.fontZoomIn",label:g("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(e,t){Ga.setZoomLevel(Ga.getZoomLevel()+1)}},ZJ=class extends we{constructor(){super({id:"editor.action.fontZoomOut",label:g("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(e,t){Ga.setZoomLevel(Ga.getZoomLevel()-1)}},GJ=class extends we{constructor(){super({id:"editor.action.fontZoomReset",label:g("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(e,t){Ga.setZoomLevel(0)}};de(YJ);de(ZJ);de(GJ);var L5t=aC(eee()),k5t=aC(nee());kt();Ee();re();He();kt();Mc();Wi();var WT="editor.action.inlineSuggest.commit";Ee();re();lt();cn();nt();Ei();ut();Ee();re();He();sc();ye();cn();Ee();re();ye();var iE=class{constructor(e,t,i=0){this.lineNumber=e,this.parts=t,this.additionalReservedLineCount=i}renderForScreenReader(e){if(this.parts.length===0)return"";let t=this.parts[this.parts.length-1],i=e.substr(0,t.column-1);return Wve(i,this.parts.map(o=>({range:{startLineNumber:1,endLineNumber:1,startColumn:o.column,endColumn:o.column},text:o.lines.join(`
`)}))).substring(this.parts[0].column-1)}},oee=class{constructor(e){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)e.charAt(t)===`
`&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}};function Wve(r,e){let t=new oee(r),i=e.map(n=>{let o=D.lift(n.range);return{startOffset:t.getOffset(o.getStartPosition()),endOffset:t.getOffset(o.getEndPosition()),text:n.text}});i.sort((n,o)=>o.startOffset-n.startOffset);for(let n of i)r=r.substring(0,n.startOffset)+n.text+r.substring(n.endOffset);return r}var UT=class{constructor(e,t,i){this.column=e,this.lines=t,this.preview=i}},nE=class extends ${constructor(e){super();this.editor=e,this._expanded=void 0,this.onDidChangeEmitter=new B,this.onDidChange=this.onDidChangeEmitter.event,this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(106)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(e){this._expanded=!0,this.onDidChangeEmitter.fire()}};on();He();ye();function ree(r,e){return r===e?!0:!r||!e?!1:r.range.equalsRange(e.range)&&r.text===e.text&&r.command===e.command}function zT(r,e,t,i,n=0){if(r.range.startLineNumber!==r.range.endLineNumber)return;let o=e.getLineContent(r.range.startLineNumber),s=ni(o).length;if(r.range.startColumn-1<=s){let f=ni(r.text).length,m=o.substring(r.range.startColumn-1,s),_=D.fromPositions(r.range.getStartPosition().delta(0,m.length),r.range.getEndPosition()),w=r.text.startsWith(m)?r.text.substring(m.length):r.text.substring(f);r={range:_,text:w,command:r.command}}let l=e.getValueInRange(r.range),c=Uve(l,r.text);if(!c)return;let d=r.range.startLineNumber,h=new Array;if(t==="prefix"){let f=c.filter(m=>m.originalLength===0);if(f.length>1||f.length===1&&f[0].originalStart!==l.length)return}let u=r.text.length-n;for(let f of c){let m=r.range.startColumn+f.originalStart+f.originalLength;if(t==="subwordSmart"&&i&&i.lineNumber===r.range.startLineNumber&&m<i.column||f.originalLength>0)return;if(f.modifiedLength===0)continue;let _=f.modifiedStart+f.modifiedLength,w=Math.max(f.modifiedStart,Math.min(_,u)),y=r.text.substring(f.modifiedStart,w),C=r.text.substring(w,Math.max(f.modifiedStart,_));if(y.length>0){let E=mr(y);h.push(new UT(m,E,!1))}if(C.length>0){let E=mr(C);h.push(new UT(m,E,!0))}}return new iE(d,h,0)}var yh;function Uve(r,e){if(yh?.originalValue===r&&yh?.newValue===e)return yh?.changes;{let t=zve(r,e);return yh={originalValue:r,newValue:e,changes:t},t}}function zve(r,e){if(r.length>5e3||e.length>5e3)return;function t(l){let c=0;for(let d=0,h=l.length;d<h;d++){let u=l.charCodeAt(d);u>c&&(c=u)}return c}let i=Math.max(t(r),t(e));function n(l){if(l<0)throw new Error("unexpected");return i+l+1}function o(l){let c=0,d=0,h=new Int32Array(l.length);for(let u=0,f=l.length;u<f;u++){let m=d*100+c;l[u]==="("?(h[u]=n(2*m),c++):l[u]===")"?(h[u]=n(2*m+1),c===1&&d++,c=Math.max(c-1,0)):h[u]=l.charCodeAt(u)}return h}let s=o(r),a=o(e);return new Ea({getElements:()=>s},{getElements:()=>a}).ComputeDiff(!1).changes}no();W2();uu();$2();xp();Rk();function see(r,e){let t=new xy,i=new Oy(t,c=>e.getLanguageConfiguration(c)),n=new ky(new aee([r]),i),o=Ny(n,[],void 0,!0),s="",a=r.getLineContent();function l(c,d){if(c.kind===2)l(c.openingBracket,d),d=_n(d,c.openingBracket.length),c.child&&(l(c.child,d),d=_n(d,c.child.length)),c.closingBracket?(l(c.closingBracket,d),d=_n(d,c.closingBracket.length)):s+=i.getSingleLanguageBracketTokens(c.openingBracket.languageId).findClosingTokenText(c.openingBracket.bracketIds);else if(c.kind!==3){if(c.kind===0||c.kind===1)s+=a.substring(d,_n(d,c.length));else if(c.kind===4)for(let h of c.children)l(h,d),d=_n(d,h.length)}}return l(o,Xs),s}var aee=class{constructor(e){this.lines=e}getLineCount(){return this.lines.length}getLineLength(e){return this.lines[e-1].getLineContent().length}getLineTokens(e){return this.lines[e-1]}};hi();rc();var Vve=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},VT=function(r,e){return function(t,i){e(t,i,r)}},Yu=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},HT=class extends ${constructor(e,t,i,n,o,s){super();this.editor=e,this.cache=t,this.commandService=i,this.languageConfigurationService=n,this.languageFeaturesService=o,this.debounceService=s,this.onDidChangeEmitter=new B,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new kn),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:200}),this._register(i.onDidExecuteCommand(a=>{new Set([tg.Tab.id,tg.DeleteLeft.id,tg.DeleteRight.id,WT,"acceptSelectedSuggestion"]).has(a.commandId)&&e.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(a=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(a=>{this.session&&!this.session.isValid&&this.hide()})),this._register(Ve(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var e;return(e=this.session)===null||e===void 0?void 0:e.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(e){var t;(t=this.session)===null||t===void 0||t.setExpanded(e)}setActive(e){var t;this.active=e,e&&((t=this.session)===null||t===void 0||t.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(55).enabled||this.session&&this.session.isValid||this.trigger(ys.Automatic)}trigger(e){if(this.completionSession.value){e===ys.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new lee(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,e,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var e;(e=this.session)===null||e===void 0||e.commitCurrentCompletion()}showNext(){var e;(e=this.session)===null||e===void 0||e.showNextInlineCompletion()}showPrevious(){var e;(e=this.session)===null||e===void 0||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return Yu(this,void 0,void 0,function*(){let t=yield(e=this.session)===null||e===void 0?void 0:e.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};HT=Vve([VT(2,pi),VT(3,en),VT(4,ve),VT(5,Co)],HT);var lee=class extends nE{constructor(e,t,i,n,o,s,a,l,c){super(e);this.triggerPosition=t,this.shouldUpdate=i,this.commandService=n,this.cache=o,this.initialTriggerKind=s,this.languageConfigurationService=a,this.registry=l,this.debounce=c,this.minReservedLineCount=0,this.updateOperation=this._register(new kn),this.updateSoon=this._register(new wt(()=>{let h=this.initialTriggerKind;return this.initialTriggerKind=ys.Automatic,this.update(h)},50)),this.currentlySelectedCompletionId=void 0;let d;this._register(this.onDidChange(()=>{let h=this.currentCompletion;if(h&&h.sourceInlineCompletion!==d){d=h.sourceInlineCompletion;let u=h.sourceProvider;u.handleItemDidShow&&u.handleItemDidShow(h.sourceInlineCompletions,d)}})),this._register(Ve(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(h=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(h=>{this.scheduleAutomaticUpdate()})),this._register(this.registry.onDidChange(()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;let e=this.cache.value.completions.findIndex(t=>t.semanticId===this.currentlySelectedCompletionId);return e===-1?(this.currentlySelectedCompletionId=void 0,0):e}get currentCachedCompletion(){if(!!this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var e;return Yu(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();let t=((e=this.cache.value)===null||e===void 0?void 0:e.completions)||[];if(t.length>0){let i=(this.fixAndGetIndexOfCurrentSelection()+1)%t.length;this.currentlySelectedCompletionId=t[i].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){var e;return Yu(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();let t=((e=this.cache.value)===null||e===void 0?void 0:e.completions)||[];if(t.length>0){let i=(this.fixAndGetIndexOfCurrentSelection()+t.length-1)%t.length;this.currentlySelectedCompletionId=t[i].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var e;return Yu(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===ys.Explicit?yield this.updateOperation.value.promise:yield this.update(ys.Explicit):((e=this.cache.value)===null||e===void 0?void 0:e.triggerKind)!==ys.Explicit&&(yield this.update(ys.Explicit))})}hasMultipleInlineCompletions(){var e;return Yu(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((e=this.cache.value)===null||e===void 0?void 0:e.completions.length)||0)>1})}get ghostText(){let e=this.currentCompletion,t=this.editor.getOptions().get(55).mode;return e?zT(e,this.editor.getModel(),t,this.editor.getPosition()):void 0}get currentCompletion(){let e=this.currentCachedCompletion;if(!!e)return e.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update(e){return Yu(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;let t=this.editor.getPosition(),i=new Date,n=xi(s=>Yu(this,void 0,void 0,function*(){let a;try{a=yield T8(this.registry,t,this.editor.getModel(),{triggerKind:e,selectedSuggestionInfo:void 0},s,this.languageConfigurationService);let l=new Date;this.debounce.update(this.editor.getModel(),l.getTime()-i.getTime())}catch(l){Ie(l);return}s.isCancellationRequested||(this.cache.setValue(this.editor,a,e),this.onDidChangeEmitter.fire())})),o=new $T(n,e);this.updateOperation.value=o,yield n,this.updateOperation.value===o&&this.updateOperation.clear()})}takeOwnership(e){this._register(e)}commitCurrentCompletion(){if(!this.ghostText)return;let e=this.currentCompletion;e&&this.commit(e)}commit(e){let t=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[vi.replaceMove(e.range,e.text)]),e.command?this.commandService.executeCommand(e.command.id,...e.command.arguments||[]).finally(()=>{t?.dispose()}).then(void 0,Si):t?.dispose(),this.onDidChangeEmitter.fire()}},$T=class{constructor(e,t){this.promise=e,this.triggerKind=t}dispose(){this.promise.cancel()}},O8=class extends ${constructor(e,t,i,n){super();this.triggerKind=n;let o=e.deltaDecorations([],t.items.map(s=>({range:s.range,options:{description:"inline-completion-tracking-range"}})));this._register(Ve(()=>{e.deltaDecorations(o,[])})),this.completions=t.items.map((s,a)=>new cee(s,o[a])),this._register(e.onDidChangeModelContent(()=>{let s=!1,a=e.getModel();for(let l of this.completions){let c=a.getDecorationRange(l.decorationId);if(!c){Ie(new Error("Decoration has no range"));continue}l.synchronizedRange.equalsRange(c)||(s=!0,l.synchronizedRange=c)}s&&i()})),this._register(t)}},cee=class{constructor(e,t){this.inlineCompletion=e,this.decorationId=t,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=e.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}};function Hve(r,e){let t=e.getWordAtPosition(r),i=e.getLineMaxColumn(r.lineNumber);return t?new D(r.lineNumber,t.startColumn,r.lineNumber,i):D.fromPositions(r,r.with(void 0,i))}function T8(r,e,t,i,n=Qe.None,o){return Yu(this,void 0,void 0,function*(){let s=Hve(e,t),a=r.all(t),l=yield Promise.all(a.map(d=>Yu(this,void 0,void 0,function*(){let h=yield Promise.resolve(d.provideInlineCompletions(t,e,i,n)).catch(Si);return{completions:h,provider:d,dispose:()=>{h&&d.freeInlineCompletions(h)}}}))),c=new Map;for(let d of l){let h=d.completions;if(h)for(let u of h.items){let f=u.range?D.lift(u.range):s;if(f.startLineNumber!==f.endLineNumber)continue;let m=o&&u.completeBracketPairs?$ve(u.text,f.getStartPosition(),t,o):u.text,_={text:m,range:f,command:u.command,sourceProvider:d.provider,sourceInlineCompletions:h,sourceInlineCompletion:u};c.set(JSON.stringify({text:m,range:u.range}),_)}}return{items:[...c.values()],dispose:()=>{for(let d of l)d.dispose()}}})}function $ve(r,e,t,i){let o=t.getLineContent(e.lineNumber).substring(0,e.column-1)+r,s=t.tokenizeLineWithEdit(e,o.length-(e.column-1),r),a=s?.sliceAndInflate(e.column-1,o.length,0);return a?(console.log(a),see(a,i)):r}function Fw(r,e){if(!e)return e;let t=r.getValueInRange(e.range),i=xc(t,e.text),n=r.getOffsetAt(e.range.getStartPosition())+i,o=r.getPositionAt(n),s=t.substr(i),a=Lm(s,e.text),l=r.getPositionAt(Math.max(n,r.getOffsetAt(e.range.getEndPosition())-a));return{range:D.fromPositions(o,l),text:e.text.substr(i,e.text.length-i-a)}}nt();ut();re();cn();hi();jt();nt();Ee();re();lt();ye();jt();re();He();sc();ye();mi();Fo();xf();Vr();He();var Zo=new Uint8Array(16),fs=[];for(let r=0;r<256;r++)fs.push(r.toString(16).padStart(2,"0"));var N8;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?N8=crypto.getRandomValues.bind(crypto):N8=function(r){for(let e=0;e<r.length;e++)r[e]=Math.floor(Math.random()*256);return r};function dee(){N8(Zo),Zo[6]=Zo[6]&15|64,Zo[8]=Zo[8]&63|128;let r=0,e="";return e+=fs[Zo[r++]],e+=fs[Zo[r++]],e+=fs[Zo[r++]],e+=fs[Zo[r++]],e+="-",e+=fs[Zo[r++]],e+=fs[Zo[r++]],e+="-",e+=fs[Zo[r++]],e+=fs[Zo[r++]],e+="-",e+=fs[Zo[r++]],e+=fs[Zo[r++]],e+="-",e+=fs[Zo[r++]],e+=fs[Zo[r++]],e+=fs[Zo[r++]],e+=fs[Zo[r++]],e+=fs[Zo[r++]],e+=fs[Zo[r++]],e}no();ke();var nLt=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0}),P8=class{constructor(e){this._delegates=e}resolve(e){for(let t of this._delegates){let i=t.resolve(e);if(i!==void 0)return i}}},M8=class{constructor(e,t,i,n){this._model=e,this._selection=t,this._selectionIdx=i,this._overtypingCapturer=n}resolve(e){let{name:t}=e;if(t==="SELECTION"||t==="TM_SELECTED_TEXT"){let i=this._model.getValueInRange(this._selection)||void 0,n=this._selection.startLineNumber!==this._selection.endLineNumber;if(!i&&this._overtypingCapturer){let o=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);o&&(i=o.value,n=o.multiline)}if(i&&n&&e.snippet){let o=this._model.getLineContent(this._selection.startLineNumber),s=ni(o,0,this._selection.startColumn-1),a=s;e.snippet.walk(c=>c===e?!1:(c instanceof qr&&(a=ni(mr(c.value).pop())),!0));let l=xc(a,s);i=i.replace(/(\r\n|\r|\n)(.*)/g,(c,d,h)=>`${d}${a.substr(l)}${h}`)}return i}else{if(t==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(t==="TM_CURRENT_WORD"){let i=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return i&&i.word||void 0}else{if(t==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(t==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}},A8=class{constructor(e,t){this._labelService=e,this._model=t}resolve(e){let{name:t}=e;if(t==="TM_FILENAME")return ud(this._model.uri.fsPath);if(t==="TM_FILENAME_BASE"){let i=ud(this._model.uri.fsPath),n=i.lastIndexOf(".");return n<=0?i:i.slice(0,n)}else{if(t==="TM_DIRECTORY")return Tx(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(hg(this._model.uri));if(t==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(t==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}},R8=class{constructor(e,t,i,n){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=i,this._spread=n}resolve(e){if(e.name!=="CLIPBOARD")return;let t=this._readClipboardText();if(!!t){if(this._spread){let i=t.split(/\r\n|\n|\r/).filter(n=>!bD(n));if(i.length===this._selectionCount)return i[this._selectionIdx]}return t}}},F8=class{constructor(e,t){this._model=e,this._selection=t}resolve(e){let{name:t}=e,i=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),n=qi.getComments(i);if(!!n){if(t==="LINE_COMMENT")return n.lineCommentToken||void 0;if(t==="BLOCK_COMMENT_START")return n.blockCommentStartToken||void 0;if(t==="BLOCK_COMMENT_END")return n.blockCommentEndToken||void 0}}},gc=class{constructor(){this._date=new Date}resolve(e){let{name:t}=e;if(t==="CURRENT_YEAR")return String(this._date.getFullYear());if(t==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(t==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(t==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(t==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(t==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(t==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(t==="CURRENT_DAY_NAME")return gc.dayNames[this._date.getDay()];if(t==="CURRENT_DAY_NAME_SHORT")return gc.dayNamesShort[this._date.getDay()];if(t==="CURRENT_MONTH_NAME")return gc.monthNames[this._date.getMonth()];if(t==="CURRENT_MONTH_NAME_SHORT")return gc.monthNamesShort[this._date.getMonth()];if(t==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}};gc.dayNames=[g("Sunday","Sunday"),g("Monday","Monday"),g("Tuesday","Tuesday"),g("Wednesday","Wednesday"),g("Thursday","Thursday"),g("Friday","Friday"),g("Saturday","Saturday")];gc.dayNamesShort=[g("SundayShort","Sun"),g("MondayShort","Mon"),g("TuesdayShort","Tue"),g("WednesdayShort","Wed"),g("ThursdayShort","Thu"),g("FridayShort","Fri"),g("SaturdayShort","Sat")];gc.monthNames=[g("January","January"),g("February","February"),g("March","March"),g("April","April"),g("May","May"),g("June","June"),g("July","July"),g("August","August"),g("September","September"),g("October","October"),g("November","November"),g("December","December")];gc.monthNamesShort=[g("JanuaryShort","Jan"),g("FebruaryShort","Feb"),g("MarchShort","Mar"),g("AprilShort","Apr"),g("MayShort","May"),g("JuneShort","Jun"),g("JulyShort","Jul"),g("AugustShort","Aug"),g("SeptemberShort","Sep"),g("OctoberShort","Oct"),g("NovemberShort","Nov"),g("DecemberShort","Dec")];var B8=class{constructor(e){this._workspaceService=e}resolve(e){if(!this._workspaceService)return;let t=Lq(this._workspaceService.getWorkspace());if(!!t){if(e.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(t);if(e.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(t)}}_resolveWorkspaceName(e){if(l4(e))return ud(e.uri.path);let t=ud(e.configPath.path);return t.endsWith(mI)&&(t=t.substr(0,t.length-mI.length-1)),t}_resoveWorkspacePath(e){if(l4(e))return sT(e.uri.fsPath);let t=ud(e.configPath.path),i=e.configPath.fsPath;return i.endsWith(t)&&(i=i.substr(0,i.length-t.length-1)),i?sT(i):"/"}},j8=class{resolve(e){let{name:t}=e;if(t==="RANDOM")return Math.random().toString().slice(-6);if(t==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(t==="UUID")return dee()}};var bl=class{constructor(e,t,i,n){this._editor=e,this._snippet=t,this._offset=i,this._snippetLineLeadingWhitespace=n,this._nestingLevel=1,this._placeholderGroups=NP(t.placeholders,Pa.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;let e=this._editor.getModel();this._editor.changeDecorations(t=>{for(let i of this._snippet.placeholders){let n=this._snippet.offset(i),o=this._snippet.fullLen(i),s=D.fromPositions(e.getPositionAt(this._offset+n),e.getPositionAt(this._offset+n+o)),a=i.isFinalTabstop?bl._decor.inactiveFinal:bl._decor.inactive,l=t.addDecoration(s,a);this._placeholderDecorations.set(i,l)}})}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let n=[];for(let o of this._placeholderGroups[this._placeholderGroupsIdx])if(o.transform){let s=this._placeholderDecorations.get(o),a=this._editor.getModel().getDecorationRange(s),l=this._editor.getModel().getValueInRange(a),c=o.transform.resolve(l).split(/\r\n|\r|\n/);for(let d=1;d<c.length;d++)c[d]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+c[d]);n.push(vi.replace(a,c.join(this._editor.getModel().getEOL())))}n.length>0&&this._editor.executeEdits("snippet.placeholderTransform",n)}let t=!1;e===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,t=!0):e===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,t=!0);let i=this._editor.getModel().changeDecorations(n=>{let o=new Set,s=[];for(let a of this._placeholderGroups[this._placeholderGroupsIdx]){let l=this._placeholderDecorations.get(a),c=this._editor.getModel().getDecorationRange(l);s.push(new he(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn)),t=t&&this._hasPlaceholderBeenCollapsed(a),n.changeDecorationOptions(l,a.isFinalTabstop?bl._decor.activeFinal:bl._decor.active),o.add(a);for(let d of this._snippet.enclosingPlaceholders(a)){let h=this._placeholderDecorations.get(d);n.changeDecorationOptions(h,d.isFinalTabstop?bl._decor.activeFinal:bl._decor.active),o.add(d)}}for(let[a,l]of this._placeholderDecorations)o.has(a)||n.changeDecorationOptions(l,a.isFinalTabstop?bl._decor.inactiveFinal:bl._decor.inactive);return s});return t?this.move(e):i??[]}_hasPlaceholderBeenCollapsed(e){let t=e;for(;t;){if(t instanceof Pa){let i=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(i).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){let e=new Map;for(let t of this._placeholderGroups){let i;for(let n of t){if(n.isFinalTabstop)break;i||(i=[],e.set(n.index,i));let o=this._placeholderDecorations.get(n),s=this._editor.getModel().getDecorationRange(o);if(!s){e.delete(n.index);break}i.push(s)}}return e}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(e){let t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(i=>{for(let n of this._placeholderGroups[this._placeholderGroupsIdx]){let o=e.shift();console.assert(!o._placeholderDecorations);let s=o._snippet.placeholderInfo.last.index;for(let l of o._snippet.placeholderInfo.all)l.isFinalTabstop?l.index=n.index+(s+1)/this._nestingLevel:l.index=n.index+l.index/this._nestingLevel;this._snippet.replace(n,o._snippet.children);let a=this._placeholderDecorations.get(n);i.removeDecoration(a),this._placeholderDecorations.delete(n);for(let l of o._snippet.placeholders){let c=o._snippet.offset(l),d=o._snippet.fullLen(l),h=D.fromPositions(t.getPositionAt(o._offset+c),t.getPositionAt(o._offset+c+d)),u=i.addDecoration(h,bl._decor.inactive);this._placeholderDecorations.set(l,u)}}this._placeholderGroups=NP(this._snippet.placeholders,Pa.compareByIndex)})}};bl._decor={active:ot.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:ot.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:ot.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:ot.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};var hee={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},vl=class{constructor(e,t,i=hee){this._templateMerges=[],this._snippets=[],this._editor=e,this._template=t,this._options=i}static adjustWhitespace(e,t,i,n,o){let s=e.getLineContent(t.lineNumber),a=ni(s,0,t.column-1),l;return i.walk(c=>{if(!(c instanceof qr)||c.parent instanceof f_)return!0;let d=c.value.split(/\r\n|\r|\n/);if(n){let u=i.offset(c);if(u===0)d[0]=e.normalizeIndentation(d[0]);else{l=l??i.toString();let f=l.charCodeAt(u-1);(f===10||f===13)&&(d[0]=e.normalizeIndentation(a+d[0]))}for(let f=1;f<d.length;f++)d[f]=e.normalizeIndentation(a+d[f])}let h=d.join(e.getEOL());return h!==c.value&&(c.parent.replace(c,[new qr(h)]),l=void 0),!0}),a}static adjustSelection(e,t,i,n){if(i!==0||n!==0){let{positionLineNumber:o,positionColumn:s}=t,a=s-i,l=s+n,c=e.validateRange({startLineNumber:o,startColumn:a,endLineNumber:o,endColumn:l});t=he.createWithDirection(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn,t.getDirection())}return t}static createEditsAndSnippets(e,t,i,n,o,s,a,l){let c=[],d=[];if(!e.hasModel())return{edits:c,snippets:d};let h=e.getModel(),u=e.invokeWithinContext(L=>L.get(gI)),f=e.invokeWithinContext(L=>new A8(L.get(eh),h)),m=()=>a,_=0,w=h.getValueInRange(vl.adjustSelection(h,e.getSelection(),i,0)),y=h.getValueInRange(vl.adjustSelection(h,e.getSelection(),0,n)),C=h.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber),E=e.getSelections().map((L,k)=>({selection:L,idx:k})).sort((L,k)=>D.compareRangesUsingStarts(L.selection,k.selection));for(let{selection:L,idx:k}of E){let M=vl.adjustSelection(h,L,i,0),I=vl.adjustSelection(h,L,0,n);w!==h.getValueInRange(M)&&(M=L),y!==h.getValueInRange(I)&&(I=L);let T=L.setStartPosition(M.startLineNumber,M.startColumn).setEndPosition(I.endLineNumber,I.endColumn),R=new ju().parse(t,!0,o),Z=T.getStartPosition(),q=vl.adjustWhitespace(h,Z,R,s||k>0&&C!==h.getLineFirstNonWhitespaceColumn(L.positionLineNumber),!0);R.resolveVariables(new P8([f,new R8(m,k,E.length,e.getOption(71)==="spread"),new M8(h,L,k,l),new F8(h,L),new gc,new B8(u),new j8]));let te=h.getOffsetAt(Z)+_;_+=R.toString().length-h.getValueLengthInRange(T),c[k]=vi.replace(T,R.toString()),c[k].identifier={major:k,minor:0},d[k]=new bl(e,R,te,q)}return{edits:c,snippets:d}}dispose(){dt(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;let{edits:e,snippets:t}=vl.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=t,this._editor.executeEdits("snippet",e,i=>this._snippets[0].hasPlaceholder?this._move(!0):i.filter(n=>!!n.identifier).map(n=>he.fromPositions(n.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(e,t=hee){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);let{edits:i,snippets:n}=vl.createEditsAndSnippets(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer);this._editor.executeEdits("snippet",i,o=>{for(let s of this._snippets)s.merge(n);return console.assert(n.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):o.filter(s=>!!s.identifier).map(s=>he.fromPositions(s.range.getEndPosition()))})}next(){let e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){let e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){let t=[];for(let i of this._snippets){let n=i.move(e);t.push(...n)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;let e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;let t=new Map;for(let i of this._snippets){let n=i.computePossibleSelections();if(t.size===0)for(let[o,s]of n){s.sort(D.compareRangesUsingStarts);for(let a of e)if(s[0].containsRange(a)){t.set(o,[]);break}}if(t.size===0)return!1;t.forEach((o,s)=>{o.push(...n.get(s))})}e.sort(D.compareRangesUsingStarts);for(let[i,n]of t){if(n.length!==e.length){t.delete(i);continue}n.sort(D.compareRangesUsingStarts);for(let o=0;o<n.length;o++)if(!n[o].containsRange(e[o])){t.delete(i);continue}}return t.size>0}};xs();jt();nt();Ei();ut();Ee();Hm();re();xt();va();ai();kt();sc();lt();ye();Wi();re();kt();ye();mi();Wi();ke();Et();Ye();Vl();var Kve=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},W8=function(r,e){return function(t,i){e(t,i,r)}},uee={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},jo=class oE{constructor(e,t,i,n){this._editor=e,this._instantiationService=t,this._logService=i,this._snippetListener=new J,this._modelVersionId=-1,this._inSnippet=oE.InSnippetMode.bindTo(n),this._hasNextTabstop=oE.HasNextTabstop.bindTo(n),this._hasPrevTabstop=oE.HasPrevTabstop.bindTo(n)}static get(e){return e.getContribution(oE.ID)}dispose(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(e=this._session)===null||e===void 0||e.dispose(),this._snippetListener.dispose()}insert(e,t){try{this._doInsert(e,typeof t>"u"?uee:Object.assign(Object.assign({},uee),t))}catch(i){this.cancel(),this._logService.error(i),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){!this._editor.hasModel()||(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(e,t):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new vl(this._editor,e,t),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(i=>i.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}let{choice:e}=this._session;if(!e){this._currentChoice=void 0;return}if(this._currentChoice!==e){this._currentChoice=e,this._editor.setSelections(this._editor.getSelections().map(i=>he.fromPositions(i.getStartPosition())));let[t]=e.options;this._instantiationService.invokeFunction(sQ,this._editor,e.options.map((i,n)=>({kind:13,label:i.value,insertText:i.value,sortText:"a".repeat(n+1),range:D.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,t.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(e=!1){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(t=this._session)===null||t===void 0||t.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};jo.ID="snippetController2";jo.InSnippetMode=new Se("inSnippetMode",!1,g("inSnippetMode","Whether the editor in current in snippet mode"));jo.HasNextTabstop=new Se("hasNextTabstop",!1,g("hasNextTabstop","Whether there is a next tab stop when in snippet mode"));jo.HasPrevTabstop=new Se("hasPrevTabstop",!1,g("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode"));jo=Kve([W8(1,ze),W8(2,go),W8(3,Le)],jo);st(jo.ID,jo);var KT=Yi.bindToContribution(jo.get);me(new KT({id:"jumpToNextSnippetPlaceholder",precondition:Ce.and(jo.InSnippetMode,jo.HasNextTabstop),handler:r=>r.next(),kbOpts:{weight:100+30,kbExpr:F.editorTextFocus,primary:2}}));me(new KT({id:"jumpToPrevSnippetPlaceholder",precondition:Ce.and(jo.InSnippetMode,jo.HasPrevTabstop),handler:r=>r.prev(),kbOpts:{weight:100+30,kbExpr:F.editorTextFocus,primary:1026}}));me(new KT({id:"leaveSnippet",precondition:jo.InSnippetMode,handler:r=>r.cancel(!0),kbOpts:{weight:100+30,kbExpr:F.editorTextFocus,primary:9,secondary:[1033]}}));me(new KT({id:"acceptSnippet",precondition:jo.InSnippetMode,handler:r=>r.finish()}));nt();re();ia();cn();Fr();Ss();Ye();var qve=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},fee=function(r,e){return function(t,i){e(t,i,r)}},YT=class{constructor(e){this.name=e}select(e,t,i){if(i.length===0)return 0;let n=i[0].score[0];for(let o=0;o<i.length;o++){let{score:s,completion:a}=i[o];if(s[0]!==n)break;if(a.preselect)return o}return 0}},U8=class extends YT{constructor(){super("first")}memorize(e,t,i){}toJSON(){}fromJSON(){}},gee=class extends YT{constructor(){super("recentlyUsed");this._cache=new ta(300,.66),this._seq=0}memorize(e,t,i){let n=`${e.getLanguageId()}/${i.textLabel}`;this._cache.set(n,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})}select(e,t,i){if(i.length===0)return 0;let n=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(n))return super.select(e,t,i);let o=i[0].score[0],s=-1,a=-1,l=-1;for(let c=0;c<i.length&&i[c].score[0]===o;c++){let d=`${e.getLanguageId()}/${i[c].textLabel}`,h=this._cache.peek(d);if(h&&h.touch>l&&h.type===i[c].completion.kind&&h.insertText===i[c].completion.insertText&&(l=h.touch,a=c),i[c].completion.preselect&&s===-1)return s=c}return a!==-1?a:s!==-1?s:0}toJSON(){return this._cache.toJSON()}fromJSON(e){this._cache.clear();let t=0;for(let[i,n]of e)n.touch=t,n.type=typeof n.type=="number"?n.type:Em.fromString(n.type),this._cache.set(i,n);this._seq=this._cache.size}},mee=class extends YT{constructor(){super("recentlyUsedByPrefix");this._trie=Jd.forStrings(),this._seq=0}memorize(e,t,i){let{word:n}=e.getWordUntilPosition(t),o=`${e.getLanguageId()}/${n}`;this._trie.set(o,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})}select(e,t,i){let{word:n}=e.getWordUntilPosition(t);if(!n)return super.select(e,t,i);let o=`${e.getLanguageId()}/${n}`,s=this._trie.get(o);if(s||(s=this._trie.findSubstr(o)),s)for(let a=0;a<i.length;a++){let{kind:l,insertText:c}=i[a].completion;if(l===s.type&&c===s.insertText)return a}return super.select(e,t,i)}toJSON(){let e=[];return this._trie.forEach((t,i)=>e.push([i,t])),e.sort((t,i)=>-(t[1].touch-i[1].touch)).forEach((t,i)=>t[1].touch=i),e.slice(0,200)}fromJSON(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(let[t,i]of e)i.type=typeof i.type=="number"?i.type:Em.fromString(i.type),this._trie.set(t,i)}}},rE=class qT{constructor(e,t){this._storageService=e,this._configService=t,this._disposables=new J,this._persistSoon=new wt(()=>this._saveState(),500),this._disposables.add(e.onWillSaveState(i=>{i.reason===vw.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(e,t,i){this._withStrategy(e,t).memorize(e,t,i),this._persistSoon.schedule()}select(e,t,i){return this._withStrategy(e,t).select(e,t,i)}_withStrategy(e,t){var i;let n=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:e.getLanguageIdAtPosition(t.lineNumber,t.column),resource:e.uri});if(((i=this._strategy)===null||i===void 0?void 0:i.name)!==n){this._saveState();let o=qT._strategyCtors.get(n)||U8;this._strategy=new o;try{let a=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,l=this._storageService.get(`${qT._storagePrefix}/${n}`,a);l&&this._strategy.fromJSON(JSON.parse(l))}catch{}}return this._strategy}_saveState(){if(this._strategy){let t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,i=JSON.stringify(this._strategy);this._storageService.store(`${qT._storagePrefix}/${this._strategy.name}`,i,t,1)}}};rE._strategyCtors=new Map([["recentlyUsedByPrefix",mee],["recentlyUsed",gee],["first",U8]]);rE._storagePrefix="suggest/memories";rE=qve([fee(0,la),fee(1,Ht)],rE);var z8=Fe("ISuggestMemories");Lt(z8,rE,!0);Et();var Yve=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Zve=function(r,e){return function(t,i){e(t,i,r)}},Bw=class pee{constructor(e,t){this._editor=e,this._enabled=!1,this._ckAtEnd=pee.AtEnd.bindTo(t),this._configListener=this._editor.onDidChangeConfiguration(i=>i.hasChanged(111)&&this._update()),this._update()}dispose(){var e;this._configListener.dispose(),(e=this._selectionListener)===null||e===void 0||e.dispose(),this._ckAtEnd.reset()}_update(){let e=this._editor.getOption(111)==="on";if(this._enabled!==e)if(this._enabled=e,this._enabled){let t=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}let i=this._editor.getModel(),n=this._editor.getSelection(),o=i.getWordAtPosition(n.getStartPosition());if(!o){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(o.endColumn===n.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(t),t()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};Bw.AtEnd=new Se("atEndOfWord",!1);Bw=Yve([Zve(1,Le)],Bw);ke();Mo();on();Et();Ye();qh();Vl();Et();var Gve=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Xve=function(r,e){return function(t,i){e(t,i,r)}},Vg=class ZT{constructor(e,t){this._editor=e,this._index=0,this._ckOtherSuggestions=ZT.OtherSuggestions.bindTo(t)}dispose(){this.reset()}reset(){var e;this._ckOtherSuggestions.reset(),(e=this._listener)===null||e===void 0||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:e,index:t},i){if(e.items.length===0){this.reset();return}if(ZT._moveIndex(!0,e,t)===t){this.reset();return}this._acceptNext=i,this._model=e,this._index=t,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(e,t,i){let n=i;for(;n=(n+t.items.length+(e?1:-1))%t.items.length,!(n===i||!t.items[n].completion.additionalTextEdits););return n}next(){this._move(!0)}prev(){this._move(!1)}_move(e){if(!!this._model)try{this._ignore=!0,this._index=ZT._moveIndex(e,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};Vg.OtherSuggestions=new Se("hasOtherSuggestions",!1);Vg=Gve([Xve(1,Le)],Vg);jt();re();Rm();var V8=class{constructor(e,t,i){this._disposables=new J,this._disposables.add(t.onDidShow(()=>this._onItem(t.getFocusedItem()))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType(n=>{if(this._active&&!t.isFrozen()){let o=n.charCodeAt(n.length-1);this._active.acceptCharacters.has(o)&&e.getOption(0)&&i(this._active.item)}}))}_onItem(e){if(!e||!jn(e.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===e.item)return;let t=new Cd;for(let i of e.item.completion.commitCharacters)i.length>0&&t.add(i.charCodeAt(0));this._active={acceptCharacters:t,item:e}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}};nt();Ei();ut();Ee();re();He();mi();vu();jt();ye();Ph();lt();ye();var Qve=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},gs=class{provideSelectionRanges(e,t){return Qve(this,void 0,void 0,function*(){let i=[];for(let n of t){let o=[];i.push(o);let s=new Map;yield new Promise(a=>gs._bracketsRightYield(a,0,e,n,s)),yield new Promise(a=>gs._bracketsLeftYield(a,0,e,n,s,o))}return i})}static _bracketsRightYield(e,t,i,n,o){let s=new Map,a=Date.now();for(;;){if(t>=gs._maxRounds){e();break}if(!n){e();break}let l=i.bracketPairs.findNextBracket(n);if(!l){e();break}if(Date.now()-a>gs._maxDuration){setTimeout(()=>gs._bracketsRightYield(e,t+1,i,n,o));break}let d=l.close[0];if(l.isOpen){let h=s.has(d)?s.get(d):0;s.set(d,h+1)}else{let h=s.has(d)?s.get(d):0;if(h-=1,s.set(d,Math.max(0,h)),h<0){let u=o.get(d);u||(u=new fo,o.set(d,u)),u.push(l.range)}}n=l.range.getEndPosition()}}static _bracketsLeftYield(e,t,i,n,o,s){let a=new Map,l=Date.now();for(;;){if(t>=gs._maxRounds&&o.size===0){e();break}if(!n){e();break}let c=i.bracketPairs.findPrevBracket(n);if(!c){e();break}if(Date.now()-l>gs._maxDuration){setTimeout(()=>gs._bracketsLeftYield(e,t+1,i,n,o,s));break}let h=c.close[0];if(c.isOpen){let u=a.has(h)?a.get(h):0;if(u-=1,a.set(h,Math.max(0,u)),u<0){let f=o.get(h);if(f){let m=f.shift();f.size===0&&o.delete(h);let _=D.fromPositions(c.range.getEndPosition(),m.getStartPosition()),w=D.fromPositions(c.range.getStartPosition(),m.getEndPosition());s.push({range:_}),s.push({range:w}),gs._addBracketLeading(i,w,s)}}}else{let u=a.has(h)?a.get(h):0;a.set(h,u+1)}n=c.range.getStartPosition()}}static _addBracketLeading(e,t,i){if(t.startLineNumber===t.endLineNumber)return;let n=t.startLineNumber,o=e.getLineFirstNonWhitespaceColumn(n);o!==0&&o!==t.startColumn&&(i.push({range:D.fromPositions(new V(n,o),t.getEndPosition())}),i.push({range:D.fromPositions(new V(n,1),t.getEndPosition())}));let s=n-1;if(s>0){let a=e.getLineFirstNonWhitespaceColumn(s);a===t.startColumn&&a!==e.getLineLastNonWhitespaceColumn(s)&&(i.push({range:D.fromPositions(new V(s,a),t.getEndPosition())}),i.push({range:D.fromPositions(new V(s,1),t.getEndPosition())}))}}};gs._maxDuration=30;gs._maxRounds=2;var Jve=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},mc=class{static create(e,t){return Jve(this,void 0,void 0,function*(){if(!t.getOption(106).localityBonus||!t.hasModel())return mc.None;let i=t.getModel(),n=t.getPosition();if(!e.canComputeWordRanges(i.uri))return mc.None;let[o]=yield new gs().provideSelectionRanges(i,[n]);if(o.length===0)return mc.None;let s=yield e.computeWordRanges(i.uri,o[0].range);if(!s)return mc.None;let a=i.getWordUntilPosition(n);return delete s[a.word],new class extends mc{distance(l,c){if(!n.equals(t.getPosition()))return 0;if(c.kind===17)return 2<<20;let d=typeof c.label=="string"?c.label:c.label.label,h=s[d];if(mx(h))return 2<<20;let u=J_(h,D.fromPositions(l),D.compareRangesUsingStarts),f=u>=0?h[u]:h[Math.max(0,~u-1)],m=o.length;for(let _ of o){if(!D.containsRange(_.range,f))break;m-=1}return m}}})}};mc.None=new class extends mc{distance(){return 0}};Fr();Et();Vl();Xm();jt();He();var Zu=class{constructor(e,t,i,n,o,s,a){this.clipboardText=a,this._snippetCompareFn=Zu._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=n,this._options=o,this._refilterKind=1,this._lineContext=i,s==="top"?this._snippetCompareFn=Zu._compareCompletionItemsSnippetsUp:s==="bottom"&&(this._snippetCompareFn=Zu._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){(this._lineContext.leadingLineContent!==e.leadingLineContent||this._lineContext.characterCountDelta!==e.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();let e=new Set;for(let[t,i]of this._providerInfo)i&&e.add(t);return e}adopt(e){let t=[];for(let i=0;i<this._items.length;)e.has(this._items[i].provider)?i++:(t.push(this._items[i]),this._items[i]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;let e=[],{leadingLineContent:t,characterCountDelta:i}=this._lineContext,n="",o="",s=this._refilterKind===1?this._items:this._filteredItems,a=[],l=!this._options.filterGraceful||s.length>2e3?Fp:aY;for(let c=0;c<s.length;c++){let d=s[c];if(d.isInvalid)continue;this._providerInfo.set(d.provider,Boolean(d.container.incomplete));let h=d.position.column-d.editStart.column,u=h+i-(d.position.column-this._column);if(n.length!==u&&(n=u===0?"":t.slice(-u),o=n.toLowerCase()),d.word=n,u===0)d.score=oa.Default;else{let f=0;for(;f<h;){let m=n.charCodeAt(f);if(m===32||m===9)f+=1;else break}if(f>=u)d.score=oa.Default;else if(typeof d.completion.filterText=="string"){let m=l(n,o,f,d.completion.filterText,d.filterTextLow,0,!1);if(!m)continue;ZC(d.completion.filterText,d.textLabel)===0?d.score=m:(d.score=oY(n,o,f,d.textLabel,d.labelLow,0),d.score[0]=m[0])}else{let m=l(n,o,f,d.textLabel,d.labelLow,0,!1);if(!m)continue;d.score=m}}d.idx=c,d.distance=this._wordDistance.distance(d.position,d.completion),a.push(d),e.push(d.textLabel.length)}this._filteredItems=a.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?fx(e.length-.85,e,(c,d)=>c-d):0}}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return 1;if(t.completion.kind===27)return-1}return Zu._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return-1;if(t.completion.kind===27)return 1}return Zu._compareCompletionItems(e,t)}};hi();var ewe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},S_=function(r,e){return function(t,i){e(t,i,r)}},twe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},E_=class{constructor(e,t,i,n){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.auto=i,this.shy=n}static shouldAutoTrigger(e){if(!e.hasModel())return!1;let t=e.getModel(),i=e.getPosition();t.tokenizeIfCheap(i.lineNumber);let n=t.getWordAtPosition(i);return!(!n||n.endColumn!==i.column||!isNaN(Number(n.word)))}};function iwe(r,e,t){if(!Boolean(e.getContextKeyValue("inlineSuggestionVisible")))return!0;let i=t.getValue("editor.inlineSuggest.allowQuickSuggestions");return i!==void 0?Boolean(i):!1}function nwe(r,e,t){if(!Boolean(e.getContextKeyValue("inlineSuggestionVisible")))return!0;let i=t.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return i!==void 0?Boolean(i):!1}var GT=class _ee{constructor(e,t,i,n,o,s,a,l){this._editor=e,this._editorWorkerService=t,this._clipboardService=i,this._telemetryService=n,this._logService=o,this._contextKeyService=s,this._configurationService=a,this._languageFeaturesService=l,this._toDispose=new J,this._quickSuggestDelay=10,this._triggerCharacterListener=new J,this._triggerQuickSuggest=new mn,this._state=0,this._completionDisposables=new J,this._onDidCancel=new B,this._onDidTrigger=new B,this._onDidSuggest=new B,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new he(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let c=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{c=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{c=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(d=>{c||this._onCursorChange(d)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{c||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){dt(this._triggerCharacterListener),dt([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(80),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(81)||!this._editor.hasModel()||!this._editor.getOption(109))return;let e=new Map;for(let i of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(let n of i.triggerCharacters||[]){let o=e.get(n);o||(o=new Set,o.add(oQ()),e.set(n,o)),o.add(i)}let t=i=>{if(!nwe(this._editor,this._contextKeyService,this._configurationService)||E_.shouldAutoTrigger(this._editor))return;if(!i){let s=this._editor.getPosition();i=this._editor.getModel().getLineContent(s.lineNumber).substr(0,s.column-1)}let n="";pd(i.charCodeAt(i.length-1))?Ji(i.charCodeAt(i.length-2))&&(n=i.substr(i.length-2)):n=i.charAt(i.length-1);let o=e.get(n);if(o){let s=this._completionModel?{items:this._completionModel.adopt(o),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:n},Boolean(this._completionModel),o,s)}};this._triggerCharacterListener.add(this._editor.onDidType(t)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>t()))}get state(){return this._state}cancel(e=!1){var t;this._state!==0&&(this._triggerQuickSuggest.cancel(),(t=this._requestToken)===null||t===void 0||t.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(e){if(!this._editor.hasModel())return;let t=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||e.reason!==0&&e.reason!==3||e.source!=="keyboard"&&e.source!=="deleteLeft"){this.cancel();return}this._state===0&&e.reason===0?(t.containsRange(this._currentSelection)||t.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&e.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var e;this._editor.getOption(79)!==!1&&(this._editor.getOption(106).snippetsPreventQuickSuggestions&&((e=jo.get(this._editor))===null||e===void 0?void 0:e.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!E_.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;let t=this._editor.getModel(),i=this._editor.getPosition(),n=this._editor.getOption(79);if(n!==!1){if(n!==!0){t.tokenizeIfCheap(i.lineNumber);let o=t.getLineTokens(i.lineNumber),s=o.getStandardTokenType(o.findTokenIndexAtOffset(Math.max(i.column-1-1,0)));if(!(n.other&&s===0||n.comments&&s===1||n.strings&&s===2))return}!iwe(this._editor,this._contextKeyService,this._configurationService)||!this._languageFeaturesService.completionProvider.has(t)||this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;let e=this._editor.getModel(),t=this._editor.getPosition(),i=new E_(e,t,this._state===2,!1);this._onNewContext(i)})}trigger(e,t=!1,i,n){var o;if(!this._editor.hasModel())return;let s=this._editor.getModel(),a=e.auto,l=new E_(s,this._editor.getPosition(),a,e.shy);this.cancel(t),this._state=a?2:1,this._onDidTrigger.fire({auto:a,shy:e.shy,position:this._editor.getPosition()}),this._context=l;let c={triggerKind:(o=e.triggerKind)!==null&&o!==void 0?o:0};e.triggerCharacter&&(c={triggerKind:1,triggerCharacter:e.triggerCharacter}),this._requestToken=new Ki;let d=this._editor.getOption(101),h=1;switch(d){case"top":h=0;break;case"bottom":h=2;break}let{itemKind:u,showDeprecated:f}=_ee._createSuggestFilter(this._editor),m=mc.create(this._editorWorkerService,this._editor),_=M7(this._languageFeaturesService.completionProvider,s,this._editor.getPosition(),new kw(h,u,i,f),c,this._requestToken.token);Promise.all([_,m]).then(([w,y])=>twe(this,void 0,void 0,function*(){var C;if((C=this._requestToken)===null||C===void 0||C.dispose(),!this._editor.hasModel())return;let E=n?.clipboardText;if(!E&&w.needsClipboard&&(E=yield this._clipboardService.readText()),this._state===0)return;let L=this._editor.getModel(),k=w.items;if(n){let I=R7(h);k=k.concat(n.items).sort(I)}let M=new E_(L,this._editor.getPosition(),a,e.shy);this._completionModel=new Zu(k,this._context.column,{leadingLineContent:M.leadingLineContent,characterCountDelta:M.column-this._context.column},y,this._editor.getOption(106),this._editor.getOption(101),E),this._completionDisposables.add(w.disposable),this._onNewContext(M),this._reportDurationsTelemetry(w.durations)})).catch(Ie)}_reportDurationsTelemetry(e){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),this._logService.debug("suggest.durations.json",e)})}static _createSuggestFilter(e){let t=new Set;e.getOption(101)==="none"&&t.add(27);let n=e.getOption(106);return n.showMethods||t.add(0),n.showFunctions||t.add(1),n.showConstructors||t.add(2),n.showFields||t.add(3),n.showVariables||t.add(4),n.showClasses||t.add(5),n.showStructs||t.add(6),n.showInterfaces||t.add(7),n.showModules||t.add(8),n.showProperties||t.add(9),n.showEvents||t.add(10),n.showOperators||t.add(11),n.showUnits||t.add(12),n.showValues||t.add(13),n.showConstants||t.add(14),n.showEnums||t.add(15),n.showEnumMembers||t.add(16),n.showKeywords||t.add(17),n.showWords||t.add(18),n.showColors||t.add(19),n.showFiles||t.add(20),n.showReferences||t.add(21),n.showColors||t.add(22),n.showFolders||t.add(23),n.showTypeParameters||t.add(24),n.showSnippets||t.add(27),n.showUsers||t.add(25),n.showIssues||t.add(26),{itemKind:t,showDeprecated:n.showDeprecated}}_onNewContext(e){if(!!this._context){if(e.lineNumber!==this._context.lineNumber){this.cancel();return}if(ni(e.leadingLineContent)!==ni(this._context.leadingLineContent)){this.cancel();return}if(e.column<this._context.column){e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(!!this._completionModel){if(e.leadingWord.word.length!==0&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){let t=new Set(this._languageFeaturesService.completionProvider.all(this._editor.getModel()));for(let n of this._completionModel.allProvider)t.delete(n);let i=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,t,{items:i,clipboardText:this._completionModel.clipboardText});return}if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&e.leadingWord.word.length!==0){let{incomplete:t}=this._completionModel,i=this._completionModel.adopt(t);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,t,{items:i,clipboardText:this._completionModel.clipboardText})}else{let t=this._completionModel.lineContext,i=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},this._completionModel.items.length===0){if(E_.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=t,i=this._completionModel.items.length>0,i&&e.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:i})}}}}};GT=ewe([S_(1,Yo),S_(2,dl),S_(3,ka),S_(4,go),S_(5,Le),S_(6,Ht),S_(7,ve)],GT);re();var jw=class{constructor(e,t){this._disposables=new J,this._lastOvertyped=[],this._empty=!0,this._disposables.add(e.onWillType(()=>{if(!this._empty||!e.hasModel())return;let i=e.getSelections(),n=i.length,o=!1;for(let a=0;a<n;a++)if(!i[a].isEmpty()){o=!0;break}if(!o)return;this._lastOvertyped=[];let s=e.getModel();for(let a=0;a<n;a++){let l=i[a];if(s.getValueLengthInRange(l)>jw._maxSelectionLength)return;this._lastOvertyped[a]={value:s.getValueInRange(l),multiline:l.startLineNumber!==l.endLineNumber}}this._empty=!1})),this._disposables.add(t.onDidCancel(i=>{!this._empty&&!i.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(e){if(!this._empty&&e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}};jw._maxSelectionLength=51200;Be();nt();ut();Ee();re();Gv();He();Be();re();ke();Mo();Et();Ye();var owe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},H8=function(r,e){return function(t,i){e(t,i,r)}},QT=class extends r_{updateLabel(){let e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();this.label&&(this.label.textContent=g("ddd","{0} ({1})",this._action.label,QT.symbolPrintEnter(e)))}static symbolPrintEnter(e){var t;return(t=e.getLabel())===null||t===void 0?void 0:t.replace(/\benter\b/gi,"\u23CE")}},XT=class{constructor(e,t,i,n){this._menuService=i,this._contextKeyService=n,this._menuDisposables=new J,this.element=ee(e,le(".suggest-status-bar"));let o=s=>s instanceof Zl?t.createInstance(QT,s,void 0):void 0;this._leftActions=new yr(this.element,{actionViewItemProvider:o}),this._rightActions=new yr(this.element,{actionViewItemProvider:o}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){let e=this._menuService.createMenu(gh,this._contextKeyService),t=()=>{let i=[],n=[];for(let[o,s]of e.getActions())o==="left"?i.push(...s):n.push(...s);this._leftActions.clear(),this._leftActions.push(i),this._rightActions.clear(),this._rightActions.push(n)};this._menuDisposables.add(e.onDidChange(()=>t())),this._menuDisposables.add(e)}hide(){this._menuDisposables.clear()}};XT=owe([H8(1,ze),H8(2,La),H8(3,Le)],XT);ln();ke();Li();pt();var rwe=W("symbolIcon.arrayForeground",{dark:Te,light:Te,hc:Te},g("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),swe=W("symbolIcon.booleanForeground",{dark:Te,light:Te,hc:Te},g("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),awe=W("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},g("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),lwe=W("symbolIcon.colorForeground",{dark:Te,light:Te,hc:Te},g("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),cwe=W("symbolIcon.constantForeground",{dark:Te,light:Te,hc:Te},g("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),dwe=W("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},g("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),hwe=W("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},g("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),uwe=W("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},g("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fwe=W("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},g("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),gwe=W("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},g("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),mwe=W("symbolIcon.fileForeground",{dark:Te,light:Te,hc:Te},g("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),pwe=W("symbolIcon.folderForeground",{dark:Te,light:Te,hc:Te},g("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_we=W("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},g("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),bwe=W("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},g("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),vwe=W("symbolIcon.keyForeground",{dark:Te,light:Te,hc:Te},g("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),wwe=W("symbolIcon.keywordForeground",{dark:Te,light:Te,hc:Te},g("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Cwe=W("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},g("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ywe=W("symbolIcon.moduleForeground",{dark:Te,light:Te,hc:Te},g("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Swe=W("symbolIcon.namespaceForeground",{dark:Te,light:Te,hc:Te},g("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ewe=W("symbolIcon.nullForeground",{dark:Te,light:Te,hc:Te},g("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),xwe=W("symbolIcon.numberForeground",{dark:Te,light:Te,hc:Te},g("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Dwe=W("symbolIcon.objectForeground",{dark:Te,light:Te,hc:Te},g("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Lwe=W("symbolIcon.operatorForeground",{dark:Te,light:Te,hc:Te},g("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),kwe=W("symbolIcon.packageForeground",{dark:Te,light:Te,hc:Te},g("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Iwe=W("symbolIcon.propertyForeground",{dark:Te,light:Te,hc:Te},g("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Owe=W("symbolIcon.referenceForeground",{dark:Te,light:Te,hc:Te},g("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Twe=W("symbolIcon.snippetForeground",{dark:Te,light:Te,hc:Te},g("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Nwe=W("symbolIcon.stringForeground",{dark:Te,light:Te,hc:Te},g("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Pwe=W("symbolIcon.structForeground",{dark:Te,light:Te,hc:Te},g("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Mwe=W("symbolIcon.textForeground",{dark:Te,light:Te,hc:Te},g("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Awe=W("symbolIcon.typeParameterForeground",{dark:Te,light:Te,hc:Te},g("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Rwe=W("symbolIcon.unitForeground",{dark:Te,light:Te,hc:Te},g("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Fwe=W("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},g("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));yt((r,e)=>{let t=r.getColor(rwe);t&&e.addRule(`${p.symbolArray.cssSelector} { color: ${t}; }`);let i=r.getColor(swe);i&&e.addRule(`${p.symbolBoolean.cssSelector} { color: ${i}; }`);let n=r.getColor(awe);n&&e.addRule(`${p.symbolClass.cssSelector} { color: ${n}; }`);let o=r.getColor(Cwe);o&&e.addRule(`${p.symbolMethod.cssSelector} { color: ${o}; }`);let s=r.getColor(lwe);s&&e.addRule(`${p.symbolColor.cssSelector} { color: ${s}; }`);let a=r.getColor(cwe);a&&e.addRule(`${p.symbolConstant.cssSelector} { color: ${a}; }`);let l=r.getColor(dwe);l&&e.addRule(`${p.symbolConstructor.cssSelector} { color: ${l}; }`);let c=r.getColor(hwe);c&&e.addRule(`
			${p.symbolValue.cssSelector},${p.symbolEnum.cssSelector} { color: ${c}; }`);let d=r.getColor(uwe);d&&e.addRule(`${p.symbolEnumMember.cssSelector} { color: ${d}; }`);let h=r.getColor(fwe);h&&e.addRule(`${p.symbolEvent.cssSelector} { color: ${h}; }`);let u=r.getColor(gwe);u&&e.addRule(`${p.symbolField.cssSelector} { color: ${u}; }`);let f=r.getColor(mwe);f&&e.addRule(`${p.symbolFile.cssSelector} { color: ${f}; }`);let m=r.getColor(pwe);m&&e.addRule(`${p.symbolFolder.cssSelector} { color: ${m}; }`);let _=r.getColor(_we);_&&e.addRule(`${p.symbolFunction.cssSelector} { color: ${_}; }`);let w=r.getColor(bwe);w&&e.addRule(`${p.symbolInterface.cssSelector} { color: ${w}; }`);let y=r.getColor(vwe);y&&e.addRule(`${p.symbolKey.cssSelector} { color: ${y}; }`);let C=r.getColor(wwe);C&&e.addRule(`${p.symbolKeyword.cssSelector} { color: ${C}; }`);let E=r.getColor(ywe);E&&e.addRule(`${p.symbolModule.cssSelector} { color: ${E}; }`);let L=r.getColor(Swe);L&&e.addRule(`${p.symbolNamespace.cssSelector} { color: ${L}; }`);let k=r.getColor(Ewe);k&&e.addRule(`${p.symbolNull.cssSelector} { color: ${k}; }`);let M=r.getColor(xwe);M&&e.addRule(`${p.symbolNumber.cssSelector} { color: ${M}; }`);let I=r.getColor(Dwe);I&&e.addRule(`${p.symbolObject.cssSelector} { color: ${I}; }`);let T=r.getColor(Lwe);T&&e.addRule(`${p.symbolOperator.cssSelector} { color: ${T}; }`);let R=r.getColor(kwe);R&&e.addRule(`${p.symbolPackage.cssSelector} { color: ${R}; }`);let Z=r.getColor(Iwe);Z&&e.addRule(`${p.symbolProperty.cssSelector} { color: ${Z}; }`);let q=r.getColor(Owe);q&&e.addRule(`${p.symbolReference.cssSelector} { color: ${q}; }`);let te=r.getColor(Twe);te&&e.addRule(`${p.symbolSnippet.cssSelector} { color: ${te}; }`);let ne=r.getColor(Nwe);ne&&e.addRule(`${p.symbolString.cssSelector} { color: ${ne}; }`);let Ne=r.getColor(Pwe);Ne&&e.addRule(`${p.symbolStruct.cssSelector} { color: ${Ne}; }`);let Oe=r.getColor(Mwe);Oe&&e.addRule(`${p.symbolText.cssSelector} { color: ${Oe}; }`);let je=r.getColor(Awe);je&&e.addRule(`${p.symbolTypeParameter.cssSelector} { color: ${je}; }`);let Ze=r.getColor(Rwe);Ze&&e.addRule(`${p.symbolUnit.cssSelector} { color: ${Ze}; }`);let $e=r.getColor(Fwe);$e&&e.addRule(`${p.symbolVariable.cssSelector} { color: ${$e}; }`)});ke();Et();Ye();Li();pt();Be();Ee();re();var sE=class{constructor(){this._onDidWillResize=new B,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new B,this.onDidResize=this._onDidResize.event,this._sashListener=new J,this._size=new ui(0,0),this._minSize=new ui(0,0),this._maxSize=new ui(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new Gn(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new Gn(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new Gn(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:t1.North}),this._southSash=new Gn(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:t1.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let e,t=0,i=0;this._sashListener.add(xe.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{e===void 0&&(this._onDidWillResize.fire(),e=this._size,t=0,i=0)})),this._sashListener.add(xe.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{e!==void 0&&(e=void 0,t=0,i=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(n=>{e&&(i=n.currentX-n.startX,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(n=>{e&&(i=-(n.currentX-n.startX),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(n=>{e&&(t=-(n.currentY-n.startY),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(n=>{e&&(t=n.currentY-n.startY,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(xe.any(this._eastSash.onDidReset,this._westSash.onDidReset)(n=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(xe.any(this._northSash.onDidReset,this._southSash.onDidReset)(n=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,i,n){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=i?3:0,this._westSash.state=n?3:0}layout(e=this.size.height,t=this.size.width){let{height:i,width:n}=this._minSize,{height:o,width:s}=this._maxSize;e=Math.max(i,Math.min(o,e)),t=Math.max(n,Math.min(s,t));let a=new ui(t,e);ui.equals(a,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=a,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}};Oo();Be();ln();Ee();re();ke();Ye();var Bwe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},jwe=function(r,e){return function(t,i){e(t,i,r)}};function aE(r){return!!r&&Boolean(r.completion.documentation||r.completion.detail&&r.completion.detail!==r.completion.label)}var JT=class{constructor(e,t){this._editor=e,this._onDidClose=new B,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new B,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new J,this._renderDisposeable=new J,this._borderWidth=1,this._size=new ui(330,0),this.domNode=le(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=t.createInstance(da,{editor:e}),this._body=le(".body"),this._scrollbar=new Fc(this._body,{}),ee(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=ee(this._body,le(".header")),this._close=ee(this._header,le("span"+p.close.cssSelector)),this._close.title=g("details.close","Close"),this._type=ee(this._header,le("p.type")),this._docs=ee(this._body,le("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(44)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){let e=this._editor.getOptions(),t=e.get(44),i=t.getMassagedFontFamily(ir?Jn.fontFamily:null),n=e.get(107)||t.fontSize,o=e.get(108)||t.lineHeight,s=t.fontWeight,a=`${n}px`,l=`${o}px`;this.domNode.style.fontSize=a,this.domNode.style.lineHeight=`${o/n}`,this.domNode.style.fontWeight=s,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=i,this._close.style.height=l,this._close.style.width=l}getLayoutInfo(){let e=this._editor.getOption(108)||this._editor.getOption(44).lineHeight,t=this._borderWidth,i=t*2;return{lineHeight:e,borderWidth:t,borderHeight:i,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=g("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(e,t){var i,n;this._renderDisposeable.clear();let{detail:o,documentation:s}=e.completion;if(t){let a="";a+=`score: ${e.score[0]}
`,a+=`prefix: ${(i=e.word)!==null&&i!==void 0?i:"(no prefix)"}
`,a+=`word: ${e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel}
`,a+=`distance: ${e.distance} (localityBonus-setting)
`,a+=`index: ${e.idx}, based on ${e.completion.sortText&&`sortText: "${e.completion.sortText}"`||"label"}
`,a+=`commit_chars: ${(n=e.completion.commitCharacters)===null||n===void 0?void 0:n.join("")}
`,s=new Bo().appendCodeblock("empty",a),o=`Provider: ${e.provider._debugDisplayName}`}if(!t&&!aE(e)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),o){let a=o.length>1e5?`${o.substr(0,1e5)}\u2026`:o;this._type.textContent=a,this._type.title=a,Ho(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(a))}else nn(this._type),this._type.title="",No(this._type),this.domNode.classList.add("no-type");if(nn(this._docs),typeof s=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=s;else if(s){this._docs.classList.add("markdown-docs"),nn(this._docs);let a=this._markdownRenderer.render(s);this._docs.appendChild(a.element),this._renderDisposeable.add(a),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=a=>{a.preventDefault(),a.stopPropagation()},this._close.onclick=a=>{a.preventDefault(),a.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(e,t){let i=new ui(e,t);ui.equals(i,this._size)||(this._size=i,RU(this.domNode,e,t)),this._scrollbar.scanDomNode()}scrollDown(e=8){this._body.scrollTop+=e}scrollUp(e=8){this._body.scrollTop-=e}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(e){this._borderWidth=e}get borderWidth(){return this._borderWidth}};JT=Bwe([jwe(1,ze)],JT);var $8=class{constructor(e,t){this.widget=e,this._editor=t,this._disposables=new J,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new sE,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(e.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let i,n,o=0,s=0;this._disposables.add(this._resizable.onDidWillResize(()=>{i=this._topLeft,n=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(a=>{if(i&&n){this.widget.layout(a.dimension.width,a.dimension.height);let l=!1;a.west&&(s=n.width-a.dimension.width,l=!0),a.north&&(o=n.height-a.dimension.height,l=!0),l&&this._applyTopLeft({top:i.top+o,left:i.left+s})}a.done&&(i=void 0,n=void 0,o=0,s=0,this._userSize=a.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var a;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(a=this._userSize)!==null&&a!==void 0?a:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(e=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(e,t){var i;let n=e.getBoundingClientRect();this._anchorBox=n,this._preferAlignAtTop=t,this._placeAtAnchor(this._anchorBox,(i=this._userSize)!==null&&i!==void 0?i:this.widget.size,t)}_placeAtAnchor(e,t,i){var n;let o=Ff(document.body),s=this.widget.getLayoutInfo(),a=new ui(220,2*s.lineHeight),l=e.top,c=function(){let E=o.width-(e.left+e.width+s.borderWidth+s.horizontalPadding),L=-s.borderWidth+e.left+e.width,k=new ui(E,o.height-e.top-s.borderHeight-s.verticalPadding),M=k.with(void 0,e.top+e.height-s.borderHeight-s.verticalPadding);return{top:l,left:L,fit:E-t.width,maxSizeTop:k,maxSizeBottom:M,minSize:a.with(Math.min(E,a.width))}}(),d=function(){let E=e.left-s.borderWidth-s.horizontalPadding,L=Math.max(s.horizontalPadding,e.left-t.width-s.borderWidth),k=new ui(E,o.height-e.top-s.borderHeight-s.verticalPadding),M=k.with(void 0,e.top+e.height-s.borderHeight-s.verticalPadding);return{top:l,left:L,fit:E-t.width,maxSizeTop:k,maxSizeBottom:M,minSize:a.with(Math.min(E,a.width))}}(),h=function(){let E=e.left,L=-s.borderWidth+e.top+e.height,k=new ui(e.width-s.borderHeight,o.height-e.top-e.height-s.verticalPadding);return{top:L,left:E,fit:k.height-t.height,maxSizeBottom:k,maxSizeTop:k,minSize:a.with(k.width)}}(),u=[c,d,h],f=(n=u.find(E=>E.fit>=0))!==null&&n!==void 0?n:u.sort((E,L)=>L.fit-E.fit)[0],m=e.top+e.height-s.borderHeight,_,w=t.height,y=Math.max(f.maxSizeTop.height,f.maxSizeBottom.height);w>y&&(w=y);let C;i?w<=f.maxSizeTop.height?(_=!0,C=f.maxSizeTop):(_=!1,C=f.maxSizeBottom):w<=f.maxSizeBottom.height?(_=!1,C=f.maxSizeBottom):(_=!0,C=f.maxSizeTop),this._applyTopLeft({left:f.left,top:_?f.top:m-w}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!_,f===c,_,f!==c),this._resizable.minSize=f.minSize,this._resizable.maxSize=C,this._resizable.layout(w,Math.min(C.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(e){this._topLeft=e,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}};Oo();Be();jt();ln();Ee();re();Oi();cn();rs();Vr();Wd();var Jc;(function(r){r[r.FILE=0]="FILE",r[r.FOLDER=1]="FOLDER",r[r.ROOT_FOLDER=2]="ROOT_FOLDER"})(Jc||(Jc={}));var Wwe=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function lE(r,e,t,i){let n=i===Jc.ROOT_FOLDER?["rootfolder-icon"]:i===Jc.FOLDER?["folder-icon"]:["file-icon"];if(t){let o;if(t.scheme===rt.data)o=Vd.parseMetaData(t).get(Vd.META_DATA_LABEL);else{let s=t.path.match(Wwe);s?(o=eN(s[2].toLowerCase()),s[1]&&n.push(`${eN(s[1].toLowerCase())}-name-dir-icon`)):o=eN(t.authority.toLowerCase())}if(i===Jc.FOLDER)n.push(`${o}-name-folder-icon`);else{if(o){if(n.push(`${o}-name-file-icon`),n.push("name-file-icon"),o.length<=255){let a=o.split(".");for(let l=1;l<a.length;l++)n.push(`${a.slice(l).join(".")}-ext-file-icon`)}n.push("ext-file-icon")}let s=Uwe(r,e,t);s&&n.push(`${eN(s)}-lang-file-icon`)}}return n}function Uwe(r,e,t){if(!t)return null;let i=null;if(t.scheme===rt.data){let o=Vd.parseMetaData(t).get(Vd.META_DATA_MIME);o&&(i=e.getLanguageIdByMimeType(o))}else{let n=r.getModel(t);n&&(i=n.getLanguageId())}return i&&i!==zr?i:e.guessLanguageIdByFilepathOrFirstLine(t)}function eN(r){return r.replace(/[\11\12\14\15\40]/g,"/")}ns();Vo();ke();pt();var zwe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},K8=function(r,e){return function(t,i){e(t,i,r)}},cE;function Y8(r){return`suggest-aria-id:${r}`}var Vwe=bn("suggest-more-info",p.chevronRight,g("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),Hwe=new(cE=class tN{extract(e,t){if(e.textLabel.match(tN._regexStrict))return t[0]=e.textLabel,!0;if(e.completion.detail&&e.completion.detail.match(tN._regexStrict))return t[0]=e.completion.detail,!0;if(typeof e.completion.documentation=="string"){let i=tN._regexRelaxed.exec(e.completion.documentation);if(i&&(i.index===0||i.index+i[0].length===e.completion.documentation.length))return t[0]=i[0],!0}return!1}},cE._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,cE._regexStrict=new RegExp(`^${cE._regexRelaxed.source}$`,"i"),cE),iN=class{constructor(e,t,i,n){this._editor=e,this._modelService=t,this._languageService=i,this._themeService=n,this._onDidToggleDetails=new B,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(e){let t=Object.create(null);t.disposables=new J,t.root=e,t.root.classList.add("show-file-icons"),t.icon=ee(e,le(".icon")),t.colorspan=ee(t.icon,le("span.colorspan"));let i=ee(e,le(".contents")),n=ee(i,le(".main"));t.iconContainer=ee(n,le(".icon-label.codicon")),t.left=ee(n,le("span.left")),t.right=ee(n,le("span.right")),t.iconLabel=new Dg(t.left,{supportHighlights:!0,supportIcons:!0}),t.disposables.add(t.iconLabel),t.parametersLabel=ee(t.left,le("span.signature-label")),t.qualifierLabel=ee(t.left,le("span.qualifier-label")),t.detailsLabel=ee(t.right,le("span.details-label")),t.readMore=ee(t.right,le("span.readMore"+Qt.asCSSSelector(Vwe))),t.readMore.title=g("readMore","Read More");let o=()=>{let s=this._editor.getOptions(),a=s.get(44),l=a.getMassagedFontFamily(ir?Jn.fontFamily:null),c=a.fontFeatureSettings,d=s.get(107)||a.fontSize,h=s.get(108)||a.lineHeight,u=a.fontWeight,f=`${d}px`,m=`${h}px`;t.root.style.fontSize=f,t.root.style.fontWeight=u,n.style.fontFamily=l,n.style.fontFeatureSettings=c,n.style.lineHeight=m,t.icon.style.height=m,t.icon.style.width=m,t.readMore.style.height=m,t.readMore.style.width=m};return o(),t.disposables.add(this._editor.onDidChangeConfiguration(s=>{(s.hasChanged(44)||s.hasChanged(107)||s.hasChanged(108))&&o()})),t}renderElement(e,t,i){let{completion:n}=e;i.root.id=Y8(t),i.colorspan.style.backgroundColor="";let o={labelEscapeNewLines:!0,matches:f1(e.score)},s=[];if(n.kind===19&&Hwe.extract(e,s))i.icon.className="icon customcolor",i.iconContainer.className="icon hide",i.colorspan.style.backgroundColor=s[0];else if(n.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){i.icon.className="icon hide",i.iconContainer.className="icon hide";let a=lE(this._modelService,this._languageService,De.from({scheme:"fake",path:e.textLabel}),Jc.FILE),l=lE(this._modelService,this._languageService,De.from({scheme:"fake",path:n.detail}),Jc.FILE);o.extraClasses=a.length>l.length?a:l}else n.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(i.icon.className="icon hide",i.iconContainer.className="icon hide",o.extraClasses=eb([lE(this._modelService,this._languageService,De.from({scheme:"fake",path:e.textLabel}),Jc.FOLDER),lE(this._modelService,this._languageService,De.from({scheme:"fake",path:n.detail}),Jc.FOLDER)])):(i.icon.className="icon hide",i.iconContainer.className="",i.iconContainer.classList.add("suggest-icon",...to.asClassNameArray(Em.toIcon(n.kind))));n.tags&&n.tags.indexOf(1)>=0&&(o.extraClasses=(o.extraClasses||[]).concat(["deprecated"]),o.matches=[]),i.iconLabel.setLabel(e.textLabel,void 0,o),typeof n.label=="string"?(i.parametersLabel.textContent="",i.detailsLabel.textContent=q8(n.detail||""),i.root.classList.add("string-label")):(i.parametersLabel.textContent=q8(n.label.detail||""),i.detailsLabel.textContent=q8(n.label.description||""),i.root.classList.remove("string-label")),this._editor.getOption(106).showInlineDetails?Ho(i.detailsLabel):No(i.detailsLabel),aE(e)?(i.right.classList.add("can-expand-details"),Ho(i.readMore),i.readMore.onmousedown=a=>{a.stopPropagation(),a.preventDefault()},i.readMore.onclick=a=>{a.stopPropagation(),a.preventDefault(),this._onDidToggleDetails.fire()}):(i.right.classList.remove("can-expand-details"),No(i.readMore),i.readMore.onmousedown=null,i.readMore.onclick=null)}disposeTemplate(e){e.disposables.dispose()}};iN=zwe([K8(1,ii),K8(2,Gt),K8(3,Ft)],iN);function q8(r){return r.replace(/\r\n|\r|\n/g,"")}var $we=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},nN=function(r,e){return function(t,i){e(t,i,r)}},Kwe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},JIt=W("editorSuggestWidget.background",{dark:or,light:or,hc:or},g("editorSuggestWidgetBackground","Background color of the suggest widget.")),eOt=W("editorSuggestWidget.border",{dark:Qh,light:Qh,hc:Qh},g("editorSuggestWidgetBorder","Border color of the suggest widget.")),Z8=W("editorSuggestWidget.foreground",{dark:ec,light:ec,hc:ec},g("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),tOt=W("editorSuggestWidget.selectedForeground",{dark:av,light:av,hc:av},g("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),iOt=W("editorSuggestWidget.selectedIconForeground",{dark:lv,light:lv,hc:lv},g("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),qwe=W("editorSuggestWidget.selectedBackground",{dark:cv,light:cv,hc:cv},g("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),nOt=W("editorSuggestWidget.highlightForeground",{dark:Nc,light:Nc,hc:Nc},g("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),oOt=W("editorSuggestWidget.focusHighlightForeground",{dark:WL,light:WL,hc:WL},g("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),rOt=W("editorSuggestWidgetStatus.foreground",{dark:at(Z8,.5),light:at(Z8,.5),hc:at(Z8,.5)},g("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status.")),bee=class{constructor(e,t){this._service=e,this._key=`suggestWidget.size/${t.getEditorType()}/${t instanceof qc}`}restore(){var e;let t=(e=this._service.get(this._key,0))!==null&&e!==void 0?e:"";try{let i=JSON.parse(t);if(ui.is(i))return ui.lift(i)}catch{}}store(e){this._service.store(this._key,JSON.stringify(e),0,1)}reset(){this._service.remove(this._key,0)}},Ww=class G8{constructor(e,t,i,n,o){this.editor=e,this._storageService=t,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new mn,this._disposables=new J,this._onDidSelect=new B,this._onDidFocus=new B,this._onDidHide=new B,this._onDidShow=new B,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new B,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new sE,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new vee(this,e),this._persistedSize=new bee(t,e);class s{constructor(f,m,_=!1,w=!1){this.persistedSize=f,this.currentSize=m,this.persistHeight=_,this.persistWidth=w}}let a;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),a=new s(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(u=>{var f,m,_,w;if(this._resize(u.dimension.width,u.dimension.height),a&&(a.persistHeight=a.persistHeight||!!u.north||!!u.south,a.persistWidth=a.persistWidth||!!u.east||!!u.west),!!u.done){if(a){let{itemHeight:y,defaultSize:C}=this.getLayoutInfo(),E=Math.round(y/2),{width:L,height:k}=this.element.size;(!a.persistHeight||Math.abs(a.currentSize.height-k)<=E)&&(k=(m=(f=a.persistedSize)===null||f===void 0?void 0:f.height)!==null&&m!==void 0?m:C.height),(!a.persistWidth||Math.abs(a.currentSize.width-L)<=E)&&(L=(w=(_=a.persistedSize)===null||_===void 0?void 0:_.width)!==null&&w!==void 0?w:C.width),this._persistedSize.store(new ui(L,k))}this._contentWidget.unlockPreference(),a=void 0}})),this._messageElement=ee(this.element.domNode,le(".message")),this._listElement=ee(this.element.domNode,le(".tree"));let l=o.createInstance(JT,this.editor);l.onDidClose(this.toggleDetails,this,this._disposables),this._details=new $8(l,this.editor);let c=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(106).showIcons);c();let d=o.createInstance(iN,this.editor);this._disposables.add(d),this._disposables.add(d.onDidToggleDetails(()=>this.toggleDetails())),this._list=new Os("SuggestWidget",this._listElement,{getHeight:u=>this.getLayoutInfo().itemHeight,getTemplateId:u=>"suggestion"},[d],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>g("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:u=>{let f=u.textLabel;if(typeof u.completion.label!="string"){let{detail:y,description:C}=u.completion.label;y&&C?f=g("label.full","{0}{1}, {2}",f,y,C):y?f=g("label.detail","{0}{1}",f,y):C&&(f=g("label.desc","{0}, {1}",f,C))}if(!u.isResolved||!this._isDetailsVisible())return f;let{documentation:m,detail:_}=u.completion,w=Ec("{0}{1}",_||"",m?typeof m=="string"?m:m.value:"");return g("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",f,w)}}}),this._status=o.createInstance(XT,this.element.domNode);let h=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(106).showStatusBar);h(),this._disposables.add(Eu(this._list,n,{listInactiveFocusBackground:qwe,listInactiveFocusOutline:ro})),this._disposables.add(n.onDidColorThemeChange(u=>this._onThemeChange(u))),this._onThemeChange(n.getColorTheme()),this._disposables.add(this._list.onMouseDown(u=>this._onListMouseDownOrTap(u))),this._disposables.add(this._list.onTap(u=>this._onListMouseDownOrTap(u))),this._disposables.add(this._list.onDidChangeSelection(u=>this._onListSelection(u))),this._disposables.add(this._list.onDidChangeFocus(u=>this._onListFocus(u))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(u=>{u.hasChanged(106)&&(h(),c())})),this._ctxSuggestWidgetVisible=qt.Visible.bindTo(i),this._ctxSuggestWidgetDetailsVisible=qt.DetailsVisible.bindTo(i),this._ctxSuggestWidgetMultipleSuggestions=qt.MultipleSuggestions.bindTo(i),this._disposables.add(Bi(this._details.widget.domNode,"keydown",u=>{this._onDetailsKeydown.fire(u)})),this._disposables.add(this.editor.onMouseDown(u=>this._onEditorMouseDown(u)))}dispose(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(e){typeof e.element>"u"||typeof e.index>"u"||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}_onListSelection(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}_select(e,t){let i=this._completionModel;i&&(this._onDidSelect.fire({item:e,index:t,model:i}),this.editor.focus())}_onThemeChange(e){this._details.widget.borderWidth=e.type==="hc"?2:1}_onListFocus(e){var t;if(this._ignoreFocusEvents)return;if(!e.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this._completionModel)return;let i=e.elements[0],n=e.indexes[0];i!==this._focusedItem&&((t=this._currentSuggestionDetails)===null||t===void 0||t.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=i,this._list.reveal(n),this._currentSuggestionDetails=xi(o=>Kwe(this,void 0,void 0,function*(){let s=Ul(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),a=o.onCancellationRequested(()=>s.dispose()),l=yield i.resolve(o);return s.dispose(),a.dispose(),l})),this._currentSuggestionDetails.then(()=>{n>=this._list.length||i!==this._list.element(n)||(this._ignoreFocusEvents=!0,this._list.splice(n,1,[i]),this._list.setFocus([n]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:Y8(n)}))}).catch(Ie)),this._onDidFocus.fire({item:i,index:n,model:this._completionModel})}_setState(e){if(this._state!==e)switch(this._state=e,this.element.domNode.classList.toggle("frozen",e===4),this.element.domNode.classList.remove("message"),e){case 0:No(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=G8.LOADING_MESSAGE,No(this._listElement,this._status.element),Ho(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=G8.NO_SUGGESTIONS_MESSAGE,No(this._listElement,this._status.element),Ho(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:No(this._messageElement),Ho(this._listElement,this._status.element),this._show();break;case 4:No(this._messageElement),Ho(this._listElement,this._status.element),this._show();break;case 5:No(this._messageElement),Ho(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(e,t){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=Ul(()=>this._setState(1),t)))}showSuggestions(e,t,i,n){var o,s;if(this._contentWidget.setPosition(this.editor.getPosition()),(o=this._loadingTimeout)===null||o===void 0||o.dispose(),(s=this._currentSuggestionDetails)===null||s===void 0||s.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),i&&this._state!==2&&this._state!==0){this._setState(4);return}let a=this._completionModel.items.length,l=a===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(a>1),l){this._setState(n?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(i?4:3),this._list.reveal(t,0),this._list.setFocus([t]),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(aE(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(e){this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var e;(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();let t=this._persistedSize.restore(),i=Math.ceil(this.getLayoutInfo().itemHeight*4.3);t&&t.height<i&&this._persistedSize.store(t.with(void 0,i))}isFrozen(){return this._state===4}_afterRender(e){if(e===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(e){var t,i,n;if(!this.editor.hasModel()||!this.editor.getDomNode())return;let o=Ff(document.body),s=this.getLayoutInfo();e||(e=s.defaultSize);let a=e.height,l=e.width;if(this._status.element.style.lineHeight=`${s.itemHeight}px`,this._state===2||this._state===1)a=s.itemHeight+s.borderHeight,l=s.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new ui(l,a),this._contentWidget.setPreference(2);else{let c=o.width-s.borderHeight-2*s.horizontalPadding;l>c&&(l=c);let d=this._completionModel?this._completionModel.stats.pLabelLen*s.typicalHalfwidthCharacterWidth:l,h=s.statusBarHeight+this._list.contentHeight+s.borderHeight,u=s.itemHeight+s.statusBarHeight,f=ji(this.editor.getDomNode()),m=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),_=f.top+m.top+m.height,w=Math.min(o.height-_-s.verticalPadding,h),y=f.top+m.top-s.verticalPadding,C=Math.min(y,h),E=Math.min(Math.max(C,w)+s.borderHeight,h);a===((t=this._cappedHeight)===null||t===void 0?void 0:t.capped)&&(a=this._cappedHeight.wanted),a<u&&(a=u),a>E&&(a=E);let L=150;a>w||this._forceRenderingAbove&&y>L?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),E=C):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),E=w),this.element.preferredSize=new ui(d,s.defaultSize.height),this.element.maxSize=new ui(c,E),this.element.minSize=new ui(220,u),this._cappedHeight=a===h?{wanted:(n=(i=this._cappedHeight)===null||i===void 0?void 0:i.wanted)!==null&&n!==void 0?n:e.height,capped:a}:void 0}this._resize(l,a)}_resize(e,t){let{width:i,height:n}=this.element.maxSize;e=Math.min(i,e),t=Math.min(n,t);let{statusBarHeight:o}=this.getLayoutInfo();this._list.layout(t-o,e),this._listElement.style.height=`${t-o}px`,this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var e;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((e=this._contentWidget.getPosition())===null||e===void 0?void 0:e.preference[0])===2)}getLayoutInfo(){let e=this.editor.getOption(44),t=sr(this.editor.getOption(108)||e.lineHeight,8,1e3),i=!this.editor.getOption(106).showStatusBar||this._state===2||this._state===1?0:t,n=this._details.widget.borderWidth,o=2*n;return{itemHeight:t,statusBarHeight:i,borderWidth:n,borderHeight:o,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new ui(430,i+12*t+o)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(e){this._storageService.store("expandSuggestionDocs",e,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};Ww.LOADING_MESSAGE=g("suggestWidget.loading","Loading...");Ww.NO_SUGGESTIONS_MESSAGE=g("suggestWidget.noSuggestions","No suggestions.");Ww=$we([nN(1,la),nN(2,Le),nN(3,Ft),nN(4,ze)],Ww);var vee=class{constructor(e,t){this._widget=e,this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){let{height:e,width:t}=this._widget.element.size,{borderWidth:i,horizontalPadding:n}=this._widget.getLayoutInfo();return new ui(t+2*i+n,e+2*i)}afterRender(e){this._widget._afterRender(e)}setPreference(e){this._preferenceLocked||(this._preference=e)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(e){this._position=e}};Xm();Vr();Tb();var Ywe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Uw=function(r,e){return function(t,i){e(t,i,r)}},Zwe=!1,wee=class{constructor(e,t){if(this._model=e,this._position=t,e.getLineMaxColumn(t.lineNumber)!==t.column){let n=e.getOffsetAt(t),o=e.getPositionAt(n+1);this._marker=e.deltaDecorations([],[{range:D.fromPositions(t,o),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){let t=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}else return this._model.getLineMaxColumn(e.lineNumber)-e.column}},wl=class Cee{constructor(e,t,i,n,o,s,a){this._memoryService=t,this._commandService=i,this._contextKeyService=n,this._instantiationService=o,this._logService=s,this._telemetryService=a,this._lineSuffix=new kn,this._toDispose=new J,this._selectors=new yee(h=>h.priority),this._telemetryGate=0,this.editor=e,this.model=o.createInstance(GT,this.editor);let l=qt.InsertMode.bindTo(n);l.set(e.getOption(106).insertMode),this.model.onDidTrigger(()=>l.set(e.getOption(106).insertMode)),this.widget=this._toDispose.add(new el(()=>{let h=this._instantiationService.createInstance(Ww,this.editor);this._toDispose.add(h),this._toDispose.add(h.onDidSelect(w=>this._insertSuggestion(w,0),this));let u=new V8(this.editor,h,w=>this._insertSuggestion(w,2));this._toDispose.add(u),this._toDispose.add(this.model.onDidSuggest(w=>{w.completionModel.items.length===0&&u.reset()}));let f=qt.MakesTextEdit.bindTo(this._contextKeyService),m=qt.HasInsertAndReplaceRange.bindTo(this._contextKeyService),_=qt.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(Ve(()=>{f.reset(),m.reset(),_.reset()})),this._toDispose.add(h.onDidFocus(({item:w})=>{let y=this.editor.getPosition(),C=w.editStart.column,E=y.column,L=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!w.completion.additionalTextEdits&&!(w.completion.insertTextRules&4)&&E-C===w.completion.insertText.length&&(L=this.editor.getModel().getValueInRange({startLineNumber:y.lineNumber,startColumn:C,endLineNumber:y.lineNumber,endColumn:E})!==w.completion.insertText),f.set(L),m.set(!V.equals(w.editInsertEnd,w.editReplaceEnd)),_.set(Boolean(w.provider.resolveCompletionItem)||Boolean(w.completion.documentation)||w.completion.detail!==w.completion.label)})),this._toDispose.add(h.onDetailsKeyDown(w=>{if(w.toKeybinding().equals(new Hl(!0,!1,!1,!1,33))||Je&&w.toKeybinding().equals(new Hl(!1,!1,!1,!0,33))){w.stopPropagation();return}w.toKeybinding().isModifierKey()||this.editor.focus()})),h})),this._overtypingCapturer=this._toDispose.add(new el(()=>this._toDispose.add(new jw(this.editor,this.model)))),this._alternatives=this._toDispose.add(new el(()=>this._toDispose.add(new Vg(this.editor,this._contextKeyService)))),this._toDispose.add(o.createInstance(Bw,e)),this._toDispose.add(this.model.onDidTrigger(h=>{this.widget.value.showTriggered(h.auto,h.shy?250:50),this._lineSuffix.value=new wee(this.editor.getModel(),h.position)})),this._toDispose.add(this.model.onDidSuggest(h=>{if(!h.shy){let u=-1;for(let f of this._selectors.itemsOrderedByPriorityDesc)if(u=f.select(this.editor.getModel(),this.editor.getPosition(),h.completionModel.items),u!==-1)break;u===-1&&(u=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),h.completionModel.items)),this.widget.value.showSuggestions(h.completionModel,u,h.isFrozen,h.auto)}})),this._toDispose.add(this.model.onDidCancel(h=>{h.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{Zwe||(this.model.cancel(),this.model.clear())}));let c=qt.AcceptSuggestionsOnEnter.bindTo(n),d=()=>{let h=this.editor.getOption(1);c.set(h==="on"||h==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>d())),d()}static get(e){return e.getContribution(Cee.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(e,t){if(!e||!e.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;let i=jo.get(this.editor);if(!i)return;let n=this.editor.getModel(),o=n.getAlternativeVersionId(),{item:s}=e,a=[],l=new Ki;t&1||this.editor.pushUndoStop();let c=this.getOverwriteInfo(s,Boolean(t&8));if(this._memoryService.memorize(n,this.editor.getPosition(),s),Array.isArray(s.completion.additionalTextEdits)){let h=cl.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",s.completion.additionalTextEdits.map(u=>vi.replace(D.lift(u.range),u.text))),h.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!s.isResolved){let h=new fn(!0),u,f=n.onDidChangeContent(y=>{if(y.isFlush){l.cancel(),f.dispose();return}for(let C of y.changes){let E=D.getEndPosition(C.range);(!u||V.isBefore(E,u))&&(u=E)}}),m=t;t|=2;let _=!1,w=this.editor.onWillType(()=>{w.dispose(),_=!0,m&2||this.editor.pushUndoStop()});a.push(s.resolve(l.token).then(()=>{if(!s.completion.additionalTextEdits||l.token.isCancellationRequested||u&&s.completion.additionalTextEdits.some(C=>V.isBefore(u,D.getStartPosition(C.range))))return!1;_&&this.editor.pushUndoStop();let y=cl.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",s.completion.additionalTextEdits.map(C=>vi.replace(D.lift(C.range),C.text))),y.restoreRelativeVerticalPositionOfCursor(this.editor),(_||!(m&2))&&this.editor.pushUndoStop(),!0}).then(y=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",h.elapsed(),y),f.dispose(),w.dispose()}))}let{insertText:d}=s.completion;s.completion.insertTextRules&4||(d=ju.escape(d)),i.insert(d,{overwriteBefore:c.overwriteBefore,overwriteAfter:c.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(s.completion.insertTextRules&1),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),t&2||this.editor.pushUndoStop(),s.completion.command?s.completion.command.id===zw.id?this.model.trigger({auto:!0,shy:!1},!0):(a.push(this._commandService.executeCommand(s.completion.command.id,...s.completion.command.arguments?[...s.completion.command.arguments]:[]).catch(Ie)),this.model.cancel()):this.model.cancel(),t&4&&this._alternatives.value.set(e,h=>{for(l.cancel();n.canUndo();){o!==n.getAlternativeVersionId()&&n.undo(),this._insertSuggestion(h,3|(t&8?8:0));break}}),this._alertCompletionItem(s),Promise.all(a).finally(()=>{this._reportSuggestionAcceptedTelemetry(n,e),this.model.clear(),l.dispose()})}_reportSuggestionAcceptedTelemetry(e,t){var i;if(this._telemetryGate++%100!==0)return;let n=((i=t.item.provider._debugDisplayName)!==null&&i!==void 0?i:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:n,basenameHash:UD(qo(e.uri)).toString(16),languageId:e.getLanguageId(),fileExtension:H$(e.uri)})}getOverwriteInfo(e,t){Yt(this.editor.hasModel());let i=this.editor.getOption(106).insertMode==="replace";t&&(i=!i);let n=e.position.column-e.editStart.column,o=(i?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column,s=this.editor.getPosition().column-e.position.column,a=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:n+s,overwriteAfter:o+a}}_alertCompletionItem(e){if(jn(e.completion.additionalTextEdits)){let t=g("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);Sn(t)}}triggerSuggest(e,t){this.editor.hasModel()&&(this.model.trigger({auto:t??!1,shy:!1},!1,e),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;let t=this.editor.getPosition(),i=()=>{t.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},n=o=>{if(o.completion.insertTextRules&4||o.completion.additionalTextEdits)return!0;let s=this.editor.getPosition(),a=o.editStart.column,l=s.column;return l-a!==o.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:s.lineNumber,startColumn:a,endLineNumber:s.lineNumber,endColumn:l})!==o.completion.insertText};xe.once(this.model.onDidTrigger)(o=>{let s=[];xe.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{dt(s),i()},void 0,s),this.model.onDidSuggest(({completionModel:a})=>{if(dt(s),a.items.length===0){i();return}let l=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),a.items),c=a.items[l];if(!n(c)){i();return}this.editor.pushUndoStop(),this._insertSuggestion({index:l,item:c,model:a},7)},void 0,s)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(t,0),this.editor.focus()}acceptSelectedSuggestion(e,t){let i=this.widget.value.getFocusedItem(),n=0;e&&(n|=4),t&&(n|=8),this._insertSuggestion(i,n)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(e){return this._selectors.register(e)}};wl.ID="editor.contrib.suggestController";wl=Ywe([Uw(1,z8),Uw(2,pi),Uw(3,Le),Uw(4,ze),Uw(5,go),Uw(6,ka)],wl);var yee=class{constructor(e){this.prioritySelector=e,this._items=new Array}register(e){if(this._items.indexOf(e)!==-1)throw new Error("Value is already registered");return this._items.push(e),this._items.sort((t,i)=>this.prioritySelector(i)-this.prioritySelector(t)),{dispose:()=>{let t=this._items.indexOf(e);t>=0&&this._items.splice(t,1)}}}get itemsOrderedByPriorityDesc(){return this._items}},zw=class extends we{constructor(){super({id:zw.id,label:g("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:Ce.and(F.writable,F.hasCompletionItemProvider),kbOpts:{kbExpr:F.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(e,t,i){let n=wl.get(t);if(!n)return;let o;i&&typeof i=="object"&&i.auto===!0&&(o=!0),n.triggerSuggest(void 0,o)}};zw.id="editor.action.triggerSuggest";st(wl.ID,wl);de(zw);var Cl=100+90,ha=Yi.bindToContribution(wl.get);me(new ha({id:"acceptSelectedSuggestion",precondition:qt.Visible,handler(r){r.acceptSelectedSuggestion(!0,!1)}}));qn.registerKeybindingRule({id:"acceptSelectedSuggestion",when:Ce.and(qt.Visible,F.textInputFocus),primary:2,weight:Cl});qn.registerKeybindingRule({id:"acceptSelectedSuggestion",when:Ce.and(qt.Visible,F.textInputFocus,qt.AcceptSuggestionsOnEnter,qt.MakesTextEdit),primary:3,weight:Cl});Po.appendMenuItem(gh,{command:{id:"acceptSelectedSuggestion",title:g("accept.insert","Insert")},group:"left",order:1,when:qt.HasInsertAndReplaceRange.toNegated()});Po.appendMenuItem(gh,{command:{id:"acceptSelectedSuggestion",title:g("accept.insert","Insert")},group:"left",order:1,when:Ce.and(qt.HasInsertAndReplaceRange,qt.InsertMode.isEqualTo("insert"))});Po.appendMenuItem(gh,{command:{id:"acceptSelectedSuggestion",title:g("accept.replace","Replace")},group:"left",order:1,when:Ce.and(qt.HasInsertAndReplaceRange,qt.InsertMode.isEqualTo("replace"))});me(new ha({id:"acceptAlternativeSelectedSuggestion",precondition:Ce.and(qt.Visible,F.textInputFocus),kbOpts:{weight:Cl,kbExpr:F.textInputFocus,primary:1027,secondary:[1026]},handler(r){r.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:gh,group:"left",order:2,when:Ce.and(qt.HasInsertAndReplaceRange,qt.InsertMode.isEqualTo("insert")),title:g("accept.replace","Replace")},{menuId:gh,group:"left",order:2,when:Ce.and(qt.HasInsertAndReplaceRange,qt.InsertMode.isEqualTo("replace")),title:g("accept.insert","Insert")}]}));ht.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion");me(new ha({id:"hideSuggestWidget",precondition:qt.Visible,handler:r=>r.cancelSuggestWidget(),kbOpts:{weight:Cl,kbExpr:F.textInputFocus,primary:9,secondary:[1033]}}));me(new ha({id:"selectNextSuggestion",precondition:Ce.and(qt.Visible,qt.MultipleSuggestions),handler:r=>r.selectNextSuggestion(),kbOpts:{weight:Cl,kbExpr:F.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}}));me(new ha({id:"selectNextPageSuggestion",precondition:Ce.and(qt.Visible,qt.MultipleSuggestions),handler:r=>r.selectNextPageSuggestion(),kbOpts:{weight:Cl,kbExpr:F.textInputFocus,primary:12,secondary:[2060]}}));me(new ha({id:"selectLastSuggestion",precondition:Ce.and(qt.Visible,qt.MultipleSuggestions),handler:r=>r.selectLastSuggestion()}));me(new ha({id:"selectPrevSuggestion",precondition:Ce.and(qt.Visible,qt.MultipleSuggestions),handler:r=>r.selectPrevSuggestion(),kbOpts:{weight:Cl,kbExpr:F.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}}));me(new ha({id:"selectPrevPageSuggestion",precondition:Ce.and(qt.Visible,qt.MultipleSuggestions),handler:r=>r.selectPrevPageSuggestion(),kbOpts:{weight:Cl,kbExpr:F.textInputFocus,primary:11,secondary:[2059]}}));me(new ha({id:"selectFirstSuggestion",precondition:Ce.and(qt.Visible,qt.MultipleSuggestions),handler:r=>r.selectFirstSuggestion()}));me(new ha({id:"toggleSuggestionDetails",precondition:qt.Visible,handler:r=>r.toggleSuggestionDetails(),kbOpts:{weight:Cl,kbExpr:F.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:gh,group:"right",order:1,when:Ce.and(qt.DetailsVisible,qt.CanResolve),title:g("detail.more","show less")},{menuId:gh,group:"right",order:1,when:Ce.and(qt.DetailsVisible.toNegated(),qt.CanResolve),title:g("detail.less","show more")}]}));me(new ha({id:"toggleExplainMode",precondition:qt.Visible,handler:r=>r.toggleExplainMode(),kbOpts:{weight:100,primary:2133}}));me(new ha({id:"toggleSuggestionFocus",precondition:qt.Visible,handler:r=>r.toggleSuggestionFocus(),kbOpts:{weight:Cl,kbExpr:F.textInputFocus,primary:2570,mac:{primary:778}}}));me(new ha({id:"insertBestCompletion",precondition:Ce.and(F.textInputFocus,Ce.equals("config.editor.tabCompletion","on"),Bw.AtEnd,qt.Visible.toNegated(),Vg.OtherSuggestions.toNegated(),jo.InSnippetMode.toNegated()),handler:(r,e)=>{r.triggerSuggestAndAcceptBest(Qn(e)?Object.assign({fallback:"tab"},e):{fallback:"tab"})},kbOpts:{weight:Cl,primary:2}}));me(new ha({id:"insertNextSuggestion",precondition:Ce.and(F.textInputFocus,Ce.equals("config.editor.tabCompletion","on"),Vg.OtherSuggestions,qt.Visible.toNegated(),jo.InSnippetMode.toNegated()),handler:r=>r.acceptNextSuggestion(),kbOpts:{weight:Cl,kbExpr:F.textInputFocus,primary:2}}));me(new ha({id:"insertPrevSuggestion",precondition:Ce.and(F.textInputFocus,Ce.equals("config.editor.tabCompletion","on"),Vg.OtherSuggestions,qt.Visible.toNegated(),jo.InSnippetMode.toNegated()),handler:r=>r.acceptPrevSuggestion(),kbOpts:{weight:Cl,kbExpr:F.textInputFocus,primary:1026}}));de(class extends we{constructor(){super({id:"editor.action.resetSuggestSize",label:g("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(r,e){var t;(t=wl.get(e))===null||t===void 0||t.resetWidgetSize()}});var X8=class extends ${constructor(e,t){super();this.editor=e,this.suggestControllerPreselector=t,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new B,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new wt(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(e.onKeyDown(n=>{n.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(e.onKeyUp(n=>{n.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));let i=wl.get(this.editor);if(i){this._register(i.registerSelector({priority:100,select:(s,a,l)=>{let c=this.editor.getModel(),d=Fw(c,this.suggestControllerPreselector());if(!d)return-1;let h=V.lift(a),u=l.map((m,_)=>{let w=See(i,h,m,this.isShiftKeyPressed),y=Fw(c,w?.normalizedInlineCompletion);if(!y)return;let C=Gwe(d.range,y.range)&&d.text.startsWith(y.text);return{index:_,valid:C,prefixLength:y.text.length,suggestItem:m}}).filter(m=>m&&m.valid),f=MP(u,ib(m=>m.prefixLength,zj));return f?f.index:-1}}));let n=!1,o=()=>{n||(n=!0,this._register(i.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(i.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(i.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(xe.once(i.model.onDidTrigger)(s=>{o()}))}this.update(this._isActive)}get state(){if(!!this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(e){let t=this.getSuggestItemInfo(),i=!1;Xwe(this._currentSuggestItemInfo,t)||(this._currentSuggestItemInfo=t,i=!0),this._isActive!==e&&(this._isActive=e,i=!0),i&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){let e=wl.get(this.editor);if(!e||!this.isSuggestWidgetVisible)return;let t=e.widget.value.getFocusedItem();if(!!t)return See(e,this.editor.getPosition(),t.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){let e=wl.get(this.editor);e&&e.stopForceRenderingAbove()}forceRenderingAbove(){let e=wl.get(this.editor);e&&e.forceRenderingAbove()}};function Gwe(r,e){return e.startLineNumber===r.startLineNumber&&e.startColumn===r.startColumn&&(e.endLineNumber<r.endLineNumber||e.endLineNumber===r.endLineNumber&&e.endColumn<=r.endColumn)}function Xwe(r,e){return r===e?!0:!r||!e?!1:r.completionItemKind===e.completionItemKind&&r.isSnippetText===e.isSnippetText&&ree(r.normalizedInlineCompletion,e.normalizedInlineCompletion)}function See(r,e,t,i){if(Array.isArray(t.completion.additionalTextEdits)&&t.completion.additionalTextEdits.length>0)return{completionItemKind:t.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:D.fromPositions(e,e),text:""}};let{insertText:n}=t.completion,o=!1;if(t.completion.insertTextRules&4){let a=new ju().parse(n),l=r.editor.getModel();if(a.children.length>100)return;vl.adjustWhitespace(l,e,a,!0,!0),n=a.toString(),o=!0}let s=r.getOverwriteInfo(t,i);return{isSnippetText:o,completionItemKind:t.completion.kind,normalizedInlineCompletion:{text:n,range:D.fromPositions(e.delta(0,-s.overwriteBefore),e.delta(0,Math.max(s.overwriteAfter,0)))}}}var Qwe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Jwe=function(r,e){return function(t,i){e(t,i,r)}},Eee=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},oN=class extends nE{constructor(e,t,i){super(e);this.cache=t,this.languageFeaturesService=i,this.suggestionInlineCompletionSource=this._register(new X8(this.editor,()=>{var n,o;return(o=(n=this.cache.value)===null||n===void 0?void 0:n.completions[0])===null||o===void 0?void 0:o.toLiveInlineCompletion()})),this.updateOperation=this._register(new kn),this.updateCacheSoon=this._register(new wt(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);let o=this.ghostText;o&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,eCe(o.parts.map(s=>s.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(n=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register(Ve(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(106).preview}updateCache(){return Eee(this,void 0,void 0,function*(){let e=this.suggestionInlineCompletionSource.state;if(!e||!e.selectedItem)return;let t={text:e.selectedItem.normalizedInlineCompletion.text,range:e.selectedItem.normalizedInlineCompletion.range,isSnippetText:e.selectedItem.isSnippetText,completionKind:e.selectedItem.completionItemKind},i=this.editor.getPosition(),n=xi(s=>Eee(this,void 0,void 0,function*(){let a;try{a=yield T8(this.languageFeaturesService.inlineCompletionsProvider,i,this.editor.getModel(),{triggerKind:ys.Automatic,selectedSuggestionInfo:t},s)}catch(l){Ie(l);return}s.isCancellationRequested||(this.cache.setValue(this.editor,a,ys.Automatic),this.onDidChangeEmitter.fire())})),o=new $T(n,ys.Automatic);this.updateOperation.value=o,yield n,this.updateOperation.value===o&&this.updateOperation.clear()})}get ghostText(){var e,t,i;let n=this.isSuggestionPreviewEnabled(),o=Fw(this.editor.getModel(),(t=(e=this.cache.value)===null||e===void 0?void 0:e.completions[0])===null||t===void 0?void 0:t.toLiveInlineCompletion()),s=this.suggestionInlineCompletionSource.state,a=Fw(this.editor.getModel(),(i=s?.selectedItem)===null||i===void 0?void 0:i.normalizedInlineCompletion),l=o&&a&&o.text.startsWith(a.text)&&o.range.equalsRange(a.range);if(!n&&!l)return;let c=l?o:a||o,d=l?c.text.length-a.text.length:0;return this.toGhostText(c,d)}toGhostText(e,t){let i=this.editor.getOptions().get(106).previewMode;return e?zT(e,this.editor.getModel(),i,this.editor.getPosition(),t)||new iE(e.range.endLineNumber,[],this.minReservedLineCount):void 0}};oN=Qwe([Jwe(2,ve)],oN);function eCe(r){return r.reduce((e,t)=>e+t,0)}function xee(r,e){return{object:r,dispose:()=>e?.dispose()}}Ye();var tCe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},iCe=function(r,e){return function(t,i){e(t,i,r)}},nCe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},Dee=class extends ${constructor(){super(...arguments);this.onDidChangeEmitter=new B,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new kn)}get targetModel(){var e;return(e=this.currentModelRef.value)===null||e===void 0?void 0:e.object}setTargetModel(e){var t;((t=this.currentModelRef.value)===null||t===void 0?void 0:t.object)!==e&&(this.currentModelRef.clear(),this.currentModelRef.value=e?xee(e,e.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var e,t;return this.hasCachedGhostText||(this.cachedGhostText=(t=(e=this.currentModelRef.value)===null||e===void 0?void 0:e.object)===null||t===void 0?void 0:t.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(e){var t;(t=this.targetModel)===null||t===void 0||t.setExpanded(e)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}},rN=class extends Dee{constructor(e,t){super();this.editor=e,this.instantiationService=t,this.sharedCache=this._register(new Lee),this.suggestWidgetAdapterModel=this._register(this.instantiationService.createInstance(oN,this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(this.instantiationService.createInstance(HT,this.editor,this.sharedCache)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(e){var t;let i=(t=this.activeInlineCompletionsModel)===null||t===void 0?void 0:t.ghostText;return i?i.parts.some(n=>e.containsPosition(new V(i.lineNumber,n.column))):!1}triggerInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.trigger(ys.Explicit)}commitInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.commitCurrentSuggestion()}hideInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.hide()}showNextInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.showNext()}showPreviousInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.showPrevious()}hasMultipleInlineCompletions(){var e;return nCe(this,void 0,void 0,function*(){let t=yield(e=this.activeInlineCompletionsModel)===null||e===void 0?void 0:e.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};rN=tCe([iCe(1,ze)],rN);var Lee=class extends ${constructor(){super(...arguments);this.onDidChangeEmitter=new B,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new kn)}get value(){return this.cache.value}setValue(e,t,i){this.cache.value=new O8(e,t,()=>this.onDidChangeEmitter.fire(),i)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}};Be();re();He();Sd();lt();ye();Tf();Vo();Gs();Ye();pt();var oCe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},kee=function(r,e){return function(t,i){e(t,i,r)}},Q8,Iee=(Q8=window.trustedTypes)===null||Q8===void 0?void 0:Q8.createPolicy("editorGhostText",{createHTML:r=>r}),sN=class extends ${constructor(e,t,i,n){super();this.editor=e,this.model=t,this.instantiationService=i,this.languageService=n,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(Oee,this.editor)),this.additionalLinesWidget=this._register(new Tee(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(o=>{(o.hasChanged(29)||o.hasChanged(105)||o.hasChanged(88)||o.hasChanged(83)||o.hasChanged(45)||o.hasChanged(44)||o.hasChanged(59))&&this.update()})),this._register(Ve(()=>{var o;this.disposed=!0,this.update(),(o=this.viewMoreContentWidget)===null||o===void 0||o.dispose(),this.viewMoreContentWidget=void 0})),this._register(t.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(e){return this.additionalLinesWidget.viewZoneId===e}update(){var e;let t=this.model.ghostText;if(!this.editor.hasModel()||!t||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear();return}let i=new Array,n=new Array;function o(c,d){if(n.length>0){let h=n[n.length-1];d&&h.decorations.push(new _r(h.content.length+1,h.content.length+1+c[0].length,d,0)),h.content+=c[0],c=c.slice(1)}for(let h of c)n.push({content:h,decorations:d?[new _r(1,h.length+1,d,0)]:[]})}let s=this.editor.getModel().getLineContent(t.lineNumber);this.editor.getModel().getLineTokens(t.lineNumber);let a,l=0;for(let c of t.parts){let d=c.lines;a===void 0?(i.push({column:c.column,text:d[0],preview:c.preview}),d=d.slice(1)):o([s.substring(l,c.column-1)],void 0),d.length>0&&(o(d,"ghost-text"),a===void 0&&c.column<=s.length&&(a=c.column)),l=c.column-1}a!==void 0&&o([s.substring(l)],void 0),this.partsWidget.setParts(t.lineNumber,i,a!==void 0?{column:a,length:s.length+1-a}:void 0),this.additionalLinesWidget.updateLines(t.lineNumber,n,t.additionalReservedLineCount),t.parts.some(c=>c.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new V(t.lineNumber,this.editor.getModel().getLineMaxColumn(t.lineNumber)),"",0):((e=this.viewMoreContentWidget)===null||e===void 0||e.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(e,t,i){let n=this.editor.getOption(44),o=document.createElement("div");o.className="suggest-preview-additional-widget",Cn(o,n);let s=document.createElement("span");s.className="content-spacer",s.append(t),o.append(s);let a=document.createElement("span");a.className="content-newline suggest-preview-text",a.append("\u23CE  "),o.append(a);let l=new J,c=document.createElement("div");return c.className="button suggest-preview-text",c.append(`+${i} lines\u2026`),l.add(Bi(c,"mousedown",d=>{var h;(h=this.model)===null||h===void 0||h.setExpanded(!0),d.preventDefault(),this.editor.focus()})),o.append(c),new Nee(this.editor,e,o,l)}};sN=oCe([kee(2,ze),kee(3,Gt)],sN);var Oee=class{constructor(e){this.editor=e,this.decorationIds=[],this.disposableStore=new J}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(e,t,i){if(this.disposableStore.clear(),!this.editor.getModel())return;let o=new Array;i&&o.push({range:D.fromPositions(new V(e,i.column),new V(e,i.column+i.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,t.map(s=>({range:D.fromPositions(new V(e,s.column)),options:{description:"ghost-text",after:{content:s.text,inlineClassName:s.preview?"ghost-text-decoration-preview":"ghost-text-decoration"},showIfCollapsed:!0}})).concat(o))}},Tee=class{constructor(e,t){this.editor=e,this.languageIdCodec=t,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(e,t,i){let n=this.editor.getModel();if(!n)return;let{tabSize:o}=n.getOptions();this.editor.changeViewZones(s=>{this._viewZoneId&&(s.removeZone(this._viewZoneId),this._viewZoneId=void 0);let a=Math.max(t.length,i);if(a>0){let l=document.createElement("div");rCe(l,o,t,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=s.addZone({afterLineNumber:e,heightInLines:a,domNode:l,afterColumnAffinity:1})}})}};function rCe(r,e,t,i,n){let o=i.get(29),s=i.get(105),a="none",l=i.get(83),c=i.get(45),d=i.get(44),h=i.get(59),u=jl(1e4);u.appendASCIIString('<div class="suggest-preview-text">');for(let _=0,w=t.length;_<w;_++){let y=t[_],C=y.content;u.appendASCIIString('<div class="view-line'),u.appendASCIIString('" style="top:'),u.appendASCIIString(String(_*h)),u.appendASCIIString('px;width:1000000px;">');let E=If(C),L=kf(C),k=tn.createEmpty(C,n);jm(new tl(d.isMonospace&&!o,d.canUseHalfwidthRightwardsArrow,C,!1,E,L,0,k,y.decorations,e,0,d.spaceWidth,d.middotWidth,d.wsmiddotWidth,s,a,l,c!==er.OFF,null),u),u.appendASCIIString("</div>")}u.appendASCIIString("</div>"),Cn(r,d);let f=u.build(),m=Iee?Iee.createHTML(f):f;r.innerHTML=m}var Nee=class extends ${constructor(e,t,i,n){super();this.editor=e,this.position=t,this.domNode=i,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(n),this._register(Ve(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}};yt((r,e)=>{let t=r.getColor(gH);t&&(e.addRule(`.monaco-editor .ghost-text-decoration { color: ${t.toString()} !important; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${t.toString()} !important; }`),e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${t.toString()} !important; }`));let i=r.getColor(mH);i&&(e.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${i.toString()}; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${i.toString()}; }`),e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${i.toString()}; }`));let n=r.getColor(fH);n&&(e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${n}; }`),e.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${n}; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${n}; }`))});ke();Et();Ye();qh();var Pee=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},J8=function(r,e){return function(t,i){e(t,i,r)}},aN=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},ao=class Mee extends ${constructor(e,t){super();this.editor=e,this.instantiationService=t,this.triggeredExplicitly=!1,this.activeController=this._register(new kn),this.activeModelDidChangeEmitter=this._register(new B),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(i=>{i.hasChanged(106)&&this.updateModelController(),i.hasChanged(55)&&this.updateModelController()})),this.updateModelController()}static get(e){return e.getContribution(Mee.ID)}get activeModel(){var e;return(e=this.activeController.value)===null||e===void 0?void 0:e.model}updateModelController(){let e=this.editor.getOption(106),t=this.editor.getOption(55);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(e.preview||t.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(eB,this.editor):void 0,this.activeModelDidChangeEmitter.fire()}shouldShowHoverAt(e){var t;return((t=this.activeModel)===null||t===void 0?void 0:t.shouldShowHoverAt(e))||!1}shouldShowHoverAtViewZone(e){var t,i;return((i=(t=this.activeController.value)===null||t===void 0?void 0:t.widget)===null||i===void 0?void 0:i.shouldShowHoverAtViewZone(e))||!1}trigger(){var e;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(e=this.activeModel)===null||e===void 0||e.triggerInlineCompletion()}commit(){var e;(e=this.activeModel)===null||e===void 0||e.commitInlineCompletion()}hide(){var e;(e=this.activeModel)===null||e===void 0||e.hideInlineCompletion()}showNextInlineCompletion(){var e;(e=this.activeModel)===null||e===void 0||e.showNextInlineCompletion()}showPreviousInlineCompletion(){var e;(e=this.activeModel)===null||e===void 0||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return aN(this,void 0,void 0,function*(){let t=yield(e=this.activeModel)===null||e===void 0?void 0:e.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};ao.inlineSuggestionVisible=new Se("inlineSuggestionVisible",!1,g("inlineSuggestionVisible","Whether an inline suggestion is visible"));ao.inlineSuggestionHasIndentation=new Se("inlineSuggestionHasIndentation",!1,g("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace"));ao.inlineSuggestionHasIndentationLessThanTabSize=new Se("inlineSuggestionHasIndentationLessThanTabSize",!0,g("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab"));ao.ID="editor.contrib.ghostTextController";ao=Pee([J8(1,ze)],ao);var Aee=class{constructor(e){this.contextKeyService=e,this.inlineCompletionVisible=ao.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=ao.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=ao.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}},eB=class extends ${constructor(e,t,i){super();this.editor=e,this.instantiationService=t,this.contextKeyService=i,this.contextKeys=new Aee(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(rN,this.editor)),this.widget=this._register(this.instantiationService.createInstance(sN,this.editor,this.model)),this._register(Ve(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var e;this.contextKeys.inlineCompletionVisible.set(((e=this.model.activeInlineCompletionsModel)===null||e===void 0?void 0:e.ghostText)!==void 0);let t=!1,i=!0,n=this.model.inlineCompletionsModel.ghostText;if(!!this.model.activeInlineCompletionsModel&&n&&n.parts.length>0){let{column:o,lines:s}=n.parts[0],a=s[0],l=this.editor.getModel().getLineIndentColumn(n.lineNumber);if(o<=l){let d=wn(a);d===-1&&(d=a.length-1),t=d>0;let h=this.editor.getModel().getOptions().tabSize;i=Zi.visibleColumnFromColumn(a,d+1,h)<h}}this.contextKeys.inlineCompletionSuggestsIndentation.set(t),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(i)}};eB=Pee([J8(1,ze),J8(2,Le)],eB);var Ree=Yi.bindToContribution(ao.get),Vw=new Ree({id:WT,precondition:ao.inlineSuggestionVisible,handler(r){r.commit(),r.editor.focus()}});me(Vw);qn.registerKeybindingRule({primary:2,weight:200,id:Vw.id,when:Ce.and(Vw.precondition,F.tabMovesFocus.toNegated(),ao.inlineSuggestionHasIndentationLessThanTabSize)});me(new Ree({id:"editor.action.inlineSuggest.hide",precondition:ao.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(r){r.hide()}}));var Gu=class extends we{constructor(){super({id:Gu.ID,label:g("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Ce.and(F.writable,ao.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(e,t){return aN(this,void 0,void 0,function*(){let i=ao.get(t);i&&(i.showNextInlineCompletion(),t.focus())})}};Gu.ID="editor.action.inlineSuggest.showNext";var Xu=class extends we{constructor(){super({id:Xu.ID,label:g("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Ce.and(F.writable,ao.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(e,t){return aN(this,void 0,void 0,function*(){let i=ao.get(t);i&&(i.showPreviousInlineCompletion(),t.focus())})}};Xu.ID="editor.action.inlineSuggest.showPrevious";var tB=class extends we{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:g("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:F.writable})}run(e,t){return aN(this,void 0,void 0,function*(){let i=ao.get(t);i&&i.trigger()})}};Be();re();ye();Vo();ke();Mo();on();Et();var sCe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Hw=function(r,e){return function(t,i){e(t,i,r)}},Fee=class{constructor(e,t,i){this.owner=e,this.range=t,this.controller=i}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}},lN=class{constructor(e,t,i,n,o,s,a){this._editor=e,this._commandService=t,this._menuService=i,this._contextKeyService=n,this._languageService=o,this._openerService=s,this.accessibilityService=a,this.hoverOrdinal=3}suggestHoverAnchor(e){let t=ao.get(this._editor);if(!t)return null;let i=e.target;if(i.type===8){let n=i.detail;if(t.shouldShowHoverAtViewZone(n.viewZoneId))return new h_(1e3,this,D.fromPositions(n.positionBefore||n.position,n.positionBefore||n.position))}return i.type===7&&t.shouldShowHoverAt(i.range)?new h_(1e3,this,i.range):i.type===6&&i.detail.mightBeForeignElement&&t.shouldShowHoverAt(i.range)?new h_(1e3,this,i.range):null}computeSync(e,t){let i=ao.get(this._editor);return i&&i.shouldShowHoverAt(e.range)?[new Fee(this,e.range,i)]:[]}renderHoverParts(e,t){let i=new J,n=t[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(e,n,i);let o=i.add(this._menuService.createMenu(H.InlineCompletionsActions,this._contextKeyService)),s=e.statusBar.addAction({label:g("showNextInlineSuggestion","Next"),commandId:Gu.ID,run:()=>this._commandService.executeCommand(Gu.ID)}),a=e.statusBar.addAction({label:g("showPreviousInlineSuggestion","Previous"),commandId:Xu.ID,run:()=>this._commandService.executeCommand(Xu.ID)});e.statusBar.addAction({label:g("acceptInlineSuggestion","Accept"),commandId:Vw.id,run:()=>this._commandService.executeCommand(Vw.id)});let l=[s,a];for(let c of l)c.setEnabled(!1);n.hasMultipleSuggestions().then(c=>{for(let d of l)d.setEnabled(c)});for(let[c,d]of o.getActions())for(let h of d)h instanceof Zl&&e.statusBar.addAction({label:h.label,commandId:h.item.id,run:()=>this._commandService.executeCommand(h.item.id)});return i}renderScreenReaderText(e,t,i){var n,o;let s=le,a=s("div.hover-row.markdown-hover"),l=ee(a,s("div.hover-contents")),c=i.add(new da({editor:this._editor},this._languageService,this._openerService)),d=u=>{i.add(c.onDidRenderAsync(()=>{l.className="hover-contents code-hover-contents",e.onContentsChanged()}));let f=g("inlineSuggestionFollows","Suggestion:"),m=i.add(c.render(new Bo().appendText(f).appendCodeblock("text",u)));l.replaceChildren(m.element)},h=(o=(n=t.controller.activeModel)===null||n===void 0?void 0:n.inlineCompletionsModel)===null||o===void 0?void 0:o.ghostText;if(h){let u=this._editor.getModel().getLineContent(h.lineNumber);d(h.renderForScreenReader(u))}e.fragment.appendChild(a)}};lN=sCe([Hw(1,pi),Hw(2,La),Hw(3,Le),Hw(4,Gt),Hw(5,so),Hw(6,oo)],lN);st(ao.ID,ao);de(tB);de(Gu);de(Xu);pl.register(lN);re();He();kt();sc();ye();mi();Wi();no();ns();function ms(r,e){let t=0;for(let i=0;i<r.length;i++)r.charAt(i)==="	"?t+=e:t++;return t}function x_(r,e,t){r=r<0?0:r;let i="";if(!t){let n=Math.floor(r/e);r=r%e;for(let o=0;o<n;o++)i+="	"}for(let n=0;n<r;n++)i+=" ";return i}ke();ok();function jee(r,e,t,i,n){if(r.getLineCount()===1&&r.getLineMaxColumn(1)===1)return[];let o=e.getLanguageConfiguration(r.getLanguageId()).indentationRules;if(!o)return[];for(i=Math.min(i,r.getLineCount());t<=i&&o.unIndentedLinePattern;){let w=r.getLineContent(t);if(!o.unIndentedLinePattern.test(w))break;t++}if(t>i-1)return[];let{tabSize:s,indentSize:a,insertSpaces:l}=r.getOptions(),c=(w,y)=>(y=y||1,Ur.shiftIndent(w,w.length+y,s,a,l)),d=(w,y)=>(y=y||1,Ur.unshiftIndent(w,w.length+y,s,a,l)),h=[],u,f=r.getLineContent(t),m=f;if(n!=null){u=n;let w=ni(f);m=u+f.substring(w.length),o.decreaseIndentPattern&&o.decreaseIndentPattern.test(m)&&(u=d(u),m=u+f.substring(w.length)),f!==m&&h.push(vi.replaceMove(new he(t,1,t,w.length+1),cp(u,a,l)))}else u=ni(f);let _=u;o.increaseIndentPattern&&o.increaseIndentPattern.test(m)?(_=c(_),u=c(u)):o.indentNextLinePattern&&o.indentNextLinePattern.test(m)&&(_=c(_)),t++;for(let w=t;w<=i;w++){let y=r.getLineContent(w),C=ni(y),E=_+y.substring(C.length);o.decreaseIndentPattern&&o.decreaseIndentPattern.test(E)&&(_=d(_),u=d(u)),C!==_&&h.push(vi.replaceMove(new he(w,1,w,C.length+1),cp(_,a,l))),!(o.unIndentedLinePattern&&o.unIndentedLinePattern.test(y))&&(o.increaseIndentPattern&&o.increaseIndentPattern.test(E)?(u=c(u),_=u):o.indentNextLinePattern&&o.indentNextLinePattern.test(E)?_=c(_):_=u)}return h}var dE=class extends we{constructor(){super({id:dE.ID,label:g("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:F.writable})}run(e,t){let i=t.getModel();if(!i)return;let n=i.getOptions(),o=t.getSelection();if(!o)return;let s=new Hee(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})}};dE.ID="editor.action.indentationToSpaces";var hE=class extends we{constructor(){super({id:hE.ID,label:g("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:F.writable})}run(e,t){let i=t.getModel();if(!i)return;let n=i.getOptions(),o=t.getSelection();if(!o)return;let s=new $ee(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})}};hE.ID="editor.action.indentationToTabs";var iB=class extends we{constructor(e,t){super(t);this.insertSpaces=e}run(e,t){let i=e.get(hh),n=e.get(ii),o=t.getModel();if(!o)return;let s=n.getCreationOptions(o.getLanguageId(),o.uri,o.isForSimpleWidget),a=[1,2,3,4,5,6,7,8].map(c=>({id:c.toString(),label:c.toString(),description:c===s.tabSize?g("configuredTabSize","Configured Tab Size"):void 0})),l=Math.min(o.getOptions().tabSize-1,7);setTimeout(()=>{i.pick(a,{placeHolder:g({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:a[l]}).then(c=>{c&&o&&!o.isDisposed()&&o.updateOptions({tabSize:parseInt(c.label,10),insertSpaces:this.insertSpaces})})},50)}},uE=class extends iB{constructor(){super(!1,{id:uE.ID,label:g("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}};uE.ID="editor.action.indentUsingTabs";var fE=class extends iB{constructor(){super(!0,{id:fE.ID,label:g("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}};fE.ID="editor.action.indentUsingSpaces";var gE=class extends we{constructor(){super({id:gE.ID,label:g("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){let i=e.get(ii),n=t.getModel();if(!n)return;let o=i.getCreationOptions(n.getLanguageId(),n.uri,n.isForSimpleWidget);n.detectIndentation(o.insertSpaces,o.tabSize)}};gE.ID="editor.action.detectIndentation";var Wee=class extends we{constructor(){super({id:"editor.action.reindentlines",label:g("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:F.writable})}run(e,t){let i=e.get(en),n=t.getModel();if(!n)return;let o=jee(n,i,1,n.getLineCount());o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}},Uee=class extends we{constructor(){super({id:"editor.action.reindentselectedlines",label:g("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:F.writable})}run(e,t){let i=e.get(en),n=t.getModel();if(!n)return;let o=t.getSelections();if(o===null)return;let s=[];for(let a of o){let l=a.startLineNumber,c=a.endLineNumber;if(l!==c&&a.endColumn===1&&c--,l===1){if(l===c)continue}else l--;let d=jee(n,i,l,c);s.push(...d)}s.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,s),t.pushUndoStop())}},zee=class{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(let i of e)i.range&&typeof i.text=="string"&&this._edits.push(i)}getEditOperations(e,t){for(let n of this._edits)t.addEditOperation(D.lift(n.range),n.text);let i=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),i||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}},cN=class{constructor(e){this.callOnDispose=new J,this.callOnModel=new J,this.editor=e,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(48))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:e})=>{this.trigger(e)})))}trigger(e){let t=this.editor.getSelections();if(t===null||t.length>1)return;let i=this.editor.getModel();if(!i||!i.isCheapToTokenize(e.getStartPosition().lineNumber))return;let n=this.editor.getOption(9),{tabSize:o,indentSize:s,insertSpaces:a}=i.getOptions(),l=[],c={shiftIndent:f=>Ur.shiftIndent(f,f.length+1,o,s,a),unshiftIndent:f=>Ur.unshiftIndent(f,f.length+1,o,s,a)},d=e.startLineNumber;for(;d<=e.endLineNumber;){if(this.shouldIgnoreLine(i,d)){d++;continue}break}if(d>e.endLineNumber)return;let h=i.getLineContent(d);if(!/\S/.test(h.substring(0,e.startColumn-1))){let f=qi.getGoodIndentForLine(n,i,i.getLanguageId(),d,c);if(f!==null){let m=ni(h),_=ms(f,o),w=ms(m,o);if(_!==w){let y=x_(_,o,a);l.push({range:new D(d,1,d,m.length+1),text:y}),h=y+h.substr(m.length)}else{let y=qi.getIndentMetadata(i,d);if(y===0||y===8)return}}}let u=d;for(;d<e.endLineNumber;){if(!/\S/.test(i.getLineContent(d+1))){d++;continue}break}if(d!==e.endLineNumber){let f={getLineTokens:_=>i.getLineTokens(_),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(_,w)=>i.getLanguageIdAtPosition(_,w),getLineContent:_=>_===u?h:i.getLineContent(_)},m=qi.getGoodIndentForLine(n,f,i.getLanguageId(),d+1,c);if(m!==null){let _=ms(m,o),w=ms(ni(i.getLineContent(d+1)),o);if(_!==w){let y=_-w;for(let C=d+1;C<=e.endLineNumber;C++){let E=i.getLineContent(C),L=ni(E),M=ms(L,o)+y,I=x_(M,o,a);I!==L&&l.push({range:new D(C,1,C,L.length+1),text:I})}}}}if(l.length>0){this.editor.pushUndoStop();let f=new zee(l,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",f),this.editor.pushUndoStop()}}shouldIgnoreLine(e,t){e.forceTokenization(t);let i=e.getLineFirstNonWhitespaceColumn(t);if(i===0)return!0;let n=e.getLineTokens(t);if(n.getCount()>0){let o=n.findTokenIndexAtOffset(i);if(o>=0&&n.getStandardTokenType(o)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};cN.ID="editor.contrib.autoIndentOnPaste";function Vee(r,e,t,i){if(r.getLineCount()===1&&r.getLineMaxColumn(1)===1)return;let n="";for(let s=0;s<t;s++)n+=" ";let o=new RegExp(n,"gi");for(let s=1,a=r.getLineCount();s<=a;s++){let l=r.getLineFirstNonWhitespaceColumn(s);if(l===0&&(l=r.getLineMaxColumn(s)),l===1)continue;let c=new D(s,1,s,l),d=r.getValueInRange(c),h=i?d.replace(/\t/ig,n):d.replace(o,"	");e.addEditOperation(c,h)}}var Hee=class{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),Vee(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}},$ee=class{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),Vee(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}};st(cN.ID,cN);de(dE);de(hE);de(uE);de(fE);de(gE);de(Wee);de(Uee);kt();nt();Ei();ut();re();ia();ai();Oi();ye();cn();Us();Fo();rc();hi();xa();ut();re();lt();ye();rs();Oi();var dN=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},hN=class{constructor(e,t){this.range=e,this.direction=t}},uN=class{constructor(e,t,i){this.hint=e,this.anchor=t,this.provider=i,this._isResolved=!1}with(e){let t=new uN(this.hint,e.anchor,this.provider);return t._isResolved=this._isResolved,t._currentResolve=this._currentResolve,t}resolve(e){return dN(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,e.isCancellationRequested?void 0:this.resolve(e);this._isResolved||(this._currentResolve=this._doResolve(e).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(e){var t,i;return dN(this,void 0,void 0,function*(){try{let n=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,e));this.hint.tooltip=(t=n?.tooltip)!==null&&t!==void 0?t:this.hint.tooltip,this.hint.label=(i=n?.label)!==null&&i!==void 0?i:this.hint.label,this._isResolved=!0}catch(n){Si(n),this._isResolved=!1}})}},D_=class{constructor(e,t,i){this._disposables=new J,this.ranges=e,this.provider=new Set;let n=[];for(let[o,s]of t){this._disposables.add(o),this.provider.add(s);for(let a of o.hints){let l=i.validatePosition(a.position),c="before",d=D_._getRangeAtPosition(i,l),h;d.getStartPosition().isBefore(l)?(h=D.fromPositions(d.getStartPosition(),l),c="after"):(h=D.fromPositions(l,d.getEndPosition()),c="before"),n.push(new uN(a,new hN(h,c),s))}}this.items=n.sort((o,s)=>V.compare(o.hint.position,s.hint.position))}static create(e,t,i,n){return dN(this,void 0,void 0,function*(){let o=[],s=e.ordered(t).reverse().map(a=>i.map(l=>dN(this,void 0,void 0,function*(){try{let c=yield a.provideInlayHints(t,l,n);c?.hints.length&&o.push([c,a])}catch(c){Si(c)}})));if(yield Promise.all(s.flat()),n.isCancellationRequested||t.isDisposed())throw new hd;return new D_(i,o,t)})}dispose(){this._disposables.dispose()}static _getRangeAtPosition(e,t){let i=t.lineNumber,n=e.getWordAtPosition(t);if(n)return new D(i,n.startColumn,i,n.endColumn);e.tokenizeIfCheap(i);let o=e.getLineTokens(i),s=t.column-1,a=o.findTokenIndexAtOffset(s),l=o.getStartOffset(a),c=o.getEndOffset(a);return c-l===1&&(l===s&&a>1?(l=o.getStartOffset(a-1),c=o.getEndOffset(a-1)):c===s&&a<o.getCount()-1&&(l=o.getStartOffset(a+1),c=o.getEndOffset(a+1))),new D(i,l+1,i,c+1)}};function Kee(r){return De.from({scheme:rt.command,path:r.id,query:r.arguments&&encodeURIComponent(JSON.stringify(r.arguments))}).toString()}Be();ss();Ei();kt();ye();xa();Mo();on();Et();Ye();var mE=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};function qee(r,e,t,i){var n;return mE(this,void 0,void 0,function*(){let o=r.get(Tn),s=r.get(Js),a=r.get(pi),l=r.get(ze),c=r.get(si);if(yield i.item.resolve(Qe.None),!i.part.location)return;let d=i.part.location,h=[],u=new Set(Po.getMenuItems(H.EditorContext).map(m=>Wf(m)?m.command.id:""));for(let m of Id.getEditorActions())m instanceof Bu&&u.has(m.id)&&h.push(new Kn(m.id,m.label,void 0,!0,()=>mE(this,void 0,void 0,function*(){let _=yield o.createModelReference(d.uri);try{yield l.invokeFunction(m.run.bind(m),e,new d_(_.object.textEditorModel,D.getStartPosition(d.range)))}finally{_.dispose()}})));if(i.part.command){let{command:m}=i.part;h.push(new $o),h.push(new Kn(m.id,m.title,void 0,!0,()=>mE(this,void 0,void 0,function*(){var _;try{yield a.executeCommand(m.id,...(_=m.arguments)!==null&&_!==void 0?_:[])}catch(w){c.notify({severity:qk.Error,source:i.item.provider.displayName,message:w})}})))}let f=e.getOption(115);s.showContextMenu({domForShadowRoot:f&&(n=e.getDomNode())!==null&&n!==void 0?n:void 0,getAnchor:()=>{let m=ji(t);return{x:m.left,y:m.top+m.height+8}},getActions:()=>h,onHide:()=>{e.focus()},autoSelectFirstItem:!0})})}function Yee(r,e,t,i){return mE(this,void 0,void 0,function*(){let o=yield r.get(Tn).createModelReference(i.uri);yield t.invokeWithinContext(s=>mE(this,void 0,void 0,function*(){let a=e.hasSideBySideModifier,l=s.get(Le),c=ar.inPeekEditor.getValue(l),d=!a&&t.getOption(78)&&!c;return new Pg({openToSide:a,openInPeek:d,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(s,t,{model:o.object.textEditorModel,position:D.getStartPosition(i.range)})})),o.dispose()})}on();Ss();Ye();Li();pt();var aCe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},$w=function(r,e){return function(t,i){e(t,i,r)}},Kw=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},pE=class{constructor(){this._entries=new ta(50)}get(e){let t=pE._key(e);return this._entries.get(t)}set(e,t){let i=pE._key(e);this._entries.set(i,t)}static _key(e){return`${e.uri.toString()}/${e.getVersionId()}`}},Zee=Fe("IInlayHintsCache");Lt(Zee,pE,!0);var _E=class{constructor(e,t){this.item=e,this.index=t}get part(){let e=this.item.hint.label;return typeof e=="string"?{label:e}:e[this.index]}},Gee=class{constructor(e,t){this.part=e,this.hasTriggerModifier=t}},Qu=class nB{constructor(e,t,i,n,o,s,a){this._editor=e,this._languageFeaturesService=t,this._inlayHintsCache=n,this._commandService=o,this._notificationService=s,this._instaService=a,this._disposables=new J,this._sessionDisposables=new J,this._decorationsMetadata=new Map,this._ruleFactory=new Yf(this._editor),this._debounceInfo=i.for(t.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(t.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(l=>{l.hasChanged(127)&&this._update()})),this._update()}static get(e){var t;return(t=e.getContribution(nB.ID))!==null&&t!==void 0?t:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),this._removeAllDecorations(),!this._editor.getOption(127).enabled)return;let e=this._editor.getModel();if(!e||!this._languageFeaturesService.inlayHintsProvider.has(e))return;let t=this._inlayHintsCache.get(e);t&&this._updateHintsDecorators([e.getFullModelRange()],t),this._sessionDisposables.add(Ve(()=>{e.isDisposed()||this._cacheHintsForFastRestore(e)}));let i,n=new Set,o=new wt(()=>Kw(this,void 0,void 0,function*(){let s=Date.now();i?.dispose(!0),i=new Ki;let a=e.onWillDispose(()=>i?.cancel());try{let l=i.token,c=yield D_.create(this._languageFeaturesService.inlayHintsProvider,e,this._getHintsRanges(),l);if(o.delay=this._debounceInfo.update(e,Date.now()-s),l.isCancellationRequested){c.dispose();return}for(let d of c.provider)typeof d.onDidChangeInlayHints=="function"&&!n.has(d)&&(n.add(d),this._sessionDisposables.add(d.onDidChangeInlayHints(()=>{o.isScheduled()||o.schedule()})));this._sessionDisposables.add(c),this._updateHintsDecorators(c.ranges,c.items),this._cacheHintsForFastRestore(e)}catch(l){Ie(l)}finally{i.dispose(),a.dispose()}}),this._debounceInfo.get(e));this._sessionDisposables.add(o),this._sessionDisposables.add(Ve(()=>i?.dispose(!0))),o.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(s=>{(s.scrollTopChanged||!o.isScheduled())&&o.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(s=>{let a=Math.max(o.delay,1250);o.schedule(a)})),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installDblClickGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){let e=new J,t=e.add(new o_(this._editor)),i=new J;return e.add(i),e.add(t.onMouseMoveOrRelevantKeyDown(n=>{let[o]=n,s=this._getInlayHintLabelPart(o),a=this._editor.getModel();if(!s||!a){i.clear();return}let l=new Ki;i.add(Ve(()=>l.dispose(!0))),s.item.resolve(l.token),this._activeInlayHintPart=s.part.command||s.part.location?new Gee(s,o.hasTriggerModifier):void 0;let c=s.item.hint.position.lineNumber,d=new D(c,1,c,a.getLineMaxColumn(c)),h=new Set;for(let u of this._decorationsMetadata.values())d.containsRange(u.item.anchor.range)&&h.add(u.item);this._updateHintsDecorators([d],Array.from(h)),i.add(Ve(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([d],Array.from(h))}))})),e.add(t.onCancel(()=>i.clear())),e.add(t.onExecute(n=>Kw(this,void 0,void 0,function*(){let o=this._getInlayHintLabelPart(n);if(o){let s=o.part;s.location?this._instaService.invokeFunction(Yee,n,this._editor,s.location):Px.is(s.command)&&(yield this._invokeCommand(s.command,o.item))}}))),e}_installDblClickGesture(){return this._editor.onMouseUp(e=>Kw(this,void 0,void 0,function*(){if(e.event.detail!==2)return;let t=this._getInlayHintLabelPart(e);!t||(e.event.preventDefault(),yield t.item.resolve(Qe.None),t.item.hint.command&&(yield this._invokeCommand(t.item.hint.command,t.item)))}))}_installContextMenu(){return this._editor.onContextMenu(e=>Kw(this,void 0,void 0,function*(){if(!(e.event.target instanceof HTMLElement))return;let t=this._getInlayHintLabelPart(e);t&&(yield this._instaService.invokeFunction(qee,this._editor,e.event.target,t))}))}_getInlayHintLabelPart(e){var t;if(e.target.type!==6)return;let i=(t=e.target.detail.injectedText)===null||t===void 0?void 0:t.options;if(i instanceof Zd&&i?.attachedData instanceof _E)return i.attachedData}_invokeCommand(e,t){var i;return Kw(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(e.id,...(i=e.arguments)!==null&&i!==void 0?i:[])}catch(n){this._notificationService.notify({severity:qk.Error,source:t.provider.displayName,message:n})}})}_cacheHintsForFastRestore(e){let t=new Map;for(let[i,n]of this._decorationsMetadata){if(t.has(n.item))continue;let o=n.item,s=e.getDecorationRange(i);if(s){let a=new hN(s,n.item.anchor.direction);o=n.item.with({anchor:a})}t.set(n.item,o)}this._inlayHintsCache.set(e,Array.from(t.values()))}_getHintsRanges(){let t=this._editor.getModel(),i=this._editor.getVisibleRangesPlusViewportAboveBelow(),n=[];for(let o of i.sort(D.compareRangesUsingStarts)){let s=t.validateRange(new D(o.startLineNumber-30,o.startColumn,o.endLineNumber+30,o.endColumn));n.length===0||!D.areIntersectingOrTouching(n[n.length-1],s)?n.push(s):n[n.length-1]=D.plusRange(n[n.length-1],s)}return n}_updateHintsDecorators(e,t){var i,n;let o=[],s=(f,m,_,w,y)=>{o.push({item:f,classNameRef:m,decoration:{range:f.anchor.range,options:{description:"InlayHint",showIfCollapsed:f.anchor.range.isEmpty(),collapseOnReplaceEdit:!f.anchor.range.isEmpty(),stickiness:0,[f.anchor.direction]:{content:_,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:m.className,cursorStops:w,attachedData:y}}}})},a=(f,m)=>{let _=this._ruleFactory.createClassNameRef({width:`${l/3|0}px`,display:"inline-block"});s(f,_,"\u200A",m?Fl.Right:Fl.None)},{fontSize:l,fontFamily:c}=this._getLayoutInfo(),d="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(d,c);for(let f of t){f.hint.paddingLeft&&a(f,!1);let m=typeof f.hint.label=="string"?[{label:f.hint.label}]:f.hint.label;for(let _=0;_<m.length;_++){let w=m[_],y=_===0,C=_===m.length-1,E={fontSize:`${l}px`,fontFamily:`var(${d}), ${Jn.fontFamily}`,verticalAlign:"middle"};f.hint.command&&(E.cursor="pointer"),this._fillInColors(E,f.hint),(w.command||w.location)&&((i=this._activeInlayHintPart)===null||i===void 0?void 0:i.part.item)===f&&this._activeInlayHintPart.part.index===_&&(E.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(E.color=rn(sv),E.cursor="pointer")),y&&C?(E.padding=`1px ${Math.max(1,l/4)|0}px`,E.borderRadius=`${l/4|0}px`):y?(E.padding=`1px 0 1px ${Math.max(1,l/4)|0}px`,E.borderRadius=`${l/4|0}px 0 0 ${l/4|0}px`):C?(E.padding=`1px ${Math.max(1,l/4)|0}px 1px 0`,E.borderRadius=`0 ${l/4|0}px ${l/4|0}px 0`):E.padding="1px 0 1px 0",s(f,this._ruleFactory.createClassNameRef(E),lCe(w.label),C&&!f.hint.paddingRight?Fl.Right:Fl.None,new _E(f,_))}if(f.hint.paddingRight&&a(f,!0),o.length>nB._MAX_DECORATORS)break}let h=[];for(let f of e)for(let{id:m}of(n=this._editor.getDecorationsInRange(f))!==null&&n!==void 0?n:[]){let _=this._decorationsMetadata.get(m);_&&(h.push(m),_.classNameRef.dispose(),this._decorationsMetadata.delete(m))}let u=this._editor.deltaDecorations(h,o.map(f=>f.decoration));for(let f=0;f<u.length;f++){let m=o[f];this._decorationsMetadata.set(u[f],{item:m.item,classNameRef:m.classNameRef})}}_fillInColors(e,t){t.kind===qC.Parameter?(e.backgroundColor=rn(Gz),e.color=rn(Zz)):t.kind===qC.Type?(e.backgroundColor=rn(Yz),e.color=rn(qz)):(e.backgroundColor=rn(Hf),e.color=rn(Vf))}_getLayoutInfo(){let e=this._editor.getOption(127),t=this._editor.getOption(46),i=e.fontSize;(!i||i<5||i>t)&&(i=t*.9|0);let n=e.fontFamily||this._editor.getOption(43);return{fontSize:i,fontFamily:n}}_removeAllDecorations(){this._editor.deltaDecorations(Array.from(this._decorationsMetadata.keys()),[]);for(let e of this._decorationsMetadata.values())e.classNameRef.dispose();this._decorationsMetadata.clear()}};Qu.ID="editor.contrib.InlayHints";Qu._MAX_DECORATORS=1500;Qu=aCe([$w(1,ve),$w(2,Co),$w(3,Zee),$w(4,pi),$w(5,si),$w(6,ze)],Qu);function lCe(r){let e="\xA0";return r.replace(/[ \t]/g,e)}ht.registerCommand("_executeInlayHintProvider",(r,...e)=>Kw(void 0,void 0,void 0,function*(){let[t,i]=e;Yt(De.isUri(t)),Yt(D.isIRange(i));let{inlayHintsProvider:n}=r.get(ve),o=yield r.get(Tn).createModelReference(t);try{let s=yield D_.create(n,o.object.textEditorModel,[D.lift(i)],Qe.None),a=s.items.map(l=>l.hint);return setTimeout(()=>s.dispose(),0),a}finally{o.dispose()}}));nt();lt();Fo();Vo();xa();Fr();hi();ke();xt();var cCe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},bE=function(r,e){return function(t,i){e(t,i,r)}},Xee=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},dCe=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=r[o]&&function(s){return new Promise(function(a,l){s=r[o](s),n(a,l,s.done,s.value)})}}function n(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}},oB=class extends h_{constructor(e,t){super(10,t,e.item.anchor.range);this.part=e}},fN=class extends Iw{constructor(e,t,i,n,o,s){super(e,t,i,n,s);this._resolverService=o,this.hoverOrdinal=6}suggestHoverAnchor(e){var t;if(!Qu.get(this._editor)||e.target.type!==6)return null;let n=(t=e.target.detail.injectedText)===null||t===void 0?void 0:t.options;return n instanceof Zd&&n.attachedData instanceof _E?new oB(n.attachedData,this):null}computeSync(){return[]}computeAsync(e,t,i){return e instanceof oB?new dn(n=>Xee(this,void 0,void 0,function*(){var o,s;let{part:a}=e;if(yield a.item.resolve(i),i.isCancellationRequested)return;let l;typeof a.item.hint.tooltip=="string"?l=new Bo().appendText(a.item.hint.tooltip):a.item.hint.tooltip&&(l=a.item.hint.tooltip),l&&n.emitOne(new uc(this,e.range,[l],0));let c;if(typeof a.part.tooltip=="string"?c=new Bo().appendText(a.part.tooltip):a.part.tooltip&&(c=a.part.tooltip),c&&n.emitOne(new uc(this,e.range,[c],1)),a.part.location||a.part.command){let f,_=this._editor.getOption(70)==="altKey"?Je?g("links.navigate.kb.meta.mac","cmd + click"):g("links.navigate.kb.meta","ctrl + click"):Je?g("links.navigate.kb.alt.mac","option + click"):g("links.navigate.kb.alt","alt + click");a.part.location&&a.part.command?f=new Bo().appendText(g("hint.defAndCommand","Go to Definition ({0}), right click for more",_)):a.part.location?f=new Bo().appendText(g("hint.def","Go to Definition ({0})",_)):a.part.command&&(f=new Bo(`[${g("hint.cmd","Execute Command")}](${Kee(a.part.command)} "${a.part.command.title}") (${_})`,{isTrusted:!0})),f&&n.emitOne(new uc(this,e.range,[f],1e4))}let d=yield this._resolveInlayHintLabelPartHover(a,i);try{for(var h=dCe(d),u;u=yield h.next(),!u.done;){let f=u.value;n.emitOne(f)}}catch(f){o={error:f}}finally{try{u&&!u.done&&(s=h.return)&&(yield s.call(h))}finally{if(o)throw o.error}}})):dn.EMPTY}_resolveInlayHintLabelPartHover(e,t){return Xee(this,void 0,void 0,function*(){if(!e.part.location)return dn.EMPTY;let{uri:i,range:n}=e.part.location,o=yield this._resolverService.createModelReference(i);try{let s=o.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(s)?zS(this._languageFeaturesService.hoverProvider,s,new V(n.startLineNumber,n.startColumn),t).filter(a=>!xu(a.hover.contents)).map(a=>new uc(this,e.item.anchor.range,a.hover.contents,2+a.ordinal)):dn.EMPTY}finally{o.dispose()}})}};fN=cCe([bE(1,Gt),bE(2,so),bE(3,Ht),bE(4,Tn),bE(5,ve)],fN);st(Qu.ID,Qu);pl.register(fN);var R5t=aC(tte());kt();Wi();ke();var ite=class extends we{constructor(){super({id:"expandLineSelection",label:g("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:F.textInputFocus,primary:2090}})}run(e,t,i){if(i=i||{},!t.hasModel())return;let n=t._getViewModel();n.model.pushStackElement(),n.setCursorStates(i.source,3,Zn.expandLineSelection(n,n.getCursorStates())),n.revealPrimaryCursor(i.source,!0)}};de(ite);Ha();kt();He();sc();ye();var aB=class{constructor(e,t){this._selection=e,this._cursors=t,this._selectionId=null}getEditOperations(e,t){let i=fCe(e,this._cursors);for(let n=0,o=i.length;n<o;n++){let s=i[n];t.addEditOperation(s.range,s.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}};function fCe(r,e){e.sort((s,a)=>s.lineNumber===a.lineNumber?s.column-a.column:s.lineNumber-a.lineNumber);for(let s=e.length-2;s>=0;s--)e[s].lineNumber===e[s+1].lineNumber&&e.splice(s,1);let t=[],i=0,n=0,o=e.length;for(let s=1,a=r.getLineCount();s<=a;s++){let l=r.getLineContent(s),c=l.length+1,d=0;if(n<o&&e[n].lineNumber===s&&(d=e[n].column,n++,d===c)||l.length===0)continue;let h=Mr(l),u=0;if(h===-1)u=1;else if(h!==l.length-1)u=h+2;else continue;u=Math.max(d,u),t[i++]=vi.delete(new D(s,u,s,c))}return t}sc();lt();ye();mi();Wi();ye();mi();var gN=class{constructor(e,t,i){this._selection=e,this._isCopyingDown=t,this._noop=i||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));let n=[];for(let s=i.startLineNumber;s<=i.endLineNumber;s++)n.push(e.getLineContent(s));let o=n.join(`
`);o===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new D(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber+1,1),i.endLineNumber===e.getLineCount()?"":`
`):this._isCopyingDown?t.addEditOperation(new D(i.startLineNumber,1,i.startLineNumber,1),o+`
`):t.addEditOperation(new D(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),`
`+o),this._selectionId=t.trackSelection(i),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let n=i.startLineNumber,o=i.startColumn,s=i.endLineNumber,a=i.endColumn;this._startLineNumberDelta!==0&&(n=n+this._startLineNumberDelta,o=1),this._endLineNumberDelta!==0&&(s=s+this._endLineNumberDelta,a=1),i=he.createWithDirection(n,o,s,a,this._selectionDirection)}return i}};He();ye();mi();Sb();no();var lB=class{constructor(e,t,i){this._selection=e,this._isMovingDown=t,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){let i=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===i){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let n=this._selection;n.startLineNumber<n.endLineNumber&&n.endColumn===1&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));let{tabSize:o,indentSize:s,insertSpaces:a}=e.getOptions(),l=this.buildIndentConverter(o,s,a),c={getLineTokens:d=>e.getLineTokens(d),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(d,h)=>e.getLanguageIdAtPosition(d,h),getLineContent:null};if(n.startLineNumber===n.endLineNumber&&e.getLineMaxColumn(n.startLineNumber)===1){let d=n.startLineNumber,h=this._isMovingDown?d+1:d-1;e.getLineMaxColumn(h)===1?t.addEditOperation(new D(1,1,1,1),null):(t.addEditOperation(new D(d,1,d,1),e.getLineContent(h)),t.addEditOperation(new D(h,1,h,e.getLineMaxColumn(h)),null)),n=new he(h,1,h,1)}else{let d,h;if(this._isMovingDown){d=n.endLineNumber+1,h=e.getLineContent(d),t.addEditOperation(new D(d-1,e.getLineMaxColumn(d-1),d,e.getLineMaxColumn(d)),null);let u=h;if(this.shouldAutoIndent(e,n)){let f=this.matchEnterRule(e,l,o,d,n.startLineNumber-1);if(f!==null){let _=ni(e.getLineContent(d)),w=f+ms(_,o);u=x_(w,o,a)+this.trimLeft(h)}else{c.getLineContent=w=>w===n.startLineNumber?e.getLineContent(d):e.getLineContent(w);let _=qi.getGoodIndentForLine(this._autoIndent,c,e.getLanguageIdAtPosition(d,1),n.startLineNumber,l);if(_!==null){let w=ni(e.getLineContent(d)),y=ms(_,o),C=ms(w,o);y!==C&&(u=x_(y,o,a)+this.trimLeft(h))}}t.addEditOperation(new D(n.startLineNumber,1,n.startLineNumber,1),u+`
`);let m=this.matchEnterRuleMovingDown(e,l,o,n.startLineNumber,d,u);if(m!==null)m!==0&&this.getIndentEditsOfMovingBlock(e,t,n,o,a,m);else{c.getLineContent=w=>w===n.startLineNumber?u:w>=n.startLineNumber+1&&w<=n.endLineNumber+1?e.getLineContent(w-1):e.getLineContent(w);let _=qi.getGoodIndentForLine(this._autoIndent,c,e.getLanguageIdAtPosition(d,1),n.startLineNumber+1,l);if(_!==null){let w=ni(e.getLineContent(n.startLineNumber)),y=ms(_,o),C=ms(w,o);if(y!==C){let E=y-C;this.getIndentEditsOfMovingBlock(e,t,n,o,a,E)}}}}else t.addEditOperation(new D(n.startLineNumber,1,n.startLineNumber,1),u+`
`)}else if(d=n.startLineNumber-1,h=e.getLineContent(d),t.addEditOperation(new D(d,1,d+1,1),null),t.addEditOperation(new D(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),`
`+h),this.shouldAutoIndent(e,n)){c.getLineContent=f=>f===d?e.getLineContent(n.startLineNumber):e.getLineContent(f);let u=this.matchEnterRule(e,l,o,n.startLineNumber,n.startLineNumber-2);if(u!==null)u!==0&&this.getIndentEditsOfMovingBlock(e,t,n,o,a,u);else{let f=qi.getGoodIndentForLine(this._autoIndent,c,e.getLanguageIdAtPosition(n.startLineNumber,1),d,l);if(f!==null){let m=ni(e.getLineContent(n.startLineNumber)),_=ms(f,o),w=ms(m,o);if(_!==w){let y=_-w;this.getIndentEditsOfMovingBlock(e,t,n,o,a,y)}}}}}this._selectionId=t.trackSelection(n)}buildIndentConverter(e,t,i){return{shiftIndent:n=>Ur.shiftIndent(n,n.length+1,e,t,i),unshiftIndent:n=>Ur.unshiftIndent(n,n.length+1,e,t,i)}}parseEnterResult(e,t,i,n,o){if(o){let s=o.indentation;o.indentAction===yn.None||o.indentAction===yn.Indent?s=o.indentation+o.appendText:o.indentAction===yn.IndentOutdent?s=o.indentation:o.indentAction===yn.Outdent&&(s=t.unshiftIndent(o.indentation)+o.appendText);let a=e.getLineContent(n);if(this.trimLeft(a).indexOf(this.trimLeft(s))>=0){let l=ni(e.getLineContent(n)),c=ni(s),d=qi.getIndentMetadata(e,n);d!==null&&d&2&&(c=t.unshiftIndent(c));let h=ms(c,i),u=ms(l,i);return h-u}}return null}matchEnterRuleMovingDown(e,t,i,n,o,s){if(Mr(s)>=0){let a=e.getLineMaxColumn(o),l=qi.getEnterAction(this._autoIndent,e,new D(o,a,o,a));return this.parseEnterResult(e,t,i,n,l)}else{let a=n-1;for(;a>=1;){let d=e.getLineContent(a);if(Mr(d)>=0)break;a--}if(a<1||n>e.getLineCount())return null;let l=e.getLineMaxColumn(a),c=qi.getEnterAction(this._autoIndent,e,new D(a,l,a,l));return this.parseEnterResult(e,t,i,n,c)}}matchEnterRule(e,t,i,n,o,s){let a=o;for(;a>=1;){let d;if(a===o&&s!==void 0?d=s:d=e.getLineContent(a),Mr(d)>=0)break;a--}if(a<1||n>e.getLineCount())return null;let l=e.getLineMaxColumn(a),c=qi.getEnterAction(this._autoIndent,e,new D(a,l,a,l));return this.parseEnterResult(e,t,i,n,c)}trimLeft(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4||!e.isCheapToTokenize(t.startLineNumber))return!1;let i=e.getLanguageIdAtPosition(t.startLineNumber,1),n=e.getLanguageIdAtPosition(t.endLineNumber,1);return!(i!==n||qi.getIndentRulesSupport(i)===null)}getIndentEditsOfMovingBlock(e,t,i,n,o,s){for(let a=i.startLineNumber;a<=i.endLineNumber;a++){let l=e.getLineContent(a),c=ni(l),h=ms(c,n)+s,u=x_(h,n,o);u!==c&&(t.addEditOperation(new D(a,1,a,c.length+1),u),a===i.endLineNumber&&i.endColumn<=c.length+1&&u===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i}};sc();ye();var Sh=class{constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}static getCollator(){return Sh._COLLATOR||(Sh._COLLATOR=new Intl.Collator),Sh._COLLATOR}getEditOperations(e,t){let i=gCe(e,this.selection,this.descending);i&&t.addEditOperation(i.range,i.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,i){if(e===null)return!1;let n=nte(e,t,i);if(!n)return!1;for(let o=0,s=n.before.length;o<s;o++)if(n.before[o]!==n.after[o])return!0;return!1}};Sh._COLLATOR=null;function nte(r,e,t){let i=e.startLineNumber,n=e.endLineNumber;if(e.endColumn===1&&n--,i>=n)return null;let o=[];for(let a=i;a<=n;a++)o.push(r.getLineContent(a));let s=o.slice(0);return s.sort(Sh.getCollator().compare),t===!0&&(s=s.reverse()),{startLineNumber:i,endLineNumber:n,before:o,after:s}}function gCe(r,e,t){let i=nte(r,e,t);return i?vi.replace(new D(i.startLineNumber,1,i.endLineNumber,r.getLineMaxColumn(i.endLineNumber)),i.after.join(`
`)):null}ke();Mo();var cB=class extends we{constructor(e,t){super(t);this.down=e}run(e,t){if(!t.hasModel())return;let i=t.getSelections().map((s,a)=>({selection:s,index:a,ignore:!1}));i.sort((s,a)=>D.compareRangesUsingStarts(s.selection,a.selection));let n=i[0];for(let s=1;s<i.length;s++){let a=i[s];n.selection.endLineNumber===a.selection.startLineNumber&&(n.index<a.index?a.ignore=!0:(n.ignore=!0,n=a))}let o=[];for(let s of i)o.push(new gN(s.selection,this.down,s.ignore));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}},ote=class extends cB{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:g("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:H.MenubarSelectionMenu,group:"2_line",title:g({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}},rte=class extends cB{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:g("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:H.MenubarSelectionMenu,group:"2_line",title:g({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}},ste=class extends we{constructor(){super({id:"editor.action.duplicateSelection",label:g("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:F.writable,menuOpts:{menuId:H.MenubarSelectionMenu,group:"2_line",title:g({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,i){if(!t.hasModel())return;let n=[],o=t.getSelections(),s=t.getModel();for(let a of o)if(a.isEmpty())n.push(new gN(a,!0));else{let l=new he(a.endLineNumber,a.endColumn,a.endLineNumber,a.endColumn);n.push(new gR(l,s.getValueInRange(a)))}t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}},dB=class extends we{constructor(e,t){super(t);this.down=e}run(e,t){let i=[],n=t.getSelections()||[],o=t.getOption(9);for(let s of n)i.push(new lB(s,this.down,o));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}},ate=class extends dB{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:g("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:H.MenubarSelectionMenu,group:"2_line",title:g({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}},lte=class extends dB{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:g("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:H.MenubarSelectionMenu,group:"2_line",title:g({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}},hB=class extends we{constructor(e,t){super(t);this.descending=e}run(e,t){let i=t.getSelections()||[];for(let o of i)if(!Sh.canRun(t.getModel(),o,this.descending))return;let n=[];for(let o=0,s=i.length;o<s;o++)n[o]=new Sh(i[o],this.descending);t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}},cte=class extends hB{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:g("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:F.writable})}},dte=class extends hB{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:g("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:F.writable})}},hte=class extends we{constructor(){super({id:"editor.action.removeDuplicateLines",label:g("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:F.writable})}run(e,t){if(!t.hasModel())return;let i=t.getModel();if(i.getLineCount()===1&&i.getLineMaxColumn(1)===1)return;let n=[],o=[],s=0;for(let a of t.getSelections()){let l=new Set,c=[];for(let f=a.startLineNumber;f<=a.endLineNumber;f++){let m=i.getLineContent(f);l.has(m)||(c.push(m),l.add(m))}let d=new he(a.startLineNumber,1,a.endLineNumber,i.getLineMaxColumn(a.endLineNumber)),h=a.startLineNumber-s,u=new he(h,1,h+c.length-1,c[c.length-1].length);n.push(vi.replace(d,c.join(`
`))),o.push(u),s+=a.endLineNumber-a.startLineNumber+1-c.length}t.pushUndoStop(),t.executeEdits(this.id,n,o),t.pushUndoStop()}},wE=class extends we{constructor(){super({id:wE.ID,label:g("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:an(2089,2102),weight:100}})}run(e,t,i){let n=[];i.reason==="auto-save"&&(n=(t.getSelections()||[]).map(a=>new V(a.positionLineNumber,a.positionColumn)));let o=t.getSelection();if(o===null)return;let s=new aB(o,n);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop()}};wE.ID="editor.action.trimTrailingWhitespace";var ute=class extends we{constructor(){super({id:"editor.action.deleteLines",label:g("lines.delete","Delete Line"),alias:"Delete Line",precondition:F.writable,kbOpts:{kbExpr:F.textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;let i=this._getLinesToRemove(t),n=t.getModel();if(n.getLineCount()===1&&n.getLineMaxColumn(1)===1)return;let o=0,s=[],a=[];for(let l=0,c=i.length;l<c;l++){let d=i[l],h=d.startLineNumber,u=d.endLineNumber,f=1,m=n.getLineMaxColumn(u);u<n.getLineCount()?(u+=1,m=1):h>1&&(h-=1,f=n.getLineMaxColumn(h)),s.push(vi.replace(new he(h,f,u,m),"")),a.push(new he(h-o,d.positionColumn,h-o,d.positionColumn)),o+=d.endLineNumber-d.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,s,a),t.pushUndoStop()}_getLinesToRemove(e){let t=e.getSelections().map(o=>{let s=o.endLineNumber;return o.startLineNumber<o.endLineNumber&&o.endColumn===1&&(s-=1),{startLineNumber:o.startLineNumber,selectionStartColumn:o.selectionStartColumn,endLineNumber:s,positionColumn:o.positionColumn}});t.sort((o,s)=>o.startLineNumber===s.startLineNumber?o.endLineNumber-s.endLineNumber:o.startLineNumber-s.startLineNumber);let i=[],n=t[0];for(let o=1;o<t.length;o++)n.endLineNumber+1>=t[o].startLineNumber?n.endLineNumber=t[o].endLineNumber:(i.push(n),n=t[o]);return i.push(n),i}},fte=class extends we{constructor(){super({id:"editor.action.indentLines",label:g("lines.indent","Indent Line"),alias:"Indent Line",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:2137,weight:100}})}run(e,t){let i=t._getViewModel();!i||(t.pushUndoStop(),t.executeCommands(this.id,Gi.indent(i.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}},gte=class extends we{constructor(){super({id:"editor.action.outdentLines",label:g("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:2135,weight:100}})}run(e,t){tg.Outdent.runEditorCommand(e,t,null)}},mte=class extends we{constructor(){super({id:"editor.action.insertLineBefore",label:g("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:3075,weight:100}})}run(e,t){let i=t._getViewModel();!i||(t.pushUndoStop(),t.executeCommands(this.id,Gi.lineInsertBefore(i.cursorConfig,t.getModel(),t.getSelections())))}},pte=class extends we{constructor(){super({id:"editor.action.insertLineAfter",label:g("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:2051,weight:100}})}run(e,t){let i=t._getViewModel();!i||(t.pushUndoStop(),t.executeCommands(this.id,Gi.lineInsertAfter(i.cursorConfig,t.getModel(),t.getSelections())))}},uB=class extends we{run(e,t){if(!t.hasModel())return;let i=t.getSelection(),n=this._getRangesToDelete(t),o=[];for(let l=0,c=n.length-1;l<c;l++){let d=n[l],h=n[l+1];D.intersectRanges(d,h)===null?o.push(d):n[l+1]=D.plusRange(d,h)}o.push(n[n.length-1]);let s=this._getEndCursorState(i,o),a=o.map(l=>vi.replace(l,""));t.pushUndoStop(),t.executeEdits(this.id,a,s),t.pushUndoStop()}},_te=class extends uB{constructor(){super({id:"deleteAllLeft",label:g("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:F.writable,kbOpts:{kbExpr:F.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let i=null,n=[],o=0;return t.forEach(s=>{let a;if(s.endColumn===1&&o>0){let l=s.startLineNumber-o;a=new he(l,s.startColumn,l,s.startColumn)}else a=new he(s.startLineNumber,s.startColumn,s.startLineNumber,s.startColumn);o+=s.endLineNumber-s.startLineNumber,s.intersectRanges(e)?i=a:n.push(a)}),i&&n.unshift(i),n}_getRangesToDelete(e){let t=e.getSelections();if(t===null)return[];let i=t,n=e.getModel();return n===null?[]:(i.sort(D.compareRangesUsingStarts),i=i.map(o=>{if(o.isEmpty())if(o.startColumn===1){let s=Math.max(1,o.startLineNumber-1),a=o.startLineNumber===1?1:n.getLineContent(s).length+1;return new D(s,a,o.startLineNumber,1)}else return new D(o.startLineNumber,1,o.startLineNumber,o.startColumn);else return new D(o.startLineNumber,1,o.endLineNumber,o.endColumn)}),i)}},bte=class extends uB{constructor(){super({id:"deleteAllRight",label:g("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:F.writable,kbOpts:{kbExpr:F.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let i=null,n=[];for(let o=0,s=t.length,a=0;o<s;o++){let l=t[o],c=new he(l.startLineNumber-a,l.startColumn,l.startLineNumber-a,l.startColumn);l.intersectRanges(e)?i=c:n.push(c)}return i&&n.unshift(i),n}_getRangesToDelete(e){let t=e.getModel();if(t===null)return[];let i=e.getSelections();if(i===null)return[];let n=i.map(o=>{if(o.isEmpty()){let s=t.getLineMaxColumn(o.startLineNumber);return o.startColumn===s?new D(o.startLineNumber,o.startColumn,o.startLineNumber+1,1):new D(o.startLineNumber,o.startColumn,o.startLineNumber,s)}return o});return n.sort(D.compareRangesUsingStarts),n}},vte=class extends we{constructor(){super({id:"editor.action.joinLines",label:g("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){let i=t.getSelections();if(i===null)return;let n=t.getSelection();if(n===null)return;i.sort(D.compareRangesUsingStarts);let o=[],s=i.reduce((u,f)=>u.isEmpty()?u.endLineNumber===f.startLineNumber?(n.equalsSelection(u)&&(n=f),f):f.startLineNumber>u.endLineNumber+1?(o.push(u),f):new he(u.startLineNumber,u.startColumn,f.endLineNumber,f.endColumn):f.startLineNumber>u.endLineNumber?(o.push(u),f):new he(u.startLineNumber,u.startColumn,f.endLineNumber,f.endColumn));o.push(s);let a=t.getModel();if(a===null)return;let l=[],c=[],d=n,h=0;for(let u=0,f=o.length;u<f;u++){let m=o[u],_=m.startLineNumber,w=1,y=0,C,E,L=a.getLineContent(m.endLineNumber).length-m.endColumn;if(m.isEmpty()||m.startLineNumber===m.endLineNumber){let I=m.getStartPosition();I.lineNumber<a.getLineCount()?(C=_+1,E=a.getLineMaxColumn(C)):(C=I.lineNumber,E=a.getLineMaxColumn(I.lineNumber))}else C=m.endLineNumber,E=a.getLineMaxColumn(C);let k=a.getLineContent(_);for(let I=_+1;I<=C;I++){let T=a.getLineContent(I),R=a.getLineFirstNonWhitespaceColumn(I);if(R>=1){let Z=!0;k===""&&(Z=!1),Z&&(k.charAt(k.length-1)===" "||k.charAt(k.length-1)==="	")&&(Z=!1,k=k.replace(/[\s\uFEFF\xA0]+$/g," "));let q=T.substr(R-1);k+=(Z?" ":"")+q,Z?y=q.length+1:y=q.length}else y=0}let M=new D(_,w,C,E);if(!M.isEmpty()){let I;m.isEmpty()?(l.push(vi.replace(M,k)),I=new he(M.startLineNumber-h,k.length-y+1,_-h,k.length-y+1)):m.startLineNumber===m.endLineNumber?(l.push(vi.replace(M,k)),I=new he(m.startLineNumber-h,m.startColumn,m.endLineNumber-h,m.endColumn)):(l.push(vi.replace(M,k)),I=new he(m.startLineNumber-h,m.startColumn,m.startLineNumber-h,k.length-L)),D.intersectRanges(M,n)!==null?d=I:c.push(I)}h+=M.endLineNumber-M.startLineNumber}c.unshift(d),t.pushUndoStop(),t.executeEdits(this.id,l,c),t.pushUndoStop()}},wte=class extends we{constructor(){super({id:"editor.action.transpose",label:g("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:F.writable})}run(e,t){let i=t.getSelections();if(i===null)return;let n=t.getModel();if(n===null)return;let o=[];for(let s=0,a=i.length;s<a;s++){let l=i[s];if(!l.isEmpty())continue;let c=l.getStartPosition(),d=n.getLineMaxColumn(c.lineNumber);if(c.column>=d){if(c.lineNumber===n.getLineCount())continue;let h=new D(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),u=n.getValueInRange(h).split("").reverse().join("");o.push(new Fn(new he(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),u))}else{let h=new D(c.lineNumber,Math.max(1,c.column-1),c.lineNumber,c.column+1),u=n.getValueInRange(h).split("").reverse().join("");o.push(new dp(h,u,new he(c.lineNumber,c.column+1,c.lineNumber,c.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}},CE=class extends we{run(e,t){let i=t.getSelections();if(i===null)return;let n=t.getModel();if(n===null)return;let o=t.getOption(117),s=[];for(let a of i)if(a.isEmpty()){let l=a.getStartPosition(),c=t.getConfiguredWordAtPosition(l);if(!c)continue;let d=new D(l.lineNumber,c.startColumn,l.lineNumber,c.endColumn),h=n.getValueInRange(d);s.push(vi.replace(d,this._modifyText(h,o)))}else{let l=n.getValueInRange(a);s.push(vi.replace(a,this._modifyText(l,o)))}t.pushUndoStop(),t.executeEdits(this.id,s),t.pushUndoStop()}},Cte=class extends CE{constructor(){super({id:"editor.action.transformToUppercase",label:g("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:F.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}},yte=class extends CE{constructor(){super({id:"editor.action.transformToLowercase",label:g("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:F.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}},mN=class{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}},qw=class extends CE{constructor(){super({id:"editor.action.transformToTitlecase",label:g("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:F.writable})}_modifyText(e,t){let i=qw.titleBoundary.get();return i?e.toLocaleLowerCase().replace(i,n=>n.toLocaleUpperCase()):e}};qw.titleBoundary=new mN("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");var Ju=class extends CE{constructor(){super({id:"editor.action.transformToSnakecase",label:g("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:F.writable})}_modifyText(e,t){let i=Ju.caseBoundary.get(),n=Ju.singleLetters.get();return!i||!n?e:e.replace(i,"$1_$2").replace(n,"$1_$2$3").toLocaleLowerCase()}};Ju.caseBoundary=new mN("(\\p{Ll})(\\p{Lu})","gmu");Ju.singleLetters=new mN("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");de(ote);de(rte);de(ste);de(ate);de(lte);de(cte);de(dte);de(hte);de(wE);de(ute);de(fte);de(gte);de(mte);de(pte);de(_te);de(bte);de(vte);de(wte);de(Cte);de(yte);Ju.caseBoundary.isSupported()&&Ju.singleLetters.isSupported()&&de(Ju);qw.titleBoundary.isSupported()&&de(qw);jt();nt();Ei();Yn();ut();Ee();re();He();Oi();kt();io();lt();ye();Wi();Fo();no();ke();Et();Li();pt();hi();rc();va();var mCe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},pN=function(r,e){return function(t,i){e(t,i,r)}},fB=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},Ste=new Se("LinkedEditingInputVisible",!1),Ete="linked-editing-decoration",$g=class gB extends ${constructor(e,t,i,n,o){super();this.languageConfigurationService=n,this._localToDispose=this._register(new J),this._editor=e,this._providers=i.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=Ste.bindTo(t),this._debounceInformation=o.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new J),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(s=>{(s.hasChanged(62)||s.hasChanged(82))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(e){return e.getContribution(gB.ID)}reinitialize(e){let t=this._editor.getModel(),i=t!==null&&(this._editor.getOption(62)||this._editor.getOption(82))&&this._providers.has(t);if(i===this._enabled&&!e||(this._enabled=i,this.clearRanges(),this._localToDispose.clear(),!i||t===null))return;this._localToDispose.add(xe.runAndSubscribe(t.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition()}));let n=new pr(this._debounceInformation.get(t)),o=()=>{var l;this._rangeUpdateTriggerPromise=n.trigger(()=>this.updateRanges(),(l=this._debounceDuration)!==null&&l!==void 0?l:this._debounceInformation.get(t))},s=new pr(0),a=l=>{this._rangeSyncTriggerPromise=s.trigger(()=>this._syncRanges(l))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{o()})),this._localToDispose.add(this._editor.onDidChangeModelContent(l=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){let c=t.getDecorationRange(this._currentDecorations[0]);if(c&&l.changes.every(d=>c.intersectRanges(d.range))){a(this._currentDecorations);return}}o()})),this._localToDispose.add({dispose:()=>{n.dispose(),s.dispose()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._currentDecorations||e.length===0)return;let t=this._editor.getModel(),i=t.getDecorationRange(e[0]);if(!i||i.startLineNumber!==i.endLineNumber)return this.clearRanges();let n=t.getValueInRange(i);if(this._currentWordPattern){let s=n.match(this._currentWordPattern);if((s?s[0].length:0)!==n.length)return this.clearRanges()}let o=[];for(let s=1,a=e.length;s<a;s++){let l=t.getDecorationRange(e[s]);if(!!l)if(l.startLineNumber!==l.endLineNumber)o.push({range:l,text:n});else{let c=t.getValueInRange(l),d=n,h=l.startColumn,u=l.endColumn,f=xc(c,d);h+=f,c=c.substr(f),d=d.substr(f);let m=Lm(c,d);u-=m,c=c.substr(0,c.length-m),d=d.substr(0,d.length-m),(h!==u||d.length!==0)&&o.push({range:new D(l.startLineNumber,h,l.endLineNumber,u),text:d})}}if(o.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;let s=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",o),this._editor._getViewModel().setPrevEditOperationType(s)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(e=!1){return fB(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}let t=this._editor.getPosition();if(!this._enabled&&!e||this._editor.getSelections().length>1){this.clearRanges();return}let i=this._editor.getModel(),n=i.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===n){if(t.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){let s=i.getDecorationRange(this._currentDecorations[0]);if(s&&s.containsPosition(t))return}}this._currentRequestPosition=t,this._currentRequestModelVersion=n;let o=xi(s=>fB(this,void 0,void 0,function*(){try{let a=new fn(!1),l=yield Dte(this._providers,i,t,s);if(this._debounceInformation.update(i,a.elapsed()),o!==this._currentRequest||(this._currentRequest=null,n!==i.getVersionId()))return;let c=[];l?.ranges&&(c=l.ranges),this._currentWordPattern=l?.wordPattern||this._languageWordPattern;let d=!1;for(let u=0,f=c.length;u<f;u++)if(D.containsPosition(c[u],t)){if(d=!0,u!==0){let m=c[u];c.splice(u,1),c.unshift(m)}break}if(!d){this.clearRanges();return}let h=c.map(u=>({range:u,options:gB.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,h)}catch(a){ws(a)||Ie(a),(this._currentRequest===o||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=o,o})}};$g.ID="editor.contrib.linkedEditing";$g.DECORATION=ot.register({description:"linked-editing",stickiness:0,className:Ete});$g=mCe([pN(1,Le),pN(2,ve),pN(3,en),pN(4,Co)],$g);var xte=class extends we{constructor(){super({id:"editor.action.linkedEditing",label:g("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:Ce.and(F.writable,F.hasRenameProvider),kbOpts:{kbExpr:F.editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){let i=e.get(Tt),[n,o]=Array.isArray(t)&&t||[void 0,void 0];return De.isUri(n)&&V.isIPosition(o)?i.openCodeEditor({resource:n},i.getActiveCodeEditor()).then(s=>{!s||(s.setPosition(o),s.invokeWithinContext(a=>(this.reportTelemetry(a,s),this.run(a,s))))},Ie):super.runCommand(e,t)}run(e,t){let i=$g.get(t);return i?Promise.resolve(i.updateRanges(!0)):Promise.resolve()}},pCe=Yi.bindToContribution($g.get);me(new pCe({id:"cancelLinkedEditingInput",precondition:Ste,handler:r=>r.clearRanges(),kbOpts:{kbExpr:F.editorTextFocus,weight:100+99,primary:9,secondary:[1033]}}));function Dte(r,e,t,i){let n=r.ordered(e);return WD(n.map(o=>()=>fB(this,void 0,void 0,function*(){try{return yield o.provideLinkedEditingRanges(e,t,i)}catch(s){Si(s);return}})),o=>!!o&&jn(o?.ranges))}var _Ce=W("editor.linkedEditingBackground",{dark:X.fromHex("#f00").transparent(.3),light:X.fromHex("#f00").transparent(.3),hc:X.fromHex("#f00").transparent(.3)},g("editorLinkedEditingBackground","Background color when the editor auto renames on type."));yt((r,e)=>{let t=r.getColor(_Ce);t&&e.addRule(`.monaco-editor .${Ete} { background: ${t}; border-left-color: ${t}; }`)});Ks("_executeLinkedEditingProvider",(r,e,t)=>{let{linkedEditingRangeProvider:i}=r.get(ve);return Dte(i,e,t,Qe.None)});st($g.ID,$g);de(xte);nt();Ei();ut();re();rs();xt();Vr();va();Oi();kt();Fo();rc();hi();jt();Ei();ut();re();ai();Oi();ye();ns();on();hi();var Lte=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},kte=class{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(e){return Lte(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,e)).then(t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}},yE=class{constructor(e){this._disposables=new J;let t=[];for(let[i,n]of e){let o=i.links.map(s=>new kte(s,n));t=yE._union(t,o),lb(i)&&this._disposables.add(i)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){let i=[],n,o,s,a;for(n=0,s=0,o=e.length,a=t.length;n<o&&s<a;){let l=e[n],c=t[s];if(D.areIntersectingOrTouching(l.range,c.range)){n++;continue}D.compareRangesUsingStarts(l.range,c.range)<0?(i.push(l),n++):(i.push(c),s++)}for(;n<o;n++)i.push(e[n]);for(;s<a;s++)i.push(t[s]);return i}};function mB(r,e,t){let i=[],n=r.ordered(e).reverse().map((o,s)=>Promise.resolve(o.provideLinks(e,t)).then(a=>{a&&(i[s]=[a,o])},Si));return Promise.all(n).then(()=>{let o=new yE(Il(i));return t.isCancellationRequested?(o.dispose(),new yE([])):o})}ht.registerCommand("_executeLinkProvider",(r,...e)=>Lte(void 0,void 0,void 0,function*(){let[t,i]=e;Yt(t instanceof De),typeof i!="number"&&(i=0);let{linkProvider:n}=r.get(ve),o=r.get(ii).getModel(t);if(!o)return[];let s=yield mB(n,o,Qe.None);if(!s)return[];for(let l=0;l<Math.min(i,s.links.length);l++)yield s.links[l].resolve(Qe.None);let a=s.links.slice(0);return s.dispose(),a}));ke();Li();pt();var bCe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},_N=function(r,e){return function(t,i){e(t,i,r)}},vCe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},Yw=class Ote extends ${constructor(e,t,i,n,o){super();this.editor=e,this.openerService=t,this.notificationService=i,this.languageFeaturesService=n,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=o.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new wt(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;let s=this._register(new o_(e));this._register(s.onMouseMoveOrRelevantKeyDown(([a,l])=>{this._onEditorMouseMove(a,l)})),this._register(s.onExecute(a=>{this.onEditorMouseUp(a)})),this._register(s.onCancel(a=>{this.cleanUpActiveLinkDecoration()})),this._register(e.onDidChangeConfiguration(a=>{!a.hasChanged(63)||(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(e.onDidChangeModelContent(a=>{!this.editor.hasModel()||this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(e.onDidChangeModel(a=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(e.onDidChangeModelLanguage(a=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(a=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}static get(e){return e.getContribution(Ote.ID)}computeLinksNow(){return vCe(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(63))return;let e=this.editor.getModel();if(!!this.providers.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=xi(t=>mB(this.providers,e,t));try{let t=new fn(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(e,t.elapsed()),e.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(t){Ie(t)}finally{this.computePromise=null}}})}updateDecorations(e){let t=this.editor.getOption(70)==="altKey",i=[],n=Object.keys(this.currentOccurrences);for(let a of n){let l=this.currentOccurrences[a];i.push(l.decorationId)}let o=[];if(e)for(let a of e)o.push(L_.decoration(a,t));let s=this.editor.deltaDecorations(i,o);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let a=0,l=s.length;a<l;a++){let c=new L_(e[a],s[a]);this.currentOccurrences[c.decorationId]=c}}_onEditorMouseMove(e,t){let i=this.editor.getOption(70)==="altKey";if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();let n=this.getLinkOccurrence(e.target.position);n&&this.editor.changeDecorations(o=>{n.activate(o,i),this.activeLinkDecorationId=n.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){let e=this.editor.getOption(70)==="altKey";if(this.activeLinkDecorationId){let t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(i=>{t.deactivate(i,e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;let t=this.getLinkOccurrence(e.target.position);!t||this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,i=!1){if(!this.openerService)return;let{link:n}=e;n.resolve(Qe.None).then(o=>{if(typeof o=="string"&&this.editor.hasModel()){let s=this.editor.getModel().uri;if(s.scheme===rt.file&&o.startsWith(`${rt.file}:`)){let a=De.parse(o);if(a.scheme===rt.file){let l=Wc(a),c=null;l.startsWith("/./")?c=`.${l.substr(1)}`:l.startsWith("//./")&&(c=`.${l.substr(2)}`),c&&(o=$$(s,c))}}}return this.openerService.open(o,{openToSide:t,fromUserGesture:i,allowContributedOpeners:!0,allowCommands:!0})},o=>{let s=o instanceof Error?o.message:o;s==="invalid"?this.notificationService.warn(g("invalid.url","Failed to open this link because it is not well-formed: {0}",n.url.toString())):s==="missing"?this.notificationService.warn(g("missing.url","Failed to open this link because its target is missing.")):Ie(o)})}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;let t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(let i of t){let n=this.currentOccurrences[i.id];if(n)return n}return null}isEnabled(e,t){return Boolean(e.target.type===6&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.computeLinks.cancel(),this.activeLinksList&&((e=this.activeLinksList)===null||e===void 0||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};Yw.ID="editor.linkDetector";Yw=bCe([_N(1,so),_N(2,si),_N(3,ve),_N(4,Co)],Yw);var Ite={general:ot.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:ot.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})},L_=class{constructor(e,t){this.link=e,this.decorationId=t}static decoration(e,t){return{range:e.range,options:L_._getOptions(e,t,!1)}}static _getOptions(e,t,i){let n=Object.assign({},i?Ite.active:Ite.general);return n.hoverMessage=wCe(e,t),n}activate(e,t){e.changeDecorationOptions(this.decorationId,L_._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,L_._getOptions(this.link,t,!1))}};function wCe(r,e){let t=r.url&&/^command:/i.test(r.url.toString()),i=r.tooltip?r.tooltip:t?g("links.navigate.executeCmd","Execute command"):g("links.navigate.follow","Follow link"),n=e?Je?g("links.navigate.kb.meta.mac","cmd + click"):g("links.navigate.kb.meta","ctrl + click"):Je?g("links.navigate.kb.alt.mac","option + click"):g("links.navigate.kb.alt","alt + click");if(r.url){let o="";if(/^command:/i.test(r.url.toString())){let a=r.url.toString().match(/^command:([^?#]+)/);if(a){let l=a[1];o=` "${g("tooltip.explanation","Execute command {0}",l)}"`}}return new Bo("",!0).appendMarkdown(`[${i}](${r.url.toString(!0).replace(/ /g,"%20")}${o}) (${n})`)}else return new Bo().appendText(`${i} (${n})`)}var Tte=class extends we{constructor(){super({id:"editor.action.openLink",label:g("label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){let i=Yw.get(t);if(!i||!t.hasModel())return;let n=t.getSelections();for(let o of n){let s=i.getLinkOccurrence(o.getEndPosition());s&&i.openLinkOccurrence(s,!1)}}};st(Yw.ID,Yw);de(Tte);yt((r,e)=>{let t=r.getColor(sv);t&&e.addRule(`.monaco-editor .detected-link-active { color: ${t} !important; }`)});xs();nt();Ha();re();kt();ye();mi();Wi();Us();Fo();ke();Mo();Et();Li();pt();hi();var CCe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},yCe=function(r,e){return function(t,i){e(t,i,r)}};function Gw(r,e){let t=e.filter(i=>!r.find(n=>n.equals(i)));if(t.length>=1){let i=t.map(o=>`line ${o.viewState.position.lineNumber} column ${o.viewState.position.column}`).join(", "),n=t.length===1?g("cursorAdded","Cursor added: {0}",i):g("cursorsAdded","Cursors added: {0}",i);Km(n)}}var Pte=class extends we{constructor(){super({id:"editor.action.insertCursorAbove",label:g("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:F.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:H.MenubarSelectionMenu,group:"3_multi",title:g({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,i){if(!t.hasModel())return;let n=!0;i&&i.logicalLine===!1&&(n=!1);let o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();let s=o.getCursorStates();o.setCursorStates(i.source,3,Zn.addCursorUp(o,s,n)),o.revealTopMostCursor(i.source),Gw(s,o.getCursorStates())}},Mte=class extends we{constructor(){super({id:"editor.action.insertCursorBelow",label:g("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:F.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:H.MenubarSelectionMenu,group:"3_multi",title:g({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,i){if(!t.hasModel())return;let n=!0;i&&i.logicalLine===!1&&(n=!1);let o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();let s=o.getCursorStates();o.setCursorStates(i.source,3,Zn.addCursorDown(o,s,n)),o.revealBottomMostCursor(i.source),Gw(s,o.getCursorStates())}},Ate=class extends we{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:g("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:F.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:H.MenubarSelectionMenu,group:"3_multi",title:g({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,i){if(!e.isEmpty()){for(let n=e.startLineNumber;n<e.endLineNumber;n++){let o=t.getLineMaxColumn(n);i.push(new he(n,o,n,o))}e.endColumn>1&&i.push(new he(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;let i=t.getModel(),n=t.getSelections(),o=t._getViewModel(),s=o.getCursorStates(),a=[];n.forEach(l=>this.getCursorsForSelection(l,i,a)),a.length>0&&t.setSelections(a),Gw(s,o.getCursorStates())}},Rte=class extends we{constructor(){super({id:"editor.action.addCursorsToBottom",label:g("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;let i=t.getSelections(),n=t.getModel().getLineCount(),o=[];for(let l=i[0].startLineNumber;l<=n;l++)o.push(new he(l,i[0].startColumn,l,i[0].endColumn));let s=t._getViewModel(),a=s.getCursorStates();o.length>0&&t.setSelections(o),Gw(a,s.getCursorStates())}},Fte=class extends we{constructor(){super({id:"editor.action.addCursorsToTop",label:g("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;let i=t.getSelections(),n=[];for(let a=i[0].startLineNumber;a>=1;a--)n.push(new he(a,i[0].startColumn,a,i[0].endColumn));let o=t._getViewModel(),s=o.getCursorStates();n.length>0&&t.setSelections(n),Gw(s,o.getCursorStates())}},SE=class{constructor(e,t,i){this.selections=e,this.revealRange=t,this.revealScrollType=i}},Zw=class{constructor(e,t,i,n,o,s,a){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=i,this.searchText=n,this.wholeWord=o,this.matchCase=s,this.currentMatch=a}static create(e,t){if(!e.hasModel())return null;let i=t.getState();if(!e.hasTextFocus()&&i.isRevealed&&i.searchString.length>0)return new Zw(e,t,!1,i.searchString,i.wholeWord,i.matchCase,null);let n=!1,o,s,a=e.getSelections();a.length===1&&a[0].isEmpty()?(n=!0,o=!0,s=!0):(o=i.wholeWord,s=i.matchCase);let l=e.getSelection(),c,d=null;if(l.isEmpty()){let h=e.getConfiguredWordAtPosition(l.getStartPosition());if(!h)return null;c=h.word,d=new he(l.startLineNumber,h.startColumn,l.startLineNumber,h.endColumn)}else c=e.getModel().getValueInRange(l).replace(/\r\n/g,`
`);return new Zw(e,t,n,c,o,s,d)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;let e=this._getNextMatch();if(!e)return null;let t=this._editor.getSelections();return new SE(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;let e=this._getNextMatch();if(!e)return null;let t=this._editor.getSelections();return new SE(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){let n=this.currentMatch;return this.currentMatch=null,n}this.findController.highlightFindOptions();let e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1);return i?new he(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;let e=this._getPreviousMatch();if(!e)return null;let t=this._editor.getSelections();return new SE(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;let e=this._getPreviousMatch();if(!e)return null;let t=this._editor.getSelections();return new SE(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){let n=this.currentMatch;return this.currentMatch=null,n}this.findController.highlightFindOptions();let e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1);return i?new he(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1,1073741824)):[]}},Kg=class extends ${constructor(e){super();this._sessionDispose=this._register(new J),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}static get(e){return e.getContribution(Kg.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){let t=Zw.create(this._editor,e);if(!t)return;this._session=t;let i={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(i.wholeWordOverride=1,i.matchCaseOverride=1,i.isRegexOverride=2),e.getState().change(i,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(n=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange(n=>{(n.matchCase||n.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){let e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;let i=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return i?new he(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):t}_applySessionResult(e){!e||(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(!!this._editor.hasModel()){if(!this._session){let t=this._editor.getSelections();if(t.length>1){let n=e.getState().matchCase;if(!$te(this._editor.getModel(),t,n)){let s=this._editor.getModel(),a=[];for(let l=0,c=t.length;l<c;l++)a[l]=this._expandEmptyToWord(s,t[l]);this._editor.setSelections(a);return}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null,i=e.getState();if(i.isRevealed&&i.searchString.length>0&&i.isRegex)t=this._editor.getModel().findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(117):null,!1,1073741824);else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll()}if(i.searchScope){let n=i.searchScope,o=[];t.forEach(s=>{n.forEach(a=>{s.range.endLineNumber<=a.endLineNumber&&s.range.startLineNumber>=a.startLineNumber&&o.push(s)})}),t=o}if(t.length>0){let n=this._editor.getSelection();for(let o=0,s=t.length;o<s;o++){let a=t[o];if(a.range.intersectRanges(n)){t[o]=t[0],t[0]=a;break}}this._setSelections(t.map(o=>new he(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn)))}}};Kg.ID="editor.contrib.multiCursorController";var I_=class extends we{run(e,t){let i=Kg.get(t);if(!i)return;let n=Ns.get(t);if(!n)return;let o=t._getViewModel();if(o){let s=o.getCursorStates();this._run(i,n),Gw(s,o.getCursorStates())}}},Bte=class extends I_{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:g("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:F.focus,primary:2082,weight:100},menuOpts:{menuId:H.MenubarSelectionMenu,group:"3_multi",title:g({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}},jte=class extends I_{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:g("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:H.MenubarSelectionMenu,group:"3_multi",title:g({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}},Wte=class extends I_{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:g("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:F.focus,primary:an(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}},Ute=class extends I_{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:g("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}},zte=class extends I_{constructor(){super({id:"editor.action.selectHighlights",label:g("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:F.focus,primary:3114,weight:100},menuOpts:{menuId:H.MenubarSelectionMenu,group:"3_multi",title:g({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}},Vte=class extends I_{constructor(){super({id:"editor.action.changeAll",label:g("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:Ce.and(F.writable,F.editorTextFocus),kbOpts:{kbExpr:F.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}},Hte=class{constructor(e,t,i,n,o){this._model=e,this._searchText=t,this._matchCase=i,this._wordSeparators=n,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,o&&this._model===o._model&&this._searchText===o._searchText&&this._matchCase===o._matchCase&&this._wordSeparators===o._wordSeparators&&this._modelVersionId===o._modelVersionId&&(this._cachedFindMatches=o._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(e=>e.range),this._cachedFindMatches.sort(D.compareRangesUsingStarts)),this._cachedFindMatches}},k_=class bN extends ${constructor(e,t){super();this._languageFeaturesService=t,this.editor=e,this._isEnabled=e.getOption(97),this.decorations=[],this.updateSoon=this._register(new wt(()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration(n=>{this._isEnabled=e.getOption(97)})),this._register(e.onDidChangeCursorSelection(n=>{!this._isEnabled||(n.selection.isEmpty()?n.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel(n=>{this._setState(null)})),this._register(e.onDidChangeModelContent(n=>{this._isEnabled&&this.updateSoon.schedule()}));let i=Ns.get(e);i&&this._register(i.getState().onFindReplaceStateChange(n=>{this._update()}))}_update(){this._setState(bN._createState(this.state,this._isEnabled,this.editor))}static _createState(e,t,i){if(!t||!i.hasModel())return null;let n=i.getSelection();if(n.startLineNumber!==n.endLineNumber)return null;let o=Kg.get(i);if(!o)return null;let s=Ns.get(i);if(!s)return null;let a=o.getSession(s);if(!a){let d=i.getSelections();if(d.length>1){let u=s.getState().matchCase;if(!$te(i.getModel(),d,u))return null}a=Zw.create(i,s)}if(!a||a.currentMatch||/^[ \t]+$/.test(a.searchText)||a.searchText.length>200)return null;let l=s.getState(),c=l.matchCase;if(l.isRevealed){let d=l.searchString;c||(d=d.toLowerCase());let h=a.searchText;if(c||(h=h.toLowerCase()),d===h&&a.matchCase===l.matchCase&&a.wholeWord===l.wholeWord&&!l.isRegex)return null}return new Hte(i.getModel(),a.searchText,a.matchCase,a.wholeWord?i.getOption(117):null,e)}_setState(e){if(this.state=e,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(!this.editor.hasModel())return;let t=this.editor.getModel();if(t.isTooLargeForTokenization())return;let i=this.state.findMatches(),n=this.editor.getSelections();n.sort(D.compareRangesUsingStarts);let o=[];for(let l=0,c=0,d=i.length,h=n.length;l<d;){let u=i[l];if(c>=h)o.push(u),l++;else{let f=D.compareRangesUsingStarts(u,n[c]);f<0?((n[c].isEmpty()||!D.areIntersecting(u,n[c]))&&o.push(u),l++):(f>0||l++,c++)}}let s=this._languageFeaturesService.documentHighlightProvider.has(t)&&this.editor.getOption(72),a=o.map(l=>({range:l,options:s?bN._SELECTION_HIGHLIGHT:bN._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,a)}dispose(){this._setState(null),super.dispose()}};k_.ID="editor.contrib.selectionHighlighter";k_._SELECTION_HIGHLIGHT_OVERVIEW=ot.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:rn(dv),position:Rr.Inline},overviewRuler:{color:rn(zL),position:Ar.Center}});k_._SELECTION_HIGHLIGHT=ot.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"});k_=CCe([yCe(1,ve)],k_);function $te(r,e,t){let i=Nte(r,e[0],!t);for(let n=1,o=e.length;n<o;n++){let s=e[n];if(s.isEmpty())return!1;let a=Nte(r,s,!t);if(i!==a)return!1}return!0}function Nte(r,e,t){let i=r.getValueInRange(e);return t?i.toLowerCase():i}st(Kg.ID,Kg);st(k_.ID,k_);de(Pte);de(Mte);de(Ate);de(Bte);de(jte);de(Wte);de(Ute);de(zte);de(Vte);de(Rte);de(Fte);re();kt();Wi();cn();Ei();ut();ai();Oi();lt();cn();xa();on();Et();hi();var Kte=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},ef={Visible:new Se("parameterHintsVisible",!1),MultipleSignatures:new Se("parameterHintsMultipleSignatures",!1)};function pB(r,e,t,i,n){return Kte(this,void 0,void 0,function*(){let o=r.ordered(e);for(let s of o)try{let a=yield s.provideSignatureHelp(e,t,n,i);if(a)return a}catch(a){Si(a)}})}ht.registerCommand("_executeSignatureHelpProvider",(r,...e)=>Kte(void 0,void 0,void 0,function*(){let[t,i,n]=e;Yt(De.isUri(t)),Yt(V.isIPosition(i)),Yt(typeof n=="string"||!n);let o=r.get(ve),s=yield r.get(Tn).createModelReference(t);try{let a=yield pB(o.signatureHelpProvider,s.object.textEditorModel,V.lift(i),{triggerKind:$a.Invoke,isRetrigger:!1,triggerCharacter:n},Qe.None);return a?(setTimeout(()=>a.dispose(),0),a.value):void 0}finally{s.dispose()}}));ke();Et();Ye();Be();xs();ln();Ee();re();He();ai();Vo();nt();ut();Ee();re();Rm();cn();var SCe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},qg;(function(r){r.Default={type:0};class e{constructor(n,o){this.request=n,this.previouslyActiveHints=o,this.type=2}}r.Pending=e;class t{constructor(n){this.hints=n,this.type=1}}r.Active=t})(qg||(qg={}));var Xw=class extends ${constructor(e,t,i=Xw.DEFAULT_DELAY){super();this._onChangedHints=this._register(new B),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=qg.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new kn),this.triggerChars=new Cd,this.retriggerChars=new Cd,this.triggerId=0,this.editor=e,this.providers=t,this.throttledDelayer=new pr(i),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(n=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(n=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(n=>this.onCursorChange(n))),this._register(this.editor.onDidChangeModelContent(n=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(n=>this.onDidType(n))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){this._state.type===2&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=qg.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){let i=this.editor.getModel();if(!i||!this.providers.has(i))return;let n=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(n),t).catch(Ie)}next(){if(this.state.type!==1)return;let e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t%e===e-1,n=this.editor.getOption(76).cycle;if((e<2||i)&&!n){this.cancel();return}this.updateActiveSignature(i&&n?0:t+1)}previous(){if(this.state.type!==1)return;let e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t===0,n=this.editor.getOption(76).cycle;if((e<2||i)&&!n){this.cancel();return}this.updateActiveSignature(i&&n?e-1:t-1)}updateActiveSignature(e){this.state.type===1&&(this.state=new qg.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return SCe(this,void 0,void 0,function*(){let t=this.state.type===1||this.state.type===2,i=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;let n=this._pendingTriggers.reduce(ECe);this._pendingTriggers=[];let o={triggerKind:n.triggerKind,triggerCharacter:n.triggerCharacter,isRetrigger:t,activeSignatureHelp:i};if(!this.editor.hasModel())return!1;let s=this.editor.getModel(),a=this.editor.getPosition();this.state=new qg.Pending(xi(l=>pB(this.providers,s,a,o,l)),i);try{let l=yield this.state.request;return e!==this.triggerId?(l?.dispose(),!1):!l||!l.value.signatures||l.value.signatures.length===0?(l?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new qg.Active(l.value),this._lastSignatureHelpResult.value=l,this._onChangedHints.fire(this.state.hints),!0)}catch(l){return e===this.triggerId&&(this.state=qg.Default),Ie(l),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new Cd,this.retriggerChars=new Cd;let e=this.editor.getModel();if(!!e)for(let t of this.providers.ordered(e)){for(let i of t.signatureHelpTriggerCharacters||[])this.triggerChars.add(i.charCodeAt(0)),this.retriggerChars.add(i.charCodeAt(0));for(let i of t.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(i.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;let t=e.length-1,i=e.charCodeAt(t);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:$a.TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){e.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:$a.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:$a.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(76).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}};Xw.DEFAULT_DELAY=120;function ECe(r,e){switch(e.triggerKind){case $a.Invoke:return e;case $a.ContentChange:return r;case $a.TriggerCharacter:default:return e}}ke();Et();Li();B0();pt();hi();var xCe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},vN=function(r,e){return function(t,i){e(t,i,r)}},Aa=le,DCe=bn("parameter-hints-next",p.chevronDown,g("parameterHintsNextIcon","Icon for show next parameter hint.")),LCe=bn("parameter-hints-previous",p.chevronUp,g("parameterHintsPreviousIcon","Icon for show previous parameter hint.")),EE=class qte extends ${constructor(e,t,i,n,o){super();this.editor=e,this.renderDisposeables=this._register(new J),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new da({editor:e},n,i)),this.model=this._register(new Xw(e,o.signatureHelpProvider)),this.keyVisible=ef.Visible.bindTo(t),this.keyMultipleSignatures=ef.MultipleSignatures.bindTo(t),this._register(this.model.onChangedHints(s=>{s?(this.show(),this.render(s)):this.hide()}))}createParameterHintDOMNodes(){let e=Aa(".editor-widget.parameter-hints-widget"),t=ee(e,Aa(".phwrapper"));t.tabIndex=-1;let i=ee(t,Aa(".controls")),n=ee(i,Aa(".button"+Qt.asCSSSelector(LCe))),o=ee(i,Aa(".overloads")),s=ee(i,Aa(".button"+Qt.asCSSSelector(DCe)));this._register(se(n,"click",u=>{Kt.stop(u),this.previous()})),this._register(se(s,"click",u=>{Kt.stop(u),this.next()}));let a=Aa(".body"),l=new Fc(a,{});this._register(l),t.appendChild(l.getDomNode());let c=ee(a,Aa(".signature")),d=ee(a,Aa(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:c,overloads:o,docs:d,scrollbar:l},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(u=>{this.visible&&this.editor.layoutContentWidget(this)}));let h=()=>{if(!this.domNodes)return;let u=this.editor.getOption(44);this.domNodes.element.style.fontSize=`${u.fontSize}px`,this.domNodes.element.style.lineHeight=`${u.lineHeight/u.fontSize}`};h(),this._register(xe.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(u=>u.hasChanged(44)).on(h,null)),this._register(this.editor.onDidLayoutChange(u=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){var t;if(this.renderDisposeables.clear(),!this.domNodes)return;let i=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",i),this.keyMultipleSignatures.set(i),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";let n=e.signatures[e.activeSignature];if(!n)return;let o=ee(this.domNodes.signature,Aa(".code")),s=this.editor.getOption(44);o.style.fontSize=`${s.fontSize}px`,o.style.fontFamily=s.fontFamily;let a=n.parameters.length>0,l=(t=n.activeParameter)!==null&&t!==void 0?t:e.activeParameter;if(a)this.renderParameters(o,n,l);else{let h=ee(o,Aa("span"));h.textContent=n.label}let c=n.parameters[l];if(c?.documentation){let h=Aa("span.documentation");if(typeof c.documentation=="string")h.textContent=c.documentation;else{let u=this.renderMarkdownDocs(c.documentation);h.appendChild(u.element)}ee(this.domNodes.docs,Aa("p",{},h))}if(n.documentation!==void 0)if(typeof n.documentation=="string")ee(this.domNodes.docs,Aa("p",{},n.documentation));else{let h=this.renderMarkdownDocs(n.documentation);ee(this.domNodes.docs,h.element)}let d=this.hasDocs(n,c);if(this.domNodes.signature.classList.toggle("has-docs",d),this.domNodes.docs.classList.toggle("empty",!d),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,c){let h="",u=n.parameters[l];Array.isArray(u.label)?h=n.label.substring(u.label[0],u.label[1]):h=u.label,u.documentation&&(h+=typeof u.documentation=="string"?`, ${u.documentation}`:`, ${u.documentation.value}`),n.documentation&&(h+=typeof n.documentation=="string"?`, ${n.documentation}`:`, ${n.documentation.value}`),this.announcedLabel!==h&&(Sn(g("hint","{0}, hint",h)),this.announcedLabel=h)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){let t=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var i;(i=this.domNodes)===null||i===void 0||i.scrollbar.scanDomNode()}}));return t.element.classList.add("markdown-docs"),t}hasDocs(e,t){return!!(t&&typeof t.documentation=="string"&&BC(t.documentation).length>0||t&&typeof t.documentation=="object"&&BC(t.documentation).value.length>0||e.documentation&&typeof e.documentation=="string"&&BC(e.documentation).length>0||e.documentation&&typeof e.documentation=="object"&&BC(e.documentation.value).length>0)}renderParameters(e,t,i){let[n,o]=this.getParameterLabelOffsets(t,i),s=document.createElement("span");s.textContent=t.label.substring(0,n);let a=document.createElement("span");a.textContent=t.label.substring(n,o),a.className="parameter active";let l=document.createElement("span");l.textContent=t.label.substring(o),ee(e,s,a,l)}getParameterLabelOffsets(e,t){let i=e.parameters[t];if(i){if(Array.isArray(i.label))return i.label;if(i.label.length){let n=new RegExp(`(\\W|^)${Io(i.label)}(?=\\W|$)`,"g");n.test(e.label);let o=n.lastIndex-i.label.length;return o>=0?[o,n.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return qte.ID}trigger(e){this.model.trigger(e,0)}updateMaxHeight(){if(!this.domNodes)return;let t=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=t;let i=this.domNodes.element.getElementsByClassName("phwrapper");i.length&&(i[0].style.maxHeight=t)}};EE.ID="editor.widget.parameterHintsWidget";EE=xCe([vN(1,Le),vN(2,so),vN(3,Gt),vN(4,ve)],EE);var kCe=W("editorHoverWidget.highlightForeground",{dark:Nc,light:Nc,hc:Nc},g("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));yt((r,e)=>{let t=r.getColor(jL);if(t){let c=r.type===$s.HIGH_CONTRAST?2:1;e.addRule(`.monaco-editor .parameter-hints-widget { border: ${c}px solid ${t}; }`),e.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${t.transparent(.5)}; }`)}let i=r.getColor(iu);i&&e.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${i}; }`);let n=r.getColor(Kf);n&&e.addRule(`.monaco-editor .parameter-hints-widget a { color: ${n}; }`);let o=r.getColor(qf);o&&e.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${o}; }`);let s=r.getColor(BL);s&&e.addRule(`.monaco-editor .parameter-hints-widget { color: ${s}; }`);let a=r.getColor(LL);a&&e.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${a}; }`);let l=r.getColor(kCe);l&&e.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${l}}`)});var ICe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},OCe=function(r,e){return function(t,i){e(t,i,r)}},O_=class Yte extends ${constructor(e,t){super();this.editor=e,this.widget=this._register(t.createInstance(EE,this.editor))}static get(e){return e.getContribution(Yte.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(e){this.widget.trigger(e)}};O_.ID="editor.controller.parameterHints";O_=ICe([OCe(1,ze)],O_);var Zte=class extends we{constructor(){super({id:"editor.action.triggerParameterHints",label:g("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:F.hasSignatureHelpProvider,kbOpts:{kbExpr:F.editorTextFocus,primary:3082,weight:100}})}run(e,t){let i=O_.get(t);i&&i.trigger({triggerKind:$a.Invoke})}};st(O_.ID,O_);de(Zte);var _B=100+75,bB=Yi.bindToContribution(O_.get);me(new bB({id:"closeParameterHints",precondition:ef.Visible,handler:r=>r.cancel(),kbOpts:{weight:_B,kbExpr:F.focus,primary:9,secondary:[1033]}}));me(new bB({id:"showPrevParameterHint",precondition:Ce.and(ef.Visible,ef.MultipleSignatures),handler:r=>r.previous(),kbOpts:{weight:_B,kbExpr:F.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}}));me(new bB({id:"showNextParameterHint",precondition:Ce.and(ef.Visible,ef.MultipleSignatures),handler:r=>r.next(),kbOpts:{weight:_B,kbExpr:F.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));xs();nt();Ei();ut();re();ai();Oi();Jp();kt();io();lt();ye();Wi();_0();ke();Sp();Et();Ye();Vl();Vc();as();re();lt();ke();Et();Li();pt();var TCe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},vB=function(r,e){return function(t,i){e(t,i,r)}},xE=new Se("renameInputVisible",!1,g("renameInputVisible","Whether the rename input widget is visible")),wN=class{constructor(e,t,i,n,o){this._editor=e,this._acceptKeybindings=t,this._themeService=i,this._keybindingService=n,this._disposables=new J,this.allowEditorOverflow=!0,this._visibleContextKey=xE.bindTo(o),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(44)&&this._updateFont()})),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",g("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);let e=()=>{var t,i;let[n,o]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(n),this._label.innerText=g({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(t=this._keybindingService.lookupKeybinding(n))===null||t===void 0?void 0:t.getLabel(),(i=this._keybindingService.lookupKeybinding(o))===null||i===void 0?void 0:i.getLabel())};e(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(e)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(e){var t,i,n,o;if(!this._input||!this._domNode)return;let s=e.getColor(Ql);this._domNode.style.backgroundColor=String((t=e.getColor(or))!==null&&t!==void 0?t:""),this._domNode.style.boxShadow=s?` 0 0 8px 2px ${s}`:"",this._domNode.style.color=String((i=e.getColor(nv))!==null&&i!==void 0?i:""),this._input.style.backgroundColor=String((n=e.getColor(iv))!==null&&n!==void 0?n:"");let a=e.getColor(ov);this._input.style.borderWidth=a?"1px":"0px",this._input.style.borderStyle=a?"solid":"none",this._input.style.borderColor=(o=a?.toString())!==null&&o!==void 0?o:"none"}_updateFont(){if(!this._input||!this._label)return;let e=this._editor.getOption(44);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=`${e.fontSize}px`,this._label.style.fontSize=`${e.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(e){e||this.cancelInput(!0)}acceptInput(e){this._currentAcceptInput&&this._currentAcceptInput(e)}cancelInput(e){this._currentCancelInput&&this._currentCancelInput(e)}getInput(e,t,i,n,o,s){this._domNode.classList.toggle("preview",o),this._position=new V(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",i.toString()),this._input.setAttribute("selectionEnd",n.toString()),this._input.size=Math.max((e.endColumn-e.startColumn)*1.1,20);let a=new J;return new Promise(l=>{this._currentCancelInput=c=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,l(c),!0),this._currentAcceptInput=c=>{if(this._input.value.trim().length===0||this._input.value===t){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,l({newName:this._input.value,wantsPreview:o&&c})},a.add(s.onCancellationRequested(()=>this.cancelInput(!0))),a.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{a.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};wN=TCe([vB(2,Ft),vB(3,Di),vB(4,Le)],wN);hi();var NCe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},T_=function(r,e){return function(t,i){e(t,i,r)}},N_=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},CN=class{constructor(e,t,i){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=i.ordered(e)}hasProvider(){return this._providers.length>0}resolveRenameLocation(e){return N_(this,void 0,void 0,function*(){let t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){let n=this._providers[this._providerRenameIdx];if(!n.resolveRenameLocation)break;let o=yield n.resolveRenameLocation(this.model,this.position,e);if(!!o){if(o.rejectReason){t.push(o.rejectReason);continue}return o}}let i=this.model.getWordAtPosition(this.position);return i?{range:new D(this.position.lineNumber,i.startColumn,this.position.lineNumber,i.endColumn),text:i.word,rejectReason:t.length>0?t.join(`
`):void 0}:{range:D.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join(`
`):void 0}})}provideRenameEdits(e,t){return N_(this,void 0,void 0,function*(){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)})}_provideRenameEdits(e,t,i,n){return N_(this,void 0,void 0,function*(){let o=this._providers[t];if(!o)return{edits:[],rejectReason:i.join(`
`)};let s=yield o.provideRenameEdits(this.model,this.position,e,n);if(s){if(s.rejectReason)return this._provideRenameEdits(e,t+1,i.concat(s.rejectReason),n)}else return this._provideRenameEdits(e,t+1,i.concat(g("no result","No result.")),n);return s})}};function PCe(r,e,t,i){return N_(this,void 0,void 0,function*(){let n=new CN(e,t,r),o=yield n.resolveRenameLocation(Qe.None);return o?.rejectReason?{edits:[],rejectReason:o.rejectReason}:n.provideRenameEdits(i,Qe.None)})}var P_=class Gte{constructor(e,t,i,n,o,s,a,l){this.editor=e,this._instaService=t,this._notificationService=i,this._bulkEditService=n,this._progressService=o,this._logService=s,this._configService=a,this._languageFeaturesService=l,this._dispoableStore=new J,this._cts=new Ki,this._renameInputField=this._dispoableStore.add(new el(()=>this._dispoableStore.add(this._instaService.createInstance(wN,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(e){return e.getContribution(Gte.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){var e,t;return N_(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;let i=this.editor.getPosition(),n=new CN(this.editor.getModel(),i,this._languageFeaturesService.renameProvider);if(!n.hasProvider())return;this._cts=new Ou(this.editor,5);let o;try{let u=n.resolveRenameLocation(this._cts.token);this._progressService.showWhile(u,250),o=yield u}catch(u){(e=Kr.get(this.editor))===null||e===void 0||e.showMessage(u||g("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),i);return}if(!o)return;if(o.rejectReason){(t=Kr.get(this.editor))===null||t===void 0||t.showMessage(o.rejectReason,i);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new Ou(this.editor,5,o.range);let s=this.editor.getSelection(),a=0,l=o.text.length;!D.isEmpty(s)&&!D.spansMultipleLines(s)&&D.containsRange(o.range,s)&&(a=Math.max(0,s.startColumn-o.range.startColumn),l=Math.min(o.range.endColumn,s.endColumn)-o.range.startColumn);let c=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),d=yield this._renameInputField.value.getInput(o.range,o.text,a,l,c,this._cts.token);if(typeof d=="boolean"){d&&this.editor.focus();return}this.editor.focus();let h=kb(n.provideRenameEdits(d.newName,this._cts.token),this._cts.token).then(u=>N_(this,void 0,void 0,function*(){if(!(!u||!this.editor.hasModel())){if(u.rejectReason){this._notificationService.info(u.rejectReason);return}this.editor.setSelection(D.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(Op.convert(u),{editor:this.editor,showPreview:d.wantsPreview,label:g("label","Renaming '{0}'",o?.text),quotableLabel:g("quotableLabel","Renaming {0}",o?.text)}).then(f=>{f.ariaSummary&&Sn(g("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",o.text,d.newName,f.ariaSummary))}).catch(f=>{this._notificationService.error(g("rename.failedApply","Rename failed to apply edits")),this._logService.error(f)})}}),u=>{this._notificationService.error(g("rename.failed","Rename failed to compute edits")),this._logService.error(u)});return this._progressService.showWhile(h,250),h})}acceptRenameInput(e){this._renameInputField.value.acceptInput(e)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};P_.ID="editor.contrib.renameController";P_=NCe([T_(1,ze),T_(2,si),T_(3,Xv),T_(4,ea),T_(5,go),T_(6,Fb),T_(7,ve)],P_);var Xte=class extends we{constructor(){super({id:"editor.action.rename",label:g("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:Ce.and(F.writable,F.hasRenameProvider),kbOpts:{kbExpr:F.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){let i=e.get(Tt),[n,o]=Array.isArray(t)&&t||[void 0,void 0];return De.isUri(n)&&V.isIPosition(o)?i.openCodeEditor({resource:n},i.getActiveCodeEditor()).then(s=>{!s||(s.setPosition(o),s.invokeWithinContext(a=>(this.reportTelemetry(a,s),this.run(a,s))))},Ie):super.runCommand(e,t)}run(e,t){let i=P_.get(t);return i?i.run():Promise.resolve()}};st(P_.ID,P_);de(Xte);var wB=Yi.bindToContribution(P_.get);me(new wB({id:"acceptRenameInput",precondition:xE,handler:r=>r.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:F.focus,primary:3}}));me(new wB({id:"acceptRenameInputWithPreview",precondition:Ce.and(xE,Ce.has("config.editor.rename.enablePreview")),handler:r=>r.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:F.focus,primary:1024+3}}));me(new wB({id:"cancelRenameInput",precondition:xE,handler:r=>r.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:F.focus,primary:9,secondary:[1033]}}));Ks("_executeDocumentRenameProvider",function(r,e,t,...i){let[n]=i;Yt(typeof n=="string");let{renameProvider:o}=r.get(ve);return PCe(o,e,t,n)});Ks("_executePrepareRename",function(r,e,t){return N_(this,void 0,void 0,function*(){let{renameProvider:i}=r.get(ve),o=yield new CN(e,t,i).resolveRenameLocation(Qe.None);if(o?.rejectReason)throw new Error(o.rejectReason);return o})});Ti.as(al.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:g("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});jt();Ei();ut();kt();lt();ye();mi();Wi();He();ye();var CB=class{provideSelectionRanges(e,t){let i=[];for(let n of t){let o=[];i.push(o),this._addInWordRanges(o,e,n),this._addWordRanges(o,e,n),this._addWhitespaceLine(o,e,n),o.push({range:e.getFullModelRange()})}return i}_addInWordRanges(e,t,i){let n=t.getWordAtPosition(i);if(!n)return;let{word:o,startColumn:s}=n,a=i.column-s,l=a,c=a,d=0;for(;l>=0;l--){let h=o.charCodeAt(l);if(l!==a&&(h===95||h===45))break;if(md(h)&&qa(d))break;d=h}for(l+=1;c<o.length;c++){let h=o.charCodeAt(c);if(qa(h)&&md(d))break;if(h===95||h===45)break;d=h}l<c&&e.push({range:new D(i.lineNumber,s+l,i.lineNumber,s+c)})}_addWordRanges(e,t,i){let n=t.getWordAtPosition(i);n&&e.push({range:new D(i.lineNumber,n.startColumn,i.lineNumber,n.endColumn)})}_addWhitespaceLine(e,t,i){t.getLineLength(i.lineNumber)>0&&t.getLineFirstNonWhitespaceColumn(i.lineNumber)===0&&t.getLineLastNonWhitespaceColumn(i.lineNumber)===0&&e.push({range:new D(i.lineNumber,1,i.lineNumber,t.getLineMaxColumn(i.lineNumber))})}};ke();Mo();on();hi();xa();ai();Oi();var MCe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},ACe=function(r,e){return function(t,i){e(t,i,r)}},yN=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},SN=class{constructor(e,t){this.index=e,this.ranges=t}mov(e){let t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;let i=new SN(t,this.ranges);return i.ranges[t].equalsRange(this.ranges[this.index])?i.mov(e):i}},Qw=class Qte{constructor(e,t){this._editor=e,this._languageFeaturesService=t,this._ignoreSelection=!1}static get(e){return e.getContribution(Qte.ID)}dispose(){var e;(e=this._selectionListener)===null||e===void 0||e.dispose()}run(e){return yN(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;let t=this._editor.getSelections(),i=this._editor.getModel();if(this._state||(yield tie(this._languageFeaturesService.selectionRangeProvider,i,t.map(o=>o.getPosition()),this._editor.getOption(102),Qe.None).then(o=>{var s;if(!(!jn(o)||o.length!==t.length)&&!(!this._editor.hasModel()||!Xn(this._editor.getSelections(),t,(a,l)=>a.equalsSelection(l)))){for(let a=0;a<o.length;a++)o[a]=o[a].filter(l=>l.containsPosition(t[a].getStartPosition())&&l.containsPosition(t[a].getEndPosition())),o[a].unshift(t[a]);this._state=o.map(a=>new SN(0,a)),(s=this._selectionListener)===null||s===void 0||s.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var a;this._ignoreSelection||((a=this._selectionListener)===null||a===void 0||a.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(o=>o.mov(e));let n=this._state.map(o=>he.fromPositions(o.ranges[o.index].getStartPosition(),o.ranges[o.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(n)}finally{this._ignoreSelection=!1}})}};Qw.ID="editor.contrib.smartSelectController";Qw=MCe([ACe(1,ve)],Qw);var yB=class extends we{constructor(e,t){super(t);this._forward=e}run(e,t){return yN(this,void 0,void 0,function*(){let i=Qw.get(t);i&&(yield i.run(this._forward))})}},Jte=class extends yB{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:g("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:F.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:H.MenubarSelectionMenu,group:"1_basic",title:g({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}};ht.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");var eie=class extends yB{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:g("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:F.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:H.MenubarSelectionMenu,group:"1_basic",title:g({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}};st(Qw.ID,Qw);de(Jte);de(eie);function tie(r,e,t,i,n){return yN(this,void 0,void 0,function*(){let o=r.all(e).concat(new CB);o.length===1&&o.unshift(new gs);let s=[],a=[];for(let l of o)s.push(Promise.resolve(l.provideSelectionRanges(e,t,n)).then(c=>{if(jn(c)&&c.length===t.length)for(let d=0;d<t.length;d++){a[d]||(a[d]=[]);for(let h of c[d])D.isIRange(h.range)&&D.containsPosition(h.range,t[d])&&a[d].push(D.lift(h.range))}},Si));return yield Promise.all(s),a.map(l=>{if(l.length===0)return[];l.sort((u,f)=>V.isBefore(u.getStartPosition(),f.getStartPosition())?1:V.isBefore(f.getStartPosition(),u.getStartPosition())||V.isBefore(u.getEndPosition(),f.getEndPosition())?-1:V.isBefore(f.getEndPosition(),u.getEndPosition())?1:0);let c=[],d;for(let u of l)(!d||D.containsRange(u,d)&&!D.equalsRange(u,d))&&(c.push(u),d=u);if(!i.selectLeadingAndTrailingWhitespace)return c;let h=[c[0]];for(let u=1;u<c.length;u++){let f=c[u-1],m=c[u];if(m.startLineNumber!==f.startLineNumber||m.endLineNumber!==f.endLineNumber){let _=new D(f.startLineNumber,e.getLineFirstNonWhitespaceColumn(f.startLineNumber),f.endLineNumber,e.getLineLastNonWhitespaceColumn(f.endLineNumber));_.containsRange(f)&&!_.equalsRange(f)&&m.containsRange(_)&&!m.equalsRange(_)&&h.push(_);let w=new D(f.startLineNumber,1,f.endLineNumber,e.getLineMaxColumn(f.endLineNumber));w.containsRange(f)&&!w.equalsRange(_)&&m.containsRange(w)&&!m.equalsRange(w)&&h.push(w)}h.push(m)}return h})})}ht.registerCommand("_executeSelectionRangeProvider",function(r,...e){return yN(this,void 0,void 0,function*(){let[t,i]=e;Yt(De.isUri(t));let n=r.get(ve).selectionRangeProvider,o=yield r.get(Tn).createModelReference(t);try{return tie(n,o.object.textEditorModel,i,{selectLeadingAndTrailingWhitespace:!0},Qe.None)}finally{o.dispose()}})});va();kt();ke();var iie=class extends we{constructor(){super({id:"editor.action.forceRetokenize",label:g("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(e,t){if(!t.hasModel())return;let i=t.getModel();i.resetTokenization();let n=new fn(!0);i.forceTokenization(i.getLineCount()),n.stop(),console.log(`tokenization took ${n.elapsed()}`)}};de(iie);xs();kt();ke();var DE=class extends we{constructor(){super({id:DE.ID,label:g({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(e,t){let n=!Qb.getTabFocusMode();Qb.setTabFocusMode(n),n?Sn(g("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):Sn(g("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}};DE.ID="editor.action.toggleTabFocusMode";de(DE);nt();ln();re();xt();He();kt();Fo();vu();Vo();Be();ss();re();Ye();Be();os();Ee();re();Li();pt();var RCe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},FCe=function(r,e){return function(t,i){e(t,i,r)}},EN=class extends ${constructor(e,t,i={},n){var o;super();this._link=t,this._enabled=!0,this.el=ee(e,le("a.monaco-link",{tabIndex:(o=t.tabIndex)!==null&&o!==void 0?o:0,href:t.href,title:t.title},t.label)),this.el.setAttribute("role","button");let s=this._register(new oi(this.el,"click")),a=this._register(new oi(this.el,"keypress")),l=xe.chain(a.event).map(h=>new $t(h)).filter(h=>h.keyCode===3).event,c=this._register(new oi(this.el,li.Tap)).event;this._register(zt.addTarget(this.el));let d=xe.any(s.event,l,c);this._register(d(h=>{!this.enabled||(Kt.stop(h,!0),i?.opener?i.opener(this._link.href):n.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(e){e?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=e}};EN=RCe([FCe(3,so)],EN);yt((r,e)=>{let t=r.getColor(Kf);t&&e.addRule(`.monaco-link { color: ${t}; }`);let i=r.getColor(qf);i&&e.addRule(`.monaco-link:hover { color: ${i}; }`)});pt();var nie=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},oie=function(r,e){return function(t,i){e(t,i,r)}},BCe=26,xN=class extends ${constructor(e,t){super();this._editor=e,this.instantiationService=t,this.banner=this._register(this.instantiationService.createInstance(SB))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(e){this.banner.show(Object.assign(Object.assign({},e),{onClose:()=>{this.hide(),e.onClose&&e.onClose()}})),this._editor.setBanner(this.banner.element,BCe)}};xN=nie([oie(1,ze)],xN);var SB=class extends ${constructor(e){super();this.instantiationService=e,this.markdownRenderer=this.instantiationService.createInstance(da,{}),this.element=le("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(e){if(e.ariaLabel)return e.ariaLabel;if(typeof e.message=="string")return e.message}getBannerMessage(e){if(typeof e=="string"){let t=le("span");return t.innerText=e,t}return this.markdownRenderer.render(e).element}clear(){nn(this.element)}show(e){nn(this.element);let t=this.getAriaLabel(e);t&&this.element.setAttribute("aria-label",t);let i=ee(this.element,le("div.icon-container"));i.setAttribute("aria-hidden","true"),e.icon&&i.appendChild(le(`div${Qt.asCSSSelector(e.icon)}`));let n=ee(this.element,le("div.message-container"));if(n.setAttribute("aria-hidden","true"),n.appendChild(this.getBannerMessage(e.message)),this.messageActionsContainer=ee(this.element,le("div.message-actions-container")),e.actions)for(let s of e.actions)this._register(this.instantiationService.createInstance(EN,this.messageActionsContainer,Object.assign(Object.assign({},s),{tabIndex:-1}),{}));let o=ee(this.element,le("div.action-container"));this.actionBar=this._register(new yr(o)),this.actionBar.push(this._register(new Kn("banner.close","Close Banner",Qt.asClassName(Qk),!0,()=>{typeof e.onClose=="function"&&e.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};SB=nie([oie(0,ze)],SB);ke();Fr();Ye();var LB=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Jw=function(r,e){return function(t,i){e(t,i,r)}},xr=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},jCe=bn("extensions-warning-message",p.warning,g("warningIcon","Icon shown with a warning message in the extensions editor.")),eC=class extends ${constructor(e,t,i,n){super();this._editor=e,this._editorWorkerService=t,this._workspaceTrustService=i,this._highlighter=null,this._bannerClosed=!1,this._updateState=o=>{if(o&&o.hasMore){if(this._bannerClosed)return;let s=Math.max(o.ambiguousCharacterCount,o.nonBasicAsciiCharacterCount,o.invisibleCharacterCount),a;if(o.nonBasicAsciiCharacterCount>=s)a={message:g("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new R_};else if(o.ambiguousCharacterCount>=s)a={message:g("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new tf};else if(o.invisibleCharacterCount>=s)a={message:g("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new A_};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:a.message,icon:jCe,actions:[{label:a.command.shortLabel,href:`command:${a.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(n.createInstance(xN,e)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=e.getOption(113),this._register(i.onDidChangeTrust(o=>{this._updateHighlighter()})),this._register(e.onDidChangeConfiguration(o=>{o.hasChanged(113)&&(this._options=e.getOption(113),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;let e=WCe(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([e.nonBasicASCII,e.ambiguousCharacters,e.invisibleCharacters].every(i=>i===!1))return;let t={nonBasicASCII:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments,includeStrings:e.includeStrings,allowedCodePoints:Object.keys(e.allowedCharacters).map(i=>i.codePointAt(0)),allowedLocales:Object.keys(e.allowedLocales).map(i=>i==="_os"?new Intl.NumberFormat().resolvedOptions().locale:i==="_vscode"?Aj:i)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new EB(this._editor,t,this._updateState,this._editorWorkerService):this._highlighter=new sie(this._editor,t,this._updateState)}getDecorationInfo(e){return this._highlighter?this._highlighter.getDecorationInfo(e):null}};eC.ID="editor.contrib.unicodeHighlighter";eC=LB([Jw(1,Yo),Jw(2,_I),Jw(3,ze)],eC);function WCe(r,e){return{nonBasicASCII:e.nonBasicASCII===Bs?!r:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments===Bs?!r:e.includeComments,includeStrings:e.includeStrings===Bs?!r:e.includeStrings,allowedCharacters:e.allowedCharacters,allowedLocales:e.allowedLocales}}var EB=class extends ${constructor(e,t,i,n){super();this._editor=e,this._options=t,this._updateState=i,this._editorWorkerService=n,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new wt(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[]));return}let e=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(t=>{if(this._model.isDisposed()||this._model.getVersionId()!==e)return;this._updateState(t);let i=[];if(!t.hasMore)for(let n of t.ranges)i.push({range:n,options:M_.instance.getDecorationFromOptions(this._options)});this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),i))})}getDecorationInfo(e){if(!this._decorationIds.has(e))return null;let t=this._editor.getModel(),i=t.getDecorationRange(e),n={range:i,options:M_.instance.getDecorationFromOptions(this._options),id:e,ownerId:0};if(!Lk(t,n))return null;let o=t.getValueInRange(i);return{reason:aie(o,this._options),inComment:kk(t,n),inString:Ik(t,n)}}};EB=LB([Jw(3,Yo)],EB);var sie=class extends ${constructor(e,t,i){super();this._editor=e,this._options=t,this._updateState=i,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new wt(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[]));return}let e=this._editor.getVisibleRanges(),t=[],i={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(let n of e){let o=Rb.computeUnicodeHighlights(this._model,this._options,n);for(let s of o.ranges)i.ranges.push(s);i.ambiguousCharacterCount+=i.ambiguousCharacterCount,i.invisibleCharacterCount+=i.invisibleCharacterCount,i.nonBasicAsciiCharacterCount+=i.nonBasicAsciiCharacterCount,i.hasMore=i.hasMore||o.hasMore}if(!i.hasMore)for(let n of i.ranges)t.push({range:n,options:M_.instance.getDecorationFromOptions(this._options)});this._updateState(i),this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),t))}getDecorationInfo(e){if(!this._decorationIds.has(e))return null;let t=this._editor.getModel(),i=t.getDecorationRange(e),n=t.getValueInRange(i),o={range:i,options:M_.instance.getDecorationFromOptions(this._options),id:e,ownerId:0};return Lk(t,o)?{reason:aie(n,this._options),inComment:kk(t,o),inString:Ik(t,o)}:null}},xB=class{constructor(e,t,i){this._editor=e,this._languageService=t,this._openerService=i,this.hoverOrdinal=4}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];let i=this._editor.getModel(),n=this._editor.getContribution(eC.ID);if(!n)return[];let o=[],s=300;for(let a of t){let l=n.getDecorationInfo(a.id);if(!l)continue;let d=i.getValueInRange(a.range).codePointAt(0),h=rie(d),u;switch(l.reason.kind){case 0:u=g("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",h,rie(l.reason.confusableWith.codePointAt(0)));break;case 1:u=g("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",h);break;case 2:u=g("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",h);break}let f={codePoint:d,reason:l.reason,inComment:l.inComment,inString:l.inString},m=g("unicodeHighlight.adjustSettings","Adjust settings"),_=[{value:`${u} [${m}](command:${tC.ID}?${encodeURIComponent(JSON.stringify(f))})`,isTrusted:!0}];o.push(new uc(this,a.range,_,s++))}return o}renderHoverParts(e,t){return Z7(e,t,this._editor,this._languageService,this._openerService)}};xB=LB([Jw(1,Gt),Jw(2,so)],xB);function DB(r){return`U+${r.toString(16).padStart(4,"0")}`}function rie(r){let e=`\`${DB(r)}\``;return Ka.isInvisibleCharacter(r)||(e+=` "${`${UCe(r)}`}"`),e}function UCe(r){return r===96?"`` ` ``":"`"+String.fromCodePoint(r)+"`"}function aie(r,e){return Rb.computeUnicodeHighlightReason(r,e)}var M_=class{constructor(){this.map=new Map}getDecorationFromOptions(e){return this.getDecoration(!e.includeComments,!e.includeStrings)}getDecoration(e,t){let i=`${e}${t}`,n=this.map.get(i);return n||(n=ot.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:e,hideInStringTokens:t}),this.map.set(i,n)),n}};M_.instance=new M_;var lie=class extends we{constructor(){super({id:tf.ID,label:g("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0});this.shortLabel=g("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(e,t,i){return xr(this,void 0,void 0,function*(){let n=e?.get(Ht);n&&this.runAction(n)})}runAction(e){return xr(this,void 0,void 0,function*(){yield e.updateValue(es.includeComments,!1,1)})}},cie=class extends we{constructor(){super({id:tf.ID,label:g("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0});this.shortLabel=g("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(e,t,i){return xr(this,void 0,void 0,function*(){let n=e?.get(Ht);n&&this.runAction(n)})}runAction(e){return xr(this,void 0,void 0,function*(){yield e.updateValue(es.includeStrings,!1,1)})}},tf=class extends we{constructor(){super({id:tf.ID,label:g("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0});this.shortLabel=g("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(e,t,i){return xr(this,void 0,void 0,function*(){let n=e?.get(Ht);n&&this.runAction(n)})}runAction(e){return xr(this,void 0,void 0,function*(){yield e.updateValue(es.ambiguousCharacters,!1,1)})}};tf.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";var A_=class extends we{constructor(){super({id:A_.ID,label:g("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0});this.shortLabel=g("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(e,t,i){return xr(this,void 0,void 0,function*(){let n=e?.get(Ht);n&&this.runAction(n)})}runAction(e){return xr(this,void 0,void 0,function*(){yield e.updateValue(es.invisibleCharacters,!1,1)})}};A_.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";var R_=class extends we{constructor(){super({id:R_.ID,label:g("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0});this.shortLabel=g("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(e,t,i){return xr(this,void 0,void 0,function*(){let n=e?.get(Ht);n&&this.runAction(n)})}runAction(e){return xr(this,void 0,void 0,function*(){yield e.updateValue(es.nonBasicASCII,!1,1)})}};R_.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";var tC=class extends we{constructor(){super({id:tC.ID,label:g("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(e,t,i){return xr(this,void 0,void 0,function*(){let{codePoint:n,reason:o,inString:s,inComment:a}=i,l=String.fromCodePoint(n),c=e.get(hh),d=e.get(Ht);function h(m){return Ka.isInvisibleCharacter(m)?g("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",DB(m)):g("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${DB(m)} "${l}"`)}let u=[];if(o.kind===0)for(let m of o.notAmbiguousInLocales)u.push({label:g("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',m),run:()=>xr(this,void 0,void 0,function*(){VCe(d,[m])})});if(u.push({label:h(n),run:()=>zCe(d,[n])}),a){let m=new lie;u.push({label:m.label,run:()=>xr(this,void 0,void 0,function*(){return m.runAction(d)})})}else if(s){let m=new cie;u.push({label:m.label,run:()=>xr(this,void 0,void 0,function*(){return m.runAction(d)})})}if(o.kind===0){let m=new tf;u.push({label:m.label,run:()=>xr(this,void 0,void 0,function*(){return m.runAction(d)})})}else if(o.kind===1){let m=new A_;u.push({label:m.label,run:()=>xr(this,void 0,void 0,function*(){return m.runAction(d)})})}else if(o.kind===2){let m=new R_;u.push({label:m.label,run:()=>xr(this,void 0,void 0,function*(){return m.runAction(d)})})}else HCe(o);let f=yield c.pick(u,{title:g("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});f&&(yield f.run())})}};tC.ID="editor.action.unicodeHighlight.showExcludeOptions";function zCe(r,e){return xr(this,void 0,void 0,function*(){let t=r.getValue(es.allowedCharacters),i;typeof t=="object"&&t?i=t:i={};for(let n of e)i[String.fromCodePoint(n)]=!0;yield r.updateValue(es.allowedCharacters,i,1)})}function VCe(r,e){var t;return xr(this,void 0,void 0,function*(){let i=(t=r.inspect(es.allowedLocales).user)===null||t===void 0?void 0:t.value,n;typeof i=="object"&&i?n=Object.assign({},i):n={};for(let o of e)n[o]=!0;yield r.updateValue(es.allowedLocales,n,1)})}function HCe(r){throw new Error(`Unexpected value: ${r}`)}de(tf);de(A_);de(R_);de(tC);st(eC.ID,eC);pl.register(xB);re();Vr();kt();io();ke();var $Ce=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},die=function(r,e){return function(t,i){e(t,i,r)}},KCe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},hie="ignoreUnusualLineTerminators";function qCe(r,e,t){r.setModelProperty(e.uri,hie,t)}function YCe(r,e){return r.getModelProperty(e.uri,hie)}var LE=class extends ${constructor(e,t,i){super();this._editor=e,this._dialogService=t,this._codeEditorService=i,this._config=this._editor.getOption(114),this._register(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(114)&&(this._config=this._editor.getOption(114),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(n=>{n.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return KCe(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;let e=this._editor.getModel();if(!e.mightContainUnusualLineTerminators()||YCe(this._codeEditorService,e)===!0||this._editor.getOption(81))return;if(this._config==="auto"){e.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:g("unusualLineTerminators.title","Unusual Line Terminators"),message:g("unusualLineTerminators.message","Detected unusual line terminators"),detail:g("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",qo(e.uri)),primaryButton:g("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:g("unusualLineTerminators.ignore","Ignore")})).confirmed){qCe(this._codeEditorService,e,!0);return}e.removeUnusualLineTerminators(this._editor.getSelections())})}};LE.ID="editor.contrib.unusualLineTerminatorsDetector";LE=$Ce([die(1,Yv),die(2,Tt)],LE);st(LE.ID,LE);var X5t=aC(uie());xs();jt();nt();Ei();ut();re();kt();ye();Wi();Us();Fo();cn();ke();Et();Li();pt();hi();var GCe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},fie=function(r,e){return function(t,i){e(t,i,r)}},XCe=W("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},g("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),QCe=W("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},g("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),JCe=W("editor.wordHighlightBorder",{light:null,dark:null,hc:ro},g("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),e0e=W("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:ro},g("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),t0e=W("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},g("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),i0e=W("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},g("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),DN=new Se("hasWordHighlights",!1);function gie(r,e,t,i){let n=r.ordered(e);return WD(n.map(o=>()=>Promise.resolve(o.provideDocumentHighlights(e,t,i)).then(void 0,Si)),jn)}var kB=class{constructor(e,t,i){this._model=e,this._selection=t,this._wordSeparators=i,this._wordRange=this._getCurrentWordRange(e,t),this._result=null}get result(){return this._result||(this._result=xi(e=>this._compute(this._model,this._selection,this._wordSeparators,e))),this._result}_getCurrentWordRange(e,t){let i=e.getWordAtPosition(t.getPosition());return i?new D(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):null}isValid(e,t,i){let n=t.startLineNumber,o=t.startColumn,s=t.endColumn,a=this._getCurrentWordRange(e,t),l=Boolean(this._wordRange&&this._wordRange.equalsRange(a));for(let c=0,d=i.length;!l&&c<d;c++){let h=e.getDecorationRange(i[c]);h&&h.startLineNumber===n&&h.startColumn<=o&&h.endColumn>=s&&(l=!0)}return l}cancel(){this.result.cancel()}},mie=class extends kB{constructor(e,t,i,n){super(e,t,i);this._providers=n}_compute(e,t,i,n){return gie(this._providers,e,t.getPosition(),n).then(o=>o||[])}},pie=class extends kB{constructor(e,t,i){super(e,t,i);this._selectionIsEmpty=t.isEmpty()}_compute(e,t,i,n){return Wl(250,n).then(()=>{if(!t.isEmpty())return[];let o=e.getWordAtPosition(t.getPosition());return!o||o.word.length>1e3?[]:e.findMatches(o.word,!0,!1,!0,i,!1).map(a=>({range:a.range,kind:ub.Text}))})}isValid(e,t,i){let n=t.isEmpty();return this._selectionIsEmpty!==n?!1:super.isValid(e,t,i)}};function n0e(r,e,t,i){return r.has(e)?new mie(e,t,i,r):new pie(e,t,i)}Ks("_executeDocumentHighlights",(r,e,t)=>{let i=r.get(ve);return gie(i.documentHighlightProvider,e,t,Qe.None)});var B_=class{constructor(e,t,i){this.toUnhook=new J,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this.providers=t,this._hasWordHighlights=DN.bindTo(i),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(72),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition(n=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(n)})),this.toUnhook.add(e.onDidChangeModelContent(n=>{this._stopAll()})),this.toUnhook.add(e.onDidChangeConfiguration(n=>{let o=this.editor.getOption(72);this.occurrencesHighlight!==o&&(this.occurrencesHighlight=o,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return Il(this._decorationIds.map(e=>this.model.getDecorationRange(e)).sort(D.compareRangesUsingStarts))}moveNext(){let e=this._getSortedHighlights(),i=(e.findIndex(o=>o.containsPosition(this.editor.getPosition()))+1)%e.length,n=e[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(n.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(n);let o=this._getWord();if(o){let s=this.editor.getModel().getLineContent(n.startLineNumber);Sn(`${s}, ${i+1} of ${e.length} for '${o.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let e=this._getSortedHighlights(),i=(e.findIndex(o=>o.containsPosition(this.editor.getPosition()))-1+e.length)%e.length,n=e[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(n.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(n);let o=this._getWord();if(o){let s=this.editor.getModel().getLineContent(n.startLineNumber);Sn(`${s}, ${i+1} of ${e.length} for '${o.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){if(!this.occurrencesHighlight){this._stopAll();return}if(e.reason!==3){this._stopAll();return}this._run()}_getWord(){let e=this.editor.getSelection(),t=e.startLineNumber,i=e.startColumn;return this.model.getWordAtPosition({lineNumber:t,column:i})}_run(){let e=this.editor.getSelection();if(e.startLineNumber!==e.endLineNumber){this._stopAll();return}let t=e.startColumn,i=e.endColumn,n=this._getWord();if(!n||n.startColumn>t||n.endColumn<i){this._stopAll();return}let o=this.workerRequest&&this.workerRequest.isValid(this.model,e,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),o)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let s=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=n0e(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(117)),this.workerRequest.result.then(a=>{s===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=a||[],this._beginRenderDecorations())},Ie)}}_beginRenderDecorations(){let e=new Date().getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},t-e)}renderDecorations(){this.renderDecorationsTimer=-1;let e=[];for(let t of this.workerRequestValue)t.range&&e.push({range:t.range,options:B_._getDecorationOptions(t.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,e),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(e){return e===ub.Write?this._WRITE_OPTIONS:e===ub.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}};B_._WRITE_OPTIONS=ot.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:rn(i0e),position:Ar.Center},minimap:{color:rn(dv),position:Rr.Inline}});B_._TEXT_OPTIONS=ot.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:rn(zL),position:Ar.Center},minimap:{color:rn(dv),position:Rr.Inline}});B_._REGULAR_OPTIONS=ot.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:rn(t0e),position:Ar.Center},minimap:{color:rn(dv),position:Rr.Inline}});var F_=class _ie extends ${constructor(e,t,i){super();this.wordHighlighter=null;let n=()=>{e.hasModel()&&(this.wordHighlighter=new B_(e,i.documentHighlightProvider,t))};this._register(e.onDidChangeModel(o=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),n()})),n()}static get(e){return e.getContribution(_ie.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(e){this.wordHighlighter&&e&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};F_.ID="editor.contrib.wordHighlighter";F_=GCe([fie(1,Le),fie(2,ve)],F_);var IB=class extends we{constructor(e,t){super(t);this._isNext=e}run(e,t){let i=F_.get(t);!i||(this._isNext?i.moveNext():i.moveBack())}},bie=class extends IB{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:g("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:DN,kbOpts:{kbExpr:F.editorTextFocus,primary:65,weight:100}})}},vie=class extends IB{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:g("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:DN,kbOpts:{kbExpr:F.editorTextFocus,primary:1089,weight:100}})}},wie=class extends we{constructor(){super({id:"editor.action.wordHighlight.trigger",label:g("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:DN.toNegated(),kbOpts:{kbExpr:F.editorTextFocus,primary:0,weight:100}})}run(e,t,i){let n=F_.get(t);!n||n.restoreViewState(!0)}};st(F_.ID,F_);de(bie);de(vie);de(wie);yt((r,e)=>{let t=r.getColor(Q0);t&&(e.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${t}; }`),e.addRule(`.monaco-editor .selectionHighlight { background-color: ${t.transparent(.5)}; }`));let i=r.getColor(XCe);i&&e.addRule(`.monaco-editor .wordHighlight { background-color: ${i}; }`);let n=r.getColor(QCe);n&&e.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${n}; }`);let o=r.getColor(Wz);o&&e.addRule(`.monaco-editor .selectionHighlight { border: 1px ${r.type==="hc"?"dotted":"solid"} ${o}; box-sizing: border-box; }`);let s=r.getColor(JCe);s&&e.addRule(`.monaco-editor .wordHighlight { border: 1px ${r.type==="hc"?"dashed":"solid"} ${s}; box-sizing: border-box; }`);let a=r.getColor(e0e);a&&e.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${r.type==="hc"?"dashed":"solid"} ${a}; box-sizing: border-box; }`)});kt();Mb();lt();ye();mi();Wi();no();ke();Et();var iC=class extends Yi{constructor(e){super(e);this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){if(!t.hasModel())return;let n=Br(t.getOption(117)),o=t.getModel(),a=t.getSelections().map(l=>{let c=new V(l.positionLineNumber,l.positionColumn),d=this._move(n,o,c,this._wordNavigationType);return this._moveTo(l,d,this._inSelectionMode)});if(o.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,a.map(l=>It.fromModelSelection(l))),a.length===1){let l=new V(a[0].positionLineNumber,a[0].positionColumn);t.revealPosition(l,0)}}_moveTo(e,t,i){return i?new he(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new he(t.lineNumber,t.column,t.lineNumber,t.column)}},nf=class extends iC{_move(e,t,i,n){return Xt.moveWordLeft(e,t,i,n)}},of=class extends iC{_move(e,t,i,n){return Xt.moveWordRight(e,t,i,n)}},Cie=class extends nf{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}},yie=class extends nf{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}},Sie=class extends nf{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:Ce.and(F.textInputFocus,(e=Ce.and(Qm,U1))===null||e===void 0?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}},Eie=class extends nf{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}},xie=class extends nf{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}},Die=class extends nf{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:Ce.and(F.textInputFocus,(e=Ce.and(Qm,U1))===null||e===void 0?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}},Lie=class extends nf{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,i,n){return super._move(Br(vs.wordSeparators.defaultValue),t,i,n)}},kie=class extends nf{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,i,n){return super._move(Br(vs.wordSeparators.defaultValue),t,i,n)}},Iie=class extends of{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}},Oie=class extends of{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:Ce.and(F.textInputFocus,(e=Ce.and(Qm,U1))===null||e===void 0?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}},Tie=class extends of{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}},Nie=class extends of{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}},Pie=class extends of{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:Ce.and(F.textInputFocus,(e=Ce.and(Qm,U1))===null||e===void 0?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}},Mie=class extends of{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}},Aie=class extends of{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,i,n){return super._move(Br(vs.wordSeparators.defaultValue),t,i,n)}},Rie=class extends of{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,i,n){return super._move(Br(vs.wordSeparators.defaultValue),t,i,n)}},nC=class extends Yi{constructor(e){super(e);this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){let n=e.get(en);if(!t.hasModel())return;let o=Br(t.getOption(117)),s=t.getModel(),a=t.getSelections(),l=t.getOption(5),c=t.getOption(8),d=n.getLanguageConfiguration(s.getLanguageId()).getAutoClosingPairs(),h=t._getViewModel(),u=a.map(f=>{let m=this._delete({wordSeparators:o,model:s,selection:f,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(6),autoClosingBrackets:l,autoClosingQuotes:c,autoClosingPairs:d,autoClosedCharacters:h.getCursorAutoClosedCharacters()},this._wordNavigationType);return new Fn(m,"")});t.pushUndoStop(),t.executeCommands(this.id,u),t.pushUndoStop()}},LN=class extends nC{_delete(e,t){let i=Xt.deleteWordLeft(e,t);return i||new D(1,1,1,1)}},kN=class extends nC{_delete(e,t){let i=Xt.deleteWordRight(e,t);if(i)return i;let n=e.model.getLineCount(),o=e.model.getLineMaxColumn(n);return new D(n,o,n,o)}},Fie=class extends LN{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:F.writable})}},Bie=class extends LN{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:F.writable})}},jie=class extends LN{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:F.writable,kbOpts:{kbExpr:F.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}},Wie=class extends kN{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:F.writable})}},Uie=class extends kN{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:F.writable})}},zie=class extends kN{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:F.writable,kbOpts:{kbExpr:F.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}},Vie=class extends we{constructor(){super({id:"deleteInsideWord",precondition:F.writable,label:g("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(e,t,i){if(!t.hasModel())return;let n=Br(t.getOption(117)),o=t.getModel(),a=t.getSelections().map(l=>{let c=Xt.deleteInsideWord(n,o,l);return new Fn(c,"")});t.pushUndoStop(),t.executeCommands(this.id,a),t.pushUndoStop()}};me(new Cie);me(new yie);me(new Sie);me(new Eie);me(new xie);me(new Die);me(new Iie);me(new Oie);me(new Tie);me(new Nie);me(new Pie);me(new Mie);me(new Lie);me(new kie);me(new Aie);me(new Rie);me(new Fie);me(new Bie);me(new jie);me(new Wie);me(new Uie);me(new zie);de(Vie);kt();ye();Wi();on();var Hie=class extends nC{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:F.writable,kbOpts:{kbExpr:F.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(e,t){let i=_v.deleteWordPartLeft(e);return i||new D(1,1,1,1)}},$ie=class extends nC{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:F.writable,kbOpts:{kbExpr:F.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(e,t){let i=_v.deleteWordPartRight(e);if(i)return i;let n=e.model.getLineCount(),o=e.model.getLineMaxColumn(n);return new D(n,o,n,o)}},OB=class extends iC{_move(e,t,i,n){return _v.moveWordPartLeft(e,t,i)}},Kie=class extends OB{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:F.textInputFocus,primary:0,mac:{primary:783},weight:100}})}};ht.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");var qie=class extends OB{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:F.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}};ht.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");var TB=class extends iC{_move(e,t,i,n){return _v.moveWordPartRight(e,t,i)}},Yie=class extends TB{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:F.textInputFocus,primary:0,mac:{primary:785},weight:100}})}},Zie=class extends TB{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:F.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}};me(new Hie);me(new $ie);me(new Kie);me(new qie);me(new Yie);me(new Zie);var o0e=Object.defineProperty,r0e=Object.getOwnPropertyDescriptor,s0e=Object.getOwnPropertyNames,a0e=Object.prototype.hasOwnProperty,l0e=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of s0e(e))!a0e.call(r,n)&&(t||n!=="default")&&o0e(r,n,{get:()=>e[n],enumerable:!(i=r0e(e,n))||i.enumerable});return r},TE={};l0e(TE,zO);var Gie={},NB={},Xie=class{static getOrCreate(r){return NB[r]||(NB[r]=new Xie(r)),NB[r]}_languageId;_loadingTriggered;_lazyLoadPromise;_lazyLoadPromiseResolve;_lazyLoadPromiseReject;constructor(r){this._languageId=r,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((e,t)=>{this._lazyLoadPromiseResolve=e,this._lazyLoadPromiseReject=t})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,Gie[this._languageId].loader().then(r=>this._lazyLoadPromiseResolve(r),r=>this._lazyLoadPromiseReject(r))),this._lazyLoadPromise}};function Qie(r){let e=r.id;Gie[e]=r,TE.languages.register(r);let t=Xie.getOrCreate(e);TE.languages.registerTokensProviderFactory(e,{create:async()=>(await t.load()).language}),TE.languages.onLanguage(e,async()=>{let i=await t.load();TE.languages.setLanguageConfiguration(e,i.conf)})}Qie({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>Promise.resolve().then(()=>(ene(),Jie))});var IN=class{wasm;state;evalCounter=0;constructor(e){this.wasm=e,this.state=this.wasm._artichoke_web_repl_init()}read(e){let t=this.wasm._artichoke_string_getlen(this.state,e),i=new Uint8Array(t);for(let n=0;n<t;n+=1){let o=this.wasm._artichoke_string_getch(this.state,e,n);i[n]=o}return new TextDecoder().decode(i)}write(e){let t=this.wasm._artichoke_string_new(this.state),i=new TextEncoder().encode(e);for(let n of i)this.wasm._artichoke_string_putch(this.state,t,n);return t}evalRuby(e){this.evalCounter+=1;let t=`eval-ffi-${this.evalCounter}`;window.gtag("event","level_start",{level_name:t});let i=this.write(e),n=this.wasm._artichoke_eval(this.state,i),o=this.read(n);return this.wasm._artichoke_string_free(this.state,i),this.wasm._artichoke_string_free(this.state,n),window.gtag("event","level_end",{level_name:t,success:!0}),o}};var ON=class{editor;outputPane;constructor(e,t){this.editor=e,this.outputPane=t}};var TN=class{evalType;chrome;counter=0;constructor(e,t){this.evalType=e,this.chrome=t}makeHandler(e){return()=>{let t=this.counter+1;this.counter=t;let i=`playground-run-${this.evalType}-${t}`;window.gtag("event","level_start",{level_name:i});let o=(this.chrome.editor.getModel()?.getLinesContent()??[]).join(`
`),s=e.evalRuby(o);this.chrome.outputPane.getModel()?.setValue(s),window.gtag("event","level_end",{level_name:i,success:!0})}}};var nne=aC(tne());var ine=`# frozen_string_literal: true

require 'forwardable'

class Properties
  extend Forwardable
  def_delegators :@properties, :[], :[]=

  def initialize(name)
    @name = name
    @properties = {}
  end

  def inspect
    @name
  end

  def to_h
    @properties
  end
end

artichoke = Properties.new('Artichoke Ruby')
artichoke[:language] = 'Ruby'
artichoke[:implementation] = 'Artichoke'
artichoke[:target] = 'wasm'
artichoke[:emoji] = '\u{1F48E}'

puts artichoke.inspect if artichoke[:emoji] =~ /\u{1F48E}/

artichoke.to_h
`;self.MonacoEnvironment={getWorkerUrl:function(r,e){return e==="json"?"./json.worker.bundle.js":e==="css"||e==="scss"||e==="less"?"./css.worker.bundle.js":e==="html"||e==="handlebars"||e==="razor"?"./html.worker.bundle.js":e==="typescript"||e==="javascript"?"./ts.worker.bundle.js":"./editor.worker.bundle.js"}};var one=ine.trim();window.location.hash&&(one=decodeURIComponent(window.location.hash).slice(1));var u0e=document.getElementById("editor"),PN=UO.create(u0e,{value:one,language:"ruby",theme:"vs-dark",fontSize:14,automaticLayout:!0});PN.getModel()?.onDidChangeContent(()=>{let e=(PN.getModel()?.getLinesContent()??[]).join(`
`),t=encodeURIComponent(e);history.replaceState(void 0,"",`#${t}`)});var f0e=document.getElementById("output"),g0e=UO.create(f0e,{language:"plaintext",theme:"vs-dark",fontSize:14,automaticLayout:!0,lineNumbers:"off",readOnly:!0,wordWrap:"bounded",wordWrapBreakAfterCharacters:"",minimap:{enabled:!1}}),m0e=new URLSearchParams(window.location.search);m0e.has("embed")&&document.getElementById("embeddable")?.setAttribute("style","position: absolute; width: 100%; height: 100%; top:0; left: 0; background-color: white; max-width: 100%");(0,nne.default)().then(r=>{let e=new ON(PN,g0e),t="playground-interpreter-init";window.gtag("event","level_start",{level_name:t});let i=new IN(r),n=document.getElementById("artichoke-build-info");n.textContent=i.read(0),document.getElementById("run")?.addEventListener("click",new TN("button",e).makeHandler(i)),PN.addAction({id:"artichoke-playground-run-ruby",label:"Run Ruby source code",keybindings:[_3.CtrlCmd|p3.F8],contextMenuGroupId:"2_playground_eval",run:new TN("code_action",e).makeHandler(i)}),window.gtag("event","level_end",{level_name:t,success:!0})});})();
/*!
  * Bootstrap v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.33.0(4b1abad427e58dbedc1215d99a0902ffc885fcd4)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
