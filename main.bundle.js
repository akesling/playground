(()=>{var One=Object.create;var AE=Object.defineProperty;var Tne=Object.getOwnPropertyDescriptor;var Nne=Object.getOwnPropertyNames;var Pne=Object.getPrototypeOf,Rne=Object.prototype.hasOwnProperty;var Mne=o=>AE(o,"__esModule",{value:!0});var r7=(o=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(o,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):o)(function(o){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+o+'" is not supported')});var ge=(o,e)=>()=>(o&&(e=o(o=0)),e);var FE=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports),BE=(o,e)=>{for(var t in e)AE(o,t,{get:e[t],enumerable:!0})},Ane=(o,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Nne(e))!Rne.call(o,n)&&(t||n!=="default")&&AE(o,n,{get:()=>e[n],enumerable:!(i=Tne(e,n))||i.enumerable});return o},jE=(o,e)=>Ane(Mne(AE(o!=null?One(Pne(o)):{},"default",!e&&o&&o.__esModule?{get:()=>o.default,enumerable:!0}:{value:o,enumerable:!0})),o);function jae(o,e){let t;return e.length===0?t=o:t=o.replace(/\{(\d+)\}/g,function(i,n){let r=n[0];return typeof e[r]!="undefined"?e[r]:i}),t}function g(o,e,...t){return jae(e,t)}var xe=ge(()=>{});function hx(){if(!Z9){Z9=!0;let o=new Uint8Array(2);o[0]=1,o[1]=2,q9=new Uint16Array(o.buffer)[0]===(2<<8)+1}return q9}var oP,cx,XC,QC,JC,Wae,U9,z9,Uae,rP,e0,dx,zae,_f,vi,Bo,V9,Vae,sP,Mi,Xe,rn,Xr,na,Fr,H9,$9,K9,aP,Y9,Jo,q9,Z9,wt=ge(()=>{cx="en",XC=!1,QC=!1,JC=!1,Wae=!1,U9=!1,z9=!1,Uae=!1,rP=!1,dx=cx,vi=typeof self=="object"?self:typeof global=="object"?global:{};typeof vi.vscode!="undefined"&&typeof vi.vscode.process!="undefined"?Bo=vi.vscode.process:typeof process!="undefined"&&(Bo=process);V9=typeof((oP=Bo==null?void 0:Bo.versions)===null||oP===void 0?void 0:oP.electron)=="string",Vae=V9&&(Bo==null?void 0:Bo.type)==="renderer";if(typeof navigator=="object"&&!Vae)_f=navigator.userAgent,XC=_f.indexOf("Windows")>=0,QC=_f.indexOf("Macintosh")>=0,rP=(_f.indexOf("Macintosh")>=0||_f.indexOf("iPad")>=0||_f.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,JC=_f.indexOf("Linux")>=0,z9=!0,e0=navigator.language,dx=e0;else if(typeof Bo=="object"){XC=Bo.platform==="win32",QC=Bo.platform==="darwin",JC=Bo.platform==="linux",Wae=JC&&!!Bo.env.SNAP&&!!Bo.env.SNAP_REVISION,Uae=V9,e0=cx,dx=cx;let o=Bo.env.VSCODE_NLS_CONFIG;if(o)try{let e=JSON.parse(o),t=e.availableLanguages["*"];e0=e.locale,dx=t||cx,zae=e._translationsConfigFile}catch{}U9=!0}else console.error("Unable to resolve platform.");sP=0;QC?sP=1:XC?sP=3:JC&&(sP=2);Mi=XC,Xe=QC,rn=JC,Xr=U9,na=z9,Fr=rP,H9=_f,$9=dx,K9=e0,aP=(()=>{if(typeof vi.postMessage=="function"&&!vi.importScripts){let o=[];vi.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let i=0,n=o.length;i<n;i++){let r=o[i];if(r.id===t.data.vscodeScheduleAsyncWork){o.splice(i,1),r.callback();return}}});let e=0;return t=>{let i=++e;o.push({id:i,callback:t}),vi.postMessage({vscodeScheduleAsyncWork:i},"*")}}return o=>setTimeout(o)})(),Y9=function(){if(vi.setImmediate)return vi.setImmediate.bind(vi);if(typeof vi.postMessage=="function"&&!vi.importScripts)return aP;if(typeof(Bo==null?void 0:Bo.nextTick)=="function")return Bo.nextTick.bind(Bo);let e=Promise.resolve();return t=>e.then(t)}(),Jo=QC||rP?2:XC?1:3,q9=!0,Z9=!1});function Hae(o=""){let e="(-?\\d*\\.\\d\\w*)|([^";for(let t of lP)o.indexOf(t)>=0||(e+="\\"+t);return e+="\\s]+)",new RegExp(e,"g")}function lb(o){let e=cP;if(o&&o instanceof RegExp)if(o.global)e=o;else{let t="g";o.ignoreCase&&(t+="i"),o.multiline&&(t+="m"),o.unicode&&(t+="u"),e=new RegExp(o.source,t)}return e.lastIndex=0,e}function cb(o,e,t,i,n=$ae){if(t.length>n.maxLen){let c=o-n.maxLen/2;return c<0?c=0:i+=c,t=t.substring(c,o+n.maxLen/2),cb(o,e,t,i,n)}let r=Date.now(),s=o-1-i,a=-1,l=null;for(let c=1;!(Date.now()-r>=n.timeBudget);c++){let d=s-n.windowSize*c;e.lastIndex=Math.max(0,d);let h=Kae(e,t,s,a);if(!h&&l||(l=h,d<=0))break;a=d}if(l){let c={word:l[0],startColumn:i+1+l.index,endColumn:i+1+l.index+l[0].length};return e.lastIndex=0,c}return null}function Kae(o,e,t,i){let n;for(;n=o.exec(e);){let r=n.index||0;if(r<=t&&o.lastIndex>=t)return n;if(i>0&&r>i)return null}return null}var lP,cP,$ae,t0=ge(()=>{lP="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";cP=Hae();$ae={maxLen:1e3,windowSize:15,timeBudget:150}});function oa(o,e=0){return o[o.length-(1+e)]}function G9(o){if(o.length===0)throw new Error("Invalid tail call");return[o.slice(0,o.length-1),o[o.length-1]]}function eo(o,e,t=(i,n)=>i===n){if(o===e)return!0;if(!o||!e||o.length!==e.length)return!1;for(let i=0,n=o.length;i<n;i++)if(!t(o[i],e[i]))return!1;return!0}function db(o,e,t){let i=0,n=o.length-1;for(;i<=n;){let r=(i+n)/2|0,s=t(o[r],e);if(s<0)i=r+1;else if(s>0)n=r-1;else return r}return-(i+1)}function ux(o,e){let t=0,i=o.length;if(i===0)return 0;for(;t<i;){let n=Math.floor((t+i)/2);e(o[n])?i=n:t=n+1}return t}function fx(o,e,t){if(o=o|0,o>=e.length)throw new TypeError("invalid index");let i=e[Math.floor(e.length*Math.random())],n=[],r=[],s=[];for(let a of e){let l=t(a,i);l<0?n.push(a):l>0?r.push(a):s.push(a)}return o<n.length?fx(o,n,t):o<n.length+s.length?s[0]:fx(o-(n.length+s.length),r,t)}function dP(o,e){let t=[],i;for(let n of o.slice(0).sort(e))!i||e(i[0],n)!==0?(i=[n],t.push(i)):i.push(n);return t}function hd(o){return o.filter(e=>!!e)}function gx(o){return!Array.isArray(o)||o.length===0}function kn(o){return Array.isArray(o)&&o.length>0}function pl(o,e=t=>t){let t=new Set;return o.filter(i=>{let n=e(i);return t.has(n)?!1:(t.add(n),!0)})}function X9(o,e){let t=Yae(o,e);if(t!==-1)return o[t]}function Yae(o,e){for(let t=o.length-1;t>=0;t--){let i=o[t];if(e(i))return t}return-1}function i0(o,e){return o.length>0?o[0]:e}function mx(o){return[].concat(...o)}function mo(o,e){let t=typeof e=="number"?o:0;typeof e=="number"?t=o:(t=0,e=o);let i=[];if(t<=e)for(let n=t;n<e;n++)i.push(n);else for(let n=t;n>e;n--)i.push(n);return i}function bf(o,e,t){let i=o.slice(0,e),n=o.slice(e);return i.concat(t,n)}function px(o,e){let t=o.indexOf(e);t>-1&&(o.splice(t,1),o.unshift(e))}function n0(o,e){let t=o.indexOf(e);t>-1&&(o.splice(t,1),o.push(e))}function hb(o){return Array.isArray(o)?o:[o]}function qae(o,e,t){let i=Q9(o,e),n=o.length,r=t.length;o.length=n+r;for(let s=n-1;s>=i;s--)o[s+r]=o[s];for(let s=0;s<r;s++)o[s+i]=t[s]}function hP(o,e,t,i){let n=Q9(o,e),r=o.splice(n,t);return qae(o,n,i),r}function Q9(o,e){return e<0?Math.max(e+o.length,0):Math.min(e,o.length)}var sc,Ut=ge(()=>{sc=class{constructor(e){this.items=e,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;let i=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,i}takeFromEndWhile(e){let t=this.lastIdx;for(;t>=0&&e(this.items[t]);)t--;let i=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,i}peek(){return this.items[this.firstIdx]}dequeue(){let e=this.items[this.firstIdx];return this.firstIdx++,e}takeCount(e){let t=this.items.slice(this.firstIdx,this.firstIdx+e);return this.firstIdx+=e,t}}});function _x(o){return Array.isArray(o)}function Cr(o){return typeof o=="string"}function Hn(o){return typeof o=="object"&&o!==null&&!Array.isArray(o)&&!(o instanceof RegExp)&&!(o instanceof Date)}function _l(o){return typeof o=="number"&&!isNaN(o)}function bx(o){return o===!0||o===!1}function jo(o){return typeof o=="undefined"}function J9(o){return!er(o)}function er(o){return jo(o)||o===null}function $t(o,e){if(!o)throw new Error(e?`Unexpected type, expected '${e}'`:"Unexpected type")}function o0(o){if(er(o))throw new Error("Assertion Failed: argument is undefined or null");return o}function ub(o){return typeof o=="function"}function ej(o,e){let t=Math.min(o.length,e.length);for(let i=0;i<t;i++)Zae(o[i],e[i])}function Zae(o,e){if(Cr(e)){if(typeof o!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(ub(e)){try{if(o instanceof e)return}catch{}if(!er(o)&&o.constructor===e||e.length===1&&e.call(void 0,o)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function Gae(o){let e=[],t=Object.getPrototypeOf(o);for(;Object.prototype!==t;)e=e.concat(Object.getOwnPropertyNames(t)),t=Object.getPrototypeOf(t);return e}function fb(o){let e=[];for(let t of Gae(o))typeof o[t]=="function"&&e.push(t);return e}function tj(o,e){let t=n=>function(){let r=Array.prototype.slice.call(arguments,0);return e(n,r)},i={};for(let n of o)i[n]=t(n);return i}function Ia(o){return o===null?void 0:o}function vx(o,e="Unreachable"){throw new Error(e)}var di=ge(()=>{});function vl(o){if(!o||typeof o!="object"||o instanceof RegExp)return o;let e=Array.isArray(o)?[]:{};return Object.keys(o).forEach(t=>{o[t]&&typeof o[t]=="object"?e[t]=vl(o[t]):e[t]=o[t]}),e}function ij(o){if(!o||typeof o!="object")return o;let e=[o];for(;e.length>0;){let t=e.shift();Object.freeze(t);for(let i in t)if(nj.call(t,i)){let n=t[i];typeof n=="object"&&!Object.isFrozen(n)&&e.push(n)}}return o}function oj(o,e){return uP(o,e,new Set)}function uP(o,e,t){if(er(o))return o;let i=e(o);if(typeof i!="undefined")return i;if(_x(o)){let n=[];for(let r of o)n.push(uP(r,e,t));return n}if(Hn(o)){if(t.has(o))throw new Error("Cannot clone recursive data-structure");t.add(o);let n={};for(let r in o)nj.call(o,r)&&(n[r]=uP(o[r],e,t));return t.delete(o),n}return o}function tr(o,e,t=!0){return Hn(o)?(Hn(e)&&Object.keys(e).forEach(i=>{i in o?t&&(Hn(o[i])&&Hn(e[i])?tr(o[i],e[i],t):o[i]=e[i]):o[i]=e[i]}),o):e}function ir(o,e){if(o===e)return!0;if(o==null||e===null||e===void 0||typeof o!=typeof e||typeof o!="object"||Array.isArray(o)!==Array.isArray(e))return!1;let t,i;if(Array.isArray(o)){if(o.length!==e.length)return!1;for(t=0;t<o.length;t++)if(!ir(o[t],e[t]))return!1}else{let n=[];for(i in o)n.push(i);n.sort();let r=[];for(i in e)r.push(i);if(r.sort(),!ir(n,r))return!1;for(t=0;t<n.length;t++)if(!ir(o[n[t]],e[n[t]]))return!1}return!0}function lc(o,e,t){let i=e(o);return typeof i=="undefined"?t:i}var nj,Wo=ge(()=>{di();nj=Object.prototype.hasOwnProperty});function Cx(o,e){if(typeof o!="object"||typeof e!="object"||!o||!e)return new ym(e,o!==e);if(Array.isArray(o)||Array.isArray(e)){let i=Array.isArray(o)&&Array.isArray(e)&&eo(o,e);return new ym(e,i)}let t=!1;for(let i in e)if(e.hasOwnProperty(i)){let n=Cx(o[i],e[i]);n.didChange&&(o[i]=n.newValue,t=!0)}return new ym(o,t)}function $e(o,e){return typeof o=="undefined"?e:o==="false"?!1:Boolean(o)}function yx(o,e,t,i){if(typeof o=="undefined")return e;let n=parseInt(o,10);return isNaN(n)?e:(n=Math.max(t,n),n=Math.min(i,n),n|0)}function Br(o,e,t){return typeof o!="string"||t.indexOf(o)===-1?e:o}function Xae(o){switch(o){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}function Qae(o){switch(o){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}function Jae(o){switch(o){case"line":return to.Line;case"block":return to.Block;case"underline":return to.Underline;case"line-thin":return to.LineThin;case"block-outline":return to.BlockOutline;case"underline-thin":return to.UnderlineThin}}function ele(o){return o==="ctrlCmd"?Xe?"metaKey":"ctrlKey":"altKey"}function mb(o){let e=o.get(86);return e==="editable"?o.get(80):e!=="on"}function Ej(o,e){if(typeof o!="string")return e;switch(o){case"hidden":return 2;case"visible":return 3;default:return 1}}function Sx(o,e,t){let i=t.indexOf(o);return i===-1?e:t[i]}function tle(o){switch(o){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}function me(o){return yf[o.id]=o,o}var Ph,r0,fP,wx,$n,ym,Sm,wf,zt,qi,cc,Qr,Mn,gb,rj,sj,to,aj,lj,cj,Uo,dj,hj,dc,uj,fj,Cf,gj,mj,pj,_j,bj,vj,wj,Cj,yj,Sj,xj,hc,uc,Dj,Lj,kj,Ij,Oj,Tj,Nj,Pj,ile,nle,ole,In,Do,yf,Jr,An=ge(()=>{xe();wt();t0();Ut();Wo();Ph=8,r0=class{constructor(e){this._values=e}hasChanged(e){return this._values[e]}},fP=class{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}},wx=class{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}},$n=class{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}applyUpdate(e,t){return Cx(e,t)}compute(e,t,i){return i}},ym=class{constructor(e,t){this.newValue=e,this.didChange=t}};Sm=class{constructor(e,t=null){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0,this.deps=t}applyUpdate(e,t){return Cx(e,t)}validate(e){return this.defaultValue}},wf=class{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}applyUpdate(e,t){return Cx(e,t)}validate(e){return typeof e=="undefined"?this.defaultValue:e}compute(e,t,i){return i}};zt=class extends wf{constructor(e,t,i,n=void 0){typeof n!="undefined"&&(n.type="boolean",n.default=i);super(e,t,i,n)}validate(e){return $e(e,this.defaultValue)}};qi=class extends wf{constructor(e,t,i,n,r,s=void 0){typeof s!="undefined"&&(s.type="integer",s.default=i,s.minimum=n,s.maximum=r);super(e,t,i,s);this.minimum=n,this.maximum=r}static clampedInt(e,t,i,n){return yx(e,t,i,n)}validate(e){return qi.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}},cc=class extends wf{constructor(e,t,i,n,r){typeof r!="undefined"&&(r.type="number",r.default=i);super(e,t,i,r);this.validationFn=n}static clamp(e,t,i){return e<t?t:e>i?i:e}static float(e,t){if(typeof e=="number")return e;if(typeof e=="undefined")return t;let i=parseFloat(e);return isNaN(i)?t:i}validate(e){return this.validationFn(cc.float(e,this.defaultValue))}},Qr=class extends wf{static string(e,t){return typeof e!="string"?t:e}constructor(e,t,i,n=void 0){typeof n!="undefined"&&(n.type="string",n.default=i);super(e,t,i,n)}validate(e){return Qr.string(e,this.defaultValue)}};Mn=class extends wf{constructor(e,t,i,n,r=void 0){typeof r!="undefined"&&(r.type="string",r.enum=n,r.default=i);super(e,t,i,r);this._allowedValues=n}validate(e){return Br(e,this.defaultValue,this._allowedValues)}},gb=class extends $n{constructor(e,t,i,n,r,s,a=void 0){typeof a!="undefined"&&(a.type="string",a.enum=r,a.default=n);super(e,t,i,a);this._allowedValues=r,this._convert=s}validate(e){return typeof e!="string"?this.defaultValue:this._allowedValues.indexOf(e)===-1?this.defaultValue:this._convert(e)}};rj=class extends $n{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[g("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),g("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),g("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:g("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,i){return i===0?e.accessibilitySupport:i}},sj=class extends $n{constructor(){let e={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:g("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:g("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{insertSpace:$e(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:$e(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}};(function(o){o[o.Line=1]="Line",o[o.Block=2]="Block",o[o.Underline=3]="Underline",o[o.LineThin=4]="LineThin",o[o.BlockOutline=5]="BlockOutline",o[o.UnderlineThin=6]="UnderlineThin"})(to||(to={}));aj=class extends Sm{constructor(){super(127,[65,33])}compute(e,t,i){let n=["monaco-editor"];return t.get(33)&&n.push(t.get(33)),e.extraEditorClassName&&n.push(e.extraEditorClassName),t.get(65)==="default"?n.push("mouse-default"):t.get(65)==="copy"&&n.push("mouse-copy"),t.get(99)&&n.push("showUnused"),t.get(125)&&n.push("showDeprecated"),n.join(" ")}},lj=class extends zt{constructor(){super(32,"emptySelectionClipboard",!0,{description:g("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(e,t,i){return i&&e.emptySelectionClipboard}},cj=class extends $n{constructor(){let e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:g("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[g("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),g("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),g("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:g("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[g("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),g("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),g("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:g("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:g("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:Xe},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:g("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:g("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{cursorMoveOnType:$e(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof e.seedSearchStringFromSelection=="boolean"?e.seedSearchStringFromSelection?"always":"never":Br(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof e.autoFindInSelection=="boolean"?e.autoFindInSelection?"always":"never":Br(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:$e(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:$e(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:$e(t.loop,this.defaultValue.loop)}}},Uo=class extends $n{constructor(){super(44,"fontLigatures",Uo.OFF,{anyOf:[{type:"boolean",description:g("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:g("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:g("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return typeof e=="undefined"?this.defaultValue:typeof e=="string"?e==="false"?Uo.OFF:e==="true"?Uo.ON:e:Boolean(e)?Uo.ON:Uo.OFF}};Uo.OFF='"liga" off, "calt" off';Uo.ON='"liga" on, "calt" on';dj=class extends Sm{constructor(){super(43)}compute(e,t,i){return e.fontInfo}},hj=class extends wf{constructor(){super(45,"fontSize",In.fontSize,{type:"number",minimum:6,maximum:100,default:In.fontSize,description:g("fontSize","Controls the font size in pixels.")})}validate(e){let t=cc.float(e,this.defaultValue);return t===0?In.fontSize:cc.clamp(t,6,100)}compute(e,t,i){return e.fontInfo.fontSize}},dc=class extends $n{constructor(){super(46,"fontWeight",In.fontWeight,{anyOf:[{type:"number",minimum:dc.MINIMUM_VALUE,maximum:dc.MAXIMUM_VALUE,errorMessage:g("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:dc.SUGGESTION_VALUES}],default:In.fontWeight,description:g("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return e==="normal"||e==="bold"?e:String(qi.clampedInt(e,In.fontWeight,dc.MINIMUM_VALUE,dc.MAXIMUM_VALUE))}};dc.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"];dc.MINIMUM_VALUE=1;dc.MAXIMUM_VALUE=1e3;uj=class extends $n{constructor(){let e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[g("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),g("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),g("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},i=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(50,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:g("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:g("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:g("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleDeclarations":Object.assign({description:g("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleImplementations":Object.assign({description:g("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleReferences":Object.assign({description:g("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},t),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:i,description:g("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:i,description:g("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:i,description:g("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:i,description:g("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:i,description:g("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){var t,i,n,r,s;if(!e||typeof e!="object")return this.defaultValue;let a=e;return{multiple:Br(a.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(t=a.multipleDefinitions)!==null&&t!==void 0?t:Br(a.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(i=a.multipleTypeDefinitions)!==null&&i!==void 0?i:Br(a.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(n=a.multipleDeclarations)!==null&&n!==void 0?n:Br(a.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(r=a.multipleImplementations)!==null&&r!==void 0?r:Br(a.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(s=a.multipleReferences)!==null&&s!==void 0?s:Br(a.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:Qr.string(a.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:Qr.string(a.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:Qr.string(a.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:Qr.string(a.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:Qr.string(a.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}},fj=class extends $n{constructor(){let e={enabled:!0,delay:300,sticky:!0,above:!0};super(52,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:g("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,description:g("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:g("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:e.above,description:g("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:$e(t.enabled,this.defaultValue.enabled),delay:qi.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:$e(t.sticky,this.defaultValue.sticky),above:$e(t.above,this.defaultValue.above)}}},Cf=class extends Sm{constructor(){super(130,[49,57,37,64,91,59,60,93,117,120,121,122,2])}compute(e,t,i){return Cf.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio})}static computeContainedMinimapLineCount(e){let t=e.height/e.lineHeight,i=e.scrollBeyondLastLine?t-1:0,n=(e.viewLineCount+i)/(e.pixelRatio*e.height),r=Math.floor(e.viewLineCount/n);return{typicalViewportLineCount:t,extraLinesBeyondLastLine:i,desiredRatio:n,minimapLineCount:r}}static _computeMinimapLayout(e,t){let i=e.outerWidth,n=e.outerHeight,r=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(r*n),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:n};let s=t.stableMinimapLayoutInput,a=s&&e.outerHeight===s.outerHeight&&e.lineHeight===s.lineHeight&&e.typicalHalfwidthCharacterWidth===s.typicalHalfwidthCharacterWidth&&e.pixelRatio===s.pixelRatio&&e.scrollBeyondLastLine===s.scrollBeyondLastLine&&e.minimap.enabled===s.minimap.enabled&&e.minimap.side===s.minimap.side&&e.minimap.size===s.minimap.size&&e.minimap.showSlider===s.minimap.showSlider&&e.minimap.renderCharacters===s.minimap.renderCharacters&&e.minimap.maxColumn===s.minimap.maxColumn&&e.minimap.scale===s.minimap.scale&&e.verticalScrollbarWidth===s.verticalScrollbarWidth&&e.isViewportWrapping===s.isViewportWrapping,l=e.lineHeight,c=e.typicalHalfwidthCharacterWidth,d=e.scrollBeyondLastLine,h=e.minimap.renderCharacters,u=r>=2?Math.round(e.minimap.scale*2):e.minimap.scale,f=e.minimap.maxColumn,p=e.minimap.size,b=e.minimap.side,v=e.verticalScrollbarWidth,y=e.viewLineCount,w=e.remainingWidth,S=e.isViewportWrapping,x=h?2:3,k=Math.floor(r*n),R=k/r,O=!1,N=!1,W=x*u,G=u/r,Y=1;if(p==="fill"||p==="fit"){let{typicalViewportLineCount:We,extraLinesBeyondLastLine:Ue,desiredRatio:Ie,minimapLineCount:gi}=Cf.computeContainedMinimapLineCount({viewLineCount:y,scrollBeyondLastLine:d,height:n,lineHeight:l,pixelRatio:r});if(y/gi>1)O=!0,N=!0,u=1,W=1,G=u/r;else{let Ui=!1,Gt=u+1;if(p==="fit"){let nn=Math.ceil((y+Ue)*W);S&&a&&w<=t.stableFitRemainingWidth?(Ui=!0,Gt=t.stableFitMaxMinimapScale):Ui=nn>k}if(p==="fill"||Ui){O=!0;let nn=u;W=Math.min(l*r,Math.max(1,Math.floor(1/Ie))),S&&a&&w<=t.stableFitRemainingWidth&&(Gt=t.stableFitMaxMinimapScale),u=Math.min(Gt,Math.max(1,Math.floor(W/x))),u>nn&&(Y=Math.min(2,u/nn)),G=u/r/Y,k=Math.ceil(Math.max(We,y+Ue)*W),S?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=w,t.stableFitMaxMinimapScale=u):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0)}}}let te=Math.floor(f*G),re=Math.min(te,Math.max(0,Math.floor((w-v-2)*G/(c+G)))+Ph),Pe=Math.floor(r*re),Ne=Pe/r;Pe=Math.floor(Pe*Y);let Ae=h?1:2,He=b==="left"?0:i-re-v;return{renderMinimap:Ae,minimapLeft:He,minimapWidth:re,minimapHeightIsEditorHeight:O,minimapIsSampling:N,minimapScale:u,minimapLineHeight:W,minimapCanvasInnerWidth:Pe,minimapCanvasInnerHeight:k,minimapCanvasOuterWidth:Ne,minimapCanvasOuterHeight:R}}static computeLayout(e,t){let i=t.outerWidth|0,n=t.outerHeight|0,r=t.lineHeight|0,s=t.lineNumbersDigitCount|0,a=t.typicalHalfwidthCharacterWidth,l=t.maxDigitWidth,c=t.pixelRatio,d=t.viewLineCount,h=e.get(122),u=h==="inherit"?e.get(121):h,f=u==="inherit"?e.get(117):u,p=e.get(120),b=e.get(2),v=t.isDominatedByLongLines,y=e.get(49),w=e.get(59).renderType!==0,S=e.get(60),x=e.get(93),k=e.get(64),R=e.get(91),O=R.verticalScrollbarSize,N=R.verticalHasArrows,W=R.arrowSize,G=R.horizontalScrollbarSize,Y=e.get(57),te=e.get(37),re;if(typeof Y=="string"&&/^\d+(\.\d+)?ch$/.test(Y)){let Gn=parseFloat(Y.substr(0,Y.length-2));re=qi.clampedInt(Gn*a,0,0,1e3)}else re=qi.clampedInt(Y,0,0,1e3);te&&(re+=16);let Pe=0;if(w){let Gn=Math.max(s,S);Pe=Math.round(Gn*l)}let Ne=0;y&&(Ne=r);let Ae=0,He=Ae+Ne,We=He+Pe,Ue=We+re,Ie=i-Ne-Pe-re,gi=!1,Si=!1,Ui=-1;b!==2&&(u==="inherit"&&v?(gi=!0,Si=!0):f==="on"||f==="bounded"?Si=!0:f==="wordWrapColumn"&&(Ui=p));let Gt=Cf._computeMinimapLayout({outerWidth:i,outerHeight:n,lineHeight:r,typicalHalfwidthCharacterWidth:a,pixelRatio:c,scrollBeyondLastLine:x,minimap:k,verticalScrollbarWidth:O,viewLineCount:d,remainingWidth:Ie,isViewportWrapping:Si},t.memory||new wx);Gt.renderMinimap!==0&&Gt.minimapLeft===0&&(Ae+=Gt.minimapWidth,He+=Gt.minimapWidth,We+=Gt.minimapWidth,Ue+=Gt.minimapWidth);let nn=Ie-Gt.minimapWidth,qo=Math.max(1,Math.floor((nn-O-2)/a)),Zo=N?W:0;return Si&&(Ui=Math.max(1,qo),f==="bounded"&&(Ui=Math.min(Ui,p))),{width:i,height:n,glyphMarginLeft:Ae,glyphMarginWidth:Ne,lineNumbersLeft:He,lineNumbersWidth:Pe,decorationsLeft:We,decorationsWidth:re,contentLeft:Ue,contentWidth:nn,minimap:Gt,viewportColumn:qo,isWordWrapMinified:gi,isViewportWrapping:Si,wrappingColumn:Ui,verticalScrollbarWidth:O,horizontalScrollbarHeight:G,overviewRuler:{top:Zo,width:O,height:n-2*Zo,right:0}}}},gj=class extends $n{constructor(){let e={enabled:!0};super(56,"lightbulb",e,{"editor.lightbulb.enabled":{type:"boolean",default:e.enabled,description:g("codeActions","Enables the code action lightbulb in the editor.")}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{enabled:$e(e.enabled,this.defaultValue.enabled)}}},mj=class extends $n{constructor(){let e={enabled:!0,fontSize:0,fontFamily:""};super(126,"inlayHints",e,{"editor.inlayHints.enabled":{type:"boolean",default:e.enabled,description:g("inlayHints.enable","Enables the inlay hints in the editor.")},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:g("inlayHints.fontSize","Controls font size of inlay hints in the editor. A default of 90% of `#editor.fontSize#` is used when the configured value is less than `5` or greater than the editor font size.")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,markdownDescription:g("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the `#editor.fontFamily#` is used.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:$e(t.enabled,this.defaultValue.enabled),fontSize:qi.clampedInt(t.fontSize,this.defaultValue.fontSize,0,100),fontFamily:Qr.string(t.fontFamily,this.defaultValue.fontFamily)}}},pj=class extends cc{constructor(){super(58,"lineHeight",In.lineHeight,e=>cc.clamp(e,0,150),{markdownDescription:g("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(e,t,i){return e.fontInfo.lineHeight}},_j=class extends $n{constructor(){let e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(64,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:g("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[g("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),g("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),g("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:g("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:g("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:g("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:g("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:g("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:g("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:$e(t.enabled,this.defaultValue.enabled),size:Br(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:Br(t.side,this.defaultValue.side,["right","left"]),showSlider:Br(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:$e(t.renderCharacters,this.defaultValue.renderCharacters),scale:qi.clampedInt(t.scale,1,1,3),maxColumn:qi.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4)}}};bj=class extends $n{constructor(){super(74,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:g("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:g("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{top:qi.clampedInt(t.top,0,0,1e3),bottom:qi.clampedInt(t.bottom,0,0,1e3)}}},vj=class extends $n{constructor(){let e={enabled:!0,cycle:!1};super(75,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:g("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:g("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:$e(t.enabled,this.defaultValue.enabled),cycle:$e(t.cycle,this.defaultValue.cycle)}}},wj=class extends Sm{constructor(){super(128)}compute(e,t,i){return e.pixelRatio}},Cj=class extends $n{constructor(){let e={other:!0,comments:!1,strings:!1};super(78,"quickSuggestions",e,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:e.strings,description:g("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:e.comments,description:g("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:e.other,description:g("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:e,description:g("quickSuggestions","Controls whether suggestions should automatically show up while typing.")});this.defaultValue=e}validate(e){if(typeof e=="boolean")return e;if(e&&typeof e=="object"){let t=e,i={other:$e(t.other,this.defaultValue.other),comments:$e(t.comments,this.defaultValue.comments),strings:$e(t.strings,this.defaultValue.strings)};return i.other&&i.comments&&i.strings?!0:!i.other&&!i.comments&&!i.strings?!1:i}return this.defaultValue}},yj=class extends $n{constructor(){super(59,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[g("lineNumbers.off","Line numbers are not rendered."),g("lineNumbers.on","Line numbers are rendered as absolute number."),g("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),g("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:g("lineNumbers","Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,i=this.defaultValue.renderFn;return typeof e!="undefined"&&(typeof e=="function"?(t=4,i=e):e==="interval"?t=3:e==="relative"?t=2:e==="on"?t=1:t=0),{renderType:t,renderFn:i}}};Sj=class extends $n{constructor(){let e=[],t={type:"number",description:g("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(90,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:g("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:g("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){let t=[];for(let i of e)if(typeof i=="number")t.push({column:qi.clampedInt(i,0,0,1e4),color:null});else if(i&&typeof i=="object"){let n=i;t.push({column:qi.clampedInt(n.column,0,0,1e4),color:n.color})}return t.sort((i,n)=>i.column-n.column),t}return this.defaultValue}};xj=class extends $n{constructor(){let e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(91,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[g("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),g("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),g("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:g("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[g("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),g("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),g("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:g("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:g("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:g("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:g("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e,i=qi.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),n=qi.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:qi.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:Ej(t.vertical,this.defaultValue.vertical),horizontal:Ej(t.horizontal,this.defaultValue.horizontal),useShadows:$e(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:$e(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:$e(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:$e(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:$e(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:i,horizontalSliderSize:qi.clampedInt(t.horizontalSliderSize,i,0,1e3),verticalScrollbarSize:n,verticalSliderSize:qi.clampedInt(t.verticalSliderSize,n,0,1e3),scrollByPage:$e(t.scrollByPage,this.defaultValue.scrollByPage)}}},hc="inUntrustedWorkspace",uc={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments"},Dj=class extends $n{constructor(){let e={nonBasicASCII:hc,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:hc,allowedCharacters:{}};super(112,"unicodeHighlight",e,{[uc.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,hc],default:e.nonBasicASCII,description:g("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[uc.invisibleCharacters]:{restricted:!0,type:"boolean",default:e.invisibleCharacters,description:g("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[uc.ambiguousCharacters]:{restricted:!0,type:"boolean",default:e.ambiguousCharacters,description:g("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[uc.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,hc],default:e.includeComments,description:g("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to unicode highlighting.")},[uc.allowedCharacters]:{restricted:!0,type:"object",default:e.allowedCharacters,description:g("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}}})}applyUpdate(e,t){let i=!1;t.allowedCharacters&&(ir(e.allowedCharacters,t.allowedCharacters)||(e=Object.assign(Object.assign({},e),{allowedCharacters:t.allowedCharacters}),i=!0));let n=super.applyUpdate(e,t);return i?new ym(n.newValue,!0):n}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{nonBasicASCII:Sx(t.nonBasicASCII,hc,[!0,!1,hc]),invisibleCharacters:$e(t.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:$e(t.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:Sx(t.includeComments,hc,[!0,!1,hc]),allowedCharacters:this.validateAllowedCharacters(e.allowedCharacters,this.defaultValue.allowedCharacters)}}validateAllowedCharacters(e,t){if(typeof e!="object"||!e)return t;let i={};for(let[n,r]of Object.entries(e))r===!0&&(i[n]=!0);return i}},Lj=class extends $n{constructor(){let e={enabled:!0,mode:"subwordSmart"};super(54,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:g("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:$e(t.enabled,this.defaultValue.enabled),mode:Br(t.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}},kj=class extends $n{constructor(){let e={enabled:Do.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",e,{"editor.bracketPairColorization.enabled":{type:"boolean",default:e.enabled,description:g("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use 'workbench.colorCustomizations' to override the bracket highlight colors.")}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{enabled:$e(e.enabled,this.defaultValue.enabled)}}},Ij=class extends $n{constructor(){let e={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",e,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[g("editor.guides.bracketPairs.true","Enables bracket pair guides."),g("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),g("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:e.bracketPairs,description:g("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[g("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),g("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),g("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:e.bracketPairsHorizontal,description:g("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:e.highlightActiveBracketPair,description:g("editor.guides.highlightActiveBracketPair","Controls whether bracket pair guides are enabled or not.")},"editor.guides.indentation":{type:"boolean",default:e.indentation,description:g("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:"boolean",default:e.highlightActiveIndentation,description:g("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{bracketPairs:Sx(t.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:Sx(t.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:$e(t.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:$e(t.indentation,this.defaultValue.indentation),highlightActiveIndentation:$e(t.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}}};Oj=class extends $n{constructor(){let e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(105,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[g("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),g("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:g("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:g("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:g("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:g("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:g("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:g("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:g("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:g("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:g("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:g("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:g("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{insertMode:Br(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:$e(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:$e(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:$e(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:$e(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:$e(t.showIcons,this.defaultValue.showIcons),showStatusBar:$e(t.showStatusBar,this.defaultValue.showStatusBar),preview:$e(t.preview,this.defaultValue.preview),previewMode:Br(t.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:$e(t.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:$e(t.showMethods,this.defaultValue.showMethods),showFunctions:$e(t.showFunctions,this.defaultValue.showFunctions),showConstructors:$e(t.showConstructors,this.defaultValue.showConstructors),showDeprecated:$e(t.showDeprecated,this.defaultValue.showDeprecated),showFields:$e(t.showFields,this.defaultValue.showFields),showVariables:$e(t.showVariables,this.defaultValue.showVariables),showClasses:$e(t.showClasses,this.defaultValue.showClasses),showStructs:$e(t.showStructs,this.defaultValue.showStructs),showInterfaces:$e(t.showInterfaces,this.defaultValue.showInterfaces),showModules:$e(t.showModules,this.defaultValue.showModules),showProperties:$e(t.showProperties,this.defaultValue.showProperties),showEvents:$e(t.showEvents,this.defaultValue.showEvents),showOperators:$e(t.showOperators,this.defaultValue.showOperators),showUnits:$e(t.showUnits,this.defaultValue.showUnits),showValues:$e(t.showValues,this.defaultValue.showValues),showConstants:$e(t.showConstants,this.defaultValue.showConstants),showEnums:$e(t.showEnums,this.defaultValue.showEnums),showEnumMembers:$e(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:$e(t.showKeywords,this.defaultValue.showKeywords),showWords:$e(t.showWords,this.defaultValue.showWords),showColors:$e(t.showColors,this.defaultValue.showColors),showFiles:$e(t.showFiles,this.defaultValue.showFiles),showReferences:$e(t.showReferences,this.defaultValue.showReferences),showFolders:$e(t.showFolders,this.defaultValue.showFolders),showTypeParameters:$e(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:$e(t.showSnippets,this.defaultValue.showSnippets),showUsers:$e(t.showUsers,this.defaultValue.showUsers),showIssues:$e(t.showIssues,this.defaultValue.showIssues)}}},Tj=class extends $n{constructor(){super(101,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:g("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:$e(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}},Nj=class extends Sm{constructor(){super(129,[80])}compute(e,t,i){return t.get(80)?!0:e.tabFocusMode}};Pj=class extends Sm{constructor(){super(131,[130])}compute(e,t,i){let n=t.get(130);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:n.isWordWrapMinified,isViewportWrapping:n.isViewportWrapping,wrappingColumn:n.wrappingColumn}}},ile="Consolas, 'Courier New', monospace",nle="Menlo, Monaco, 'Courier New', monospace",ole="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'",In={fontFamily:Xe?nle:rn?ole:ile,fontWeight:"normal",fontSize:Xe?12:14,lineHeight:0,letterSpacing:0},Do={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}},yf=[];Jr={acceptSuggestionOnCommitCharacter:me(new zt(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:g("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:me(new Mn(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",g("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:g("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:me(new rj),accessibilityPageSize:me(new qi(3,"accessibilityPageSize",10,1,1073741824,{description:g("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:me(new Qr(4,"ariaLabel",g("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:me(new Mn(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",g("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),g("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:g("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:me(new Mn(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",g("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:g("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:me(new Mn(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",g("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:g("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:me(new Mn(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",g("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),g("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:g("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:me(new gb(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],Xae,{enumDescriptions:[g("editor.autoIndent.none","The editor will not insert indentation automatically."),g("editor.autoIndent.keep","The editor will keep the current line's indentation."),g("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),g("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),g("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:g("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:me(new zt(10,"automaticLayout",!1)),autoSurround:me(new Mn(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[g("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),g("editor.autoSurround.quotes","Surround with quotes but not brackets."),g("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:g("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:me(new kj),bracketPairGuides:me(new Ij),stickyTabStops:me(new zt(103,"stickyTabStops",!1,{description:g("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:me(new zt(14,"codeLens",!0,{description:g("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:me(new Qr(15,"codeLensFontFamily","",{description:g("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:me(new qi(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:g("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, 90% of `#editor.fontSize#` is used.")})),colorDecorators:me(new zt(17,"colorDecorators",!0,{description:g("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:me(new zt(18,"columnSelection",!1,{description:g("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:me(new sj),contextmenu:me(new zt(20,"contextmenu",!0)),copyWithSyntaxHighlighting:me(new zt(21,"copyWithSyntaxHighlighting",!0,{description:g("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:me(new gb(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],Qae,{description:g("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:me(new zt(23,"cursorSmoothCaretAnimation",!1,{description:g("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:me(new gb(24,"cursorStyle",to.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],Jae,{description:g("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:me(new qi(25,"cursorSurroundingLines",0,0,1073741824,{description:g("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:me(new Mn(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[g("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),g("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:g("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:me(new qi(27,"cursorWidth",0,0,1073741824,{markdownDescription:g("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:me(new zt(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:me(new zt(29,"disableMonospaceOptimizations",!1)),domReadOnly:me(new zt(30,"domReadOnly",!1)),dragAndDrop:me(new zt(31,"dragAndDrop",!0,{description:g("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:me(new lj),extraEditorClassName:me(new Qr(33,"extraEditorClassName","")),fastScrollSensitivity:me(new cc(34,"fastScrollSensitivity",5,o=>o<=0?5:o,{markdownDescription:g("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:me(new cj),fixedOverflowWidgets:me(new zt(36,"fixedOverflowWidgets",!1)),folding:me(new zt(37,"folding",!0,{description:g("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:me(new Mn(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[g("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),g("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:g("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:me(new zt(39,"foldingHighlight",!0,{description:g("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:me(new zt(40,"foldingImportsByDefault",!1,{description:g("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),unfoldOnClickAfterEndOfLine:me(new zt(41,"unfoldOnClickAfterEndOfLine",!1,{description:g("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:me(new Qr(42,"fontFamily",In.fontFamily,{description:g("fontFamily","Controls the font family.")})),fontInfo:me(new dj),fontLigatures2:me(new Uo),fontSize:me(new hj),fontWeight:me(new dc),formatOnPaste:me(new zt(47,"formatOnPaste",!1,{description:g("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:me(new zt(48,"formatOnType",!1,{description:g("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:me(new zt(49,"glyphMargin",!0,{description:g("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:me(new uj),hideCursorInOverviewRuler:me(new zt(51,"hideCursorInOverviewRuler",!1,{description:g("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:me(new fj),inDiffEditor:me(new zt(53,"inDiffEditor",!1)),letterSpacing:me(new cc(55,"letterSpacing",In.letterSpacing,o=>cc.clamp(o,-5,20),{description:g("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:me(new gj),lineDecorationsWidth:me(new wf(57,"lineDecorationsWidth",10)),lineHeight:me(new pj),lineNumbers:me(new yj),lineNumbersMinChars:me(new qi(60,"lineNumbersMinChars",5,1,300)),linkedEditing:me(new zt(61,"linkedEditing",!1,{description:g("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:me(new zt(62,"links",!0,{description:g("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:me(new Mn(63,"matchBrackets","always",["always","near","never"],{description:g("matchBrackets","Highlight matching brackets.")})),minimap:me(new _j),mouseStyle:me(new Mn(65,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:me(new cc(66,"mouseWheelScrollSensitivity",1,o=>o===0?1:o,{markdownDescription:g("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:me(new zt(67,"mouseWheelZoom",!1,{markdownDescription:g("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:me(new zt(68,"multiCursorMergeOverlapping",!0,{description:g("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:me(new gb(69,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],ele,{markdownEnumDescriptions:[g("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),g("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:g({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:me(new Mn(70,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[g("multiCursorPaste.spread","Each cursor pastes a single line of the text."),g("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:g("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:me(new zt(71,"occurrencesHighlight",!0,{description:g("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:me(new zt(72,"overviewRulerBorder",!0,{description:g("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:me(new qi(73,"overviewRulerLanes",3,0,3)),padding:me(new bj),parameterHints:me(new vj),peekWidgetDefaultFocus:me(new Mn(76,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[g("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),g("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:g("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:me(new zt(77,"definitionLinkOpensInPeek",!1,{description:g("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:me(new Cj),quickSuggestionsDelay:me(new qi(79,"quickSuggestionsDelay",10,0,1073741824,{description:g("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:me(new zt(80,"readOnly",!1)),renameOnType:me(new zt(81,"renameOnType",!1,{description:g("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:g("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:me(new zt(82,"renderControlCharacters",!0,{description:g("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:me(new zt(83,"renderFinalNewline",!0,{description:g("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:me(new Mn(84,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",g("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:g("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:me(new zt(85,"renderLineHighlightOnlyWhenFocus",!1,{description:g("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:me(new Mn(86,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:me(new Mn(87,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",g("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),g("renderWhitespace.selection","Render whitespace characters only on selected text."),g("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:g("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:me(new qi(88,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:me(new zt(89,"roundedSelection",!0,{description:g("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:me(new Sj),scrollbar:me(new xj),scrollBeyondLastColumn:me(new qi(92,"scrollBeyondLastColumn",5,0,1073741824,{description:g("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:me(new zt(93,"scrollBeyondLastLine",!0,{description:g("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:me(new zt(94,"scrollPredominantAxis",!0,{description:g("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:me(new zt(95,"selectionClipboard",!0,{description:g("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:rn})),selectionHighlight:me(new zt(96,"selectionHighlight",!0,{description:g("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:me(new zt(97,"selectOnLineNumbers",!0)),showFoldingControls:me(new Mn(98,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[g("showFoldingControls.always","Always show the folding controls."),g("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:g("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:me(new zt(99,"showUnused",!0,{description:g("showUnused","Controls fading out of unused code.")})),showDeprecated:me(new zt(125,"showDeprecated",!0,{description:g("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:me(new mj),snippetSuggestions:me(new Mn(100,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[g("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),g("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),g("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),g("snippetSuggestions.none","Do not show snippet suggestions.")],description:g("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:me(new Tj),smoothScrolling:me(new zt(102,"smoothScrolling",!1,{description:g("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:me(new qi(104,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:me(new Oj),inlineSuggest:me(new Lj),suggestFontSize:me(new qi(106,"suggestFontSize",0,0,1e3,{markdownDescription:g("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:me(new qi(107,"suggestLineHeight",0,0,1e3,{markdownDescription:g("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.")})),suggestOnTriggerCharacters:me(new zt(108,"suggestOnTriggerCharacters",!0,{description:g("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:me(new Mn(109,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[g("suggestSelection.first","Always select the first suggestion."),g("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),g("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:g("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:me(new Mn(110,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[g("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),g("tabCompletion.off","Disable tab completions."),g("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:g("tabCompletion","Enables tab completions.")})),tabIndex:me(new qi(111,"tabIndex",0,-1,1073741824)),unicodeHighlight:me(new Dj),unusualLineTerminators:me(new Mn(113,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[g("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),g("unusualLineTerminators.off","Unusual line terminators are ignored."),g("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:g("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:me(new zt(114,"useShadowDOM",!0)),useTabStops:me(new zt(115,"useTabStops",!0,{description:g("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:me(new Qr(116,"wordSeparators",lP,{description:g("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:me(new Mn(117,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[g("wordWrap.off","Lines will never wrap."),g("wordWrap.on","Lines will wrap at the viewport width."),g({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),g({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:g({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:me(new Qr(118,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:me(new Qr(119,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:me(new qi(120,"wordWrapColumn",80,1,1073741824,{markdownDescription:g({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:me(new Mn(121,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:me(new Mn(122,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:me(new gb(123,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],tle,{enumDescriptions:[g("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),g("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),g("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),g("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:g("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:me(new Mn(124,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[g("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),g("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:g("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:me(new aj),pixelRatio:me(new wj),tabFocusMode:me(new Nj),layoutInfo:me(new Cf),wrappingInfo:me(new Pj)}});function ye(o){es(o)||Mj.onUnexpectedError(o)}function Di(o){es(o)||Mj.onUnexpectedExternalError(o)}function gP(o){if(o instanceof Error){let{name:e,message:t}=o,i=o.stacktrace||o.stack;return{$isError:!0,name:e,message:t,stack:i}}return o}function es(o){return o instanceof Error&&o.name===mP&&o.message===mP}function fc(){let o=new Error(mP);return o.name=o.message,o}function jr(o){return o?new Error(`Illegal argument: ${o}`):new Error("Illegal argument")}function Aj(o){return o?new Error(`Illegal state: ${o}`):new Error("Illegal state")}var Rj,Mj,mP,pP,st=ge(()=>{Rj=class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?new Error(e.message+`

`+e.stack):e},0)}}emit(e){this.listeners.forEach(t=>{t(e)})}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},Mj=new Rj;mP="Canceled";pP=class extends Error{constructor(e){super("NotSupported");e&&(this.message=e)}}});function ra(o){let e=this,t=!1,i;return function(){return t||(t=!0,i=o.apply(e,arguments)),i}}var Em=ge(()=>{});var St,Oa=ge(()=>{(function(o){function e(w){return w&&typeof w=="object"&&typeof w[Symbol.iterator]=="function"}o.is=e;let t=Object.freeze([]);function i(){return t}o.empty=i;function*n(w){yield w}o.single=n;function r(w){return w||t}o.from=r;function s(w){return!w||w[Symbol.iterator]().next().done===!0}o.isEmpty=s;function a(w){return w[Symbol.iterator]().next().value}o.first=a;function l(w,S){for(let x of w)if(S(x))return!0;return!1}o.some=l;function c(w,S){for(let x of w)if(S(x))return x}o.find=c;function*d(w,S){for(let x of w)S(x)&&(yield x)}o.filter=d;function*h(w,S){let x=0;for(let k of w)yield S(k,x++)}o.map=h;function*u(...w){for(let S of w)for(let x of S)yield x}o.concat=u;function*f(w){for(let S of w)for(let x of S)yield x}o.concatNested=f;function p(w,S,x){let k=x;for(let R of w)k=S(k,R);return k}o.reduce=p;function*b(w,S,x=w.length){for(S<0&&(S+=w.length),x<0?x+=w.length:x>w.length&&(x=w.length);S<x;S++)yield w[S]}o.slice=b;function v(w,S=Number.POSITIVE_INFINITY){let x=[];if(S===0)return[x,w];let k=w[Symbol.iterator]();for(let R=0;R<S;R++){let O=k.next();if(O.done)return[x,o.empty()];x.push(O.value)}return[x,{[Symbol.iterator](){return k}}]}o.consume=v;function y(w,S,x=(k,R)=>k===R){let k=w[Symbol.iterator](),R=S[Symbol.iterator]();for(;;){let O=k.next(),N=R.next();if(O.done!==N.done)return!1;if(O.done)return!0;if(!x(O.value,N.value))return!1}}o.equals=y})(St||(St={}))});function ale(o){Es=o}function Ex(o){return Es==null||Es.trackDisposable(o),o}function xx(o){Es==null||Es.markAsDisposed(o)}function Dx(o,e){Es==null||Es.setParent(o,e)}function lle(o,e){if(!!Es)for(let t of o)Es.setParent(t,e)}function Fj(o){return Es==null||Es.markAsSingleton(o),o}function pb(o){return typeof o.dispose=="function"&&o.dispose.length===0}function ct(o){if(St.is(o)){let e=[];for(let t of o)if(t)try{t.dispose()}catch(i){e.push(i)}if(e.length===1)throw e[0];if(e.length>1)throw new Bj(e);return Array.isArray(o)?[]:o}else if(o)return o.dispose(),o}function Ta(...o){let e=ze(()=>ct(o));return lle(o,e),e}function ze(o){let e=Ex({dispose:ra(()=>{xx(e),o()})});return e}var sle,Es,Bj,Q,$,_n,_P,ne=ge(()=>{Em();Oa();sle=!1,Es=null;if(sle){let o="__is_disposable_tracked__";ale(new class{trackDisposable(e){let t=new Error("Potentially leaked disposable").stack;setTimeout(()=>{e[o]||console.log(t)},3e3)}setParent(e,t){if(e&&e!==$.None)try{e[o]=!0}catch{}}markAsDisposed(e){if(e&&e!==$.None)try{e[o]=!0}catch{}}markAsSingleton(e){}})}Bj=class extends Error{constructor(e){super(`Encountered errors while disposing of store. Errors: [${e.join(", ")}]`);this.errors=e}};Q=class{constructor(){this._toDispose=new Set,this._isDisposed=!1,Ex(this)}dispose(){this._isDisposed||(xx(this),this._isDisposed=!0,this.clear())}clear(){try{ct(this._toDispose.values())}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return Dx(e,this),this._isDisposed?Q.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}};Q.DISABLE_DISPOSED_WARNING=!1;$=class{constructor(){this._store=new Q,Ex(this),Dx(this._store,this)}dispose(){xx(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};$.None=Object.freeze({dispose(){}});_n=class{constructor(){this._isDisposed=!1,Ex(this)}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||((t=this._value)===null||t===void 0||t.dispose(),e&&Dx(e,this),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,xx(this),(e=this._value)===null||e===void 0||e.dispose(),this._value=void 0}clearAndLeak(){let e=this._value;return this._value=void 0,e&&Dx(e,null),e}},_P=class{constructor(e){this.object=e}dispose(){}}});var bn,io,Rh=ge(()=>{bn=class{constructor(e){this.element=e,this.next=bn.Undefined,this.prev=bn.Undefined}};bn.Undefined=new bn(void 0);io=class{constructor(){this._first=bn.Undefined,this._last=bn.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===bn.Undefined}clear(){let e=this._first;for(;e!==bn.Undefined;){let t=e.next;e.prev=bn.Undefined,e.next=bn.Undefined,e=t}this._first=bn.Undefined,this._last=bn.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){let i=new bn(e);if(this._first===bn.Undefined)this._first=i,this._last=i;else if(t){let r=this._last;this._last=i,i.prev=r,r.next=i}else{let r=this._first;this._first=i,i.next=r,r.prev=i}this._size+=1;let n=!1;return()=>{n||(n=!0,this._remove(i))}}shift(){if(this._first!==bn.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==bn.Undefined){let e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==bn.Undefined&&e.next!==bn.Undefined){let t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===bn.Undefined&&e.next===bn.Undefined?(this._first=bn.Undefined,this._last=bn.Undefined):e.next===bn.Undefined?(this._last=this._last.prev,this._last.next=bn.Undefined):e.prev===bn.Undefined&&(this._first=this._first.next,this._first.prev=bn.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==bn.Undefined;)yield e.element,e=e.next}}});var cle,nr,Sf=ge(()=>{wt();cle=vi.performance&&typeof vi.performance.now=="function",nr=class{constructor(e){this._highResolution=cle&&e,this._startTime=this._now(),this._stopTime=-1}static create(e=!0){return new nr(e)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?vi.performance.now():Date.now()}}});var we,s0,jj,Wj,F,xm,bP,Dm,Lx,Se=ge(()=>{st();ne();Rh();Sf();(function(o){o.None=()=>$.None;function e(w){return(S,x=null,k)=>{let R=!1,O;return O=w(N=>{if(!R)return O?O.dispose():R=!0,S.call(x,N)},null,k),R&&O.dispose(),O}}o.once=e;function t(w,S){return l((x,k=null,R)=>w(O=>x.call(k,S(O)),null,R))}o.map=t;function i(w,S){return l((x,k=null,R)=>w(O=>{S(O),x.call(k,O)},null,R))}o.forEach=i;function n(w,S){return l((x,k=null,R)=>w(O=>S(O)&&x.call(k,O),null,R))}o.filter=n;function r(w){return w}o.signal=r;function s(...w){return(S,x=null,k)=>Ta(...w.map(R=>R(O=>S.call(x,O),null,k)))}o.any=s;function a(w,S,x){let k=x;return t(w,R=>(k=S(k,R),k))}o.reduce=a;function l(w){let S,x=new F({onFirstListenerAdd(){S=w(x.fire,x)},onLastListenerRemove(){S.dispose()}});return x.event}function c(w,S,x=100,k=!1,R){let O,N,W,G=0,Y=new F({leakWarningThreshold:R,onFirstListenerAdd(){O=w(te=>{G++,N=S(N,te),k&&!W&&(Y.fire(N),N=void 0),clearTimeout(W),W=setTimeout(()=>{let re=N;N=void 0,W=void 0,(!k||G>1)&&Y.fire(re),G=0},x)})},onLastListenerRemove(){O.dispose()}});return Y.event}o.debounce=c;function d(w,S=(x,k)=>x===k){let x=!0,k;return n(w,R=>{let O=x||!S(R,k);return x=!1,k=R,O})}o.latch=d;function h(w,S){return[o.filter(w,S),o.filter(w,x=>!S(x))]}o.split=h;function u(w,S=!1,x=[]){let k=x.slice(),R=w(W=>{k?k.push(W):N.fire(W)}),O=()=>{k&&k.forEach(W=>N.fire(W)),k=null},N=new F({onFirstListenerAdd(){R||(R=w(W=>N.fire(W)))},onFirstListenerDidAdd(){k&&(S?setTimeout(O):O())},onLastListenerRemove(){R&&R.dispose(),R=null}});return N.event}o.buffer=u;class f{constructor(S){this.event=S}map(S){return new f(t(this.event,S))}forEach(S){return new f(i(this.event,S))}filter(S){return new f(n(this.event,S))}reduce(S,x){return new f(a(this.event,S,x))}latch(){return new f(d(this.event))}debounce(S,x=100,k=!1,R){return new f(c(this.event,S,x,k,R))}on(S,x,k){return this.event(S,x,k)}once(S,x,k){return e(this.event)(S,x,k)}}function p(w){return new f(w)}o.chain=p;function b(w,S,x=k=>k){let k=(...W)=>N.fire(x(...W)),R=()=>w.on(S,k),O=()=>w.removeListener(S,k),N=new F({onFirstListenerAdd:R,onLastListenerRemove:O});return N.event}o.fromNodeEventEmitter=b;function v(w,S,x=k=>k){let k=(...W)=>N.fire(x(...W)),R=()=>w.addEventListener(S,k),O=()=>w.removeEventListener(S,k),N=new F({onFirstListenerAdd:R,onLastListenerRemove:O});return N.event}o.fromDOMEventEmitter=v;function y(w){return new Promise(S=>e(w)(S))}o.toPromise=y})(we||(we={}));s0=class{constructor(e){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${e}_${s0._idPool++}`}start(e){this._stopWatch=new nr(!0),this._listenerCount=e}stop(){if(this._stopWatch){let e=this._stopWatch.elapsed();this._elapsedOverall+=e,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${e.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}};s0._idPool=0;jj=-1,Wj=class{constructor(e,t=Math.random().toString(18).slice(2,5)){this.customThreshold=e,this.name=t,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(e){let t=jj;if(typeof this.customThreshold=="number"&&(t=this.customThreshold),t<=0||e<t)return;this._stacks||(this._stacks=new Map);let i=new Error().stack.split(`
`).slice(3).join(`
`),n=this._stacks.get(i)||0;if(this._stacks.set(i,n+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=t*.5;let r,s=0;for(let[a,l]of this._stacks)(!r||s<l)&&(r=a,s=l);console.warn(`[${this.name}] potential listener LEAK detected, having ${e} listeners already. MOST frequent listener (${s}):`),console.warn(r)}return()=>{let r=this._stacks.get(i)||0;this._stacks.set(i,r-1)}}},F=class{constructor(e){var t;this._disposed=!1,this._options=e,this._leakageMon=jj>0?new Wj(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=((t=this._options)===null||t===void 0?void 0:t._profName)?new s0(this._options._profName):void 0}get event(){return this._event||(this._event=(e,t,i)=>{var n;this._listeners||(this._listeners=new io);let r=this._listeners.isEmpty();r&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);let s=this._listeners.push(t?[e,t]:e);r&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,e,t);let a=(n=this._leakageMon)===null||n===void 0?void 0:n.check(this._listeners.size),l=ze(()=>{a&&a(),this._disposed||(s(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return i instanceof Q?i.add(l):Array.isArray(i)&&i.push(l),l}),this._event}fire(e){var t,i;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new io);for(let n of this._listeners)this._deliveryQueue.push([n,e]);for((t=this._perfMon)===null||t===void 0||t.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){let[n,r]=this._deliveryQueue.shift();try{typeof n=="function"?n.call(void 0,r):n[0].call(n[1],r)}catch(s){ye(s)}}(i=this._perfMon)===null||i===void 0||i.stop()}}dispose(){var e,t,i,n,r;this._disposed||(this._disposed=!0,(e=this._listeners)===null||e===void 0||e.clear(),(t=this._deliveryQueue)===null||t===void 0||t.clear(),(n=(i=this._options)===null||i===void 0?void 0:i.onLastListenerRemove)===null||n===void 0||n.call(i),(r=this._leakageMon)===null||r===void 0||r.dispose())}},xm=class extends F{constructor(e){super(e);this._isPaused=0,this._eventQueue=new io,this._mergeFn=e==null?void 0:e.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){let e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(e){this._listeners&&(this._isPaused!==0?this._eventQueue.push(e):super.fire(e))}},bP=class extends xm{constructor(e){var t;super(e);this._delay=(t=e.delay)!==null&&t!==void 0?t:100}fire(e){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(e)}},Dm=class{constructor(){this.buffers=[]}wrapEvent(e){return(t,i,n)=>e(r=>{let s=this.buffers[this.buffers.length-1];s?s.push(()=>t.call(i,r)):t.call(i,r)},void 0,n)}bufferEvents(e){let t=[];this.buffers.push(t);let i=e();return this.buffers.pop(),t.forEach(n=>n()),i}},Lx=class{constructor(){this.listening=!1,this.inputEvent=we.None,this.inputEventListener=$.None,this.emitter=new F({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}});var Uj,qe,a0,sn,Ei=ge(()=>{Se();Uj=Object.freeze(function(o,e){let t=setTimeout(o.bind(e),0);return{dispose(){clearTimeout(t)}}});(function(o){function e(t){return t===o.None||t===o.Cancelled||t instanceof a0?!0:!t||typeof t!="object"?!1:typeof t.isCancellationRequested=="boolean"&&typeof t.onCancellationRequested=="function"}o.isCancellationToken=e,o.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:we.None}),o.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Uj})})(qe||(qe={}));a0=class{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Uj:(this._emitter||(this._emitter=new F),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},sn=class{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new a0),this._token}cancel(){this._token?this._token instanceof a0&&this._token.cancel():this._token=qe.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof a0&&this._token.dispose():this._token=qe.None}}});function Ji(o,e){let t=(e&65535)<<16>>>0;return(o|t)>>>0}var kx,Ix,vP,wP,CP,dle,hle,ule,fle,Ox,yP,Mh,Na=ge(()=>{kx=class{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}},Ix=new kx,vP=new kx,wP=new kx,CP=new Array(230),dle={},hle=[],ule=Object.create(null),fle=Object.create(null),Ox=[],yP=[];for(let o=0;o<=193;o++)Ox[o]=-1;for(let o=0;o<=126;o++)yP[o]=-1;(function(){let o="",e=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",o,o],[0,1,1,"Hyper",0,o,0,o,o,o],[0,1,2,"Super",0,o,0,o,o,o],[0,1,3,"Fn",0,o,0,o,o,o],[0,1,4,"FnLock",0,o,0,o,o,o],[0,1,5,"Suspend",0,o,0,o,o,o],[0,1,6,"Resume",0,o,0,o,o,o],[0,1,7,"Turbo",0,o,0,o,o,o],[0,1,8,"Sleep",0,o,0,"VK_SLEEP",o,o],[0,1,9,"WakeUp",0,o,0,o,o,o],[31,0,10,"KeyA",31,"A",65,"VK_A",o,o],[32,0,11,"KeyB",32,"B",66,"VK_B",o,o],[33,0,12,"KeyC",33,"C",67,"VK_C",o,o],[34,0,13,"KeyD",34,"D",68,"VK_D",o,o],[35,0,14,"KeyE",35,"E",69,"VK_E",o,o],[36,0,15,"KeyF",36,"F",70,"VK_F",o,o],[37,0,16,"KeyG",37,"G",71,"VK_G",o,o],[38,0,17,"KeyH",38,"H",72,"VK_H",o,o],[39,0,18,"KeyI",39,"I",73,"VK_I",o,o],[40,0,19,"KeyJ",40,"J",74,"VK_J",o,o],[41,0,20,"KeyK",41,"K",75,"VK_K",o,o],[42,0,21,"KeyL",42,"L",76,"VK_L",o,o],[43,0,22,"KeyM",43,"M",77,"VK_M",o,o],[44,0,23,"KeyN",44,"N",78,"VK_N",o,o],[45,0,24,"KeyO",45,"O",79,"VK_O",o,o],[46,0,25,"KeyP",46,"P",80,"VK_P",o,o],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",o,o],[48,0,27,"KeyR",48,"R",82,"VK_R",o,o],[49,0,28,"KeyS",49,"S",83,"VK_S",o,o],[50,0,29,"KeyT",50,"T",84,"VK_T",o,o],[51,0,30,"KeyU",51,"U",85,"VK_U",o,o],[52,0,31,"KeyV",52,"V",86,"VK_V",o,o],[53,0,32,"KeyW",53,"W",87,"VK_W",o,o],[54,0,33,"KeyX",54,"X",88,"VK_X",o,o],[55,0,34,"KeyY",55,"Y",89,"VK_Y",o,o],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",o,o],[22,0,36,"Digit1",22,"1",49,"VK_1",o,o],[23,0,37,"Digit2",23,"2",50,"VK_2",o,o],[24,0,38,"Digit3",24,"3",51,"VK_3",o,o],[25,0,39,"Digit4",25,"4",52,"VK_4",o,o],[26,0,40,"Digit5",26,"5",53,"VK_5",o,o],[27,0,41,"Digit6",27,"6",54,"VK_6",o,o],[28,0,42,"Digit7",28,"7",55,"VK_7",o,o],[29,0,43,"Digit8",29,"8",56,"VK_8",o,o],[30,0,44,"Digit9",30,"9",57,"VK_9",o,o],[21,0,45,"Digit0",21,"0",48,"VK_0",o,o],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",o,o],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",o,o],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",o,o],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",o,o],[10,1,50,"Space",10,"Space",32,"VK_SPACE",o,o],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,o,0,o,o,o],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",o,o],[59,1,64,"F1",59,"F1",112,"VK_F1",o,o],[60,1,65,"F2",60,"F2",113,"VK_F2",o,o],[61,1,66,"F3",61,"F3",114,"VK_F3",o,o],[62,1,67,"F4",62,"F4",115,"VK_F4",o,o],[63,1,68,"F5",63,"F5",116,"VK_F5",o,o],[64,1,69,"F6",64,"F6",117,"VK_F6",o,o],[65,1,70,"F7",65,"F7",118,"VK_F7",o,o],[66,1,71,"F8",66,"F8",119,"VK_F8",o,o],[67,1,72,"F9",67,"F9",120,"VK_F9",o,o],[68,1,73,"F10",68,"F10",121,"VK_F10",o,o],[69,1,74,"F11",69,"F11",122,"VK_F11",o,o],[70,1,75,"F12",70,"F12",123,"VK_F12",o,o],[0,1,76,"PrintScreen",0,o,0,o,o,o],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",o,o],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",o,o],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",o,o],[14,1,80,"Home",14,"Home",36,"VK_HOME",o,o],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",o,o],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",o,o],[13,1,83,"End",13,"End",35,"VK_END",o,o],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",o,o],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",o],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",o],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",o],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",o],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",o,o],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",o,o],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",o,o],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",o,o],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",o,o],[3,1,94,"NumpadEnter",3,o,0,o,o,o],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",o,o],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",o,o],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",o,o],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",o,o],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",o,o],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",o,o],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",o,o],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",o,o],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",o,o],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",o,o],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",o,o],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",o,o],[58,1,107,"ContextMenu",58,"ContextMenu",93,o,o,o],[0,1,108,"Power",0,o,0,o,o,o],[0,1,109,"NumpadEqual",0,o,0,o,o,o],[71,1,110,"F13",71,"F13",124,"VK_F13",o,o],[72,1,111,"F14",72,"F14",125,"VK_F14",o,o],[73,1,112,"F15",73,"F15",126,"VK_F15",o,o],[74,1,113,"F16",74,"F16",127,"VK_F16",o,o],[75,1,114,"F17",75,"F17",128,"VK_F17",o,o],[76,1,115,"F18",76,"F18",129,"VK_F18",o,o],[77,1,116,"F19",77,"F19",130,"VK_F19",o,o],[0,1,117,"F20",0,o,0,"VK_F20",o,o],[0,1,118,"F21",0,o,0,"VK_F21",o,o],[0,1,119,"F22",0,o,0,"VK_F22",o,o],[0,1,120,"F23",0,o,0,"VK_F23",o,o],[0,1,121,"F24",0,o,0,"VK_F24",o,o],[0,1,122,"Open",0,o,0,o,o,o],[0,1,123,"Help",0,o,0,o,o,o],[0,1,124,"Select",0,o,0,o,o,o],[0,1,125,"Again",0,o,0,o,o,o],[0,1,126,"Undo",0,o,0,o,o,o],[0,1,127,"Cut",0,o,0,o,o,o],[0,1,128,"Copy",0,o,0,o,o,o],[0,1,129,"Paste",0,o,0,o,o,o],[0,1,130,"Find",0,o,0,o,o,o],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",o,o],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",o,o],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",o,o],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",o,o],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",o,o],[0,1,136,"KanaMode",0,o,0,o,o,o],[0,0,137,"IntlYen",0,o,0,o,o,o],[0,1,138,"Convert",0,o,0,o,o,o],[0,1,139,"NonConvert",0,o,0,o,o,o],[0,1,140,"Lang1",0,o,0,o,o,o],[0,1,141,"Lang2",0,o,0,o,o,o],[0,1,142,"Lang3",0,o,0,o,o,o],[0,1,143,"Lang4",0,o,0,o,o,o],[0,1,144,"Lang5",0,o,0,o,o,o],[0,1,145,"Abort",0,o,0,o,o,o],[0,1,146,"Props",0,o,0,o,o,o],[0,1,147,"NumpadParenLeft",0,o,0,o,o,o],[0,1,148,"NumpadParenRight",0,o,0,o,o,o],[0,1,149,"NumpadBackspace",0,o,0,o,o,o],[0,1,150,"NumpadMemoryStore",0,o,0,o,o,o],[0,1,151,"NumpadMemoryRecall",0,o,0,o,o,o],[0,1,152,"NumpadMemoryClear",0,o,0,o,o,o],[0,1,153,"NumpadMemoryAdd",0,o,0,o,o,o],[0,1,154,"NumpadMemorySubtract",0,o,0,o,o,o],[0,1,155,"NumpadClear",0,o,0,o,o,o],[0,1,156,"NumpadClearEntry",0,o,0,o,o,o],[5,1,0,o,5,"Ctrl",17,"VK_CONTROL",o,o],[4,1,0,o,4,"Shift",16,"VK_SHIFT",o,o],[6,1,0,o,6,"Alt",18,"VK_MENU",o,o],[57,1,0,o,57,"Meta",0,"VK_COMMAND",o,o],[5,1,157,"ControlLeft",5,o,0,"VK_LCONTROL",o,o],[4,1,158,"ShiftLeft",4,o,0,"VK_LSHIFT",o,o],[6,1,159,"AltLeft",6,o,0,"VK_LMENU",o,o],[57,1,160,"MetaLeft",57,o,0,"VK_LWIN",o,o],[5,1,161,"ControlRight",5,o,0,"VK_RCONTROL",o,o],[4,1,162,"ShiftRight",4,o,0,"VK_RSHIFT",o,o],[6,1,163,"AltRight",6,o,0,"VK_RMENU",o,o],[57,1,164,"MetaRight",57,o,0,"VK_RWIN",o,o],[0,1,165,"BrightnessUp",0,o,0,o,o,o],[0,1,166,"BrightnessDown",0,o,0,o,o,o],[0,1,167,"MediaPlay",0,o,0,o,o,o],[0,1,168,"MediaRecord",0,o,0,o,o,o],[0,1,169,"MediaFastForward",0,o,0,o,o,o],[0,1,170,"MediaRewind",0,o,0,o,o,o],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",o,o],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",o,o],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",o,o],[0,1,174,"Eject",0,o,0,o,o,o],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",o,o],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",o,o],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",o,o],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",o,o],[0,1,179,"LaunchApp1",0,o,0,"VK_MEDIA_LAUNCH_APP1",o,o],[0,1,180,"SelectTask",0,o,0,o,o,o],[0,1,181,"LaunchScreenSaver",0,o,0,o,o,o],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",o,o],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",o,o],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",o,o],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",o,o],[0,1,186,"BrowserStop",0,o,0,"VK_BROWSER_STOP",o,o],[0,1,187,"BrowserRefresh",0,o,0,"VK_BROWSER_REFRESH",o,o],[0,1,188,"BrowserFavorites",0,o,0,"VK_BROWSER_FAVORITES",o,o],[0,1,189,"ZoomToggle",0,o,0,o,o,o],[0,1,190,"MailReply",0,o,0,o,o,o],[0,1,191,"MailForward",0,o,0,o,o,o],[0,1,192,"MailSend",0,o,0,o,o,o],[109,1,0,o,109,"KeyInComposition",229,o,o,o],[111,1,0,o,111,"ABNT_C2",194,"VK_ABNT_C2",o,o],[91,1,0,o,91,"OEM_8",223,"VK_OEM_8",o,o],[0,1,0,o,0,o,0,"VK_CLEAR",o,o],[0,1,0,o,0,o,0,"VK_KANA",o,o],[0,1,0,o,0,o,0,"VK_HANGUL",o,o],[0,1,0,o,0,o,0,"VK_JUNJA",o,o],[0,1,0,o,0,o,0,"VK_FINAL",o,o],[0,1,0,o,0,o,0,"VK_HANJA",o,o],[0,1,0,o,0,o,0,"VK_KANJI",o,o],[0,1,0,o,0,o,0,"VK_CONVERT",o,o],[0,1,0,o,0,o,0,"VK_NONCONVERT",o,o],[0,1,0,o,0,o,0,"VK_ACCEPT",o,o],[0,1,0,o,0,o,0,"VK_MODECHANGE",o,o],[0,1,0,o,0,o,0,"VK_SELECT",o,o],[0,1,0,o,0,o,0,"VK_PRINT",o,o],[0,1,0,o,0,o,0,"VK_EXECUTE",o,o],[0,1,0,o,0,o,0,"VK_SNAPSHOT",o,o],[0,1,0,o,0,o,0,"VK_HELP",o,o],[0,1,0,o,0,o,0,"VK_APPS",o,o],[0,1,0,o,0,o,0,"VK_PROCESSKEY",o,o],[0,1,0,o,0,o,0,"VK_PACKET",o,o],[0,1,0,o,0,o,0,"VK_DBE_SBCSCHAR",o,o],[0,1,0,o,0,o,0,"VK_DBE_DBCSCHAR",o,o],[0,1,0,o,0,o,0,"VK_ATTN",o,o],[0,1,0,o,0,o,0,"VK_CRSEL",o,o],[0,1,0,o,0,o,0,"VK_EXSEL",o,o],[0,1,0,o,0,o,0,"VK_EREOF",o,o],[0,1,0,o,0,o,0,"VK_PLAY",o,o],[0,1,0,o,0,o,0,"VK_ZOOM",o,o],[0,1,0,o,0,o,0,"VK_NONAME",o,o],[0,1,0,o,0,o,0,"VK_PA1",o,o],[0,1,0,o,0,o,0,"VK_OEM_CLEAR",o,o]],t=[],i=[];for(let n of e){let[r,s,a,l,c,d,h,u,f,p]=n;if(i[a]||(i[a]=!0,hle[a]=l,ule[l]=a,fle[l.toLowerCase()]=a,s&&(Ox[a]=c,c!==0&&c!==3&&c!==5&&c!==4&&c!==6&&c!==57&&(yP[c]=a))),!t[c]){if(t[c]=!0,!d)throw new Error(`String representation missing for key code ${c} around scan code ${l}`);Ix.define(c,d),vP.define(c,f||d),wP.define(c,p||f||d)}h&&(CP[h]=c),u&&(dle[u]=c)}yP[3]=46})();(function(o){function e(a){return Ix.keyCodeToStr(a)}o.toString=e;function t(a){return Ix.strToKeyCode(a)}o.fromString=t;function i(a){return vP.keyCodeToStr(a)}o.toUserSettingsUS=i;function n(a){return wP.keyCodeToStr(a)}o.toUserSettingsGeneral=n;function r(a){return vP.strToKeyCode(a)||wP.strToKeyCode(a)}o.fromUserSettings=r;function s(a){if(a>=93&&a<=108)return null;switch(a){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return Ix.keyCodeToStr(a)}o.toElectronAccelerator=s})(Mh||(Mh={}))});var _b,Tx,zj,Ef,Vj=ge(()=>{wt();if(typeof vi.vscode!="undefined"&&typeof vi.vscode.process!="undefined"){let o=vi.vscode.process;_b={get platform(){return o.platform},get arch(){return o.arch},get env(){return o.env},cwd(){return o.cwd()}}}else typeof process!="undefined"?_b={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:_b={get platform(){return Mi?"win32":Xe?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};Tx=_b.cwd,zj=_b.env,Ef=_b.platform});function po(o,e){if(typeof o!="string")throw new SP(e,"string",o)}function si(o){return o===yr||o===sa}function EP(o){return o===yr}function Lf(o){return o>=mle&&o<=_le||o>=ple&&o<=ble}function Nx(o,e,t,i){let n="",r=0,s=-1,a=0,l=0;for(let c=0;c<=o.length;++c){if(c<o.length)l=o.charCodeAt(c);else{if(i(l))break;l=yr}if(i(l)){if(!(s===c-1||a===1))if(a===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==xf||n.charCodeAt(n.length-2)!==xf){if(n.length>2){let d=n.lastIndexOf(t);d===-1?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf(t)),s=c,a=0;continue}else if(n.length!==0){n="",r=0,s=c,a=0;continue}}e&&(n+=n.length>0?`${t}..`:"..",r=2)}else n.length>0?n+=`${t}${o.slice(s+1,c)}`:n=o.slice(s+1,c),r=c-s-1;s=c,a=0}else l===xf&&a!==-1?++a:a=-1}return n}function Hj(o,e){if(e===null||typeof e!="object")throw new SP("pathObject","Object",e);let t=e.dir||e.root,i=e.base||`${e.name||""}${e.ext||""}`;return t?t===e.root?`${t}${i}`:`${t}${o}${i}`:i}var mle,ple,_le,ble,xf,yr,sa,Df,vle,SP,ts,an,bb,$j,Px,Rx,ud,Kj,fd,kf=ge(()=>{Vj();mle=65,ple=97,_le=90,ble=122,xf=46,yr=47,sa=92,Df=58,vle=63,SP=class extends Error{constructor(e,t,i){let n;typeof t=="string"&&t.indexOf("not ")===0?(n="must not be",t=t.replace(/^not /,"")):n="must be";let r=e.indexOf(".")!==-1?"property":"argument",s=`The "${e}" ${r} ${n} of type ${t}`;s+=`. Received type ${typeof i}`;super(s);this.code="ERR_INVALID_ARG_TYPE"}};ts={resolve(...o){let e="",t="",i=!1;for(let n=o.length-1;n>=-1;n--){let r;if(n>=0){if(r=o[n],po(r,"path"),r.length===0)continue}else e.length===0?r=Tx():(r=zj[`=${e}`]||Tx(),(r===void 0||r.slice(0,2).toLowerCase()!==e.toLowerCase()&&r.charCodeAt(2)===sa)&&(r=`${e}\\`));let s=r.length,a=0,l="",c=!1,d=r.charCodeAt(0);if(s===1)si(d)&&(a=1,c=!0);else if(si(d))if(c=!0,si(r.charCodeAt(1))){let h=2,u=h;for(;h<s&&!si(r.charCodeAt(h));)h++;if(h<s&&h!==u){let f=r.slice(u,h);for(u=h;h<s&&si(r.charCodeAt(h));)h++;if(h<s&&h!==u){for(u=h;h<s&&!si(r.charCodeAt(h));)h++;(h===s||h!==u)&&(l=`\\\\${f}\\${r.slice(u,h)}`,a=h)}}}else a=1;else Lf(d)&&r.charCodeAt(1)===Df&&(l=r.slice(0,2),a=2,s>2&&si(r.charCodeAt(2))&&(c=!0,a=3));if(l.length>0)if(e.length>0){if(l.toLowerCase()!==e.toLowerCase())continue}else e=l;if(i){if(e.length>0)break}else if(t=`${r.slice(a)}\\${t}`,i=c,c&&e.length>0)break}return t=Nx(t,!i,"\\",si),i?`${e}\\${t}`:`${e}${t}`||"."},normalize(o){po(o,"path");let e=o.length;if(e===0)return".";let t=0,i,n=!1,r=o.charCodeAt(0);if(e===1)return EP(r)?"\\":o;if(si(r))if(n=!0,si(o.charCodeAt(1))){let a=2,l=a;for(;a<e&&!si(o.charCodeAt(a));)a++;if(a<e&&a!==l){let c=o.slice(l,a);for(l=a;a<e&&si(o.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!si(o.charCodeAt(a));)a++;if(a===e)return`\\\\${c}\\${o.slice(l)}\\`;a!==l&&(i=`\\\\${c}\\${o.slice(l,a)}`,t=a)}}}else t=1;else Lf(r)&&o.charCodeAt(1)===Df&&(i=o.slice(0,2),t=2,e>2&&si(o.charCodeAt(2))&&(n=!0,t=3));let s=t<e?Nx(o.slice(t),!n,"\\",si):"";return s.length===0&&!n&&(s="."),s.length>0&&si(o.charCodeAt(e-1))&&(s+="\\"),i===void 0?n?`\\${s}`:s:n?`${i}\\${s}`:`${i}${s}`},isAbsolute(o){po(o,"path");let e=o.length;if(e===0)return!1;let t=o.charCodeAt(0);return si(t)||e>2&&Lf(t)&&o.charCodeAt(1)===Df&&si(o.charCodeAt(2))},join(...o){if(o.length===0)return".";let e,t;for(let r=0;r<o.length;++r){let s=o[r];po(s,"path"),s.length>0&&(e===void 0?e=t=s:e+=`\\${s}`)}if(e===void 0)return".";let i=!0,n=0;if(typeof t=="string"&&si(t.charCodeAt(0))){++n;let r=t.length;r>1&&si(t.charCodeAt(1))&&(++n,r>2&&(si(t.charCodeAt(2))?++n:i=!1))}if(i){for(;n<e.length&&si(e.charCodeAt(n));)n++;n>=2&&(e=`\\${e.slice(n)}`)}return ts.normalize(e)},relative(o,e){if(po(o,"from"),po(e,"to"),o===e)return"";let t=ts.resolve(o),i=ts.resolve(e);if(t===i||(o=t.toLowerCase(),e=i.toLowerCase(),o===e))return"";let n=0;for(;n<o.length&&o.charCodeAt(n)===sa;)n++;let r=o.length;for(;r-1>n&&o.charCodeAt(r-1)===sa;)r--;let s=r-n,a=0;for(;a<e.length&&e.charCodeAt(a)===sa;)a++;let l=e.length;for(;l-1>a&&e.charCodeAt(l-1)===sa;)l--;let c=l-a,d=s<c?s:c,h=-1,u=0;for(;u<d;u++){let p=o.charCodeAt(n+u);if(p!==e.charCodeAt(a+u))break;p===sa&&(h=u)}if(u!==d){if(h===-1)return i}else{if(c>d){if(e.charCodeAt(a+u)===sa)return i.slice(a+u+1);if(u===2)return i.slice(a+u)}s>d&&(o.charCodeAt(n+u)===sa?h=u:u===2&&(h=3)),h===-1&&(h=0)}let f="";for(u=n+h+1;u<=r;++u)(u===r||o.charCodeAt(u)===sa)&&(f+=f.length===0?"..":"\\..");return a+=h,f.length>0?`${f}${i.slice(a,l)}`:(i.charCodeAt(a)===sa&&++a,i.slice(a,l))},toNamespacedPath(o){if(typeof o!="string")return o;if(o.length===0)return"";let e=ts.resolve(o);if(e.length<=2)return o;if(e.charCodeAt(0)===sa){if(e.charCodeAt(1)===sa){let t=e.charCodeAt(2);if(t!==vle&&t!==xf)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(Lf(e.charCodeAt(0))&&e.charCodeAt(1)===Df&&e.charCodeAt(2)===sa)return`\\\\?\\${e}`;return o},dirname(o){po(o,"path");let e=o.length;if(e===0)return".";let t=-1,i=0,n=o.charCodeAt(0);if(e===1)return si(n)?o:".";if(si(n)){if(t=i=1,si(o.charCodeAt(1))){let a=2,l=a;for(;a<e&&!si(o.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&si(o.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!si(o.charCodeAt(a));)a++;if(a===e)return o;a!==l&&(t=i=a+1)}}}}else Lf(n)&&o.charCodeAt(1)===Df&&(t=e>2&&si(o.charCodeAt(2))?3:2,i=t);let r=-1,s=!0;for(let a=e-1;a>=i;--a)if(si(o.charCodeAt(a))){if(!s){r=a;break}}else s=!1;if(r===-1){if(t===-1)return".";r=t}return o.slice(0,r)},basename(o,e){e!==void 0&&po(e,"ext"),po(o,"path");let t=0,i=-1,n=!0,r;if(o.length>=2&&Lf(o.charCodeAt(0))&&o.charCodeAt(1)===Df&&(t=2),e!==void 0&&e.length>0&&e.length<=o.length){if(e===o)return"";let s=e.length-1,a=-1;for(r=o.length-1;r>=t;--r){let l=o.charCodeAt(r);if(si(l)){if(!n){t=r+1;break}}else a===-1&&(n=!1,a=r+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(i=r):(s=-1,i=a))}return t===i?i=a:i===-1&&(i=o.length),o.slice(t,i)}for(r=o.length-1;r>=t;--r)if(si(o.charCodeAt(r))){if(!n){t=r+1;break}}else i===-1&&(n=!1,i=r+1);return i===-1?"":o.slice(t,i)},extname(o){po(o,"path");let e=0,t=-1,i=0,n=-1,r=!0,s=0;o.length>=2&&o.charCodeAt(1)===Df&&Lf(o.charCodeAt(0))&&(e=i=2);for(let a=o.length-1;a>=e;--a){let l=o.charCodeAt(a);if(si(l)){if(!r){i=a+1;break}continue}n===-1&&(r=!1,n=a+1),l===xf?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===i+1?"":o.slice(t,n)},format:Hj.bind(null,"\\"),parse(o){po(o,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return e;let t=o.length,i=0,n=o.charCodeAt(0);if(t===1)return si(n)?(e.root=e.dir=o,e):(e.base=e.name=o,e);if(si(n)){if(i=1,si(o.charCodeAt(1))){let h=2,u=h;for(;h<t&&!si(o.charCodeAt(h));)h++;if(h<t&&h!==u){for(u=h;h<t&&si(o.charCodeAt(h));)h++;if(h<t&&h!==u){for(u=h;h<t&&!si(o.charCodeAt(h));)h++;h===t?i=h:h!==u&&(i=h+1)}}}}else if(Lf(n)&&o.charCodeAt(1)===Df){if(t<=2)return e.root=e.dir=o,e;if(i=2,si(o.charCodeAt(2))){if(t===3)return e.root=e.dir=o,e;i=3}}i>0&&(e.root=o.slice(0,i));let r=-1,s=i,a=-1,l=!0,c=o.length-1,d=0;for(;c>=i;--c){if(n=o.charCodeAt(c),si(n)){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),n===xf?r===-1?r=c:d!==1&&(d=1):r!==-1&&(d=-1)}return a!==-1&&(r===-1||d===0||d===1&&r===a-1&&r===s+1?e.base=e.name=o.slice(s,a):(e.name=o.slice(s,r),e.base=o.slice(s,a),e.ext=o.slice(r,a))),s>0&&s!==i?e.dir=o.slice(0,s-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},an={resolve(...o){let e="",t=!1;for(let i=o.length-1;i>=-1&&!t;i--){let n=i>=0?o[i]:Tx();po(n,"path"),n.length!==0&&(e=`${n}/${e}`,t=n.charCodeAt(0)===yr)}return e=Nx(e,!t,"/",EP),t?`/${e}`:e.length>0?e:"."},normalize(o){if(po(o,"path"),o.length===0)return".";let e=o.charCodeAt(0)===yr,t=o.charCodeAt(o.length-1)===yr;return o=Nx(o,!e,"/",EP),o.length===0?e?"/":t?"./":".":(t&&(o+="/"),e?`/${o}`:o)},isAbsolute(o){return po(o,"path"),o.length>0&&o.charCodeAt(0)===yr},join(...o){if(o.length===0)return".";let e;for(let t=0;t<o.length;++t){let i=o[t];po(i,"path"),i.length>0&&(e===void 0?e=i:e+=`/${i}`)}return e===void 0?".":an.normalize(e)},relative(o,e){if(po(o,"from"),po(e,"to"),o===e||(o=an.resolve(o),e=an.resolve(e),o===e))return"";let t=1,i=o.length,n=i-t,r=1,s=e.length-r,a=n<s?n:s,l=-1,c=0;for(;c<a;c++){let h=o.charCodeAt(t+c);if(h!==e.charCodeAt(r+c))break;h===yr&&(l=c)}if(c===a)if(s>a){if(e.charCodeAt(r+c)===yr)return e.slice(r+c+1);if(c===0)return e.slice(r+c)}else n>a&&(o.charCodeAt(t+c)===yr?l=c:c===0&&(l=0));let d="";for(c=t+l+1;c<=i;++c)(c===i||o.charCodeAt(c)===yr)&&(d+=d.length===0?"..":"/..");return`${d}${e.slice(r+l)}`},toNamespacedPath(o){return o},dirname(o){if(po(o,"path"),o.length===0)return".";let e=o.charCodeAt(0)===yr,t=-1,i=!0;for(let n=o.length-1;n>=1;--n)if(o.charCodeAt(n)===yr){if(!i){t=n;break}}else i=!1;return t===-1?e?"/":".":e&&t===1?"//":o.slice(0,t)},basename(o,e){e!==void 0&&po(e,"ext"),po(o,"path");let t=0,i=-1,n=!0,r;if(e!==void 0&&e.length>0&&e.length<=o.length){if(e===o)return"";let s=e.length-1,a=-1;for(r=o.length-1;r>=0;--r){let l=o.charCodeAt(r);if(l===yr){if(!n){t=r+1;break}}else a===-1&&(n=!1,a=r+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(i=r):(s=-1,i=a))}return t===i?i=a:i===-1&&(i=o.length),o.slice(t,i)}for(r=o.length-1;r>=0;--r)if(o.charCodeAt(r)===yr){if(!n){t=r+1;break}}else i===-1&&(n=!1,i=r+1);return i===-1?"":o.slice(t,i)},extname(o){po(o,"path");let e=-1,t=0,i=-1,n=!0,r=0;for(let s=o.length-1;s>=0;--s){let a=o.charCodeAt(s);if(a===yr){if(!n){t=s+1;break}continue}i===-1&&(n=!1,i=s+1),a===xf?e===-1?e=s:r!==1&&(r=1):e!==-1&&(r=-1)}return e===-1||i===-1||r===0||r===1&&e===i-1&&e===t+1?"":o.slice(e,i)},format:Hj.bind(null,"/"),parse(o){po(o,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return e;let t=o.charCodeAt(0)===yr,i;t?(e.root="/",i=1):i=0;let n=-1,r=0,s=-1,a=!0,l=o.length-1,c=0;for(;l>=i;--l){let d=o.charCodeAt(l);if(d===yr){if(!a){r=l+1;break}continue}s===-1&&(a=!1,s=l+1),d===xf?n===-1?n=l:c!==1&&(c=1):n!==-1&&(c=-1)}if(s!==-1){let d=r===0&&t?1:r;n===-1||c===0||c===1&&n===s-1&&n===r+1?e.base=e.name=o.slice(d,s):(e.name=o.slice(d,n),e.base=o.slice(d,s),e.ext=o.slice(n,s))}return r>0?e.dir=o.slice(0,r-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};an.win32=ts.win32=ts;an.posix=ts.posix=an;bb=Ef==="win32"?ts.normalize:an.normalize,$j=Ef==="win32"?ts.resolve:an.resolve,Px=Ef==="win32"?ts.relative:an.relative,Rx=Ef==="win32"?ts.dirname:an.dirname,ud=Ef==="win32"?ts.basename:an.basename,Kj=Ef==="win32"?ts.extname:an.extname,fd=Ef==="win32"?ts.sep:an.sep});function Yj(o,e){if(!o.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${o.authority}", path: "${o.path}", query: "${o.query}", fragment: "${o.fragment}"}`);if(o.scheme&&!wle.test(o.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(o.path){if(o.authority){if(!Cle.test(o.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(yle.test(o.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function Sle(o,e){return!o&&!e?"file":o}function Ele(o,e){switch(o){case"https":case"http":case"file":e?e[0]!==gc&&(e=gc+e):e=gc;break}return e}function Gj(o,e){let t,i=-1;for(let n=0;n<o.length;n++){let r=o.charCodeAt(n);if(r>=97&&r<=122||r>=65&&r<=90||r>=48&&r<=57||r===45||r===46||r===95||r===126||e&&r===47)i!==-1&&(t+=encodeURIComponent(o.substring(i,n)),i=-1),t!==void 0&&(t+=o.charAt(n));else{t===void 0&&(t=o.substr(0,n));let s=Zj[r];s!==void 0?(i!==-1&&(t+=encodeURIComponent(o.substring(i,n)),i=-1),t+=s):i===-1&&(i=n)}}return i!==-1&&(t+=encodeURIComponent(o.substring(i))),t!==void 0?t:o}function Dle(o){let e;for(let t=0;t<o.length;t++){let i=o.charCodeAt(t);i===35||i===63?(e===void 0&&(e=o.substr(0,t)),e+=Zj[i]):e!==void 0&&(e+=o[t])}return e!==void 0?e:o}function l0(o,e){let t;return o.authority&&o.path.length>1&&o.scheme==="file"?t=`//${o.authority}${o.path}`:o.path.charCodeAt(0)===47&&(o.path.charCodeAt(1)>=65&&o.path.charCodeAt(1)<=90||o.path.charCodeAt(1)>=97&&o.path.charCodeAt(1)<=122)&&o.path.charCodeAt(2)===58?e?t=o.path.substr(1):t=o.path[1].toLowerCase()+o.path.substr(2):t=o.path,Mi&&(t=t.replace(/\//g,"\\")),t}function xP(o,e){let t=e?Dle:Gj,i="",{scheme:n,authority:r,path:s,query:a,fragment:l}=o;if(n&&(i+=n,i+=":"),(r||n==="file")&&(i+=gc,i+=gc),r){let c=r.indexOf("@");if(c!==-1){let d=r.substr(0,c);r=r.substr(c+1),c=d.indexOf(":"),c===-1?i+=t(d,!1):(i+=t(d.substr(0,c),!1),i+=":",i+=t(d.substr(c+1),!1)),i+="@"}r=r.toLowerCase(),c=r.indexOf(":"),c===-1?i+=t(r,!1):(i+=t(r.substr(0,c),!1),i+=r.substr(c))}if(s){if(s.length>=3&&s.charCodeAt(0)===47&&s.charCodeAt(2)===58){let c=s.charCodeAt(1);c>=65&&c<=90&&(s=`/${String.fromCharCode(c+32)}:${s.substr(3)}`)}else if(s.length>=2&&s.charCodeAt(1)===58){let c=s.charCodeAt(0);c>=65&&c<=90&&(s=`${String.fromCharCode(c+32)}:${s.substr(2)}`)}i+=t(s,!0)}return a&&(i+="?",i+=t(a,!1)),l&&(i+="#",i+=e?l:Gj(l,!1)),i}function Xj(o){try{return decodeURIComponent(o)}catch{return o.length>3?o.substr(0,3)+Xj(o.substr(3)):o}}function Ax(o){return o.match(Qj)?o.replace(Qj,e=>Xj(e)):o}var wle,Cle,yle,yn,gc,xle,Ee,qj,Lm,Zj,Qj,Ai=ge(()=>{kf();wt();wle=/^\w[\w\d+.-]*$/,Cle=/^\//,yle=/^\/\//;yn="",gc="/",xle=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,Ee=class{constructor(e,t,i,n,r,s=!1){typeof e=="object"?(this.scheme=e.scheme||yn,this.authority=e.authority||yn,this.path=e.path||yn,this.query=e.query||yn,this.fragment=e.fragment||yn):(this.scheme=Sle(e,s),this.authority=t||yn,this.path=Ele(this.scheme,i||yn),this.query=n||yn,this.fragment=r||yn,Yj(this,s))}static isUri(e){return e instanceof Ee?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}get fsPath(){return l0(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:i,path:n,query:r,fragment:s}=e;return t===void 0?t=this.scheme:t===null&&(t=yn),i===void 0?i=this.authority:i===null&&(i=yn),n===void 0?n=this.path:n===null&&(n=yn),r===void 0?r=this.query:r===null&&(r=yn),s===void 0?s=this.fragment:s===null&&(s=yn),t===this.scheme&&i===this.authority&&n===this.path&&r===this.query&&s===this.fragment?this:new Lm(t,i,n,r,s)}static parse(e,t=!1){let i=xle.exec(e);return i?new Lm(i[2]||yn,Ax(i[4]||yn),Ax(i[5]||yn),Ax(i[7]||yn),Ax(i[9]||yn),t):new Lm(yn,yn,yn,yn,yn)}static file(e){let t=yn;if(Mi&&(e=e.replace(/\\/g,gc)),e[0]===gc&&e[1]===gc){let i=e.indexOf(gc,2);i===-1?(t=e.substring(2),e=gc):(t=e.substring(2,i),e=e.substring(i)||gc)}return new Lm("file",t,e,yn,yn)}static from(e){let t=new Lm(e.scheme,e.authority,e.path,e.query,e.fragment);return Yj(t,!0),t}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let i;return Mi&&e.scheme==="file"?i=Ee.file(ts.join(l0(e,!0),...t)).path:i=an.join(e.path,...t),e.with({path:i})}toString(e=!1){return xP(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof Ee)return e;{let t=new Lm(e);return t._formatted=e.external,t._fsPath=e._sep===qj?e.fsPath:null,t}}else return e}},qj=Mi?1:void 0,Lm=class extends Ee{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=l0(this,!1)),this._fsPath}toString(e=!1){return e?xP(this,!0):(this._formatted||(this._formatted=xP(this,!1)),this._formatted)}toJSON(){let e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=qj),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}},Zj={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};Qj=/(%[0-9A-Za-z][0-9A-Za-z])+/g});var H,ot=ge(()=>{H=class{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new H(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return H.equals(this,e)}static equals(e,t){return!e&&!t?!0:!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return H.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<t.column}isBeforeOrEqual(e){return H.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<=t.column}static compare(e,t){let i=e.lineNumber|0,n=t.lineNumber|0;if(i===n){let r=e.column|0,s=t.column|0;return r-s}return i-n}clone(){return new H(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new H(e.lineNumber,e.column)}static isIPosition(e){return e&&typeof e.lineNumber=="number"&&typeof e.column=="number"}}});var D,ve=ge(()=>{ot();D=class{constructor(e,t,i,n){e>i||e===i&&t>n?(this.startLineNumber=i,this.startColumn=n,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=n)}isEmpty(){return D.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return D.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<e.startColumn||t.lineNumber===e.endLineNumber&&t.column>e.endColumn)}static strictContainsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<=e.startColumn||t.lineNumber===e.endLineNumber&&t.column>=e.endColumn)}containsRange(e){return D.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)}strictContainsRange(e){return D.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)}plusRange(e){return D.plusRange(this,e)}static plusRange(e,t){let i,n,r,s;return t.startLineNumber<e.startLineNumber?(i=t.startLineNumber,n=t.startColumn):t.startLineNumber===e.startLineNumber?(i=t.startLineNumber,n=Math.min(t.startColumn,e.startColumn)):(i=e.startLineNumber,n=e.startColumn),t.endLineNumber>e.endLineNumber?(r=t.endLineNumber,s=t.endColumn):t.endLineNumber===e.endLineNumber?(r=t.endLineNumber,s=Math.max(t.endColumn,e.endColumn)):(r=e.endLineNumber,s=e.endColumn),new D(i,n,r,s)}intersectRanges(e){return D.intersectRanges(this,e)}static intersectRanges(e,t){let i=e.startLineNumber,n=e.startColumn,r=e.endLineNumber,s=e.endColumn,a=t.startLineNumber,l=t.startColumn,c=t.endLineNumber,d=t.endColumn;return i<a?(i=a,n=l):i===a&&(n=Math.max(n,l)),r>c?(r=c,s=d):r===c&&(s=Math.min(s,d)),i>r||i===r&&n>s?null:new D(i,n,r,s)}equalsRange(e){return D.equalsRange(this,e)}static equalsRange(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return D.getEndPosition(this)}static getEndPosition(e){return new H(e.endLineNumber,e.endColumn)}getStartPosition(){return D.getStartPosition(this)}static getStartPosition(e){return new H(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new D(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new D(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return D.collapseToStart(this)}static collapseToStart(e){return new D(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}static fromPositions(e,t=e){return new D(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new D(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&typeof e.startLineNumber=="number"&&typeof e.startColumn=="number"&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){let r=e.startLineNumber|0,s=t.startLineNumber|0;if(r===s){let a=e.startColumn|0,l=t.startColumn|0;if(a===l){let c=e.endLineNumber|0,d=t.endLineNumber|0;if(c===d){let h=e.endColumn|0,u=t.endColumn|0;return h-u}return c-d}return a-l}return r-s}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}}});var de,ai=ge(()=>{ot();ve();de=class extends D{constructor(e,t,i,n){super(e,t,i,n);this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=i,this.positionColumn=n}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return de.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return this.getDirection()===0?new de(this.startLineNumber,this.startColumn,e,t):new de(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new H(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new H(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(e,t){return this.getDirection()===0?new de(e,t,this.endLineNumber,this.endColumn):new de(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new de(e.lineNumber,e.column,t.lineNumber,t.column)}static fromRange(e,t){return t===0?new de(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):new de(e.endLineNumber,e.endColumn,e.startLineNumber,e.startColumn)}static liftSelection(e){return new de(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let i=0,n=e.length;i<n;i++)if(!this.selectionsEqual(e[i],t[i]))return!1;return!0}static isISelection(e){return e&&typeof e.selectionStartLineNumber=="number"&&typeof e.selectionStartColumn=="number"&&typeof e.positionLineNumber=="number"&&typeof e.positionColumn=="number"}static createWithDirection(e,t,i,n,r){return r===0?new de(e,t,i,n):new de(i,n,e,t)}}});var Ah,km,If,c0=ge(()=>{Ah=class{constructor(e,t,i){this._tokenBrand=void 0,this.offset=e,this.type=t,this.language=i}toString(){return"("+this.offset+", "+this.type+")"}},km=class{constructor(e,t){this._tokenizationResultBrand=void 0,this.tokens=e,this.endState=t}},If=class{constructor(e,t){this._tokenizationResult2Brand=void 0,this.tokens=e,this.endState=t}}});function kle(o,e,t,i){e[wl.DI_TARGET]===e?e[wl.DI_DEPENDENCIES].push({id:o,index:t,optional:i}):(e[wl.DI_DEPENDENCIES]=[{id:o,index:t,optional:i}],e[wl.DI_TARGET]=e)}function Fe(o){if(wl.serviceIds.has(o))return wl.serviceIds.get(o);let e=function(t,i,n){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");kle(e,t,n,!1)};return e.toString=()=>o,wl.serviceIds.set(o,e),e}var wl,Ve,Ge=ge(()=>{(function(o){o.serviceIds=new Map,o.DI_TARGET="$di$target",o.DI_DEPENDENCIES="$di$dependencies";function e(t){return t[o.DI_DEPENDENCIES]||[]}o.getServiceDependencies=e})(wl||(wl={}));Ve=Fe("instantiationService")});var Ot,_o=ge(()=>{Ge();Ot=Fe("codeEditorService")});var yl={};BE(yl,{getPixelRatio:()=>Im,getTimeSinceLastZoomLevelChanged:()=>LP,getZoomFactor:()=>kP,getZoomLevel:()=>d0,isAndroid:()=>TP,isChrome:()=>IP,isEdgeLegacyWebView:()=>Ile,isElectron:()=>Ole,isFirefox:()=>On,isSafari:()=>or,isStandalone:()=>u0,isWebKit:()=>Cl,isWebkitWebView:()=>OP,onDidChangeZoomLevel:()=>h0});function d0(){return Of.INSTANCE.getZoomLevel()}function LP(){return Of.INSTANCE.getTimeSinceLastZoomLevelChanged()}function h0(o){return Of.INSTANCE.onDidChangeZoomLevel(o)}function kP(){return Of.INSTANCE.getZoomFactor()}function Im(){return Of.INSTANCE.getPixelRatio()}var Of,Tf,On,Cl,IP,or,OP,Ile,Ole,TP,u0,Lo=ge(()=>{Se();Of=class{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new F,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let e=document.createElement("canvas").getContext("2d"),t=window.devicePixelRatio||1,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/i}};Of.INSTANCE=new Of;Tf=navigator.userAgent,On=Tf.indexOf("Firefox")>=0,Cl=Tf.indexOf("AppleWebKit")>=0,IP=Tf.indexOf("Chrome")>=0,or=!IP&&Tf.indexOf("Safari")>=0,OP=!IP&&!or&&Cl,Ile=Tf.indexOf("Edge/")>=0&&Tf.indexOf("WebView/")>=0,Ole=Tf.indexOf("Electron/")>=0,TP=Tf.indexOf("Android")>=0,u0=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches});var Om,vD=ge(()=>{Lo();wt();Om={clipboard:{writeText:Xr||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:Xr||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>Xr||u0?0:navigator.keyboard||or?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}});function f0(o,e){if(o===0)return null;let t=(o&65535)>>>0,i=(o&4294901760)>>>16;return i!==0?new wb([NP(t,e),NP(i,e)]):new wb([NP(t,e)])}function NP(o,e){let t=!!(o&2048),i=!!(o&256),n=e===2?i:t,r=!!(o&1024),s=!!(o&512),a=e===2?t:i,l=o&255;return new Sl(n,r,s,a,l)}var Sl,wb,PP,RP,Tm=ge(()=>{st();Sl=class{constructor(e,t,i,n,r){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyCode=r}equals(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new wb([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}},wb=class{constructor(e){if(e.length===0)throw jr("parts");this.parts=e}},PP=class{constructor(e,t,i,n,r,s){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyLabel=r,this.keyAriaLabel=s}},RP=class{}});function Tle(o){if(o.charCode){let t=String.fromCharCode(o.charCode).toUpperCase();return Mh.fromString(t)}let e=o.keyCode;if(e===3)return 7;if(On){if(e===59)return 80;if(e===107)return 81;if(e===109)return 83;if(Xe&&e===224)return 57}else if(Cl){if(e===91)return 57;if(Xe&&e===93)return 57;if(!Xe&&e===92)return 57}return CP[e]||0}var Nle,Ple,Rle,Mle,Kt,is=ge(()=>{Lo();Na();Tm();wt();Nle=Xe?256:2048,Ple=512,Rle=1024,Mle=Xe?2048:256,Kt=class{constructor(e){this._standardKeyboardEventBrand=!0;let t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.keyCode=Tle(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=Nle),this.altKey&&(t|=Ple),this.shiftKey&&(t|=Rle),this.metaKey&&(t|=Mle),t|=e,t}_computeRuntimeKeybinding(){let e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new Sl(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}});function Ale(o){if(!o.parent||o.parent===o)return null;try{let e=o.location,t=o.parent.location;if(e.origin!=="null"&&t.origin!=="null"&&e.origin!==t.origin)return MP=!0,null}catch{return MP=!0,null}return o.parent}var MP,Cb,yb,AP=ge(()=>{MP=!1,Cb=null;yb=class{static getSameOriginWindowChain(){if(!Cb){Cb=[];let e=window,t;do t=Ale(e),t?Cb.push({window:e,iframeElement:e.frameElement||null}):Cb.push({window:e,iframeElement:null}),e=t;while(e)}return Cb.slice(0)}static hasDifferentOriginAncestor(){return Cb||this.getSameOriginWindowChain(),MP}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let i=0,n=0,r=this.getSameOriginWindowChain();for(let s of r){if(i+=s.window.scrollY,n+=s.window.scrollX,s.window===t||!s.iframeElement)break;let a=s.iframeElement.getBoundingClientRect();i+=a.top,n+=a.left}return{top:i,left:n}}}});var bo,mc,Pa=ge(()=>{Lo();AP();wt();bo=class{constructor(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=e.button===0,this.middleButton=e.button===1,this.rightButton=e.button===2,this.buttons=e.buttons,this.target=e.target,this.detail=e.detail||1,e.type==="dblclick"&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,typeof e.pageX=="number"?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);let t=yb.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=t.left,this.posy-=t.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}},mc=class{constructor(e,t=0,i=0){if(this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t,e){let n=e,r=e;if(typeof n.wheelDeltaY!="undefined")this.deltaY=n.wheelDeltaY/120;else if(typeof r.VERTICAL_AXIS!="undefined"&&r.axis===r.VERTICAL_AXIS)this.deltaY=-r.detail/3;else if(e.type==="wheel"){let s=e;s.deltaMode===s.DOM_DELTA_LINE?On&&!Xe?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof n.wheelDeltaX!="undefined")or&&Mi?this.deltaX=-(n.wheelDeltaX/120):this.deltaX=n.wheelDeltaX/120;else if(typeof r.HORIZONTAL_AXIS!="undefined"&&r.axis===r.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){let s=e;s.deltaMode===s.DOM_DELTA_LINE?On&&!Xe?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}});function Jj(o){return!!o&&typeof o.then=="function"}function wi(o){let e=new sn,t=o(e.token),i=new Promise((n,r)=>{let s=e.token.onCancellationRequested(()=>{s.dispose(),e.dispose(),r(fc())});Promise.resolve(t).then(a=>{s.dispose(),e.dispose(),n(a)},a=>{s.dispose(),e.dispose(),r(a)})});return new class{cancel(){e.cancel()}then(n,r){return i.then(n,r)}catch(n){return this.then(void 0,n)}finally(n){return i.finally(n)}}}function Sb(o,e,t){return Promise.race([o,new Promise(i=>e.onCancellationRequested(()=>i(t)))])}function El(o,e){return e?new Promise((t,i)=>{let n=setTimeout(()=>{r.dispose(),t()},o),r=e.onCancellationRequested(()=>{clearTimeout(n),r.dispose(),i(fc())})}):wi(t=>El(o,t))}function xl(o,e=0){let t=setTimeout(o,e);return ze(()=>clearTimeout(t))}function wD(o,e=i=>!!i,t=null){let i=0,n=o.length,r=()=>{if(i>=n)return Promise.resolve(t);let s=o[i++];return Promise.resolve(s()).then(l=>e(l)?Promise.resolve(l):r())};return r()}function i6(o){let e=new sn,t=o(e.token);return new t6(e,i=>Ra(this,void 0,void 0,function*(){var n,r;let s=e.token.onCancellationRequested(()=>{s.dispose(),e.dispose(),i.reject(fc())});try{try{for(var a=g0(t),l;l=yield a.next(),!l.done;){let c=l.value;if(e.token.isCancellationRequested)return;i.emitOne(c)}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=a.return)&&(yield r.call(a))}finally{if(n)throw n.error}}s.dispose(),e.dispose()}catch(c){s.dispose(),e.dispose(),i.reject(c)}}))}var Ra,g0,e6,Wr,FP,Fi,gd,bt,m0,pc,BP,CD,Sn,t6,tt=ge(()=>{Ei();st();Se();ne();wt();Ra=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},g0=function(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=o[Symbol.asyncIterator],t;return e?e.call(o):(o=typeof __values=="function"?__values(o):o[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=o[r]&&function(s){return new Promise(function(a,l){s=o[r](s),n(a,l,s.done,s.value)})}}function n(r,s,a,l){Promise.resolve(l).then(function(c){r({value:c,done:a})},s)}};e6=class{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){let t=()=>{this.queuedPromise=null;let i=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,i};this.queuedPromise=new Promise(i=>{this.activePromise.then(t,t).then(i)})}return new Promise((t,i)=>{this.queuedPromise.then(t,i)})}return this.activePromise=e(),new Promise((t,i)=>{this.activePromise.then(n=>{this.activePromise=null,t(n)},n=>{this.activePromise=null,i(n)})})}},Wr=class{constructor(e){this.defaultDelay=e,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,t=this.defaultDelay){return this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((i,n)=>{this.doResolve=i,this.doReject=n}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){let i=this.task;return this.task=null,i()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},t),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(fc()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}},FP=class{constructor(e){this.delayer=new Wr(e),this.throttler=new e6}trigger(e,t){return this.delayer.trigger(()=>this.throttler.queue(e),t)}dispose(){this.delayer.dispose()}};Fi=class{constructor(e,t){this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}},gd=class{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setInterval(()=>{e()},t)}},bt=class{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}};(function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?m0=o=>{aP(()=>{if(e)return;let t=Date.now()+3;o(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,t-Date.now())}}))});let e=!1;return{dispose(){e||(e=!0)}}}:m0=(o,e)=>{let t=requestIdleCallback(o,typeof e=="number"?{timeout:e}:void 0),i=!1;return{dispose(){i||(i=!0,cancelIdleCallback(t))}}}})();pc=class{constructor(e){this._didRun=!1,this._executor=()=>{try{this._value=e()}catch(t){this._error=t}finally{this._didRun=!0}},this._handle=m0(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}},BP=class{constructor(){this.resolved=!1,this.p=new Promise((e,t)=>{this.completeCallback=e,this.errorCallback=t})}complete(e){return new Promise(t=>{this.completeCallback(e),this.resolved=!0,t()})}};(function(o){function e(i){return Ra(this,void 0,void 0,function*(){let n,r=yield Promise.all(i.map(s=>s.then(a=>a,a=>{n||(n=a)})));if(typeof n!="undefined")throw n;return r})}o.settled=e;function t(i){return new Promise((n,r)=>Ra(this,void 0,void 0,function*(){try{yield i(n,r)}catch(s){r(s)}}))}o.withAsyncBody=t})(CD||(CD={}));Sn=class{constructor(e){this._state=0,this._results=[],this._error=null,this._onStateChanged=new F,queueMicrotask(()=>Ra(this,void 0,void 0,function*(){let t={emitOne:i=>this.emitOne(i),emitMany:i=>this.emitMany(i),reject:i=>this.reject(i)};try{yield Promise.resolve(e(t)),this.resolve()}catch(i){this.reject(i)}finally{t.emitOne=void 0,t.emitMany=void 0,t.reject=void 0}}))}static fromArray(e){return new Sn(t=>{t.emitMany(e)})}static fromPromise(e){return new Sn(t=>Ra(this,void 0,void 0,function*(){t.emitMany(yield e)}))}static fromPromises(e){return new Sn(t=>Ra(this,void 0,void 0,function*(){yield Promise.all(e.map(i=>Ra(this,void 0,void 0,function*(){return t.emitOne(yield i)})))}))}static merge(e){return new Sn(t=>Ra(this,void 0,void 0,function*(){yield Promise.all(e.map(i=>{var n,r;return Ra(this,void 0,void 0,function*(){var s,a;try{for(n=g0(i);r=yield n.next(),!r.done;){let l=r.value;t.emitOne(l)}}catch(l){s={error:l}}finally{try{r&&!r.done&&(a=n.return)&&(yield a.call(n))}finally{if(s)throw s.error}}})}))}))}[Symbol.asyncIterator](){let e=0;return{next:()=>Ra(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};yield we.toPromise(this._onStateChanged.event)}while(!0)})}}static map(e,t){return new Sn(i=>Ra(this,void 0,void 0,function*(){var n,r;try{for(var s=g0(e),a;a=yield s.next(),!a.done;){let l=a.value;i.emitOne(t(l))}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&(yield r.call(s))}finally{if(n)throw n.error}}}))}map(e){return Sn.map(this,e)}static filter(e,t){return new Sn(i=>Ra(this,void 0,void 0,function*(){var n,r;try{for(var s=g0(e),a;a=yield s.next(),!a.done;){let l=a.value;t(l)&&i.emitOne(l)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&(yield r.call(s))}finally{if(n)throw n.error}}}))}filter(e){return Sn.filter(this,e)}static coalesce(e){return Sn.filter(e,t=>!!t)}coalesce(){return Sn.coalesce(this)}static toPromise(e){var t,i,n,r;return Ra(this,void 0,void 0,function*(){let s=[];try{for(t=g0(e);i=yield t.next(),!i.done;){let a=i.value;s.push(a)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=t.return)&&(yield r.call(t))}finally{if(n)throw n.error}}return s})}toPromise(){return Sn.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}};Sn.EMPTY=Sn.fromArray([]);t6=class extends Sn{constructor(e,t){super(t);this._source=e}cancel(){this._source.cancel()}}});var nt,n6,jP,Eb,yD,ns=ge(()=>{wt();Ai();(function(o){o.inMemory="inmemory",o.vscode="vscode",o.internal="private",o.walkThrough="walkThrough",o.walkThroughSnippet="walkThroughSnippet",o.http="http",o.https="https",o.file="file",o.mailto="mailto",o.untitled="untitled",o.data="data",o.command="command",o.vscodeRemote="vscode-remote",o.vscodeRemoteResource="vscode-remote-resource",o.userData="vscode-userdata",o.vscodeCustomEditor="vscode-custom-editor",o.vscodeNotebook="vscode-notebook",o.vscodeNotebookCell="vscode-notebook-cell",o.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",o.vscodeNotebookCellOutput="vscode-notebook-cell-output",o.vscodeInteractive="vscode-interactive",o.vscodeInteractiveInput="vscode-interactive-input",o.vscodeSettings="vscode-settings",o.vscodeWorkspaceTrust="vscode-workspace-trust",o.vscodeTerminal="vscode-terminal",o.webviewPanel="webview-panel",o.vscodeWebview="vscode-webview",o.extension="extension",o.vscodeFileResource="vscode-file",o.tmp="tmp",o.vsls="vsls"})(nt||(nt={}));n6=class{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(e){this._preferredWebSchema=e}rewrite(e){if(this._delegate)return this._delegate(e);let t=e.authority,i=this._hosts[t];i&&i.indexOf(":")!==-1&&(i=`[${i}]`);let n=this._ports[t],r=this._connectionTokens[t],s=`path=${encodeURIComponent(e.path)}`;return typeof r=="string"&&(s+=`&tkn=${encodeURIComponent(r)}`),Ee.from({scheme:na?this._preferredWebSchema:nt.vscodeRemoteResource,authority:`${i}:${n}`,path:"/vscode-remote-resource",query:s})}},jP=new n6,Eb=class{asBrowserUri(e,t){let i=this.toUri(e,t);return i.scheme===nt.vscodeRemote?jP.rewrite(i):i.scheme===nt.file&&(Xr||typeof vi.importScripts=="function"&&vi.origin===`${nt.vscodeFileResource}://${Eb.FALLBACK_AUTHORITY}`)?i.with({scheme:nt.vscodeFileResource,authority:i.authority||Eb.FALLBACK_AUTHORITY,query:null,fragment:null}):i}toUri(e,t){return Ee.isUri(e)?e:Ee.parse(t.toUrl(e))}};Eb.FALLBACK_AUTHORITY="vscode-app";yD=new Eb});function Zi(o){for(;o.firstChild;)o.firstChild.remove()}function xb(o){var e;return(e=o==null?void 0:o.isConnected)!==null&&e!==void 0?e:!1}function oe(o,e,t,i){return new WP(o,e,t,i)}function o6(o){return function(e){return o(new bo(e))}}function Ble(o){return function(e){return o(new Kt(e))}}function SD(o,e,t){return oe(o,Fr&&Om.pointerEvents?Le.POINTER_DOWN:Le.MOUSE_DOWN,e,t)}function UP(o,e,t){return oe(o,Fr&&Om.pointerEvents?Le.POINTER_UP:Le.MOUSE_UP,e,t)}function Db(o,e){return oe(o,"mouseout",t=>{let i=t.relatedTarget;for(;i&&i!==o;)i=i.parentNode;i!==o&&e(t)})}function s6(o,e){return oe(o,"pointerout",t=>{let i=t.relatedTarget;for(;i&&i!==o;)i=i.parentNode;i!==o&&e(t)})}function Dl(o,e,t){let i=null,n=l=>a.fire(l),r=()=>{i||(i=new WP(o,e,n,t))},s=()=>{i&&(i.dispose(),i=null)},a=new F({onFirstListenerAdd:r,onLastListenerRemove:s});return a}function jle(o){if(!zP){let e=t=>setTimeout(()=>t(new Date().getTime()),0);zP=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||e}return zP.call(self,o)}function p0(o,e,t,i,n){return new a6(o,e,t,i,n)}function xD(o){return document.defaultView.getComputedStyle(o,null)}function Nf(o){if(o!==document.body)return new hi(o.clientWidth,o.clientHeight);if(Fr&&window.visualViewport)return new hi(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new hi(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new hi(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new hi(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}function DD(o){let e=o.offsetParent,t=o.offsetTop,i=o.offsetLeft;for(;(o=o.parentNode)!==null&&o!==document.body&&o!==document.documentElement;){t-=o.scrollTop;let n=d6(o)?null:xD(o);n&&(i-=n.direction!=="rtl"?o.scrollLeft:-o.scrollLeft),o===e&&(i+=vn.getBorderLeftWidth(o),t+=vn.getBorderTopWidth(o),t+=o.offsetTop,i+=o.offsetLeft,e=o.offsetParent)}return{left:i,top:t}}function l6(o,e,t){typeof e=="number"&&(o.style.width=`${e}px`),typeof t=="number"&&(o.style.height=`${t}px`)}function Gi(o){let e=o.getBoundingClientRect();return{left:e.left+_c.scrollX,top:e.top+_c.scrollY,width:e.width,height:e.height}}function Ds(o){let e=vn.getMarginLeft(o)+vn.getMarginRight(o);return o.offsetWidth+e}function LD(o){let e=vn.getBorderLeftWidth(o)+vn.getBorderRightWidth(o),t=vn.getPaddingLeft(o)+vn.getPaddingRight(o);return o.offsetWidth-e-t}function c6(o){let e=vn.getBorderTopWidth(o)+vn.getBorderBottomWidth(o),t=vn.getPaddingTop(o)+vn.getPaddingBottom(o);return o.offsetHeight-e-t}function _0(o){let e=vn.getMarginTop(o)+vn.getMarginBottom(o);return o.offsetHeight+e}function Ll(o,e){for(;o;){if(o===e)return!0;o=o.parentNode}return!1}function HP(o,e,t){for(;o&&o.nodeType===o.ELEMENT_NODE;){if(o.classList.contains(e))return o;if(t){if(typeof t=="string"){if(o.classList.contains(t))return null}else if(o===t)return null}o=o.parentNode}return null}function $P(o,e,t){return!!HP(o,e,t)}function d6(o){return o&&!!o.host&&!!o.mode}function Pf(o){return!!Ma(o)}function Ma(o){for(;o.parentNode;){if(o===document.body)return null;o=o.parentNode}return d6(o)?o:null}function Rf(){let o=document.activeElement;for(;o==null?void 0:o.shadowRoot;)o=o.shadowRoot.activeElement;return o}function no(o=document.getElementsByTagName("head")[0]){let e=document.createElement("style");return e.type="text/css",e.media="screen",o.appendChild(e),e}function h6(){return KP||(KP=no()),KP}function zle(o){var e,t;return((e=o==null?void 0:o.sheet)===null||e===void 0?void 0:e.rules)?o.sheet.rules:((t=o==null?void 0:o.sheet)===null||t===void 0?void 0:t.cssRules)?o.sheet.cssRules:[]}function b0(o,e,t=h6()){!t||!e||t.sheet.insertRule(o+"{"+e+"}",0)}function YP(o,e=h6()){if(!e)return;let t=zle(e),i=[];for(let n=0;n<t.length;n++)t[n].selectorText.indexOf(o)!==-1&&i.push(n);for(let n=i.length-1;n>=0;n--)e.sheet.deleteRule(i[n])}function kD(o){return typeof HTMLElement=="object"?o instanceof HTMLElement:o&&typeof o=="object"&&o.nodeType===1&&typeof o.nodeName=="string"}function u6(o){let e=[];for(let t=0;o&&o.nodeType===o.ELEMENT_NODE;t++)e[t]=o.scrollTop,o=o.parentNode;return e}function f6(o,e){for(let t=0;o&&o.nodeType===o.ELEMENT_NODE;t++)o.scrollTop!==e[t]&&(o.scrollTop=e[t]),o=o.parentNode}function bc(o){return new v0(o)}function J(o,...e){if(o.append(...e),e.length===1&&typeof e[0]!="string")return e[0]}function g6(o,e){return o.insertBefore(e,o.firstChild),e}function kl(o,...e){o.innerText="",J(o,...e)}function m6(o,e,t,...i){let n=Vle.exec(e);if(!n)throw new Error("Bad use of emmet");t=Object.assign({},t||{});let r=n[1]||"div",s;return o!==w0.HTML?s=document.createElementNS(o,r):s=document.createElement(r),n[3]&&(s.id=n[3]),n[4]&&(s.className=n[4].replace(/\./g," ").trim()),Object.keys(t).forEach(a=>{let l=t[a];typeof l!="undefined"&&(/^on\w+$/.test(a)?s[a]=l:a==="selected"?l&&s.setAttribute(a,"true"):s.setAttribute(a,l))}),s.append(...i),s}function se(o,e,...t){return m6(w0.HTML,o,e,...t)}function ko(...o){for(let e of o)e.style.display="",e.removeAttribute("aria-hidden")}function vo(...o){for(let e of o)e.style.display="none",e.setAttribute("aria-hidden","true")}function p6(o){return Array.prototype.slice.call(document.getElementsByTagName(o),0)}function qP(o){let e=window.devicePixelRatio*o;return Math.max(1,Math.floor(e))/window.devicePixelRatio}function ID(o){window.open(o,"_blank","noopener")}function _6(o){let e=()=>{o(),t=xs(e)},t=xs(e);return ze(()=>t.dispose())}function md(o){return o?`url('${yD.asBrowserUri(o).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function ZP(o){return`'${o.replace(/'/g,"%27")}'`}function b6(o,e){let t=window.matchMedia(o);typeof t.addEventListener=="function"?t.addEventListener("change",e):t.addListener(e)}var WP,Ni,r6,zP,VP,xs,ED,Wle,Ule,a6,vn,hi,_c,KP,Le,Wt,v0,Vle,w0,pd,Me=ge(()=>{Lo();vD();is();Pa();tt();st();Se();ne();ns();wt();WP=class{constructor(e,t,i,n){this._node=e,this._type=t,this._handler=i,this._options=n||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}};Ni=function(e,t,i,n){let r=i;return t==="click"||t==="mousedown"?r=o6(i):(t==="keydown"||t==="keypress"||t==="keyup")&&(r=Ble(i)),oe(e,t,r,n)},r6=function(e,t,i){let n=o6(t);return SD(e,n,i)};zP=null;ED=class{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){ye(e)}}static sort(e,t){return t.priority-e.priority}};(function(){let o=[],e=null,t=!1,i=!1,n=()=>{for(t=!1,e=o,o=[],i=!0;e.length>0;)e.sort(ED.sort),e.shift().execute();i=!1};xs=(r,s=0)=>{let a=new ED(r,s);return o.push(a),t||(t=!0,jle(n)),a},VP=(r,s)=>{if(i){let a=new ED(r,s);return e.push(a),a}else return xs(r,s)}})();Wle=8,Ule=function(o,e){return e},a6=class extends ${constructor(e,t,i,n=Ule,r=Wle){super();let s=null,a=0,l=this._register(new Fi),c=()=>{a=new Date().getTime(),i(s),s=null};this._register(oe(e,t,d=>{s=n(s,d);let h=new Date().getTime()-a;h>=r?(l.cancel(),c()):l.setIfNotSet(c,r-h)}))}};vn=class{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,i){let n=xD(e),r="0";return n&&(n.getPropertyValue?r=n.getPropertyValue(t):r=n.getAttribute(i)),vn.convertToPixels(e,r)}static getBorderLeftWidth(e){return vn.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return vn.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return vn.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return vn.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return vn.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return vn.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return vn.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return vn.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return vn.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return vn.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return vn.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return vn.getDimension(e,"margin-bottom","marginBottom")}},hi=class{constructor(e,t){this.width=e,this.height=t}with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new hi(e,t):this}static is(e){return typeof e=="object"&&typeof e.height=="number"&&typeof e.width=="number"}static lift(e){return e instanceof hi?e:new hi(e.width,e.height)}static equals(e,t){return e===t?!0:!e||!t?!1:e.width===t.width&&e.height===t.height}};_c=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};KP=null;Le={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:Cl?"webkitAnimationStart":"animationstart",ANIMATION_END:Cl?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:Cl?"webkitAnimationIteration":"animationiteration"},Wt={stop:function(o,e){o.preventDefault?o.preventDefault():o.returnValue=!1,e&&(o.stopPropagation?o.stopPropagation():o.cancelBubble=!0)}};v0=class extends ${constructor(e){super();this._onDidFocus=this._register(new F),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new F),this.onDidBlur=this._onDidBlur.event;let t=v0.hasFocusWithin(e),i=!1,n=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},r=()=>{t&&(i=!0,window.setTimeout(()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{v0.hasFocusWithin(e)!==t&&(t?r():n())},this._register(oe(e,Le.FOCUS,n,!0)),this._register(oe(e,Le.BLUR,r,!0)),this._register(oe(e,Le.FOCUS_IN,()=>this._refreshStateHandler())),this._register(oe(e,Le.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(e){let t=Ma(e),i=t?t.activeElement:document.activeElement;return Ll(i,e)}};Vle=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;(function(o){o.HTML="http://www.w3.org/1999/xhtml",o.SVG="http://www.w3.org/2000/svg"})(w0||(w0={}));se.SVG=function(o,e,...t){return m6(w0.SVG,o,e,...t)};jP.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");pd=class extends F{constructor(){super();this._subscriptions=new Q,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(oe(window,"keydown",e=>{if(e.defaultPrevented)return;let t=new Kt(e);if(!(t.keyCode===6&&e.repeat)){if(e.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(e.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(e.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(e.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(t.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=e,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(oe(window,"keyup",e=>{e.defaultPrevented||(!e.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!e.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!e.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!e.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=e,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(oe(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(oe(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(oe(document.body,"mousemove",e=>{e.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(oe(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return pd.instance||(pd.instance=new pd),pd.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}});function OD(o){return!o||typeof o!="string"?!0:o.trim().length===0}function vc(o,...e){return e.length===0?o:o.replace(Hle,function(t,i){let n=parseInt(i,10);return isNaN(n)||n<0||n>=e.length?t:e[n]})}function Lb(o){return o.replace(/[<>&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function wo(o){return o.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function TD(o,e){if(!o||!e)return o;let t=e.length;if(t===0||o.length===0)return o;let i=0;for(;o.indexOf(e,i)===i;)i=i+t;return o.substring(i)}function v6(o,e){if(!o||!e)return o;let t=e.length,i=o.length;if(t===0||i===0)return o;let n=i,r=-1;for(;r=o.lastIndexOf(e,n-1),!(r===-1||r+t!==n);){if(r===0)return"";n=r}return o.substring(0,n)}function w6(o){return o.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function ND(o,e,t={}){if(!o)throw new Error("Cannot create regex from empty string");e||(o=wo(o)),t.wholeWord&&(/\B/.test(o.charAt(0))||(o="\\b"+o),/\B/.test(o.charAt(o.length-1))||(o=o+"\\b"));let i="";return t.global&&(i+="g"),t.matchCase||(i+="i"),t.multiline&&(i+="m"),t.unicode&&(i+="u"),new RegExp(o,i)}function C6(o){return o.source==="^"||o.source==="^$"||o.source==="$"||o.source==="^\\s*$"?!1:!!(o.exec("")&&o.lastIndex===0)}function PD(o){return(o.global?"g":"")+(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")}function rr(o){return o.split(/\r\n|\r|\n/)}function wn(o){for(let e=0,t=o.length;e<t;e++){let i=o.charCodeAt(e);if(i!==32&&i!==9)return e}return-1}function Qt(o,e=0,t=o.length){for(let i=e;i<t;i++){let n=o.charCodeAt(i);if(n!==32&&n!==9)return o.substring(e,i)}return o.substring(e,t)}function Sr(o,e=o.length-1){for(let t=e;t>=0;t--){let i=o.charCodeAt(t);if(i!==32&&i!==9)return t}return-1}function Mf(o,e){return o<e?-1:o>e?1:0}function RD(o,e,t=0,i=o.length,n=0,r=e.length){for(;t<i&&n<r;t++,n++){let l=o.charCodeAt(t),c=e.charCodeAt(n);if(l<c)return-1;if(l>c)return 1}let s=i-t,a=r-n;return s<a?-1:s>a?1:0}function C0(o,e){return kb(o,e,0,o.length,0,e.length)}function kb(o,e,t=0,i=o.length,n=0,r=e.length){for(;t<i&&n<r;t++,n++){let l=o.charCodeAt(t),c=e.charCodeAt(n);if(l===c)continue;if(l>=128||c>=128)return RD(o.toLowerCase(),e.toLowerCase(),t,i,n,r);_d(l)&&(l-=32),_d(c)&&(c-=32);let d=l-c;if(d!==0)return d}let s=i-t,a=r-n;return s<a?-1:s>a?1:0}function _d(o){return o>=97&&o<=122}function Aa(o){return o>=65&&o<=90}function Fh(o,e){return o.length===e.length&&kb(o,e)===0}function Ib(o,e){let t=e.length;return e.length>o.length?!1:kb(o,e,0,t)===0}function wc(o,e){let t,i=Math.min(o.length,e.length);for(t=0;t<i;t++)if(o.charCodeAt(t)!==e.charCodeAt(t))return t;return i}function Nm(o,e){let t,i=Math.min(o.length,e.length),n=o.length-1,r=e.length-1;for(t=0;t<i;t++)if(o.charCodeAt(n-t)!==e.charCodeAt(r-t))return t;return i}function Xi(o){return 55296<=o&&o<=56319}function Bh(o){return 56320<=o&&o<=57343}function MD(o,e){return(o-55296<<10)+(e-56320)+65536}function jh(o,e,t){let i=o.charCodeAt(t);if(Xi(i)&&t+1<e){let n=o.charCodeAt(t+1);if(Bh(n))return MD(i,n)}return i}function Ob(o,e){let t=o.charCodeAt(e-1);if(Bh(t)&&e>1){let i=o.charCodeAt(e-2);if(Xi(i))return MD(i,t)}return t}function Pm(o,e){let t=bd.getInstance(),i=e,n=o.length,r=jh(o,n,e);e+=r>=65536?2:1;let s=t.getGraphemeBreakType(r);for(;e<n;){let a=jh(o,n,e),l=t.getGraphemeBreakType(a);if(S0(s,l))break;e+=a>=65536?2:1,s=l}return e-i}function y6(o,e){let t=bd.getInstance(),i=e,n=Ob(o,e);e-=n>=65536?2:1;let r=t.getGraphemeBreakType(n);for(;e>0;){let s=Ob(o,e),a=t.getGraphemeBreakType(s);if(S0(a,r))break;e-=s>=65536?2:1,r=a}return i-e}function Af(o){return $le.test(o)}function S6(o){return Kle.test(o)}function Tb(o){return Yle.test(o)}function AD(o){return GP.test(o)}function E6(o){for(let e=0,t=o.length;e<t;e++)if(Ls(o.charCodeAt(e)))return!0;return!1}function Ls(o){return o>=11904&&o<=55215||o>=63744&&o<=64255||o>=65281&&o<=65374}function Nb(o){return o>=127462&&o<=127487||o===8986||o===8987||o===9200||o===9203||o>=9728&&o<=10175||o===11088||o===11093||o>=127744&&o<=128591||o>=128640&&o<=128764||o>=128992&&o<=129008||o>=129280&&o<=129535||o>=129648&&o<=129782}function Pb(o){return!!(o&&o.length>0&&o.charCodeAt(0)===65279)}function D6(o,e=!1){return o?(e&&(o=o.replace(/\\./g,"")),o.toLowerCase()!==o):!1}function FD(o){let e=90-65+1;return o=o%(2*e),o<e?String.fromCharCode(97+o):String.fromCharCode(65+o-e)}function y0(o){return bd.getInstance().getGraphemeBreakType(o)}function S0(o,e){return o===0?e!==5&&e!==7:o===2&&e===3?!1:o===4||o===2||o===3||e===4||e===2||e===3?!0:!(o===8&&(e===8||e===9||e===11||e===12)||(o===11||o===9)&&(e===9||e===10)||(o===12||o===10)&&e===10||e===5||e===13||e===7||o===1||o===13&&e===14||o===6&&e===6)}function qle(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function L6(o,e){if(o===0)return 0;let t=Zle(o,e);if(t!==void 0)return t;let i=Ob(e,o);return o-=BD(i),o}function Zle(o,e){let t=Ob(e,o);for(o-=BD(t);Gle(t)||t===65039||t===8419;){if(o===0)return;t=Ob(e,o),o-=BD(t)}if(!!Nb(t)){if(o>=0){let i=Ob(e,o);i===8205&&(o-=BD(i))}return o}}function BD(o){return o>=65536?2:1}function Gle(o){return 127995<=o&&o<=127999}var Hle,$le,Kle,Yle,GP,x6,bd,k6,Fa,Il,je=ge(()=>{wt();Hle=/{(\d+)}/g;$le=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;Kle=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFF0]|\uD83E[\uDD00-\uDDFF\uDE70-\uDEF6])/;Yle=/^[\t\n\r\x20-\x7E]*$/;GP=/[\u2028\u2029]/;x6=String.fromCharCode(65279);bd=class{constructor(){this._data=qle()}static getInstance(){return bd._INSTANCE||(bd._INSTANCE=new bd),bd._INSTANCE}getGraphemeBreakType(e){if(e<32)return e===10?3:e===13?2:4;if(e<127)return 0;let t=this._data,i=t.length/3,n=1;for(;n<=i;)if(e<t[3*n])n=2*n;else if(e>t[3*n+1])n=2*n+1;else return t[3*n+2];return 0}};bd._INSTANCE=null;k6="\xA0",Fa=class{static getData(){return JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,40,10088,40,10098,40,12308,40,64830,40,65341,41,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,124,8739,124,9213,124,65512,124,1633,124,1777,124,66336,124,125127,124,120783,124,120793,124,120803,124,120813,124,120823,124,130033,124,65321,124,8544,124,8464,124,8465,124,119816,124,119868,124,119920,124,120024,124,120128,124,120180,124,120232,124,120284,124,120336,124,120388,124,120440,124,406,124,65356,124,8572,124,8467,124,119845,124,119897,124,119949,124,120001,124,120053,124,120105,124,120157,124,120209,124,120261,124,120313,124,120365,124,120417,124,120469,124,448,124,120496,124,120554,124,120612,124,120670,124,120728,124,11410,124,1030,124,1216,124,1493,124,1503,124,1575,124,126464,124,126592,124,65166,124,65165,124,1994,124,11599,124,5825,124,42226,124,93992,124,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90],"_default":[160,32,8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"cs":[65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89],"de":[65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89],"es":[8211,45,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"fr":[65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"it":[160,32,8211,45,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"ko":[8211,45,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"pl":[65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"pt-BR":[65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"qps-ploc":[160,32,8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"ru":[65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,124,1009,112,215,120],"tr":[160,32,8211,45,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"zh-hans":[65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"zh-hant":[8211,45,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89]}')}static getConfusablesForCurrentLocale(){if(!Fa.map){let i=function(s){let a=new Map;for(let l=0;l<s.length;l+=2)a.set(s[l],s[l+1]);return a},e=Fa.getData(),t=K9;(!t||!(t in e))&&(t=$9),(!t||!(t in e))&&(t="_default");let n=i(e._common),r=i(e[t]);for(let[s,a]of r)n.set(s,a);Fa.map=n}return Fa.map}static isAmbiguous(e){return Fa.getConfusablesForCurrentLocale().has(e)}static getPrimaryConfusable(e){return Fa.getConfusablesForCurrentLocale().get(e)}static getPrimaryConfusableCodePoints(){return new Set(Fa.getConfusablesForCurrentLocale().keys())}},Il=class{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(Il.getRawData())),this._data}static isInvisibleCharacter(e){return Il.getData().has(e)}static get codePoints(){return Il.getData()}};Il._data=void 0});var I6,O6,T6,N6,P6,R6,E0,vd,M6,Fn,A6,ks,Is=ge(()=>{je();T6=class{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){let t=e.charCodeAt(0),i=this._value.charCodeAt(this._pos);return t-i}value(){return this._value[this._pos]}},N6=class{constructor(e=!0){this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?RD(e,this._value,0,e.length,this._from,this._to):kb(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}},P6=class{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t}reset(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){let t=this._value.charCodeAt(this._to);if(t===47||this._splitOnBackslash&&t===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?RD(e,this._value,0,e.length,this._from,this._to):kb(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}},R6=class{constructor(e){this._ignorePathCasing=e,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new P6(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return C0(e,this._value.scheme);if(this._states[this._stateIdx]===2)return C0(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return Mf(e,this._value.query);if(this._states[this._stateIdx]===5)return Mf(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}},E0=class{constructor(){this.height=1}rotateLeft(){let e=this.right;return this.right=e.left,e.left=this,this.updateHeight(),e.updateHeight(),e}rotateRight(){let e=this.left;return this.left=e.right,e.right=this,this.updateHeight(),e.updateHeight(),e}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var e,t;return(t=(e=this.left)===null||e===void 0?void 0:e.height)!==null&&t!==void 0?t:0}get heightRight(){var e,t;return(t=(e=this.right)===null||e===void 0?void 0:e.height)!==null&&t!==void 0?t:0}},vd=class{constructor(e){this._iter=e}static forUris(e=()=>!1){return new vd(new R6(e))}static forStrings(){return new vd(new T6)}static forConfigKeys(){return new vd(new N6)}clear(){this._root=void 0}set(e,t){let i=this._iter.reset(e),n;this._root||(this._root=new E0,this._root.segment=i.value());let r=[];for(n=this._root;;){let a=i.cmp(n.segment);if(a>0)n.left||(n.left=new E0,n.left.segment=i.value()),r.push([-1,n]),n=n.left;else if(a<0)n.right||(n.right=new E0,n.right.segment=i.value()),r.push([1,n]),n=n.right;else if(i.hasNext())i.next(),n.mid||(n.mid=new E0,n.mid.segment=i.value()),r.push([0,n]),n=n.mid;else break}let s=n.value;n.value=t,n.key=e;for(let a=r.length-1;a>=0;a--){let l=r[a][1];l.updateHeight();let c=l.balanceFactor();if(c<-1||c>1){let d=r[a][0],h=r[a+1][0];if(d===1&&h===1)r[a][1]=l.rotateLeft();else if(d===-1&&h===-1)r[a][1]=l.rotateRight();else if(d===1&&h===-1)l.right=r[a+1][1]=r[a+1][1].rotateRight(),r[a][1]=l.rotateLeft();else if(d===-1&&h===1)l.left=r[a+1][1]=r[a+1][1].rotateLeft(),r[a][1]=l.rotateRight();else throw new Error;if(a>0)switch(r[a-1][0]){case-1:r[a-1][1].left=r[a][1];break;case 1:r[a-1][1].right=r[a][1];break;case 0:r[a-1][1].mid=r[a][1];break}else this._root=r[0][1]}}return s}get(e){var t;return(t=this._getNode(e))===null||t===void 0?void 0:t.value}_getNode(e){let t=this._iter.reset(e),i=this._root;for(;i;){let n=t.cmp(i.segment);if(n>0)i=i.left;else if(n<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else break}return i}has(e){let t=this._getNode(e);return!((t==null?void 0:t.value)===void 0&&(t==null?void 0:t.mid)===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){var i;let n=this._iter.reset(e),r=[],s=this._root;for(;s;){let a=n.cmp(s.segment);if(a>0)r.push([-1,s]),s=s.left;else if(a<0)r.push([1,s]),s=s.right;else if(n.hasNext())n.next(),r.push([0,s]),s=s.mid;else break}if(!!s){if(t?(s.left=void 0,s.mid=void 0,s.right=void 0,s.height=1):(s.key=void 0,s.value=void 0),!s.mid&&!s.value)if(s.left&&s.right){let a=this._min(s.right),{key:l,value:c,segment:d}=a;this._delete(a.key,!1),s.key=l,s.value=c,s.segment=d}else{let a=(i=s.left)!==null&&i!==void 0?i:s.right;if(r.length>0){let[l,c]=r[r.length-1];switch(l){case-1:c.left=a;break;case 0:c.mid=a;break;case 1:c.right=a;break}}else this._root=a}for(let a=r.length-1;a>=0;a--){let l=r[a][1];l.updateHeight();let c=l.balanceFactor();if(c>1?(l.right.balanceFactor()>=0||(l.right=r[a+1][1]=r[a+1][1].rotateRight()),r[a][1]=l.rotateLeft()):c<-1&&(l.left.balanceFactor()<=0||(l.left=r[a+1][1]=r[a+1][1].rotateLeft()),r[a][1]=l.rotateRight()),a>0)switch(r[a-1][0]){case-1:r[a-1][1].left=r[a][1];break;case 1:r[a-1][1].right=r[a][1];break;case 0:r[a-1][1].mid=r[a][1];break}else this._root=r[0][1]}}}_min(e){for(;e.left;)e=e.left;return e}findSubstr(e){let t=this._iter.reset(e),i=this._root,n;for(;i;){let r=t.cmp(i.segment);if(r>0)i=i.left;else if(r<0)i=i.right;else if(t.hasNext())t.next(),n=i.value||n,i=i.mid;else break}return i&&i.value||n}findSuperstr(e){let t=this._iter.reset(e),i=this._root;for(;i;){let n=t.cmp(i.segment);if(n>0)i=i.left;else if(n<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else return i.mid?this._entries(i.mid):void 0}}forEach(e){for(let[t,i]of this)e(i,t)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){!e||(e.left&&(yield*this._entries(e.left)),e.value&&(yield[e.key,e.value]),e.mid&&(yield*this._entries(e.mid)),e.right&&(yield*this._entries(e.right)))}},M6=class{constructor(e,t){this.uri=e,this.value=t}},Fn=class{constructor(e,t){this[I6]="ResourceMap",e instanceof Fn?(this.map=new Map(e.map),this.toKey=t??Fn.defaultToKey):(this.map=new Map,this.toKey=e??Fn.defaultToKey)}set(e,t){return this.map.set(this.toKey(e),new M6(e,t)),this}get(e){var t;return(t=this.map.get(this.toKey(e)))===null||t===void 0?void 0:t.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){typeof t!="undefined"&&(e=e.bind(t));for(let[i,n]of this.map)e(n.value,n.uri,this)}*values(){for(let e of this.map.values())yield e.value}*keys(){for(let e of this.map.values())yield e.uri}*entries(){for(let e of this.map.values())yield[e.uri,e.value]}*[(I6=Symbol.toStringTag,Symbol.iterator)](){for(let[,e]of this.map)yield[e.uri,e.value]}};Fn.defaultToKey=o=>o.toString();A6=class{constructor(){this[O6]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,t=0){let i=this._map.get(e);if(!!i)return t!==0&&this.touch(i,t),i.value}set(e,t,i=0){let n=this._map.get(e);if(n)n.value=t,i!==0&&this.touch(n,i);else{switch(n={key:e,value:t,next:void 0,previous:void 0},i){case 0:this.addItemLast(n);break;case 1:this.addItemFirst(n);break;case 2:this.addItemLast(n);break;default:this.addItemLast(n);break}this._map.set(e,n),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(!!t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let i=this._state,n=this._head;for(;n;){if(t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){let e=this,t=this._state,i=this._head,n={[Symbol.iterator](){return n},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let r={value:i.key,done:!1};return i=i.next,r}else return{value:void 0,done:!0}}};return n}values(){let e=this,t=this._state,i=this._head,n={[Symbol.iterator](){return n},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let r={value:i.value,done:!1};return i=i.next,r}else return{value:void 0,done:!0}}};return n}entries(){let e=this,t=this._state,i=this._head,n={[Symbol.iterator](){return n},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let r={value:[i.key,i.value],done:!1};return i=i.next,r}else return{value:void 0,done:!0}}};return n}[(O6=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.next,i--;this._head=t,this._size=i,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,i=e.previous;if(!t||!i)throw new Error("Invalid list");t.previous=i,i.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;let i=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(i.previous=n,n.next=i),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===2){if(e===this._tail)return;let i=e.next,n=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=n,n.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,i)=>{e.push([i,t])}),e}fromJSON(e){this.clear();for(let[t,i]of e)this.set(t,i)}},ks=class extends A6{constructor(e,t=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}});function B6(o,e){return o[e+0]<<0>>>0|o[e+1]<<8>>>0}function j6(o,e,t){o[t+0]=e&255,e=e>>>8,o[t+1]=e&255}function Ba(o,e){return o[e]*Math.pow(2,24)+o[e+1]*Math.pow(2,16)+o[e+2]*Math.pow(2,8)+o[e+3]}function ja(o,e,t){o[t+3]=e,e=e>>>8,o[t+2]=e,e=e>>>8,o[t+1]=e,e=e>>>8,o[t]=e}function QP(o,e){return o[e]}function JP(o,e,t){o[t]=e}var F6,XP,Rm,Rb=ge(()=>{F6=typeof Buffer!="undefined",Rm=class{constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}static wrap(e){return F6&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new Rm(e)}toString(){return F6?this.buffer.toString():(XP||(XP=new TextDecoder),XP.decode(this.buffer))}}});function Ff(o){return o===47||o===92}function iR(o){return o.replace(/[\\/]/g,an.sep)}function W6(o){return o.indexOf("/")===-1&&(o=iR(o)),/^[a-zA-Z]:(\/|$)/.test(o)&&(o="/"+o),o}function nR(o,e=an.sep){if(!o)return"";let t=o.length,i=o.charCodeAt(0);if(Ff(i)){if(Ff(o.charCodeAt(1))&&!Ff(o.charCodeAt(2))){let r=3,s=r;for(;r<t&&!Ff(o.charCodeAt(r));r++);if(s!==r&&!Ff(o.charCodeAt(r+1))){for(r+=1;r<t;r++)if(Ff(o.charCodeAt(r)))return o.slice(0,r+1).replace(/[\\/]/g,e)}}return e}else if(U6(i)&&o.charCodeAt(1)===58)return Ff(o.charCodeAt(2))?o.slice(0,2)+e:o.slice(0,2);let n=o.indexOf("://");if(n!==-1){for(n+=3;n<t;n++)if(Ff(o.charCodeAt(n)))return o.slice(0,n+1)}return""}function D0(o,e,t,i=fd){if(o===e)return!0;if(!o||!e||e.length>o.length)return!1;if(t){if(!Ib(o,e))return!1;if(e.length===o.length)return!0;let r=e.length;return e.charAt(e.length-1)===i&&r--,o.charAt(r)===i}return e.charAt(e.length-1)!==i&&(e+=i),o.indexOf(e)===0}function U6(o){return o>=65&&o<=90||o>=97&&o<=122}function z6(o){let e=bb(o);return Mi?o.length>3?!1:oR(e)&&(o.length===2||e.charCodeAt(2)===92):e===an.sep}function oR(o,e){return(e!==void 0?e:Mi)?U6(o.charCodeAt(0))&&o.charCodeAt(1)===58:!1}var jD=ge(()=>{kf();wt();je()});function Cc(o){return l0(o,!0)}var H6,Bi,WD,fTe,gTe,UD,Io,$6,Mb,K6,Y6,mTe,rR,pTe,q6,Z6,_Te,bTe,wd,Er=ge(()=>{jD();ns();kf();wt();je();Ai();H6=class{constructor(e){this._ignorePathCasing=e}compare(e,t,i=!1){return e===t?0:Mf(this.getComparisonKey(e,i),this.getComparisonKey(t,i))}isEqual(e,t,i=!1){return e===t?!0:!e||!t?!1:this.getComparisonKey(e,i)===this.getComparisonKey(t,i)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(e,t,i=!1){if(e.scheme===t.scheme){if(e.scheme===nt.file)return D0(Cc(e),Cc(t),this._ignorePathCasing(e))&&e.query===t.query&&(i||e.fragment===t.fragment);if(q6(e.authority,t.authority))return D0(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(i||e.fragment===t.fragment)}return!1}joinPath(e,...t){return Ee.joinPath(e,...t)}basenameOrAuthority(e){return Io(e)||e.authority}basename(e){return an.basename(e.path)}extname(e){return an.extname(e.path)}dirname(e){if(e.path.length===0)return e;let t;return e.scheme===nt.file?t=Ee.file(Rx(Cc(e))).path:(t=an.dirname(e.path),e.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return e.scheme===nt.file?t=Ee.file(bb(Cc(e))).path:t=an.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!q6(e.authority,t.authority))return;if(e.scheme===nt.file){let r=Px(Cc(e),Cc(t));return Mi?iR(r):r}let i=e.path||"/",n=t.path||"/";if(this._ignorePathCasing(e)){let r=0;for(let s=Math.min(i.length,n.length);r<s&&!(i.charCodeAt(r)!==n.charCodeAt(r)&&i.charAt(r).toLowerCase()!==n.charAt(r).toLowerCase());r++);i=n.substr(0,r)+i.substr(r)}return an.relative(i,n)}resolvePath(e,t){if(e.scheme===nt.file){let i=Ee.file($j(Cc(e),t));return e.with({authority:i.authority,path:i.path})}return t=W6(t),e.with({path:an.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,t){return e===t||e!==void 0&&t!==void 0&&Fh(e,t)}hasTrailingPathSeparator(e,t=fd){if(e.scheme===nt.file){let i=Cc(e);return i.length>nR(i).length&&i[i.length-1]===t}else{let i=e.path;return i.length>1&&i.charCodeAt(i.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=fd){return Z6(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=fd){let i=!1;if(e.scheme===nt.file){let n=Cc(e);i=n!==void 0&&n.length===nR(n).length&&n[n.length-1]===t}else{t="/";let n=e.path;i=n.length===1&&n.charCodeAt(n.length-1)===47}return!i&&!Z6(e,t)?e.with({path:e.path+"/"}):e}},Bi=new H6(()=>!1),WD=Bi.isEqual.bind(Bi),fTe=Bi.isEqualOrParent.bind(Bi),gTe=Bi.getComparisonKey.bind(Bi),UD=Bi.basenameOrAuthority.bind(Bi),Io=Bi.basename.bind(Bi),$6=Bi.extname.bind(Bi),Mb=Bi.dirname.bind(Bi),K6=Bi.joinPath.bind(Bi),Y6=Bi.normalizePath.bind(Bi),mTe=Bi.relativePath.bind(Bi),rR=Bi.resolvePath.bind(Bi),pTe=Bi.isAbsolutePath.bind(Bi),q6=Bi.isEqualAuthority.bind(Bi),Z6=Bi.hasTrailingPathSeparator.bind(Bi),_Te=Bi.removeTrailingPathSeparator.bind(Bi),bTe=Bi.addTrailingPathSeparator.bind(Bi);(function(o){o.META_DATA_LABEL="label",o.META_DATA_DESCRIPTION="description",o.META_DATA_SIZE="size",o.META_DATA_MIME="mime";function e(t){let i=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(s=>{let[a,l]=s.split(":");a&&l&&i.set(a,l)});let r=t.path.substring(0,t.path.indexOf(";"));return r&&i.set(o.META_DATA_MIME,r),i}o.parseMetaData=e})(wd||(wd={}))});var li,rt,zi=ge(()=>{Se();Oa();ne();Rh();di();Ge();li=Fe("commandService"),rt=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new F,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(o,e){if(!o)throw new Error("invalid command");if(typeof o=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:o,handler:e})}if(o.description){let s=[];for(let l of o.description.args)s.push(l.constraint);let a=o.handler;o.handler=function(l,...c){return ej(c,s),a(l,...c)}}let{id:t}=o,i=this._commands.get(t);i||(i=new io,this._commands.set(t,i));let n=i.unshift(o),r=ze(()=>{n();let s=this._commands.get(t);(s==null?void 0:s.isEmpty())&&this._commands.delete(t)});return this._onDidRegisterCommand.fire(t),r}registerCommandAlias(o,e){return rt.registerCommand(o,(t,...i)=>t.get(li).executeCommand(e,...i))}getCommand(o){let e=this._commands.get(o);if(!(!e||e.isEmpty()))return St.first(e)}getCommands(){let o=new Map;for(let e of this._commands.keys()){let t=this.getCommand(e);t&&o.set(e,t)}return o}};rt.registerCommand("noop",()=>{})});function Ab(o,e){if(!o)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}var hR=ge(()=>{});var Bf,k0=ge(()=>{Bf={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}});var Oo,To,Am,Wh,Uh,yd,Bb,I0,mR,Os=ge(()=>{Wo();(function(o){o[o.Left=1]="Left",o[o.Center=2]="Center",o[o.Right=4]="Right",o[o.Full=7]="Full"})(Oo||(Oo={}));(function(o){o[o.Inline=1]="Inline",o[o.Gutter=2]="Gutter"})(To||(To={}));Am=class{constructor(e){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,e.tabSize|0),this.indentSize=e.tabSize|0,this.insertSpaces=Boolean(e.insertSpaces),this.defaultEOL=e.defaultEOL|0,this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace),this.bracketPairColorizationOptions=e.bracketPairColorizationOptions}equals(e){return this.tabSize===e.tabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&ir(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}},Wh=class{constructor(e,t){this._findMatchBrand=void 0,this.range=e,this.matches=t}};(function(o){o[o.Disabled=0]="Disabled",o[o.EnabledForActive=1]="EnabledForActive",o[o.Enabled=2]="Enabled"})(Uh||(Uh={}));yd=class{constructor(e,t,i){this.visibleColumn=e,this.className=t,this.horizontalLine=i}},Bb=class{constructor(e,t){this.top=e,this.endColumn=t}},I0=class{constructor(e,t,i,n,r,s){this.identifier=e,this.range=t,this.text=i,this.forceMoveMarkers=n,this.isAutoWhitespaceEdit=r,this._isTracked=s}},mR=class{constructor(e,t,i){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=i}}});function HD(o){return O0(o,0)}function O0(o,e){switch(typeof o){case"object":return o===null?zh(349,e):Array.isArray(o)?nce(o,e):oce(o,e);case"string":return $D(o,e);case"boolean":return ice(o,e);case"number":return zh(o,e);case"undefined":return zh(937,e);default:return zh(617,e)}}function zh(o,e){return(e<<5)-e+o|0}function ice(o,e){return zh(o?433:863,e)}function $D(o,e){e=zh(149417,e);for(let t=0,i=o.length;t<i;t++)e=zh(o.charCodeAt(t),e);return e}function nce(o,e){return e=zh(104579,e),o.reduce((t,i)=>O0(i,t),e)}function oce(o,e){return e=zh(181387,e),Object.keys(o).sort().reduce((t,i)=>(t=$D(i,t),O0(o[i],t)),e)}function pR(o,e,t=32){let i=t-e,n=~((1<<i)-1);return(o<<e|(n&o)>>>i)>>>0}function J6(o,e=0,t=o.byteLength,i=0){for(let n=0;n<t;n++)o[e+n]=i}function rce(o,e,t="0"){for(;o.length<e;)o=t+o;return o}function T0(o,e=32){return o instanceof ArrayBuffer?Array.from(new Uint8Array(o)).map(t=>t.toString(16).padStart(2,"0")).join(""):rce((o>>>0).toString(16),e/4)}var jb,Wb=ge(()=>{je();jb=class{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){let t=e.length;if(t===0)return;let i=this._buff,n=this._buffLen,r=this._leftoverHighSurrogate,s,a;for(r!==0?(s=r,a=-1,r=0):(s=e.charCodeAt(0),a=0);;){let l=s;if(Xi(s))if(a+1<t){let c=e.charCodeAt(a+1);Bh(c)?(a++,l=MD(s,c)):l=65533}else{r=s;break}else Bh(s)&&(l=65533);if(n=this._push(i,n,l),a++,a<t)s=e.charCodeAt(a);else break}this._buffLen=n,this._leftoverHighSurrogate=r}_push(e,t,i){return i<128?e[t++]=i:i<2048?(e[t++]=192|(i&1984)>>>6,e[t++]=128|(i&63)>>>0):i<65536?(e[t++]=224|(i&61440)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0):(e[t++]=240|(i&1835008)>>>18,e[t++]=128|(i&258048)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64+0],e[1]=e[64+1],e[2]=e[64+2]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),T0(this._h0)+T0(this._h1)+T0(this._h2)+T0(this._h3)+T0(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,J6(this._buff,this._buffLen),this._buffLen>56&&(this._step(),J6(this._buff));let e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){let e=jb._bigBlock32,t=this._buffDV;for(let h=0;h<64;h+=4)e.setUint32(h,t.getUint32(h,!1),!1);for(let h=64;h<320;h+=4)e.setUint32(h,pR(e.getUint32(h-12,!1)^e.getUint32(h-32,!1)^e.getUint32(h-56,!1)^e.getUint32(h-64,!1),1),!1);let i=this._h0,n=this._h1,r=this._h2,s=this._h3,a=this._h4,l,c,d;for(let h=0;h<80;h++)h<20?(l=n&r|~n&s,c=1518500249):h<40?(l=n^r^s,c=1859775393):h<60?(l=n&r|n&s|r&s,c=2400959708):(l=n^r^s,c=3395469782),d=pR(i,5)+l+a+c+e.getUint32(h*4,!1)&4294967295,a=s,s=r,r=pR(n,30),n=i,i=d;this._h0=this._h0+i&4294967295,this._h1=this._h1+n&4294967295,this._h2=this._h2+r&4294967295,this._h3=this._h3+s&4294967295,this._h4=this._h4+a&4294967295}};jb._bigBlock32=new DataView(new ArrayBuffer(320))});function os(o,e,t){return Math.min(Math.max(o,e),t)}var _R,Ub=ge(()=>{_R=class{constructor(){this._n=1,this._val=0}update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this}get value(){return this._val}}});function tW(o){switch(o){case 0:return"";case 1:return`${YD}*?`;default:return`(?:${KD}|${YD}+${KD}|${KD}${YD}+)*?`}}function iW(o,e){if(!o)return[];let t=[],i=!1,n=!1,r="";for(let s of o){switch(s){case e:if(!i&&!n){t.push(r),r="";continue}break;case"{":i=!0;break;case"}":i=!1;break;case"[":n=!0;break;case"]":n=!1;break}r+=s}return r&&t.push(r),t}function nW(o){if(!o)return"";let e="",t=iW(o,eW);if(t.every(i=>i===bR))e=".*";else{let i=!1;t.forEach((n,r)=>{if(n===bR){i||(e+=tW(2),i=!0);return}let s=!1,a="",l=!1,c="";for(let d of n){if(d!=="}"&&s){a+=d;continue}if(l&&(d!=="]"||!c)){let h;d==="-"?h=d:(d==="^"||d==="!")&&!c?h="^":d===eW?h="":h=wo(d),c+=h;continue}switch(d){case"{":s=!0;continue;case"[":l=!0;continue;case"}":e+=`(?:${iW(a,",").map(f=>nW(f)).join("|")})`,s=!1,a="";break;case"]":e+="["+c+"]",l=!1,c="";break;case"?":e+=YD;continue;case"*":e+=tW(1);continue;default:e+=wo(d)}}r<t.length-1&&(t[r+1]!==bR||r+2<t.length)&&(e+=KD),i=!1})}return e}function vR(o,e){if(!o)return Sd;let t;typeof o!="string"?t=o.pattern:t=o,t=t.trim();let i=`${t}_${!!e.trimForExclusions}`,n=oW.get(i);if(n)return sW(n,o);let r;if(ace.test(t)){let s=t.substr(4);n=function(a,l){return typeof a=="string"&&a.endsWith(s)?t:null}}else(r=lce.exec(wR(t,e)))?n=fce(r[1],t):(e.trimForExclusions?dce:cce).test(t)?n=gce(t,e):(r=hce.exec(wR(t,e)))?n=aW(r[1].substr(1),t,!0):(r=uce.exec(wR(t,e)))?n=aW(r[1],t,!1):n=mce(t);return oW.set(i,n),sW(n,o)}function sW(o,e){return typeof e=="string"?o:function(t,i){return D0(t,e.base)?o(Px(e.base,t),i):null}}function wR(o,e){return e.trimForExclusions&&o.endsWith("/**")?o.substr(0,o.length-2):o}function fce(o,e){let t=`/${o}`,i=`\\${o}`,n=function(s,a){return typeof s!="string"?null:a?a===o?e:null:s===o||s.endsWith(t)||s.endsWith(i)?e:null},r=[o];return n.basenames=r,n.patterns=[e],n.allBasenames=r,n}function gce(o,e){let t=cW(o.slice(1,-1).split(",").map(a=>vR(a,e)).filter(a=>a!==Sd),o),i=t.length;if(!i)return Sd;if(i===1)return t[0];let n=function(a,l){for(let c=0,d=t.length;c<d;c++)if(t[c](a,l))return o;return null},r=t.find(a=>!!a.allBasenames);r&&(n.allBasenames=r.allBasenames);let s=t.reduce((a,l)=>l.allPaths?a.concat(l.allPaths):a,[]);return s.length&&(n.allPaths=s),n}function aW(o,e,t){let i=fd===an.sep,n=i?o:o.replace(sce,fd),r=fd+n,s=an.sep+o,a=t?function(l,c){return typeof l=="string"&&(l===n||l.endsWith(r)||!i&&(l===o||l.endsWith(s)))?e:null}:function(l,c){return typeof l=="string"&&(l===n||!i&&l===o)?e:null};return a.allPaths=[(t?"*/":"./")+o],a}function mce(o){try{let e=new RegExp(`^${nW(o)}$`);return function(t){return e.lastIndex=0,typeof t=="string"&&e.test(t)?o:null}}catch{return Sd}}function lW(o,e,t){return!o||typeof e!="string"?!1:CR(o)(e,void 0,t)}function CR(o,e={}){if(!o)return rW;if(typeof o=="string"||pce(o)){let t=vR(o,e);if(t===Sd)return rW;let i=function(n,r){return!!t(n,r)};return t.allBasenames&&(i.allBasenames=t.allBasenames),t.allPaths&&(i.allPaths=t.allPaths),i}return _ce(o,e)}function pce(o){let e=o;return e&&typeof e.base=="string"&&typeof e.pattern=="string"}function _ce(o,e){let t=cW(Object.getOwnPropertyNames(o).map(a=>bce(a,o[a],e)).filter(a=>a!==Sd)),i=t.length;if(!i)return Sd;if(!t.some(a=>!!a.requiresSiblings)){if(i===1)return t[0];let a=function(d,h){for(let u=0,f=t.length;u<f;u++){let p=t[u](d,h);if(p)return p}return null},l=t.find(d=>!!d.allBasenames);l&&(a.allBasenames=l.allBasenames);let c=t.reduce((d,h)=>h.allPaths?d.concat(h.allPaths):d,[]);return c.length&&(a.allPaths=c),a}let n=function(a,l,c){let d;for(let h=0,u=t.length;h<u;h++){let f=t[h];f.requiresSiblings&&c&&(l||(l=ud(a)),d||(d=l.substr(0,l.length-Kj(a).length)));let p=f(a,l,d,c);if(p)return p}return null},r=t.find(a=>!!a.allBasenames);r&&(n.allBasenames=r.allBasenames);let s=t.reduce((a,l)=>l.allPaths?a.concat(l.allPaths):a,[]);return s.length&&(n.allPaths=s),n}function bce(o,e,t){if(e===!1)return Sd;let i=vR(o,t);if(i===Sd)return Sd;if(typeof e=="boolean")return i;if(e){let n=e.when;if(typeof n=="string"){let r=(s,a,l,c)=>{if(!c||!i(s,a))return null;let d=n.replace("$(basename)",l),h=c(d);return Jj(h)?h.then(u=>u?o:null):h?o:null};return r.requiresSiblings=!0,r}}return i}function cW(o,e){let t=o.filter(a=>!!a.basenames);if(t.length<2)return o;let i=t.reduce((a,l)=>{let c=l.basenames;return c?a.concat(c):a},[]),n;if(e){n=[];for(let a=0,l=i.length;a<l;a++)n.push(e)}else n=t.reduce((a,l)=>{let c=l.patterns;return c?a.concat(c):a},[]);let r=function(a,l){if(typeof a!="string")return null;if(!l){let d;for(d=a.length;d>0;d--){let h=a.charCodeAt(d-1);if(h===47||h===92)break}l=a.substr(d)}let c=i.indexOf(l);return c!==-1?n[c]:null};r.basenames=i,r.patterns=n,r.allBasenames=i;let s=o.filter(a=>!a.basenames);return s.push(r),s}var bR,eW,KD,YD,sce,ace,lce,cce,dce,hce,uce,oW,rW,Sd,yR=ge(()=>{tt();jD();Is();kf();je();bR="**",eW="/",KD="[/\\\\]",YD="[^/\\\\]",sce=/\//g;ace=/^\*\*\/\*\.[\w\.-]+$/,lce=/^\*\*\/([\w\.-]+)\/?$/,cce=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,dce=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,hce=/^\*\*((\/[\w\.-]+)+)\/?$/,uce=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,oW=new ks(1e4),rW=function(){return!1},Sd=function(){return null}});function SR(o,e,t,i){if(Array.isArray(o)){let n=0;for(let r of o){let s=SR(r,e,t,i);if(s===10)return s;s>n&&(n=s)}return n}else{if(typeof o=="string")return i?o==="*"?5:o===t?10:0:0;if(o){let{language:n,pattern:r,scheme:s,hasAccessToAllModels:a}=o;if(!i&&!a)return 0;let l=0;if(s)if(s===e.scheme)l=10;else if(s==="*")l=5;else return 0;if(n)if(n===t)l=10;else if(n==="*")l=Math.max(l,5);else return 0;if(r){let c;if(typeof r=="string"?c=r:c=Object.assign(Object.assign({},r),{base:bb(r.base)}),c===e.fsPath||lW(c,e.fsPath))l=10;else return 0}return l}else return 0}}var dW=ge(()=>{yR();kf()});function hW(o){return!o.isTooLargeForSyncing()&&!o.isForSimpleWidget}var Ci,xr=ge(()=>{Ge();Ci=Fe("modelService")});function uW(o){return typeof o=="string"?!1:Array.isArray(o)?o.every(uW):!!o.exclusive}function wce(o){let e=fW.get(o);return e===void 0&&(e=++vce,fW.set(o,e)),e}var Cn,fW,vce,jf,N0=ge(()=>{Se();Wb();ne();Is();Ub();dW();xr();Cn=class{constructor(){this._clock=0,this._entries=[],this._onDidChange=new F}get onDidChange(){return this._onDidChange.event}register(e,t){let i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),ze(()=>{if(i){let n=this._entries.indexOf(i);n>=0&&(this._entries.splice(n,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);let t=[];for(let i of this._entries)i._score>0&&t.push(i.provider);return t}ordered(e){let t=[];return this._orderedForEach(e,i=>t.push(i.provider)),t}orderedGroups(e){let t=[],i,n;return this._orderedForEach(e,r=>{i&&n===r._score?i.push(r.provider):(n=r._score,i=[r.provider],t.push(i))}),t}_orderedForEach(e,t){if(!!e){this._updateScores(e);for(let i of this._entries)i._score>0&&t(i)}}_updateScores(e){let t={uri:e.uri.toString(),language:e.getLanguageId()};if(!(this._lastCandidate&&this._lastCandidate.language===t.language&&this._lastCandidate.uri===t.uri)){this._lastCandidate=t;for(let i of this._entries)if(i._score=SR(i.selector,e.uri,e.getLanguageId(),hW(e)),uW(i.selector)&&i._score>0){for(let n of this._entries)n._score=0;i._score=1e3;break}this._entries.sort(Cn._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0}},fW=new WeakMap,vce=0;jf=class{constructor(e,t,i=Number.MAX_SAFE_INTEGER){this._registry=e,this.min=t,this.max=i,this._cache=new ks(50,.7)}_key(e){return e.id+this._registry.all(e).reduce((t,i)=>O0(wce(i),t),0)}_clamp(e){return e===void 0?this.min:Math.min(this.max,Math.max(this.min,Math.floor(e*1.3)))}get(e){let t=this._key(e),i=this._cache.get(t);return this._clamp(i==null?void 0:i.value)}update(e,t){let i=this._key(e),n=this._cache.get(i);return n||(n=new _R,this._cache.set(i,n)),n.update(t),this.get(e)}}});var ER,gW=ge(()=>{Se();ne();ER=class{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new F,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._map.set(e,t),this.fire([e]),ze(()=>{this._map.get(e)===t&&(this._map.delete(e),this.fire([e]))})}registerPromise(e,t){let i=null,n=!1;return this._promises.set(e,t.then(r=>{this._promises.delete(e),!(n||!r)&&(i=this.register(e,r))})),ze(()=>{n=!0,i&&i.dispose()})}getPromise(e){let t=this.get(e);if(t)return Promise.resolve(t);let i=this._promises.get(e);return i?i.then(n=>this.get(e)):null}get(e){return this._map.get(e)||null}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}});function _W(o){return o?o.replace(/\$\((.*?)\)/g,(e,t)=>` ${t} `).trim():""}var mW,pW,zb,z,Co,en=ge(()=>{Se();mW=class{constructor(){this._icons=new Map,this._onDidRegister=new F}add(e){let t=this._icons.get(e.id);t?e.description?t.description=e.description:console.error(`Duplicate registration of codicon ${e.id}`):(this._icons.set(e.id,e),this._onDidRegister.fire(e))}get(e){return this._icons.get(e)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}},pW=new mW,zb=pW;z=class{constructor(e,t,i){this.id=e,this.definition=t,this.description=i,pW.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}};z.add=new z("add",{fontCharacter:"\\ea60"});z.lightBulb=new z("light-bulb",{fontCharacter:"\\ea61"});z.warning=new z("warning",{fontCharacter:"\\ea6c"});z.info=new z("info",{fontCharacter:"\\ea74"});z.close=new z("close",{fontCharacter:"\\ea76"});z.sync=new z("sync",{fontCharacter:"\\ea77"});z.symbolFolder=new z("symbol-folder",{fontCharacter:"\\ea83"});z.symbolEvent=new z("symbol-event",{fontCharacter:"\\ea86"});z.error=new z("error",{fontCharacter:"\\ea87"});z.symbolVariable=new z("symbol-variable",{fontCharacter:"\\ea88"});z.symbolArray=new z("symbol-array",{fontCharacter:"\\ea8a"});z.symbolModule=new z("symbol-module",{fontCharacter:"\\ea8b"});z.symbolPackage=new z("symbol-package",{fontCharacter:"\\ea8b"});z.symbolNamespace=new z("symbol-namespace",{fontCharacter:"\\ea8b"});z.symbolObject=new z("symbol-object",{fontCharacter:"\\ea8b"});z.symbolMethod=new z("symbol-method",{fontCharacter:"\\ea8c"});z.symbolFunction=new z("symbol-function",{fontCharacter:"\\ea8c"});z.symbolConstructor=new z("symbol-constructor",{fontCharacter:"\\ea8c"});z.symbolBoolean=new z("symbol-boolean",{fontCharacter:"\\ea8f"});z.symbolNull=new z("symbol-null",{fontCharacter:"\\ea8f"});z.symbolNumber=new z("symbol-number",{fontCharacter:"\\ea90"});z.symbolStruct=new z("symbol-struct",{fontCharacter:"\\ea91"});z.symbolTypeParameter=new z("symbol-type-parameter",{fontCharacter:"\\ea92"});z.symbolKey=new z("symbol-key",{fontCharacter:"\\ea93"});z.symbolText=new z("symbol-text",{fontCharacter:"\\ea93"});z.symbolReference=new z("symbol-reference",{fontCharacter:"\\ea94"});z.symbolEnum=new z("symbol-enum",{fontCharacter:"\\ea95"});z.symbolValue=new z("symbol-value",{fontCharacter:"\\ea95"});z.symbolUnit=new z("symbol-unit",{fontCharacter:"\\ea96"});z.arrowDown=new z("arrow-down",{fontCharacter:"\\ea9a"});z.arrowLeft=new z("arrow-left",{fontCharacter:"\\ea9b"});z.arrowUp=new z("arrow-up",{fontCharacter:"\\eaa1"});z.caseSensitive=new z("case-sensitive",{fontCharacter:"\\eab1"});z.check=new z("check",{fontCharacter:"\\eab2"});z.chevronDown=new z("chevron-down",{fontCharacter:"\\eab4"});z.chevronRight=new z("chevron-right",{fontCharacter:"\\eab6"});z.chevronUp=new z("chevron-up",{fontCharacter:"\\eab7"});z.lightbulbAutofix=new z("lightbulb-autofix",{fontCharacter:"\\eb13"});z.loading=new z("loading",{fontCharacter:"\\eb19"});z.preserveCase=new z("preserve-case",{fontCharacter:"\\eb2e"});z.regex=new z("regex",{fontCharacter:"\\eb38"});z.remove=new z("remove",{fontCharacter:"\\eb3b"});z.replaceAll=new z("replace-all",{fontCharacter:"\\eb3c"});z.replace=new z("replace",{fontCharacter:"\\eb3d"});z.splitHorizontal=new z("split-horizontal",{fontCharacter:"\\eb56"});z.splitVertical=new z("split-vertical",{fontCharacter:"\\eb57"});z.symbolClass=new z("symbol-class",{fontCharacter:"\\eb5b"});z.symbolColor=new z("symbol-color",{fontCharacter:"\\eb5c"});z.symbolConstant=new z("symbol-constant",{fontCharacter:"\\eb5d"});z.symbolEnumMember=new z("symbol-enum-member",{fontCharacter:"\\eb5e"});z.symbolField=new z("symbol-field",{fontCharacter:"\\eb5f"});z.symbolFile=new z("symbol-file",{fontCharacter:"\\eb60"});z.symbolInterface=new z("symbol-interface",{fontCharacter:"\\eb61"});z.symbolKeyword=new z("symbol-keyword",{fontCharacter:"\\eb62"});z.symbolOperator=new z("symbol-operator",{fontCharacter:"\\eb64"});z.symbolProperty=new z("symbol-property",{fontCharacter:"\\eb65"});z.symbolSnippet=new z("symbol-snippet",{fontCharacter:"\\eb66"});z.triangleDown=new z("triangle-down",{fontCharacter:"\\eb6e"});z.triangleLeft=new z("triangle-left",{fontCharacter:"\\eb6f"});z.triangleRight=new z("triangle-right",{fontCharacter:"\\eb70"});z.triangleUp=new z("triangle-up",{fontCharacter:"\\eb71"});z.wholeWord=new z("whole-word",{fontCharacter:"\\eb7e"});z.listFilter=new z("list-filter",{fontCharacter:"\\eb83"});z.listSelection=new z("list-selection",{fontCharacter:"\\eb85"});z.selection=new z("selection",{fontCharacter:"\\eb85"});z.symbolString=new z("symbol-string",{fontCharacter:"\\eb8d"});z.treeItemExpanded=new z("tree-item-expanded",z.chevronDown.definition);z.treeFilterOnTypeOn=new z("tree-filter-on-type-on",z.listFilter.definition);z.treeFilterOnTypeOff=new z("tree-filter-on-type-off",z.listSelection.definition);z.treeFilterClear=new z("tree-filter-clear",z.close.definition);z.treeItemLoading=new z("tree-item-loading",z.loading.definition);z.menuSelection=new z("menu-selection",z.check.definition);z.menuSubmenu=new z("menu-submenu",z.chevronRight.definition);z.scrollbarButtonLeft=new z("scrollbar-button-left",z.triangleLeft.definition);z.scrollbarButtonRight=new z("scrollbar-button-right",z.triangleRight.definition);z.scrollbarButtonUp=new z("scrollbar-button-up",z.triangleUp.definition);z.scrollbarButtonDown=new z("scrollbar-button-down",z.triangleDown.definition);z.quickInputBack=new z("quick-input-back",z.arrowLeft.definition);(function(o){o.iconNameSegment="[A-Za-z0-9]+",o.iconNameExpression="[A-Za-z0-9-]+",o.iconModifierExpression="~[A-Za-z]+",o.iconNameCharacter="[A-Za-z0-9~-]";let e=new RegExp(`^(${o.iconNameExpression})(${o.iconModifierExpression})?$`);function t(r){if(r instanceof z)return["codicon","codicon-"+r.id];let s=e.exec(r.id);if(!s)return t(z.error);let[,a,l]=s,c=["codicon","codicon-"+a];return l&&c.push("codicon-modifier-"+l.substr(1)),c}o.asClassNameArray=t;function i(r){return t(r).join(" ")}o.asClassName=i;function n(r){return"."+t(r).join(".")}o.asCSSSelector=n})(Co||(Co={}))});function vW(o){return o&&Ee.isUri(o.uri)&&D.isIRange(o.range)&&(D.isIRange(o.originSelectionRange)||D.isIRange(o.targetSelectionRange))}var sr,bW,xR,rs,Ua,Vb,wW,aa,P0,Fm,Bm,ss,R0,yc,Vh,Sc,Ed,Hb,Hh,jm,Wm,Um,za,Ec,Ts,Wf,Ns,zm,$h,Kh,$b,M0,Yh,Vm,Li,Tt=ge(()=>{Ai();ve();N0();gW();en();sr=class{static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&1792)>>>8}static getFontStyle(e){return(e&14336)>>>11}static getForeground(e){return(e&8372224)>>>14}static getBackground(e){return(e&4286578688)>>>23}static getClassNameFromMetadata(e){let t=this.getForeground(e),i="mtk"+t,n=this.getFontStyle(e);return n&1&&(i+=" mtki"),n&2&&(i+=" mtkb"),n&4&&(i+=" mtku"),i}static getInlineStyleFromMetadata(e,t){let i=this.getForeground(e),n=this.getFontStyle(e),r=`color: ${t[i]};`;return n&1&&(r+="font-style: italic;"),n&2&&(r+="font-weight: bold;"),n&4&&(r+="text-decoration: underline;"),r}},bW=function(){let o=Object.create(null);return o[0]="symbol-method",o[1]="symbol-function",o[2]="symbol-constructor",o[3]="symbol-field",o[4]="symbol-variable",o[5]="symbol-class",o[6]="symbol-struct",o[7]="symbol-interface",o[8]="symbol-module",o[9]="symbol-property",o[10]="symbol-event",o[11]="symbol-operator",o[12]="symbol-unit",o[13]="symbol-value",o[14]="symbol-constant",o[15]="symbol-enum",o[16]="symbol-enum-member",o[17]="symbol-keyword",o[27]="symbol-snippet",o[18]="symbol-text",o[19]="symbol-color",o[20]="symbol-file",o[21]="symbol-reference",o[22]="symbol-customcolor",o[23]="symbol-folder",o[24]="symbol-type-parameter",o[25]="account",o[26]="issues",function(e){let t=o[e],i=t&&zb.get(t);return i||(console.info("No codicon found for CompletionItemKind "+e),i=z.symbolProperty),i.classNames}}(),xR=function(){let o=Object.create(null);return o.method=0,o.function=1,o.constructor=2,o.field=3,o.variable=4,o.class=5,o.struct=6,o.interface=7,o.module=8,o.property=9,o.event=10,o.operator=11,o.unit=12,o.value=13,o.constant=14,o.enum=15,o["enum-member"]=16,o.enumMember=16,o.keyword=17,o.snippet=27,o.text=18,o.color=19,o.file=20,o.reference=21,o.customcolor=22,o.folder=23,o["type-parameter"]=24,o.typeParameter=24,o.account=25,o.issue=26,function(e,t){let i=o[e];return typeof i=="undefined"&&!t&&(i=9),i}}();(function(o){o[o.Automatic=0]="Automatic",o[o.Explicit=1]="Explicit"})(rs||(rs={}));(function(o){o[o.Invoke=1]="Invoke",o[o.TriggerCharacter=2]="TriggerCharacter",o[o.ContentChange=3]="ContentChange"})(Ua||(Ua={}));(function(o){o[o.Text=0]="Text",o[o.Read=1]="Read",o[o.Write=2]="Write"})(Vb||(Vb={}));(function(o){let e=new Map;e.set("file",0),e.set("module",1),e.set("namespace",2),e.set("package",3),e.set("class",4),e.set("method",5),e.set("property",6),e.set("field",7),e.set("constructor",8),e.set("enum",9),e.set("interface",10),e.set("function",11),e.set("variable",12),e.set("constant",13),e.set("string",14),e.set("number",15),e.set("boolean",16),e.set("array",17),e.set("object",18),e.set("key",19),e.set("null",20),e.set("enum-member",21),e.set("struct",22),e.set("event",23),e.set("operator",24),e.set("type-parameter",25);let t=new Map;t.set(0,"file"),t.set(1,"module"),t.set(2,"namespace"),t.set(3,"package"),t.set(4,"class"),t.set(5,"method"),t.set(6,"property"),t.set(7,"field"),t.set(8,"constructor"),t.set(9,"enum"),t.set(10,"interface"),t.set(11,"function"),t.set(12,"variable"),t.set(13,"constant"),t.set(14,"string"),t.set(15,"number"),t.set(16,"boolean"),t.set(17,"array"),t.set(18,"object"),t.set(19,"key"),t.set(20,"null"),t.set(21,"enum-member"),t.set(22,"struct"),t.set(23,"event"),t.set(24,"operator"),t.set(25,"type-parameter");function i(s){return e.get(s)}o.fromString=i;function n(s){return t.get(s)}o.toString=n;function r(s,a){let l=t.get(s),c=l&&zb.get("symbol-"+l);return c||(console.info("No codicon found for SymbolKind "+s),c=z.symbolProperty),`${a?"inline":"block"} ${c.classNames}`}o.toCssClassName=r})(wW||(wW={}));aa=class{constructor(e){this.value=e}};aa.Comment=new aa("comment");aa.Imports=new aa("imports");aa.Region=new aa("region");(function(o){o[o.Other=0]="Other",o[o.Type=1]="Type",o[o.Parameter=2]="Parameter"})(P0||(P0={}));Fm=new Cn,Bm=new Cn,ss=new Cn,R0=new Cn,yc=new Cn,Vh=new Cn,Sc=new Cn,Ed=new Cn,Hb=new Cn,Hh=new Cn,jm=new Cn,Wm=new Cn,Um=new Cn,za=new Cn,Ec=new Cn,Ts=new Cn,Wf=new Cn,Ns=new Cn,zm=new Cn,$h=new Cn,Kh=new Cn,$b=new Cn,M0=new Cn,Yh=new Cn,Vm=new Cn,Li=new ER});function yW(o,e,t,i){return new km([new Ah(i,"",o)],t)}function qD(o,e,t,i){let n=new Uint32Array(2);return n[0]=i,n[1]=(o<<0|0<<8|0<<11|1<<14|2<<23)>>>0,new If(n,t===null?Hm:t)}var CW,Hm,Ol,Uf=ge(()=>{c0();CW=class{clone(){return this}equals(e){return this===e}},Hm=new CW,Ol="vs.editor.nullMode"});var yce,ro,xd=ge(()=>{Ge();yce="editorWorkerService",ro=Fe(yce)});var Pi,ar=ge(()=>{Ge();Pi=Fe("modeService")});var Kn,Dc=ge(()=>{Ge();Kn=Fe("textModelService")});function B0(o,e,t){o.has(e)?o.get(e).push(t):o.set(e,[t])}var dn,F0,IR,Yb=ge(()=>{(function(o){o[o.None=0]="None",o[o.Indent=1]="Indent",o[o.IndentOutdent=2]="IndentOutdent",o[o.Outdent=3]="Outdent"})(dn||(dn={}));F0=class{constructor(e){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=e.open,this.close=e.close,this._standardTokenMask=0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++)switch(e.notIn[t]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}isOK(e){return(this._standardTokenMask&e)===0}shouldAutoClose(e,t){if(e.getTokenCount()===0)return!0;let i=e.findTokenIndexAtOffset(t-2),n=e.getStandardTokenType(i);return this.isOK(n)}_findNeutralCharacterInRange(e,t){for(let i=e;i<=t;i++){let n=String.fromCharCode(i);if(!this.open.includes(n)&&!this.close.includes(n))return n}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}},IR=class{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(let t of e)B0(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),B0(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),B0(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),B0(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),t.close.length===1&&t.open.length===1&&B0(this.autoClosingPairsCloseSingleChar,t.close,t)}}});function qb(o,e){let t=o.getCount(),i=o.findTokenIndexAtOffset(e),n=o.getLanguageId(i),r=i;for(;r+1<t&&o.getLanguageId(r+1)===n;)r++;let s=i;for(;s>0&&o.getLanguageId(s-1)===n;)s--;return new PW(o,n,s,r+1,o.getStartOffset(s),o.getEndOffset(r))}function Tl(o){return(o&7)!==0}var PW,j0=ge(()=>{PW=class{constructor(e,t,i,n,r,s){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=i,this._lastTokenIndex=n,this.firstCharOffset=r,this._lastCharOffset=s}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}});function RW(o){return o.filter(([e,t])=>e!==""&&t!=="")}var $m,MW=ge(()=>{Yb();$m=class{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(t=>new F0(t)):e.brackets?this._autoClosingPairs=e.brackets.map(t=>new F0({open:t[0],close:t[1]})):this._autoClosingPairs=[],e.colorizedBracketPairs?this._colorizedBracketPairs=RW(e.colorizedBracketPairs.map(t=>[t[0],t[1]])):e.brackets?this._colorizedBracketPairs=RW(e.brackets.map(t=>[t[0],t[1]]).filter(t=>!(t[0]==="<"&&t[1]===">"))):this._colorizedBracketPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){let t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new F0({open:t.open,close:t.close||""}))}this._autoCloseBefore=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:$m.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}};$m.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`});function AW(){return OR||(OR=new TextDecoder("UTF-16LE")),OR}function Lce(){return TR||(TR=new TextDecoder("UTF-16BE")),TR}function PR(){return NR||(NR=hx()?AW():Lce()),NR}function kce(o,e,t){let i=new Uint16Array(o.buffer,e,t);return t>0&&(i[0]===65279||i[0]===65534)?FW(o,e,t):AW().decode(i)}function FW(o,e,t){let i=[],n=0;for(let r=0;r<t;r++){let s=B6(o,e);e+=2,i[n++]=String.fromCharCode(s)}return i.join("")}var OR,TR,NR,RR,Nl,ZD,BW,jW,zf=ge(()=>{je();wt();Rb();RR=typeof TextDecoder!="undefined";RR?(Nl=o=>new BW(o),ZD=kce):(Nl=o=>new jW,ZD=FW);BW=class{constructor(e){this._capacity=e|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";let e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return PR().decode(e)}_flushBuffer(){let e=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}write1(e){let t=this._capacity-this._bufferLength;t<=1&&(t===0||Xi(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCII(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIIString(e){let t=e.length;if(this._bufferLength+t>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=e;return}for(let i=0;i<t;i++)this._buffer[this._bufferLength++]=e.charCodeAt(i)}},jW=class{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCII(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCIIString(e){this._pieces[this._piecesLen++]=e}}});function Oce(o){let e=o.length;o=o.map(s=>[s[0].toLowerCase(),s[1].toLowerCase()]);let t=[];for(let s=0;s<e;s++)t[s]=s;let i=(s,a)=>{let[l,c]=s,[d,h]=a;return l===d||l===h||c===d||c===h},n=(s,a)=>{let l=Math.min(s,a),c=Math.max(s,a);for(let d=0;d<e;d++)t[d]===c&&(t[d]=l)};for(let s=0;s<e;s++){let a=o[s];for(let l=s+1;l<e;l++){let c=o[l];i(a,c)&&n(t[s],t[l])}}let r=[];for(let s=0;s<e;s++){let a=[],l=[];for(let c=0;c<e;c++)if(t[c]===s){let[d,h]=o[c];a.push(d),l.push(h)}a.length>0&&r.push({open:a,close:l})}return r}function WW(o,e,t,i){for(let n=0,r=e.length;n<r;n++){if(n===t)continue;let s=e[n];for(let a of s.open)a.indexOf(o)>=0&&i.push(a);for(let a of s.close)a.indexOf(o)>=0&&i.push(a)}}function UW(o,e){return o.length-e.length}function GD(o){if(o.length<=1)return o;let e=[],t=new Set;for(let i of o)t.has(i)||(e.push(i),t.add(i));return e}function Tce(o,e,t,i){let n=[];n=n.concat(o),n=n.concat(e);for(let r=0,s=n.length;r<s;r++)WW(n[r],t,i,n);return n=GD(n),n.sort(UW),n.reverse(),XD(n)}function Nce(o,e,t,i){let n=[];n=n.concat(o),n=n.concat(e);for(let r=0,s=n.length;r<s;r++)WW(n[r],t,i,n);return n=GD(n),n.sort(UW),n.reverse(),XD(n.map(AR))}function Pce(o){let e=[];for(let t of o){for(let i of t.open)e.push(i);for(let i of t.close)e.push(i)}return e=GD(e),XD(e)}function Rce(o){let e=[];for(let t of o){for(let i of t.open)e.push(i);for(let i of t.close)e.push(i)}return e=GD(e),XD(e.map(AR))}function Mce(o){let e=/^[\w ]+$/.test(o);return o=wo(o),e?`\\b${o}\\b`:o}function XD(o){let e=`(${o.map(Mce).join(")|(")})`;return ND(e,!0)}var W0,MR,AR,Ps,QD=ge(()=>{je();zf();ve();W0=class{constructor(e,t,i,n,r,s){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=i,this.close=n,this.forwardRegex=r,this.reversedRegex=s,this._openSet=W0._toSet(this.open),this._closeSet=W0._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){let t=new Set;for(let i of e)t.add(i);return t}};MR=class{constructor(e,t){this._richEditBracketsBrand=void 0;let i=Oce(t);this.brackets=i.map((n,r)=>new W0(e,r,n.open,n.close,Tce(n.open,n.close,i,r),Nce(n.open,n.close,i,r))),this.forwardRegex=Pce(this.brackets),this.reversedRegex=Rce(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(let n of this.brackets){for(let r of n.open)this.textIsBracket[r]=n,this.textIsOpenBracket[r]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,r.length);for(let r of n.close)this.textIsBracket[r]=n,this.textIsOpenBracket[r]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,r.length)}}};AR=function(){function o(i){if(RR){let n=new Uint16Array(i.length),r=0;for(let s=i.length-1;s>=0;s--)n[r++]=i.charCodeAt(s);return PR().decode(n)}else{let n=[],r=0;for(let s=i.length-1;s>=0;s--)n[r++]=i.charAt(s);return n.join("")}}let e=null,t=null;return function(n){return e!==n&&(e=n,t=o(e)),t}}(),Ps=class{static _findPrevBracketInText(e,t,i,n){let r=i.match(e);if(!r)return null;let s=i.length-(r.index||0),a=r[0].length,l=n+s;return new D(t,l-a+1,t,l+1)}static findPrevBracketInRange(e,t,i,n,r){let a=AR(i).substring(i.length-r,i.length-n);return this._findPrevBracketInText(e,t,a,n)}static findNextBracketInText(e,t,i,n){let r=i.match(e);if(!r)return null;let s=r.index||0,a=r[0].length;if(a===0)return null;let l=n+s;return new D(t,l+1,t,l+1+a)}static findNextBracketInRange(e,t,i,n,r){let s=i.substring(n,r);return this.findNextBracketInText(e,t,s,n)}}});var FR,zW=ge(()=>{Ut();j0();QD();FR=class{constructor(e){this._richEditBrackets=e}getElectricCharacters(){let e=[];if(this._richEditBrackets)for(let t of this._richEditBrackets.brackets)for(let i of t.close){let n=i.charAt(i.length-1);e.push(n)}return pl(e)}onElectricCharacter(e,t,i){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;let n=t.findTokenIndexAtOffset(i-1);if(Tl(t.getStandardTokenType(n)))return null;let r=this._richEditBrackets.reversedRegex,s=t.getLineContent().substring(0,i-1)+e,a=Ps.findPrevBracketInRange(r,1,s,0,s.length);if(!a)return null;let l=s.substring(a.startColumn-1,a.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[l])return null;let d=t.getActualLineContentBefore(a.startColumn-1);return/^\s*$/.test(d)?{matchOpenBracket:l}:null}}});function JD(o){return o.global&&(o.lastIndex=0),!0}var BR,VW=ge(()=>{BR=class{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&JD(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&JD(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&JD(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&JD(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}});var Vf,HW=ge(()=>{st();je();Yb();Vf=class{constructor(e){e=e||{},e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(t=>{let i=Vf._createOpenBracketRegExp(t[0]),n=Vf._createCloseBracketRegExp(t[1]);i&&n&&this._brackets.push({open:t[0],openRegExp:i,close:t[1],closeRegExp:n})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,n){if(e>=3)for(let r=0,s=this._regExpRules.length;r<s;r++){let a=this._regExpRules[r];if([{reg:a.beforeText,text:i},{reg:a.afterText,text:n},{reg:a.previousLineText,text:t}].every(c=>c.reg?(c.reg.lastIndex=0,c.reg.test(c.text)):!0))return a.action}if(e>=2&&i.length>0&&n.length>0)for(let r=0,s=this._brackets.length;r<s;r++){let a=this._brackets[r];if(a.openRegExp.test(i)&&a.closeRegExp.test(n))return{indentAction:dn.IndentOutdent}}if(e>=2&&i.length>0){for(let r=0,s=this._brackets.length;r<s;r++)if(this._brackets[r].openRegExp.test(i))return{indentAction:dn.Indent}}return null}static _createOpenBracketRegExp(e){let t=wo(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",Vf._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=wo(e);return/\B/.test(t.charAt(t.length-1))||(t=t+"\\b"),t="^\\s*"+t,Vf._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return ye(t),null}}}});function jR(o,e){let t=Object.create(null);for(let i in o)eL(t,i,o[i],e);return t}function eL(o,e,t,i){let n=e.split("."),r=n.pop(),s=o;for(let a=0;a<n.length;a++){let l=n[a],c=s[l];switch(typeof c){case"undefined":c=s[l]=Object.create(null);break;case"object":break;default:i(`Ignoring ${e} as ${n.slice(0,a+1).join(".")} is ${JSON.stringify(c)}`);return}s=c}if(typeof s=="object"&&s!==null)try{s[r]=t}catch{i(`Ignoring ${e} as ${n.join(".")} is ${JSON.stringify(s)}`)}else i(`Ignoring ${e} as ${n.join(".")} is ${JSON.stringify(s)}`)}function $W(o,e){let t=e.split(".");KW(o,t)}function KW(o,e){let t=e.shift();if(e.length===0){delete o[t];return}if(Object.keys(o).indexOf(t)!==-1){let i=o[t];typeof i=="object"&&!Array.isArray(i)&&(KW(i,e),Object.keys(i).length===0&&delete o[t])}}function YW(o,e,t){function i(s,a){let l=s;for(let c of a){if(typeof l!="object"||l===null)return;l=l[c]}return l}let n=e.split("."),r=i(o,n);return typeof r=="undefined"?t:r}var Vt,lr=ge(()=>{Ge();Vt=Fe("configurationService")});var Lc,WR=ge(()=>{Lc=class{constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}});function as(o,e,t){e instanceof Lc||(e=new Lc(e,[],t)),qW.push([o,e])}function ZW(){return qW}var qW,Dd=ge(()=>{WR();qW=[]});function Fce(o,e,t){let i=xt.getLanguageConfiguration(o);if(!i){let a=t.validateLanguageId(o);if(!a)throw new Error("Unexpected languageId");i=new Zb(a,{})}let n=Bce(i.languageId,e),r=eU([i.underlyingConfig,n]);return new Zb(i.languageId,r)}function Bce(o,e){let t=e.getValue(UR.brackets,{overrideIdentifier:o}),i=e.getValue(UR.colorizedBracketPairs,{overrideIdentifier:o});return{brackets:XW(t),colorizedBracketPairs:XW(i)}}function XW(o){if(!!Array.isArray(o))return o.map(e=>{if(!(!Array.isArray(e)||e.length!==2))return[e[0],e[1]]}).filter(e=>!!e)}function eU(o){let e={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(let t of o)e={comments:t.comments||e.comments,brackets:t.brackets||e.brackets,wordPattern:t.wordPattern||e.wordPattern,indentationRules:t.indentationRules||e.indentationRules,onEnterRules:t.onEnterRules||e.onEnterRules,autoClosingPairs:t.autoClosingPairs||e.autoClosingPairs,surroundingPairs:t.surroundingPairs||e.surroundingPairs,autoCloseBefore:t.autoCloseBefore||e.autoCloseBefore,folding:t.folding||e.folding,colorizedBracketPairs:t.colorizedBracketPairs||e.colorizedBracketPairs,__electricCharacterSupport:t.__electricCharacterSupport||e.__electricCharacterSupport};return e}var Ace,GW,tL,qh,U0,UR,zR,QW,xt,JW,VR,Zb,zo=ge(()=>{Se();ne();je();t0();Yb();j0();MW();zW();VW();HW();QD();Ge();lr();ar();Dd();Ace=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},GW=function(o,e){return function(t,i){e(t,i,o)}},tL=class{constructor(e){this.languageId=e}affects(e){return this.languageId?this.languageId===e:!0}},qh=Fe("languageConfigurationService"),U0=class extends ${constructor(e,t){super();this.configurationService=e,this.modeService=t,this.onDidChangeEmitter=this._register(new F),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;let i=new Set(Object.values(UR));this._register(this.configurationService.onDidChangeConfiguration(n=>{let r=n.change.keys.some(a=>i.has(a)),s=n.change.overrides.filter(([a,l])=>l.some(c=>i.has(c))).map(([a])=>this.modeService.validateLanguageId(a));if(r)this.configurations.clear(),this.onDidChangeEmitter.fire(new tL(void 0));else for(let a of s)a&&(this.configurations.delete(a),this.onDidChangeEmitter.fire(new tL(a)))})),this._register(xt.onDidChange(n=>{this.configurations.delete(n.languageId),this.onDidChangeEmitter.fire(new tL(n.languageId))}))}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=Fce(e,this.configurationService,this.modeService),this.configurations.set(e,t)),t}};U0=Ace([GW(0,Vt),GW(1,Pi)],U0);UR={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};zR=class{constructor(e){this.languageId=e}},QW=class{constructor(){this._entries=new Map,this._onDidChange=new F,this.onDidChange=this._onDidChange.event}register(e,t,i=0){let n=this._entries.get(e);n||(n=new JW(e),this._entries.set(e,n));let r=n.register(t,i);return this._onDidChange.fire(new zR(e)),ze(()=>{r.dispose(),this._onDidChange.fire(new zR(e))})}getLanguageConfiguration(e){let t=this._entries.get(e);return(t==null?void 0:t.getResolvedConfiguration())||null}getIndentationRules(e){let t=this.getLanguageConfiguration(e);return t&&t.indentationRules||null}_getElectricCharacterSupport(e){let t=this.getLanguageConfiguration(e);return t&&t.electricCharacter||null}getElectricCharacters(e){let t=this._getElectricCharacterSupport(e);return t?t.getElectricCharacters():[]}onElectricCharacter(e,t,i){let n=qb(t,i-1),r=this._getElectricCharacterSupport(n.languageId);return r?r.onElectricCharacter(e,n,i-n.firstCharOffset):null}getComments(e){let t=this.getLanguageConfiguration(e);return t&&t.comments||null}_getCharacterPairSupport(e){let t=this.getLanguageConfiguration(e);return t&&t.characterPair||null}getAutoClosingPairs(e){let t=this._getCharacterPairSupport(e);return new IR(t?t.getAutoClosingPairs():[])}getAutoCloseBeforeSet(e){let t=this._getCharacterPairSupport(e);return t?t.getAutoCloseBeforeSet():$m.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(e){let t=this._getCharacterPairSupport(e);return t?t.getSurroundingPairs():[]}getWordDefinition(e){let t=this.getLanguageConfiguration(e);return t?lb(t.wordDefinition||null):lb(null)}getFoldingRules(e){let t=this.getLanguageConfiguration(e);return t?t.foldingRules:{}}getIndentRulesSupport(e){let t=this.getLanguageConfiguration(e);return t&&t.indentRulesSupport||null}getPrecedingValidLine(e,t,i){let n=e.getLanguageIdAtPosition(t,0);if(t>1){let r,s=-1;for(r=t-1;r>=1;r--){if(e.getLanguageIdAtPosition(r,0)!==n)return s;let a=e.getLineContent(r);if(i.shouldIgnore(a)||/^\s+$/.test(a)||a===""){s=r;continue}return r}}return-1}getInheritIndentForLine(e,t,i,n=!0){if(e<4)return null;let r=this.getIndentRulesSupport(t.getLanguageId());if(!r)return null;if(i<=1)return{indentation:"",action:null};let s=this.getPrecedingValidLine(t,i,r);if(s<0)return null;if(s<1)return{indentation:"",action:null};let a=t.getLineContent(s);if(r.shouldIncrease(a)||r.shouldIndentNextLine(a))return{indentation:Qt(a),action:dn.Indent,line:s};if(r.shouldDecrease(a))return{indentation:Qt(a),action:null,line:s};{if(s===1)return{indentation:Qt(t.getLineContent(s)),action:null,line:s};let l=s-1,c=r.getIndentMetadata(t.getLineContent(l));if(!(c&(1|2))&&c&4){let d=0;for(let h=l-1;h>0;h--)if(!r.shouldIndentNextLine(t.getLineContent(h))){d=h;break}return{indentation:Qt(t.getLineContent(d+1)),action:null,line:d+1}}if(n)return{indentation:Qt(t.getLineContent(s)),action:null,line:s};for(let d=s;d>0;d--){let h=t.getLineContent(d);if(r.shouldIncrease(h))return{indentation:Qt(h),action:dn.Indent,line:d};if(r.shouldIndentNextLine(h)){let u=0;for(let f=d-1;f>0;f--)if(!r.shouldIndentNextLine(t.getLineContent(d))){u=f;break}return{indentation:Qt(t.getLineContent(u+1)),action:null,line:u+1}}else if(r.shouldDecrease(h))return{indentation:Qt(h),action:null,line:d}}return{indentation:Qt(t.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(e,t,i,n,r){if(e<4)return null;let s=this.getLanguageConfiguration(i);if(!s)return null;let a=this.getIndentRulesSupport(i);if(!a)return null;let l=this.getInheritIndentForLine(e,t,n),c=t.getLineContent(n);if(l){let d=l.line;if(d!==void 0){let h=s.onEnter(e,"",t.getLineContent(d),"");if(h){let u=Qt(t.getLineContent(d));return h.removeText&&(u=u.substring(0,u.length-h.removeText)),h.indentAction===dn.Indent||h.indentAction===dn.IndentOutdent?u=r.shiftIndent(u):h.indentAction===dn.Outdent&&(u=r.unshiftIndent(u)),a.shouldDecrease(c)&&(u=r.unshiftIndent(u)),h.appendText&&(u+=h.appendText),Qt(u)}}return a.shouldDecrease(c)?l.action===dn.Indent?l.indentation:r.unshiftIndent(l.indentation):l.action===dn.Indent?r.shiftIndent(l.indentation):l.indentation}return null}getIndentForEnter(e,t,i,n){if(e<4)return null;t.forceTokenization(i.startLineNumber);let r=t.getLineTokens(i.startLineNumber),s=qb(r,i.startColumn-1),a=s.getLineContent(),l=!1,c;s.firstCharOffset>0&&r.getLanguageId(0)!==s.languageId?(l=!0,c=a.substr(0,i.startColumn-1-s.firstCharOffset)):c=r.getLineContent().substring(0,i.startColumn-1);let d;i.isEmpty()?d=a.substr(i.startColumn-1-s.firstCharOffset):d=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-s.firstCharOffset);let h=this.getIndentRulesSupport(s.languageId);if(!h)return null;let u=c,f=Qt(c),p={getLineTokens:w=>t.getLineTokens(w),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(w,S)=>t.getLanguageIdAtPosition(w,S),getLineContent:w=>w===i.startLineNumber?u:t.getLineContent(w)},b=Qt(r.getLineContent()),v=this.getInheritIndentForLine(e,p,i.startLineNumber+1);if(!v){let w=l?b:f;return{beforeEnter:w,afterEnter:w}}let y=l?b:v.indentation;return v.action===dn.Indent&&(y=n.shiftIndent(y)),h.shouldDecrease(d)&&(y=n.unshiftIndent(y)),{beforeEnter:l?b:f,afterEnter:y}}getIndentActionForType(e,t,i,n,r){if(e<4)return null;let s=this.getScopedLineTokens(t,i.startLineNumber,i.startColumn);if(s.firstCharOffset)return null;let a=this.getIndentRulesSupport(s.languageId);if(!a)return null;let l=s.getLineContent(),c=l.substr(0,i.startColumn-1-s.firstCharOffset),d;if(i.isEmpty()?d=l.substr(i.startColumn-1-s.firstCharOffset):d=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-s.firstCharOffset),!a.shouldDecrease(c+d)&&a.shouldDecrease(c+n+d)){let h=this.getInheritIndentForLine(e,t,i.startLineNumber,!1);if(!h)return null;let u=h.indentation;return h.action!==dn.Indent&&(u=r.unshiftIndent(u)),u}return null}getIndentMetadata(e,t){let i=this.getIndentRulesSupport(e.getLanguageId());return!i||t<1||t>e.getLineCount()?null:i.getIndentMetadata(e.getLineContent(t))}getEnterAction(e,t,i){let n=this.getScopedLineTokens(t,i.startLineNumber,i.startColumn),r=this.getLanguageConfiguration(n.languageId);if(!r)return null;let s=n.getLineContent(),a=s.substr(0,i.startColumn-1-n.firstCharOffset),l;i.isEmpty()?l=s.substr(i.startColumn-1-n.firstCharOffset):l=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-n.firstCharOffset);let c="";if(i.startLineNumber>1&&n.firstCharOffset===0){let b=this.getScopedLineTokens(t,i.startLineNumber-1);b.languageId===n.languageId&&(c=b.getLineContent())}let d=r.onEnter(e,c,a,l);if(!d)return null;let h=d.indentAction,u=d.appendText,f=d.removeText||0;u?h===dn.Indent&&(u="	"+u):h===dn.Indent||h===dn.IndentOutdent?u="	":u="";let p=this.getIndentationAtPosition(t,i.startLineNumber,i.startColumn);return f&&(p=p.substring(0,p.length-f)),{indentAction:h,appendText:u,removeText:f,indentation:p}}getIndentationAtPosition(e,t,i){let n=e.getLineContent(t),r=Qt(n);return r.length>i-1&&(r=r.substring(0,i-1)),r}getScopedLineTokens(e,t,i){e.forceTokenization(t);let n=e.getLineTokens(t),r=typeof i=="undefined"?e.getLineMaxColumn(t)-1:i-1;return qb(n,r)}},xt=new QW,JW=class{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){let i=new VR(e,t,++this._order);return this._entries.push(i),this._resolved=null,ze(()=>{for(let n=0;n<this._entries.length;n++)if(this._entries[n]===i){this._entries.splice(n,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){let e=this._resolve();e&&(this._resolved=new Zb(this.languageId,e))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(VR.cmp),eU(this._entries.map(e=>e.configuration)))}};VR=class{constructor(e,t,i){this.configuration=e,this.priority=t,this.order=i}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}},Zb=class{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new Vf(this.underlyingConfig):null,this.comments=Zb._handleComments(this.underlyingConfig),this.characterPair=new $m(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||cP,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new BR(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return lb(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new MR(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new FR(this.brackets)),this._electricCharacter}onEnter(e,t,i,n){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,n):null}static _handleComments(e){let t=e.comments;if(!t)return null;let i={};if(t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment){let[n,r]=t.blockComment;i.blockCommentStartToken=n,i.blockCommentEndToken=r}return i}};as(qh,U0)});function qm(o){return o<0?0:o>255?255:o|0}function Zm(o){return o<0?0:o>4294967295?4294967295:o|0}var z0=ge(()=>{});var kd,Id,Gm=ge(()=>{z0();kd=class{constructor(e){let t=qm(e);this._defaultValue=t,this._asciiMap=kd._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){let t=new Uint8Array(256);for(let i=0;i<256;i++)t[i]=e;return t}set(e,t){let i=qm(t);e>=0&&e<256?this._asciiMap[e]=i:this._map.set(e,i)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}},Id=class{constructor(){this._actual=new kd(0)}add(e){this._actual.set(e,1)}has(e){return this._actual.get(e)===1}}});function Vce(o){let e={};return t=>(e.hasOwnProperty(t)||(e[t]=o(t)),e[t])}var lU,Dr,Qb=ge(()=>{Gm();lU=class extends kd{constructor(e){super(0);for(let t=0,i=e.length;t<i;t++)this.set(e.charCodeAt(t),2);this.set(32,1),this.set(9,1)}};Dr=Vce(o=>new lU(o))});function $ce(o){if(!o||o.length===0)return!1;for(let e=0,t=o.length;e<t;e++)if(o.charCodeAt(e)===92){if(e++,e>=t)break;let n=o.charCodeAt(e);if(n===110||n===114||n===87)return!0}return!1}function Hf(o,e,t){if(!t)return new Wh(o,null);let i=[];for(let n=0,r=e.length;n<r;n++)i[n]=e[n];return new Wh(o,i)}function Kce(o,e,t,i,n){if(i===0)return!0;let r=e.charCodeAt(i-1);if(o.get(r)!==0||r===13||r===10)return!0;if(n>0){let s=e.charCodeAt(i);if(o.get(s)!==0)return!0}return!1}function Yce(o,e,t,i,n){if(i+n===t)return!0;let r=e.charCodeAt(i+n);if(o.get(r)!==0||r===13||r===10)return!0;if(n>0){let s=e.charCodeAt(i+n-1);if(o.get(s)!==0)return!0}return!1}function iL(o,e,t,i,n){return Kce(o,e,t,i,n)&&Yce(o,e,t,i,n)}var Hce,Od,cU,tM,Jb,Zh,K0=ge(()=>{je();Qb();ot();ve();Os();Hce=999,Od=class{constructor(e,t,i,n){this.searchString=e,this.isRegex=t,this.matchCase=i,this.wordSeparators=n}parseSearchRequest(){if(this.searchString==="")return null;let e;this.isRegex?e=$ce(this.searchString):e=this.searchString.indexOf(`
`)>=0;let t=null;try{t=ND(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch{return null}if(!t)return null;let i=!this.isRegex&&!e;return i&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(i=this.matchCase),new cU(t,this.wordSeparators?Dr(this.wordSeparators):null,i?this.searchString:null)}};cU=class{constructor(e,t,i){this.regex=e,this.wordSeparators=t,this.simpleSearch=i}};tM=class{constructor(e){let t=[],i=0;for(let n=0,r=e.length;n<r;n++)e.charCodeAt(n)===10&&(t[i++]=n);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){let t=this._lineFeedsOffsets,i=0,n=t.length-1;if(n===-1||e<=t[0])return 0;for(;i<n;){let r=i+((n-i)/2>>0);t[r]>=e?n=r-1:t[r+1]>=e?(i=r,n=r):i=r+1}return i+1}},Jb=class{static findMatches(e,t,i,n,r){let s=t.parseSearchRequest();return s?s.regex.multiline?this._doFindMatchesMultiline(e,i,new Zh(s.wordSeparators,s.regex),n,r):this._doFindMatchesLineByLine(e,i,s,n,r):[]}static _getMultilineMatchRange(e,t,i,n,r,s){let a,l=0;n?(l=n.findLineFeedCountBeforeOffset(r),a=t+r+l):a=t+r;let c;if(n){let f=n.findLineFeedCountBeforeOffset(r+s.length)-l;c=a+s.length+f}else c=a+s.length;let d=e.getPositionAt(a),h=e.getPositionAt(c);return new D(d.lineNumber,d.column,h.lineNumber,h.column)}static _doFindMatchesMultiline(e,t,i,n,r){let s=e.getOffsetAt(t.getStartPosition()),a=e.getValueInRange(t,1),l=e.getEOL()===`\r
`?new tM(a):null,c=[],d=0,h;for(i.reset(0);h=i.next(a);)if(c[d++]=Hf(this._getMultilineMatchRange(e,s,a,l,h.index,h[0]),h,n),d>=r)return c;return c}static _doFindMatchesLineByLine(e,t,i,n,r){let s=[],a=0;if(t.startLineNumber===t.endLineNumber){let c=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return a=this._findMatchesInLine(i,c,t.startLineNumber,t.startColumn-1,a,s,n,r),s}let l=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);a=this._findMatchesInLine(i,l,t.startLineNumber,t.startColumn-1,a,s,n,r);for(let c=t.startLineNumber+1;c<t.endLineNumber&&a<r;c++)a=this._findMatchesInLine(i,e.getLineContent(c),c,0,a,s,n,r);if(a<r){let c=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);a=this._findMatchesInLine(i,c,t.endLineNumber,0,a,s,n,r)}return s}static _findMatchesInLine(e,t,i,n,r,s,a,l){let c=e.wordSeparators;if(!a&&e.simpleSearch){let u=e.simpleSearch,f=u.length,p=t.length,b=-f;for(;(b=t.indexOf(u,b+f))!==-1;)if((!c||iL(c,t,p,b,f))&&(s[r++]=new Wh(new D(i,b+1+n,i,b+1+f+n),null),r>=l))return r;return r}let d=new Zh(e.wordSeparators,e.regex),h;d.reset(0);do if(h=d.next(t),h&&(s[r++]=Hf(new D(i,h.index+1+n,i,h.index+1+h[0].length+n),h,a),r>=l))return r;while(h);return r}static findNextMatch(e,t,i,n){let r=t.parseSearchRequest();if(!r)return null;let s=new Zh(r.wordSeparators,r.regex);return r.regex.multiline?this._doFindNextMatchMultiline(e,i,s,n):this._doFindNextMatchLineByLine(e,i,s,n)}static _doFindNextMatchMultiline(e,t,i,n){let r=new H(t.lineNumber,1),s=e.getOffsetAt(r),a=e.getLineCount(),l=e.getValueInRange(new D(r.lineNumber,r.column,a,e.getLineMaxColumn(a)),1),c=e.getEOL()===`\r
`?new tM(l):null;i.reset(t.column-1);let d=i.next(l);return d?Hf(this._getMultilineMatchRange(e,s,l,c,d.index,d[0]),d,n):t.lineNumber!==1||t.column!==1?this._doFindNextMatchMultiline(e,new H(1,1),i,n):null}static _doFindNextMatchLineByLine(e,t,i,n){let r=e.getLineCount(),s=t.lineNumber,a=e.getLineContent(s),l=this._findFirstMatchInLine(i,a,s,t.column,n);if(l)return l;for(let c=1;c<=r;c++){let d=(s+c-1)%r,h=e.getLineContent(d+1),u=this._findFirstMatchInLine(i,h,d+1,1,n);if(u)return u}return null}static _findFirstMatchInLine(e,t,i,n,r){e.reset(n-1);let s=e.next(t);return s?Hf(new D(i,s.index+1,i,s.index+1+s[0].length),s,r):null}static findPreviousMatch(e,t,i,n){let r=t.parseSearchRequest();if(!r)return null;let s=new Zh(r.wordSeparators,r.regex);return r.regex.multiline?this._doFindPreviousMatchMultiline(e,i,s,n):this._doFindPreviousMatchLineByLine(e,i,s,n)}static _doFindPreviousMatchMultiline(e,t,i,n){let r=this._doFindMatchesMultiline(e,new D(1,1,t.lineNumber,t.column),i,n,10*Hce);if(r.length>0)return r[r.length-1];let s=e.getLineCount();return t.lineNumber!==s||t.column!==e.getLineMaxColumn(s)?this._doFindPreviousMatchMultiline(e,new H(s,e.getLineMaxColumn(s)),i,n):null}static _doFindPreviousMatchLineByLine(e,t,i,n){let r=e.getLineCount(),s=t.lineNumber,a=e.getLineContent(s).substring(0,t.column-1),l=this._findLastMatchInLine(i,a,s,n);if(l)return l;for(let c=1;c<=r;c++){let d=(r+s-c-1)%r,h=e.getLineContent(d+1),u=this._findLastMatchInLine(i,h,d+1,n);if(u)return u}return null}static _findLastMatchInLine(e,t,i,n){let r=null,s;for(e.reset(0);s=e.next(t);)r=Hf(new D(i,s.index+1,i,s.index+1+s[0].length),s,n);return r}};Zh=class{constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){let t=e.length,i;do{if(this._prevMatchStartIndex+this._prevMatchLength===t||(i=this._searchRegex.exec(e),!i))return null;let n=i.index,r=i[0].length;if(n===this._prevMatchStartIndex&&r===this._prevMatchLength){if(r===0){jh(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=n,this._prevMatchLength=r,!this._wordSeparators||iL(this._wordSeparators,e,t,n,r))return i}while(i);return null}}});var tv,nL,Y0=ge(()=>{Ge();tv=Fe("textResourceConfigurationService"),nL=Fe("textResourcePropertiesService")});var cr,Pl,hU,uU,nM,oM,Td=ge(()=>{Se();ne();Ge();cr=Fe("logService");(function(o){o[o.Trace=0]="Trace",o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warning=3]="Warning",o[o.Error=4]="Error",o[o.Critical=5]="Critical",o[o.Off=6]="Off"})(Pl||(Pl={}));hU=Pl.Info,uU=class extends ${constructor(){super(...arguments);this.level=hU,this._onDidChangeLogLevel=this._register(new F)}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}},nM=class extends uU{constructor(e=hU){super();this.setLevel(e)}trace(e,...t){this.getLevel()<=Pl.Trace&&console.log("%cTRACE","color: #888",e,...t)}debug(e,...t){this.getLevel()<=Pl.Debug&&console.log("%cDEBUG","background: #eee; color: #888",e,...t)}info(e,...t){this.getLevel()<=Pl.Info&&console.log("%c INFO","color: #33f",e,...t)}error(e,...t){this.getLevel()<=Pl.Error&&console.log("%c  ERR","color: #f33",e,...t)}dispose(){}},oM=class extends ${constructor(e){super();this.logger=e,this._register(e)}getLevel(){return this.logger.getLevel()}trace(e,...t){this.logger.trace(e,...t)}debug(e,...t){this.logger.debug(e,...t)}info(e,...t){this.logger.info(e,...t)}error(e,...t){this.logger.error(e,...t)}}});var hn,aL,$f=ge(()=>{Tt();hn=class{constructor(e,t,i){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this._languageIdCodec=i}static createEmpty(e,t){let i=hn.defaultTokenMetadata,n=new Uint32Array(2);return n[0]=e.length,n[1]=i,new hn(n,e,t)}equals(e){return e instanceof hn?this.slicedEquals(e,0,this._tokensCount):!1}slicedEquals(e,t,i){if(this._text!==e._text||this._tokensCount!==e._tokensCount)return!1;let n=t<<1,r=n+(i<<1);for(let s=n;s<r;s++)if(this._tokens[s]!==e._tokens[s])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[(e<<1)+1]}getLanguageId(e){let t=this._tokens[(e<<1)+1],i=sr.getLanguageId(t);return this._languageIdCodec.decodeLanguageId(i)}getStandardTokenType(e){let t=this._tokens[(e<<1)+1];return sr.getTokenType(t)}getForeground(e){let t=this._tokens[(e<<1)+1];return sr.getForeground(t)}getClassName(e){let t=this._tokens[(e<<1)+1];return sr.getClassNameFromMetadata(t)}getInlineStyle(e,t){let i=this._tokens[(e<<1)+1];return sr.getInlineStyleFromMetadata(i,t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return hn.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,i){return new aL(this,e,t,i)}static convertToEndOffset(e,t){let n=(e.length>>>1)-1;for(let r=0;r<n;r++)e[r<<1]=e[r+1<<1];e[n<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let i=0,n=(e.length>>>1)-1;for(;i<n;){let r=i+Math.floor((n-i)/2),s=e[r<<1];if(s===t)return r+1;s<t?i=r+1:s>t&&(n=r)}return i}withInserted(e){if(e.length===0)return this;let t=0,i=0,n="",r=new Array,s=0;for(;;){let a=t<this._tokensCount?this._tokens[t<<1]:-1,l=i<e.length?e[i]:null;if(a!==-1&&(l===null||a<=l.offset)){n+=this._text.substring(s,a);let c=this._tokens[(t<<1)+1];r.push(n.length,c),t++,s=a}else if(l){if(l.offset>s){n+=this._text.substring(s,l.offset);let c=this._tokens[(t<<1)+1];r.push(n.length,c),s=l.offset}n+=l.text,r.push(n.length,l.tokenMetadata),i++}else break}return new hn(new Uint32Array(r),n,this._languageIdCodec)}};hn.defaultTokenMetadata=(0<<11|1<<14|2<<23)>>>0;aL=class{constructor(e,t,i,n){this._source=e,this._startOffset=t,this._endOffset=i,this._deltaOffset=n,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(let r=this._firstTokenIndex,s=e.getCount();r<s&&!(e.getStartOffset(r)>=i);r++)this._tokensCount++}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){return e instanceof aL?this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){let t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}});function Rl(o){return o&&typeof o.getEditorType=="function"?o.getEditorType()===Bf.ICodeEditor:!1}var dL=ge(()=>{k0()});var NU,ki,Ur=ge(()=>{hR();di();NU=class{constructor(){this.data=new Map}add(e,t){Ab(Cr(e)),Ab(Hn(t)),Ab(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}},ki=new NU});function cde(o){return o.length>0&&o.charAt(o.length-1)==="#"?o.substring(0,o.length-1):o}var np,PU,dde,fL=ge(()=>{Se();Ur();np={JSONContribution:"base.contributions.json"};PU=class{constructor(){this._onDidChangeSchema=new F,this.schemasById={}}registerSchema(e,t){this.schemasById[cde(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}},dde=new PU;ki.add(np.JSONContribution,dde)});function EM(o){let e=[];if(cv.test(o)){let t=FU.exec(o);for(;t==null?void 0:t.length;){let i=t[1].trim();i&&e.push(i),t=FU.exec(o)}}return pl(e)}function hde(o){switch(Array.isArray(o)?o[0]:o){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}function ude(o){return o.trim()?cv.test(o)?g("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",o):BU.getConfigurationProperties()[o]!==void 0?g("config.property.duplicate","Cannot register '{0}'. This property is already registered.",o):null:g("config.property.empty","Cannot register an empty property")}var Ha,vM,wM,CM,yM,SM,gL,i1,RU,MU,AU,FU,op,cv,BU,rp=ge(()=>{Ut();Se();di();xe();fL();Ur();Ha={Configuration:"base.contributions.configuration"},vM={properties:{},patternProperties:{}},wM={properties:{},patternProperties:{}},CM={properties:{},patternProperties:{}},yM={properties:{},patternProperties:{}},SM={properties:{},patternProperties:{}},gL={properties:{},patternProperties:{}},i1="vscode://schemas/settings/resourceLanguage",RU=ki.as(np.JSONContribution),MU=class{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new F,this._onDidUpdateConfiguration=new F,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:g("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},RU.registerSchema(i1,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){let i=this.doRegisterConfigurations(e,t);RU.registerSchema(i1,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}registerDefaultConfigurations(e){var t;let i=[],n=[];for(let{overrides:r,source:s}of e)for(let a in r)if(i.push(a),cv.test(a)){let l=Object.assign(Object.assign({},((t=this.configurationDefaultsOverrides.get(a))===null||t===void 0?void 0:t.value)||{}),r[a]);this.configurationDefaultsOverrides.set(a,{source:s,value:l});let c={type:"object",default:l,description:g("defaultLanguageConfiguration.description","Configure settings to be overridden for {0} language.",a),$ref:i1,defaultDefaultValue:l,source:Cr(s)?void 0:s};n.push(...EM(a)),this.configurationProperties[a]=c,this.defaultLanguageConfigurationOverridesNode.properties[a]=c}else{this.configurationDefaultsOverrides.set(a,{value:r[a],source:s});let l=this.configurationProperties[a];l&&(this.updatePropertyDefaultValue(a,l),this.updateSchema(a,l))}this.registerOverrideIdentifiers(n),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i,defaultsOverrides:!0})}registerOverrideIdentifiers(e){for(let t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t){let i=[];return e.forEach(n=>{i.push(...this.validateAndRegisterProperties(n,t,n.extensionInfo,n.restrictedProperties)),this.configurationContributors.push(n),this.registerJSONConfiguration(n)}),i}validateAndRegisterProperties(e,t=!0,i,n,r=3){r=er(e.scope)?r:e.scope;let s=[],a=e.properties;if(a)for(let c in a){if(t&&ude(c)){delete a[c];continue}let d=a[c];if(d.source=i,d.defaultDefaultValue=a[c].default,this.updatePropertyDefaultValue(c,d),cv.test(c)?d.scope=void 0:(d.scope=er(d.scope)?r:d.scope,d.restricted=er(d.restricted)?!!(n==null?void 0:n.includes(c)):d.restricted),a[c].hasOwnProperty("included")&&!a[c].included){this.excludedConfigurationProperties[c]=a[c],delete a[c];continue}else this.configurationProperties[c]=a[c];!a[c].deprecationMessage&&a[c].markdownDeprecationMessage&&(a[c].deprecationMessage=a[c].markdownDeprecationMessage),s.push(c)}let l=e.allOf;if(l)for(let c of l)s.push(...this.validateAndRegisterProperties(c,t,i,n,r));return s}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(e){let t=i=>{let n=i.properties;if(n)for(let s in n)this.updateSchema(s,n[s]);let r=i.allOf;r&&r.forEach(t)};t(e)}updateSchema(e,t){switch(vM.properties[e]=t,t.scope){case 1:wM.properties[e]=t;break;case 2:CM.properties[e]=t;break;case 6:yM.properties[e]=t;break;case 3:SM.properties[e]=t;break;case 4:gL.properties[e]=t;break;case 5:gL.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t;break}}updateOverridePropertyPatternKey(){for(let e of this.overrideIdentifiers.values()){let t=`[${e}]`,i={type:"object",description:g("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:g("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:i1};this.updatePropertyDefaultValue(t,i),vM.properties[t]=i,wM.properties[t]=i,CM.properties[t]=i,yM.properties[t]=i,SM.properties[t]=i,gL.properties[t]=i}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){let e={type:"object",description:g("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:g("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:i1};vM.patternProperties[op]=e,wM.patternProperties[op]=e,CM.patternProperties[op]=e,yM.patternProperties[op]=e,SM.patternProperties[op]=e,gL.patternProperties[op]=e,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){let i=this.configurationDefaultsOverrides.get(e),n=i==null?void 0:i.value,r=i==null?void 0:i.source;jo(n)&&(n=t.defaultDefaultValue,r=void 0),jo(n)&&(n=hde(t.type)),t.default=n,t.defaultValueSource=r}},AU="\\[([^\\]]+)\\]",FU=new RegExp(AU,"g"),op=`^(${AU})+$`,cv=new RegExp(op);BU=new MU;ki.add(Ha.Configuration,BU)});var ui,Ml=ge(()=>{ve();ui=class{static insert(e,t){return{range:new D(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}});function KU(o,e){let t=o?o.substituteConstants():void 0,i=e?e.substituteConstants():void 0;return!t&&!i?!0:!t||!i?!1:t.equals(i)}function hv(o,e){return o.cmp(e)}function wL(o,e){if(typeof o=="string"){let t=parseFloat(o);isNaN(t)||(o=t)}return typeof o=="string"||typeof o=="number"?e(o):Ms.INSTANCE}function YU(o){let e=null;for(let t=0,i=o.length;t<i;t++){let n=o[t].substituteConstants();if(o[t]!==n&&e===null){e=[];for(let r=0;r<t;r++)e[r]=o[r]}e!==null&&(e[t]=n)}return e===null?o:e}function ZU(o,e){return o<e?-1:o>e?1:0}function lp(o,e,t,i){return o<t?-1:o>t?1:e<i?-1:e>i?1:0}function IM(o,e){if(e.type===6&&o.type!==9&&o.type!==6){for(let n of e.expr)if(o.equals(n))return!0}let t=o.negate(),i=yL(t).concat(yL(e));i.sort(hv);for(let n=0;n<i.length;n++){let s=i[n].negate();for(let a=n+1;a<i.length;a++){let l=i[a];if(s.equals(l))return!0}}return!1}function yL(o){return o.type===9?o.expr:[o]}var _L,ur,wde,pe,Ms,ca,Qh,ap,bL,vL,r1,Yf,s1,a1,l1,c1,d1,CL,Jh,Rd,be,Ce,qU,_t=ge(()=>{wt();je();Ge();_L=H9||"",ur=new Map;ur.set("false",!1);ur.set("true",!0);ur.set("isMac",Xe);ur.set("isLinux",rn);ur.set("isWindows",Mi);ur.set("isWeb",na);ur.set("isMacNative",Xe&&!na);ur.set("isEdge",_L.indexOf("Edg/")>=0);ur.set("isFirefox",_L.indexOf("Firefox")>=0);ur.set("isChrome",_L.indexOf("Chrome")>=0);ur.set("isSafari",_L.indexOf("Safari")>=0);wde=Object.prototype.hasOwnProperty,pe=class{static has(e){return Qh.create(e)}static equals(e,t){return ap.create(e,t)}static regex(e,t){return d1.create(e,t)}static not(e){return Yf.create(e)}static and(...e){return Jh.create(e,null)}static or(...e){return Rd.create(e,null,!0)}static deserialize(e,t=!1){if(!!e)return this._deserializeOrExpression(e,t)}static _deserializeOrExpression(e,t){let i=e.split("||");return Rd.create(i.map(n=>this._deserializeAndExpression(n,t)),null,!0)}static _deserializeAndExpression(e,t){let i=e.split("&&");return Jh.create(i.map(n=>this._deserializeOne(n,t)),null)}static _deserializeOne(e,t){if(e=e.trim(),e.indexOf("!=")>=0){let i=e.split("!=");return r1.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("==")>=0){let i=e.split("==");return ap.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("=~")>=0){let i=e.split("=~");return d1.create(i[0].trim(),this._deserializeRegexValue(i[1],t))}if(e.indexOf(" in ")>=0){let i=e.split(" in ");return bL.create(i[0].trim(),i[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(e)){let i=e.split(">=");return a1.create(i[0].trim(),i[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(e)){let i=e.split(">");return s1.create(i[0].trim(),i[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(e)){let i=e.split("<=");return c1.create(i[0].trim(),i[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(e)){let i=e.split("<");return l1.create(i[0].trim(),i[1].trim())}return/^\!\s*/.test(e)?Yf.create(e.substr(1).trim()):Qh.create(e)}static _deserializeValue(e,t){if(e=e.trim(),e==="true")return!0;if(e==="false")return!1;let i=/^'([^']*)'$/.exec(e);return i?i[1].trim():e}static _deserializeRegexValue(e,t){if(OD(e)){if(t)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let i=e.indexOf("/"),n=e.lastIndexOf("/");if(i===n||i<0){if(t)throw new Error(`bad regexp-value '${e}', missing /-enclosure`);return console.warn(`bad regexp-value '${e}', missing /-enclosure`),null}let r=e.slice(i+1,n),s=e[n+1]==="i"?"i":"";try{return new RegExp(r,s)}catch(a){if(t)throw new Error(`bad regexp-value '${e}', parse error: ${a}`);return console.warn(`bad regexp-value '${e}', parse error: ${a}`),null}}};Ms=class{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return ca.INSTANCE}};Ms.INSTANCE=new Ms;ca=class{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return Ms.INSTANCE}};ca.INSTANCE=new ca;Qh=class{constructor(e,t){this.key=e,this.negated=t,this.type=2}static create(e,t=null){let i=ur.get(e);return typeof i=="boolean"?i?ca.INSTANCE:Ms.INSTANCE:new Qh(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:ZU(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=ur.get(this.key);return typeof e=="boolean"?e?ca.INSTANCE:Ms.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=Yf.create(this.key,this)),this.negated}},ap=class{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=4}static create(e,t,i=null){if(typeof t=="boolean")return t?Qh.create(e,i):Yf.create(e,i);let n=ur.get(e);return typeof n=="boolean"?t===(n?"true":"false")?ca.INSTANCE:Ms.INSTANCE:new ap(e,t,i)}cmp(e){return e.type!==this.type?this.type-e.type:lp(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=ur.get(this.key);if(typeof e=="boolean"){let t=e?"true":"false";return this.value===t?ca.INSTANCE:Ms.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=r1.create(this.key,this.value,this)),this.negated}},bL=class{constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}static create(e,t){return new bL(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:lp(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.indexOf(i)>=0:typeof i=="string"&&typeof t=="object"&&t!==null?wde.call(t,i):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=vL.create(this)),this.negated}},vL=class{constructor(e){this._actual=e,this.type=11}static create(e){return new vL(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}},r1=class{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=5}static create(e,t,i=null){if(typeof t=="boolean")return t?Yf.create(e,i):Qh.create(e,i);let n=ur.get(e);return typeof n=="boolean"?t===(n?"true":"false")?Ms.INSTANCE:ca.INSTANCE:new r1(e,t,i)}cmp(e){return e.type!==this.type?this.type-e.type:lp(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=ur.get(this.key);if(typeof e=="boolean"){let t=e?"true":"false";return this.value===t?Ms.INSTANCE:ca.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ap.create(this.key,this.value,this)),this.negated}},Yf=class{constructor(e,t){this.key=e,this.negated=t,this.type=3}static create(e,t=null){let i=ur.get(e);return typeof i=="boolean"?i?Ms.INSTANCE:ca.INSTANCE:new Yf(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:ZU(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=ur.get(this.key);return typeof e=="boolean"?e?Ms.INSTANCE:ca.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Qh.create(this.key,this)),this.negated}};s1=class{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=12}static create(e,t,i=null){return wL(t,n=>new s1(e,n,i))}cmp(e){return e.type!==this.type?this.type-e.type:lp(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=c1.create(this.key,this.value,this)),this.negated}},a1=class{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=13}static create(e,t,i=null){return wL(t,n=>new a1(e,n,i))}cmp(e){return e.type!==this.type?this.type-e.type:lp(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=l1.create(this.key,this.value,this)),this.negated}},l1=class{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=14}static create(e,t,i=null){return wL(t,n=>new l1(e,n,i))}cmp(e){return e.type!==this.type?this.type-e.type:lp(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=a1.create(this.key,this.value,this)),this.negated}},c1=class{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=15}static create(e,t,i=null){return wL(t,n=>new c1(e,n,i))}cmp(e){return e.type!==this.type?this.type-e.type:lp(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=s1.create(this.key,this.value,this)),this.negated}},d1=class{constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}static create(e,t){return new d1(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;let t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){let t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1}serialize(){let e=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=CL.create(this)),this.negated}},CL=class{constructor(e){this._actual=e,this.type=8}static create(e){return new CL(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}};Jh=class{constructor(e,t){this.expr=e,this.negated=t,this.type=6}static create(e,t){return Jh._normalizeArr(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){let n=hv(this.expr[t],e.expr[t]);if(n!==0)return n}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=YU(this.expr);return e===this.expr?this:Jh.create(e,this.negated)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t){let i=[],n=!1;for(let r of e)if(!!r){if(r.type===1){n=!0;continue}if(r.type===0)return Ms.INSTANCE;if(r.type===6){i.push(...r.expr);continue}i.push(r)}if(i.length===0&&n)return ca.INSTANCE;if(i.length!==0){if(i.length===1)return i[0];i.sort(hv);for(let r=1;r<i.length;r++)i[r-1].equals(i[r])&&(i.splice(r,1),r--);if(i.length===1)return i[0];for(;i.length>1;){let r=i[i.length-1];if(r.type!==9)break;i.pop();let s=i.pop(),a=i.length===0,l=Rd.create(r.expr.map(c=>Jh.create([c,s],null)),null,a);l&&(i.push(l),i.sort(hv))}return i.length===1?i[0]:new Jh(i,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());this.negated=Rd.create(e,this,!0)}return this.negated}},Rd=class{constructor(e,t){this.expr=e,this.negated=t,this.type=9}static create(e,t,i){return Rd._normalizeArr(e,t,i)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){let n=hv(this.expr[t],e.expr[t]);if(n!==0)return n}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=YU(this.expr);return e===this.expr?this:Rd.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,i){let n=[],r=!1;if(e){for(let s=0,a=e.length;s<a;s++){let l=e[s];if(!!l){if(l.type===0){r=!0;continue}if(l.type===1)return ca.INSTANCE;if(l.type===9){n=n.concat(l.expr);continue}n.push(l)}}if(n.length===0&&r)return Ms.INSTANCE;n.sort(hv)}if(n.length!==0){if(n.length===1)return n[0];for(let s=1;s<n.length;s++)n[s-1].equals(n[s])&&(n.splice(s,1),s--);if(n.length===1)return n[0];if(i){for(let s=0;s<n.length;s++)for(let a=s+1;a<n.length;a++)IM(n[s],n[a])&&(n.splice(a,1),a--);if(n.length===1)return n[0]}return new Rd(n,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());for(;e.length>1;){let t=e.shift(),i=e.shift(),n=[];for(let s of yL(t))for(let a of yL(i))n.push(Jh.create([s,a],null));let r=e.length===0;e.unshift(Rd.create(n,null,r))}this.negated=e[0]}return this.negated}},be=class extends Qh{constructor(e,t,i){super(e,null);this._defaultValue=t,typeof i=="object"?be._info.push(Object.assign(Object.assign({},i),{key:e})):i!==!0&&be._info.push({key:e,description:i,type:t!=null?typeof t:void 0})}static all(){return be._info.values()}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return ap.create(this.key,e)}};be._info=[];Ce=Fe("contextKeyService"),qU="setContext"});function yde(o,e){return o.weight1!==e.weight1?o.weight1-e.weight1:o.command<e.command?-1:o.command>e.command?1:o.weight2-e.weight2}var h1,Bn,Cde,tu=ge(()=>{Tm();wt();zi();Ur();h1=class{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(Jo===1){if(e&&e.win)return e.win}else if(Jo===2){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){let t=h1.bindToCurrentPlatform(e);if(t&&t.primary){let i=f0(t.primary,Jo);i&&this._registerDefaultKeybinding(i,e.id,e.args,e.weight,0,e.when)}if(t&&Array.isArray(t.secondary))for(let i=0,n=t.secondary.length;i<n;i++){let r=t.secondary[i],s=f0(r,Jo);s&&this._registerDefaultKeybinding(s,e.id,e.args,e.weight,-i-1,e.when)}}registerCommandAndKeybindingRule(e){this.registerKeybindingRule(e),rt.registerCommand(e)}static _mightProduceChar(e){return e>=21&&e<=30||e>=31&&e<=56?!0:e===80||e===81||e===82||e===83||e===84||e===85||e===86||e===110||e===111||e===87||e===88||e===89||e===90||e===91||e===92}_assertNoCtrlAlt(e,t){e.ctrlKey&&e.altKey&&!e.metaKey&&h1._mightProduceChar(e.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t)}_registerDefaultKeybinding(e,t,i,n,r,s){Jo===1&&this._assertNoCtrlAlt(e.parts[0],t),this._coreKeybindings.push({keybinding:e.parts,command:t,commandArgs:i,when:s,weight1:n,weight2:r,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(yde)),this._cachedMergedKeybindings.slice(0)}},Bn=new h1,Cde={EditorModes:"platform.keybindingsRegistry"};ki.add(Cde.EditorModes,Bn)});var uz=ge(()=>{});function gz(o){dp=document.createElement("div"),dp.className="monaco-aria-container";let e=()=>{let i=document.createElement("div");return i.className="monaco-alert",i.setAttribute("role","alert"),i.setAttribute("aria-atomic","true"),dp.appendChild(i),i};TL=e(),UM=e();let t=()=>{let i=document.createElement("div");return i.className="monaco-status",i.setAttribute("role","complementary"),i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),dp.appendChild(i),i};NL=t(),zM=t(),o.appendChild(dp)}function un(o){!dp||(TL.textContent!==o?(Zi(UM),PL(TL,o)):(Zi(TL),PL(UM,o)))}function hp(o){!dp||(Xe?un(o):NL.textContent!==o?(Zi(zM),PL(NL,o)):(Zi(NL),PL(zM,o)))}function PL(o,e){Zi(o),e.length>fz&&(e=e.substr(0,fz)),o.textContent=e,o.style.visibility="hidden",o.style.visibility="visible"}var fz,dp,TL,UM,NL,zM,ls=ge(()=>{Me();wt();uz();fz=2e4});var RL,yo,Al,fr,iu,_v,cs=ge(()=>{Se();ne();xe();RL=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},yo=class extends ${constructor(e,t="",i="",n=!0,r){super();this._onDidChange=this._register(new F),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=e,this._label=t,this._cssClass=i,this._enabled=n,this._actionCallback=r}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}run(e,t){return RL(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(e))})}},Al=class extends ${constructor(){super(...arguments);this._onBeforeRun=this._register(new F),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new F),this.onDidRun=this._onDidRun.event}run(e,t){return RL(this,void 0,void 0,function*(){if(!e.enabled)return;this._onBeforeRun.fire({action:e});let i;try{yield this.runAction(e,t)}catch(n){i=n}this._onDidRun.fire({action:e,error:i})})}runAction(e,t){return RL(this,void 0,void 0,function*(){yield e.run(t)})}},fr=class extends yo{constructor(e){super(fr.ID,e,e?"separator text":"separator");this.checked=!1,this.enabled=!1}};fr.ID="vs.actions.separator";iu=class{constructor(e,t,i,n){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=e,this.label=t,this.class=n,this._actions=i}get actions(){return this._actions}dispose(){}run(){return RL(this,void 0,void 0,function*(){})}},_v=class extends yo{constructor(){super(_v.ID,g("submenu.empty","(empty)"),void 0,!1)}};_v.ID="vs.actions.empty"});var As,m1=ge(()=>{(function(o){o.DARK="dark",o.LIGHT="light",o.HIGH_CONTRAST="hc"})(As||(As={}))});function Ii(o){return{id:o}}function up(o){switch(o){case As.DARK:return"vs-dark";case As.HIGH_CONTRAST:return"hc-black";default:return"vs"}}function gt(o){return pz.onColorThemeChange(o)}var Rt,HM,qt,$M,mz,pz,KM,dt=ge(()=>{en();Se();ne();Ge();Ur();m1();Rt=Fe("themeService");(function(o){function e(t){return t&&typeof t=="object"&&typeof t.id=="string"}o.isThemeColor=e})(HM||(HM={}));(function(o){function e(l){return l&&typeof l=="object"&&typeof l.id=="string"&&(typeof l.color=="undefined"||HM.isThemeColor(l.color))}o.isThemeIcon=e;let t=new RegExp(`^\\$\\((${Co.iconNameExpression}(?:${Co.iconModifierExpression})?)\\)$`);function i(l){let c=t.exec(l);if(!c)return;let[,d]=c;return{id:d}}o.fromString=i;function n(l,c){let d=l.id,h=d.lastIndexOf("~");return h!==-1&&(d=d.substring(0,h)),c&&(d=`${d}~${c}`),{id:d}}o.modify=n;function r(l){let c=l.id.lastIndexOf("~");if(c!==-1)return l.id.substring(c+1)}o.getModifier=r;function s(l,c){var d,h;return l.id===c.id&&((d=l.color)===null||d===void 0?void 0:d.id)===((h=c.color)===null||h===void 0?void 0:h.id)}o.isEqual=s;function a(l,c){return{id:l.id,color:c?Ii(c):void 0}}o.asThemeIcon=a,o.asClassNameArray=Co.asClassNameArray,o.asClassName=Co.asClassName,o.asCSSSelector=Co.asCSSSelector})(qt||(qt={}));$M={ThemingContribution:"base.contributions.theming"},mz=class{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new F}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),ze(()=>{let t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}getThemingParticipants(){return this.themingParticipants}},pz=new mz;ki.add($M.ThemingContribution,pz);KM=class extends ${constructor(e){super();this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(t=>this.onThemeChange(t)))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}});function bv(o){return o.command!==void 0}var xde,_z,De,da,Vo,fp,Fl,No=ge(()=>{cs();en();Se();Oa();ne();Rh();zi();_t();Ge();dt();xde=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},_z=function(o,e){return function(t,i){e(t,i,o)}};De=class{constructor(e){this.id=De._idPool++,this._debugName=e}};De._idPool=0;De.CommandPalette=new De("CommandPalette");De.EditorContext=new De("EditorContext");De.SimpleEditorContext=new De("SimpleEditorContext");De.EditorContextCopy=new De("EditorContextCopy");De.EditorContextPeek=new De("EditorContextPeek");De.MenubarEditMenu=new De("MenubarEditMenu");De.MenubarCopy=new De("MenubarCopy");De.MenubarGoMenu=new De("MenubarGoMenu");De.MenubarSelectionMenu=new De("MenubarSelectionMenu");De.InlineCompletionsActions=new De("InlineCompletionsActions");da=Fe("menuService"),Vo=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new F,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:o=>o===De.CommandPalette}}addCommand(o){return this.addCommands(St.single(o))}addCommands(o){for(let e of o)this._commands.set(e.id,e);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),ze(()=>{let e=!1;for(let t of o)e=this._commands.delete(t.id)||e;e&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(o){return this._commands.get(o)}getCommands(){let o=new Map;return this._commands.forEach((e,t)=>o.set(t,e)),o}appendMenuItem(o,e){return this.appendMenuItems(St.single({id:o,item:e}))}appendMenuItems(o){let e=new Set,t=new io;for(let{id:i,item:n}of o){let r=this._menuItems.get(i);r||(r=new io,this._menuItems.set(i,r)),t.push(r.push(n)),e.add(i)}return this._onDidChangeMenu.fire(e),ze(()=>{if(t.size>0){for(let i of t)i();this._onDidChangeMenu.fire(e),t.clear()}})}getMenuItems(o){let e;return this._menuItems.has(o)?e=[...this._menuItems.get(o)]:e=[],o===De.CommandPalette&&this._appendImplicitItems(e),e}_appendImplicitItems(o){let e=new Set;for(let t of o)bv(t)&&(e.add(t.command.id),t.alt&&e.add(t.alt.id));this._commands.forEach((t,i)=>{e.has(i)||o.push({command:t})})}},fp=class extends iu{constructor(e,t,i,n){super(`submenuitem.${e.submenu.id}`,typeof e.title=="string"?e.title:e.title.value,[],"submenu");this.item=e,this._menuService=t,this._contextKeyService=i,this._options=n}get actions(){let e=[],t=this._menuService.createMenu(this.item.submenu,this._contextKeyService),i=t.getActions(this._options);t.dispose();for(let[,n]of i)n.length>0&&(e.push(...n),e.push(new fr));return e.length&&e.pop(),e}},Fl=class bz{constructor(e,t,i,n,r){var s,a;if(this._commandService=r,this.id=e.id,this.label=(i==null?void 0:i.renderShortTitle)&&e.shortTitle?typeof e.shortTitle=="string"?e.shortTitle:e.shortTitle.value:typeof e.title=="string"?e.title:e.title.value,this.tooltip=(a=typeof e.tooltip=="string"?e.tooltip:(s=e.tooltip)===null||s===void 0?void 0:s.value)!==null&&a!==void 0?a:"",this.enabled=!e.precondition||n.contextMatchesRules(e.precondition),this.checked=void 0,e.toggled){let l=e.toggled.condition?e.toggled:{condition:e.toggled};this.checked=n.contextMatchesRules(l.condition),this.checked&&l.tooltip&&(this.tooltip=typeof l.tooltip=="string"?l.tooltip:l.tooltip.value),l.title&&(this.label=typeof l.title=="string"?l.title:l.title.value)}this.item=e,this.alt=t?new bz(t,void 0,i,n,r):void 0,this._options=i,qt.isThemeIcon(e.icon)&&(this.class=Co.asClassName(e.icon))}dispose(){}run(...e){var t,i;let n=[];return((t=this._options)===null||t===void 0?void 0:t.arg)&&(n=[...n,this._options.arg]),((i=this._options)===null||i===void 0?void 0:i.shouldForwardArgs)&&(n=[...n,...e]),this._commandService.executeCommand(this.id,...n)}};Fl=xde([_z(3,Ce),_z(4,li)],Fl)});var $a,gp=ge(()=>{Ge();$a=Fe("telemetryService")});function Fs(o,e){rt.registerCommand(o,function(t,...i){let[n,r]=i;$t(Ee.isUri(n)),$t(H.isIPosition(r));let s=t.get(Ci).getModel(n);if(s){let a=H.lift(r);return e(s,a,...i.slice(2))}return t.get(Kn).createModelReference(n).then(a=>new Promise((l,c)=>{try{let d=e(a.object.textEditorModel,H.lift(r),i.slice(2));l(d)}catch(d){c(d)}}).finally(()=>{a.dispose()}))})}function vz(o,e){rt.registerCommand(o,function(t,...i){let[n]=i;$t(Ee.isUri(n));let r=t.get(Ci).getModel(n);return r?e(r,...i.slice(1)):t.get(Kn).createModelReference(n).then(s=>new Promise((a,l)=>{try{let c=e(s.object.textEditorModel,i.slice(1));a(c)}catch(c){l(c)}}).finally(()=>{s.dispose()}))})}function ue(o){return ha.INSTANCE.registerEditorCommand(o),o}function le(o){let e=new o;return ha.INSTANCE.registerEditorAction(e),e}function qM(o){return ha.INSTANCE.registerEditorAction(o),o}function AL(o){ha.INSTANCE.registerEditorAction(o)}function Qe(o,e){ha.INSTANCE.registerEditorContribution(o,e)}function p1(o){return o.register(),o}var vv,qf,YM,Hi,_e,ML,Zf,Dde,ha,ZM,GM,wz,Dt=ge(()=>{xe();Ai();_o();ot();xr();Dc();No();zi();_t();tu();Ur();gp();di();Td();vv=class{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this._description=e.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){let e=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(let t of e){let i=t.kbExpr;this.precondition&&(i?i=pe.and(i,this.precondition):i=this.precondition);let n={id:this.id,weight:t.weight,args:t.args,when:i,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};Bn.registerKeybindingRule(n)}}rt.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),description:this._description})}_registerMenuItem(e){Vo.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}},qf=class extends vv{constructor(){super(...arguments);this._implementations=[]}addImplementation(e,t,i){return this._implementations.push({priority:e,name:t,implementation:i}),this._implementations.sort((n,r)=>r.priority-n.priority),{dispose:()=>{for(let n=0;n<this._implementations.length;n++)if(this._implementations[n].implementation===i){this._implementations.splice(n,1);return}}}}runCommand(e,t){let i=e.get(cr);i.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(let n of this._implementations){let r=n.implementation(e,t);if(r)return i.trace(`Command '${this.id}' was handled by '${n.name}'.`),typeof r=="boolean"?void 0:r}i.trace(`The Command '${this.id}' was not handled by any implementation.`)}},YM=class extends vv{constructor(e,t){super(t);this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}},Hi=class extends vv{static bindToContribution(e){return class extends Hi{constructor(i){super(i);this._callback=i.handler}runEditorCommand(i,n,r){e(n)&&this._callback(e(n),r)}}}runCommand(e,t){let i=e.get(Ot),n=i.getFocusedCodeEditor()||i.getActiveCodeEditor();if(!!n)return n.invokeWithinContext(r=>{if(!!r.get(Ce).contextMatchesRules(Ia(this.precondition)))return this.runEditorCommand(r,n,t)})}},_e=class extends Hi{constructor(e){super(_e.convertOptions(e));this.label=e.label,this.alias=e.alias}static convertOptions(e){let t;Array.isArray(e.menuOpts)?t=e.menuOpts:e.menuOpts?t=[e.menuOpts]:t=[];function i(n){return n.menuId||(n.menuId=De.EditorContext),n.title||(n.title=e.label),n.when=pe.and(e.precondition,n.when),n}return Array.isArray(e.contextMenuOpts)?t.push(...e.contextMenuOpts.map(i)):e.contextMenuOpts&&t.push(i(e.contextMenuOpts)),e.menuOpts=t,e}runEditorCommand(e,t,i){return this.reportTelemetry(e,t),this.run(e,t,i||{})}reportTelemetry(e,t){e.get($a).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}},ML=class extends _e{constructor(){super(...arguments);this._implementations=[]}addImplementation(e,t){return this._implementations.push([e,t]),this._implementations.sort((i,n)=>n[0]-i[0]),{dispose:()=>{for(let i=0;i<this._implementations.length;i++)if(this._implementations[i][1]===t){this._implementations.splice(i,1);return}}}}run(e,t,i){for(let n of this._implementations){let r=n[1](e,t,i);if(r)return typeof r=="boolean"?void 0:r}}};(function(o){function e(s){return ha.INSTANCE.getEditorCommand(s)}o.getEditorCommand=e;function t(){return ha.INSTANCE.getEditorActions()}o.getEditorActions=t;function i(){return ha.INSTANCE.getEditorContributions()}o.getEditorContributions=i;function n(s){return ha.INSTANCE.getEditorContributions().filter(a=>s.indexOf(a.id)>=0)}o.getSomeEditorContributions=n;function r(){return ha.INSTANCE.getDiffEditorContributions()}o.getDiffEditorContributions=r})(Zf||(Zf={}));Dde={EditorCommonContributions:"editor.contributions"},ha=class{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t){this.editorContributions.push({id:e,ctor:t})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}};ha.INSTANCE=new ha;ki.add(Dde.EditorCommonContributions,ha.INSTANCE);ZM=p1(new qf({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2048|56},menuOpts:[{menuId:De.MenubarEditMenu,group:"1_do",title:g({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:De.CommandPalette,group:"",title:g("undo","Undo"),order:1}]}));p1(new YM(ZM,{id:"default:undo",precondition:void 0}));GM=p1(new qf({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}},menuOpts:[{menuId:De.MenubarEditMenu,group:"1_do",title:g({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:De.CommandPalette,group:"",title:g("redo","Redo"),order:1}]}));p1(new YM(GM,{id:"default:redo",precondition:void 0}));wz=p1(new qf({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2048|31},menuOpts:[{menuId:De.MenubarSelectionMenu,group:"1_basic",title:g({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:De.CommandPalette,group:"",title:g("selectAll","Select All"),order:1}]}))});function Xf(o,e){let t=Math.pow(10,e);return Math.round(o*t)/t}var Nt,Bl,jl,Z,Yn=ge(()=>{Nt=class{constructor(e,t,i,n=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,t))|0,this.b=Math.min(255,Math.max(0,i))|0,this.a=Xf(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}},Bl=class{constructor(e,t,i,n){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=Xf(Math.max(Math.min(1,t),0),3),this.l=Xf(Math.max(Math.min(1,i),0),3),this.a=Xf(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){let t=e.r/255,i=e.g/255,n=e.b/255,r=e.a,s=Math.max(t,i,n),a=Math.min(t,i,n),l=0,c=0,d=(a+s)/2,h=s-a;if(h>0){switch(c=Math.min(d<=.5?h/(2*d):h/(2-2*d),1),s){case t:l=(i-n)/h+(i<n?6:0);break;case i:l=(n-t)/h+2;break;case n:l=(t-i)/h+4;break}l*=60,l=Math.round(l)}return new Bl(l,c,d,r)}static _hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}static toRGBA(e){let t=e.h/360,{s:i,l:n,a:r}=e,s,a,l;if(i===0)s=a=l=n;else{let c=n<.5?n*(1+i):n+i-n*i,d=2*n-c;s=Bl._hue2rgb(d,c,t+1/3),a=Bl._hue2rgb(d,c,t),l=Bl._hue2rgb(d,c,t-1/3)}return new Nt(Math.round(s*255),Math.round(a*255),Math.round(l*255),r)}},jl=class{constructor(e,t,i,n){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=Xf(Math.max(Math.min(1,t),0),3),this.v=Xf(Math.max(Math.min(1,i),0),3),this.a=Xf(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){let t=e.r/255,i=e.g/255,n=e.b/255,r=Math.max(t,i,n),s=Math.min(t,i,n),a=r-s,l=r===0?0:a/r,c;return a===0?c=0:r===t?c=((i-n)/a%6+6)%6:r===i?c=(n-t)/a+2:c=(t-i)/a+4,new jl(Math.round(c*60),l,r,e.a)}static toRGBA(e){let{h:t,s:i,v:n,a:r}=e,s=n*i,a=s*(1-Math.abs(t/60%2-1)),l=n-s,[c,d,h]=[0,0,0];return t<60?(c=s,d=a):t<120?(c=a,d=s):t<180?(d=s,h=a):t<240?(d=a,h=s):t<300?(c=a,h=s):t<=360&&(c=s,h=a),c=Math.round((c+l)*255),d=Math.round((d+l)*255),h=Math.round((h+l)*255),new Nt(c,d,h,r)}},Z=class{constructor(e){if(e)if(e instanceof Nt)this.rgba=e;else if(e instanceof Bl)this._hsla=e,this.rgba=Bl.toRGBA(e);else if(e instanceof jl)this._hsva=e,this.rgba=jl.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(e){return Z.Format.CSS.parseHex(e)||Z.red}get hsla(){return this._hsla?this._hsla:Bl.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:jl.fromRGBA(this.rgba)}equals(e){return!!e&&Nt.equals(this.rgba,e.rgba)&&Bl.equals(this.hsla,e.hsla)&&jl.equals(this.hsva,e.hsva)}getRelativeLuminance(){let e=Z._relativeLuminanceForComponent(this.rgba.r),t=Z._relativeLuminanceForComponent(this.rgba.g),i=Z._relativeLuminanceForComponent(this.rgba.b),n=.2126*e+.7152*t+.0722*i;return Xf(n,4)}static _relativeLuminanceForComponent(e){let t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(e){let t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t>i}isDarkerThan(e){let t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t<i}lighten(e){return new Z(new Bl(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new Z(new Bl(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){let{r:t,g:i,b:n,a:r}=this.rgba;return new Z(new Nt(t,i,n,r*e))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new Z(new Nt(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=Z.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,i){if(e.isLighterThan(t))return e;i=i||.5;let n=e.getRelativeLuminance(),r=t.getRelativeLuminance();return i=i*(r-n)/r,e.lighten(i)}static getDarkerColor(e,t,i){if(e.isDarkerThan(t))return e;i=i||.5;let n=e.getRelativeLuminance(),r=t.getRelativeLuminance();return i=i*(n-r)/n,e.darken(i)}};Z.white=new Z(new Nt(255,255,255,1));Z.black=new Z(new Nt(0,0,0,1));Z.red=new Z(new Nt(255,0,0,1));Z.blue=new Z(new Nt(0,0,255,1));Z.cyan=new Z(new Nt(0,255,255,1));Z.lightgrey=new Z(new Nt(211,211,211,1));Z.transparent=new Z(new Nt(0,0,0,0));(function(o){let e;(function(t){let i;(function(n){function r(b){return b.rgba.a===1?`rgb(${b.rgba.r}, ${b.rgba.g}, ${b.rgba.b})`:o.Format.CSS.formatRGBA(b)}n.formatRGB=r;function s(b){return`rgba(${b.rgba.r}, ${b.rgba.g}, ${b.rgba.b}, ${+b.rgba.a.toFixed(2)})`}n.formatRGBA=s;function a(b){return b.hsla.a===1?`hsl(${b.hsla.h}, ${(b.hsla.s*100).toFixed(2)}%, ${(b.hsla.l*100).toFixed(2)}%)`:o.Format.CSS.formatHSLA(b)}n.formatHSL=a;function l(b){return`hsla(${b.hsla.h}, ${(b.hsla.s*100).toFixed(2)}%, ${(b.hsla.l*100).toFixed(2)}%, ${b.hsla.a.toFixed(2)})`}n.formatHSLA=l;function c(b){let v=b.toString(16);return v.length!==2?"0"+v:v}function d(b){return`#${c(b.rgba.r)}${c(b.rgba.g)}${c(b.rgba.b)}`}n.formatHex=d;function h(b,v=!1){return v&&b.rgba.a===1?o.Format.CSS.formatHex(b):`#${c(b.rgba.r)}${c(b.rgba.g)}${c(b.rgba.b)}${c(Math.round(b.rgba.a*255))}`}n.formatHexA=h;function u(b){return b.isOpaque()?o.Format.CSS.formatHex(b):o.Format.CSS.formatRGBA(b)}n.format=u;function f(b){let v=b.length;if(v===0||b.charCodeAt(0)!==35)return null;if(v===7){let y=16*p(b.charCodeAt(1))+p(b.charCodeAt(2)),w=16*p(b.charCodeAt(3))+p(b.charCodeAt(4)),S=16*p(b.charCodeAt(5))+p(b.charCodeAt(6));return new o(new Nt(y,w,S,1))}if(v===9){let y=16*p(b.charCodeAt(1))+p(b.charCodeAt(2)),w=16*p(b.charCodeAt(3))+p(b.charCodeAt(4)),S=16*p(b.charCodeAt(5))+p(b.charCodeAt(6)),x=16*p(b.charCodeAt(7))+p(b.charCodeAt(8));return new o(new Nt(y,w,S,x/255))}if(v===4){let y=p(b.charCodeAt(1)),w=p(b.charCodeAt(2)),S=p(b.charCodeAt(3));return new o(new Nt(16*y+y,16*w+w,16*S+S))}if(v===5){let y=p(b.charCodeAt(1)),w=p(b.charCodeAt(2)),S=p(b.charCodeAt(3)),x=p(b.charCodeAt(4));return new o(new Nt(16*y+y,16*w+w,16*S+S,(16*x+x)/255))}return null}n.parseHex=f;function p(b){switch(b){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(i=t.CSS||(t.CSS={}))})(e=o.Format||(o.Format={}))})(Z||(Z={}))});function jL(o){return`--vscode-${o.replace(".","-")}`}function j(o,e,t,i,n){return WL.registerColor(o,e,t,i,n)}function Ode(o,e){var t,i,n;switch(o.op){case 0:return(t=jd(o.value,e))===null||t===void 0?void 0:t.darken(o.factor);case 1:return(i=jd(o.value,e))===null||i===void 0?void 0:i.lighten(o.factor);case 2:return(n=jd(o.value,e))===null||n===void 0?void 0:n.transparent(o.factor);case 3:for(let a of o.values){let l=jd(a,e);if(l)return l}return;case 5:return jd(e.defines(o.if)?o.then:o.else,e);case 4:let r=jd(o.value,e);if(!r)return;let s=jd(o.background,e);return s?r.isDarkerThan(s)?Z.getLighterColor(r,s,o.factor).transparent(o.transparency):Z.getDarkerColor(r,s,o.factor).transparent(o.transparency):r.transparent(o.factor*o.transparency);default:throw vx(o)}}function Ov(o,e){return{op:0,value:o,factor:e}}function ng(o,e){return{op:1,value:o,factor:e}}function Je(o,e){return{op:2,value:o,factor:e}}function Tv(...o){return{op:3,values:o}}function Tde(o,e,t){return{op:5,if:o,then:e,else:t}}function qV(o,e,t,i){return{op:4,value:o,background:e,factor:t,transparency:i}}function jd(o,e){if(o!==null){if(typeof o=="string")return o[0]==="#"?Z.fromHex(o):e.getColor(o);if(o instanceof Z)return o;if(typeof o=="object")return Ode(o,e)}}var JM,Sz,WL,ke,Ez,f4e,UL,Tc,Oi,qn,g4e,m4e,Qf,Jf,p4e,_4e,b4e,zL,Wl,wv,Cv,yv,v1,v4e,w1,C1,w4e,VL,HL,$L,KL,YL,qL,ZL,XL,QL,mp,C4e,y1,eA,y4e,S4e,E4e,xz,JL,Dz,x4e,D4e,Lz,L4e,pp,_p,Ul,nu,ou,ru,kz,Iz,Md,ek,Oz,Bs,bp,Tz,Lr,Sv,Nz,Pz,k4e,Ho,zl,$o,Ad,su,Rz,tA,Mz,Az,Fz,Bz,jz,Wz,Uz,zz,Fd,Vz,S1,E1,Hz,$z,Bd,Kz,Yz,vp,qz,I4e,O4e,Zz,au,tk,ik,Gz,nk,eg,tg,Xz,Qz,Jz,eV,tV,iV,ok,rk,iA,nA,nV,oV,rV,sV,aV,lV,cV,lu,cu,x1,dV,hV,uV,fV,gV,mV,pV,_V,Nc,sk,T4e,N4e,P4e,bV,vV,wV,R4e,M4e,CV,yV,SV,A4e,EV,Ev,xv,Dv,xV,DV,LV,kV,IV,OV,TV,ak,F4e,B4e,j4e,W4e,U4e,z4e,V4e,H4e,$4e,K4e,Y4e,NV,PV,RV,MV,du,Lv,D1,q4e,L1,Z4e,k1,G4e,oA,X4e,Q4e,J4e,kv,lk,AV,ig,Iv,rA,FV,BV,jV,WV,UV,zV,VV,HV,$V,KV,YV,eFe,tFe,iFe,nFe,oFe,rFe,sFe,aFe,ZV,GV,XV,yi=ge(()=>{tt();Yn();Se();di();xe();fL();Ur();JM={ColorContribution:"base.contributions.colors"},Sz=class{constructor(){this._onDidChangeSchema=new F,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,i,n=!1,r){let s={id:e,description:i,defaults:t,needsTransparency:n,deprecationMessage:r};this.colorsById[e]=s;let a={type:"string",description:i,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return r&&(a.deprecationMessage=r),this.colorSchema.properties[e]=a,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}getColors(){return Object.keys(this.colorsById).map(e=>this.colorsById[e])}resolveDefaultColor(e,t){let i=this.colorsById[e];if(i&&i.defaults){let n=i.defaults[t.type];return jd(n,t)}}getColorSchema(){return this.colorSchema}toString(){let e=(t,i)=>{let n=t.indexOf(".")===-1?0:1,r=i.indexOf(".")===-1?0:1;return n!==r?n-r:t.localeCompare(i)};return Object.keys(this.colorsById).sort(e).map(t=>`- \`${t}\`: ${this.colorsById[t].description}`).join(`
`)}},WL=new Sz;ki.add(JM.ColorContribution,WL);ke=j("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},g("foreground","Overall foreground color. This color is only used if not overridden by a component.")),Ez=j("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},g("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),f4e=j("descriptionForeground",{light:"#717171",dark:Je(ke,.7),hc:Je(ke,.7)},g("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),UL=j("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},g("iconForeground","The default color for icons in the workbench.")),Tc=j("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},g("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),Oi=j("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},g("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),qn=j("contrastActiveBorder",{light:null,dark:null,hc:Tc},g("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),g4e=j("selection.background",{light:null,dark:null,hc:null},g("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),m4e=j("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hc:Z.black},g("textSeparatorForeground","Color for text separators.")),Qf=j("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},g("textLinkForeground","Foreground color for links in text.")),Jf=j("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},g("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),p4e=j("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hc:"#D7BA7D"},g("textPreformatForeground","Foreground color for preformatted text segments.")),_4e=j("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hc:null},g("textBlockQuoteBackground","Background color for block quotes in text.")),b4e=j("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hc:Z.white},g("textBlockQuoteBorder","Border color for block quotes in text.")),zL=j("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:Z.black},g("textCodeBlockBackground","Background color for code blocks in text.")),Wl=j("widget.shadow",{dark:Je(Z.black,.36),light:Je(Z.black,.16),hc:null},g("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),wv=j("input.background",{dark:"#3C3C3C",light:Z.white,hc:Z.black},g("inputBoxBackground","Input box background.")),Cv=j("input.foreground",{dark:ke,light:ke,hc:ke},g("inputBoxForeground","Input box foreground.")),yv=j("input.border",{dark:null,light:null,hc:Oi},g("inputBoxBorder","Input box border.")),v1=j("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:Oi},g("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),v4e=j("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hc:null},g("inputOption.hoverBackground","Background color of activated options in input fields.")),w1=j("inputOption.activeBackground",{dark:Je(Tc,.4),light:Je(Tc,.2),hc:Z.transparent},g("inputOption.activeBackground","Background hover color of options in input fields.")),C1=j("inputOption.activeForeground",{dark:Z.white,light:Z.black,hc:null},g("inputOption.activeForeground","Foreground color of activated options in input fields.")),w4e=j("input.placeholderForeground",{light:Je(ke,.5),dark:Je(ke,.5),hc:Je(ke,.7)},g("inputPlaceholderForeground","Input box foreground color for placeholder text.")),VL=j("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:Z.black},g("inputValidationInfoBackground","Input validation background color for information severity.")),HL=j("inputValidation.infoForeground",{dark:null,light:null,hc:null},g("inputValidationInfoForeground","Input validation foreground color for information severity.")),$L=j("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:Oi},g("inputValidationInfoBorder","Input validation border color for information severity.")),KL=j("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:Z.black},g("inputValidationWarningBackground","Input validation background color for warning severity.")),YL=j("inputValidation.warningForeground",{dark:null,light:null,hc:null},g("inputValidationWarningForeground","Input validation foreground color for warning severity.")),qL=j("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:Oi},g("inputValidationWarningBorder","Input validation border color for warning severity.")),ZL=j("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:Z.black},g("inputValidationErrorBackground","Input validation background color for error severity.")),XL=j("inputValidation.errorForeground",{dark:null,light:null,hc:null},g("inputValidationErrorForeground","Input validation foreground color for error severity.")),QL=j("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:Oi},g("inputValidationErrorBorder","Input validation border color for error severity.")),mp=j("dropdown.background",{dark:"#3C3C3C",light:Z.white,hc:Z.black},g("dropdownBackground","Dropdown background.")),C4e=j("dropdown.listBackground",{dark:null,light:null,hc:Z.black},g("dropdownListBackground","Dropdown list background.")),y1=j("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:Z.white},g("dropdownForeground","Dropdown foreground.")),eA=j("dropdown.border",{dark:mp,light:"#CECECE",hc:Oi},g("dropdownBorder","Dropdown border.")),y4e=j("checkbox.background",{dark:mp,light:mp,hc:mp},g("checkbox.background","Background color of checkbox widget.")),S4e=j("checkbox.foreground",{dark:y1,light:y1,hc:y1},g("checkbox.foreground","Foreground color of checkbox widget.")),E4e=j("checkbox.border",{dark:eA,light:eA,hc:eA},g("checkbox.border","Border color of checkbox widget.")),xz=j("button.foreground",{dark:Z.white,light:Z.white,hc:Z.white},g("buttonForeground","Button foreground color.")),JL=j("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},g("buttonBackground","Button background color.")),Dz=j("button.hoverBackground",{dark:ng(JL,.2),light:Ov(JL,.2),hc:null},g("buttonHoverBackground","Button background color when hovering.")),x4e=j("button.border",{dark:Oi,light:Oi,hc:Oi},g("buttonBorder","Button border color.")),D4e=j("button.secondaryForeground",{dark:Z.white,light:Z.white,hc:Z.white},g("buttonSecondaryForeground","Secondary button foreground color.")),Lz=j("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hc:null},g("buttonSecondaryBackground","Secondary button background color.")),L4e=j("button.secondaryHoverBackground",{dark:ng(Lz,.2),light:Ov(Lz,.2),hc:null},g("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),pp=j("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:Z.black},g("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),_p=j("badge.foreground",{dark:Z.white,light:"#333",hc:Z.white},g("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),Ul=j("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},g("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),nu=j("scrollbarSlider.background",{dark:Z.fromHex("#797979").transparent(.4),light:Z.fromHex("#646464").transparent(.4),hc:Je(Oi,.6)},g("scrollbarSliderBackground","Scrollbar slider background color.")),ou=j("scrollbarSlider.hoverBackground",{dark:Z.fromHex("#646464").transparent(.7),light:Z.fromHex("#646464").transparent(.7),hc:Je(Oi,.8)},g("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),ru=j("scrollbarSlider.activeBackground",{dark:Z.fromHex("#BFBFBF").transparent(.4),light:Z.fromHex("#000000").transparent(.6),hc:Oi},g("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),kz=j("progressBar.background",{dark:Z.fromHex("#0E70C0"),light:Z.fromHex("#0E70C0"),hc:Oi},g("progressBarBackground","Background color of the progress bar that can show for long running operations.")),Iz=j("editorError.background",{dark:null,light:null,hc:null},g("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Md=j("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},g("editorError.foreground","Foreground color of error squigglies in the editor.")),ek=j("editorError.border",{dark:null,light:null,hc:Z.fromHex("#E47777").transparent(.8)},g("errorBorder","Border color of error boxes in the editor.")),Oz=j("editorWarning.background",{dark:null,light:null,hc:null},g("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Bs=j("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},g("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),bp=j("editorWarning.border",{dark:null,light:null,hc:Z.fromHex("#FFCC00").transparent(.8)},g("warningBorder","Border color of warning boxes in the editor.")),Tz=j("editorInfo.background",{dark:null,light:null,hc:null},g("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Lr=j("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},g("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Sv=j("editorInfo.border",{dark:null,light:null,hc:Z.fromHex("#3794FF").transparent(.8)},g("infoBorder","Border color of info boxes in the editor.")),Nz=j("editorHint.foreground",{dark:Z.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},g("editorHint.foreground","Foreground color of hint squigglies in the editor.")),Pz=j("editorHint.border",{dark:null,light:null,hc:Z.fromHex("#eeeeee").transparent(.8)},g("hintBorder","Border color of hint boxes in the editor.")),k4e=j("sash.hoverBorder",{dark:Tc,light:Tc,hc:Tc},g("sashActiveBorder","Border color of active sashes.")),Ho=j("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:Z.black},g("editorBackground","Editor background color.")),zl=j("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:Z.white},g("editorForeground","Editor default foreground color.")),$o=j("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},g("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),Ad=j("editorWidget.foreground",{dark:ke,light:ke,hc:ke},g("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),su=j("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:Oi},g("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),Rz=j("editorWidget.resizeBorder",{light:null,dark:null,hc:null},g("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),tA=j("quickInput.background",{dark:$o,light:$o,hc:$o},g("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),Mz=j("quickInput.foreground",{dark:Ad,light:Ad,hc:Ad},g("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),Az=j("quickInputTitle.background",{dark:new Z(new Nt(255,255,255,.105)),light:new Z(new Nt(0,0,0,.06)),hc:"#000000"},g("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Fz=j("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:Z.white},g("pickerGroupForeground","Quick picker color for grouping labels.")),Bz=j("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:Z.white},g("pickerGroupBorder","Quick picker color for grouping borders.")),jz=j("keybindingLabel.background",{dark:new Z(new Nt(128,128,128,.17)),light:new Z(new Nt(221,221,221,.4)),hc:Z.transparent},g("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Wz=j("keybindingLabel.foreground",{dark:Z.fromHex("#CCCCCC"),light:Z.fromHex("#555555"),hc:Z.white},g("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Uz=j("keybindingLabel.border",{dark:new Z(new Nt(51,51,51,.6)),light:new Z(new Nt(204,204,204,.4)),hc:new Z(new Nt(111,195,223))},g("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),zz=j("keybindingLabel.bottomBorder",{dark:new Z(new Nt(68,68,68,.6)),light:new Z(new Nt(187,187,187,.4)),hc:new Z(new Nt(111,195,223))},g("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),Fd=j("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},g("editorSelectionBackground","Color of the editor selection.")),Vz=j("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},g("editorSelectionForeground","Color of the selected text for high contrast.")),S1=j("editor.inactiveSelectionBackground",{light:Je(Fd,.5),dark:Je(Fd,.5),hc:Je(Fd,.5)},g("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),E1=j("editor.selectionHighlightBackground",{light:qV(Fd,Ho,.3,.6),dark:qV(Fd,Ho,.3,.6),hc:null},g("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),Hz=j("editor.selectionHighlightBorder",{light:null,dark:null,hc:qn},g("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),$z=j("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},g("editorFindMatch","Color of the current search match.")),Bd=j("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},g("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Kz=j("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},g("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Yz=j("editor.findMatchBorder",{light:null,dark:null,hc:qn},g("editorFindMatchBorder","Border color of the current search match.")),vp=j("editor.findMatchHighlightBorder",{light:null,dark:null,hc:qn},g("findMatchHighlightBorder","Border color of the other search matches.")),qz=j("editor.findRangeHighlightBorder",{dark:null,light:null,hc:Je(qn,.4)},g("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),I4e=j("searchEditor.findMatchBackground",{light:Je(Bd,.66),dark:Je(Bd,.66),hc:Bd},g("searchEditor.queryMatch","Color of the Search Editor query matches.")),O4e=j("searchEditor.findMatchBorder",{light:Je(vp,.66),dark:Je(vp,.66),hc:vp},g("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),Zz=j("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},g("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),au=j("editorHoverWidget.background",{light:$o,dark:$o,hc:$o},g("hoverBackground","Background color of the editor hover.")),tk=j("editorHoverWidget.foreground",{light:Ad,dark:Ad,hc:Ad},g("hoverForeground","Foreground color of the editor hover.")),ik=j("editorHoverWidget.border",{light:su,dark:su,hc:su},g("hoverBorder","Border color of the editor hover.")),Gz=j("editorHoverWidget.statusBarBackground",{dark:ng(au,.2),light:Ov(au,.05),hc:$o},g("statusBarBackground","Background color of the editor hover status bar.")),nk=j("editorLink.activeForeground",{dark:"#4E94CE",light:Z.blue,hc:Z.cyan},g("activeLinkForeground","Color of active links.")),eg=j("editorInlayHint.foreground",{dark:Je(_p,.8),light:Je(_p,.8),hc:_p},g("editorInlayHintForeground","Foreground color of inline hints")),tg=j("editorInlayHint.background",{dark:Je(pp,.6),light:Je(pp,.3),hc:pp},g("editorInlayHintBackground","Background color of inline hints")),Xz=j("editorInlayHint.typeForeground",{dark:eg,light:eg,hc:eg},g("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),Qz=j("editorInlayHint.typeBackground",{dark:tg,light:tg,hc:tg},g("editorInlayHintBackgroundTypes","Background color of inline hints for types")),Jz=j("editorInlayHint.parameterForeground",{dark:eg,light:eg,hc:eg},g("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),eV=j("editorInlayHint.parameterBackground",{dark:tg,light:tg,hc:tg},g("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),tV=j("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},g("editorLightBulbForeground","The color used for the lightbulb actions icon.")),iV=j("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},g("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),ok=new Z(new Nt(155,185,85,.2)),rk=new Z(new Nt(255,0,0,.2)),iA=j("diffEditor.insertedTextBackground",{dark:ok,light:ok,hc:null},g("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),nA=j("diffEditor.removedTextBackground",{dark:rk,light:rk,hc:null},g("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),nV=j("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},g("diffEditorInsertedOutline","Outline color for the text that got inserted.")),oV=j("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},g("diffEditorRemovedOutline","Outline color for text that got removed.")),rV=j("diffEditor.border",{dark:null,light:null,hc:Oi},g("diffEditorBorder","Border color between the two text editors.")),sV=j("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},g("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),aV=j("list.focusBackground",{dark:null,light:null,hc:null},g("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),lV=j("list.focusForeground",{dark:null,light:null,hc:null},g("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),cV=j("list.focusOutline",{dark:Tc,light:Tc,hc:qn},g("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),lu=j("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},g("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),cu=j("list.activeSelectionForeground",{dark:Z.white,light:Z.white,hc:null},g("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),x1=j("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},g("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),dV=j("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},g("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),hV=j("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},g("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),uV=j("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},g("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),fV=j("list.inactiveFocusBackground",{dark:null,light:null,hc:null},g("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),gV=j("list.inactiveFocusOutline",{dark:null,light:null,hc:null},g("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),mV=j("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},g("listHoverBackground","List/Tree background when hovering over items using the mouse.")),pV=j("list.hoverForeground",{dark:null,light:null,hc:null},g("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),_V=j("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},g("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),Nc=j("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:Tc},g("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),sk=j("list.focusHighlightForeground",{dark:Nc,light:Tde(lu,Nc,"#9DDDFF"),hc:Nc},g("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),T4e=j("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hc:"#B89500"},g("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),N4e=j("list.errorForeground",{dark:"#F88070",light:"#B01011",hc:null},g("listErrorForeground","Foreground color of list items containing errors.")),P4e=j("list.warningForeground",{dark:"#CCA700",light:"#855F00",hc:null},g("listWarningForeground","Foreground color of list items containing warnings.")),bV=j("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:Z.black},g("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),vV=j("listFilterWidget.outline",{dark:Z.transparent,light:Z.transparent,hc:"#f38518"},g("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),wV=j("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:Oi},g("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),R4e=j("list.filterMatchBackground",{dark:Bd,light:Bd,hc:null},g("listFilterMatchHighlight","Background color of the filtered match.")),M4e=j("list.filterMatchBorder",{dark:vp,light:vp,hc:Oi},g("listFilterMatchHighlightBorder","Border color of the filtered match.")),CV=j("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},g("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),yV=j("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},g("tableColumnsBorder","Table border color between columns.")),SV=j("tree.tableOddRowsBackground",{dark:Je(ke,.04),light:Je(ke,.04),hc:null},g("tableOddRowsBackgroundColor","Background color for odd table rows.")),A4e=j("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hc:"#A7A8A9"},g("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),EV=j("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,g("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),Ev=j("quickInputList.focusForeground",{dark:cu,light:cu,hc:cu},g("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),xv=j("quickInputList.focusIconForeground",{dark:x1,light:x1,hc:x1},g("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),Dv=j("quickInputList.focusBackground",{dark:Tv(EV,lu),light:Tv(EV,lu),hc:null},g("quickInput.listFocusBackground","Quick picker background color for the focused item.")),xV=j("menu.border",{dark:null,light:null,hc:Oi},g("menuBorder","Border color of menus.")),DV=j("menu.foreground",{dark:y1,light:ke,hc:y1},g("menuForeground","Foreground color of menu items.")),LV=j("menu.background",{dark:mp,light:mp,hc:mp},g("menuBackground","Background color of menu items.")),kV=j("menu.selectionForeground",{dark:cu,light:cu,hc:cu},g("menuSelectionForeground","Foreground color of the selected menu item in menus.")),IV=j("menu.selectionBackground",{dark:lu,light:lu,hc:lu},g("menuSelectionBackground","Background color of the selected menu item in menus.")),OV=j("menu.selectionBorder",{dark:null,light:null,hc:qn},g("menuSelectionBorder","Border color of the selected menu item in menus.")),TV=j("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:Oi},g("menuSeparatorBackground","Color of a separator menu item in menus.")),ak=j("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},g("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),F4e=j("toolbar.hoverOutline",{dark:null,light:null,hc:qn},g("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),B4e=j("toolbar.activeBackground",{dark:ng(ak,.1),light:Ov(ak,.1),hc:null},g("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),j4e=j("editor.snippetTabstopHighlightBackground",{dark:new Z(new Nt(124,124,124,.3)),light:new Z(new Nt(10,50,100,.2)),hc:new Z(new Nt(124,124,124,.3))},g("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),W4e=j("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},g("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),U4e=j("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},g("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),z4e=j("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new Z(new Nt(10,50,100,.5)),hc:"#525252"},g("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),V4e=j("breadcrumb.foreground",{light:Je(ke,.8),dark:Je(ke,.8),hc:Je(ke,.8)},g("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),H4e=j("breadcrumb.background",{light:Ho,dark:Ho,hc:Ho},g("breadcrumbsBackground","Background color of breadcrumb items.")),$4e=j("breadcrumb.focusForeground",{light:Ov(ke,.2),dark:ng(ke,.1),hc:ng(ke,.1)},g("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),K4e=j("breadcrumb.activeSelectionForeground",{light:Ov(ke,.2),dark:ng(ke,.1),hc:ng(ke,.1)},g("breadcrumbsSelectedForegound","Color of selected breadcrumb items.")),Y4e=j("breadcrumbPicker.background",{light:$o,dark:$o,hc:$o},g("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),NV=.5,PV=Z.fromHex("#40C8AE").transparent(NV),RV=Z.fromHex("#40A6FF").transparent(NV),MV=Z.fromHex("#606060").transparent(.4),du=.4,Lv=1,D1=j("merge.currentHeaderBackground",{dark:PV,light:PV,hc:null},g("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),q4e=j("merge.currentContentBackground",{dark:Je(D1,du),light:Je(D1,du),hc:Je(D1,du)},g("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),L1=j("merge.incomingHeaderBackground",{dark:RV,light:RV,hc:null},g("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Z4e=j("merge.incomingContentBackground",{dark:Je(L1,du),light:Je(L1,du),hc:Je(L1,du)},g("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),k1=j("merge.commonHeaderBackground",{dark:MV,light:MV,hc:null},g("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),G4e=j("merge.commonContentBackground",{dark:Je(k1,du),light:Je(k1,du),hc:Je(k1,du)},g("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),oA=j("merge.border",{dark:null,light:null,hc:"#C3DF6F"},g("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),X4e=j("editorOverviewRuler.currentContentForeground",{dark:Je(D1,Lv),light:Je(D1,Lv),hc:oA},g("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),Q4e=j("editorOverviewRuler.incomingContentForeground",{dark:Je(L1,Lv),light:Je(L1,Lv),hc:oA},g("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),J4e=j("editorOverviewRuler.commonContentForeground",{dark:Je(k1,Lv),light:Je(k1,Lv),hc:oA},g("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),kv=j("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},g("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),lk=j("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},g("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),AV=j("editorOverviewRuler.unicodeForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},g("overviewRulerUnicodeForeground","Overview ruler marker color for highlighted unicode characters. The color must not be opaque so as not to hide underlying decorations."),!0),ig=j("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},g("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),Iv=j("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},g("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),rA=j("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},g("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),FV=j("minimap.errorHighlight",{dark:new Z(new Nt(255,18,18,.7)),light:new Z(new Nt(255,18,18,.7)),hc:new Z(new Nt(255,50,50,1))},g("minimapError","Minimap marker color for errors.")),BV=j("minimap.warningHighlight",{dark:Bs,light:Bs,hc:bp},g("overviewRuleWarning","Minimap marker color for warnings.")),jV=j("minimap.background",{dark:null,light:null,hc:null},g("minimapBackground","Minimap background color.")),WV=j("minimap.foregroundOpacity",{dark:Z.fromHex("#000f"),light:Z.fromHex("#000f"),hc:Z.fromHex("#000f")},g("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),UV=j("minimap.unicodeHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},g("minimapUnicodeHighlight","Minimap marker color for highlighted unicode characters.")),zV=j("minimapSlider.background",{light:Je(nu,.5),dark:Je(nu,.5),hc:Je(nu,.5)},g("minimapSliderBackground","Minimap slider background color.")),VV=j("minimapSlider.hoverBackground",{light:Je(ou,.5),dark:Je(ou,.5),hc:Je(ou,.5)},g("minimapSliderHoverBackground","Minimap slider background color when hovering.")),HV=j("minimapSlider.activeBackground",{light:Je(ru,.5),dark:Je(ru,.5),hc:Je(ru,.5)},g("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),$V=j("problemsErrorIcon.foreground",{dark:Md,light:Md,hc:Md},g("problemsErrorIconForeground","The color used for the problems error icon.")),KV=j("problemsWarningIcon.foreground",{dark:Bs,light:Bs,hc:Bs},g("problemsWarningIconForeground","The color used for the problems warning icon.")),YV=j("problemsInfoIcon.foreground",{dark:Lr,light:Lr,hc:Lr},g("problemsInfoIconForeground","The color used for the problems info icon.")),eFe=j("charts.foreground",{dark:ke,light:ke,hc:ke},g("chartsForeground","The foreground color used in charts.")),tFe=j("charts.lines",{dark:Je(ke,.5),light:Je(ke,.5),hc:Je(ke,.5)},g("chartsLines","The color used for horizontal lines in charts.")),iFe=j("charts.red",{dark:Md,light:Md,hc:Md},g("chartsRed","The red color used in chart visualizations.")),nFe=j("charts.blue",{dark:Lr,light:Lr,hc:Lr},g("chartsBlue","The blue color used in chart visualizations.")),oFe=j("charts.yellow",{dark:Bs,light:Bs,hc:Bs},g("chartsYellow","The yellow color used in chart visualizations.")),rFe=j("charts.orange",{dark:ig,light:ig,hc:ig},g("chartsOrange","The orange color used in chart visualizations.")),sFe=j("charts.green",{dark:"#89D185",light:"#388A34",hc:"#89D185"},g("chartsGreen","The green color used in chart visualizations.")),aFe=j("charts.purple",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},g("chartsPurple","The purple color used in chart visualizations."));ZV="vscode://schemas/workbench-colors",GV=ki.as(np.JSONContribution);GV.registerSchema(ZV,WL.getColorSchema());XV=new bt(()=>GV.notifySchemaChanged(ZV),200);WL.onDidChangeSchema(()=>{XV.isScheduled()||XV.schedule()})});function uk(o){return o.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}function nH(o,e){return o===null||o.length===0?e:new Rc(o,e).compress()}var ao,Rc,mA=ge(()=>{Rb();zf();ao=class{constructor(e,t,i,n){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=n}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${uk(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${uk(this.oldText)}")`:`(replace@${this.oldPosition} "${uk(this.oldText)}" with "${uk(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){let n=t.length;ja(e,n,i),i+=4;for(let r=0;r<n;r++)j6(e,t.charCodeAt(r),i),i+=2;return i}static _readString(e,t){let i=Ba(e,t);return t+=4,ZD(e,t,i)}writeSize(){return 4+4+ao._writeStringSize(this.oldText)+ao._writeStringSize(this.newText)}write(e,t){return ja(e,this.oldPosition,t),t+=4,ja(e,this.newPosition,t),t+=4,t=ao._writeString(e,this.oldText,t),t=ao._writeString(e,this.newText,t),t}static read(e,t,i){let n=Ba(e,t);t+=4;let r=Ba(e,t);t+=4;let s=ao._readString(e,t);t+=ao._writeStringSize(s);let a=ao._readString(e,t);return t+=ao._writeStringSize(a),i.push(new ao(n,s,r,a)),t}};Rc=class{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),n=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(i===null){this._acceptCurr(n),n=this._getCurr(++t);continue}if(n===null){this._acceptPrev(i),i=this._getPrev(++e);continue}if(n.oldEnd<=i.newPosition){this._acceptCurr(n),n=this._getCurr(++t);continue}if(i.newEnd<=n.oldPosition){this._acceptPrev(i),i=this._getPrev(++e);continue}if(n.oldPosition<i.newPosition){let[c,d]=Rc._splitCurr(n,i.newPosition-n.oldPosition);this._acceptCurr(c),n=d;continue}if(i.newPosition<n.oldPosition){let[c,d]=Rc._splitPrev(i,n.oldPosition-i.newPosition);this._acceptPrev(c),i=d;continue}let a,l;if(n.oldEnd===i.newEnd)a=i,l=n,i=this._getPrev(++e),n=this._getCurr(++t);else if(n.oldEnd<i.newEnd){let[c,d]=Rc._splitPrev(i,n.oldLength);a=c,l=n,i=d,n=this._getCurr(++t)}else{let[c,d]=Rc._splitCurr(n,i.newLength);a=i,l=c,i=this._getPrev(++e),n=d}this._result[this._resultLen++]=new ao(a.oldPosition,a.oldText,l.newPosition,l.newText),this._prevDeltaOffset+=a.newLength-a.oldLength,this._currDeltaOffset+=l.newLength-l.oldLength}let r=Rc._merge(this._result);return Rc._removeNoOps(r)}_acceptCurr(e){this._result[this._resultLen++]=Rc._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=Rc._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new ao(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new ao(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){let i=e.newText.substr(0,t),n=e.newText.substr(t);return[new ao(e.oldPosition,e.oldText,e.newPosition,i),new ao(e.oldEnd,"",e.newPosition+t,n)]}static _splitCurr(e,t){let i=e.oldText.substr(0,t),n=e.oldText.substr(t);return[new ao(e.oldPosition,i,e.newPosition,e.newText),new ao(e.oldPosition+t,n,e.newEnd,"")]}static _merge(e){if(e.length===0)return e;let t=[],i=0,n=e[0];for(let r=1;r<e.length;r++){let s=e[r];n.oldEnd===s.oldPosition?n=new ao(n.oldPosition,n.oldText+s.oldText,n.newPosition,n.newText+s.newText):(t[i++]=n,n=s)}return t[i++]=n,t}static _removeNoOps(e){if(e.length===0)return e;let t=[],i=0;for(let n=0;n<e.length;n++){let r=e[n];r.oldText!==r.newText&&(t[i++]=r)}return t}}});function Pv(o){return o.toString()}function _A(o){return o.getEOL()===`
`?0:1}function Wd(o){return o?o instanceof pA||o instanceof oH:!1}var lo,pA,oH,P1,bA=ge(()=>{xe();st();ai();Ai();mA();Rb();Er();lo=class{constructor(e,t,i,n,r,s,a){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=i,this.afterEOL=n,this.beforeCursorState=r,this.afterCursorState=s,this.changes=a}static create(e,t){let i=e.getAlternativeVersionId(),n=_A(e);return new lo(i,i,n,n,t,t,[])}append(e,t,i,n,r){t.length>0&&(this.changes=nH(this.changes,t)),this.afterEOL=i,this.afterVersionId=n,this.afterCursorState=r}static _writeSelectionsSize(e){return 4+4*4*(e?e.length:0)}static _writeSelections(e,t,i){if(ja(e,t?t.length:0,i),i+=4,t)for(let n of t)ja(e,n.selectionStartLineNumber,i),i+=4,ja(e,n.selectionStartColumn,i),i+=4,ja(e,n.positionLineNumber,i),i+=4,ja(e,n.positionColumn,i),i+=4;return i}static _readSelections(e,t,i){let n=Ba(e,t);t+=4;for(let r=0;r<n;r++){let s=Ba(e,t);t+=4;let a=Ba(e,t);t+=4;let l=Ba(e,t);t+=4;let c=Ba(e,t);t+=4,i.push(new de(s,a,l,c))}return t}serialize(){let e=4+4+1+1+lo._writeSelectionsSize(this.beforeCursorState)+lo._writeSelectionsSize(this.afterCursorState)+4;for(let n of this.changes)e+=n.writeSize();let t=new Uint8Array(e),i=0;ja(t,this.beforeVersionId,i),i+=4,ja(t,this.afterVersionId,i),i+=4,JP(t,this.beforeEOL,i),i+=1,JP(t,this.afterEOL,i),i+=1,i=lo._writeSelections(t,this.beforeCursorState,i),i=lo._writeSelections(t,this.afterCursorState,i),ja(t,this.changes.length,i),i+=4;for(let n of this.changes)i=n.write(t,i);return t.buffer}static deserialize(e){let t=new Uint8Array(e),i=0,n=Ba(t,i);i+=4;let r=Ba(t,i);i+=4;let s=QP(t,i);i+=1;let a=QP(t,i);i+=1;let l=[];i=lo._readSelections(t,i,l);let c=[];i=lo._readSelections(t,i,c);let d=Ba(t,i);i+=4;let h=[];for(let u=0;u<d;u++)i=ao.read(t,i,h);return new lo(n,r,s,a,l,c,h)}},pA=class{constructor(e,t){this.model=e,this._data=lo.create(e,t)}get type(){return 0}get resource(){return Ee.isUri(this.model)?this.model:this.model.uri}get label(){return g("edit","Typing")}toString(){return(this._data instanceof lo?this._data:lo.deserialize(this._data)).changes.map(t=>t.toString()).join(", ")}matchesResource(e){return(Ee.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof lo}append(e,t,i,n,r){this._data instanceof lo&&this._data.append(e,t,i,n,r)}close(){this._data instanceof lo&&(this._data=this._data.serialize())}open(){this._data instanceof lo||(this._data=lo.deserialize(this._data))}undo(){if(Ee.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof lo&&(this._data=this._data.serialize());let e=lo.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(Ee.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof lo&&(this._data=this._data.serialize());let e=lo.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof lo&&(this._data=this._data.serialize()),this._data.byteLength+168}},oH=class{constructor(e,t){this.type=1,this.label=e,this._isOpen=!0,this._editStackElementsArr=t.slice(0),this._editStackElementsMap=new Map;for(let i of this._editStackElementsArr){let n=Pv(i.resource);this._editStackElementsMap.set(n,i)}this._delegate=null}get resources(){return this._editStackElementsArr.map(e=>e.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){let t=Pv(e);return this._editStackElementsMap.has(t)}setModel(e){let t=Pv(Ee.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;let t=Pv(e.uri);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).canAppend(e):!1}append(e,t,i,n,r){let s=Pv(e.uri);this._editStackElementsMap.get(s).append(e,t,i,n,r)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(let e of this._editStackElementsArr)e.undo()}redo(){for(let e of this._editStackElementsArr)e.redo()}heapSize(e){let t=Pv(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){let e=[];for(let t of this._editStackElementsArr)e.push(`${Io(t.resource)}: ${t}`);return`{${e.join(", ")}}`}};P1=class{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){let e=this._undoRedoService.getLastElement(this._model.uri);Wd(e)&&e.close()}popStackElement(){let e=this._undoRedoService.getLastElement(this._model.uri);Wd(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e){let t=this._undoRedoService.getLastElement(this._model.uri);if(Wd(t)&&t.canAppend(this._model))return t;let i=new pA(this._model,e);return this._undoRedoService.pushElement(i),i}pushEOL(e){let t=this._getOrCreateEditStackElement(null);this._model.setEOL(e),t.append(this._model,[],_A(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,i){let n=this._getOrCreateEditStackElement(e),r=this._model.applyEdits(t,!0),s=P1._computeCursorState(i,r),a=r.map((l,c)=>({index:c,textChange:l.textChange}));return a.sort((l,c)=>l.textChange.oldPosition===c.textChange.oldPosition?l.index-c.index:l.textChange.oldPosition-c.textChange.oldPosition),n.append(this._model,a.map(l=>l.textChange),_A(this._model),this._model.getAlternativeVersionId(),s),s}static _computeCursorState(e,t){try{return e?e(t):null}catch(i){return ye(i),null}}}});function Ade(o,e,t,i,n){n.spacesDiff=0,n.looksLikeAlignment=!1;let r;for(r=0;r<e&&r<i;r++){let u=o.charCodeAt(r),f=t.charCodeAt(r);if(u!==f)break}let s=0,a=0;for(let u=r;u<e;u++)o.charCodeAt(u)===32?s++:a++;let l=0,c=0;for(let u=r;u<i;u++)t.charCodeAt(u)===32?l++:c++;if(s>0&&a>0||l>0&&c>0)return;let d=Math.abs(a-c),h=Math.abs(s-l);if(d===0){n.spacesDiff=h,h>0&&0<=l-1&&l-1<o.length&&l<t.length&&t.charCodeAt(l)!==32&&o.charCodeAt(l-1)===32&&o.charCodeAt(o.length-1)===44&&(n.looksLikeAlignment=!0);return}if(h%d===0){n.spacesDiff=h/d;return}}function vA(o,e,t){let i=Math.min(o.getLineCount(),1e4),n=0,r=0,s="",a=0,l=[2,4,6,8,3,5,7],c=8,d=[0,0,0,0,0,0,0,0,0],h=new rH;for(let p=1;p<=i;p++){let b=o.getLineLength(p),v=o.getLineContent(p),y=b<=65536,w=!1,S=0,x=0,k=0;for(let O=0,N=b;O<N;O++){let W=y?v.charCodeAt(O):o.getLineCharCode(p,O);if(W===9)k++;else if(W===32)x++;else{w=!0,S=O;break}}if(!w||(k>0?n++:x>1&&r++,Ade(s,a,v,S,h),h.looksLikeAlignment&&!(t&&e===h.spacesDiff)))continue;let R=h.spacesDiff;R<=c&&d[R]++,s=v,a=S}let u=t;n!==r&&(u=n<r);let f=e;if(u){let p=u?0:.1*i;l.forEach(b=>{let v=d[b];v>p&&(p=v,f=b)}),f===4&&d[4]>0&&d[2]>0&&d[2]>=d[4]/2&&(f=2)}return{insertSpaces:u,tabSize:f}}var rH,sH=ge(()=>{rH=class{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}});function ds(o){return(o.metadata&1)>>>0}function $i(o,e){o.metadata=o.metadata&254|e<<0}function Ko(o){return(o.metadata&2)>>>1===1}function ji(o,e){o.metadata=o.metadata&253|(e?1:0)<<1}function aH(o){return(o.metadata&4)>>>2===1}function lH(o,e){o.metadata=o.metadata&251|(e?1:0)<<2}function Fde(o){return(o.metadata&24)>>>3}function cH(o,e){o.metadata=o.metadata&231|e<<3}function Bde(o){return(o.metadata&32)>>>5===1}function dH(o,e){o.metadata=o.metadata&223|(e?1:0)<<5}function jde(o){let e=o.root,t=0;for(;e!==Lt;){if(e.left!==Lt&&!Ko(e.left)){e=e.left;continue}if(e.right!==Lt&&!Ko(e.right)){t+=e.delta,e=e.right;continue}e.start=t+e.start,e.end=t+e.end,e.delta=0,fu(e),ji(e,!0),ji(e.left,!1),ji(e.right,!1),e===e.parent.right&&(t-=e.parent.delta),e=e.parent}ji(o.root,!1)}function Rv(o,e,t,i){return o<t?!0:o>t||i===1?!1:i===2?!0:e}function Wde(o,e,t,i,n){let r=Fde(o),s=r===0||r===2,a=r===1||r===2,l=t-e,c=i,d=Math.min(l,c),h=o.start,u=!1,f=o.end,p=!1;e<=h&&f<=t&&Bde(o)&&(o.start=e,u=!0,o.end=e,p=!0);{let v=n?1:l>0?2:0;!u&&Rv(h,s,e,v)&&(u=!0),!p&&Rv(f,a,e,v)&&(p=!0)}if(d>0&&!n){let v=l>c?2:0;!u&&Rv(h,s,e+d,v)&&(u=!0),!p&&Rv(f,a,e+d,v)&&(p=!0)}{let v=n?1:0;!u&&Rv(h,s,t,v)&&(o.start=e+c,u=!0),!p&&Rv(f,a,t,v)&&(o.end=e+c,p=!0)}let b=c-l;u||(o.start=Math.max(0,h+b)),p||(o.end=Math.max(0,f+b)),o.start>o.end&&(o.end=o.start)}function Ude(o,e,t){let i=o.root,n=0,r=0,s=0,a=0,l=[],c=0;for(;i!==Lt;){if(Ko(i)){ji(i.left,!1),ji(i.right,!1),i===i.parent.right&&(n-=i.parent.delta),i=i.parent;continue}if(!Ko(i.left)){if(r=n+i.maxEnd,r<e){ji(i,!0);continue}if(i.left!==Lt){i=i.left;continue}}if(s=n+i.start,s>t){ji(i,!0);continue}if(a=n+i.end,a>=e&&(i.setCachedOffsets(s,a,0),l[c++]=i),ji(i,!0),i.right!==Lt&&!Ko(i.right)){n+=i.delta,i=i.right;continue}}return ji(o.root,!1),l}function zde(o,e,t,i){let n=o.root,r=0,s=0,a=0,l=i-(t-e);for(;n!==Lt;){if(Ko(n)){ji(n.left,!1),ji(n.right,!1),n===n.parent.right&&(r-=n.parent.delta),fu(n),n=n.parent;continue}if(!Ko(n.left)){if(s=r+n.maxEnd,s<e){ji(n,!0);continue}if(n.left!==Lt){n=n.left;continue}}if(a=r+n.start,a>t){n.start+=l,n.end+=l,n.delta+=l,(n.delta<-1073741824||n.delta>1073741824)&&(o.requestNormalizeDelta=!0),ji(n,!0);continue}if(ji(n,!0),n.right!==Lt&&!Ko(n.right)){r+=n.delta,n=n.right;continue}}ji(o.root,!1)}function Vde(o,e){let t=o.root,i=[],n=0;for(;t!==Lt;){if(Ko(t)){ji(t.left,!1),ji(t.right,!1),t=t.parent;continue}if(t.left!==Lt&&!Ko(t.left)){t=t.left;continue}if(t.ownerId===e&&(i[n++]=t),ji(t,!0),t.right!==Lt&&!Ko(t.right)){t=t.right;continue}}return ji(o.root,!1),i}function Hde(o){let e=o.root,t=[],i=0;for(;e!==Lt;){if(Ko(e)){ji(e.left,!1),ji(e.right,!1),e=e.parent;continue}if(e.left!==Lt&&!Ko(e.left)){e=e.left;continue}if(e.right!==Lt&&!Ko(e.right)){e=e.right;continue}t[i++]=e,ji(e,!0)}return ji(o.root,!1),t}function $de(o,e,t,i){let n=o.root,r=0,s=0,a=0,l=[],c=0;for(;n!==Lt;){if(Ko(n)){ji(n.left,!1),ji(n.right,!1),n===n.parent.right&&(r-=n.parent.delta),n=n.parent;continue}if(n.left!==Lt&&!Ko(n.left)){n=n.left;continue}s=r+n.start,a=r+n.end,n.setCachedOffsets(s,a,i);let d=!0;if(e&&n.ownerId&&n.ownerId!==e&&(d=!1),t&&aH(n)&&(d=!1),d&&(l[c++]=n),ji(n,!0),n.right!==Lt&&!Ko(n.right)){r+=n.delta,n=n.right;continue}}return ji(o.root,!1),l}function Kde(o,e,t,i,n,r){let s=o.root,a=0,l=0,c=0,d=0,h=[],u=0;for(;s!==Lt;){if(Ko(s)){ji(s.left,!1),ji(s.right,!1),s===s.parent.right&&(a-=s.parent.delta),s=s.parent;continue}if(!Ko(s.left)){if(l=a+s.maxEnd,l<e){ji(s,!0);continue}if(s.left!==Lt){s=s.left;continue}}if(c=a+s.start,c>t){ji(s,!0);continue}if(d=a+s.end,d>=e){s.setCachedOffsets(c,d,r);let f=!0;i&&s.ownerId&&s.ownerId!==i&&(f=!1),n&&aH(s)&&(f=!1),f&&(h[u++]=s)}if(ji(s,!0),s.right!==Lt&&!Ko(s.right)){a+=s.delta,s=s.right;continue}}return ji(o.root,!1),h}function hH(o,e){if(o.root===Lt)return e.parent=Lt,e.left=Lt,e.right=Lt,$i(e,0),o.root=e,o.root;Yde(o,e),og(e.parent);let t=e;for(;t!==o.root&&ds(t.parent)===1;)if(t.parent===t.parent.parent.left){let i=t.parent.parent.right;ds(i)===1?($i(t.parent,0),$i(i,0),$i(t.parent.parent,1),t=t.parent.parent):(t===t.parent.right&&(t=t.parent,M1(o,t)),$i(t.parent,0),$i(t.parent.parent,1),A1(o,t.parent.parent))}else{let i=t.parent.parent.left;ds(i)===1?($i(t.parent,0),$i(i,0),$i(t.parent.parent,1),t=t.parent.parent):(t===t.parent.left&&(t=t.parent,A1(o,t)),$i(t.parent,0),$i(t.parent.parent,1),M1(o,t.parent.parent))}return $i(o.root,0),e}function Yde(o,e){let t=0,i=o.root,n=e.start,r=e.end;for(;;)if(Zde(n,r,i.start+t,i.end+t)<0)if(i.left===Lt){e.start-=t,e.end-=t,e.maxEnd-=t,i.left=e;break}else i=i.left;else if(i.right===Lt){e.start-=t+i.delta,e.end-=t+i.delta,e.maxEnd-=t+i.delta,i.right=e;break}else t+=i.delta,i=i.right;e.parent=i,e.left=Lt,e.right=Lt,$i(e,1)}function uH(o,e){let t,i;if(e.left===Lt?(t=e.right,i=e,t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(o.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta):e.right===Lt?(t=e.left,i=e):(i=qde(e.right),t=i.right,t.start+=i.delta,t.end+=i.delta,t.delta+=i.delta,(t.delta<-1073741824||t.delta>1073741824)&&(o.requestNormalizeDelta=!0),i.start+=e.delta,i.end+=e.delta,i.delta=e.delta,(i.delta<-1073741824||i.delta>1073741824)&&(o.requestNormalizeDelta=!0)),i===o.root){o.root=t,$i(t,0),e.detach(),wA(),fu(t),o.root.parent=Lt;return}let n=ds(i)===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?t.parent=i.parent:(i.parent===e?t.parent=i:t.parent=i.parent,i.left=e.left,i.right=e.right,i.parent=e.parent,$i(i,ds(e)),e===o.root?o.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==Lt&&(i.left.parent=i),i.right!==Lt&&(i.right.parent=i)),e.detach(),n){og(t.parent),i!==e&&(og(i),og(i.parent)),wA();return}og(t),og(t.parent),i!==e&&(og(i),og(i.parent));let r;for(;t!==o.root&&ds(t)===0;)t===t.parent.left?(r=t.parent.right,ds(r)===1&&($i(r,0),$i(t.parent,1),M1(o,t.parent),r=t.parent.right),ds(r.left)===0&&ds(r.right)===0?($i(r,1),t=t.parent):(ds(r.right)===0&&($i(r.left,0),$i(r,1),A1(o,r),r=t.parent.right),$i(r,ds(t.parent)),$i(t.parent,0),$i(r.right,0),M1(o,t.parent),t=o.root)):(r=t.parent.left,ds(r)===1&&($i(r,0),$i(t.parent,1),A1(o,t.parent),r=t.parent.left),ds(r.left)===0&&ds(r.right)===0?($i(r,1),t=t.parent):(ds(r.left)===0&&($i(r.right,0),$i(r,1),M1(o,r),r=t.parent.left),$i(r,ds(t.parent)),$i(t.parent,0),$i(r.left,0),A1(o,t.parent),t=o.root));$i(t,0),wA()}function qde(o){for(;o.left!==Lt;)o=o.left;return o}function wA(){Lt.parent=Lt,Lt.delta=0,Lt.start=0,Lt.end=0}function M1(o,e){let t=e.right;t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(o.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta,e.right=t.left,t.left!==Lt&&(t.left.parent=e),t.parent=e.parent,e.parent===Lt?o.root=t:e===e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,fu(e),fu(t)}function A1(o,e){let t=e.left;e.delta-=t.delta,(e.delta<-1073741824||e.delta>1073741824)&&(o.requestNormalizeDelta=!0),e.start-=t.delta,e.end-=t.delta,e.left=t.right,t.right!==Lt&&(t.right.parent=e),t.parent=e.parent,e.parent===Lt?o.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,fu(e),fu(t)}function fH(o){let e=o.end;if(o.left!==Lt){let t=o.left.maxEnd;t>e&&(e=t)}if(o.right!==Lt){let t=o.right.maxEnd+o.delta;t>e&&(e=t)}return e}function fu(o){o.maxEnd=fH(o)}function og(o){for(;o!==Lt;){let e=fH(o);if(o.maxEnd===e)return;o.maxEnd=e,o=o.parent}}function Zde(o,e,t,i){return o===t?e-i:o-t}var fk,Lt,R1,gH=ge(()=>{fk=class{constructor(e,t,i){this.metadata=0,this.parent=this,this.left=this,this.right=this,$i(this,1),this.start=t,this.end=i,this.delta=0,this.maxEnd=i,this.id=e,this.ownerId=0,this.options=null,lH(this,!1),cH(this,1),dH(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=null,ji(this,!1)}reset(e,t,i,n){this.start=t,this.end=i,this.maxEnd=i,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=n}setOptions(e){this.options=e;let t=this.options.className;lH(this,t==="squiggly-error"||t==="squiggly-warning"||t==="squiggly-info"),cH(this,this.options.stickiness),dH(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}},Lt=new fk(null,0,0);Lt.parent=Lt;Lt.left=Lt;Lt.right=Lt;$i(Lt,0);R1=class{constructor(){this.root=Lt,this.requestNormalizeDelta=!1}intervalSearch(e,t,i,n,r){return this.root===Lt?[]:Kde(this,e,t,i,n,r)}search(e,t,i){return this.root===Lt?[]:$de(this,e,t,i)}collectNodesFromOwner(e){return Vde(this,e)}collectNodesPostOrder(){return Hde(this)}insert(e){hH(this,e),this._normalizeDeltaIfNecessary()}delete(e){uH(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){let i=e,n=0;for(;e!==this.root;)e===e.parent.right&&(n+=e.parent.delta),e=e.parent;let r=i.start+n,s=i.end+n;i.setCachedOffsets(r,s,t)}acceptReplace(e,t,i,n){let r=Ude(this,e,e+t);for(let s=0,a=r.length;s<a;s++){let l=r[s];uH(this,l)}this._normalizeDeltaIfNecessary(),zde(this,e,e+t,i),this._normalizeDeltaIfNecessary();for(let s=0,a=r.length;s<a;s++){let l=r[s];l.start=l.cachedAbsoluteStart,l.end=l.cachedAbsoluteEnd,Wde(l,e,e+t,i,n),l.maxEnd=l.end,hH(this,l)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,jde(this))}}});function gk(o){for(;o.left!==at;)o=o.left;return o}function CA(o){for(;o.right!==at;)o=o.right;return o}function yA(o){return o===at?0:o.size_left+o.piece.length+yA(o.right)}function SA(o){return o===at?0:o.lf_left+o.piece.lineFeedCnt+SA(o.right)}function EA(){at.parent=at}function B1(o,e){let t=e.right;t.size_left+=e.size_left+(e.piece?e.piece.length:0),t.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=t.left,t.left!==at&&(t.left.parent=e),t.parent=e.parent,e.parent===at?o.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}function j1(o,e){let t=e.left;e.left=t.right,t.right!==at&&(t.right.parent=e),t.parent=e.parent,e.size_left-=t.size_left+(t.piece?t.piece.length:0),e.lf_left-=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),e.parent===at?o.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}function W1(o,e){let t,i;if(e.left===at?(i=e,t=i.right):e.right===at?(i=e,t=i.left):(i=gk(e.right),t=i.right),i===o.root){o.root=t,t.color=0,e.detach(),EA(),o.root.parent=at;return}let n=i.color===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?(t.parent=i.parent,U1(o,t)):(i.parent===e?t.parent=i:t.parent=i.parent,U1(o,t),i.left=e.left,i.right=e.right,i.parent=e.parent,i.color=e.color,e===o.root?o.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==at&&(i.left.parent=i),i.right!==at&&(i.right.parent=i),i.size_left=e.size_left,i.lf_left=e.lf_left,U1(o,i)),e.detach(),t.parent.left===t){let s=yA(t),a=SA(t);if(s!==t.parent.size_left||a!==t.parent.lf_left){let l=s-t.parent.size_left,c=a-t.parent.lf_left;t.parent.size_left=s,t.parent.lf_left=a,Ud(o,t.parent,l,c)}}if(U1(o,t.parent),n){EA();return}let r;for(;t!==o.root&&t.color===0;)t===t.parent.left?(r=t.parent.right,r.color===1&&(r.color=0,t.parent.color=1,B1(o,t.parent),r=t.parent.right),r.left.color===0&&r.right.color===0?(r.color=1,t=t.parent):(r.right.color===0&&(r.left.color=0,r.color=1,j1(o,r),r=t.parent.right),r.color=t.parent.color,t.parent.color=0,r.right.color=0,B1(o,t.parent),t=o.root)):(r=t.parent.left,r.color===1&&(r.color=0,t.parent.color=1,j1(o,t.parent),r=t.parent.left),r.left.color===0&&r.right.color===0?(r.color=1,t=t.parent):(r.left.color===0&&(r.right.color=0,r.color=1,B1(o,r),r=t.parent.left),r.color=t.parent.color,t.parent.color=0,r.left.color=0,j1(o,t.parent),t=o.root));t.color=0,EA()}function xA(o,e){for(U1(o,e);e!==o.root&&e.parent.color===1;)if(e.parent===e.parent.parent.left){let t=e.parent.parent.right;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&(e=e.parent,B1(o,e)),e.parent.color=0,e.parent.parent.color=1,j1(o,e.parent.parent))}else{let t=e.parent.parent.left;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&(e=e.parent,j1(o,e)),e.parent.color=0,e.parent.parent.color=1,B1(o,e.parent.parent))}o.root.color=0}function Ud(o,e,t,i){for(;e!==o.root&&e!==at;)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}function U1(o,e){let t=0,i=0;if(e!==o.root){for(;e!==o.root&&e===e.parent.right;)e=e.parent;if(e!==o.root)for(e=e.parent,t=yA(e.left)-e.size_left,i=SA(e.left)-e.lf_left,e.size_left+=t,e.lf_left+=i;e!==o.root&&(t!==0||i!==0);)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}}var F1,at,mH=ge(()=>{F1=class{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==at)return gk(this.right);let e=this;for(;e.parent!==at&&e.parent.left!==e;)e=e.parent;return e.parent===at?at:e.parent}prev(){if(this.left!==at)return CA(this.left);let e=this;for(;e.parent!==at&&e.parent.right!==e;)e=e.parent;return e.parent===at?at:e.parent}detach(){this.parent=null,this.left=null,this.right=null}},at=new F1(null,0);at.parent=at;at.left=at;at.right=at;at.color=0});function pH(o){let e;return o[o.length-1]<65536?e=new Uint16Array(o.length):e=new Uint32Array(o.length),e.set(o,0),e}function zd(o,e=!0){let t=[0],i=1;for(let n=0,r=o.length;n<r;n++){let s=o.charCodeAt(n);s===13?n+1<r&&o.charCodeAt(n+1)===10?(t[i++]=n+2,n++):t[i++]=n+1:s===10&&(t[i++]=n+1)}return e?pH(t):t}function bH(o,e){o.length=0,o[0]=0;let t=1,i=0,n=0,r=0,s=!0;for(let l=0,c=e.length;l<c;l++){let d=e.charCodeAt(l);d===13?l+1<c&&e.charCodeAt(l+1)===10?(r++,o[t++]=l+2,l++):(i++,o[t++]=l+1):d===10?(n++,o[t++]=l+1):s&&d!==9&&(d<32||d>126)&&(s=!1)}let a=new _H(pH(o),i,n,r,s);return o.length=0,a}var gu,_H,hs,mu,vH,wH,DA,LA=ge(()=>{ot();ve();Os();mH();K0();gu=65535;_H=class{constructor(e,t,i,n,r){this.lineStarts=e,this.cr=t,this.lf=i,this.crlf=n,this.isBasicASCII=r}};hs=class{constructor(e,t,i,n,r){this.bufferIndex=e,this.start=t,this.end=i,this.lineFeedCnt=n,this.length=r}},mu=class{constructor(e,t){this.buffer=e,this.lineStarts=t}},vH=class{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==at&&e.iterate(e.root,i=>(i!==at&&this._pieces.push(i.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}},wH=class{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){let i=this._cache[t];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e)return i}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){let i=this._cache[t];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e)return i}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1,i=this._cache;for(let n=0;n<i.length;n++){let r=i[n];if(r.node.parent===null||r.nodeStartOffset>=e){i[n]=null,t=!0;continue}}if(t){let n=[];for(let r of i)r!==null&&n.push(r);this._cache=n}}},DA=class{constructor(e,t,i){this.create(e,t,i)}create(e,t,i){this._buffers=[new mu("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=at,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=i;let n=null;for(let r=0,s=e.length;r<s;r++)if(e[r].buffer.length>0){e[r].lineStarts||(e[r].lineStarts=zd(e[r].buffer));let a=new hs(r+1,{line:0,column:0},{line:e[r].lineStarts.length-1,column:e[r].buffer.length-e[r].lineStarts[e[r].lineStarts.length-1]},e[r].lineStarts.length-1,e[r].buffer.length);this._buffers.push(e[r]),n=this.rbInsertRight(n,a)}this._searchCache=new wH(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){let t=gu,i=t-Math.floor(t/3),n=i*2,r="",s=0,a=[];if(this.iterate(this.root,l=>{let c=this.getNodeContent(l),d=c.length;if(s<=i||s+d<n)return r+=c,s+=d,!0;let h=r.replace(/\r\n|\r|\n/g,e);return a.push(new mu(h,zd(h))),r=c,s=d,!0}),s>0){let l=r.replace(/\r\n|\r|\n/g,e);a.push(new mu(l,zd(l)))}this.create(a,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new vH(this,e)}getOffsetAt(e,t){let i=0,n=this.root;for(;n!==at;)if(n.left!==at&&n.lf_left+1>=e)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt+1>=e)return i+=n.size_left,i+=this.getAccumulatedValue(n,e-n.lf_left-2)+t-1;e-=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right}return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,i=0,n=e;for(;t!==at;)if(t.size_left!==0&&t.size_left>=e)t=t.left;else if(t.size_left+t.piece.length>=e){let r=this.getIndexOf(t,e-t.size_left);if(i+=t.lf_left+r.index,r.index===0){let s=this.getOffsetAt(i+1,1),a=n-s;return new H(i+1,a+1)}return new H(i+1,r.remainder+1)}else if(e-=t.size_left+t.piece.length,i+=t.lf_left+t.piece.lineFeedCnt,t.right===at){let r=this.getOffsetAt(i+1,1),s=n-e-r;return new H(i+1,s+1)}else t=t.right;return new H(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";let i=this.nodeAt2(e.startLineNumber,e.startColumn),n=this.nodeAt2(e.endLineNumber,e.endColumn),r=this.getValueInRange2(i,n);return t?t!==this._EOL||!this._EOLNormalized?r.replace(/\r\n|\r|\n/g,t):t===this.getEOL()&&this._EOLNormalized?r:r.replace(/\r\n|\r|\n/g,t):r}getValueInRange2(e,t){if(e.node===t.node){let a=e.node,l=this._buffers[a.piece.bufferIndex].buffer,c=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return l.substring(c+e.remainder,c+t.remainder)}let i=e.node,n=this._buffers[i.piece.bufferIndex].buffer,r=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start),s=n.substring(r+e.remainder,r+i.piece.length);for(i=i.next();i!==at;){let a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===t.node){s+=a.substring(l,l+t.remainder);break}else s+=a.substr(l,i.piece.length);i=i.next()}return s}getLinesContent(){let e=[],t=0,i="",n=!1;return this.iterate(this.root,r=>{if(r===at)return!0;let s=r.piece,a=s.length;if(a===0)return!0;let l=this._buffers[s.bufferIndex].buffer,c=this._buffers[s.bufferIndex].lineStarts,d=s.start.line,h=s.end.line,u=c[d]+s.start.column;if(n&&(l.charCodeAt(u)===10&&(u++,a--),e[t++]=i,i="",n=!1,a===0))return!0;if(d===h)return!this._EOLNormalized&&l.charCodeAt(u+a-1)===13?(n=!0,i+=l.substr(u,a-1)):i+=l.substr(u,a),!0;i+=this._EOLNormalized?l.substring(u,Math.max(u,c[d+1]-this._EOLLength)):l.substring(u,c[d+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;for(let f=d+1;f<h;f++)i=this._EOLNormalized?l.substring(c[f],c[f+1]-this._EOLLength):l.substring(c[f],c[f+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;return!this._EOLNormalized&&l.charCodeAt(c[h]+s.end.column-1)===13?(n=!0,s.end.column===0?t--:i=l.substr(c[h],s.end.column-1)):i=l.substr(c[h],s.end.column),!0}),n&&(e[t++]=i,i=""),e[t++]=i,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(e){if(e.remainder===e.node.piece.length){let t=e.node.next();if(!t)return 0;let i=this._buffers[t.piece.bufferIndex],n=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return i.buffer.charCodeAt(n)}else{let t=this._buffers[e.node.piece.bufferIndex],n=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(n)}}getLineCharCode(e,t){let i=this.nodeAt2(e,t+1);return this._getCharCode(i)}getLineLength(e){if(e===this.getLineCount()){let t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,i,n,r,s,a,l,c,d,h){let u=this._buffers[e.piece.bufferIndex],f=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),p=this.offsetInBuffer(e.piece.bufferIndex,r),b=this.offsetInBuffer(e.piece.bufferIndex,s),v,y={line:0,column:0},w,S;t._wordSeparators?(w=u.buffer.substring(p,b),S=x=>x+p,t.reset(0)):(w=u.buffer,S=x=>x,t.reset(p));do if(v=t.next(w),v){if(S(v.index)>=b)return d;this.positionInBuffer(e,S(v.index)-f,y);let x=this.getLineFeedCnt(e.piece.bufferIndex,r,y),k=y.line===r.line?y.column-r.column+n:y.column+1,R=k+v[0].length;if(h[d++]=Hf(new D(i+x,k,i+x,R),v,l),S(v.index)+v[0].length>=b||d>=c)return d}while(v);return d}findMatchesLineByLine(e,t,i,n){let r=[],s=0,a=new Zh(t.wordSeparators,t.regex),l=this.nodeAt2(e.startLineNumber,e.startColumn);if(l===null)return[];let c=this.nodeAt2(e.endLineNumber,e.endColumn);if(c===null)return[];let d=this.positionInBuffer(l.node,l.remainder),h=this.positionInBuffer(c.node,c.remainder);if(l.node===c.node)return this.findMatchesInNode(l.node,a,e.startLineNumber,e.startColumn,d,h,t,i,n,s,r),r;let u=e.startLineNumber,f=l.node;for(;f!==c.node;){let b=this.getLineFeedCnt(f.piece.bufferIndex,d,f.piece.end);if(b>=1){let y=this._buffers[f.piece.bufferIndex].lineStarts,w=this.offsetInBuffer(f.piece.bufferIndex,f.piece.start),S=y[d.line+b],x=u===e.startLineNumber?e.startColumn:1;if(s=this.findMatchesInNode(f,a,u,x,d,this.positionInBuffer(f,S-w),t,i,n,s,r),s>=n)return r;u+=b}let v=u===e.startLineNumber?e.startColumn-1:0;if(u===e.endLineNumber){let y=this.getLineContent(u).substring(v,e.endColumn-1);return s=this._findMatchesInLine(t,a,y,e.endLineNumber,v,s,r,i,n),r}if(s=this._findMatchesInLine(t,a,this.getLineContent(u).substr(v),u,v,s,r,i,n),s>=n)return r;u++,l=this.nodeAt2(u,1),f=l.node,d=this.positionInBuffer(l.node,l.remainder)}if(u===e.endLineNumber){let b=u===e.startLineNumber?e.startColumn-1:0,v=this.getLineContent(u).substring(b,e.endColumn-1);return s=this._findMatchesInLine(t,a,v,e.endLineNumber,b,s,r,i,n),r}let p=u===e.startLineNumber?e.startColumn:1;return s=this.findMatchesInNode(c.node,a,u,p,d,h,t,i,n,s,r),r}_findMatchesInLine(e,t,i,n,r,s,a,l,c){let d=e.wordSeparators;if(!l&&e.simpleSearch){let u=e.simpleSearch,f=u.length,p=i.length,b=-f;for(;(b=i.indexOf(u,b+f))!==-1;)if((!d||iL(d,i,p,b,f))&&(a[s++]=new Wh(new D(n,b+1+r,n,b+1+f+r),null),s>=c))return s;return s}let h;t.reset(0);do if(h=t.next(i),h&&(a[s++]=Hf(new D(n,h.index+1+r,n,h.index+1+h[0].length+r),h,l),s>=c))return s;while(h);return s}insert(e,t,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==at){let{node:n,remainder:r,nodeStartOffset:s}=this.nodeAt(e),a=n.piece,l=a.bufferIndex,c=this.positionInBuffer(n,r);if(n.piece.bufferIndex===0&&a.end.line===this._lastChangeBufferPos.line&&a.end.column===this._lastChangeBufferPos.column&&s+a.length===e&&t.length<gu){this.appendToNode(n,t),this.computeBufferMetadata();return}if(s===e)this.insertContentToNodeLeft(t,n),this._searchCache.validate(e);else if(s+n.piece.length>e){let d=[],h=new hs(a.bufferIndex,c,a.end,this.getLineFeedCnt(a.bufferIndex,c,a.end),this.offsetInBuffer(l,a.end)-this.offsetInBuffer(l,c));if(this.shouldCheckCRLF()&&this.endWithCR(t)&&this.nodeCharCodeAt(n,r)===10){let b={line:h.start.line+1,column:0};h=new hs(h.bufferIndex,b,h.end,this.getLineFeedCnt(h.bufferIndex,b,h.end),h.length-1),t+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(t))if(this.nodeCharCodeAt(n,r-1)===13){let b=this.positionInBuffer(n,r-1);this.deleteNodeTail(n,b),t="\r"+t,n.piece.length===0&&d.push(n)}else this.deleteNodeTail(n,c);else this.deleteNodeTail(n,c);let u=this.createNewPieces(t);h.length>0&&this.rbInsertRight(n,h);let f=n;for(let p=0;p<u.length;p++)f=this.rbInsertRight(f,u[p]);this.deleteNodes(d)}else this.insertContentToNodeRight(t,n)}else{let n=this.createNewPieces(t),r=this.rbInsertLeft(null,n[0]);for(let s=1;s<n.length;s++)r=this.rbInsertRight(r,n[s])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===at)return;let i=this.nodeAt(e),n=this.nodeAt(e+t),r=i.node,s=n.node;if(r===s){let u=this.positionInBuffer(r,i.remainder),f=this.positionInBuffer(r,n.remainder);if(i.nodeStartOffset===e){if(t===r.piece.length){let p=r.next();W1(this,r),this.validateCRLFWithPrevNode(p),this.computeBufferMetadata();return}this.deleteNodeHead(r,f),this._searchCache.validate(e),this.validateCRLFWithPrevNode(r),this.computeBufferMetadata();return}if(i.nodeStartOffset+r.piece.length===e+t){this.deleteNodeTail(r,u),this.validateCRLFWithNextNode(r),this.computeBufferMetadata();return}this.shrinkNode(r,u,f),this.computeBufferMetadata();return}let a=[],l=this.positionInBuffer(r,i.remainder);this.deleteNodeTail(r,l),this._searchCache.validate(e),r.piece.length===0&&a.push(r);let c=this.positionInBuffer(s,n.remainder);this.deleteNodeHead(s,c),s.piece.length===0&&a.push(s);let d=r.next();for(let u=d;u!==at&&u!==s;u=u.next())a.push(u);let h=r.piece.length===0?r.prev():r;this.deleteNodes(a),this.validateCRLFWithNextNode(h),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){let i=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){let s=t.piece,a={line:s.start.line+1,column:0},l=new hs(s.bufferIndex,a,s.end,this.getLineFeedCnt(s.bufferIndex,a,s.end),s.length-1);t.piece=l,e+=`
`,Ud(this,t,-1,-1),t.piece.length===0&&i.push(t)}let n=this.createNewPieces(e),r=this.rbInsertLeft(t,n[n.length-1]);for(let s=n.length-2;s>=0;s--)r=this.rbInsertLeft(r,n[s]);this.validateCRLFWithPrevNode(r),this.deleteNodes(i)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+=`
`);let i=this.createNewPieces(e),n=this.rbInsertRight(t,i[0]),r=n;for(let s=1;s<i.length;s++)r=this.rbInsertRight(r,i[s]);this.validateCRLFWithPrevNode(n)}positionInBuffer(e,t,i){let n=e.piece,r=e.piece.bufferIndex,s=this._buffers[r].lineStarts,l=s[n.start.line]+n.start.column+t,c=n.start.line,d=n.end.line,h=0,u=0,f=0;for(;c<=d&&(h=c+(d-c)/2|0,f=s[h],h!==d);)if(u=s[h+1],l<f)d=h-1;else if(l>=u)c=h+1;else break;return i?(i.line=h,i.column=l-f,null):{line:h,column:l-f}}getLineFeedCnt(e,t,i){if(i.column===0)return i.line-t.line;let n=this._buffers[e].lineStarts;if(i.line===n.length-1)return i.line-t.line;let r=n[i.line+1],s=n[i.line]+i.column;if(r>s+1)return i.line-t.line;let a=s-1;return this._buffers[e].buffer.charCodeAt(a)===13?i.line-t.line+1:i.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)W1(this,e[t])}createNewPieces(e){if(e.length>gu){let d=[];for(;e.length>gu;){let u=e.charCodeAt(gu-1),f;u===13||u>=55296&&u<=56319?(f=e.substring(0,gu-1),e=e.substring(gu-1)):(f=e.substring(0,gu),e=e.substring(gu));let p=zd(f);d.push(new hs(this._buffers.length,{line:0,column:0},{line:p.length-1,column:f.length-p[p.length-1]},p.length-1,f.length)),this._buffers.push(new mu(f,p))}let h=zd(e);return d.push(new hs(this._buffers.length,{line:0,column:0},{line:h.length-1,column:e.length-h[h.length-1]},h.length-1,e.length)),this._buffers.push(new mu(e,h)),d}let t=this._buffers[0].buffer.length,i=zd(e,!1),n=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&t!==0&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},n=this._lastChangeBufferPos;for(let d=0;d<i.length;d++)i[d]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(t!==0)for(let d=0;d<i.length;d++)i[d]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=e}let r=this._buffers[0].buffer.length,s=this._buffers[0].lineStarts.length-1,a=r-this._buffers[0].lineStarts[s],l={line:s,column:a},c=new hs(0,n,l,this.getLineFeedCnt(0,n,l),r-t);return this._lastChangeBufferPos=l,[c]}getLineRawContent(e,t=0){let i=this.root,n="",r=this._searchCache.get2(e);if(r){i=r.node;let s=this.getAccumulatedValue(i,e-r.nodeStartLineNumber-1),a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(r.nodeStartLineNumber+i.piece.lineFeedCnt===e)n=a.substring(l+s,l+i.piece.length);else{let c=this.getAccumulatedValue(i,e-r.nodeStartLineNumber);return a.substring(l+s,l+c-t)}}else{let s=0,a=e;for(;i!==at;)if(i.left!==at&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){let l=this.getAccumulatedValue(i,e-i.lf_left-2),c=this.getAccumulatedValue(i,e-i.lf_left-1),d=this._buffers[i.piece.bufferIndex].buffer,h=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return s+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:s,nodeStartLineNumber:a-(e-1-i.lf_left)}),d.substring(h+l,h+c-t)}else if(i.lf_left+i.piece.lineFeedCnt===e-1){let l=this.getAccumulatedValue(i,e-i.lf_left-2),c=this._buffers[i.piece.bufferIndex].buffer,d=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n=c.substring(d+l,d+i.piece.length);break}else e-=i.lf_left+i.piece.lineFeedCnt,s+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==at;){let s=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){let a=this.getAccumulatedValue(i,0),l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n+=s.substring(l,l+a-t),n}else{let a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n+=s.substr(a,i.piece.length)}i=i.next()}return n}computeBufferMetadata(){let e=this.root,t=1,i=0;for(;e!==at;)t+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=i,this._searchCache.validate(this._length)}getIndexOf(e,t){let i=e.piece,n=this.positionInBuffer(e,t),r=n.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t){let s=this.getLineFeedCnt(e.piece.bufferIndex,i.start,n);if(s!==r)return{index:s,remainder:0}}return{index:r,remainder:n.column}}getAccumulatedValue(e,t){if(t<0)return 0;let i=e.piece,n=this._buffers[i.bufferIndex].lineStarts,r=i.start.line+t+1;return r>i.end.line?n[i.end.line]+i.end.column-n[i.start.line]-i.start.column:n[r]-n[i.start.line]-i.start.column}deleteNodeTail(e,t){let i=e.piece,n=i.lineFeedCnt,r=this.offsetInBuffer(i.bufferIndex,i.end),s=t,a=this.offsetInBuffer(i.bufferIndex,s),l=this.getLineFeedCnt(i.bufferIndex,i.start,s),c=l-n,d=a-r,h=i.length+d;e.piece=new hs(i.bufferIndex,i.start,s,l,h),Ud(this,e,d,c)}deleteNodeHead(e,t){let i=e.piece,n=i.lineFeedCnt,r=this.offsetInBuffer(i.bufferIndex,i.start),s=t,a=this.getLineFeedCnt(i.bufferIndex,s,i.end),l=this.offsetInBuffer(i.bufferIndex,s),c=a-n,d=r-l,h=i.length+d;e.piece=new hs(i.bufferIndex,s,i.end,a,h),Ud(this,e,d,c)}shrinkNode(e,t,i){let n=e.piece,r=n.start,s=n.end,a=n.length,l=n.lineFeedCnt,c=t,d=this.getLineFeedCnt(n.bufferIndex,n.start,c),h=this.offsetInBuffer(n.bufferIndex,t)-this.offsetInBuffer(n.bufferIndex,r);e.piece=new hs(n.bufferIndex,n.start,c,d,h),Ud(this,e,h-a,d-l);let u=new hs(n.bufferIndex,i,s,this.getLineFeedCnt(n.bufferIndex,i,s),this.offsetInBuffer(n.bufferIndex,s)-this.offsetInBuffer(n.bufferIndex,i)),f=this.rbInsertRight(e,u);this.validateCRLFWithPrevNode(f)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+=`
`);let i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),n=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;let r=zd(t,!1);for(let f=0;f<r.length;f++)r[f]+=n;if(i){let f=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:n-f}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1));let s=this._buffers[0].lineStarts.length-1,a=this._buffers[0].buffer.length-this._buffers[0].lineStarts[s],l={line:s,column:a},c=e.piece.length+t.length,d=e.piece.lineFeedCnt,h=this.getLineFeedCnt(0,e.piece.start,l),u=h-d;e.piece=new hs(e.piece.bufferIndex,e.piece.start,l,h,c),this._lastChangeBufferPos=l,Ud(this,e,t.length,u)}nodeAt(e){let t=this.root,i=this._searchCache.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let n=0;for(;t!==at;)if(t.size_left>e)t=t.left;else if(t.size_left+t.piece.length>=e){n+=t.size_left;let r={node:t,remainder:e-t.size_left,nodeStartOffset:n};return this._searchCache.set(r),r}else e-=t.size_left+t.piece.length,n+=t.size_left+t.piece.length,t=t.right;return null}nodeAt2(e,t){let i=this.root,n=0;for(;i!==at;)if(i.left!==at&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){let r=this.getAccumulatedValue(i,e-i.lf_left-2),s=this.getAccumulatedValue(i,e-i.lf_left-1);return n+=i.size_left,{node:i,remainder:Math.min(r+t-1,s),nodeStartOffset:n}}else if(i.lf_left+i.piece.lineFeedCnt===e-1){let r=this.getAccumulatedValue(i,e-i.lf_left-2);if(r+t-1<=i.piece.length)return{node:i,remainder:r+t-1,nodeStartOffset:n};t-=i.piece.length-r;break}else e-=i.lf_left+i.piece.lineFeedCnt,n+=i.size_left+i.piece.length,i=i.right;for(i=i.next();i!==at;){if(i.piece.lineFeedCnt>0){let r=this.getAccumulatedValue(i,0),s=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,r),nodeStartOffset:s}}else if(i.piece.length>=t-1){let r=this.offsetOfNode(i);return{node:i,remainder:t-1,nodeStartOffset:r}}else t-=i.piece.length;i=i.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;let i=this._buffers[e.piece.bufferIndex],n=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return i.buffer.charCodeAt(n)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(e){if(typeof e=="string")return e.charCodeAt(0)===10;if(e===at||e.piece.lineFeedCnt===0)return!1;let t=e.piece,i=this._buffers[t.bufferIndex].lineStarts,n=t.start.line,r=i[n]+t.start.column;return n===i.length-1||i[n+1]>r+1?!1:this._buffers[t.bufferIndex].buffer.charCodeAt(r)===10}endWithCR(e){return typeof e=="string"?e.charCodeAt(e.length-1)===13:e===at||e.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(e,e.piece.length-1)===13}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){let t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){let i=[],n=this._buffers[e.piece.bufferIndex].lineStarts,r;e.piece.end.column===0?r={line:e.piece.end.line-1,column:n[e.piece.end.line]-n[e.piece.end.line-1]-1}:r={line:e.piece.end.line,column:e.piece.end.column-1};let s=e.piece.length-1,a=e.piece.lineFeedCnt-1;e.piece=new hs(e.piece.bufferIndex,e.piece.start,r,a,s),Ud(this,e,-1,-1),e.piece.length===0&&i.push(e);let l={line:t.piece.start.line+1,column:0},c=t.piece.length-1,d=this.getLineFeedCnt(t.piece.bufferIndex,l,t.piece.end);t.piece=new hs(t.piece.bufferIndex,l,t.piece.end,d,c),Ud(this,t,-1,-1),t.piece.length===0&&i.push(t);let h=this.createNewPieces(`\r
`);this.rbInsertRight(e,h[0]);for(let u=0;u<i.length;u++)W1(this,i[u])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let i=t.next();if(this.startWithLF(i)){if(e+=`
`,i.piece.length===1)W1(this,i);else{let n=i.piece,r={line:n.start.line+1,column:0},s=n.length-1,a=this.getLineFeedCnt(n.bufferIndex,r,n.end);i.piece=new hs(n.bufferIndex,r,n.end,a,s),Ud(this,i,-1,-1)}return!0}}return!1}iterate(e,t){if(e===at)return t(at);let i=this.iterate(e.left,t);return i&&t(e)&&this.iterate(e.right,t)}getNodeContent(e){if(e===at)return"";let t=this._buffers[e.piece.bufferIndex],i,n=e.piece,r=this.offsetInBuffer(n.bufferIndex,n.start),s=this.offsetInBuffer(n.bufferIndex,n.end);return i=t.buffer.substring(r,s),i}getPieceContent(e){let t=this._buffers[e.bufferIndex],i=this.offsetInBuffer(e.bufferIndex,e.start),n=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(i,n)}rbInsertRight(e,t){let i=new F1(t,1);if(i.left=at,i.right=at,i.parent=at,i.size_left=0,i.lf_left=0,this.root===at)this.root=i,i.color=0;else if(e.right===at)e.right=i,i.parent=e;else{let r=gk(e.right);r.left=i,i.parent=r}return xA(this,i),i}rbInsertLeft(e,t){let i=new F1(t,1);if(i.left=at,i.right=at,i.parent=at,i.size_left=0,i.lf_left=0,this.root===at)this.root=i,i.color=0;else if(e.left===at)e.left=i,i.parent=e;else{let n=CA(e.left);n.right=i,i.parent=n}return xA(this,i),i}}});function Mc(o){let e=0,t=0,i=0,n=0;for(let r=0,s=o.length;r<s;r++){let a=o.charCodeAt(r);a===13?(e===0&&(t=r),e++,r+1<s&&o.charCodeAt(r+1)===10?(n|=2,r++):n|=3,i=r+1):a===10&&(n|=1,e===0&&(t=r),e++,i=r+1)}return e===0&&(t=o.length),[e,t,o.length-i,n]}function CH(o){return(o<<0|0<<8|0<<11|1<<14|2<<23)>>>0}function _u(o){return o instanceof Uint32Array?o:new Uint32Array(o)}var pu,z1,Mv,kA,Av,yH,V1,js,Fv=ge(()=>{Ut();$f();ot();ve();Tt();pu=new Uint32Array(0).buffer,z1=class{constructor(){this.tokens=[]}add(e,t){if(this.tokens.length>0){let i=this.tokens[this.tokens.length-1];if(i.startLineNumber+i.tokens.length-1+1===e){i.tokens.push(t);return}}this.tokens.push(new yH(e,[t]))}},Mv=class{constructor(e){this._tokens=e,this._tokenCount=e.length/4}toString(e){let t=[];for(let i=0;i<this._tokenCount;i++)t.push(`(${this._getDeltaLine(i)+e},${this._getStartCharacter(i)}-${this._getEndCharacter(i)})`);return`[${t.join(",")}]`}getMaxDeltaLine(){let e=this._getTokenCount();return e===0?-1:this._getDeltaLine(e-1)}getRange(){let e=this._getTokenCount();if(e===0)return null;let t=this._getStartCharacter(0),i=this._getDeltaLine(e-1),n=this._getEndCharacter(e-1);return new D(0,t+1,i,n+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(e){return this._tokens[4*e]}_getStartCharacter(e){return this._tokens[4*e+1]}_getEndCharacter(e){return this._tokens[4*e+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(e){let t=0,i=this._getTokenCount()-1;for(;t<i;){let n=t+Math.floor((i-t)/2),r=this._getDeltaLine(n);if(r<e)t=n+1;else if(r>e)i=n-1;else{let s=n;for(;s>t&&this._getDeltaLine(s-1)===e;)s--;let a=n;for(;a<i&&this._getDeltaLine(a+1)===e;)a++;return new kA(this._tokens.subarray(4*s,4*a+4))}}return this._getDeltaLine(t)===e?new kA(this._tokens.subarray(4*t,4*t+4)):null}clear(){this._tokenCount=0}removeTokens(e,t,i,n){let r=this._tokens,s=this._tokenCount,a=0,l=!1,c=0;for(let d=0;d<s;d++){let h=4*d,u=r[h],f=r[h+1],p=r[h+2],b=r[h+3];if((u>e||u===e&&p>=t)&&(u<i||u===i&&f<=n))l=!0;else{if(a===0&&(c=u),l){let v=4*a;r[v]=u-c,r[v+1]=f,r[v+2]=p,r[v+3]=b}a++}}return this._tokenCount=a,c}split(e,t,i,n){let r=this._tokens,s=this._tokenCount,a=[],l=[],c=a,d=0,h=0;for(let u=0;u<s;u++){let f=4*u,p=r[f],b=r[f+1],v=r[f+2],y=r[f+3];if(p>e||p===e&&v>=t){if(p<i||p===i&&b<=n)continue;c!==l&&(c=l,d=0,h=p)}c[d++]=p-h,c[d++]=b,c[d++]=v,c[d++]=y}return[new Mv(new Uint32Array(a)),new Mv(new Uint32Array(l)),h]}acceptDeleteRange(e,t,i,n,r){let s=this._tokens,a=this._tokenCount,l=n-t,c=0,d=!1;for(let h=0;h<a;h++){let u=4*h,f=s[u],p=s[u+1],b=s[u+2],v=s[u+3];if(f<t||f===t&&b<=i){c++;continue}else if(f===t&&p<i)f===n&&b>r?b-=r-i:b=i;else if(f===t&&p===i)if(f===n&&b>r)b-=r-i;else{d=!0;continue}else if(f<n||f===n&&p<r)if(f===n&&b>r)f===t?(p=i,b=p+(b-r)):(p=0,b=p+(b-r));else{d=!0;continue}else if(f>n){if(l===0&&!d){c=a;break}f-=l}else if(f===n&&p>=r)e&&f===0&&(p+=e,b+=e),f-=l,p-=r-i,b-=r-i;else throw new Error("Not possible!");let y=4*c;s[y]=f,s[y+1]=p,s[y+2]=b,s[y+3]=v,c++}this._tokenCount=c}acceptInsertText(e,t,i,n,r,s){let a=i===0&&n===1&&(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122),l=this._tokens,c=this._tokenCount;for(let d=0;d<c;d++){let h=4*d,u=l[h],f=l[h+1],p=l[h+2];if(!(u<e||u===e&&p<t)){if(u===e&&p===t)if(a)p+=1;else continue;else if(u===e&&f<t&&t<p)i===0?p+=n:p=t;else{if(u===e&&f===t&&a)continue;if(u===e)if(u+=i,i===0)f+=n,p+=n;else{let b=p-f;f=r+(f-t),p=f+b}else u+=i}l[h]=u,l[h+1]=f,l[h+2]=p}}}},kA=class{constructor(e){this._tokens=e}getCount(){return this._tokens.length/4}getStartCharacter(e){return this._tokens[4*e+1]}getEndCharacter(e){return this._tokens[4*e+2]}getMetadata(e){return this._tokens[4*e+3]}},Av=class{constructor(e,t){this.startLineNumber=e,this.tokens=t,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(e){return this.startLineNumber<=e&&e<=this.endLineNumber?this.tokens.getLineTokens(e-this.startLineNumber):null}getRange(){let e=this.tokens.getRange();return e&&new D(this.startLineNumber+e.startLineNumber,e.startColumn,this.startLineNumber+e.endLineNumber,e.endColumn)}removeTokens(e){let t=e.startLineNumber-this.startLineNumber,i=e.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(t,e.startColumn-1,i,e.endColumn-1),this._updateEndLineNumber()}split(e){let t=e.startLineNumber-this.startLineNumber,i=e.endLineNumber-this.startLineNumber,[n,r,s]=this.tokens.split(t,e.startColumn-1,i,e.endColumn-1);return[new Av(this.startLineNumber,n),new Av(this.startLineNumber+s,r)]}applyEdit(e,t){let[i,n,r]=Mc(t);this.acceptEdit(e,i,n,r,t.length>0?t.charCodeAt(0):0)}acceptEdit(e,t,i,n,r){this._acceptDeleteRange(e),this._acceptInsertText(new H(e.startLineNumber,e.startColumn),t,i,n,r),this._updateEndLineNumber()}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return;let t=e.startLineNumber-this.startLineNumber,i=e.endLineNumber-this.startLineNumber;if(i<0){let r=i-t;this.startLineNumber-=r;return}let n=this.tokens.getMaxDeltaLine();if(!(t>=n+1)){if(t<0&&i>=n+1){this.startLineNumber=0,this.tokens.clear();return}if(t<0){let r=-t;this.startLineNumber-=r,this.tokens.acceptDeleteRange(e.startColumn-1,0,0,i,e.endColumn-1)}else this.tokens.acceptDeleteRange(0,t,e.startColumn-1,i,e.endColumn-1)}}_acceptInsertText(e,t,i,n,r){if(t===0&&i===0)return;let s=e.lineNumber-this.startLineNumber;if(s<0){this.startLineNumber+=t;return}let a=this.tokens.getMaxDeltaLine();s>=a+1||this.tokens.acceptInsertText(s,e.column-1,t,i,n,r)}},yH=class{constructor(e,t){this.startLineNumber=e,this.tokens=t}};V1=class{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let i=e;if(t.length>0){let r=t[0].getRange(),s=t[t.length-1].getRange();if(!r||!s)return e;i=e.plusRange(r).plusRange(s)}let n=null;for(let r=0,s=this._pieces.length;r<s;r++){let a=this._pieces[r];if(a.endLineNumber<i.startLineNumber)continue;if(a.startLineNumber>i.endLineNumber){n=n||{index:r};break}if(a.removeTokens(i),a.isEmpty()){this._pieces.splice(r,1),r--,s--;continue}if(a.endLineNumber<i.startLineNumber)continue;if(a.startLineNumber>i.endLineNumber){n=n||{index:r};continue}let[l,c]=a.split(i);if(l.isEmpty()){n=n||{index:r};continue}c.isEmpty()||(this._pieces.splice(r,1,l,c),r++,s++,n=n||{index:r})}return n=n||{index:this._pieces.length},t.length>0&&(this._pieces=bf(this._pieces,n.index,t)),i}isComplete(){return this._isComplete}addSemanticTokens(e,t){let i=this._pieces;if(i.length===0)return t;let n=V1._findFirstPieceWithLine(i,e),r=i[n].getLineTokens(e);if(!r)return t;let s=t.getCount(),a=r.getCount(),l=0,c=[],d=0,h=0,u=(f,p)=>{f!==h&&(h=f,c[d++]=f,c[d++]=p)};for(let f=0;f<a;f++){let p=r.getStartCharacter(f),b=r.getEndCharacter(f),v=r.getMetadata(f),y=((v&1?2048:0)|(v&2?4096:0)|(v&4?8192:0)|(v&8?8372224:0)|(v&16?4286578688:0))>>>0,w=~y>>>0;for(;l<s&&t.getEndOffset(l)<=p;)u(t.getEndOffset(l),t.getMetadata(l)),l++;for(l<s&&t.getStartOffset(l)<p&&u(p,t.getMetadata(l));l<s&&t.getEndOffset(l)<b;)u(t.getEndOffset(l),t.getMetadata(l)&w|v&y),l++;if(l<s)u(b,t.getMetadata(l)&w|v&y),t.getEndOffset(l)===b&&l++;else{let S=Math.min(Math.max(0,l-1),s-1);u(b,t.getMetadata(S)&w|v&y)}}for(;l<s;)u(t.getEndOffset(l),t.getMetadata(l)),l++;return new hn(new Uint32Array(c),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let i=0,n=e.length-1;for(;i<n;){let r=i+Math.floor((n-i)/2);if(e[r].endLineNumber<t)i=r+1;else if(e[r].startLineNumber>t)n=r-1;else{for(;r>i&&e[r-1].startLineNumber<=t&&t<=e[r-1].endLineNumber;)r--;return r}}return i}acceptEdit(e,t,i,n,r){for(let s of this._pieces)s.acceptEdit(e,t,i,n,r)}},js=class{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}getTokens(e,t,i){let n=null;if(t<this._len&&(n=this._lineTokens[t]),n!==null&&n!==pu)return new hn(_u(n),i,this._languageIdCodec);let r=new Uint32Array(2);return r[0]=i.length,r[1]=CH(this._languageIdCodec.encodeLanguageId(e)),new hn(r,i,this._languageIdCodec)}static _massageTokens(e,t,i){let n=i?_u(i):null;if(t===0){let r=!1;if(n&&n.length>1&&(r=sr.getLanguageId(n[1])!==e),!r)return pu}if(!n||n.length===0){let r=new Uint32Array(2);return r[0]=t,r[1]=CH(e),r.buffer}return n[n.length-2]=t,n.byteOffset===0&&n.byteLength===n.buffer.byteLength?n.buffer:n}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(t===0)return;let i=[];for(let n=0;n<t;n++)i[n]=null;this._lineTokens=bf(this._lineTokens,e,i),this._len+=t}setTokens(e,t,i,n,r){let s=js._massageTokens(this._languageIdCodec.encodeLanguageId(e),i,n);this._ensureLine(t);let a=this._lineTokens[t];return this._lineTokens[t]=s,r?!js._equals(a,s):!1}static _equals(e,t){if(!e||!t)return!e&&!t;let i=_u(e),n=_u(t);if(i.length!==n.length)return!1;for(let r=0,s=i.length;r<s;r++)if(i[r]!==n[r])return!1;return!0}acceptEdit(e,t,i){this._acceptDeleteRange(e),this._acceptInsertText(new H(e.startLineNumber,e.startColumn),t,i)}_acceptDeleteRange(e){let t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._lineTokens[t]=js._delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1);return}this._lineTokens[t]=js._deleteEnding(this._lineTokens[t],e.startColumn-1);let i=e.endLineNumber-1,n=null;i<this._len&&(n=js._deleteBeginning(this._lineTokens[i],e.endColumn-1)),this._lineTokens[t]=js._append(this._lineTokens[t],n),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,i){if(t===0&&i===0)return;let n=e.lineNumber-1;if(!(n>=this._len)){if(t===0){this._lineTokens[n]=js._insert(this._lineTokens[n],e.column-1,i);return}this._lineTokens[n]=js._deleteEnding(this._lineTokens[n],e.column-1),this._lineTokens[n]=js._insert(this._lineTokens[n],e.column-1,i),this._insertLines(e.lineNumber,t)}}static _deleteBeginning(e,t){return e===null||e===pu?e:js._delete(e,0,t)}static _deleteEnding(e,t){if(e===null||e===pu)return e;let i=_u(e),n=i[i.length-2];return js._delete(e,t,n)}static _delete(e,t,i){if(e===null||e===pu||t===i)return e;let n=_u(e),r=n.length>>>1;if(t===0&&n[n.length-2]===i)return pu;let s=hn.findIndexInTokensArray(n,t),a=s>0?n[s-1<<1]:0,l=n[s<<1];if(i<l){let f=i-t;for(let p=s;p<r;p++)n[p<<1]-=f;return e}let c,d;a!==t?(n[s<<1]=t,c=s+1<<1,d=t):(c=s<<1,d=a);let h=i-t;for(let f=s+1;f<r;f++){let p=n[f<<1]-h;p>d&&(n[c++]=p,n[c++]=n[(f<<1)+1],d=p)}if(c===n.length)return e;let u=new Uint32Array(c);return u.set(n.subarray(0,c),0),u.buffer}static _append(e,t){if(t===pu)return e;if(e===pu)return t;if(e===null)return e;if(t===null)return null;let i=_u(e),n=_u(t),r=n.length>>>1,s=new Uint32Array(i.length+n.length);s.set(i,0);let a=i.length,l=i[i.length-2];for(let c=0;c<r;c++)s[a++]=n[c<<1]+l,s[a++]=n[(c<<1)+1];return s.buffer}static _insert(e,t,i){if(e===null||e===pu)return e;let n=_u(e),r=n.length>>>1,s=hn.findIndexInTokensArray(n,t);s>0&&n[s-1<<1]===t&&s--;for(let a=s;a<r;a++)n[a<<1]+=i;return e}}});var bu,IA=ge(()=>{Se();je();ve();Os();LA();Fv();mA();ne();bu=class extends ${constructor(e,t,i,n,r,s,a){super();this._onDidChangeContent=this._register(new F),this._BOM=t,this._mightContainNonBasicASCII=!s,this._mightContainRTL=n,this._mightContainUnusualLineTerminators=r,this._pieceTree=new DA(e,i,a)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){let i=e+t,n=this.getPositionAt(e),r=this.getPositionAt(i);return new D(n.lineNumber,n.column,r.lineNumber,r.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";let i=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,i)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;let i=this.getOffsetAt(e.startLineNumber,e.startColumn);return this.getOffsetAt(e.endLineNumber,e.endColumn)-i}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let i=0,n=e.startLineNumber,r=e.endLineNumber;for(let s=n;s<=r;s++){let a=this.getLineContent(s),l=s===n?e.startColumn-1:0,c=s===r?e.endColumn-1:a.length;for(let d=l;d<c;d++)Xi(a.charCodeAt(d))?(i=i+1,d=d+1):i=i+1}return i+=this._getEndOfLine(t).length*(r-n),i}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){let t=wn(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){let t=Sr(this.getLineContent(e));return t===-1?0:t+2}_getEndOfLine(e){switch(e){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,i){let n=this._mightContainRTL,r=this._mightContainUnusualLineTerminators,s=this._mightContainNonBasicASCII,a=!0,l=[];for(let b=0;b<e.length;b++){let v=e[b];a&&v._isTracked&&(a=!1);let y=v.range;if(v.text){let R=!0;s||(R=!Tb(v.text),s=R),!n&&R&&(n=Af(v.text)),!r&&R&&(r=AD(v.text))}let w="",S=0,x=0,k=0;if(v.text){let R;[S,x,k,R]=Mc(v.text);let O=this.getEOL();R===0||R===(O===`\r
`?2:1)?w=v.text:w=v.text.replace(/\r\n|\r|\n/g,O)}l[b]={sortIndex:b,identifier:v.identifier||null,range:y,rangeOffset:this.getOffsetAt(y.startLineNumber,y.startColumn),rangeLength:this.getValueLengthInRange(y),text:w,eolCount:S,firstLineLength:x,lastLineLength:k,forceMoveMarkers:Boolean(v.forceMoveMarkers),isAutoWhitespaceEdit:v.isAutoWhitespaceEdit||!1}}l.sort(bu._sortOpsAscending);let c=!1;for(let b=0,v=l.length-1;b<v;b++){let y=l[b].range.getEndPosition(),w=l[b+1].range.getStartPosition();if(w.isBeforeOrEqual(y)){if(w.isBefore(y))throw new Error("Overlapping ranges are not allowed!");c=!0}}a&&(l=this._reduceOperations(l));let d=i||t?bu._getInverseEditRanges(l):[],h=[];if(t)for(let b=0;b<l.length;b++){let v=l[b],y=d[b];if(v.isAutoWhitespaceEdit&&v.range.isEmpty())for(let w=y.startLineNumber;w<=y.endLineNumber;w++){let S="";w===y.startLineNumber&&(S=this.getLineContent(v.range.startLineNumber),wn(S)!==-1)||h.push({lineNumber:w,oldContent:S})}}let u=null;if(i){let b=0;u=[];for(let v=0;v<l.length;v++){let y=l[v],w=d[v],S=this.getValueInRange(y.range),x=y.rangeOffset+b;b+=y.text.length-S.length,u[v]={sortIndex:y.sortIndex,identifier:y.identifier,range:w,text:S,textChange:new ao(y.rangeOffset,S,x,y.text)}}c||u.sort((v,y)=>v.sortIndex-y.sortIndex)}this._mightContainRTL=n,this._mightContainUnusualLineTerminators=r,this._mightContainNonBasicASCII=s;let f=this._doApplyEdits(l),p=null;if(t&&h.length>0){h.sort((b,v)=>v.lineNumber-b.lineNumber),p=[];for(let b=0,v=h.length;b<v;b++){let y=h[b].lineNumber;if(b>0&&h[b-1].lineNumber===y)continue;let w=h[b].oldContent,S=this.getLineContent(y);S.length===0||S===w||wn(S)!==-1||p.push(y)}}return this._onDidChangeContent.fire(),new mR(u,f,p)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1,i=e[0].range,n=e[e.length-1].range,r=new D(i.startLineNumber,i.startColumn,n.endLineNumber,n.endColumn),s=i.startLineNumber,a=i.startColumn,l=[];for(let f=0,p=e.length;f<p;f++){let b=e[f],v=b.range;t=t||b.forceMoveMarkers,l.push(this.getValueInRange(new D(s,a,v.startLineNumber,v.startColumn))),b.text.length>0&&l.push(b.text),s=v.endLineNumber,a=v.endColumn}let c=l.join(""),[d,h,u]=Mc(c);return{sortIndex:0,identifier:e[0].identifier,range:r,rangeOffset:this.getOffsetAt(r.startLineNumber,r.startColumn),rangeLength:this.getValueLengthInRange(r,0),text:c,eolCount:d,firstLineLength:h,lastLineLength:u,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(bu._sortOpsDescending);let t=[];for(let i=0;i<e.length;i++){let n=e[i],r=n.range.startLineNumber,s=n.range.startColumn,a=n.range.endLineNumber,l=n.range.endColumn;if(r===a&&s===l&&n.text.length===0)continue;n.text?(this._pieceTree.delete(n.rangeOffset,n.rangeLength),this._pieceTree.insert(n.rangeOffset,n.text,!0)):this._pieceTree.delete(n.rangeOffset,n.rangeLength);let c=new D(r,s,a,l);t.push({range:c,rangeLength:n.rangeLength,text:n.text,rangeOffset:n.rangeOffset,forceMoveMarkers:n.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,i,n){return this._pieceTree.findMatchesLineByLine(e,t,i,n)}static _getInverseEditRanges(e){let t=[],i=0,n=0,r=null;for(let s=0,a=e.length;s<a;s++){let l=e[s],c,d;r?r.range.endLineNumber===l.range.startLineNumber?(c=i,d=n+(l.range.startColumn-r.range.endColumn)):(c=i+(l.range.startLineNumber-r.range.endLineNumber),d=l.range.startColumn):(c=l.range.startLineNumber,d=l.range.startColumn);let h;if(l.text.length>0){let u=l.eolCount+1;u===1?h=new D(c,d,c,d+l.firstLineLength):h=new D(c,d,c+u-1,l.lastLineLength+1)}else h=new D(c,d,c,d);i=h.endLineNumber,n=h.endColumn,t.push(h),r=l}return t}static _sortOpsAscending(e,t){let i=D.compareRangesUsingEnds(e.range,t.range);return i===0?e.sortIndex-t.sortIndex:i}static _sortOpsDescending(e,t){let i=D.compareRangesUsingEnds(e.range,t.range);return i===0?t.sortIndex-e.sortIndex:-i}}});var SH,OA,EH=ge(()=>{je();LA();IA();SH=class{constructor(e,t,i,n,r,s,a,l,c){this._chunks=e,this._bom=t,this._cr=i,this._lf=n,this._crlf=r,this._containsRTL=s,this._containsUnusualLineTerminators=a,this._isBasicASCII=l,this._normalizeEOL=c}_getEOL(e){let t=this._cr+this._lf+this._crlf,i=this._cr+this._crlf;return t===0?e===1?`
`:`\r
`:i>t/2?`\r
`:`
`}create(e){let t=this._getEOL(e),i=this._chunks;if(this._normalizeEOL&&(t===`\r
`&&(this._cr>0||this._lf>0)||t===`
`&&(this._cr>0||this._crlf>0)))for(let r=0,s=i.length;r<s;r++){let a=i[r].buffer.replace(/\r\n|\r|\n/g,t),l=zd(a);i[r]=new mu(a,l)}let n=new bu(i,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:n,disposable:n}}},OA=class{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(e.length===0)return;this.chunks.length===0&&Pb(e)&&(this.BOM=x6,e=e.substr(1));let t=e.charCodeAt(e.length-1);t===13||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){!t&&e.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){let t=bH(this._tmpLineStarts,e);this.chunks.push(new mu(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,this.isBasicASCII&&(this.isBasicASCII=t.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=Af(e)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=AD(e))}finish(e=!0){return this._finish(),new SH(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);let t=zd(e.buffer);e.lineStarts=t,this._previousChar===13&&this.cr++}}}});var TA,zr,mk,NA,PA,RA,Vd,H1,Bv,rg=ge(()=>{TA=class{constructor(){this.changeType=1}},zr=class{constructor(e,t,i,n,r){this.ownerId=e,this.lineNumber=t,this.column=i,this.options=n,this.order=r}static applyInjectedText(e,t){if(!t||t.length===0)return e;let i="",n=0;for(let r of t)i+=e.substring(n,r.column-1),n=r.column-1,i+=r.options.content;return i+=e.substring(n),i}static fromDecorations(e){let t=[];for(let i of e)i.options.before&&i.options.before.content.length>0&&t.push(new zr(i.ownerId,i.range.startLineNumber,i.range.startColumn,i.options.before,0)),i.options.after&&i.options.after.content.length>0&&t.push(new zr(i.ownerId,i.range.endLineNumber,i.range.endColumn,i.options.after,1));return t.sort((i,n)=>i.lineNumber===n.lineNumber?i.column===n.column?i.order-n.order:i.column-n.column:i.lineNumber-n.lineNumber),t}},mk=class{constructor(e,t,i){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=i}},NA=class{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}},PA=class{constructor(e,t,i,n){this.changeType=4,this.injectedTexts=n,this.fromLineNumber=e,this.toLineNumber=t,this.detail=i}},RA=class{constructor(){this.changeType=5}},Vd=class{constructor(e,t,i,n){this.changes=e,this.versionId=t,this.isUndoing=i,this.isRedoing=n,this.resultingSelection=null}containsEvent(e){for(let t=0,i=this.changes.length;t<i;t++)if(this.changes[t].changeType===e)return!0;return!1}static merge(e,t){let i=[].concat(e.changes).concat(t.changes),n=t.versionId,r=e.isUndoing||t.isUndoing,s=e.isRedoing||t.isRedoing;return new Vd(i,n,r,s)}},H1=class{constructor(e){this.changes=e}},Bv=class{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){let t=Vd.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),i=Bv._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new Bv(t,i)}static _mergeChangeEvents(e,t){let i=[].concat(e.changes).concat(t.changes),n=t.eol,r=t.versionId,s=e.isUndoing||t.isUndoing,a=e.isRedoing||t.isRedoing,l=e.isFlush||t.isFlush;return{changes:i,eol:n,versionId:r,isUndoing:s,isRedoing:a,isFlush:l}}}});function Xde(o){let e=o.getLanguageId(),t=o.isTooLargeForTokenization()?null:Li.get(e),i=null;if(t)try{i=t.getInitialState()}catch(n){ye(n),t=null}return[t,i]}function pk(o,e,t,i,n,r){let s=null;if(t)try{s=t.tokenize2(i,n,r.clone(),0)}catch(a){ye(a)}return s||(s=qD(o.encodeLanguageId(e),i,r,0)),hn.convertToEndOffset(s.tokens,i.length),s}var xH,MA,DH=ge(()=>{Ut();st();$f();ot();Tt();Uf();ne();Sf();Fv();wt();xH=class{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(e){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,e&&this._setBeginState(0,e)}flush(e){this._reset(e)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(e){e<this._len&&(this._valid[e]=!1),e<this._invalidLineStartIndex&&(this._invalidLineStartIndex=e)}_isValid(e){return e<this._len?this._valid[e]:!1}getBeginState(e){return e<this._len?this._beginState[e]:null}_ensureLine(e){for(;e>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._beginState.splice(e,t),this._valid.splice(e,t),this._len-=t)}_insertLines(e,t){if(t===0)return;let i=[],n=[];for(let r=0;r<t;r++)i[r]=null,n[r]=!1;this._beginState=bf(this._beginState,e,i),this._valid=bf(this._valid,e,n),this._len+=t}_setValid(e,t){this._ensureLine(e),this._valid[e]=t}_setBeginState(e,t){this._ensureLine(e),this._beginState[e]=t}setEndState(e,t,i){if(this._setValid(t,!0),this._invalidLineStartIndex=t+1,t===e-1)return;let n=this.getBeginState(t+1);if(n===null||!i.equals(n)){this._setBeginState(t+1,i),this._invalidateLine(t+1);return}let r=t+1;for(;r<e&&this._isValid(r);)r++;this._invalidLineStartIndex=r}setFakeTokens(e){this._setValid(e,!1)}applyEdits(e,t){let i=e.endLineNumber-e.startLineNumber,r=Math.min(i,t);for(let s=r;s>=0;s--)this._invalidateLine(e.startLineNumber+s-1);this._acceptDeleteRange(e),this._acceptInsertText(new H(e.startLineNumber,e.startColumn),t)}_acceptDeleteRange(e){e.startLineNumber-1>=this._len||this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){e.lineNumber-1>=this._len||this._insertLines(e.lineNumber,t)}},MA=class extends ${constructor(e,t){super();this._textModel=e,this._languageIdCodec=t,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=new xH,this._tokenizationSupport=null,this._register(Li.onDidChange(i=>{let n=this._textModel.getLanguageId();i.changedLanguages.indexOf(n)!==-1&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeContentFast(i=>{if(i.isFlush){this._resetTokenizationState();return}for(let n=0,r=i.changes.length;n<r;n++){let s=i.changes[n],[a]=Mc(s.text);this._tokenizationStateStore.applyEdits(s.range,a)}this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){let[e,t]=Xde(this._textModel);this._tokenizationSupport=e,this._tokenizationStateStore.flush(t),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,Y9(()=>{this._isScheduled=!1,!this._isDisposed&&this._revalidateTokensNow()}))}_revalidateTokensNow(){let e=this._textModel.getLineCount(),t=1,i=new z1,n=nr.create(!1),r=-1;do if(n.elapsed()>t||(r=this._tokenizeOneInvalidLine(i),r>=e))break;while(this._hasLinesToTokenize());this._beginBackgroundTokenization(),this._textModel.setTokens(i.tokens,!this._hasLinesToTokenize())}tokenizeViewport(e,t){let i=new z1;this._tokenizeViewport(i,e,t),this._textModel.setTokens(i.tokens,!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(e){let t=new z1;this._updateTokensUntilLine(t,e),this._textModel.setTokens(t.tokens,!this._hasLinesToTokenize())}getTokenTypeIfInsertingCharacter(e,t){if(!this._tokenizationSupport)return 0;this.forceTokenization(e.lineNumber);let i=this._tokenizationStateStore.getBeginState(e.lineNumber-1);if(!i)return 0;let n=this._textModel.getLanguageId(),r=this._textModel.getLineContent(e.lineNumber),s=r.substring(0,e.column-1)+t+r.substring(e.column-1),a=pk(this._languageIdCodec,n,this._tokenizationSupport,s,!0,i),l=new hn(a.tokens,s,this._languageIdCodec);if(l.getCount()===0)return 0;let c=l.findTokenIndexAtOffset(e.column-1);return l.getStandardTokenType(c)}isCheapToTokenize(e){if(!this._tokenizationSupport)return!0;let t=this._tokenizationStateStore.invalidLineStartIndex+1;return e>t?!1:e<t||this._textModel.getLineLength(e)<2048}_hasLinesToTokenize(){return this._tokenizationSupport?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(e){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;let t=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(e,t),t}_updateTokensUntilLine(e,t){if(!this._tokenizationSupport)return;let i=this._textModel.getLanguageId(),n=this._textModel.getLineCount(),r=t-1;for(let s=this._tokenizationStateStore.invalidLineStartIndex;s<=r;s++){let a=this._textModel.getLineContent(s+1),l=this._tokenizationStateStore.getBeginState(s),c=pk(this._languageIdCodec,i,this._tokenizationSupport,a,!0,l);e.add(s+1,c.tokens),this._tokenizationStateStore.setEndState(n,s,c.endState),s=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(e,t,i){if(!this._tokenizationSupport||i<=this._tokenizationStateStore.invalidLineStartIndex)return;if(t<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(e,i);return}let n=this._textModel.getLineFirstNonWhitespaceColumn(t),r=[],s=null;for(let c=t-1;n>1&&c>=1;c--){let d=this._textModel.getLineFirstNonWhitespaceColumn(c);if(d!==0&&d<n){if(s=this._tokenizationStateStore.getBeginState(c-1),s)break;r.push(this._textModel.getLineContent(c)),n=d}}s||(s=this._tokenizationSupport.getInitialState());let a=this._textModel.getLanguageId(),l=s;for(let c=r.length-1;c>=0;c--)l=pk(this._languageIdCodec,a,this._tokenizationSupport,r[c],!1,l).endState;for(let c=t;c<=i;c++){let d=this._textModel.getLineContent(c),h=pk(this._languageIdCodec,a,this._tokenizationSupport,d,!0,l);e.add(c,h.tokens),this._tokenizationStateStore.setFakeTokens(c-1),l=h.endState}}}});var Hd,_k,sg,Vl,jv=ge(()=>{Ge();Hd=Fe("undoRedoService"),_k=class{constructor(e,t){this.resource=e,this.elements=t}},sg=class{constructor(){this.id=sg._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}};sg._ID=0;sg.None=new sg;Vl=class{constructor(){this.id=Vl._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}};Vl._ID=0;Vl.None=new Vl});var bk,LH,AA,kH=ge(()=>{bk=class{constructor(e,t,i){this.range=e,this.nestingLevel=t,this.isInvalid=i}},LH=class{constructor(e,t,i,n){this.range=e,this.openingBracketRange=t,this.closingBracketRange=i,this.nestingLevel=n}},AA=class extends LH{constructor(e,t,i,n,r){super(e,t,i,n);this.minVisibleColumnIndentation=r}}});function OH(o,e,t,i){return o!==t?ln(t-o,i):ln(0,i-e)}function TH(o){return o===0}function ln(o,e){return o*fa+e}function Ac(o){let e=o,t=Math.floor(e/fa),i=e-t*fa;return new IH(t,i)}function NH(o){return Math.floor(o/fa)}function jn(o,e){return e<fa?o+e:o-o%fa+e}function PH(o,e){let t=o,i=e;if(i-t<=0)return Ya;let r=Math.floor(t/fa),s=Math.floor(i/fa),a=i-s*fa;if(r===s){let l=t-r*fa;return ln(0,a-l)}else return ln(s-r,a)}function Wv(o,e){return o<e}function vu(o,e){return o<=e}function $1(o,e){return o>=e}function K1(o){return ln(o.lineNumber-1,o.column-1)}function Uv(o,e){let t=o,i=Math.floor(t/fa),n=t-i*fa,r=e,s=Math.floor(r/fa),a=r-s*fa;return new D(i+1,n+1,s+1,a+1)}function RH(o){let e=rr(o);return ln(e.length-1,e[e.length-1].length)}var IH,Ya,fa,ag=ge(()=>{je();ve();IH=class{constructor(e,t){this.lineCount=e,this.columnCount=t}toString(){return`${this.lineCount},${this.columnCount}`}};Ya=0;fa=Math.pow(2,26)});var vk,FA,wk,BA=ge(()=>{ag();vk=class{constructor(e,t,i){this.startOffset=e,this.endOffset=t,this.newLength=i}},FA=class{constructor(e,t){this.documentLength=t,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map(i=>wk.from(i))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);let t=this.edits[this.nextEditIdx],i=t?this.translateOldToCur(t.offsetObj):this.documentLength;return PH(e,i)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?ln(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):ln(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){let t=Ac(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?ln(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):ln(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){let t=this.edits[this.nextEditIdx],i=this.translateOldToCur(t.endOffsetAfterObj);if(vu(i,e)){this.nextEditIdx++;let n=Ac(i),r=Ac(this.translateOldToCur(t.endOffsetBeforeObj)),s=n.lineCount-r.lineCount;this.deltaOldToNewLineCount+=s;let a=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,l=n.columnCount-r.columnCount;this.deltaOldToNewColumnCount=a+l,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}else break}}},wk=class{constructor(e,t,i){this.endOffsetBeforeObj=Ac(t),this.endOffsetAfterObj=Ac(jn(e,i)),this.offsetObj=Ac(e)}static from(e){return new wk(e.startOffset,e.endOffset,e.newLength)}}});var Yt,Y1=ge(()=>{je();Yt=class{static visibleColumnFromColumn(e,t,i){let n=e.length,r=t-1<n?t-1:n,s=0,a=0;for(;a<r;){let l=jh(e,r,a);if(a+=l>=65536?2:1,l===9)s=Yt.nextRenderTabStop(s,i);else{let c=y0(l);for(;a<r;){let d=jh(e,r,a),h=y0(d);if(S0(c,h))break;a+=d>=65536?2:1,c=h}Ls(l)||Nb(l)?s=s+2:s=s+1}}return s}static visibleColumnFromColumn2(e,t,i){return this.visibleColumnFromColumn(t.getLineContent(i.lineNumber),i.column,e.tabSize)}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;let n=e.length,r=0,s=1,a=0;for(;a<n;){let l=jh(e,n,a);a+=l>=65536?2:1;let c;if(l===9)c=Yt.nextRenderTabStop(r,i);else{let h=y0(l);for(;a<n;){let u=jh(e,n,a),f=y0(u);if(S0(h,f))break;a+=u>=65536?2:1,h=f}Ls(l)||Nb(l)?c=r+2:c=r+1}let d=a+1;if(c>=t){let h=t-r;return c-t<h?d:s}r=c,s=d}return n+1}static columnFromVisibleColumn2(e,t,i,n){let r=this.columnFromVisibleColumn(t.getLineContent(i),n,e.tabSize),s=t.getLineMinColumn(i);if(r<s)return s;let a=t.getLineMaxColumn(i);return r>a?a:r}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}});var Ck,mn,jA,WA,zv=ge(()=>{Ck=new Array,mn=class{constructor(e,t){this.items=e,this.additionalItems=t}static create(e,t){if(e<=128&&t.length===0){let i=mn.cache[e];return i||(i=new mn(e,t),mn.cache[e]=i),i}return new mn(e,t)}static getEmpty(){return this.empty}add(e,t){let i=t.getKey(e),n=i>>5;if(n===0){let s=1<<i|this.items;return s===this.items?this:mn.create(s,this.additionalItems)}n--;let r=this.additionalItems.slice(0);for(;r.length<n;)r.push(0);return r[n]|=1<<(i&31),mn.create(this.items,r)}merge(e){let t=this.items|e.items;if(this.additionalItems===Ck&&e.additionalItems===Ck)return t===this.items?this:t===e.items?e:mn.create(t,Ck);let i=new Array;for(let n=0;n<Math.max(this.additionalItems.length,e.additionalItems.length);n++){let r=this.additionalItems[n]||0,s=e.additionalItems[n]||0;i.push(r|s)}return mn.create(t,i)}intersects(e){if((this.items&e.items)!==0)return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if((this.additionalItems[t]&e.additionalItems[t])!==0)return!0;return!1}};mn.cache=new Array(129);mn.empty=mn.create(0,Ck);jA={getKey(o){return o}},WA=class{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return t===void 0&&(t=this.items.size,this.items.set(e,t)),t}}});var yk,Cp,qa,Vv,MH,q1,AH,Qde,Sk,lg,wu,UA,Z1=ge(()=>{Y1();ag();zv();yk=class{constructor(e){this._length=e}get length(){return this._length}},Cp=class extends yk{constructor(e,t,i,n,r){super(e);this.openingBracket=t,this.child=i,this.closingBracket=n,this.missingOpeningBracketIds=r}static create(e,t,i){let n=e.length;return t&&(n=jn(n,t.length)),i&&(n=jn(n,i.length)),new Cp(n,e,t,i,t?t.missingOpeningBracketIds:mn.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){let e=new Array;return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}canBeReused(e){return!(this.closingBracket===null||e.intersects(this.missingOpeningBracketIds))}deepClone(){return new Cp(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation(jn(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}},qa=class extends yk{constructor(e,t,i){super(e);this.listHeight=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}static create23(e,t,i,n=!1){let r=e.length,s=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(r=jn(r,t.length),s=s.merge(t.missingOpeningBracketIds),i){if(e.listHeight!==i.listHeight)throw new Error("Invalid list heights");r=jn(r,i.length),s=s.merge(i.missingOpeningBracketIds)}return n?new MH(r,e.listHeight+1,e,t,i,s):new Vv(r,e.listHeight+1,e,t,i,s)}static getEmpty(){return new AH(Ya,0,[],mn.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();let e=this.childrenLength;if(e===0)return;let t=this.getChild(e-1),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(e-1,i),i}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;let t=this.getChild(0),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(0,i),i}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds))return!1;let t=this,i;for(;t.kind===4&&(i=t.childrenLength)>0;)t=t.getChild(i-1);return t.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();let e=this.childrenLength,t=this.getChild(0).length,i=this.getChild(0).missingOpeningBracketIds;for(let n=1;n<e;n++){let r=this.getChild(n);t=jn(t,r.length),i=i.merge(r.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let i=Number.MAX_SAFE_INTEGER,n=e;for(let r=0;r<this.childrenLength;r++){let s=this.getChild(r);s&&(i=Math.min(i,s.computeMinIndentation(n,t)),n=jn(n,s.length))}return this.cachedMinIndentation=i,i}},Vv=class extends qa{constructor(e,t,i,n,r,s){super(e,t,s);this._item1=i,this._item2=n,this._item3=r}get childrenLength(){return this._item3!==null?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:this._item1=t;return;case 1:this._item2=t;return;case 2:this._item3=t;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new Vv(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();let e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();let e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}},MH=class extends Vv{toMutable(){return new Vv(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}},q1=class extends qa{constructor(e,t,i,n){super(e,t,n);this._children=i}get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}deepClone(){let e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new q1(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();let e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();let e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}},AH=class extends q1{toMutable(){return new q1(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}},Qde=[],Sk=class extends yk{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return Qde}deepClone(){return this}},lg=class extends Sk{get kind(){return 0}get missingOpeningBracketIds(){return mn.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){let i=Ac(e),n=(i.columnCount===0?i.lineCount:i.lineCount+1)+1,r=NH(jn(e,this.length))+1,s=Number.MAX_SAFE_INTEGER;for(let a=n;a<=r;a++){let l=t.getLineFirstNonWhitespaceColumn(a),c=t.getLineContent(a);if(l===0)continue;let d=Yt.visibleColumnFromColumn(c,l,t.getOptions().tabSize);s=Math.min(s,d)}return s}},wu=class extends Sk{constructor(e){super(e)}static create(e){let t=e,i=wu.cacheByLength.get(t);if(i)return i;let n=new wu(e);return wu.cacheByLength.set(t,n),n}get kind(){return 1}get missingOpeningBracketIds(){return mn.getEmpty()}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}};wu.cacheByLength=new Map;UA=class extends Sk{constructor(e,t){super(t);this.missingOpeningBracketIds=e}get kind(){return 3}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}});var $d,zA,FH,VA,HA=ge(()=>{st();zv();Tt();Z1();ag();$d=class{constructor(e,t,i,n,r){this.length=e,this.kind=t,this.bracketId=i,this.bracketIds=n,this.astNode=r}},zA=class{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new FH(this.textModel,this.bracketTokens),this._offset=Ya,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return ln(this.textBufferLineCount,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=jn(this._offset,e);let t=Ac(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=jn(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}},FH=class{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){let r=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=r.length,r}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));let e=this.lineIdx,t=this.lineCharOffset,i=0;for(;;){let r=this.lineTokens,s=r.getCount(),a=null;if(this.lineTokenOffset<s){let l=r.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<s&&l===r.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;let c=sr.getTokenType(l)===0,d=r.getEndOffset(this.lineTokenOffset);if(c&&d!==this.lineCharOffset){let h=r.getLanguageId(this.lineTokenOffset),u=this.line.substring(this.lineCharOffset,d),f=this.bracketTokens.getSingleLanguageBracketTokens(h),p=f.regExpGlobal;if(p){p.lastIndex=0;let b=p.exec(u);b&&(a=f.getToken(b[0]),a&&(this.lineCharOffset+=b.index))}}if(i+=d-this.lineCharOffset,a)if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=a;break}else return this.lineCharOffset+=a.length,a;else this.lineTokenOffset++,this.lineCharOffset=d}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,i+=33,i>1e3))break;if(i>1500)break}let n=OH(e,t,this.lineIdx,this.lineCharOffset);return new $d(n,0,-1,mn.getEmpty(),new lg(n))}},VA=class{constructor(e,t){this.text=e,this._offset=Ya,this.idx=0;let n=t.getRegExpStr()?new RegExp(t.getRegExpStr()+`|
`,"g"):null,r=[],s,a=0,l=0,c=0,d=0,h=new Array;for(let p=0;p<60;p++)h.push(new $d(ln(0,p),0,-1,mn.getEmpty(),new lg(ln(0,p))));let u=new Array;for(let p=0;p<60;p++)u.push(new $d(ln(1,p),0,-1,mn.getEmpty(),new lg(ln(1,p))));if(n)for(n.lastIndex=0;(s=n.exec(e))!==null;){let p=s.index,b=s[0];if(b===`
`)a++,l=p+1;else{if(c!==p){let v;if(d===a){let y=p-c;if(y<h.length)v=h[y];else{let w=ln(0,y);v=new $d(w,0,-1,mn.getEmpty(),new lg(w))}}else{let y=a-d,w=p-l;if(y===1&&w<u.length)v=u[w];else{let S=ln(y,w);v=new $d(S,0,-1,mn.getEmpty(),new lg(S))}}r.push(v)}r.push(t.getToken(b)),c=p+b.length,d=a}}let f=e.length;if(c!==f){let p=d===a?ln(0,f-c):ln(a-d,f-l);r.push(new $d(p,0,-1,mn.getEmpty(),new lg(p)))}this.length=ln(a,f-l),this.tokens=r}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new pP}}});function Jde(o){let e=wo(o);return/^[\w ]+$/.test(o)?`\\b${e}\\b`:e}var G1,$A,BH=ge(()=>{je();Z1();ag();zv();HA();G1=class{constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(e,t){function i(l,c){return t.getKey(`${l}:::${c}`)}let n=e.characterPair.getColorizedBrackets(),r=new Map,s=new Set;for(let[l,c]of n){s.add(l);let d=r.get(c),h=i(e.languageId,l);d||(d={openingBrackets:mn.getEmpty(),first:h},r.set(c,d)),d.openingBrackets=d.openingBrackets.add(h,jA)}let a=new Map;for(let[l,c]of r){let d=ln(0,l.length);a.set(l,new $d(d,2,c.first,c.openingBrackets,wu.create(d)))}for(let l of s){let c=ln(0,l.length),d=i(e.languageId,l);a.set(l,new $d(c,1,d,mn.getEmpty().add(d,jA),wu.create(c)))}return new G1(a)}getRegExpStr(){if(this.isEmpty)return null;{let e=[...this.map.keys()];return e.sort(),e.reverse(),e.map(t=>Jde(t)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){let e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e)}get isEmpty(){return this.map.size===0}};$A=class{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){let t=this.languageIdToBracketTokens.get(e);if(!t)return!1;let i=G1.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider).getRegExpStr();return t.getRegExpStr()!==i}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=G1.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}});function jH(o){if(o.length===0)return null;if(o.length===1)return o[0];let e=0;function t(){if(e>=o.length)return null;let s=e,a=o[s].listHeight;for(e++;e<o.length&&o[e].listHeight===a;)e++;return e-s>=2?KA(s===0&&e===o.length?o:o.slice(s,e),!1):o[s]}let i=t(),n=t();if(!n)return i;for(let s=t();s;s=t())WH(i,n)<=WH(n,s)?(i=YA(i,n),n=s):n=YA(n,s);return YA(i,n)}function KA(o,e=!1){if(o.length===0)return null;if(o.length===1)return o[0];let t=o.length;for(;t>3;){let i=t>>1;for(let n=0;n<i;n++){let r=n<<1;o[n]=qa.create23(o[r],o[r+1],r+3===t?o[r+2]:null,e)}t=i}return qa.create23(o[0],o[1],t>=3?o[2]:null,e)}function WH(o,e){return Math.abs(o.listHeight-e.listHeight)}function YA(o,e){return o.listHeight===e.listHeight?qa.create23(o,e,null,!1):o.listHeight>e.listHeight?ehe(o,e):the(e,o)}function ehe(o,e){o=o.toMutable();let t=o,i=new Array,n;for(;;){if(e.listHeight===t.listHeight){n=e;break}if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeLastElementMutable()}for(let r=i.length-1;r>=0;r--){let s=i[r];n?s.childrenLength>=3?n=qa.create23(s.unappendChild(),n,null,!1):(s.appendChildOfSameHeight(n),n=void 0):s.handleChildrenChanged()}return n?qa.create23(o,n,null,!1):o}function the(o,e){o=o.toMutable();let t=o,i=new Array;for(;e.listHeight!==t.listHeight;){if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeFirstElementMutable()}let n=e;for(let r=i.length-1;r>=0;r--){let s=i[r];n?s.childrenLength>=3?n=qa.create23(n,s.unprependChild(),null,!1):(s.prependChildOfSameHeight(n),n=void 0):s.handleChildrenChanged()}return n?qa.create23(n,o,null,!1):o}var UH=ge(()=>{Z1()});function ZA(o,e=-1){for(;;){if(e++,e>=o.childrenLength)return-1;if(o.getChild(e))return e}}function X1(o){return o.length>0?o[o.length-1]:void 0}var qA,zH=ge(()=>{ag();qA=class{constructor(e){this.lastOffset=Ya,this.nextNodes=[e],this.offsets=[Ya],this.idxs=[]}readLongestNodeAt(e,t){if(Wv(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){let i=X1(this.nextNodes);if(!i)return;let n=X1(this.offsets);if(Wv(e,n))return;if(Wv(n,e))if(jn(n,i.length)<=e)this.nextNodeAfterCurrent();else{let r=ZA(i);r!==-1?(this.nextNodes.push(i.getChild(r)),this.offsets.push(n),this.idxs.push(r)):this.nextNodeAfterCurrent()}else{if(t(i))return this.nextNodeAfterCurrent(),i;{let r=ZA(i);if(r===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(i.getChild(r)),this.offsets.push(n),this.idxs.push(r)}}}}nextNodeAfterCurrent(){for(;;){let e=X1(this.offsets),t=X1(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;let i=X1(this.nextNodes),n=ZA(i,this.idxs[this.idxs.length-1]);if(n!==-1){this.nextNodes.push(i.getChild(n)),this.offsets.push(jn(e,t.length)),this.idxs[this.idxs.length-1]=n;break}else this.idxs.pop()}}}});function GA(o,e,t,i){return new VH(o,e,t,i).parseDocument()}var VH,HH=ge(()=>{Z1();BA();zv();ag();UH();zH();VH=class{constructor(e,t,i,n){if(this.tokenizer=e,this.createImmutableLists=n,this._itemsConstructed=0,this._itemsFromCache=0,i&&n)throw new Error("Not supported");this.oldNodeReader=i?new qA(i):void 0,this.positionMapper=new FA(t,e.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(mn.getEmpty());return e||(e=qa.getEmpty()),e}parseList(e){let t=new Array;for(;;){let n=this.tokenizer.peek();if(!n||n.kind===2&&n.bracketIds.intersects(e))break;let r=this.parseChild(e);r.kind===4&&r.childrenLength===0||t.push(r)}return this.oldNodeReader?jH(t):KA(t,this.createImmutableLists)}parseChild(e){if(this.oldNodeReader){let i=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!TH(i)){let n=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),r=>Wv(r.length,i)?r.canBeReused(e):!1);if(n)return this._itemsFromCache++,this.tokenizer.skip(n.length),n}}this._itemsConstructed++;let t=this.tokenizer.read();switch(t.kind){case 2:return new UA(t.bracketIds,t.length);case 0:return t.astNode;case 1:let i=e.merge(t.bracketIds),n=this.parseList(i),r=this.tokenizer.peek();return r&&r.kind===2&&(r.bracketId===t.bracketId||r.bracketIds.intersects(t.bracketIds))?(this.tokenizer.read(),Cp.create(t.astNode,n,r.astNode)):Cp.create(t.astNode,n,null);default:throw new Error("unexpected")}}}});function Q1(o,e,t,i,n,r,s=0){if(o.kind===1){let a=Uv(e,t);r.push(new bk(a,s-1,!1))}else if(o.kind===3){let a=Uv(e,t);r.push(new bk(a,s-1,!0))}else if(o.kind===4)for(let a of o.children)t=jn(e,a.length),vu(e,n)&&$1(t,i)&&Q1(a,e,t,i,n,r,s),e=t;else if(o.kind===2){s++;{let a=o.openingBracket;t=jn(e,a.length),vu(e,n)&&$1(t,i)&&Q1(a,e,t,i,n,r,s),e=t}if(o.child){let a=o.child;t=jn(e,a.length),vu(e,n)&&$1(t,i)&&Q1(a,e,t,i,n,r,s),e=t}if(o.closingBracket){let a=o.closingBracket;t=jn(e,a.length),vu(e,n)&&$1(t,i)&&Q1(a,e,t,i,n,r,s),e=t}}}function KH(o,e,t,i,n,r,s=0){var a;if(o.kind===2){let c=jn(e,o.openingBracket.length),d=-1;r.includeMinIndentation&&(d=o.computeMinIndentation(e,r.textModel)),r.result.push(new AA(Uv(e,t),Uv(e,c),o.closingBracket?Uv(jn(c,((a=o.child)===null||a===void 0?void 0:a.length)||Ya),t):void 0,s,d)),s++}let l=e;for(let c of o.children){let d=l;l=jn(l,c.length),vu(d,n)&&vu(i,l)&&KH(c,d,l,i,n,r,s)}}var XA,$H,YH=ge(()=>{Se();ne();ve();kH();BA();BH();ag();HH();zv();HA();XA=class extends ${constructor(e,t){super();if(this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new F,this.denseKeyProvider=new WA,this.brackets=new $A(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this._register(e.onBackgroundTokenizationStateChanged(()=>{if(e.backgroundTokenizationState===2){let i=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,i||this.didChangeEmitter.fire()}})),this._register(e.onDidChangeTokens(({ranges:i})=>{let n=i.map(r=>new vk(ln(r.fromLineNumber-1,0),ln(r.toLineNumber,0),ln(r.toLineNumber-r.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(n,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()})),e.backgroundTokenizationState===0){let i=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),n=new VA(this.textModel.getValue(),i);this.initialAstWithoutTokens=GA(n,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else e.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):e.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(e){return this.brackets.didLanguageChange(e)}handleContentChanged(e){let t=e.changes.map(i=>{let n=D.lift(i.range);return new vk(K1(n.getStartPosition()),K1(n.getEndPosition()),RH(i.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(t,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(t,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(e,t,i){let r=!1?t==null?void 0:t.deepClone():t,s=new zA(this.textModel,this.brackets);return GA(s,e,r,i)}getBracketsInRange(e){let t=ln(e.startLineNumber-1,e.startColumn-1),i=ln(e.endLineNumber-1,e.endColumn-1),n=new Array,r=this.initialAstWithoutTokens||this.astWithTokens;return Q1(r,Ya,r.length,t,i,n),n}getBracketPairsInRange(e,t){let i=new Array,n=K1(e.getStartPosition()),r=K1(e.getEndPosition()),s=this.initialAstWithoutTokens||this.astWithTokens,a=new $H(i,t,this.textModel);return KH(s,Ya,s.length,n,r,a),i}};$H=class{constructor(e,t,i){this.result=e,this.includeMinIndentation=t,this.textModel=i}}});function ihe(o,e){return{object:o,dispose:()=>e==null?void 0:e.dispose()}}function Ek(o){return o instanceof Kd?null:o}var QA,Kd,qH=ge(()=>{Se();ne();YH();j0();QD();QA=class extends ${constructor(e,t){super();this.textModel=e,this.languageConfigurationService=t,this.bracketPairsTree=this._register(new _n),this.onDidChangeEmitter=new F,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(e.onDidChangeOptions(i=>{this.bracketPairsTree.clear(),this.updateBracketPairsTree()})),this._register(e.onDidChangeLanguage(i=>{this.bracketPairsTree.clear(),this.updateBracketPairsTree()})),this._register(this.languageConfigurationService.onDidChange(i=>{var n;(!i.languageId||((n=this.bracketPairsTree.value)===null||n===void 0?void 0:n.object.didLanguageChange(i.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get isDocumentSupported(){let e=5e4*100;return this.textModel.getValueLength()<=e}updateBracketPairsTree(){if(this.bracketsRequested&&this.isDocumentSupported){if(!this.bracketPairsTree.value){let e=new Q;this.bracketPairsTree.value=ihe(e.add(new XA(this.textModel,t=>this.languageConfigurationService.getLanguageConfiguration(t))),e),e.add(this.bracketPairsTree.value.object.onDidChange(t=>this.onDidChangeEmitter.fire(t))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}handleContentChanged(e){var t;(t=this.bracketPairsTree.value)===null||t===void 0||t.object.handleContentChanged(e)}getBracketPairsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getBracketPairsInRange(e,!1))||[]}getBracketPairsInRangeWithMinIndentation(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getBracketPairsInRange(e,!0))||[]}getBracketsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getBracketsInRange(e))||[]}findMatchingBracketUp(e,t){let i=e.toLowerCase(),n=this.textModel.validatePosition(t),r=this.textModel.getLanguageIdAtPosition(n.lineNumber,n.column),s=this.languageConfigurationService.getLanguageConfiguration(r).brackets;if(!s)return null;let a=s.textIsBracket[i];return a?Ek(this._findMatchingBracketUp(a,n,null)):null}matchBracket(e){return this._matchBracket(this.textModel.validatePosition(e))}_establishBracketSearchOffsets(e,t,i,n){let r=t.getCount(),s=t.getLanguageId(n),a=Math.max(0,e.column-1-i.maxBracketLength);for(let c=n-1;c>=0;c--){let d=t.getEndOffset(c);if(d<=a)break;if(Tl(t.getStandardTokenType(c))||t.getLanguageId(c)!==s){a=d;break}}let l=Math.min(t.getLineContent().length,e.column-1+i.maxBracketLength);for(let c=n+1;c<r;c++){let d=t.getStartOffset(c);if(d>=l)break;if(Tl(t.getStandardTokenType(c))||t.getLanguageId(c)!==s){l=d;break}}return{searchStartOffset:a,searchEndOffset:l}}_matchBracket(e){let t=e.lineNumber,i=this.textModel.getLineTokens(t),n=this.textModel.getLineContent(t),r=i.findTokenIndexAtOffset(e.column-1);if(r<0)return null;let s=this.languageConfigurationService.getLanguageConfiguration(i.getLanguageId(r)).brackets;if(s&&!Tl(i.getStandardTokenType(r))){let{searchStartOffset:a,searchEndOffset:l}=this._establishBracketSearchOffsets(e,i,s,r),c=null;for(;;){let d=Ps.findNextBracketInRange(s.forwardRegex,t,n,a,l);if(!d)break;if(d.startColumn<=e.column&&e.column<=d.endColumn){let h=n.substring(d.startColumn-1,d.endColumn-1).toLowerCase(),u=this._matchFoundBracket(d,s.textIsBracket[h],s.textIsOpenBracket[h],null);if(u){if(u instanceof Kd)return null;c=u}}a=d.endColumn-1}if(c)return c}if(r>0&&i.getStartOffset(r)===e.column-1){let a=r-1,l=this.languageConfigurationService.getLanguageConfiguration(i.getLanguageId(a)).brackets;if(l&&!Tl(i.getStandardTokenType(a))){let{searchStartOffset:c,searchEndOffset:d}=this._establishBracketSearchOffsets(e,i,l,a),h=Ps.findPrevBracketInRange(l.reversedRegex,t,n,c,d);if(h&&h.startColumn<=e.column&&e.column<=h.endColumn){let u=n.substring(h.startColumn-1,h.endColumn-1).toLowerCase(),f=this._matchFoundBracket(h,l.textIsBracket[u],l.textIsOpenBracket[u],null);if(f)return f instanceof Kd?null:f}}}return null}_matchFoundBracket(e,t,i,n){if(!t)return null;let r=i?this._findMatchingBracketDown(t,e.getEndPosition(),n):this._findMatchingBracketUp(t,e.getStartPosition(),n);return r?r instanceof Kd?r:[e,r]:null}_findMatchingBracketUp(e,t,i){let n=e.languageId,r=e.reversedRegex,s=-1,a=0,l=(c,d,h,u)=>{for(;;){if(i&&++a%100===0&&!i())return Kd.INSTANCE;let f=Ps.findPrevBracketInRange(r,c,d,h,u);if(!f)break;let p=d.substring(f.startColumn-1,f.endColumn-1).toLowerCase();if(e.isOpen(p)?s++:e.isClose(p)&&s--,s===0)return f;u=f.startColumn-1}return null};for(let c=t.lineNumber;c>=1;c--){let d=this.textModel.getLineTokens(c),h=d.getCount(),u=this.textModel.getLineContent(c),f=h-1,p=u.length,b=u.length;c===t.lineNumber&&(f=d.findTokenIndexAtOffset(t.column-1),p=t.column-1,b=t.column-1);let v=!0;for(;f>=0;f--){let y=d.getLanguageId(f)===n&&!Tl(d.getStandardTokenType(f));if(y)v?p=d.getStartOffset(f):(p=d.getStartOffset(f),b=d.getEndOffset(f));else if(v&&p!==b){let w=l(c,u,p,b);if(w)return w}v=y}if(v&&p!==b){let y=l(c,u,p,b);if(y)return y}}return null}_findMatchingBracketDown(e,t,i){let n=e.languageId,r=e.forwardRegex,s=1,a=0,l=(d,h,u,f)=>{for(;;){if(i&&++a%100===0&&!i())return Kd.INSTANCE;let p=Ps.findNextBracketInRange(r,d,h,u,f);if(!p)break;let b=h.substring(p.startColumn-1,p.endColumn-1).toLowerCase();if(e.isOpen(b)?s++:e.isClose(b)&&s--,s===0)return p;u=p.endColumn-1}return null},c=this.textModel.getLineCount();for(let d=t.lineNumber;d<=c;d++){let h=this.textModel.getLineTokens(d),u=h.getCount(),f=this.textModel.getLineContent(d),p=0,b=0,v=0;d===t.lineNumber&&(p=h.findTokenIndexAtOffset(t.column-1),b=t.column-1,v=t.column-1);let y=!0;for(;p<u;p++){let w=h.getLanguageId(p)===n&&!Tl(h.getStandardTokenType(p));if(w)y||(b=h.getStartOffset(p)),v=h.getEndOffset(p);else if(y&&b!==v){let S=l(d,f,b,v);if(S)return S}y=w}if(y&&b!==v){let w=l(d,f,b,v);if(w)return w}}return null}findPrevBracket(e){let t=this.textModel.validatePosition(e),i=null,n=null;for(let r=t.lineNumber;r>=1;r--){let s=this.textModel.getLineTokens(r),a=s.getCount(),l=this.textModel.getLineContent(r),c=a-1,d=l.length,h=l.length;if(r===t.lineNumber){c=s.findTokenIndexAtOffset(t.column-1),d=t.column-1,h=t.column-1;let f=s.getLanguageId(c);i!==f&&(i=f,n=this.languageConfigurationService.getLanguageConfiguration(i).brackets)}let u=!0;for(;c>=0;c--){let f=s.getLanguageId(c);if(i!==f){if(n&&u&&d!==h){let b=Ps.findPrevBracketInRange(n.reversedRegex,r,l,d,h);if(b)return this._toFoundBracket(n,b);u=!1}i=f,n=this.languageConfigurationService.getLanguageConfiguration(i).brackets}let p=!!n&&!Tl(s.getStandardTokenType(c));if(p)u?d=s.getStartOffset(c):(d=s.getStartOffset(c),h=s.getEndOffset(c));else if(n&&u&&d!==h){let b=Ps.findPrevBracketInRange(n.reversedRegex,r,l,d,h);if(b)return this._toFoundBracket(n,b)}u=p}if(n&&u&&d!==h){let f=Ps.findPrevBracketInRange(n.reversedRegex,r,l,d,h);if(f)return this._toFoundBracket(n,f)}}return null}findNextBracket(e){let t=this.textModel.validatePosition(e),i=this.textModel.getLineCount(),n=null,r=null;for(let s=t.lineNumber;s<=i;s++){let a=this.textModel.getLineTokens(s),l=a.getCount(),c=this.textModel.getLineContent(s),d=0,h=0,u=0;if(s===t.lineNumber){d=a.findTokenIndexAtOffset(t.column-1),h=t.column-1,u=t.column-1;let p=a.getLanguageId(d);n!==p&&(n=p,r=this.languageConfigurationService.getLanguageConfiguration(n).brackets)}let f=!0;for(;d<l;d++){let p=a.getLanguageId(d);if(n!==p){if(r&&f&&h!==u){let v=Ps.findNextBracketInRange(r.forwardRegex,s,c,h,u);if(v)return this._toFoundBracket(r,v);f=!1}n=p,r=this.languageConfigurationService.getLanguageConfiguration(n).brackets}let b=!!r&&!Tl(a.getStandardTokenType(d));if(b)f||(h=a.getStartOffset(d)),u=a.getEndOffset(d);else if(r&&f&&h!==u){let v=Ps.findNextBracketInRange(r.forwardRegex,s,c,h,u);if(v)return this._toFoundBracket(r,v)}f=b}if(r&&f&&h!==u){let p=Ps.findNextBracketInRange(r.forwardRegex,s,c,h,u);if(p)return this._toFoundBracket(r,p)}}return null}findEnclosingBrackets(e,t){let i;if(typeof t=="undefined")i=null;else{let f=Date.now();i=()=>Date.now()-f<=t}let n=this.textModel.validatePosition(e),r=this.textModel.getLineCount(),s=new Map,a=[],l=(f,p)=>{if(!s.has(f)){let b=[];for(let v=0,y=p?p.brackets.length:0;v<y;v++)b[v]=0;s.set(f,b)}a=s.get(f)},c=0,d=(f,p,b,v,y)=>{for(;;){if(i&&++c%100===0&&!i())return Kd.INSTANCE;let w=Ps.findNextBracketInRange(f.forwardRegex,p,b,v,y);if(!w)break;let S=b.substring(w.startColumn-1,w.endColumn-1).toLowerCase(),x=f.textIsBracket[S];if(x&&(x.isOpen(S)?a[x.index]++:x.isClose(S)&&a[x.index]--,a[x.index]===-1))return this._matchFoundBracket(w,x,!1,i);v=w.endColumn-1}return null},h=null,u=null;for(let f=n.lineNumber;f<=r;f++){let p=this.textModel.getLineTokens(f),b=p.getCount(),v=this.textModel.getLineContent(f),y=0,w=0,S=0;if(f===n.lineNumber){y=p.findTokenIndexAtOffset(n.column-1),w=n.column-1,S=n.column-1;let k=p.getLanguageId(y);h!==k&&(h=k,u=this.languageConfigurationService.getLanguageConfiguration(h).brackets,l(h,u))}let x=!0;for(;y<b;y++){let k=p.getLanguageId(y);if(h!==k){if(u&&x&&w!==S){let O=d(u,f,v,w,S);if(O)return Ek(O);x=!1}h=k,u=this.languageConfigurationService.getLanguageConfiguration(h).brackets,l(h,u)}let R=!!u&&!Tl(p.getStandardTokenType(y));if(R)x||(w=p.getStartOffset(y)),S=p.getEndOffset(y);else if(u&&x&&w!==S){let O=d(u,f,v,w,S);if(O)return Ek(O)}x=R}if(u&&x&&w!==S){let k=d(u,f,v,w,S);if(k)return Ek(k)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.textModel.getValueInRange(t);i=i.toLowerCase();let n=e.textIsBracket[i];return n?{range:t,open:n.open,close:n.close,isOpen:e.textIsOpenBracket[i]}:null}};Kd=class{constructor(){this._searchCanceledBrand=void 0}};Kd.INSTANCE=new Kd});var ZH,JA,nhe,ohe,rhe,she,xk,GH,yp,Hv,$v,Dk,e2,XH,QH,x3e,JH,Lk,e$,t$,ahe,i$,n$,o$,r$,s$,t2,D3e,a$,l$,c$,kk,Ik,Ok,Tk,Nk,Pk,d$,h$,u$,f$,g$,m$,p$,_$,b$,v$,w$,C$,y$,L3e,Ws=ge(()=>{xe();Yn();yi();dt();ZH=j("editor.lineHighlightBackground",{dark:null,light:null,hc:null},g("lineHighlight","Background color for the highlight of line at the cursor position.")),JA=j("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},g("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),nhe=j("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},g("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),ohe=j("editor.rangeHighlightBorder",{dark:null,light:null,hc:qn},g("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),rhe=j("editor.symbolHighlightBackground",{dark:Bd,light:Bd,hc:null},g("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),she=j("editor.symbolHighlightBorder",{dark:null,light:null,hc:qn},g("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),xk=j("editorCursor.foreground",{dark:"#AEAFAD",light:Z.black,hc:Z.white},g("caret","Color of the editor cursor.")),GH=j("editorCursor.background",null,g("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),yp=j("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},g("editorWhitespaces","Color of whitespace characters in the editor.")),Hv=j("editorIndentGuide.background",{dark:yp,light:yp,hc:yp},g("editorIndentGuides","Color of the editor indentation guides.")),$v=j("editorIndentGuide.activeBackground",{dark:yp,light:yp,hc:yp},g("editorActiveIndentGuide","Color of the active editor indentation guides.")),Dk=j("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:Z.white},g("editorLineNumbers","Color of editor line numbers.")),e2=j("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:qn},g("editorActiveLineNumber","Color of editor active line number"),!1,g("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),XH=j("editorLineNumber.activeForeground",{dark:e2,light:e2,hc:e2},g("editorActiveLineNumber","Color of editor active line number")),QH=j("editorRuler.foreground",{dark:"#5A5A5A",light:Z.lightgrey,hc:Z.white},g("editorRuler","Color of the editor rulers.")),x3e=j("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},g("editorCodeLensForeground","Foreground color of editor CodeLens")),JH=j("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},g("editorBracketMatchBackground","Background color behind matching brackets")),Lk=j("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:Oi},g("editorBracketMatchBorder","Color for matching brackets boxes")),e$=j("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},g("editorOverviewRulerBorder","Color of the overview ruler border.")),t$=j("editorOverviewRuler.background",null,g("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),ahe=j("editorGutter.background",{dark:Ho,light:Ho,hc:Ho},g("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),i$=j("editorUnnecessaryCode.border",{dark:null,light:null,hc:Z.fromHex("#fff").transparent(.8)},g("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),n$=j("editorUnnecessaryCode.opacity",{dark:Z.fromHex("#000a"),light:Z.fromHex("#0007"),hc:null},g("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),o$=j("editorGhostText.border",{dark:null,light:null,hc:Z.fromHex("#fff").transparent(.8)},g("editorGhostTextBorder","Border color of ghost text in the editor.")),r$=j("editorGhostText.foreground",{dark:Z.fromHex("#ffffff56"),light:Z.fromHex("#0007"),hc:null},g("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),s$=j("editorGhostText.background",{dark:null,light:null,hc:null},g("editorGhostTextBackground","Background color of the ghost text in the editor.")),t2=new Z(new Nt(0,122,204,.6)),D3e=j("editorOverviewRuler.rangeHighlightForeground",{dark:t2,light:t2,hc:t2},g("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),a$=j("editorOverviewRuler.errorForeground",{dark:new Z(new Nt(255,18,18,.7)),light:new Z(new Nt(255,18,18,.7)),hc:new Z(new Nt(255,50,50,1))},g("overviewRuleError","Overview ruler marker color for errors.")),l$=j("editorOverviewRuler.warningForeground",{dark:Bs,light:Bs,hc:bp},g("overviewRuleWarning","Overview ruler marker color for warnings.")),c$=j("editorOverviewRuler.infoForeground",{dark:Lr,light:Lr,hc:Sv},g("overviewRuleInfo","Overview ruler marker color for infos.")),kk=j("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},g("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),Ik=j("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},g("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),Ok=j("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},g("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),Tk=j("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),Nk=j("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),Pk=j("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),d$=j("editorBracketHighlight.unexpectedBracket.foreground",{dark:new Z(new Nt(255,18,18,.8)),light:new Z(new Nt(255,18,18,.8)),hc:new Z(new Nt(255,50,50,1))},g("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),h$=j("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),u$=j("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),f$=j("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),g$=j("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),m$=j("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),p$=j("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),_$=j("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),b$=j("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),v$=j("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),w$=j("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),C$=j("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),y$=j("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),L3e=j("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hc:"#ff0000"},g("editorUnicodeHighlight.border","Border color used to highlight unicode characters."));gt((o,e)=>{let t=o.getColor(Ho);t&&e.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${t}; }`);let i=o.getColor(zl);i&&e.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${i}; }`);let n=o.getColor(ahe);n&&e.addRule(`.monaco-editor .margin { background-color: ${n}; }`);let r=o.getColor(nhe);r&&e.addRule(`.monaco-editor .rangeHighlight { background-color: ${r}; }`);let s=o.getColor(ohe);s&&e.addRule(`.monaco-editor .rangeHighlight { border: 1px ${o.type==="hc"?"dotted":"solid"} ${s}; }`);let a=o.getColor(rhe);a&&e.addRule(`.monaco-editor .symbolHighlight { background-color: ${a}; }`);let l=o.getColor(she);l&&e.addRule(`.monaco-editor .symbolHighlight { border: 1px ${o.type==="hc"?"dotted":"solid"} ${l}; }`);let c=o.getColor(yp);c&&(e.addRule(`.monaco-editor .mtkw { color: ${c} !important; }`),e.addRule(`.monaco-editor .mtkz { color: ${c} !important; }`))})});var i2,n2,S$=ge(()=>{Se();ne();ve();Ws();dt();i2=class extends ${constructor(e){super();this.textModel=e,this.colorProvider=new n2,this.onDidChangeEmitter=new F,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.onDidChangeOptions(t=>{this.colorizationOptions=e.getOptions().bracketPairColorizationOptions})),this._register(e.bracketPairs.onDidChange(t=>{this.onDidChangeEmitter.fire()}))}getDecorationsInRange(e,t,i){if(t===void 0)return[];if(!this.colorizationOptions.enabled)return[];let n=new Array,r=this.textModel.bracketPairs.getBracketsInRange(e);for(let s of r)n.push({id:`bracket${s.range.toString()}-${s.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(s)},ownerId:0,range:s.range});return n}getAllDecorations(e,t){return e===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new D(1,1,this.textModel.getLineCount(),1),e,t):[]}},n2=class{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(e.nestingLevel)}getInlineClassNameOfLevel(e){return`bracket-highlighting-${e%30}`}};gt((o,e)=>{let t=[kk,Ik,Ok,Tk,Nk,Pk],i=new n2;e.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${o.getColor(d$)}; }`);let n=t.map(r=>o.getColor(r)).filter(r=>!!r).filter(r=>!r.isTransparent());for(let r=0;r<30;r++){let s=n[r%n.length];e.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(r)} { color: ${s}; }`)}})});function che(){return new OA}function dhe(o){let e=che();return e.acceptChunk(o),e.finish()}function E$(o,e){return(typeof o=="string"?dhe(o):o).create(e)}function fhe(o){let e=0;for(let t of o)if(t===" "||t==="	")e++;else break;return e}function r2(o){return!!(o.options.overviewRuler&&o.options.overviewRuler.color)}function s2(o){return!!o.options.after||!!o.options.before}function cg(o){return o.replace(/[^a-z0-9\-_]/gi," ")}function I$(o){return o instanceof Ze?o:Ze.createDynamic(o)}var lhe,o2,Rk,hhe,uhe,x$,J1,Po,Mk,a2,l2,D$,L$,Kv,Ze,k$,O$,T$,Wn=ge(()=>{st();Se();ne();je();Ai();An();ot();ve();ai();Os();bA();sH();gH();EH();rg();K0();DH();t0();zo();Uf();Fv();Yn();jv();IA();Ut();qH();S$();Y1();ar();lhe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},o2=function(o,e){return function(t,i){e(t,i,o)}};Rk=0,hhe=999,uhe=1e4,x$=class{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;let e=[],t=0,i=0;do{let n=this._source.read();if(n===null)return this._eos=!0,t===0?null:e.join("");if(n.length>0&&(e[t++]=n,i+=n.length),i>=64*1024)return e.join("")}while(!0)}},J1=()=>{throw new Error("Invalid change accessor")},Po=class Yd extends ${constructor(e,t,i,n=null,r,s,a){super();this._undoRedoService=r,this._modeService=s,this._languageConfigurationService=a,this._onWillDispose=this._register(new F),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new O$(u=>this.handleBeforeFireDecorationsChangedEvent(u))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new F),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new F),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new F),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new F),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new F),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new F),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new T$),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new F),this.onBackgroundTokenizationStateChanged=this._onBackgroundTokenizationStateChanged.event,this._register(this._eventEmitter.fastEvent(u=>{this._onDidChangeContentOrInjectedText.fire(u.rawContentChangedEvent)})),Rk++,this.id="$model"+Rk,this.isForSimpleWidget=t.isForSimpleWidget,typeof n=="undefined"||n===null?this._associatedResource=Ee.parse("inmemory://model/"+Rk):this._associatedResource=n,this._attachedEditorCount=0;let{textBuffer:l,disposable:c}=E$(e,t.defaultEOL);this._buffer=l,this._bufferDisposable=c,this._options=Yd.resolveOptions(this._buffer,t);let d=this._buffer.getLineCount(),h=this._buffer.getValueLengthInRange(new D(1,1,d,this._buffer.getLineLength(d)+1),0);t.largeFileOptimizations?this._isTooLargeForTokenization=h>Yd.LARGE_FILE_SIZE_THRESHOLD||d>Yd.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=h>Yd.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageId=i||Ol,this._languageRegistryListener=this._languageConfigurationService.onDidChange(u=>{u.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=FD(Rk),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new a2,this._commandManager=new P1(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new js(this._modeService.languageIdCodec),this._tokens2=new V1(this._modeService.languageIdCodec),this._tokenization=new MA(this,this._modeService.languageIdCodec),this._bracketPairColorizer=this._register(new QA(this,this._languageConfigurationService)),this._decorationProvider=this._register(new i2(this)),this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(e,t){if(t.detectIndentation){let i=vA(e,t.tabSize,t.insertSpaces);return new Am({tabSize:i.tabSize,indentSize:i.tabSize,insertSpaces:i.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new Am({tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}onDidChangeContentFast(e){return this._eventEmitter.fastEvent(t=>e(t.contentChangedEvent))}onDidChangeContent(e){return this._eventEmitter.slowEvent(t=>e(t.contentChangedEvent))}get bracketPairs(){return this._bracketPairColorizer}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(e){if(this._backgroundTokenizationState===2)return;let t=e?2:1;this._backgroundTokenizationState!==t&&(this._backgroundTokenizationState=t,this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;let e=new bu([],"",`
`,!1,!1,!0,!0);e.dispose(),this._buffer=e}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(e,t){this._bracketPairColorizer.handleContentChanged(t),!this._isDisposing&&this._eventEmitter.fire(new Bv(e,t))}setValue(e){if(this._assertNotDisposed(),e===null)return;let{textBuffer:t,disposable:i}=E$(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,i)}_createContentChanged2(e,t,i,n,r,s,a){return{changes:[{range:e,rangeOffset:t,rangeLength:i,text:n}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:r,isRedoing:s,isFlush:a}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();let i=this.getFullModelRange(),n=this.getValueLengthInRange(i),r=this.getLineCount(),s=this.getLineMaxColumn(r);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new a2,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Vd([new TA],this._versionId,!1,!1),this._createContentChanged2(new D(1,1,r,s),0,n,this.getValue(),!1,!1,!0))}setEOL(e){this._assertNotDisposed();let t=e===1?`\r
`:`
`;if(this._buffer.getEOL()===t)return;let i=this.getFullModelRange(),n=this.getValueLengthInRange(i),r=this.getLineCount(),s=this.getLineMaxColumn(r);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Vd([new RA],this._versionId,!1,!1),this._createContentChanged2(new D(1,1,r,s),0,n,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){let e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let i=0,n=t.length;i<n;i++){let r=t[i],s=r.range,a=r.cachedAbsoluteStart-r.start,l=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),c=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);r.cachedAbsoluteStart=l,r.cachedAbsoluteEnd=c,r.cachedVersionId=e,r.start=l-a,r.end=c-a,fu(r)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0,i=this._buffer.getLineCount();for(let n=1;n<=i;n++){let r=this._buffer.getLineLength(n);r>=uhe?t+=r:e+=r}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();let t=typeof e.tabSize!="undefined"?e.tabSize:this._options.tabSize,i=typeof e.indentSize!="undefined"?e.indentSize:this._options.indentSize,n=typeof e.insertSpaces!="undefined"?e.insertSpaces:this._options.insertSpaces,r=typeof e.trimAutoWhitespace!="undefined"?e.trimAutoWhitespace:this._options.trimAutoWhitespace,s=typeof e.bracketColorizationOptions!="undefined"?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions,a=new Am({tabSize:t,indentSize:i,insertSpaces:n,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:r,bracketPairColorizationOptions:s});if(this._options.equals(a))return;let l=this._options.createChangeEvent(a);this._options=a,this._onDidChangeOptions.fire(l)}detectIndentation(e,t){this._assertNotDisposed();let i=vA(this._buffer,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}static _normalizeIndentationFromWhitespace(e,t,i){let n=0;for(let s=0;s<e.length;s++)e.charAt(s)==="	"?n+=t:n++;let r="";if(!i){let s=Math.floor(n/t);n=n%t;for(let a=0;a<s;a++)r+="	"}for(let s=0;s<n;s++)r+=" ";return r}static normalizeIndentation(e,t,i){let n=wn(e);return n===-1&&(n=e.length),Yd._normalizeIndentationFromWhitespace(e.substring(0,n),t,i)+e.substring(n)}normalizeIndentation(e){return this._assertNotDisposed(),Yd.normalizeIndentation(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){let t=this.findMatches(GP.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map(i=>({range:i.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();let t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();let t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){this._assertNotDisposed();let i=this.getFullModelRange(),n=this.getValueInRange(i,e);return t?this._buffer.getBOM()+n:n}createSnapshot(e=!1){return new x$(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();let i=this.getFullModelRange(),n=this.getValueLengthInRange(i,e);return t?this._buffer.getBOM().length+n:n}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){let t=this._buffer.getLineCount(),i=e.startLineNumber,n=e.startColumn,r=Math.floor(typeof i=="number"&&!isNaN(i)?i:1),s=Math.floor(typeof n=="number"&&!isNaN(n)?n:1);if(r<1)r=1,s=1;else if(r>t)r=t,s=this.getLineMaxColumn(r);else if(s<=1)s=1;else{let h=this.getLineMaxColumn(r);s>=h&&(s=h)}let a=e.endLineNumber,l=e.endColumn,c=Math.floor(typeof a=="number"&&!isNaN(a)?a:1),d=Math.floor(typeof l=="number"&&!isNaN(l)?l:1);if(c<1)c=1,d=1;else if(c>t)c=t,d=this.getLineMaxColumn(c);else if(d<=1)d=1;else{let h=this.getLineMaxColumn(c);d>=h&&(d=h)}return i===r&&n===s&&a===c&&l===d&&e instanceof D&&!(e instanceof de)?e:new D(r,s,c,d)}_isValidPosition(e,t,i){if(typeof e!="number"||typeof t!="number"||isNaN(e)||isNaN(t)||e<1||t<1||(e|0)!==e||(t|0)!==t)return!1;let n=this._buffer.getLineCount();if(e>n)return!1;if(t===1)return!0;let r=this.getLineMaxColumn(e);if(t>r)return!1;if(i===1){let s=this._buffer.getLineCharCode(e,t-2);if(Xi(s))return!1}return!0}_validatePosition(e,t,i){let n=Math.floor(typeof e=="number"&&!isNaN(e)?e:1),r=Math.floor(typeof t=="number"&&!isNaN(t)?t:1),s=this._buffer.getLineCount();if(n<1)return new H(1,1);if(n>s)return new H(s,this.getLineMaxColumn(s));if(r<=1)return new H(n,1);let a=this.getLineMaxColumn(n);if(r>=a)return new H(n,a);if(i===1){let l=this._buffer.getLineCharCode(n,r-2);if(Xi(l))return new H(n,r-1)}return new H(n,r)}validatePosition(e){let t=1;return this._assertNotDisposed(),e instanceof H&&this._isValidPosition(e.lineNumber,e.column,t)?e:this._validatePosition(e.lineNumber,e.column,t)}_isValidRange(e,t){let i=e.startLineNumber,n=e.startColumn,r=e.endLineNumber,s=e.endColumn;if(!this._isValidPosition(i,n,0)||!this._isValidPosition(r,s,0))return!1;if(t===1){let a=n>1?this._buffer.getLineCharCode(i,n-2):0,l=s>1&&s<=this._buffer.getLineLength(r)?this._buffer.getLineCharCode(r,s-2):0,c=Xi(a),d=Xi(l);return!c&&!d}return!0}validateRange(e){let t=1;if(this._assertNotDisposed(),e instanceof D&&!(e instanceof de)&&this._isValidRange(e,t))return e;let i=this._validatePosition(e.startLineNumber,e.startColumn,0),n=this._validatePosition(e.endLineNumber,e.endColumn,0),r=i.lineNumber,s=i.column,a=n.lineNumber,l=n.column;if(t===1){let c=s>1?this._buffer.getLineCharCode(r,s-2):0,d=l>1&&l<=this._buffer.getLineLength(a)?this._buffer.getLineCharCode(a,l-2):0,h=Xi(c),u=Xi(d);return!h&&!u?new D(r,s,a,l):r===a&&s===l?new D(r,s-1,a,l-1):h&&u?new D(r,s-1,a,l+1):h?new D(r,s-1,a,l):new D(r,s,a,l+1)}return new D(r,s,a,l)}modifyPosition(e,t){this._assertNotDisposed();let i=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();let e=this.getLineCount();return new D(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,i,n){return this._buffer.findMatchesLineByLine(e,t,i,n)}findMatches(e,t,i,n,r,s,a=hhe){this._assertNotDisposed();let l=null;t!==null&&(Array.isArray(t)||(t=[t]),t.every(h=>D.isIRange(h))&&(l=t.map(h=>this.validateRange(h)))),l===null&&(l=[this.getFullModelRange()]),l=l.sort((h,u)=>h.startLineNumber-u.startLineNumber||h.startColumn-u.startColumn);let c=[];c.push(l.reduce((h,u)=>D.areIntersecting(h,u)?h.plusRange(u):(c.push(h),u)));let d;if(!i&&e.indexOf(`
`)<0){let u=new Od(e,i,n,r).parseSearchRequest();if(!u)return[];d=f=>this.findMatchesLineByLine(f,u,s,a)}else d=h=>Jb.findMatches(this,new Od(e,i,n,r),h,s,a);return c.map(d).reduce((h,u)=>h.concat(u),[])}findNextMatch(e,t,i,n,r,s){this._assertNotDisposed();let a=this.validatePosition(t);if(!i&&e.indexOf(`
`)<0){let c=new Od(e,i,n,r).parseSearchRequest();if(!c)return null;let d=this.getLineCount(),h=new D(a.lineNumber,a.column,d,this.getLineMaxColumn(d)),u=this.findMatchesLineByLine(h,c,s,1);return Jb.findNextMatch(this,new Od(e,i,n,r),a,s),u.length>0||(h=new D(1,1,a.lineNumber,this.getLineMaxColumn(a.lineNumber)),u=this.findMatchesLineByLine(h,c,s,1),u.length>0)?u[0]:null}return Jb.findNextMatch(this,new Od(e,i,n,r),a,s)}findPreviousMatch(e,t,i,n,r,s){this._assertNotDisposed();let a=this.validatePosition(t);return Jb.findPreviousMatch(this,new Od(e,i,n,r),a,s)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if((this.getEOL()===`
`?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof I0?e:new I0(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){let t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this._validateEditOperation(e[i]);return t}pushEditOperations(e,t,i){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),i)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,i){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let n=t.map(s=>({range:this.validateRange(s.range),text:s.text})),r=!0;if(e)for(let s=0,a=e.length;s<a;s++){let l=e[s],c=!1;for(let d=0,h=n.length;d<h;d++){let u=n[d].range,f=u.startLineNumber>l.endLineNumber,p=l.startLineNumber>u.endLineNumber;if(!f&&!p){c=!0;break}}if(!c){r=!1;break}}if(r)for(let s=0,a=this._trimAutoWhitespaceLines.length;s<a;s++){let l=this._trimAutoWhitespaceLines[s],c=this.getLineMaxColumn(l),d=!0;for(let h=0,u=n.length;h<u;h++){let f=n[h].range,p=n[h].text;if(!(l<f.startLineNumber||l>f.endLineNumber)&&!(l===f.startLineNumber&&f.startColumn===c&&f.isEmpty()&&p&&p.length>0&&p.charAt(0)===`
`)&&!(l===f.startLineNumber&&f.startColumn===1&&f.isEmpty()&&p&&p.length>0&&p.charAt(p.length-1)===`
`)){d=!1;break}}if(d){let h=new D(l,1,l,c);t.push(new I0(null,h,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,i)}_applyUndo(e,t,i,n){let r=e.map(s=>{let a=this.getPositionAt(s.newPosition),l=this.getPositionAt(s.newEnd);return{range:new D(a.lineNumber,a.column,l.lineNumber,l.column),text:s.oldText}});this._applyUndoRedoEdits(r,t,!0,!1,i,n)}_applyRedo(e,t,i,n){let r=e.map(s=>{let a=this.getPositionAt(s.oldPosition),l=this.getPositionAt(s.oldEnd);return{range:new D(a.lineNumber,a.column,l.lineNumber,l.column),text:s.newText}});this._applyUndoRedoEdits(r,t,!1,!0,i,n)}_applyUndoRedoEdits(e,t,i,n,r,s){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=n,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(r)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(s),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();let i=this._validateEditOperations(e);return this._doApplyEdits(i,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){let i=this._buffer.getLineCount(),n=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),r=this._buffer.getLineCount(),s=n.changes;if(this._trimAutoWhitespaceLines=n.trimAutoWhitespaceLineNumbers,s.length!==0){for(let c=0,d=s.length;c<d;c++){let h=s[c],[u,f,p]=Mc(h.text);this._tokens.acceptEdit(h.range,u,f),this._tokens2.acceptEdit(h.range,u,f,p,h.text.length>0?h.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(h.rangeOffset,h.rangeLength,h.text.length,h.forceMoveMarkers)}let a=[];this._increaseVersionId();let l=i;for(let c=0,d=s.length;c<d;c++){let h=s[c],[u]=Mc(h.text);this._onDidChangeDecorations.fire();let f=h.range.startLineNumber,p=h.range.endLineNumber,b=p-f,v=u,y=Math.min(b,v),w=v-b,S=r-l-w+f,x=S,k=S+v,R=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new H(x,1)),this.getOffsetAt(new H(k,this.getLineMaxColumn(k))),0),O=zr.fromDecorations(R),N=new sc(O);for(let W=y;W>=0;W--){let G=f+W,Y=S+W;N.takeFromEndWhile(re=>re.lineNumber>Y);let te=N.takeFromEndWhile(re=>re.lineNumber===Y);a.push(new mk(G,this.getLineContent(Y),te))}if(y<b){let W=f+y;a.push(new NA(W+1,p))}if(y<v){let W=new sc(O),G=f+y,Y=v-y,te=r-l-Y+G+1,re=[],Pe=[];for(let Ne=0;Ne<Y;Ne++){let Ae=te+Ne;Pe[Ne]=this.getLineContent(Ae),W.takeWhile(He=>He.lineNumber<Ae),re[Ne]=W.takeWhile(He=>He.lineNumber===Ae)}a.push(new PA(G+1,f+v,Pe,re))}l+=w}this._emitContentChangedEvent(new Vd(a,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:s,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return n.reverseEdits===null?void 0:n.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(e===null||e.size===0)return;let i=[...e].map(n=>new mk(n,this.getLineContent(n),this._getInjectedTextInLine(n)));this._onDidChangeContentOrInjectedText.fire(new H1(i))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){let i={addDecoration:(r,s)=>this._deltaDecorationsImpl(e,[],[{range:r,options:s}])[0],changeDecoration:(r,s)=>{this._changeDecorationImpl(r,s)},changeDecorationOptions:(r,s)=>{this._changeDecorationOptionsImpl(r,I$(s))},removeDecoration:r=>{this._deltaDecorationsImpl(e,[r],[])},deltaDecorations:(r,s)=>r.length===0&&s.length===0?[]:this._deltaDecorationsImpl(e,r,s)},n=null;try{n=t(i)}catch(r){ye(r)}return i.addDecoration=J1,i.changeDecoration=J1,i.changeDecorationOptions=J1,i.removeDecoration=J1,i.deltaDecorations=J1,n}deltaDecorations(e,t,i=0){if(this._assertNotDisposed(),e||(e=[]),e.length===0&&t.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,i){let n=e?this._decorations[e]:null;if(!n)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:k$[i]}])[0]:null;if(!t)return this._decorationsTree.delete(n),delete this._decorations[n.id],null;let r=this._validateRangeRelaxedNoAllocations(t),s=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),a=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);return this._decorationsTree.delete(n),n.reset(this.getVersionId(),s,a,r),n.setOptions(k$[i]),this._decorationsTree.insert(n),n.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;let t=this._decorationsTree.collectNodesFromOwner(e);for(let i=0,n=t.length;i<n;i++){let r=t[i];this._decorationsTree.delete(r),delete this._decorations[r.id]}}getDecorationOptions(e){let t=this._decorations[e];return t?t.options:null}getDecorationRange(e){let t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,i=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)}getLinesDecorations(e,t,i=0,n=!1){let r=this.getLineCount(),s=Math.min(r,Math.max(1,e)),a=Math.min(r,Math.max(1,t)),l=this.getLineMaxColumn(a),c=new D(s,1,a,l),d=this._getDecorationsInRange(c,i,n);return d.push(...this._decorationProvider.getDecorationsInRange(c,i,n)),d}getDecorationsInRange(e,t=0,i=!1){let n=this.validateRange(e),r=this._getDecorationsInRange(n,t,i);return r.push(...this._decorationProvider.getDecorationsInRange(n,t,i)),r}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){let t=this._buffer.getOffsetAt(e,1),i=t+this._buffer.getLineLength(e),n=this._decorationsTree.getInjectedTextInInterval(this,t,i,0);return zr.fromDecorations(n).filter(r=>r.lineNumber===e)}getAllDecorations(e=0,t=!1){let i=this._decorationsTree.getAll(this,e,t,!1);return i=i.concat(this._decorationProvider.getAllDecorations(e,t)),i}_getDecorationsInRange(e,t,i){let n=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),r=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,n,r,t,i)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){let i=this._decorations[e];if(!i)return;if(i.options.after){let a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.endLineNumber)}if(i.options.before){let a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.startLineNumber)}let n=this._validateRangeRelaxedNoAllocations(t),r=this._buffer.getOffsetAt(n.startLineNumber,n.startColumn),s=this._buffer.getOffsetAt(n.endLineNumber,n.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),r,s,n),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options),i.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(n.endLineNumber),i.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(n.startLineNumber)}_changeDecorationOptionsImpl(e,t){let i=this._decorations[e];if(!i)return;let n=!!(i.options.overviewRuler&&i.options.overviewRuler.color),r=!!(t.overviewRuler&&t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(t),i.options.after||t.after){let s=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(s.endLineNumber)}if(i.options.before||t.before){let s=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(s.startLineNumber)}n!==r?(this._decorationsTree.delete(i),i.setOptions(t),this._decorationsTree.insert(i)):i.setOptions(t)}_deltaDecorationsImpl(e,t,i){let n=this.getVersionId(),r=t.length,s=0,a=i.length,l=0,c=new Array(a);for(;s<r||l<a;){let d=null;if(s<r){do d=this._decorations[t[s++]];while(!d&&s<r);if(d){if(d.options.after){let h=this._decorationsTree.getNodeRange(this,d);this._onDidChangeDecorations.recordLineAffectedByInjectedText(h.endLineNumber)}if(d.options.before){let h=this._decorationsTree.getNodeRange(this,d);this._onDidChangeDecorations.recordLineAffectedByInjectedText(h.startLineNumber)}this._decorationsTree.delete(d),this._onDidChangeDecorations.checkAffectedAndFire(d.options)}}if(l<a){if(!d){let v=++this._lastDecorationId,y=`${this._instanceId};${v}`;d=new fk(y,0,0),this._decorations[y]=d}let h=i[l],u=this._validateRangeRelaxedNoAllocations(h.range),f=I$(h.options),p=this._buffer.getOffsetAt(u.startLineNumber,u.startColumn),b=this._buffer.getOffsetAt(u.endLineNumber,u.endColumn);d.ownerId=e,d.reset(n,p,b,u),d.setOptions(f),d.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(u.endLineNumber),d.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(u.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(f),this._decorationsTree.insert(d),c[l]=d.id,l++}else d&&delete this._decorations[d.id]}return c}setTokens(e,t=!1){if(e.length!==0){let i=[];for(let n=0,r=e.length;n<r;n++){let s=e[n],a=0,l=0,c=!1;for(let d=0,h=s.tokens.length;d<h;d++){let u=s.startLineNumber+d;c?(this._tokens.setTokens(this._languageId,u-1,this._buffer.getLineLength(u),s.tokens[d],!1),l=u):this._tokens.setTokens(this._languageId,u-1,this._buffer.getLineLength(u),s.tokens[d],!0)&&(c=!0,a=u,l=u)}c&&i.push({fromLineNumber:a,toLineNumber:l})}i.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:i})}this.handleTokenizationProgress(t)}setSemanticTokens(e,t){this._tokens2.set(e,t),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:e!==null,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;let i=this._tokens2.setPartial(e,t);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}tokenizeViewport(e,t){e=Math.max(1,e),t=Math.min(this._buffer.getLineCount(),t),this._tokenization.tokenizeViewport(e,t)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(e){this._isDisposing||this._onDidChangeTokens.fire(e)}resetTokenization(){this._tokenization.reset()}forceTokenization(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(e)}isCheapToTokenize(e){return this._tokenization.isCheapToTokenize(e)}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}getLineTokens(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(e)}_getLineTokens(e){let t=this.getLineContent(e),i=this._tokens.getTokens(this._languageId,e-1,t);return this._tokens2.addSemanticTokens(e,i)}getLanguageId(){return this._languageId}setMode(e){if(this._languageId===e)return;let t={oldLanguage:this._languageId,newLanguage:e};this._languageId=e,this._onDidChangeLanguage.fire(t),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(e,t){let i=this.validatePosition(new H(e,t)),n=this.getLineTokens(i.lineNumber);return n.getLanguageId(n.findTokenIndexAtOffset(i.column-1))}getTokenTypeIfInsertingCharacter(e,t,i){let n=this.validatePosition(new H(e,t));return this._tokenization.getTokenTypeIfInsertingCharacter(n,i)}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}getWordAtPosition(e){this._assertNotDisposed();let t=this.validatePosition(e),i=this.getLineContent(t.lineNumber),n=this._getLineTokens(t.lineNumber),r=n.findTokenIndexAtOffset(t.column-1),[s,a]=Yd._findLanguageBoundaries(n,r),l=cb(t.column,this.getLanguageConfiguration(n.getLanguageId(r)).getWordDefinition(),i.substring(s,a),s);if(l&&l.startColumn<=e.column&&e.column<=l.endColumn)return l;if(r>0&&s===t.column-1){let[c,d]=Yd._findLanguageBoundaries(n,r-1),h=cb(t.column,this.getLanguageConfiguration(n.getLanguageId(r-1)).getWordDefinition(),i.substring(c,d),c);if(h&&h.startColumn<=e.column&&e.column<=h.endColumn)return h}return null}static _findLanguageBoundaries(e,t){let i=e.getLanguageId(t),n=0;for(let s=t;s>=0&&e.getLanguageId(s)===i;s--)n=e.getStartOffset(s);let r=e.getLineContent().length;for(let s=t,a=e.getCount();s<a&&e.getLanguageId(s)===i;s++)r=e.getEndOffset(s);return[n,r]}getWordUntilPosition(e){let t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}static computeIndentLevel(e,t){let i=0,n=0,r=e.length;for(;n<r;){let s=e.charCodeAt(n);if(s===32)i++;else if(s===9)i=i-i%t+t;else break;n++}return n===r?-1:i}_computeIndentLevel(e){return Yd.computeIndentLevel(this._buffer.getLineContent(e+1),this._options.tabSize)}getActiveIndentGuide(e,t,i){this._assertNotDisposed();let n=this.getLineCount();if(e<1||e>n)throw new Error("Illegal value for lineNumber");let r=this.getLanguageConfiguration(this._languageId).foldingRules,s=Boolean(r&&r.offSide),a=-2,l=-1,c=-2,d=-1,h=O=>{if(a!==-1&&(a===-2||a>O-1)){a=-1,l=-1;for(let N=O-2;N>=0;N--){let W=this._computeIndentLevel(N);if(W>=0){a=N,l=W;break}}}if(c===-2){c=-1,d=-1;for(let N=O;N<n;N++){let W=this._computeIndentLevel(N);if(W>=0){c=N,d=W;break}}}},u=-2,f=-1,p=-2,b=-1,v=O=>{if(u===-2){u=-1,f=-1;for(let N=O-2;N>=0;N--){let W=this._computeIndentLevel(N);if(W>=0){u=N,f=W;break}}}if(p!==-1&&(p===-2||p<O-1)){p=-1,b=-1;for(let N=O;N<n;N++){let W=this._computeIndentLevel(N);if(W>=0){p=N,b=W;break}}}},y=0,w=!0,S=0,x=!0,k=0,R=0;for(let O=0;w||x;O++){let N=e-O,W=e+O;O>1&&(N<1||N<t)&&(w=!1),O>1&&(W>n||W>i)&&(x=!1),O>5e4&&(w=!1,x=!1);let G=-1;if(w){let te=this._computeIndentLevel(N-1);te>=0?(c=N-1,d=te,G=Math.ceil(te/this._options.indentSize)):(h(N),G=this._getIndentLevelForWhitespaceLine(s,l,d))}let Y=-1;if(x){let te=this._computeIndentLevel(W-1);te>=0?(u=W-1,f=te,Y=Math.ceil(te/this._options.indentSize)):(v(W),Y=this._getIndentLevelForWhitespaceLine(s,f,b))}if(O===0){R=G;continue}if(O===1){if(W<=n&&Y>=0&&R+1===Y){w=!1,y=W,S=W,k=Y;continue}if(N>=1&&G>=0&&G-1===R){x=!1,y=N,S=N,k=G;continue}if(y=e,S=e,k=R,k===0)return{startLineNumber:y,endLineNumber:S,indent:k}}w&&(G>=k?y=N:w=!1),x&&(Y>=k?S=W:x=!1)}return{startLineNumber:y,endLineNumber:S,indent:k}}getLinesBracketGuides(e,t,i,n){var r,s,a,l,c;let d=[],h=this._bracketPairColorizer.getBracketPairsInRangeWithMinIndentation(new D(e,1,t,this.getLineMaxColumn(t))),u;if(i&&h.length>0){let y=e<=i.lineNumber&&i.lineNumber<=t?h.filter(w=>D.strictContainsPosition(w.range,i)):this._bracketPairColorizer.getBracketPairsInRange(D.fromPositions(i));u=(r=X9(y,w=>w.range.startLineNumber!==w.range.endLineNumber))===null||r===void 0?void 0:r.range}let f=new sc(h),p=new Array,b=new Array,v=new Mk;for(let y=e;y<=t;y++){let w=new Array;b.length>0&&(w=w.concat(b),b.length=0),d.push(w);for(let x of f.takeWhile(k=>k.openingBracketRange.startLineNumber<=y)||[]){if(x.range.startLineNumber===x.range.endLineNumber)continue;let k=Math.min(this.getVisibleColumnFromPosition(x.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition((a=(s=x.closingBracketRange)===null||s===void 0?void 0:s.getStartPosition())!==null&&a!==void 0?a:x.range.getEndPosition()),x.minVisibleColumnIndentation+1),R=!1;x.closingBracketRange&&wn(this.getLineContent(x.closingBracketRange.startLineNumber))<x.closingBracketRange.startColumn-1&&(R=!0);let O=x.openingBracketRange.getStartPosition(),N=(c=(l=x.closingBracketRange)===null||l===void 0?void 0:l.getStartPosition())!==null&&c!==void 0?c:x.range.getEndPosition();x.closingBracketRange===void 0?p[x.nestingLevel]=null:p[x.nestingLevel]={nestingLevel:x.nestingLevel,guideVisibleColumn:k,start:O,visibleStartColumn:this.getVisibleColumnFromPosition(O),end:N,visibleEndColumn:this.getVisibleColumnFromPosition(N),bracketPair:x,renderHorizontalEndLineAtTheBottom:R}}for(let x of p){if(!x)continue;let k=u&&x.bracketPair.range.equalsRange(u),R=v.getInlineClassNameOfLevel(x.nestingLevel)+(n.highlightActive&&k?" "+v.activeClassName:"");(k&&n.horizontalGuides!==Uh.Disabled||n.includeInactive&&n.horizontalGuides===Uh.Enabled)&&(x.start.lineNumber===y&&x.guideVisibleColumn<x.visibleStartColumn&&w.push(new yd(x.guideVisibleColumn,R,new Bb(!1,x.start.column))),x.end.lineNumber===y+1&&x.guideVisibleColumn<x.visibleEndColumn&&b.push(new yd(x.guideVisibleColumn,R,new Bb(!x.renderHorizontalEndLineAtTheBottom,x.end.column))))}let S=Number.MAX_SAFE_INTEGER;for(let x=p.length-1;x>=0;x--){let k=p[x];if(!k)continue;let R=n.highlightActive&&u&&k.bracketPair.range.equalsRange(u),O=v.getInlineClassNameOfLevel(k.nestingLevel)+(R?" "+v.activeClassName:"");(R||n.includeInactive)&&k.renderHorizontalEndLineAtTheBottom&&k.end.lineNumber===y+1&&b.push(new yd(k.guideVisibleColumn,O,null)),!(k.end.lineNumber<=y||k.start.lineNumber>=y)&&(k.guideVisibleColumn>=S&&!R||(S=k.guideVisibleColumn,(R||n.includeInactive)&&w.push(new yd(k.guideVisibleColumn,O,null))))}w.sort((x,k)=>x.visibleColumn-k.visibleColumn)}return d}getVisibleColumnFromPosition(e){return Yt.visibleColumnFromColumn(this.getLineContent(e.lineNumber),e.column,this._options.tabSize)+1}getLinesIndentGuides(e,t){this._assertNotDisposed();let i=this.getLineCount();if(e<1||e>i)throw new Error("Illegal value for startLineNumber");if(t<1||t>i)throw new Error("Illegal value for endLineNumber");let n=this.getLanguageConfiguration(this._languageId).foldingRules,r=Boolean(n&&n.offSide),s=new Array(t-e+1),a=-2,l=-1,c=-2,d=-1;for(let h=e;h<=t;h++){let u=h-e,f=this._computeIndentLevel(h-1);if(f>=0){a=h-1,l=f,s[u]=Math.ceil(f/this._options.indentSize);continue}if(a===-2){a=-1,l=-1;for(let p=h-2;p>=0;p--){let b=this._computeIndentLevel(p);if(b>=0){a=p,l=b;break}}}if(c!==-1&&(c===-2||c<h-1)){c=-1,d=-1;for(let p=h;p<i;p++){let b=this._computeIndentLevel(p);if(b>=0){c=p,d=b;break}}}s[u]=this._getIndentLevelForWhitespaceLine(r,l,d)}return s}_getIndentLevelForWhitespaceLine(e,t,i){return t===-1||i===-1?0:t<i?1+Math.floor(t/this._options.indentSize):t===i?Math.ceil(i/this._options.indentSize):e?Math.ceil(i/this._options.indentSize):1+Math.floor(i/this._options.indentSize)}normalizePosition(e,t){return e}getLineIndentColumn(e){return fhe(this.getLineContent(e))+1}};Po.MODEL_SYNC_LIMIT=50*1024*1024;Po.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024;Po.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3;Po.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:Do.tabSize,indentSize:Do.indentSize,insertSpaces:Do.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:Do.trimAutoWhitespace,largeFileOptimizations:Do.largeFileOptimizations,bracketPairColorizationOptions:Do.bracketPairColorizationOptions};Po=lhe([o2(4,Hd),o2(5,Pi),o2(6,qh)],Po);Mk=class{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel(e){return`bracket-indent-guide lvl-${e%30}`}};a2=class{constructor(){this._decorationsTree0=new R1,this._decorationsTree1=new R1,this._injectedTextDecorationsTree=new R1}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1)}_ensureNodesHaveRanges(e,t){for(let i of t)i.range===null&&(i.range=e.getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd));return t}getAllInInterval(e,t,i,n,r){let s=e.getVersionId(),a=this._intervalSearch(t,i,n,r,s);return this._ensureNodesHaveRanges(e,a)}_intervalSearch(e,t,i,n,r){let s=this._decorationsTree0.intervalSearch(e,t,i,n,r),a=this._decorationsTree1.intervalSearch(e,t,i,n,r),l=this._injectedTextDecorationsTree.intervalSearch(e,t,i,n,r);return s.concat(a).concat(l)}getInjectedTextInInterval(e,t,i,n){let r=e.getVersionId(),s=this._injectedTextDecorationsTree.intervalSearch(t,i,n,!1,r);return this._ensureNodesHaveRanges(e,s).filter(a=>a.options.showIfCollapsed||!a.range.isEmpty())}getAllInjectedText(e,t){let i=e.getVersionId(),n=this._injectedTextDecorationsTree.search(t,!1,i);return this._ensureNodesHaveRanges(e,n).filter(r=>r.options.showIfCollapsed||!r.range.isEmpty())}getAll(e,t,i,n){let r=e.getVersionId(),s=this._search(t,i,n,r);return this._ensureNodesHaveRanges(e,s)}_search(e,t,i,n){if(i)return this._decorationsTree1.search(e,t,n);{let r=this._decorationsTree0.search(e,t,n),s=this._decorationsTree1.search(e,t,n),a=this._injectedTextDecorationsTree.search(e,t,n);return r.concat(s).concat(a)}}collectNodesFromOwner(e){let t=this._decorationsTree0.collectNodesFromOwner(e),i=this._decorationsTree1.collectNodesFromOwner(e),n=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(i).concat(n)}collectNodesPostOrder(){let e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),i=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(i)}insert(e){s2(e)?this._injectedTextDecorationsTree.insert(e):r2(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){s2(e)?this._injectedTextDecorationsTree.delete(e):r2(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){let i=e.getVersionId();return t.cachedVersionId!==i&&this._resolveNode(t,i),t.range===null&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){s2(e)?this._injectedTextDecorationsTree.resolveNode(e,t):r2(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,i,n){this._decorationsTree0.acceptReplace(e,t,i,n),this._decorationsTree1.acceptReplace(e,t,i,n),this._injectedTextDecorationsTree.acceptReplace(e,t,i,n)}};l2=class{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}},D$=class extends l2{constructor(e){super(e);this._resolvedColor=null,this.position=typeof e.position=="number"?e.position:Oo.Center}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if(typeof e=="string")return e;let i=e?t.getColor(e.id):null;return i?i.toString():""}},L$=class extends l2{constructor(e){super(e);this.position=e.position}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return typeof e=="string"?Z.fromHex(e):t.getColor(e.id)}},Kv=class{constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1}static from(e){return e instanceof Kv?e:new Kv(e)}},Ze=class{constructor(e){var t;this.description=e.description,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?cg(e.className):null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new D$(e.overviewRuler):null,this.minimap=e.minimap?new L$(e.minimap):null,this.glyphMarginClassName=e.glyphMarginClassName?cg(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?cg(e.linesDecorationsClassName):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?cg(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?cg(e.marginClassName):null,this.inlineClassName=e.inlineClassName?cg(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?cg(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?cg(e.afterContentClassName):null,this.after=e.after?Kv.from(e.after):null,this.before=e.before?Kv.from(e.before):null,this.hideInCommentTokens=(t=e.hideInCommentTokens)!==null&&t!==void 0?t:!1}static register(e){return new Ze(e)}static createDynamic(e){return new Ze(e)}};Ze.EMPTY=Ze.register({description:"empty"});k$=[Ze.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Ze.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Ze.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Ze.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];O$=class extends ${constructor(e){super();this.handleBeforeFire=e,this._actual=this._register(new F),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var e;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);let t={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(t)}(e=this._affectedInjectedTextLines)===null||e===void 0||e.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){this._affectsMinimap||(this._affectsMinimap=!!(e.minimap&&e.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(e.overviewRuler&&e.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}},T$=class extends ${constructor(){super();this._fastEmitter=this._register(new F),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new F),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;let t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e;return}this._fastEmitter.fire(e),this._slowEmitter.fire(e)}}});function iy(o,e=!1){let t=_he(o);Ep.push(t),t.userConfigured?jk.push(t):h2.push(t),e&&!t.userConfigured&&Ep.forEach(i=>{i.mime===t.mime||i.userConfigured||(t.extension&&i.extension===t.extension&&console.warn(`Overwriting extension <<${t.extension}>> to now point to mime <<${t.mime}>>`),t.filename&&i.filename===t.filename&&console.warn(`Overwriting filename <<${t.filename}>> to now point to mime <<${t.mime}>>`),t.filepattern&&i.filepattern===t.filepattern&&console.warn(`Overwriting filepattern <<${t.filepattern}>> to now point to mime <<${t.mime}>>`),t.firstline&&i.firstline===t.firstline&&console.warn(`Overwriting firstline <<${t.firstline}>> to now point to mime <<${t.mime}>>`))})}function _he(o){return{id:o.id,mime:o.mime,filename:o.filename,extension:o.extension,filepattern:o.filepattern,firstline:o.firstline,userConfigured:o.userConfigured,filenameLowercase:o.filename?o.filename.toLowerCase():void 0,extensionLowercase:o.extension?o.extension.toLowerCase():void 0,filepatternLowercase:o.filepattern?CR(o.filepattern.toLowerCase()):void 0,filepatternOnPath:o.filepattern?o.filepattern.indexOf(an.sep)>=0:!1}}function B$(o){o?(Ep=Ep.filter(e=>!e.userConfigured),jk=[]):(Ep=[],h2=[],jk=[])}function j$(o,e){let t;if(o)switch(o.scheme){case nt.file:t=o.fsPath;break;case nt.data:t=wd.parseMetaData(o).get(wd.META_DATA_LABEL);break;default:t=o.path}if(!t)return[us.unknown];t=t.toLowerCase();let i=ud(t),n=W$(t,i,jk);if(n)return[n,us.text];let r=W$(t,i,h2);if(r)return[r,us.text];if(e){let s=bhe(e);if(s)return[s,us.text]}return[us.unknown]}function W$(o,e,t){var i;let n=null,r=null,s=null;for(let a=t.length-1;a>=0;a--){let l=t[a];if(e===l.filenameLowercase){n=l;break}if(l.filepattern&&(!r||l.filepattern.length>r.filepattern.length)){let c=l.filepatternOnPath?o:e;((i=l.filepatternLowercase)===null||i===void 0?void 0:i.call(l,c))&&(r=l)}l.extension&&(!s||l.extension.length>s.extension.length)&&e.endsWith(l.extensionLowercase)&&(s=l)}return n?n.mime:r?r.mime:s?s.mime:null}function bhe(o){if(Pb(o)&&(o=o.substr(1)),o.length>0)for(let e=Ep.length-1;e>=0;e--){let t=Ep[e];if(!t.firstline)continue;let i=o.match(t.firstline);if(i&&i.length>0)return t.mime}return null}var us,Ep,h2,jk,Yv=ge(()=>{yR();ns();kf();Er();je();(function(o){o.text="text/plain",o.binary="application/octet-stream",o.unknown="application/unknown",o.markdown="text/markdown",o.latex="text/latex"})(us||(us={}));Ep=[],h2=[],jk=[]});var A,Yi=ge(()=>{xe();_t();(function(o){o.editorSimpleInput=new be("editorSimpleInput",!1,!0),o.editorTextFocus=new be("editorTextFocus",!1,g("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),o.focus=new be("editorFocus",!1,g("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),o.textInputFocus=new be("textInputFocus",!1,g("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),o.readOnly=new be("editorReadonly",!1,g("editorReadonly","Whether the editor is read only")),o.inDiffEditor=new be("inDiffEditor",!1,g("inDiffEditor","Whether the context is a diff editor")),o.columnSelection=new be("editorColumnSelection",!1,g("editorColumnSelection","Whether `editor.columnSelection` is enabled")),o.writable=o.readOnly.toNegated(),o.hasNonEmptySelection=new be("editorHasSelection",!1,g("editorHasSelection","Whether the editor has text selected")),o.hasOnlyEmptySelection=o.hasNonEmptySelection.toNegated(),o.hasMultipleSelections=new be("editorHasMultipleSelections",!1,g("editorHasMultipleSelections","Whether the editor has multiple selections")),o.hasSingleSelection=o.hasMultipleSelections.toNegated(),o.tabMovesFocus=new be("editorTabMovesFocus",!1,g("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),o.tabDoesNotMoveFocus=o.tabMovesFocus.toNegated(),o.isInWalkThroughSnippet=new be("isInEmbeddedEditor",!1,!0),o.canUndo=new be("canUndo",!1,!0),o.canRedo=new be("canRedo",!1,!0),o.hoverVisible=new be("editorHoverVisible",!1,g("editorHoverVisible","Whether the editor hover is visible")),o.inCompositeEditor=new be("inCompositeEditor",void 0,g("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),o.notInCompositeEditor=o.inCompositeEditor.toNegated(),o.languageId=new be("editorLangId","",g("editorLangId","The language identifier of the editor")),o.hasCompletionItemProvider=new be("editorHasCompletionItemProvider",!1,g("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),o.hasCodeActionsProvider=new be("editorHasCodeActionsProvider",!1,g("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),o.hasCodeLensProvider=new be("editorHasCodeLensProvider",!1,g("editorHasCodeLensProvider","Whether the editor has a code lens provider")),o.hasDefinitionProvider=new be("editorHasDefinitionProvider",!1,g("editorHasDefinitionProvider","Whether the editor has a definition provider")),o.hasDeclarationProvider=new be("editorHasDeclarationProvider",!1,g("editorHasDeclarationProvider","Whether the editor has a declaration provider")),o.hasImplementationProvider=new be("editorHasImplementationProvider",!1,g("editorHasImplementationProvider","Whether the editor has an implementation provider")),o.hasTypeDefinitionProvider=new be("editorHasTypeDefinitionProvider",!1,g("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),o.hasHoverProvider=new be("editorHasHoverProvider",!1,g("editorHasHoverProvider","Whether the editor has a hover provider")),o.hasDocumentHighlightProvider=new be("editorHasDocumentHighlightProvider",!1,g("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),o.hasDocumentSymbolProvider=new be("editorHasDocumentSymbolProvider",!1,g("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),o.hasReferenceProvider=new be("editorHasReferenceProvider",!1,g("editorHasReferenceProvider","Whether the editor has a reference provider")),o.hasRenameProvider=new be("editorHasRenameProvider",!1,g("editorHasRenameProvider","Whether the editor has a rename provider")),o.hasSignatureHelpProvider=new be("editorHasSignatureHelpProvider",!1,g("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),o.hasInlayHintsProvider=new be("editorHasInlayHintsProvider",!1,g("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),o.hasDocumentFormattingProvider=new be("editorHasDocumentFormattingProvider",!1,g("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),o.hasDocumentSelectionFormattingProvider=new be("editorHasDocumentSelectionFormattingProvider",!1,g("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),o.hasMultipleDocumentFormattingProvider=new be("editorHasMultipleDocumentFormattingProvider",!1,g("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),o.hasMultipleDocumentSelectionFormattingProvider=new be("editorHasMultipleDocumentSelectionFormattingProvider",!1,g("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(A||(A={}))});var zhe,yK,Lu,Gd,Vhe,fw=ge(()=>{xe();Se();zo();Ur();Yv();rp();zhe={ModesRegistry:"editor.modesRegistry"},yK=class{constructor(){this._onDidChangeLanguages=new F,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,i=this._languages.length;t<i;t++)if(this._languages[t]===e){this._languages.splice(t,1);return}}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}},Lu=new yK;ki.add(zhe.ModesRegistry,Lu);Gd="plaintext",Vhe=".txt";Lu.registerLanguage({id:Gd,extensions:[Vhe],aliases:[g("plainText.alias","Plain Text"),"text"],mimetypes:[us.text]});xt.register(Gd,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0);ki.as(Ha.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1}}}])});var U4,TK,z4,NK=ge(()=>{Dt();_t();Ei();Rh();Ge();Dd();xe();U4=Fe("IEditorCancelService"),TK=new be("cancellableOperation",!1,g("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));as(U4,class{constructor(){this._tokens=new WeakMap}add(o,e){let t=this._tokens.get(o);t||(t=o.invokeWithinContext(n=>{let r=TK.bindTo(n.get(Ce)),s=new io;return{key:r,tokens:s}}),this._tokens.set(o,t));let i;return t.key.set(!0),i=t.tokens.push(e),()=>{i&&(i(),t.key.set(!t.tokens.isEmpty()),i=void 0)}}cancel(o){let e=this._tokens.get(o);if(!e)return;let t=e.tokens.pop();t&&(t.cancel(),e.key.set(!e.tokens.isEmpty()))}},!0);z4=class extends sn{constructor(e,t){super(t);this.editor=e,this._unregister=e.invokeWithinContext(i=>i.get(U4).add(e,this))}dispose(){this._unregister(),super.dispose()}};ue(new class extends Hi{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:TK})}runEditorCommand(o,e){o.get(U4).cancel(e)}})});var yg,ku,mw,Xa,Wc=ge(()=>{je();ve();Ei();ne();NK();yg=class{constructor(e,t){if(this.flags=t,(this.flags&1)!==0){let i=e.getModel();this.modelVersionId=i?vc("{0}#{1}",i.uri.toString(),i.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!==0?this.position=e.getPosition():this.position=null,(this.flags&2)!==0?this.selection=e.getSelection():this.selection=null,(this.flags&8)!==0?(this.scrollLeft=e.getScrollLeft(),this.scrollTop=e.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(e){if(!(e instanceof yg))return!1;let t=e;return!(this.modelVersionId!==t.modelVersionId||this.scrollLeft!==t.scrollLeft||this.scrollTop!==t.scrollTop||!this.position&&t.position||this.position&&!t.position||this.position&&t.position&&!this.position.equals(t.position)||!this.selection&&t.selection||this.selection&&!t.selection||this.selection&&t.selection&&!this.selection.equalsRange(t.selection))}validate(e){return this._equals(new yg(e,this.flags))}},ku=class extends z4{constructor(e,t,i,n){super(e,n);this._listener=new Q,t&4&&this._listener.add(e.onDidChangeCursorPosition(r=>{(!i||!D.containsPosition(i,r.position))&&this.cancel()})),t&2&&this._listener.add(e.onDidChangeCursorSelection(r=>{(!i||!D.containsRange(i,r.selection))&&this.cancel()})),t&8&&this._listener.add(e.onDidScrollChange(r=>this.cancel())),t&1&&(this._listener.add(e.onDidChangeModel(r=>this.cancel())),this._listener.add(e.onDidChangeModelContent(r=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}},mw=class extends sn{constructor(e,t){super(t);this._listener=e.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}},Xa=class{constructor(e,t,i){this._visiblePosition=e,this._visiblePositionScrollDelta=t,this._cursorPosition=i}static capture(e){let t=null,i=0;if(e.getScrollTop()!==0){let n=e.getVisibleRanges();if(n.length>0){t=n[0].getStartPosition();let r=e.getTopForPosition(t.lineNumber,t.column);i=e.getScrollTop()-r}}return new Xa(t,i,e.getPosition())}restore(e){if(this._visiblePosition){let t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){let t=e.getPosition();if(!this._cursorPosition||!t)return;let i=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+i)}}});var nKe,Hl,Vr,$l=ge(()=>{Ge();nKe=Object.freeze({total(){},worked(){},done(){}}),Hl=class{constructor(e){this.callback=e}report(e){this._value=e,this.callback(this._value)}};Hl.None=Object.freeze({report(){}});Vr=Fe("editorProgressService")});function _I(o,e,t){let i=o.data,n=o.data.length/5|0,r=Math.max(Math.ceil(n/1024),400),s=[],a=0,l=1,c=0;for(;a<n;){let d=a,h=Math.min(d+r,n);if(h<n){let S=h;for(;S-1>d&&i[5*S]===0;)S--;if(S-1===d){let x=h;for(;x+1<n&&i[5*x]===0;)x++;h=x}else h=S}let u=new Uint32Array((h-d)*4),f=0,p=0,b=0,v=0,y=0;for(;a<h;){let S=5*a,x=i[S],k=i[S+1],R=l+x|0,O=x===0?c+k|0:k,N=i[S+2],W=i[S+3],G=i[S+4],Y=e.getMetadata(W,G,t);Y!==2147483647&&(p===0&&(p=R),b===R&&y>O&&(e.warnOverlappingSemanticTokens(R,O+1),v<O?u[f-4+2]=O:f-=4),u[f]=R-p,u[f+1]=O,u[f+2]=O+N,u[f+3]=Y,f+=4,b=R,v=O,y=O+N),l=R,c=O,a++}f!==u.length&&(u=u.subarray(0,f));let w=new Av(p,new Mv(u));s.push(w)}return s}var Lue,iF,pI,XK,eh,nF=ge(()=>{Tt();dt();Td();Fv();ar();Lue=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},iF=function(o,e){return function(t,i){e(t,i,o)}},pI=class{constructor(e,t,i,n){this._legend=e,this._themeService=t,this._modeService=i,this._logService=n,this._hashTable=new eh,this._hasWarnedOverlappingTokens=!1}getMetadata(e,t,i){let n=this._modeService.languageIdCodec.encodeLanguageId(i),r=this._hashTable.get(e,t,n),s;if(r)s=r.metadata,this._logService.getLevel()===Pl.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${sr.getForeground(s)}, fontStyle ${sr.getFontStyle(s).toString(2)}`);else{let a=this._legend.tokenTypes[e],l=[];if(a){let c=t;for(let h=0;c>0&&h<this._legend.tokenModifiers.length;h++)c&1&&l.push(this._legend.tokenModifiers[h]),c=c>>1;c>0&&this._logService.getLevel()===Pl.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),l.push("not-in-legend"));let d=this._themeService.getColorTheme().getTokenStyleMetadata(a,l,i);typeof d=="undefined"?s=2147483647:(s=0,typeof d.italic!="undefined"&&(s|=(d.italic?1:0)<<11|1),typeof d.bold!="undefined"&&(s|=(d.bold?2:0)<<11|2),typeof d.underline!="undefined"&&(s|=(d.underline?4:0)<<11|4),d.foreground&&(s|=d.foreground<<14|8),s===0&&(s=2147483647))}else this._logService.getLevel()===Pl.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),s=2147483647,a="not-in-legend";this._hashTable.add(e,t,n,s),this._logService.getLevel()===Pl.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${a}) / ${t} (${l.join(" ")}): foreground ${sr.getForeground(s)}, fontStyle ${sr.getFontStyle(s).toString(2)}`)}return s}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}};pI=Lue([iF(1,Rt),iF(2,Pi),iF(3,cr)],pI);XK=class{constructor(e,t,i,n){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=i,this.metadata=n,this.next=null}},eh=class{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=eh._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<eh._SIZES.length?2/3*this._currentLength:0),this._elements=[],eh._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let i=0;i<t;i++)e[i]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,i){return this._hash2(this._hash2(e,t),i)%this._currentLength}get(e,t,i){let n=this._hashFunc(e,t,i),r=this._elements[n];for(;r;){if(r.tokenTypeIndex===e&&r.tokenModifierSet===t&&r.languageId===i)return r;r=r.next}return null}add(e,t,i,n){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){let r=this._elements;this._currentLengthIndex++,this._currentLength=eh._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<eh._SIZES.length?2/3*this._currentLength:0),this._elements=[],eh._nullOutEntries(this._elements,this._currentLength);for(let s of r){let a=s;for(;a;){let l=a.next;a.next=null,this._add(a),a=l}}}this._add(new XK(e,t,i,n))}_add(e){let t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}};eh._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]});function kue(o){for(let e=0,t=o.length;e<t;e+=4){let i=o[e+0],n=o[e+1],r=o[e+2],s=o[e+3];o[e+0]=s,o[e+1]=r,o[e+2]=n,o[e+3]=i}}function Iue(o){let e=new Uint8Array(o.buffer,o.byteOffset,o.length*4);return hx()||kue(e),Rm.wrap(e)}function oF(o){let e=new Uint32Array(Oue(o)),t=0;if(e[t++]=o.id,o.type==="full")e[t++]=1,e[t++]=o.data.length,e.set(o.data,t),t+=o.data.length;else{e[t++]=2,e[t++]=o.deltas.length;for(let i of o.deltas)e[t++]=i.start,e[t++]=i.deleteCount,i.data?(e[t++]=i.data.length,e.set(i.data,t),t+=i.data.length):e[t++]=0}return Iue(e)}function Oue(o){let e=0;if(e+=1+1,o.type==="full")e+=1+o.data.length;else{e+=1,e+=(1+1+1)*o.deltas.length;for(let t of o.deltas)t.data&&(e+=t.data.length)}return e}var QK=ge(()=>{Rb();wt()});function ky(o){return o&&!!o.data}function rF(o){return o&&Array.isArray(o.edits)}function sF(o){return Yh.has(o)}function Tue(o){let e=Yh.orderedGroups(o);return e.length>0?e[0]:[]}function aF(o,e,t,i){return xg(this,void 0,void 0,function*(){let n=Tue(o),r=yield Promise.all(n.map(s=>xg(this,void 0,void 0,function*(){let a,l=null;try{a=yield s.provideDocumentSemanticTokens(o,s===e?t:null,i)}catch(c){l=c,a=null}return(!a||!ky(a)&&!rF(a))&&(a=null),new JK(s,a,l)})));for(let s of r){if(s.error)throw s.error;if(s.tokens)return s}return r.length>0?r[0]:null})}function Nue(o){let e=Yh.orderedGroups(o);return e.length>0?e[0]:null}function tY(o){return Vm.has(o)}function iY(o){let e=Vm.orderedGroups(o);return e.length>0?e[0]:[]}function bI(o,e,t){return xg(this,void 0,void 0,function*(){let i=iY(o),n=yield Promise.all(i.map(r=>xg(this,void 0,void 0,function*(){let s;try{s=yield r.provideDocumentRangeSemanticTokens(o,e,t)}catch(a){Di(a),s=null}return(!s||!ky(s))&&(s=null),new eY(r,s)})));for(let r of n)if(r.tokens)return r;return n.length>0?n[0]:null})}var xg,JK,eY,lF=ge(()=>{Ei();st();Ai();Tt();xr();zi();di();QK();ve();xg=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})};JK=class{constructor(e,t,i){this.provider=e,this.tokens=t,this.error=i}};eY=class{constructor(e,t){this.provider=e,this.tokens=t}};rt.registerCommand("_provideDocumentSemanticTokensLegend",(o,...e)=>xg(void 0,void 0,void 0,function*(){let[t]=e;$t(t instanceof Ee);let i=o.get(Ci).getModel(t);if(!i)return;let n=Nue(i);return n?n[0].getLegend():o.get(li).executeCommand("_provideDocumentRangeSemanticTokensLegend",t)}));rt.registerCommand("_provideDocumentSemanticTokens",(o,...e)=>xg(void 0,void 0,void 0,function*(){let[t]=e;$t(t instanceof Ee);let i=o.get(Ci).getModel(t);if(!i)return;if(!sF(i))return o.get(li).executeCommand("_provideDocumentRangeSemanticTokens",t,i.getFullModelRange());let n=yield aF(i,null,null,qe.None);if(!n)return;let{provider:r,tokens:s}=n;if(!s||!ky(s))return;let a=oF({id:0,type:"full",data:s.data});return s.resultId&&r.releaseDocumentSemanticTokens(s.resultId),a}));rt.registerCommand("_provideDocumentRangeSemanticTokensLegend",(o,...e)=>xg(void 0,void 0,void 0,function*(){let[t,i]=e;$t(t instanceof Ee);let n=o.get(Ci).getModel(t);if(!n)return;let r=iY(n);if(r.length===0)return;if(r.length===1)return r[0].getLegend();if(!i||!D.isIRange(i))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),r[0].getLegend();let s=yield bI(n,D.lift(i),qe.None);if(!!s)return s.provider.getLegend()}));rt.registerCommand("_provideDocumentRangeSemanticTokens",(o,...e)=>xg(void 0,void 0,void 0,function*(){let[t,i]=e;$t(t instanceof Ee),$t(D.isIRange(i));let n=o.get(Ci).getModel(t);if(!n)return;let r=yield bI(n,D.lift(i),qe.None);if(!(!r||!r.tokens))return oF({id:0,type:"full",data:r.tokens.data})}))});function Dg(o){return o.toString()}function nY(o){let e=new jb,t=o.createSnapshot(),i;for(;i=t.read();)e.update(i);return e.digest()}function wI(o,e,t){var i;let n=(i=t.getValue(vI,{overrideIdentifier:o.getLanguageId(),resource:o.uri}))===null||i===void 0?void 0:i.enabled;return typeof n=="boolean"?n:e.getColorTheme().semanticHighlighting}var Pue,$p,oY,Rue,rY,Iy,vI,sY,aY,lY,Lg,cF=ge(()=>{Se();ne();wt();st();An();Wn();Tt();fw();ar();Y0();lr();tt();Ei();dt();Td();jv();Wb();bA();ns();nF();lF();Wo();zo();Pue=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},$p=function(o,e){return function(t,i){e(t,i,o)}};oY=class{constructor(e,t,i){this._modelEventListeners=new Q,this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(n=>i(e,n)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(e){this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(e.languageId)),this.model.setMode(e.languageId)}},Rue=rn||Xe?1:2,rY=class{constructor(e,t,i,n,r,s,a,l){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=n,this.heapSize=r,this.sha1=s,this.versionId=a,this.alternativeVersionId=l}},Iy=class Oy extends ${constructor(e,t,i,n,r,s,a){super();this._configurationService=e,this._resourcePropertiesService=t,this._themeService=i,this._logService=n,this._undoRedoService=r,this._modeService=s,this._languageConfigurationService=a,this._onModelAdded=this._register(new F),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new F),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new F),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new aY(this._themeService,this._modeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new sY(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(e,t){var i;let n=Do.tabSize;if(e.editor&&typeof e.editor.tabSize!="undefined"){let f=parseInt(e.editor.tabSize,10);isNaN(f)||(n=f),n<1&&(n=1)}let r=n;if(e.editor&&typeof e.editor.indentSize!="undefined"&&e.editor.indentSize!=="tabSize"){let f=parseInt(e.editor.indentSize,10);isNaN(f)||(r=f),r<1&&(r=1)}let s=Do.insertSpaces;e.editor&&typeof e.editor.insertSpaces!="undefined"&&(s=e.editor.insertSpaces==="false"?!1:Boolean(e.editor.insertSpaces));let a=Rue,l=e.eol;l===`\r
`?a=2:l===`
`&&(a=1);let c=Do.trimAutoWhitespace;e.editor&&typeof e.editor.trimAutoWhitespace!="undefined"&&(c=e.editor.trimAutoWhitespace==="false"?!1:Boolean(e.editor.trimAutoWhitespace));let d=Do.detectIndentation;e.editor&&typeof e.editor.detectIndentation!="undefined"&&(d=e.editor.detectIndentation==="false"?!1:Boolean(e.editor.detectIndentation));let h=Do.largeFileOptimizations;e.editor&&typeof e.editor.largeFileOptimizations!="undefined"&&(h=e.editor.largeFileOptimizations==="false"?!1:Boolean(e.editor.largeFileOptimizations));let u=Do.bracketPairColorizationOptions;return((i=e.editor)===null||i===void 0?void 0:i.bracketPairColorization)&&typeof e.editor.bracketPairColorization=="object"&&(u={enabled:!!e.editor.bracketPairColorization.enabled}),{isForSimpleWidget:t,tabSize:n,indentSize:r,insertSpaces:s,detectIndentation:d,defaultEOL:a,trimAutoWhitespace:c,largeFileOptimizations:h,bracketPairColorizationOptions:u}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);let i=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return i&&typeof i=="string"&&i!=="auto"?i:Jo===3||Jo===2?`
`:`\r
`}_shouldRestoreUndoStack(){let e=this._configurationService.getValue("files.restoreUndoStack");return typeof e=="boolean"?e:!0}getCreationOptions(e,t,i){let n=this._modelCreationOptionsByLanguageAndResource[e+t];if(!n){let r=this._configurationService.getValue("editor",{overrideIdentifier:e,resource:t}),s=this._getEOL(t,e);n=Oy._readModelOptions({editor:r,eol:s},i),this._modelCreationOptionsByLanguageAndResource[e+t]=n}return n}_updateModelOptions(){let e=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);let t=Object.keys(this._models);for(let i=0,n=t.length;i<n;i++){let r=t[i],s=this._models[r],a=s.model.getLanguageId(),l=s.model.uri,c=e[a+l],d=this.getCreationOptions(a,l,s.model.isForSimpleWidget);Oy._setModelOptionsForModel(s.model,d,c)}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&e.getLineCount()===1&&e.setEOL(t.defaultEOL===1?0:1),!(i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.indentSize===t.indentSize&&i.trimAutoWhitespace===t.trimAutoWhitespace&&ir(i.bracketPairColorizationOptions,t.bracketPairColorizationOptions))&&(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(Dg(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){let t=this._disposedModels.get(Dg(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(Dg(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){let t=[];for(this._disposedModels.forEach(i=>{i.sharesUndoRedoStack||t.push(i)}),t.sort((i,n)=>i.time-n.time);t.length>0&&this._disposedModelsHeapSize>e;){let i=t.shift();this._removeDisposedModel(i.uri),i.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(i.initialUndoRedoSnapshot)}}}_createModelData(e,t,i,n){let r=this.getCreationOptions(t,i,n),s=new Po(e,r,t,i,this._undoRedoService,this._modeService,this._languageConfigurationService);if(i&&this._disposedModels.has(Dg(i))){let c=this._removeDisposedModel(i),d=this._undoRedoService.getElements(i),h=nY(s)===c.sha1;if(h||c.sharesUndoRedoStack){for(let u of d.past)Wd(u)&&u.matchesResource(i)&&u.setModel(s);for(let u of d.future)Wd(u)&&u.matchesResource(i)&&u.setModel(s);this._undoRedoService.setElementsValidFlag(i,!0,u=>Wd(u)&&u.matchesResource(i)),h&&(s._overwriteVersionId(c.versionId),s._overwriteAlternativeVersionId(c.alternativeVersionId),s._overwriteInitialUndoRedoSnapshot(c.initialUndoRedoSnapshot))}else c.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(c.initialUndoRedoSnapshot)}let a=Dg(s.uri);if(this._models[a])throw new Error("ModelService: Cannot add model because it already exists!");let l=new oY(s,c=>this._onWillDispose(c),(c,d)=>this._onDidChangeLanguage(c,d));return this._models[a]=l,l}createModel(e,t,i,n=!1){let r;return t?(r=this._createModelData(e,t.languageId,i,n),this.setMode(r.model,t)):r=this._createModelData(e,Gd,i,n),this._onModelAdded.fire(r.model),r.model}setMode(e,t){if(!t)return;let i=this._models[Dg(e.uri)];!i||i.setLanguage(t)}getModels(){let e=[],t=Object.keys(this._models);for(let i=0,n=t.length;i<n;i++){let r=t[i];e.push(this._models[r].model)}return e}getModel(e){let t=Dg(e),i=this._models[t];return i?i.model:null}getSemanticTokensProviderStyling(e){return this._semanticStyling.get(e)}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===nt.file||e.scheme===nt.vscodeRemote||e.scheme===nt.userData||e.scheme===nt.vscodeNotebookCell||e.scheme==="fake-fs"}_onWillDispose(e){let t=Dg(e.uri),i=this._models[t],n=this._undoRedoService.getUriComparisonKey(e.uri)!==e.uri.toString(),r=!1,s=0;if(n||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(e.uri)){let l=this._undoRedoService.getElements(e.uri);if(l.past.length>0||l.future.length>0){for(let c of l.past)Wd(c)&&c.matchesResource(e.uri)&&(r=!0,s+=c.heapSize(e.uri),c.setModel(e.uri));for(let c of l.future)Wd(c)&&c.matchesResource(e.uri)&&(r=!0,s+=c.heapSize(e.uri),c.setModel(e.uri))}}let a=Oy.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(r)if(!n&&s>a){let l=i.model.getInitialUndoRedoSnapshot();l!==null&&this._undoRedoService.restoreSnapshot(l)}else this._ensureDisposedModelsHeapSize(a-s),this._undoRedoService.setElementsValidFlag(e.uri,!1,l=>Wd(l)&&l.matchesResource(e.uri)),this._insertDisposedModel(new rY(e.uri,i.model.getInitialUndoRedoSnapshot(),Date.now(),n,s,nY(e),e.getVersionId(),e.getAlternativeVersionId()));else if(!n){let l=i.model.getInitialUndoRedoSnapshot();l!==null&&this._undoRedoService.restoreSnapshot(l)}delete this._models[t],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageId()+e.uri],this._onModelRemoved.fire(e)}_onDidChangeLanguage(e,t){let i=t.oldLanguage,n=e.getLanguageId(),r=this.getCreationOptions(i,e.uri,e.isForSimpleWidget),s=this.getCreationOptions(n,e.uri,e.isForSimpleWidget);Oy._setModelOptionsForModel(e,s,r),this._onModelModeChanged.fire({model:e,oldModeId:i})}};Iy.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024;Iy=Pue([$p(0,Vt),$p(1,nL),$p(2,Rt),$p(3,cr),$p(4,Hd),$p(5,Pi),$p(6,qh)],Iy);vI="editor.semanticHighlighting";sY=class extends ${constructor(e,t,i,n){super();this._watchers=Object.create(null),this._semanticStyling=n;let r=l=>{this._watchers[l.uri.toString()]=new Lg(l,t,this._semanticStyling)},s=(l,c)=>{c.dispose(),delete this._watchers[l.uri.toString()]},a=()=>{for(let l of e.getModels()){let c=this._watchers[l.uri.toString()];wI(l,t,i)?c||r(l):c&&s(l,c)}};this._register(e.onModelAdded(l=>{wI(l,t,i)&&r(l)})),this._register(e.onModelRemoved(l=>{let c=this._watchers[l.uri.toString()];c&&s(l,c)})),this._register(i.onDidChangeConfiguration(l=>{l.affectsConfiguration(vI)&&a()})),this._register(t.onDidColorThemeChange(a))}},aY=class extends ${constructor(e,t,i){super();this._themeService=e,this._modeService=t,this._logService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(e){return this._caches.has(e)||this._caches.set(e,new pI(e.getLegend(),this._themeService,this._modeService,this._logService)),this._caches.get(e)}},lY=class{constructor(e,t,i){this.provider=e,this.resultId=t,this.data=i}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}},Lg=class extends ${constructor(e,t,i){super();this._isDisposed=!1,this._model=e,this._semanticStyling=i,this._fetchDocumentSemanticTokens=this._register(new bt(()=>this._fetchDocumentSemanticTokensNow(),Lg.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));let n=()=>{ct(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(let r of Yh.all(e))typeof r.onDidChange=="function"&&this._documentProvidersChangeListeners.push(r.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};n(),this._register(Yh.onDidChange(()=>{n(),this._fetchDocumentSemanticTokens.schedule()})),this._register(t.onDidColorThemeChange(r=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!sF(this._model)){this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1);return}let e=new sn,t=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,i=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,n=aF(this._model,t,i,e.token);this._currentDocumentRequestCancellationTokenSource=e;let r=[],s=this._model.onDidChangeContent(a=>{r.push(a)});n.then(a=>{if(this._currentDocumentRequestCancellationTokenSource=null,s.dispose(),!a)this._setDocumentSemanticTokens(null,null,null,r);else{let{provider:l,tokens:c}=a,d=this._semanticStyling.get(l);this._setDocumentSemanticTokens(l,c||null,d,r)}},a=>{a&&(es(a)||typeof a.message=="string"&&a.message.indexOf("busy")!==-1)||ye(a),this._currentDocumentRequestCancellationTokenSource=null,s.dispose(),r.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}static _copy(e,t,i,n,r){for(let s=0;s<r;s++)i[n+s]=e[t+s]}_setDocumentSemanticTokens(e,t,i,n){let r=this._currentDocumentResponse,s=()=>{n.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){e&&t&&e.releaseDocumentSemanticTokens(t.resultId);return}if(!e||!i){this._model.setSemanticTokens(null,!1);return}if(!t){this._model.setSemanticTokens(null,!0),s();return}if(rF(t)){if(!r){this._model.setSemanticTokens(null,!0);return}if(t.edits.length===0)t={resultId:t.resultId,data:r.data};else{let a=0;for(let u of t.edits)a+=(u.data?u.data.length:0)-u.deleteCount;let l=r.data,c=new Uint32Array(l.length+a),d=l.length,h=c.length;for(let u=t.edits.length-1;u>=0;u--){let f=t.edits[u],p=d-(f.start+f.deleteCount);p>0&&(Lg._copy(l,d-p,c,h-p,p),h-=p),f.data&&(Lg._copy(f.data,0,c,h-f.data.length,f.data.length),h-=f.data.length),d=f.start}d>0&&Lg._copy(l,0,c,0,d),t={resultId:t.resultId,data:c}}}if(ky(t)){this._currentDocumentResponse=new lY(e,t.resultId,t.data);let a=_I(t,i,this._model.getLanguageId());if(n.length>0)for(let l of n)for(let c of a)for(let d of l.changes)c.applyEdit(d.range,d.text);this._model.setSemanticTokens(a,!0)}else this._model.setSemanticTokens(null,!0);s()}};Lg.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300});var Bu,O5=ge(()=>{Ml();ve();Bu=class{static _handleEolEdits(e,t){let i,n=[];for(let r of t)typeof r.eol=="number"&&(i=r.eol),r.range&&typeof r.text=="string"&&n.push(r);return typeof i=="number"&&e.hasModel()&&e.getModel().pushEOL(i),n}static _isFullModelReplaceEdit(e,t){if(!e.hasModel())return!1;let i=e.getModel(),n=i.validateRange(t.range);return i.getFullModelRange().equalsRange(n)}static execute(e,t,i){i&&e.pushUndoStop();let n=Bu._handleEolEdits(e,t);n.length===1&&Bu._isFullModelReplaceEdit(e,n[0])?e.executeEdits("formatEditsCommand",n.map(r=>ui.replace(D.lift(r.range),r.text))):e.executeEdits("formatEditsCommand",n.map(r=>ui.replaceMove(D.lift(r.range),r.text))),i&&e.pushUndoStop()}}});var dS,yZ=ge(()=>{dS=class{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return typeof e=="string"?e.toLowerCase():e._lower}}});function OO(o){if(o=o.filter(n=>n.range),!o.length)return;let{range:e}=o[0];for(let n=1;n<o.length;n++)e=D.plusRange(e,o[n].range);let{startLineNumber:t,endLineNumber:i}=e;t===i?o.length===1?un(g("hint11","Made 1 formatting edit on line {0}",t)):un(g("hintn1","Made {0} formatting edits on line {1}",o.length,t)):o.length===1?un(g("hint1n","Made 1 formatting edit between lines {0} and {1}",t,i)):un(g("hintnn","Made {0} formatting edits between lines {1} and {2}",o.length,t,i))}function SZ(o){let e=[],t=new Set,i=Wf.ordered(o);for(let r of i)e.push(r),r.extensionId&&t.add(dS.toKey(r.extensionId));let n=Ns.ordered(o);for(let r of n){if(r.extensionId){if(t.has(dS.toKey(r.extensionId)))continue;t.add(dS.toKey(r.extensionId))}e.push({displayName:r.displayName,extensionId:r.extensionId,provideDocumentFormattingEdits(s,a,l){return r.provideDocumentRangeFormattingEdits(s,s.getFullModelRange(),a,l)}})}return e}function T5(o,e,t,i,n,r){return Vc(this,void 0,void 0,function*(){let s=o.get(Ve),a=Rl(e)?e.getModel():e,l=Ns.ordered(a),c=yield ju.select(l,a,i);c&&(n.report(c),yield s.invokeFunction(Sme,c,e,t,r))})}function Sme(o,e,t,i,n){return Vc(this,void 0,void 0,function*(){let r=o.get(ro),s,a;Rl(t)?(s=t.getModel(),a=new ku(t,1|4,void 0,n)):(s=t,a=new mw(t,n));let l=[],c=0;for(let p of hb(i).sort(D.compareRangesUsingStarts))c>0&&D.areIntersectingOrTouching(l[c-1],p)?l[c-1]=D.fromPositions(l[c-1].getStartPosition(),p.getEndPosition()):c=l.push(p);let d=p=>Vc(this,void 0,void 0,function*(){return(yield e.provideDocumentRangeFormattingEdits(s,p,s.getFormattingOptions(),a.token))||[]}),h=(p,b)=>{if(!p.length||!b.length)return!1;let v=p.reduce((y,w)=>D.plusRange(y,w.range),p[0].range);if(!b.some(y=>D.intersectRanges(v,y.range)))return!1;for(let y of p)for(let w of b)if(D.intersectRanges(y.range,w.range))return!0;return!1},u=[],f=[];try{for(let p of l){if(a.token.isCancellationRequested)return!0;f.push(yield d(p))}for(let p=0;p<l.length;++p)for(let b=p+1;b<l.length;++b){if(a.token.isCancellationRequested)return!0;if(h(f[p],f[b])){let v=D.plusRange(l[p],l[b]),y=yield d(v);l.splice(b,1),l.splice(p,1),l.push(v),f.splice(b,1),f.splice(p,1),f.push(y),p=0,b=0}}for(let p of f){if(a.token.isCancellationRequested)return!0;let b=yield r.computeMoreMinimalEdits(s.uri,p);b&&u.push(...b)}}finally{a.dispose()}if(u.length===0)return!1;if(Rl(t))Bu.execute(t,u,!0),OO(u),t.revealPositionInCenterIfOutsideViewport(t.getPosition(),1);else{let[{range:p}]=u,b=new de(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn);s.pushEditOperations([b],u.map(v=>({text:v.text,range:D.lift(v.range),forceMoveMarkers:!0})),v=>{for(let{range:y}of v)if(D.areIntersectingOrTouching(y,b))return[new de(y.startLineNumber,y.startColumn,y.endLineNumber,y.endColumn)];return null})}return!0})}function EZ(o,e,t,i,n){return Vc(this,void 0,void 0,function*(){let r=o.get(Ve),s=Rl(e)?e.getModel():e,a=SZ(s),l=yield ju.select(a,s,t);l&&(i.report(l),yield r.invokeFunction(Eme,l,e,t,n))})}function Eme(o,e,t,i,n){return Vc(this,void 0,void 0,function*(){let r=o.get(ro),s,a;Rl(t)?(s=t.getModel(),a=new ku(t,1|4,void 0,n)):(s=t,a=new mw(t,n));let l;try{let c=yield e.provideDocumentFormattingEdits(s,s.getFormattingOptions(),a.token);if(l=yield r.computeMoreMinimalEdits(s.uri,c),a.token.isCancellationRequested)return!0}finally{a.dispose()}if(!l||l.length===0)return!1;if(Rl(t))Bu.execute(t,l,i!==2),i!==2&&(OO(l),t.revealPositionInCenterIfOutsideViewport(t.getPosition(),1));else{let[{range:c}]=l,d=new de(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn);s.pushEditOperations([d],l.map(h=>({text:h.text,range:D.lift(h.range),forceMoveMarkers:!0})),h=>{for(let{range:u}of h)if(D.areIntersectingOrTouching(u,d))return[new de(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn)];return null})}return!0})}function xme(o,e,t,i,n){return Vc(this,void 0,void 0,function*(){let r=Ns.ordered(e);for(let s of r){let a=yield Promise.resolve(s.provideDocumentRangeFormattingEdits(e,t,i,n)).catch(Di);if(kn(a))return yield o.computeMoreMinimalEdits(e.uri,a)}})}function Dme(o,e,t,i){return Vc(this,void 0,void 0,function*(){let n=SZ(e);for(let r of n){let s=yield Promise.resolve(r.provideDocumentFormattingEdits(e,t,i)).catch(Di);if(kn(s))return yield o.computeMoreMinimalEdits(e.uri,s)}})}function N5(o,e,t,i,n){let r=zm.ordered(e);return r.length===0||r[0].autoFormatTriggerCharacters.indexOf(i)<0?Promise.resolve(void 0):Promise.resolve(r[0].provideOnTypeFormattingEdits(e,t,i,n,qe.None)).catch(Di).then(s=>o.computeMoreMinimalEdits(e.uri,s))}var Vc,ju,P5=ge(()=>{ls();Ut();Ei();st();Oa();Rh();di();Ai();Wc();dL();ot();ve();ai();Tt();xd();Dc();O5();xe();zi();yZ();Ge();Vc=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})};ju=class{static setFormatterSelector(e){return{dispose:ju._selectors.unshift(e)}}static select(e,t,i){return Vc(this,void 0,void 0,function*(){if(e.length===0)return;let n=St.first(ju._selectors);if(n)return yield n(e,t,i)})}};ju._selectors=new io;rt.registerCommand("_executeFormatRangeProvider",function(o,...e){return Vc(this,void 0,void 0,function*(){let[t,i,n]=e;$t(Ee.isUri(t)),$t(D.isIRange(i));let r=o.get(Kn),s=o.get(ro),a=yield r.createModelReference(t);try{return xme(s,a.object.textEditorModel,D.lift(i),n,qe.None)}finally{a.dispose()}})});rt.registerCommand("_executeFormatDocumentProvider",function(o,...e){return Vc(this,void 0,void 0,function*(){let[t,i]=e;$t(Ee.isUri(t));let n=o.get(Kn),r=o.get(ro),s=yield n.createModelReference(t);try{return Dme(r,s.object.textEditorModel,i,qe.None)}finally{s.dispose()}})});rt.registerCommand("_executeFormatOnTypeProvider",function(o,...e){return Vc(this,void 0,void 0,function*(){let[t,i,n,r]=e;$t(Ee.isUri(t)),$t(H.isIPosition(i)),$t(typeof n=="string");let s=o.get(Kn),a=o.get(ro),l=yield s.createModelReference(t);try{return N5(a,l.object.textEditorModel,H.lift(i),n,r)}finally{l.dispose()}})})});var NJ=FE(P_=>{Ut();Ei();st();Na();ne();Dt();_o();Gm();ve();Yi();Tt();xd();P5();O5();xe();zi();_t();Ge();$l();var kJ=P_&&P_.__decorate||function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},IJ=P_&&P_.__param||function(o,e){return function(t,i){e(t,i,o)}},gB=P_&&P_.__awaiter||function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},hE=class{constructor(e,t){this._workerService=t,this._callOnDispose=new Q,this._callOnModel=new Q,this._editor=e,this._callOnDispose.add(e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(zm.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this._editor.getOption(48)||!this._editor.hasModel())return;let e=this._editor.getModel(),[t]=zm.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;let i=new Id;for(let n of t.autoFormatTriggerCharacters)i.add(n.charCodeAt(0));this._callOnModel.add(this._editor.onDidType(n=>{let r=n.charCodeAt(n.length-1);i.has(r)&&this._trigger(String.fromCharCode(r))}))}_trigger(e){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;let t=this._editor.getModel(),i=this._editor.getPosition(),n=!1,r=this._editor.onDidChangeModelContent(s=>{if(s.isFlush){n=!0,r.dispose();return}for(let a=0,l=s.changes.length;a<l;a++)if(s.changes[a].range.endLineNumber<=i.lineNumber){n=!0,r.dispose();return}});N5(this._workerService,t,i,e,t.getFormattingOptions()).then(s=>{r.dispose(),!n&&kn(s)&&(Bu.execute(this._editor,s,!0),OO(s))},s=>{throw r.dispose(),s})}};hE.ID="editor.contrib.autoFormat";hE=kJ([IJ(1,ro)],hE);var uE=class{constructor(e,t){this.editor=e,this._instantiationService=t,this._callOnDispose=new Q,this._callOnModel=new Q,this._callOnDispose.add(e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(Ns.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),!!this.editor.getOption(47)&&(!this.editor.hasModel()||!Ns.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:e})=>this._trigger(e))))}_trigger(e){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(T5,this.editor,e,2,Hl.None,qe.None).catch(ye)}};uE.ID="editor.contrib.formatOnPaste";uE=kJ([IJ(1,Ve)],uE);var OJ=class extends _e{constructor(){super({id:"editor.action.formatDocument",label:g("formatDocument.label","Format Document"),alias:"Format Document",precondition:pe.and(A.notInCompositeEditor,A.writable,A.hasDocumentFormattingProvider),kbOpts:{kbExpr:A.editorTextFocus,primary:1024|512|36,linux:{primary:2048|1024|39},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(e,t){return gB(this,void 0,void 0,function*(){if(t.hasModel()){let i=e.get(Ve);yield e.get(Vr).showWhile(i.invokeFunction(EZ,t,1,Hl.None,qe.None),250)}})}},TJ=class extends _e{constructor(){super({id:"editor.action.formatSelection",label:g("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:pe.and(A.writable,A.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:A.editorTextFocus,primary:Ji(2048|41,2048|36),weight:100},contextMenuOpts:{when:A.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(e,t){return gB(this,void 0,void 0,function*(){if(!t.hasModel())return;let i=e.get(Ve),n=t.getModel(),r=t.getSelections().map(a=>a.isEmpty()?new D(a.startLineNumber,1,a.startLineNumber,n.getLineMaxColumn(a.startLineNumber)):a);yield e.get(Vr).showWhile(i.invokeFunction(T5,t,r,1,Hl.None,qe.None),250)})}};Qe(hE.ID,hE);Qe(uE.ID,uE);le(OJ);le(TJ);rt.registerCommand("editor.action.format",o=>gB(void 0,void 0,void 0,function*(){let e=o.get(Ot).getFocusedCodeEditor();if(!e||!e.hasModel())return;let t=o.get(li);e.getSelection().isEmpty()?yield t.executeCommand("editor.action.formatDocument"):yield t.executeCommand("editor.action.formatSelection")}))});var bB,KJ=ge(()=>{ai();bB=class{constructor(e,t,i){this._editRange=e,this._originalSelection=t,this._text=i}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new de(n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn),n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn)):new de(n.endLineNumber,n.endColumn-this._text.length,n.endLineNumber,n.endColumn)}}});var ZJ=FE(vE=>{tt();st();Wc();Dt();ve();ai();Yi();Wn();xd();Ws();xe();dt();KJ();var Vve=vE&&vE.__decorate||function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},Hve=vE&&vE.__param||function(o,e){return function(t,i){e(t,i,o)}},Zg=class vB{constructor(e,t){this.decorationIds=[],this.editor=e,this.editorWorkerService=t}static get(e){return e.getContribution(vB.ID)}dispose(){}run(e,t){this.currentRequest&&this.currentRequest.cancel();let i=this.editor.getSelection(),n=this.editor.getModel();if(!n||!i)return;let r=i;if(r.startLineNumber!==r.endLineNumber)return;let s=new yg(this.editor,1|4),a=n.uri;return this.editorWorkerService.canNavigateValueSet(a)?(this.currentRequest=wi(l=>this.editorWorkerService.navigateValueSet(a,r,t)),this.currentRequest.then(l=>{if(!l||!l.range||!l.value||!s.validate(this.editor))return;let c=D.lift(l.range),d=l.range,h=l.value.length-(r.endColumn-r.startColumn);d={startLineNumber:d.startLineNumber,startColumn:d.startColumn,endLineNumber:d.endLineNumber,endColumn:d.startColumn+l.value.length},h>1&&(r=new de(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn+h-1));let u=new bB(c,r,l.value);this.editor.pushUndoStop(),this.editor.executeCommand(e,u),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:d,options:vB.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=El(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(ye)}).catch(ye)):Promise.resolve(void 0)}};Zg.ID="editor.contrib.inPlaceReplaceController";Zg.DECORATION=Ze.register({description:"in-place-replace",className:"valueSetReplacement"});Zg=Vve([Hve(1,ro)],Zg);var YJ=class extends _e{constructor(){super({id:"editor.action.inPlaceReplace.up",label:g("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:A.writable,kbOpts:{kbExpr:A.editorTextFocus,primary:2048|1024|82,weight:100}})}run(e,t){let i=Zg.get(t);return i?i.run(this.id,!0):Promise.resolve(void 0)}},qJ=class extends _e{constructor(){super({id:"editor.action.inPlaceReplace.down",label:g("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:A.writable,kbOpts:{kbExpr:A.editorTextFocus,primary:2048|1024|84,weight:100}})}run(e,t){let i=Zg.get(t);return i?i.run(this.id,!1):Promise.resolve(void 0)}};Qe(Zg.ID,Zg);le(YJ);le(qJ);gt((o,e)=>{let t=o.getColor(Lk);t&&e.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${t}; }`)})});var Qee=FE(IE=>{tt();ne();Dt();Tt();lF();xr();cF();nF();lr();dt();var mwe=IE&&IE.__decorate||function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},jB=IE&&IE.__param||function(o,e){return function(t,i){e(t,i,o)}},kE=class extends ${constructor(e,t,i,n){super();this._modelService=t,this._themeService=i,this._configurationService=n,this._editor=e,this._tokenizeViewport=new bt(()=>this._tokenizeViewportNow(),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange(()=>{this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModelContent(r=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(Vm.onDidChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._configurationService.onDidChangeConfiguration(r=>{r.affectsConfiguration(vI)&&(this._cancelAll(),this._tokenizeViewport.schedule())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))}_cancelAll(){for(let e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,i=this._outstandingRequests.length;t<i;t++)if(this._outstandingRequests[t]===e){this._outstandingRequests.splice(t,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;let e=this._editor.getModel();if(e.hasCompleteSemanticTokens())return;if(!wI(e,this._themeService,this._configurationService)){e.hasSomeSemanticTokens()&&e.setSemanticTokens(null,!1);return}if(!tY(e)){e.hasSomeSemanticTokens()&&e.setSemanticTokens(null,!1);return}let t=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(t.map(i=>this._requestRange(e,i)))}_requestRange(e,t){let i=e.getVersionId(),n=wi(r=>Promise.resolve(bI(e,t,r)));return n.then(r=>{if(!r||!r.tokens||e.isDisposed()||e.getVersionId()!==i)return;let{provider:s,tokens:a}=r,l=this._modelService.getSemanticTokensProviderStyling(s);e.setPartialSemanticTokens(t,_I(a,l,e.getLanguageId()))}).then(()=>this._removeOutstandingRequest(n),()=>this._removeOutstandingRequest(n)),n}};kE.ID="editor.contrib.viewportSemanticTokens";kE=mwe([jB(1,Ci),jB(2,Rt),jB(3,Vt)],kE);Qe(kE.ID,kE)});var jte={};BE(jte,{conf:()=>Owe,language:()=>Twe});var Owe,Twe,Wte=ge(()=>{Owe={comments:{lineComment:"#",blockComment:["=begin","=end"]},brackets:[["(",")"],["{","}"],["[","]"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],indentationRules:{increaseIndentPattern:new RegExp(`^\\s*((begin|class|(private|protected)\\s+def|def|else|elsif|ensure|for|if|module|rescue|unless|until|when|while|case)|([^#]*\\sdo\\b)|([^#]*=\\s*(case|if|unless)))\\b([^#\\{;]|("|'|/).*\\4)*(#.*)?$`),decreaseIndentPattern:new RegExp("^\\s*([}\\]]([,)]?\\s*(#|$)|\\.[a-zA-Z_]\\w*\\b)|(end|rescue|ensure|else|elsif|when)\\b)")}},Twe={tokenPostfix:".ruby",keywords:["__LINE__","__ENCODING__","__FILE__","BEGIN","END","alias","and","begin","break","case","class","def","defined?","do","else","elsif","end","ensure","for","false","if","in","module","next","nil","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield"],keywordops:["::","..","...","?",":","=>"],builtins:["require","public","private","include","extend","attr_reader","protected","private_class_method","protected_class_method","new"],declarations:["module","class","def","case","do","begin","for","if","while","until","unless"],linedecls:["def","case","do","begin","for","if","while","until","unless"],operators:["^","&","|","<=>","==","===","!~","=~",">",">=","<","<=","<<",">>","+","-","*","/","%","**","~","+@","-@","[]","[]=","`","+=","-=","*=","**=","/=","^=","%=","<<=",">>=","&=","&&=","||=","|="],brackets:[{open:"(",close:")",token:"delimiter.parenthesis"},{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"}],symbols:/[=><!~?:&|+\-*\/\^%\.]+/,escape:/(?:[abefnrstv\\"'\n\r]|[0-7]{1,3}|x[0-9A-Fa-f]{1,2}|u[0-9A-Fa-f]{4})/,escapes:/\\(?:C\-(@escape|.)|c(@escape|.)|@escape)/,decpart:/\d(_?\d)*/,decimal:/0|@decpart/,delim:/[^a-zA-Z0-9\s\n\r]/,heredelim:/(?:\w+|'[^']*'|"[^"]*"|`[^`]*`)/,regexpctl:/[(){}\[\]\$\^|\-*+?\.]/,regexpesc:/\\(?:[AzZbBdDfnrstvwWn0\\\/]|@regexpctl|c[A-Z]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4})?/,tokenizer:{root:[[/^(\s*)([a-z_]\w*[!?=]?)/,["white",{cases:{"for|until|while":{token:"keyword.$2",next:"@dodecl.$2"},"@declarations":{token:"keyword.$2",next:"@root.$2"},end:{token:"keyword.$S2",next:"@pop"},"@keywords":"keyword","@builtins":"predefined","@default":"identifier"}}]],[/[a-z_]\w*[!?=]?/,{cases:{"if|unless|while|until":{token:"keyword.$0x",next:"@modifier.$0x"},for:{token:"keyword.$2",next:"@dodecl.$2"},"@linedecls":{token:"keyword.$0",next:"@root.$0"},end:{token:"keyword.$S2",next:"@pop"},"@keywords":"keyword","@builtins":"predefined","@default":"identifier"}}],[/[A-Z][\w]*[!?=]?/,"constructor.identifier"],[/\$[\w]*/,"global.constant"],[/@[\w]*/,"namespace.instance.identifier"],[/@@@[\w]*/,"namespace.class.identifier"],[/<<[-~](@heredelim).*/,{token:"string.heredoc.delimiter",next:"@heredoc.$1"}],[/[ \t\r\n]+<<(@heredelim).*/,{token:"string.heredoc.delimiter",next:"@heredoc.$1"}],[/^<<(@heredelim).*/,{token:"string.heredoc.delimiter",next:"@heredoc.$1"}],{include:"@whitespace"},[/"/,{token:"string.d.delim",next:'@dstring.d."'}],[/'/,{token:"string.sq.delim",next:"@sstring.sq"}],[/%([rsqxwW]|Q?)/,{token:"@rematch",next:"pstring"}],[/`/,{token:"string.x.delim",next:"@dstring.x.`"}],[/:(\w|[$@])\w*[!?=]?/,"string.s"],[/:"/,{token:"string.s.delim",next:'@dstring.s."'}],[/:'/,{token:"string.s.delim",next:"@sstring.s"}],[/\/(?=(\\\/|[^\/\n])+\/)/,{token:"regexp.delim",next:"@regexp"}],[/[{}()\[\]]/,"@brackets"],[/@symbols/,{cases:{"@keywordops":"keyword","@operators":"operator","@default":""}}],[/[;,]/,"delimiter"],[/0[xX][0-9a-fA-F](_?[0-9a-fA-F])*/,"number.hex"],[/0[_oO][0-7](_?[0-7])*/,"number.octal"],[/0[bB][01](_?[01])*/,"number.binary"],[/0[dD]@decpart/,"number"],[/@decimal((\.@decpart)?([eE][\-+]?@decpart)?)/,{cases:{$1:"number.float","@default":"number"}}]],dodecl:[[/^/,{token:"",switchTo:"@root.$S2"}],[/[a-z_]\w*[!?=]?/,{cases:{end:{token:"keyword.$S2",next:"@pop"},do:{token:"keyword",switchTo:"@root.$S2"},"@linedecls":{token:"@rematch",switchTo:"@root.$S2"},"@keywords":"keyword","@builtins":"predefined","@default":"identifier"}}],{include:"@root"}],modifier:[[/^/,"","@pop"],[/[a-z_]\w*[!?=]?/,{cases:{end:{token:"keyword.$S2",next:"@pop"},"then|else|elsif|do":{token:"keyword",switchTo:"@root.$S2"},"@linedecls":{token:"@rematch",switchTo:"@root.$S2"},"@keywords":"keyword","@builtins":"predefined","@default":"identifier"}}],{include:"@root"}],sstring:[[/[^\\']+/,"string.$S2"],[/\\\\|\\'|\\$/,"string.$S2.escape"],[/\\./,"string.$S2.invalid"],[/'/,{token:"string.$S2.delim",next:"@pop"}]],dstring:[[/[^\\`"#]+/,"string.$S2"],[/#/,"string.$S2.escape","@interpolated"],[/\\$/,"string.$S2.escape"],[/@escapes/,"string.$S2.escape"],[/\\./,"string.$S2.escape.invalid"],[/[`"]/,{cases:{"$#==$S3":{token:"string.$S2.delim",next:"@pop"},"@default":"string.$S2"}}]],heredoc:[[/^(\s*)(@heredelim)$/,{cases:{"$2==$S2":["string.heredoc",{token:"string.heredoc.delimiter",next:"@pop"}],"@default":["string.heredoc","string.heredoc"]}}],[/.*/,"string.heredoc"]],interpolated:[[/\$\w*/,"global.constant","@pop"],[/@\w*/,"namespace.class.identifier","@pop"],[/@@@\w*/,"namespace.instance.identifier","@pop"],[/[{]/,{token:"string.escape.curly",switchTo:"@interpolated_compound"}],["","","@pop"]],interpolated_compound:[[/[}]/,{token:"string.escape.curly",next:"@pop"}],{include:"@root"}],pregexp:[{include:"@whitespace"},[/[^\(\{\[\\]/,{cases:{"$#==$S3":{token:"regexp.delim",next:"@pop"},"$#==$S2":{token:"regexp.delim",next:"@push"},"~[)}\\]]":"@brackets.regexp.escape.control","~@regexpctl":"regexp.escape.control","@default":"regexp"}}],{include:"@regexcontrol"}],regexp:[{include:"@regexcontrol"},[/[^\\\/]/,"regexp"],["/[ixmp]*",{token:"regexp.delim"},"@pop"]],regexcontrol:[[/(\{)(\d+(?:,\d*)?)(\})/,["@brackets.regexp.escape.control","regexp.escape.control","@brackets.regexp.escape.control"]],[/(\[)(\^?)/,["@brackets.regexp.escape.control",{token:"regexp.escape.control",next:"@regexrange"}]],[/(\()(\?[:=!])/,["@brackets.regexp.escape.control","regexp.escape.control"]],[/\(\?#/,{token:"regexp.escape.control",next:"@regexpcomment"}],[/[()]/,"@brackets.regexp.escape.control"],[/@regexpctl/,"regexp.escape.control"],[/\\$/,"regexp.escape"],[/@regexpesc/,"regexp.escape"],[/\\\./,"regexp.invalid"],[/#/,"regexp.escape","@interpolated"]],regexrange:[[/-/,"regexp.escape.control"],[/\^/,"regexp.invalid"],[/\\$/,"regexp.escape"],[/@regexpesc/,"regexp.escape"],[/[^\]]/,"regexp"],[/\]/,"@brackets.regexp.escape.control","@pop"]],regexpcomment:[[/[^)]+/,"comment"],[/\)/,{token:"regexp.escape.control",next:"@pop"}]],pstring:[[/%([qws])\(/,{token:"string.$1.delim",switchTo:"@qstring.$1.(.)"}],[/%([qws])\[/,{token:"string.$1.delim",switchTo:"@qstring.$1.[.]"}],[/%([qws])\{/,{token:"string.$1.delim",switchTo:"@qstring.$1.{.}"}],[/%([qws])</,{token:"string.$1.delim",switchTo:"@qstring.$1.<.>"}],[/%([qws])(@delim)/,{token:"string.$1.delim",switchTo:"@qstring.$1.$2.$2"}],[/%r\(/,{token:"regexp.delim",switchTo:"@pregexp.(.)"}],[/%r\[/,{token:"regexp.delim",switchTo:"@pregexp.[.]"}],[/%r\{/,{token:"regexp.delim",switchTo:"@pregexp.{.}"}],[/%r</,{token:"regexp.delim",switchTo:"@pregexp.<.>"}],[/%r(@delim)/,{token:"regexp.delim",switchTo:"@pregexp.$1.$1"}],[/%(x|W|Q?)\(/,{token:"string.$1.delim",switchTo:"@qqstring.$1.(.)"}],[/%(x|W|Q?)\[/,{token:"string.$1.delim",switchTo:"@qqstring.$1.[.]"}],[/%(x|W|Q?)\{/,{token:"string.$1.delim",switchTo:"@qqstring.$1.{.}"}],[/%(x|W|Q?)</,{token:"string.$1.delim",switchTo:"@qqstring.$1.<.>"}],[/%(x|W|Q?)(@delim)/,{token:"string.$1.delim",switchTo:"@qqstring.$1.$2.$2"}],[/%([rqwsxW]|Q?)./,{token:"invalid",next:"@pop"}],[/./,{token:"invalid",next:"@pop"}]],qstring:[[/\\$/,"string.$S2.escape"],[/\\./,"string.$S2.escape"],[/./,{cases:{"$#==$S4":{token:"string.$S2.delim",next:"@pop"},"$#==$S3":{token:"string.$S2.delim",next:"@push"},"@default":"string.$S2"}}]],qqstring:[[/#/,"string.$S2.escape","@interpolated"],{include:"@qstring"}],whitespace:[[/[ \t\r\n]+/,""],[/^\s*=begin\b/,"comment","@comment"],[/#.*$/,"comment"]],comment:[[/[^=]+/,"comment"],[/^\s*=begin\b/,"comment.invalid"],[/^\s*=end\b.*/,"comment","@pop"],[/[=]/,"comment"]]}}});var Ute=FE((gN,KB)=>{var $B=function(){var o=typeof document!="undefined"&&document.currentScript?document.currentScript.src:void 0;return function(t){t=t||{};var t=typeof t!="undefined"?t:{},i,n;t.ready=new Promise(function(_,C){i=_,n=C}),Object.getOwnPropertyDescriptor(t.ready,"_main")||(Object.defineProperty(t.ready,"_main",{configurable:!0,get:function(){m("You are getting _main on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_main",{configurable:!0,set:function(){m("You are setting _main on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_artichoke_eval")||(Object.defineProperty(t.ready,"_artichoke_eval",{configurable:!0,get:function(){m("You are getting _artichoke_eval on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_artichoke_eval",{configurable:!0,set:function(){m("You are setting _artichoke_eval on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_artichoke_string_free")||(Object.defineProperty(t.ready,"_artichoke_string_free",{configurable:!0,get:function(){m("You are getting _artichoke_string_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_artichoke_string_free",{configurable:!0,set:function(){m("You are setting _artichoke_string_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_artichoke_string_getch")||(Object.defineProperty(t.ready,"_artichoke_string_getch",{configurable:!0,get:function(){m("You are getting _artichoke_string_getch on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_artichoke_string_getch",{configurable:!0,set:function(){m("You are setting _artichoke_string_getch on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_artichoke_string_getlen")||(Object.defineProperty(t.ready,"_artichoke_string_getlen",{configurable:!0,get:function(){m("You are getting _artichoke_string_getlen on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_artichoke_string_getlen",{configurable:!0,set:function(){m("You are setting _artichoke_string_getlen on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_artichoke_string_new")||(Object.defineProperty(t.ready,"_artichoke_string_new",{configurable:!0,get:function(){m("You are getting _artichoke_string_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_artichoke_string_new",{configurable:!0,set:function(){m("You are setting _artichoke_string_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_artichoke_string_putch")||(Object.defineProperty(t.ready,"_artichoke_string_putch",{configurable:!0,get:function(){m("You are getting _artichoke_string_putch on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_artichoke_string_putch",{configurable:!0,set:function(){m("You are setting _artichoke_string_putch on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_artichoke_web_repl_init")||(Object.defineProperty(t.ready,"_artichoke_web_repl_init",{configurable:!0,get:function(){m("You are getting _artichoke_web_repl_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_artichoke_web_repl_init",{configurable:!0,set:function(){m("You are setting _artichoke_web_repl_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_artichoke_free")||(Object.defineProperty(t.ready,"_mrb_ary_artichoke_free",{configurable:!0,get:function(){m("You are getting _mrb_ary_artichoke_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_artichoke_free",{configurable:!0,set:function(){m("You are setting _mrb_ary_artichoke_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_concat")||(Object.defineProperty(t.ready,"_mrb_ary_concat",{configurable:!0,get:function(){m("You are getting _mrb_ary_concat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_concat",{configurable:!0,set:function(){m("You are setting _mrb_ary_concat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_new")||(Object.defineProperty(t.ready,"_mrb_ary_new",{configurable:!0,get:function(){m("You are getting _mrb_ary_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_new",{configurable:!0,set:function(){m("You are setting _mrb_ary_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_new_capa")||(Object.defineProperty(t.ready,"_mrb_ary_new_capa",{configurable:!0,get:function(){m("You are getting _mrb_ary_new_capa on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_new_capa",{configurable:!0,set:function(){m("You are setting _mrb_ary_new_capa on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_new_from_values")||(Object.defineProperty(t.ready,"_mrb_ary_new_from_values",{configurable:!0,get:function(){m("You are getting _mrb_ary_new_from_values on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_new_from_values",{configurable:!0,set:function(){m("You are setting _mrb_ary_new_from_values on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_pop")||(Object.defineProperty(t.ready,"_mrb_ary_pop",{configurable:!0,get:function(){m("You are getting _mrb_ary_pop on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_pop",{configurable:!0,set:function(){m("You are setting _mrb_ary_pop on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_push")||(Object.defineProperty(t.ready,"_mrb_ary_push",{configurable:!0,get:function(){m("You are getting _mrb_ary_push on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_push",{configurable:!0,set:function(){m("You are setting _mrb_ary_push on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_ref")||(Object.defineProperty(t.ready,"_mrb_ary_ref",{configurable:!0,get:function(){m("You are getting _mrb_ary_ref on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_ref",{configurable:!0,set:function(){m("You are setting _mrb_ary_ref on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_set")||(Object.defineProperty(t.ready,"_mrb_ary_set",{configurable:!0,get:function(){m("You are getting _mrb_ary_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_set",{configurable:!0,set:function(){m("You are setting _mrb_ary_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_shift")||(Object.defineProperty(t.ready,"_mrb_ary_shift",{configurable:!0,get:function(){m("You are getting _mrb_ary_shift on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_shift",{configurable:!0,set:function(){m("You are setting _mrb_ary_shift on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_splat")||(Object.defineProperty(t.ready,"_mrb_ary_splat",{configurable:!0,get:function(){m("You are getting _mrb_ary_splat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_splat",{configurable:!0,set:function(){m("You are setting _mrb_ary_splat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_unshift")||(Object.defineProperty(t.ready,"_mrb_ary_unshift",{configurable:!0,get:function(){m("You are getting _mrb_ary_unshift on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_unshift",{configurable:!0,set:function(){m("You are setting _mrb_ary_unshift on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_assoc_new")||(Object.defineProperty(t.ready,"_mrb_assoc_new",{configurable:!0,get:function(){m("You are getting _mrb_assoc_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_assoc_new",{configurable:!0,set:function(){m("You are setting _mrb_assoc_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_check_intern")||(Object.defineProperty(t.ready,"_mrb_check_intern",{configurable:!0,get:function(){m("You are getting _mrb_check_intern on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_check_intern",{configurable:!0,set:function(){m("You are setting _mrb_check_intern on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_check_intern_cstr")||(Object.defineProperty(t.ready,"_mrb_check_intern_cstr",{configurable:!0,get:function(){m("You are getting _mrb_check_intern_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_check_intern_cstr",{configurable:!0,set:function(){m("You are setting _mrb_check_intern_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_check_intern_str")||(Object.defineProperty(t.ready,"_mrb_check_intern_str",{configurable:!0,get:function(){m("You are getting _mrb_check_intern_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_check_intern_str",{configurable:!0,set:function(){m("You are setting _mrb_check_intern_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_free_symtbl")||(Object.defineProperty(t.ready,"_mrb_free_symtbl",{configurable:!0,get:function(){m("You are getting _mrb_free_symtbl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_free_symtbl",{configurable:!0,set:function(){m("You are setting _mrb_free_symtbl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_init_symtbl")||(Object.defineProperty(t.ready,"_mrb_init_symtbl",{configurable:!0,get:function(){m("You are getting _mrb_init_symtbl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_init_symtbl",{configurable:!0,set:function(){m("You are setting _mrb_init_symtbl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_intern")||(Object.defineProperty(t.ready,"_mrb_intern",{configurable:!0,get:function(){m("You are getting _mrb_intern on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_intern",{configurable:!0,set:function(){m("You are setting _mrb_intern on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_intern_check")||(Object.defineProperty(t.ready,"_mrb_intern_check",{configurable:!0,get:function(){m("You are getting _mrb_intern_check on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_intern_check",{configurable:!0,set:function(){m("You are setting _mrb_intern_check on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_intern_check_cstr")||(Object.defineProperty(t.ready,"_mrb_intern_check_cstr",{configurable:!0,get:function(){m("You are getting _mrb_intern_check_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_intern_check_cstr",{configurable:!0,set:function(){m("You are setting _mrb_intern_check_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_intern_check_str")||(Object.defineProperty(t.ready,"_mrb_intern_check_str",{configurable:!0,get:function(){m("You are getting _mrb_intern_check_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_intern_check_str",{configurable:!0,set:function(){m("You are setting _mrb_intern_check_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_intern_cstr")||(Object.defineProperty(t.ready,"_mrb_intern_cstr",{configurable:!0,get:function(){m("You are getting _mrb_intern_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_intern_cstr",{configurable:!0,set:function(){m("You are setting _mrb_intern_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_intern_static")||(Object.defineProperty(t.ready,"_mrb_intern_static",{configurable:!0,get:function(){m("You are getting _mrb_intern_static on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_intern_static",{configurable:!0,set:function(){m("You are setting _mrb_intern_static on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_intern_str")||(Object.defineProperty(t.ready,"_mrb_intern_str",{configurable:!0,get:function(){m("You are getting _mrb_intern_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_intern_str",{configurable:!0,set:function(){m("You are setting _mrb_intern_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sym_dump")||(Object.defineProperty(t.ready,"_mrb_sym_dump",{configurable:!0,get:function(){m("You are getting _mrb_sym_dump on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sym_dump",{configurable:!0,set:function(){m("You are setting _mrb_sym_dump on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sym_name")||(Object.defineProperty(t.ready,"_mrb_sym_name",{configurable:!0,get:function(){m("You are getting _mrb_sym_name on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sym_name",{configurable:!0,set:function(){m("You are setting _mrb_sym_name on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sym_name_len")||(Object.defineProperty(t.ready,"_mrb_sym_name_len",{configurable:!0,get:function(){m("You are getting _mrb_sym_name_len on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sym_name_len",{configurable:!0,set:function(){m("You are setting _mrb_sym_name_len on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sym_str")||(Object.defineProperty(t.ready,"_mrb_sym_str",{configurable:!0,get:function(){m("You are getting _mrb_sym_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sym_str",{configurable:!0,set:function(){m("You are setting _mrb_sym_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_to_flo")||(Object.defineProperty(t.ready,"_mrb_to_flo",{configurable:!0,get:function(){m("You are getting _mrb_to_flo on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_to_flo",{configurable:!0,set:function(){m("You are setting _mrb_to_flo on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_rust_eh_personality")||(Object.defineProperty(t.ready,"_rust_eh_personality",{configurable:!0,get:function(){m("You are getting _rust_eh_personality on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_rust_eh_personality",{configurable:!0,set:function(){m("You are setting _rust_eh_personality on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_emscripten_stack_get_end")||(Object.defineProperty(t.ready,"_emscripten_stack_get_end",{configurable:!0,get:function(){m("You are getting _emscripten_stack_get_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_emscripten_stack_get_end",{configurable:!0,set:function(){m("You are setting _emscripten_stack_get_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_emscripten_stack_get_free")||(Object.defineProperty(t.ready,"_emscripten_stack_get_free",{configurable:!0,get:function(){m("You are getting _emscripten_stack_get_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_emscripten_stack_get_free",{configurable:!0,set:function(){m("You are setting _emscripten_stack_get_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_emscripten_stack_init")||(Object.defineProperty(t.ready,"_emscripten_stack_init",{configurable:!0,get:function(){m("You are getting _emscripten_stack_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_emscripten_stack_init",{configurable:!0,set:function(){m("You are setting _emscripten_stack_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_stackSave")||(Object.defineProperty(t.ready,"_stackSave",{configurable:!0,get:function(){m("You are getting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_stackSave",{configurable:!0,set:function(){m("You are setting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_stackRestore")||(Object.defineProperty(t.ready,"_stackRestore",{configurable:!0,get:function(){m("You are getting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_stackRestore",{configurable:!0,set:function(){m("You are setting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_stackAlloc")||(Object.defineProperty(t.ready,"_stackAlloc",{configurable:!0,get:function(){m("You are getting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_stackAlloc",{configurable:!0,set:function(){m("You are setting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"___wasm_call_ctors")||(Object.defineProperty(t.ready,"___wasm_call_ctors",{configurable:!0,get:function(){m("You are getting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"___wasm_call_ctors",{configurable:!0,set:function(){m("You are setting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_fflush")||(Object.defineProperty(t.ready,"_fflush",{configurable:!0,get:function(){m("You are getting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_fflush",{configurable:!0,set:function(){m("You are setting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"___errno_location")||(Object.defineProperty(t.ready,"___errno_location",{configurable:!0,get:function(){m("You are getting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"___errno_location",{configurable:!0,set:function(){m("You are setting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_malloc")||(Object.defineProperty(t.ready,"_malloc",{configurable:!0,get:function(){m("You are getting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_malloc",{configurable:!0,set:function(){m("You are setting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_free")||(Object.defineProperty(t.ready,"_free",{configurable:!0,get:function(){m("You are getting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_free",{configurable:!0,set:function(){m("You are setting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"___cxa_is_pointer_type")||(Object.defineProperty(t.ready,"___cxa_is_pointer_type",{configurable:!0,get:function(){m("You are getting ___cxa_is_pointer_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"___cxa_is_pointer_type",{configurable:!0,set:function(){m("You are setting ___cxa_is_pointer_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"___cxa_can_catch")||(Object.defineProperty(t.ready,"___cxa_can_catch",{configurable:!0,get:function(){m("You are getting ___cxa_can_catch on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"___cxa_can_catch",{configurable:!0,set:function(){m("You are setting ___cxa_can_catch on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_setThrew")||(Object.defineProperty(t.ready,"_setThrew",{configurable:!0,get:function(){m("You are getting _setThrew on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_setThrew",{configurable:!0,set:function(){m("You are setting _setThrew on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_saveSetjmp")||(Object.defineProperty(t.ready,"_saveSetjmp",{configurable:!0,get:function(){m("You are getting _saveSetjmp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_saveSetjmp",{configurable:!0,set:function(){m("You are setting _saveSetjmp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_ntohs")||(Object.defineProperty(t.ready,"_ntohs",{configurable:!0,get:function(){m("You are getting _ntohs on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_ntohs",{configurable:!0,set:function(){m("You are setting _ntohs on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_htonl")||(Object.defineProperty(t.ready,"_htonl",{configurable:!0,get:function(){m("You are getting _htonl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_htonl",{configurable:!0,set:function(){m("You are setting _htonl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_htons")||(Object.defineProperty(t.ready,"_htons",{configurable:!0,get:function(){m("You are getting _htons on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_htons",{configurable:!0,set:function(){m("You are setting _htons on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_emscripten_main_thread_process_queued_calls")||(Object.defineProperty(t.ready,"_emscripten_main_thread_process_queued_calls",{configurable:!0,get:function(){m("You are getting _emscripten_main_thread_process_queued_calls on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_emscripten_main_thread_process_queued_calls",{configurable:!0,set:function(){m("You are setting _emscripten_main_thread_process_queued_calls on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_sysconf")||(Object.defineProperty(t.ready,"_sysconf",{configurable:!0,get:function(){m("You are getting _sysconf on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_sysconf",{configurable:!0,set:function(){m("You are setting _sysconf on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_gc_protect")||(Object.defineProperty(t.ready,"_mrb_gc_protect",{configurable:!0,get:function(){m("You are getting _mrb_gc_protect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_gc_protect",{configurable:!0,set:function(){m("You are setting _mrb_gc_protect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_defined_under")||(Object.defineProperty(t.ready,"_mrb_class_defined_under",{configurable:!0,get:function(){m("You are getting _mrb_class_defined_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_defined_under",{configurable:!0,set:function(){m("You are setting _mrb_class_defined_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_get_under")||(Object.defineProperty(t.ready,"_mrb_class_get_under",{configurable:!0,get:function(){m("You are getting _mrb_class_get_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_get_under",{configurable:!0,set:function(){m("You are setting _mrb_class_get_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_defined")||(Object.defineProperty(t.ready,"_mrb_class_defined",{configurable:!0,get:function(){m("You are getting _mrb_class_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_defined",{configurable:!0,set:function(){m("You are setting _mrb_class_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_get")||(Object.defineProperty(t.ready,"_mrb_class_get",{configurable:!0,get:function(){m("You are getting _mrb_class_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_get",{configurable:!0,set:function(){m("You are setting _mrb_class_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_data_object_alloc")||(Object.defineProperty(t.ready,"_mrb_data_object_alloc",{configurable:!0,get:function(){m("You are getting _mrb_data_object_alloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_data_object_alloc",{configurable:!0,set:function(){m("You are setting _mrb_data_object_alloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_obj_value")||(Object.defineProperty(t.ready,"_mrb_sys_obj_value",{configurable:!0,get:function(){m("You are getting _mrb_sys_obj_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_obj_value",{configurable:!0,set:function(){m("You are setting _mrb_sys_obj_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_module")||(Object.defineProperty(t.ready,"_mrb_define_module",{configurable:!0,get:function(){m("You are getting _mrb_define_module on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_module",{configurable:!0,set:function(){m("You are setting _mrb_define_module on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_data_check_get_ptr")||(Object.defineProperty(t.ready,"_mrb_data_check_get_ptr",{configurable:!0,get:function(){m("You are getting _mrb_data_check_get_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_data_check_get_ptr",{configurable:!0,set:function(){m("You are setting _mrb_data_check_get_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_class_method")||(Object.defineProperty(t.ready,"_mrb_define_class_method",{configurable:!0,get:function(){m("You are getting _mrb_define_class_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_class_method",{configurable:!0,set:function(){m("You are setting _mrb_define_class_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_singleton_method")||(Object.defineProperty(t.ready,"_mrb_define_singleton_method",{configurable:!0,get:function(){m("You are getting _mrb_define_singleton_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_singleton_method",{configurable:!0,set:function(){m("You are setting _mrb_define_singleton_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_method")||(Object.defineProperty(t.ready,"_mrb_define_method",{configurable:!0,get:function(){m("You are getting _mrb_define_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_method",{configurable:!0,set:function(){m("You are setting _mrb_define_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_module_function")||(Object.defineProperty(t.ready,"_mrb_define_module_function",{configurable:!0,get:function(){m("You are getting _mrb_define_module_function on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_module_function",{configurable:!0,set:function(){m("You are setting _mrb_define_module_function on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_obj_frozen")||(Object.defineProperty(t.ready,"_mrb_sys_obj_frozen",{configurable:!0,get:function(){m("You are getting _mrb_sys_obj_frozen on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_obj_frozen",{configurable:!0,set:function(){m("You are setting _mrb_sys_obj_frozen on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_module_under")||(Object.defineProperty(t.ready,"_mrb_define_module_under",{configurable:!0,get:function(){m("You are getting _mrb_define_module_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_module_under",{configurable:!0,set:function(){m("You are setting _mrb_define_module_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_class")||(Object.defineProperty(t.ready,"_mrb_define_class",{configurable:!0,get:function(){m("You are getting _mrb_define_class on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_class",{configurable:!0,set:function(){m("You are setting _mrb_define_class on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_class_of_value")||(Object.defineProperty(t.ready,"_mrb_sys_class_of_value",{configurable:!0,get:function(){m("You are getting _mrb_sys_class_of_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_class_of_value",{configurable:!0,set:function(){m("You are setting _mrb_sys_class_of_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_value_is_dead")||(Object.defineProperty(t.ready,"_mrb_sys_value_is_dead",{configurable:!0,get:function(){m("You are getting _mrb_sys_value_is_dead on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_value_is_dead",{configurable:!0,set:function(){m("You are setting _mrb_sys_value_is_dead on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_gc_arena_save")||(Object.defineProperty(t.ready,"_mrb_sys_gc_arena_save",{configurable:!0,get:function(){m("You are getting _mrb_sys_gc_arena_save on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_gc_arena_save",{configurable:!0,set:function(){m("You are setting _mrb_sys_gc_arena_save on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_gc_arena_restore")||(Object.defineProperty(t.ready,"_mrb_sys_gc_arena_restore",{configurable:!0,get:function(){m("You are getting _mrb_sys_gc_arena_restore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_gc_arena_restore",{configurable:!0,set:function(){m("You are setting _mrb_sys_gc_arena_restore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_alloc_rarray")||(Object.defineProperty(t.ready,"_mrb_sys_alloc_rarray",{configurable:!0,get:function(){m("You are getting _mrb_sys_alloc_rarray on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_alloc_rarray",{configurable:!0,set:function(){m("You are setting _mrb_sys_alloc_rarray on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_class_under")||(Object.defineProperty(t.ready,"_mrb_define_class_under",{configurable:!0,get:function(){m("You are getting _mrb_define_class_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_class_under",{configurable:!0,set:function(){m("You are setting _mrb_define_class_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_close")||(Object.defineProperty(t.ready,"_mrb_close",{configurable:!0,get:function(){m("You are getting _mrb_close on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_close",{configurable:!0,set:function(){m("You are setting _mrb_close on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_class_value")||(Object.defineProperty(t.ready,"_mrb_sys_class_value",{configurable:!0,get:function(){m("You are getting _mrb_sys_class_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_class_value",{configurable:!0,set:function(){m("You are setting _mrb_sys_class_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_new")||(Object.defineProperty(t.ready,"_mrb_obj_new",{configurable:!0,get:function(){m("You are getting _mrb_obj_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_new",{configurable:!0,set:function(){m("You are setting _mrb_obj_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_value_is_nil")||(Object.defineProperty(t.ready,"_mrb_sys_value_is_nil",{configurable:!0,get:function(){m("You are getting _mrb_sys_value_is_nil on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_value_is_nil",{configurable:!0,set:function(){m("You are setting _mrb_sys_value_is_nil on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_value_is_true")||(Object.defineProperty(t.ready,"_mrb_sys_value_is_true",{configurable:!0,get:function(){m("You are getting _mrb_sys_value_is_true on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_value_is_true",{configurable:!0,set:function(){m("You are setting _mrb_sys_value_is_true on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_value_is_false")||(Object.defineProperty(t.ready,"_mrb_sys_value_is_false",{configurable:!0,get:function(){m("You are getting _mrb_sys_value_is_false on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_value_is_false",{configurable:!0,set:function(){m("You are setting _mrb_sys_value_is_false on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_global_const")||(Object.defineProperty(t.ready,"_mrb_define_global_const",{configurable:!0,get:function(){m("You are getting _mrb_define_global_const on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_global_const",{configurable:!0,set:function(){m("You are setting _mrb_define_global_const on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_const")||(Object.defineProperty(t.ready,"_mrb_define_const",{configurable:!0,get:function(){m("You are getting _mrb_define_const on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_const",{configurable:!0,set:function(){m("You are setting _mrb_define_const on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_false_value")||(Object.defineProperty(t.ready,"_mrb_sys_false_value",{configurable:!0,get:function(){m("You are getting _mrb_sys_false_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_false_value",{configurable:!0,set:function(){m("You are setting _mrb_sys_false_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_true_value")||(Object.defineProperty(t.ready,"_mrb_sys_true_value",{configurable:!0,get:function(){m("You are getting _mrb_sys_true_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_true_value",{configurable:!0,set:function(){m("You are setting _mrb_sys_true_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_nil_value")||(Object.defineProperty(t.ready,"_mrb_sys_nil_value",{configurable:!0,get:function(){m("You are getting _mrb_sys_nil_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_nil_value",{configurable:!0,set:function(){m("You are setting _mrb_sys_nil_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_new")||(Object.defineProperty(t.ready,"_mrb_str_new",{configurable:!0,get:function(){m("You are getting _mrb_str_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_new",{configurable:!0,set:function(){m("You are setting _mrb_str_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_string_value_ptr")||(Object.defineProperty(t.ready,"_mrb_string_value_ptr",{configurable:!0,get:function(){m("You are getting _mrb_string_value_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_string_value_ptr",{configurable:!0,set:function(){m("You are setting _mrb_string_value_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_string_value_len")||(Object.defineProperty(t.ready,"_mrb_string_value_len",{configurable:!0,get:function(){m("You are getting _mrb_string_value_len on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_string_value_len",{configurable:!0,set:function(){m("You are setting _mrb_string_value_len on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_fixnum_value")||(Object.defineProperty(t.ready,"_mrb_sys_fixnum_value",{configurable:!0,get:function(){m("You are getting _mrb_sys_fixnum_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_fixnum_value",{configurable:!0,set:function(){m("You are setting _mrb_sys_fixnum_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_fixnum_to_cint")||(Object.defineProperty(t.ready,"_mrb_sys_fixnum_to_cint",{configurable:!0,get:function(){m("You are getting _mrb_sys_fixnum_to_cint on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_fixnum_to_cint",{configurable:!0,set:function(){m("You are setting _mrb_sys_fixnum_to_cint on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_float_value")||(Object.defineProperty(t.ready,"_mrb_sys_float_value",{configurable:!0,get:function(){m("You are getting _mrb_sys_float_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_float_value",{configurable:!0,set:function(){m("You are setting _mrb_sys_float_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_float_to_cdouble")||(Object.defineProperty(t.ready,"_mrb_sys_float_to_cdouble",{configurable:!0,get:function(){m("You are getting _mrb_sys_float_to_cdouble on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_float_to_cdouble",{configurable:!0,set:function(){m("You are setting _mrb_sys_float_to_cdouble on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_new_capa")||(Object.defineProperty(t.ready,"_mrb_hash_new_capa",{configurable:!0,get:function(){m("You are getting _mrb_hash_new_capa on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_new_capa",{configurable:!0,set:function(){m("You are setting _mrb_hash_new_capa on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_set")||(Object.defineProperty(t.ready,"_mrb_hash_set",{configurable:!0,get:function(){m("You are getting _mrb_hash_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_set",{configurable:!0,set:function(){m("You are setting _mrb_hash_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_keys")||(Object.defineProperty(t.ready,"_mrb_hash_keys",{configurable:!0,get:function(){m("You are getting _mrb_hash_keys on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_keys",{configurable:!0,set:function(){m("You are setting _mrb_hash_keys on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_get")||(Object.defineProperty(t.ready,"_mrb_hash_get",{configurable:!0,get:function(){m("You are getting _mrb_hash_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_get",{configurable:!0,set:function(){m("You are setting _mrb_hash_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_cptr_value")||(Object.defineProperty(t.ready,"_mrb_sys_cptr_value",{configurable:!0,get:function(){m("You are getting _mrb_sys_cptr_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_cptr_value",{configurable:!0,set:function(){m("You are setting _mrb_sys_cptr_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_protect")||(Object.defineProperty(t.ready,"_mrb_protect",{configurable:!0,get:function(){m("You are getting _mrb_protect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_protect",{configurable:!0,set:function(){m("You are setting _mrb_protect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_gc_live_objects")||(Object.defineProperty(t.ready,"_mrb_sys_gc_live_objects",{configurable:!0,get:function(){m("You are getting _mrb_sys_gc_live_objects on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_gc_live_objects",{configurable:!0,set:function(){m("You are setting _mrb_sys_gc_live_objects on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_safe_gc_mark")||(Object.defineProperty(t.ready,"_mrb_sys_safe_gc_mark",{configurable:!0,get:function(){m("You are getting _mrb_sys_safe_gc_mark on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_safe_gc_mark",{configurable:!0,set:function(){m("You are setting _mrb_sys_safe_gc_mark on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_incremental_gc")||(Object.defineProperty(t.ready,"_mrb_incremental_gc",{configurable:!0,get:function(){m("You are getting _mrb_incremental_gc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_incremental_gc",{configurable:!0,set:function(){m("You are setting _mrb_incremental_gc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_full_gc")||(Object.defineProperty(t.ready,"_mrb_full_gc",{configurable:!0,get:function(){m("You are getting _mrb_full_gc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_full_gc",{configurable:!0,set:function(){m("You are setting _mrb_full_gc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_gc_enable")||(Object.defineProperty(t.ready,"_mrb_sys_gc_enable",{configurable:!0,get:function(){m("You are getting _mrb_sys_gc_enable on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_gc_enable",{configurable:!0,set:function(){m("You are setting _mrb_sys_gc_enable on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_gc_disable")||(Object.defineProperty(t.ready,"_mrb_sys_gc_disable",{configurable:!0,get:function(){m("You are getting _mrb_sys_gc_disable on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_gc_disable",{configurable:!0,set:function(){m("You are setting _mrb_sys_gc_disable on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_gv_set")||(Object.defineProperty(t.ready,"_mrb_gv_set",{configurable:!0,get:function(){m("You are getting _mrb_gv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_gv_set",{configurable:!0,set:function(){m("You are setting _mrb_gv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrbc_filename")||(Object.defineProperty(t.ready,"_mrbc_filename",{configurable:!0,get:function(){m("You are getting _mrbc_filename on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrbc_filename",{configurable:!0,set:function(){m("You are setting _mrbc_filename on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_top_self")||(Object.defineProperty(t.ready,"_mrb_top_self",{configurable:!0,get:function(){m("You are getting _mrb_top_self on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_top_self",{configurable:!0,set:function(){m("You are setting _mrb_top_self on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_module_value")||(Object.defineProperty(t.ready,"_mrb_sys_module_value",{configurable:!0,get:function(){m("You are getting _mrb_sys_module_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_module_value",{configurable:!0,set:function(){m("You are setting _mrb_sys_module_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_get_args")||(Object.defineProperty(t.ready,"_mrb_get_args",{configurable:!0,get:function(){m("You are getting _mrb_get_args on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_get_args",{configurable:!0,set:function(){m("You are setting _mrb_get_args on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_set_instance_tt")||(Object.defineProperty(t.ready,"_mrb_sys_set_instance_tt",{configurable:!0,get:function(){m("You are getting _mrb_sys_set_instance_tt on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_set_instance_tt",{configurable:!0,set:function(){m("You are setting _mrb_sys_set_instance_tt on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_const_defined_at")||(Object.defineProperty(t.ready,"_mrb_const_defined_at",{configurable:!0,get:function(){m("You are getting _mrb_const_defined_at on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_const_defined_at",{configurable:!0,set:function(){m("You are setting _mrb_const_defined_at on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_module_get_under")||(Object.defineProperty(t.ready,"_mrb_module_get_under",{configurable:!0,get:function(){m("You are getting _mrb_module_get_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_module_get_under",{configurable:!0,set:function(){m("You are setting _mrb_module_get_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_module_get")||(Object.defineProperty(t.ready,"_mrb_module_get",{configurable:!0,get:function(){m("You are getting _mrb_module_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_module_get",{configurable:!0,set:function(){m("You are setting _mrb_module_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrbc_context_new")||(Object.defineProperty(t.ready,"_mrbc_context_new",{configurable:!0,get:function(){m("You are getting _mrbc_context_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrbc_context_new",{configurable:!0,set:function(){m("You are setting _mrbc_context_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrbc_context_free")||(Object.defineProperty(t.ready,"_mrbc_context_free",{configurable:!0,get:function(){m("You are getting _mrbc_context_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrbc_context_free",{configurable:!0,set:function(){m("You are setting _mrbc_context_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_data_init")||(Object.defineProperty(t.ready,"_mrb_sys_data_init",{configurable:!0,get:function(){m("You are getting _mrb_sys_data_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_data_init",{configurable:!0,set:function(){m("You are setting _mrb_sys_data_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_exc_raise")||(Object.defineProperty(t.ready,"_mrb_exc_raise",{configurable:!0,get:function(){m("You are getting _mrb_exc_raise on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_exc_raise",{configurable:!0,set:function(){m("You are setting _mrb_exc_raise on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_raise")||(Object.defineProperty(t.ready,"_mrb_sys_raise",{configurable:!0,get:function(){m("You are getting _mrb_sys_raise on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_raise",{configurable:!0,set:function(){m("You are setting _mrb_sys_raise on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_class_ptr")||(Object.defineProperty(t.ready,"_mrb_sys_class_ptr",{configurable:!0,get:function(){m("You are getting _mrb_sys_class_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_class_ptr",{configurable:!0,set:function(){m("You are setting _mrb_sys_class_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_basic_ptr")||(Object.defineProperty(t.ready,"_mrb_sys_basic_ptr",{configurable:!0,get:function(){m("You are getting _mrb_sys_basic_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_basic_ptr",{configurable:!0,set:function(){m("You are setting _mrb_sys_basic_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_write_barrier")||(Object.defineProperty(t.ready,"_mrb_write_barrier",{configurable:!0,get:function(){m("You are getting _mrb_write_barrier on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_write_barrier",{configurable:!0,set:function(){m("You are setting _mrb_write_barrier on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_new_symbol")||(Object.defineProperty(t.ready,"_mrb_sys_new_symbol",{configurable:!0,get:function(){m("You are getting _mrb_sys_new_symbol on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_new_symbol",{configurable:!0,set:function(){m("You are setting _mrb_sys_new_symbol on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_repack_into_rarray")||(Object.defineProperty(t.ready,"_mrb_sys_repack_into_rarray",{configurable:!0,get:function(){m("You are getting _mrb_sys_repack_into_rarray on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_repack_into_rarray",{configurable:!0,set:function(){m("You are setting _mrb_sys_repack_into_rarray on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_cptr_ptr")||(Object.defineProperty(t.ready,"_mrb_sys_cptr_ptr",{configurable:!0,get:function(){m("You are getting _mrb_sys_cptr_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_cptr_ptr",{configurable:!0,set:function(){m("You are setting _mrb_sys_cptr_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_funcall_with_block")||(Object.defineProperty(t.ready,"_mrb_funcall_with_block",{configurable:!0,get:function(){m("You are getting _mrb_funcall_with_block on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_funcall_with_block",{configurable:!0,set:function(){m("You are setting _mrb_funcall_with_block on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_funcall_argv")||(Object.defineProperty(t.ready,"_mrb_funcall_argv",{configurable:!0,get:function(){m("You are getting _mrb_funcall_argv on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_funcall_argv",{configurable:!0,set:function(){m("You are setting _mrb_funcall_argv on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_load_nstring_cxt")||(Object.defineProperty(t.ready,"_mrb_load_nstring_cxt",{configurable:!0,get:function(){m("You are getting _mrb_load_nstring_cxt on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_load_nstring_cxt",{configurable:!0,set:function(){m("You are setting _mrb_load_nstring_cxt on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_yield")||(Object.defineProperty(t.ready,"_mrb_yield",{configurable:!0,get:function(){m("You are getting _mrb_yield on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_yield",{configurable:!0,set:function(){m("You are setting _mrb_yield on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_range_beg_len")||(Object.defineProperty(t.ready,"_mrb_range_beg_len",{configurable:!0,get:function(){m("You are getting _mrb_range_beg_len on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_range_beg_len",{configurable:!0,set:function(){m("You are setting _mrb_range_beg_len on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_default_allocf")||(Object.defineProperty(t.ready,"_mrb_default_allocf",{configurable:!0,get:function(){m("You are getting _mrb_default_allocf on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_default_allocf",{configurable:!0,set:function(){m("You are setting _mrb_default_allocf on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_open_allocf")||(Object.defineProperty(t.ready,"_mrb_open_allocf",{configurable:!0,get:function(){m("You are getting _mrb_open_allocf on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_open_allocf",{configurable:!0,set:function(){m("You are setting _mrb_open_allocf on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_state_atexit")||(Object.defineProperty(t.ready,"_mrb_state_atexit",{configurable:!0,get:function(){m("You are getting _mrb_state_atexit on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_state_atexit",{configurable:!0,set:function(){m("You are setting _mrb_state_atexit on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_fiber_resume")||(Object.defineProperty(t.ready,"_mrb_fiber_resume",{configurable:!0,get:function(){m("You are getting _mrb_fiber_resume on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_fiber_resume",{configurable:!0,set:function(){m("You are setting _mrb_fiber_resume on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_fiber_alive_p")||(Object.defineProperty(t.ready,"_mrb_fiber_alive_p",{configurable:!0,get:function(){m("You are getting _mrb_fiber_alive_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_fiber_alive_p",{configurable:!0,set:function(){m("You are setting _mrb_fiber_alive_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_fiber_yield")||(Object.defineProperty(t.ready,"_mrb_fiber_yield",{configurable:!0,get:function(){m("You are getting _mrb_fiber_yield on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_fiber_yield",{configurable:!0,set:function(){m("You are setting _mrb_fiber_yield on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_stack_extend")||(Object.defineProperty(t.ready,"_mrb_stack_extend",{configurable:!0,get:function(){m("You are getting _mrb_stack_extend on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_stack_extend",{configurable:!0,set:function(){m("You are setting _mrb_stack_extend on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_funcall")||(Object.defineProperty(t.ready,"_mrb_funcall",{configurable:!0,get:function(){m("You are getting _mrb_funcall on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_funcall",{configurable:!0,set:function(){m("You are setting _mrb_funcall on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_realloc_simple")||(Object.defineProperty(t.ready,"_mrb_realloc_simple",{configurable:!0,get:function(){m("You are getting _mrb_realloc_simple on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_realloc_simple",{configurable:!0,set:function(){m("You are setting _mrb_realloc_simple on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_malloc")||(Object.defineProperty(t.ready,"_mrb_malloc",{configurable:!0,get:function(){m("You are getting _mrb_malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_malloc",{configurable:!0,set:function(){m("You are setting _mrb_malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_exc_get_id")||(Object.defineProperty(t.ready,"_mrb_exc_get_id",{configurable:!0,get:function(){m("You are getting _mrb_exc_get_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_exc_get_id",{configurable:!0,set:function(){m("You are setting _mrb_exc_get_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_raise")||(Object.defineProperty(t.ready,"_mrb_raise",{configurable:!0,get:function(){m("You are getting _mrb_raise on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_raise",{configurable:!0,set:function(){m("You are setting _mrb_raise on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_funcall_id")||(Object.defineProperty(t.ready,"_mrb_funcall_id",{configurable:!0,get:function(){m("You are getting _mrb_funcall_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_funcall_id",{configurable:!0,set:function(){m("You are setting _mrb_funcall_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_calloc")||(Object.defineProperty(t.ready,"_mrb_calloc",{configurable:!0,get:function(){m("You are getting _mrb_calloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_calloc",{configurable:!0,set:function(){m("You are setting _mrb_calloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_method_search_vm")||(Object.defineProperty(t.ready,"_mrb_method_search_vm",{configurable:!0,get:function(){m("You are getting _mrb_method_search_vm on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_method_search_vm",{configurable:!0,set:function(){m("You are setting _mrb_method_search_vm on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_realloc")||(Object.defineProperty(t.ready,"_mrb_realloc",{configurable:!0,get:function(){m("You are getting _mrb_realloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_realloc",{configurable:!0,set:function(){m("You are setting _mrb_realloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_vm_run")||(Object.defineProperty(t.ready,"_mrb_vm_run",{configurable:!0,get:function(){m("You are getting _mrb_vm_run on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_vm_run",{configurable:!0,set:function(){m("You are setting _mrb_vm_run on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_raisef")||(Object.defineProperty(t.ready,"_mrb_raisef",{configurable:!0,get:function(){m("You are getting _mrb_raisef on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_raisef",{configurable:!0,set:function(){m("You are setting _mrb_raisef on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_yield_with_class")||(Object.defineProperty(t.ready,"_mrb_yield_with_class",{configurable:!0,get:function(){m("You are getting _mrb_yield_with_class on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_yield_with_class",{configurable:!0,set:function(){m("You are setting _mrb_yield_with_class on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_singleton_class_ptr")||(Object.defineProperty(t.ready,"_mrb_singleton_class_ptr",{configurable:!0,get:function(){m("You are getting _mrb_singleton_class_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_singleton_class_ptr",{configurable:!0,set:function(){m("You are setting _mrb_singleton_class_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_yield_argv")||(Object.defineProperty(t.ready,"_mrb_yield_argv",{configurable:!0,get:function(){m("You are getting _mrb_yield_argv on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_yield_argv",{configurable:!0,set:function(){m("You are setting _mrb_yield_argv on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_vm_exec")||(Object.defineProperty(t.ready,"_mrb_vm_exec",{configurable:!0,get:function(){m("You are getting _mrb_vm_exec on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_vm_exec",{configurable:!0,set:function(){m("You are setting _mrb_vm_exec on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_gv_get")||(Object.defineProperty(t.ready,"_mrb_gv_get",{configurable:!0,get:function(){m("You are getting _mrb_gv_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_gv_get",{configurable:!0,set:function(){m("You are setting _mrb_gv_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_iv_get")||(Object.defineProperty(t.ready,"_mrb_iv_get",{configurable:!0,get:function(){m("You are getting _mrb_iv_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_iv_get",{configurable:!0,set:function(){m("You are setting _mrb_iv_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_iv_set")||(Object.defineProperty(t.ready,"_mrb_iv_set",{configurable:!0,get:function(){m("You are getting _mrb_iv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_iv_set",{configurable:!0,set:function(){m("You are setting _mrb_iv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_const_get")||(Object.defineProperty(t.ready,"_mrb_const_get",{configurable:!0,get:function(){m("You are getting _mrb_const_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_const_get",{configurable:!0,set:function(){m("You are setting _mrb_const_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_const_set")||(Object.defineProperty(t.ready,"_mrb_const_set",{configurable:!0,get:function(){m("You are getting _mrb_const_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_const_set",{configurable:!0,set:function(){m("You are setting _mrb_const_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_is_kind_of")||(Object.defineProperty(t.ready,"_mrb_obj_is_kind_of",{configurable:!0,get:function(){m("You are getting _mrb_obj_is_kind_of on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_is_kind_of",{configurable:!0,set:function(){m("You are setting _mrb_obj_is_kind_of on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_key_p")||(Object.defineProperty(t.ready,"_mrb_hash_key_p",{configurable:!0,get:function(){m("You are getting _mrb_hash_key_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_key_p",{configurable:!0,set:function(){m("You are setting _mrb_hash_key_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_empty_p")||(Object.defineProperty(t.ready,"_mrb_hash_empty_p",{configurable:!0,get:function(){m("You are getting _mrb_hash_empty_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_empty_p",{configurable:!0,set:function(){m("You are setting _mrb_hash_empty_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_alloc")||(Object.defineProperty(t.ready,"_mrb_obj_alloc",{configurable:!0,get:function(){m("You are getting _mrb_obj_alloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_alloc",{configurable:!0,set:function(){m("You are setting _mrb_obj_alloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_plus")||(Object.defineProperty(t.ready,"_mrb_str_plus",{configurable:!0,get:function(){m("You are getting _mrb_str_plus on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_plus",{configurable:!0,set:function(){m("You are setting _mrb_str_plus on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_eq")||(Object.defineProperty(t.ready,"_mrb_obj_eq",{configurable:!0,get:function(){m("You are getting _mrb_obj_eq on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_eq",{configurable:!0,set:function(){m("You are setting _mrb_obj_eq on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_new_static")||(Object.defineProperty(t.ready,"_mrb_str_new_static",{configurable:!0,get:function(){m("You are getting _mrb_str_new_static on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_new_static",{configurable:!0,set:function(){m("You are setting _mrb_str_new_static on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_concat")||(Object.defineProperty(t.ready,"_mrb_str_concat",{configurable:!0,get:function(){m("You are getting _mrb_str_concat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_concat",{configurable:!0,set:function(){m("You are setting _mrb_str_concat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ensure_hash_type")||(Object.defineProperty(t.ready,"_mrb_ensure_hash_type",{configurable:!0,get:function(){m("You are getting _mrb_ensure_hash_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ensure_hash_type",{configurable:!0,set:function(){m("You are setting _mrb_ensure_hash_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_range_new")||(Object.defineProperty(t.ready,"_mrb_range_new",{configurable:!0,get:function(){m("You are getting _mrb_range_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_range_new",{configurable:!0,set:function(){m("You are setting _mrb_range_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_method_raw")||(Object.defineProperty(t.ready,"_mrb_define_method_raw",{configurable:!0,get:function(){m("You are getting _mrb_define_method_raw on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_method_raw",{configurable:!0,set:function(){m("You are setting _mrb_define_method_raw on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_singleton_class")||(Object.defineProperty(t.ready,"_mrb_singleton_class",{configurable:!0,get:function(){m("You are getting _mrb_singleton_class on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_singleton_class",{configurable:!0,set:function(){m("You are setting _mrb_singleton_class on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_type_convert")||(Object.defineProperty(t.ready,"_mrb_type_convert",{configurable:!0,get:function(){m("You are getting _mrb_type_convert on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_type_convert",{configurable:!0,set:function(){m("You are setting _mrb_type_convert on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_new")||(Object.defineProperty(t.ready,"_mrb_hash_new",{configurable:!0,get:function(){m("You are getting _mrb_hash_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_new",{configurable:!0,set:function(){m("You are setting _mrb_hash_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_dup")||(Object.defineProperty(t.ready,"_mrb_hash_dup",{configurable:!0,get:function(){m("You are getting _mrb_hash_dup on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_dup",{configurable:!0,set:function(){m("You are setting _mrb_hash_dup on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_format")||(Object.defineProperty(t.ready,"_mrb_format",{configurable:!0,get:function(){m("You are getting _mrb_format on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_format",{configurable:!0,set:function(){m("You are setting _mrb_format on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_delete_key")||(Object.defineProperty(t.ready,"_mrb_hash_delete_key",{configurable:!0,get:function(){m("You are getting _mrb_hash_delete_key on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_delete_key",{configurable:!0,set:function(){m("You are setting _mrb_hash_delete_key on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_exc_new_str")||(Object.defineProperty(t.ready,"_mrb_exc_new_str",{configurable:!0,get:function(){m("You are getting _mrb_exc_new_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_exc_new_str",{configurable:!0,set:function(){m("You are setting _mrb_exc_new_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_exc_new")||(Object.defineProperty(t.ready,"_mrb_exc_new",{configurable:!0,get:function(){m("You are getting _mrb_exc_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_exc_new",{configurable:!0,set:function(){m("You are setting _mrb_exc_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_undef_method_id")||(Object.defineProperty(t.ready,"_mrb_undef_method_id",{configurable:!0,get:function(){m("You are getting _mrb_undef_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_undef_method_id",{configurable:!0,set:function(){m("You are setting _mrb_undef_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_alias_method")||(Object.defineProperty(t.ready,"_mrb_alias_method",{configurable:!0,get:function(){m("You are getting _mrb_alias_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_alias_method",{configurable:!0,set:function(){m("You are setting _mrb_alias_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_field_write_barrier")||(Object.defineProperty(t.ready,"_mrb_field_write_barrier",{configurable:!0,get:function(){m("You are getting _mrb_field_write_barrier on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_field_write_barrier",{configurable:!0,set:function(){m("You are setting _mrb_field_write_barrier on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_merge")||(Object.defineProperty(t.ready,"_mrb_hash_merge",{configurable:!0,get:function(){m("You are getting _mrb_hash_merge on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_merge",{configurable:!0,set:function(){m("You are setting _mrb_hash_merge on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_new_capa")||(Object.defineProperty(t.ready,"_mrb_str_new_capa",{configurable:!0,get:function(){m("You are getting _mrb_str_new_capa on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_new_capa",{configurable:!0,set:function(){m("You are setting _mrb_str_new_capa on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_cat")||(Object.defineProperty(t.ready,"_mrb_str_cat",{configurable:!0,get:function(){m("You are getting _mrb_str_cat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_cat",{configurable:!0,set:function(){m("You are setting _mrb_str_cat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_top_run")||(Object.defineProperty(t.ready,"_mrb_top_run",{configurable:!0,get:function(){m("You are getting _mrb_top_run on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_top_run",{configurable:!0,set:function(){m("You are setting _mrb_top_run on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_parser_parse")||(Object.defineProperty(t.ready,"_mrb_parser_parse",{configurable:!0,get:function(){m("You are getting _mrb_parser_parse on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_parser_parse",{configurable:!0,set:function(){m("You are setting _mrb_parser_parse on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_parser_set_filename")||(Object.defineProperty(t.ready,"_mrb_parser_set_filename",{configurable:!0,get:function(){m("You are getting _mrb_parser_set_filename on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_parser_set_filename",{configurable:!0,set:function(){m("You are setting _mrb_parser_set_filename on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_parser_new")||(Object.defineProperty(t.ready,"_mrb_parser_new",{configurable:!0,get:function(){m("You are getting _mrb_parser_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_parser_new",{configurable:!0,set:function(){m("You are setting _mrb_parser_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_parser_free")||(Object.defineProperty(t.ready,"_mrb_parser_free",{configurable:!0,get:function(){m("You are getting _mrb_parser_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_parser_free",{configurable:!0,set:function(){m("You are setting _mrb_parser_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_pool_alloc")||(Object.defineProperty(t.ready,"_mrb_pool_alloc",{configurable:!0,get:function(){m("You are getting _mrb_pool_alloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_pool_alloc",{configurable:!0,set:function(){m("You are setting _mrb_pool_alloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_pool_open")||(Object.defineProperty(t.ready,"_mrb_pool_open",{configurable:!0,get:function(){m("You are getting _mrb_pool_open on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_pool_open",{configurable:!0,set:function(){m("You are setting _mrb_pool_open on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_free")||(Object.defineProperty(t.ready,"_mrb_free",{configurable:!0,get:function(){m("You are getting _mrb_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_free",{configurable:!0,set:function(){m("You are setting _mrb_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_pool_close")||(Object.defineProperty(t.ready,"_mrb_pool_close",{configurable:!0,get:function(){m("You are getting _mrb_pool_close on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_pool_close",{configurable:!0,set:function(){m("You are setting _mrb_pool_close on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrbc_partial_hook")||(Object.defineProperty(t.ready,"_mrbc_partial_hook",{configurable:!0,get:function(){m("You are getting _mrbc_partial_hook on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrbc_partial_hook",{configurable:!0,set:function(){m("You are setting _mrbc_partial_hook on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrbc_cleanup_local_variables")||(Object.defineProperty(t.ready,"_mrbc_cleanup_local_variables",{configurable:!0,get:function(){m("You are getting _mrbc_cleanup_local_variables on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrbc_cleanup_local_variables",{configurable:!0,set:function(){m("You are setting _mrbc_cleanup_local_variables on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_parser_get_filename")||(Object.defineProperty(t.ready,"_mrb_parser_get_filename",{configurable:!0,get:function(){m("You are getting _mrb_parser_get_filename on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_parser_get_filename",{configurable:!0,set:function(){m("You are setting _mrb_parser_get_filename on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_parse_nstring")||(Object.defineProperty(t.ready,"_mrb_parse_nstring",{configurable:!0,get:function(){m("You are getting _mrb_parse_nstring on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_parse_nstring",{configurable:!0,set:function(){m("You are setting _mrb_parse_nstring on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_parse_string")||(Object.defineProperty(t.ready,"_mrb_parse_string",{configurable:!0,get:function(){m("You are getting _mrb_parse_string on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_parse_string",{configurable:!0,set:function(){m("You are setting _mrb_parse_string on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_load_exec")||(Object.defineProperty(t.ready,"_mrb_load_exec",{configurable:!0,get:function(){m("You are getting _mrb_load_exec on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_load_exec",{configurable:!0,set:function(){m("You are setting _mrb_load_exec on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_generate_code")||(Object.defineProperty(t.ready,"_mrb_generate_code",{configurable:!0,get:function(){m("You are getting _mrb_generate_code on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_generate_code",{configurable:!0,set:function(){m("You are setting _mrb_generate_code on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_load_nstring")||(Object.defineProperty(t.ready,"_mrb_load_nstring",{configurable:!0,get:function(){m("You are getting _mrb_load_nstring on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_load_nstring",{configurable:!0,set:function(){m("You are setting _mrb_load_nstring on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_load_string_cxt")||(Object.defineProperty(t.ready,"_mrb_load_string_cxt",{configurable:!0,get:function(){m("You are getting _mrb_load_string_cxt on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_load_string_cxt",{configurable:!0,set:function(){m("You are setting _mrb_load_string_cxt on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_load_string")||(Object.defineProperty(t.ready,"_mrb_load_string",{configurable:!0,get:function(){m("You are getting _mrb_load_string on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_load_string",{configurable:!0,set:function(){m("You are setting _mrb_load_string on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_bug")||(Object.defineProperty(t.ready,"_mrb_bug",{configurable:!0,get:function(){m("You are getting _mrb_bug on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_bug",{configurable:!0,set:function(){m("You are setting _mrb_bug on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_pool_realloc")||(Object.defineProperty(t.ready,"_mrb_pool_realloc",{configurable:!0,get:function(){m("You are getting _mrb_pool_realloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_pool_realloc",{configurable:!0,set:function(){m("You are setting _mrb_pool_realloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_float_read")||(Object.defineProperty(t.ready,"_mrb_float_read",{configurable:!0,get:function(){m("You are getting _mrb_float_read on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_float_read",{configurable:!0,set:function(){m("You are setting _mrb_float_read on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_float_to_str")||(Object.defineProperty(t.ready,"_mrb_float_to_str",{configurable:!0,get:function(){m("You are getting _mrb_float_to_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_float_to_str",{configurable:!0,set:function(){m("You are setting _mrb_float_to_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_float_to_cstr")||(Object.defineProperty(t.ready,"_mrb_float_to_cstr",{configurable:!0,get:function(){m("You are getting _mrb_float_to_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_float_to_cstr",{configurable:!0,set:function(){m("You are setting _mrb_float_to_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_func_basic_p")||(Object.defineProperty(t.ready,"_mrb_func_basic_p",{configurable:!0,get:function(){m("You are getting _mrb_func_basic_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_func_basic_p",{configurable:!0,set:function(){m("You are setting _mrb_func_basic_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_inspect")||(Object.defineProperty(t.ready,"_mrb_obj_inspect",{configurable:!0,get:function(){m("You are getting _mrb_obj_inspect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_inspect",{configurable:!0,set:function(){m("You are setting _mrb_obj_inspect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_freeze")||(Object.defineProperty(t.ready,"_mrb_obj_freeze",{configurable:!0,get:function(){m("You are getting _mrb_obj_freeze on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_freeze",{configurable:!0,set:function(){m("You are setting _mrb_obj_freeze on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_is_instance_of")||(Object.defineProperty(t.ready,"_mrb_obj_is_instance_of",{configurable:!0,get:function(){m("You are getting _mrb_obj_is_instance_of on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_is_instance_of",{configurable:!0,set:function(){m("You are setting _mrb_obj_is_instance_of on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_f_raise")||(Object.defineProperty(t.ready,"_mrb_f_raise",{configurable:!0,get:function(){m("You are getting _mrb_f_raise on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_f_raise",{configurable:!0,set:function(){m("You are setting _mrb_f_raise on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_any_to_s")||(Object.defineProperty(t.ready,"_mrb_any_to_s",{configurable:!0,get:function(){m("You are getting _mrb_any_to_s on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_any_to_s",{configurable:!0,set:function(){m("You are setting _mrb_any_to_s on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_id")||(Object.defineProperty(t.ready,"_mrb_obj_id",{configurable:!0,get:function(){m("You are getting _mrb_obj_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_id",{configurable:!0,set:function(){m("You are setting _mrb_obj_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_get_arg1")||(Object.defineProperty(t.ready,"_mrb_get_arg1",{configurable:!0,get:function(){m("You are getting _mrb_get_arg1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_get_arg1",{configurable:!0,set:function(){m("You are setting _mrb_get_arg1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_equal")||(Object.defineProperty(t.ready,"_mrb_obj_equal",{configurable:!0,get:function(){m("You are getting _mrb_obj_equal on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_equal",{configurable:!0,set:function(){m("You are setting _mrb_obj_equal on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_class")||(Object.defineProperty(t.ready,"_mrb_obj_class",{configurable:!0,get:function(){m("You are getting _mrb_obj_class on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_class",{configurable:!0,set:function(){m("You are setting _mrb_obj_class on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_make_exception")||(Object.defineProperty(t.ready,"_mrb_make_exception",{configurable:!0,get:function(){m("You are getting _mrb_make_exception on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_make_exception",{configurable:!0,set:function(){m("You are setting _mrb_make_exception on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_no_method_error")||(Object.defineProperty(t.ready,"_mrb_no_method_error",{configurable:!0,get:function(){m("You are getting _mrb_no_method_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_no_method_error",{configurable:!0,set:function(){m("You are setting _mrb_no_method_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_clone")||(Object.defineProperty(t.ready,"_mrb_obj_clone",{configurable:!0,get:function(){m("You are getting _mrb_obj_clone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_clone",{configurable:!0,set:function(){m("You are setting _mrb_obj_clone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_dup")||(Object.defineProperty(t.ready,"_mrb_obj_dup",{configurable:!0,get:function(){m("You are getting _mrb_obj_dup on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_dup",{configurable:!0,set:function(){m("You are setting _mrb_obj_dup on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_to_int")||(Object.defineProperty(t.ready,"_mrb_to_int",{configurable:!0,get:function(){m("You are getting _mrb_to_int on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_to_int",{configurable:!0,set:function(){m("You are setting _mrb_to_int on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_to_str")||(Object.defineProperty(t.ready,"_mrb_to_str",{configurable:!0,get:function(){m("You are getting _mrb_to_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_to_str",{configurable:!0,set:function(){m("You are setting _mrb_to_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_include_module")||(Object.defineProperty(t.ready,"_mrb_include_module",{configurable:!0,get:function(){m("You are getting _mrb_include_module on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_include_module",{configurable:!0,set:function(){m("You are setting _mrb_include_module on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_equal")||(Object.defineProperty(t.ready,"_mrb_equal",{configurable:!0,get:function(){m("You are getting _mrb_equal on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_equal",{configurable:!0,set:function(){m("You are setting _mrb_equal on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_check_type")||(Object.defineProperty(t.ready,"_mrb_check_type",{configurable:!0,get:function(){m("You are getting _mrb_check_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_check_type",{configurable:!0,set:function(){m("You are setting _mrb_check_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_argnum_error")||(Object.defineProperty(t.ready,"_mrb_argnum_error",{configurable:!0,get:function(){m("You are getting _mrb_argnum_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_argnum_error",{configurable:!0,set:function(){m("You are setting _mrb_argnum_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_iv_name_sym_check")||(Object.defineProperty(t.ready,"_mrb_iv_name_sym_check",{configurable:!0,get:function(){m("You are getting _mrb_iv_name_sym_check on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_iv_name_sym_check",{configurable:!0,set:function(){m("You are setting _mrb_iv_name_sym_check on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_iv_remove")||(Object.defineProperty(t.ready,"_mrb_iv_remove",{configurable:!0,get:function(){m("You are getting _mrb_iv_remove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_iv_remove",{configurable:!0,set:function(){m("You are setting _mrb_iv_remove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_name_error")||(Object.defineProperty(t.ready,"_mrb_name_error",{configurable:!0,get:function(){m("You are getting _mrb_name_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_name_error",{configurable:!0,set:function(){m("You are setting _mrb_name_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_respond_to")||(Object.defineProperty(t.ready,"_mrb_respond_to",{configurable:!0,get:function(){m("You are getting _mrb_respond_to on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_respond_to",{configurable:!0,set:function(){m("You are setting _mrb_respond_to on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ensure_array_type")||(Object.defineProperty(t.ready,"_mrb_ensure_array_type",{configurable:!0,get:function(){m("You are getting _mrb_ensure_array_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ensure_array_type",{configurable:!0,set:function(){m("You are setting _mrb_ensure_array_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_entry")||(Object.defineProperty(t.ready,"_mrb_ary_entry",{configurable:!0,get:function(){m("You are getting _mrb_ary_entry on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_entry",{configurable:!0,set:function(){m("You are setting _mrb_ary_entry on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_proc_new_cfunc")||(Object.defineProperty(t.ready,"_mrb_proc_new_cfunc",{configurable:!0,get:function(){m("You are getting _mrb_proc_new_cfunc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_proc_new_cfunc",{configurable:!0,set:function(){m("You are setting _mrb_proc_new_cfunc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_proc_new_cfunc_with_env")||(Object.defineProperty(t.ready,"_mrb_proc_new_cfunc_with_env",{configurable:!0,get:function(){m("You are getting _mrb_proc_new_cfunc_with_env on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_proc_new_cfunc_with_env",{configurable:!0,set:function(){m("You are setting _mrb_proc_new_cfunc_with_env on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_closure_new_cfunc")||(Object.defineProperty(t.ready,"_mrb_closure_new_cfunc",{configurable:!0,get:function(){m("You are getting _mrb_closure_new_cfunc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_closure_new_cfunc",{configurable:!0,set:function(){m("You are setting _mrb_closure_new_cfunc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_proc_cfunc_env_get")||(Object.defineProperty(t.ready,"_mrb_proc_cfunc_env_get",{configurable:!0,get:function(){m("You are getting _mrb_proc_cfunc_env_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_proc_cfunc_env_get",{configurable:!0,set:function(){m("You are setting _mrb_proc_cfunc_env_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_open_core")||(Object.defineProperty(t.ready,"_mrb_open_core",{configurable:!0,get:function(){m("You are getting _mrb_open_core on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_open_core",{configurable:!0,set:function(){m("You are setting _mrb_open_core on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_open")||(Object.defineProperty(t.ready,"_mrb_open",{configurable:!0,get:function(){m("You are getting _mrb_open on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_open",{configurable:!0,set:function(){m("You are setting _mrb_open on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_debug_info_free")||(Object.defineProperty(t.ready,"_mrb_debug_info_free",{configurable:!0,get:function(){m("You are getting _mrb_debug_info_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_debug_info_free",{configurable:!0,set:function(){m("You are setting _mrb_debug_info_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_free_context")||(Object.defineProperty(t.ready,"_mrb_free_context",{configurable:!0,get:function(){m("You are getting _mrb_free_context on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_free_context",{configurable:!0,set:function(){m("You are setting _mrb_free_context on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_add_irep")||(Object.defineProperty(t.ready,"_mrb_add_irep",{configurable:!0,get:function(){m("You are getting _mrb_add_irep on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_add_irep",{configurable:!0,set:function(){m("You are setting _mrb_add_irep on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_gc_mark")||(Object.defineProperty(t.ready,"_mrb_gc_mark",{configurable:!0,get:function(){m("You are getting _mrb_gc_mark on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_gc_mark",{configurable:!0,set:function(){m("You are setting _mrb_gc_mark on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_range_ptr")||(Object.defineProperty(t.ready,"_mrb_range_ptr",{configurable:!0,get:function(){m("You are getting _mrb_range_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_range_ptr",{configurable:!0,set:function(){m("You are setting _mrb_range_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_cmp")||(Object.defineProperty(t.ready,"_mrb_cmp",{configurable:!0,get:function(){m("You are getting _mrb_cmp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_cmp",{configurable:!0,set:function(){m("You are setting _mrb_cmp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_as_string")||(Object.defineProperty(t.ready,"_mrb_obj_as_string",{configurable:!0,get:function(){m("You are getting _mrb_obj_as_string on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_as_string",{configurable:!0,set:function(){m("You are setting _mrb_obj_as_string on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_dup")||(Object.defineProperty(t.ready,"_mrb_str_dup",{configurable:!0,get:function(){m("You are getting _mrb_str_dup on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_dup",{configurable:!0,set:function(){m("You are setting _mrb_str_dup on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_cat_str")||(Object.defineProperty(t.ready,"_mrb_str_cat_str",{configurable:!0,get:function(){m("You are getting _mrb_str_cat_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_cat_str",{configurable:!0,set:function(){m("You are setting _mrb_str_cat_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_inspect")||(Object.defineProperty(t.ready,"_mrb_inspect",{configurable:!0,get:function(){m("You are getting _mrb_inspect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_inspect",{configurable:!0,set:function(){m("You are setting _mrb_inspect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_eql")||(Object.defineProperty(t.ready,"_mrb_eql",{configurable:!0,get:function(){m("You are getting _mrb_eql on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_eql",{configurable:!0,set:function(){m("You are setting _mrb_eql on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ensure")||(Object.defineProperty(t.ready,"_mrb_ensure",{configurable:!0,get:function(){m("You are getting _mrb_ensure on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ensure",{configurable:!0,set:function(){m("You are setting _mrb_ensure on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_rescue")||(Object.defineProperty(t.ready,"_mrb_rescue",{configurable:!0,get:function(){m("You are getting _mrb_rescue on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_rescue",{configurable:!0,set:function(){m("You are setting _mrb_rescue on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_rescue_exceptions")||(Object.defineProperty(t.ready,"_mrb_rescue_exceptions",{configurable:!0,get:function(){m("You are getting _mrb_rescue_exceptions on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_rescue_exceptions",{configurable:!0,set:function(){m("You are setting _mrb_rescue_exceptions on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_debug_info_alloc")||(Object.defineProperty(t.ready,"_mrb_debug_info_alloc",{configurable:!0,get:function(){m("You are getting _mrb_debug_info_alloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_debug_info_alloc",{configurable:!0,set:function(){m("You are setting _mrb_debug_info_alloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_debug_info_append_file")||(Object.defineProperty(t.ready,"_mrb_debug_info_append_file",{configurable:!0,get:function(){m("You are getting _mrb_debug_info_append_file on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_debug_info_append_file",{configurable:!0,set:function(){m("You are setting _mrb_debug_info_append_file on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_new_cstr")||(Object.defineProperty(t.ready,"_mrb_str_new_cstr",{configurable:!0,get:function(){m("You are getting _mrb_str_new_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_new_cstr",{configurable:!0,set:function(){m("You are setting _mrb_str_new_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_undef_class_method")||(Object.defineProperty(t.ready,"_mrb_undef_class_method",{configurable:!0,get:function(){m("You are getting _mrb_undef_class_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_undef_class_method",{configurable:!0,set:function(){m("You are setting _mrb_undef_class_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_classname")||(Object.defineProperty(t.ready,"_mrb_obj_classname",{configurable:!0,get:function(){m("You are getting _mrb_obj_classname on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_classname",{configurable:!0,set:function(){m("You are setting _mrb_obj_classname on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_cat_cstr")||(Object.defineProperty(t.ready,"_mrb_str_cat_cstr",{configurable:!0,get:function(){m("You are getting _mrb_str_cat_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_cat_cstr",{configurable:!0,set:function(){m("You are setting _mrb_str_cat_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ptr_to_str")||(Object.defineProperty(t.ready,"_mrb_ptr_to_str",{configurable:!0,get:function(){m("You are getting _mrb_ptr_to_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ptr_to_str",{configurable:!0,set:function(){m("You are setting _mrb_ptr_to_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_type_convert_check")||(Object.defineProperty(t.ready,"_mrb_type_convert_check",{configurable:!0,get:function(){m("You are getting _mrb_type_convert_check on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_type_convert_check",{configurable:!0,set:function(){m("You are setting _mrb_type_convert_check on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_flo_to_fixnum")||(Object.defineProperty(t.ready,"_mrb_flo_to_fixnum",{configurable:!0,get:function(){m("You are getting _mrb_flo_to_fixnum on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_flo_to_fixnum",{configurable:!0,set:function(){m("You are setting _mrb_flo_to_fixnum on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_convert_to_integer")||(Object.defineProperty(t.ready,"_mrb_convert_to_integer",{configurable:!0,get:function(){m("You are getting _mrb_convert_to_integer on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_convert_to_integer",{configurable:!0,set:function(){m("You are setting _mrb_convert_to_integer on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_to_inum")||(Object.defineProperty(t.ready,"_mrb_str_to_inum",{configurable:!0,get:function(){m("You are getting _mrb_str_to_inum on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_to_inum",{configurable:!0,set:function(){m("You are setting _mrb_str_to_inum on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_check_string_type")||(Object.defineProperty(t.ready,"_mrb_check_string_type",{configurable:!0,get:function(){m("You are getting _mrb_check_string_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_check_string_type",{configurable:!0,set:function(){m("You are setting _mrb_check_string_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_Integer")||(Object.defineProperty(t.ready,"_mrb_Integer",{configurable:!0,get:function(){m("You are getting _mrb_Integer on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_Integer",{configurable:!0,set:function(){m("You are setting _mrb_Integer on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_Float")||(Object.defineProperty(t.ready,"_mrb_Float",{configurable:!0,get:function(){m("You are getting _mrb_Float on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_Float",{configurable:!0,set:function(){m("You are setting _mrb_Float on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_to_dbl")||(Object.defineProperty(t.ready,"_mrb_str_to_dbl",{configurable:!0,get:function(){m("You are getting _mrb_str_to_dbl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_to_dbl",{configurable:!0,set:function(){m("You are setting _mrb_str_to_dbl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ensure_string_type")||(Object.defineProperty(t.ready,"_mrb_ensure_string_type",{configurable:!0,get:function(){m("You are getting _mrb_ensure_string_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ensure_string_type",{configurable:!0,set:function(){m("You are setting _mrb_ensure_string_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_string_type")||(Object.defineProperty(t.ready,"_mrb_string_type",{configurable:!0,get:function(){m("You are getting _mrb_string_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_string_type",{configurable:!0,set:function(){m("You are setting _mrb_string_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_check_array_type")||(Object.defineProperty(t.ready,"_mrb_check_array_type",{configurable:!0,get:function(){m("You are getting _mrb_check_array_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_check_array_type",{configurable:!0,set:function(){m("You are setting _mrb_check_array_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_check_hash_type")||(Object.defineProperty(t.ready,"_mrb_check_hash_type",{configurable:!0,get:function(){m("You are getting _mrb_check_hash_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_check_hash_type",{configurable:!0,set:function(){m("You are setting _mrb_check_hash_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_data_check_type")||(Object.defineProperty(t.ready,"_mrb_data_check_type",{configurable:!0,get:function(){m("You are getting _mrb_data_check_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_data_check_type",{configurable:!0,set:function(){m("You are setting _mrb_data_check_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_data_get_ptr")||(Object.defineProperty(t.ready,"_mrb_data_get_ptr",{configurable:!0,get:function(){m("You are getting _mrb_data_get_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_data_get_ptr",{configurable:!0,set:function(){m("You are setting _mrb_data_get_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_to_sym")||(Object.defineProperty(t.ready,"_mrb_obj_to_sym",{configurable:!0,get:function(){m("You are getting _mrb_obj_to_sym on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_to_sym",{configurable:!0,set:function(){m("You are setting _mrb_obj_to_sym on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_int_id")||(Object.defineProperty(t.ready,"_mrb_int_id",{configurable:!0,get:function(){m("You are getting _mrb_int_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_int_id",{configurable:!0,set:function(){m("You are setting _mrb_int_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_float_id")||(Object.defineProperty(t.ready,"_mrb_float_id",{configurable:!0,get:function(){m("You are getting _mrb_float_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_float_id",{configurable:!0,set:function(){m("You are setting _mrb_float_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_malloc_simple")||(Object.defineProperty(t.ready,"_mrb_malloc_simple",{configurable:!0,get:function(){m("You are getting _mrb_malloc_simple on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_malloc_simple",{configurable:!0,set:function(){m("You are setting _mrb_malloc_simple on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_pool_can_realloc")||(Object.defineProperty(t.ready,"_mrb_pool_can_realloc",{configurable:!0,get:function(){m("You are getting _mrb_pool_can_realloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_pool_can_realloc",{configurable:!0,set:function(){m("You are setting _mrb_pool_can_realloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_mt_foreach")||(Object.defineProperty(t.ready,"_mrb_mt_foreach",{configurable:!0,get:function(){m("You are getting _mrb_mt_foreach on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_mt_foreach",{configurable:!0,set:function(){m("You are setting _mrb_mt_foreach on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_path")||(Object.defineProperty(t.ready,"_mrb_class_path",{configurable:!0,get:function(){m("You are getting _mrb_class_path on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_path",{configurable:!0,set:function(){m("You are setting _mrb_class_path on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_module_id")||(Object.defineProperty(t.ready,"_mrb_define_module_id",{configurable:!0,get:function(){m("You are getting _mrb_define_module_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_module_id",{configurable:!0,set:function(){m("You are setting _mrb_define_module_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_iv_defined")||(Object.defineProperty(t.ready,"_mrb_obj_iv_defined",{configurable:!0,get:function(){m("You are getting _mrb_obj_iv_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_iv_defined",{configurable:!0,set:function(){m("You are setting _mrb_obj_iv_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_iv_get")||(Object.defineProperty(t.ready,"_mrb_obj_iv_get",{configurable:!0,get:function(){m("You are getting _mrb_obj_iv_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_iv_get",{configurable:!0,set:function(){m("You are setting _mrb_obj_iv_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_iv_set")||(Object.defineProperty(t.ready,"_mrb_obj_iv_set",{configurable:!0,get:function(){m("You are getting _mrb_obj_iv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_iv_set",{configurable:!0,set:function(){m("You are setting _mrb_obj_iv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_module_under_id")||(Object.defineProperty(t.ready,"_mrb_define_module_under_id",{configurable:!0,get:function(){m("You are getting _mrb_define_module_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_module_under_id",{configurable:!0,set:function(){m("You are setting _mrb_define_module_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_class_id")||(Object.defineProperty(t.ready,"_mrb_define_class_id",{configurable:!0,get:function(){m("You are getting _mrb_define_class_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_class_id",{configurable:!0,set:function(){m("You are setting _mrb_define_class_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_warn")||(Object.defineProperty(t.ready,"_mrb_warn",{configurable:!0,get:function(){m("You are getting _mrb_warn on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_warn",{configurable:!0,set:function(){m("You are setting _mrb_warn on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_new")||(Object.defineProperty(t.ready,"_mrb_class_new",{configurable:!0,get:function(){m("You are getting _mrb_class_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_new",{configurable:!0,set:function(){m("You are setting _mrb_class_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_real")||(Object.defineProperty(t.ready,"_mrb_class_real",{configurable:!0,get:function(){m("You are getting _mrb_class_real on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_real",{configurable:!0,set:function(){m("You are setting _mrb_class_real on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_const_defined")||(Object.defineProperty(t.ready,"_mrb_const_defined",{configurable:!0,get:function(){m("You are getting _mrb_const_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_const_defined",{configurable:!0,set:function(){m("You are setting _mrb_const_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_defined_id")||(Object.defineProperty(t.ready,"_mrb_class_defined_id",{configurable:!0,get:function(){m("You are getting _mrb_class_defined_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_defined_id",{configurable:!0,set:function(){m("You are setting _mrb_class_defined_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_defined_under_id")||(Object.defineProperty(t.ready,"_mrb_class_defined_under_id",{configurable:!0,get:function(){m("You are getting _mrb_class_defined_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_defined_under_id",{configurable:!0,set:function(){m("You are setting _mrb_class_defined_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_get_under_id")||(Object.defineProperty(t.ready,"_mrb_class_get_under_id",{configurable:!0,get:function(){m("You are getting _mrb_class_get_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_get_under_id",{configurable:!0,set:function(){m("You are setting _mrb_class_get_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_get_id")||(Object.defineProperty(t.ready,"_mrb_class_get_id",{configurable:!0,get:function(){m("You are getting _mrb_class_get_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_get_id",{configurable:!0,set:function(){m("You are setting _mrb_class_get_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_module_get_under_id")||(Object.defineProperty(t.ready,"_mrb_module_get_under_id",{configurable:!0,get:function(){m("You are getting _mrb_module_get_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_module_get_under_id",{configurable:!0,set:function(){m("You are setting _mrb_module_get_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_module_get_id")||(Object.defineProperty(t.ready,"_mrb_module_get_id",{configurable:!0,get:function(){m("You are getting _mrb_module_get_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_module_get_id",{configurable:!0,set:function(){m("You are setting _mrb_module_get_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_class_under_id")||(Object.defineProperty(t.ready,"_mrb_define_class_under_id",{configurable:!0,get:function(){m("You are getting _mrb_define_class_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_class_under_id",{configurable:!0,set:function(){m("You are setting _mrb_define_class_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_frozen_error")||(Object.defineProperty(t.ready,"_mrb_frozen_error",{configurable:!0,get:function(){m("You are getting _mrb_frozen_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_frozen_error",{configurable:!0,set:function(){m("You are setting _mrb_frozen_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_method_id")||(Object.defineProperty(t.ready,"_mrb_define_method_id",{configurable:!0,get:function(){m("You are getting _mrb_define_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_method_id",{configurable:!0,set:function(){m("You are setting _mrb_define_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_notimplement")||(Object.defineProperty(t.ready,"_mrb_notimplement",{configurable:!0,get:function(){m("You are getting _mrb_notimplement on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_notimplement",{configurable:!0,set:function(){m("You are setting _mrb_notimplement on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_notimplement_m")||(Object.defineProperty(t.ready,"_mrb_notimplement_m",{configurable:!0,get:function(){m("You are getting _mrb_notimplement_m on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_notimplement_m",{configurable:!0,set:function(){m("You are setting _mrb_notimplement_m on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_get_argc")||(Object.defineProperty(t.ready,"_mrb_get_argc",{configurable:!0,get:function(){m("You are getting _mrb_get_argc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_get_argc",{configurable:!0,set:function(){m("You are setting _mrb_get_argc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_get_argv")||(Object.defineProperty(t.ready,"_mrb_get_argv",{configurable:!0,get:function(){m("You are getting _mrb_get_argv on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_get_argv",{configurable:!0,set:function(){m("You are setting _mrb_get_argv on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_string_cstr")||(Object.defineProperty(t.ready,"_mrb_string_cstr",{configurable:!0,get:function(){m("You are getting _mrb_string_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_string_cstr",{configurable:!0,set:function(){m("You are setting _mrb_string_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_prepend_module")||(Object.defineProperty(t.ready,"_mrb_prepend_module",{configurable:!0,get:function(){m("You are getting _mrb_prepend_module on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_prepend_module",{configurable:!0,set:function(){m("You are setting _mrb_prepend_module on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_singleton_method_id")||(Object.defineProperty(t.ready,"_mrb_define_singleton_method_id",{configurable:!0,get:function(){m("You are getting _mrb_define_singleton_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_singleton_method_id",{configurable:!0,set:function(){m("You are setting _mrb_define_singleton_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_class_method_id")||(Object.defineProperty(t.ready,"_mrb_define_class_method_id",{configurable:!0,get:function(){m("You are getting _mrb_define_class_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_class_method_id",{configurable:!0,set:function(){m("You are setting _mrb_define_class_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_module_function_id")||(Object.defineProperty(t.ready,"_mrb_define_module_function_id",{configurable:!0,get:function(){m("You are getting _mrb_define_module_function_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_module_function_id",{configurable:!0,set:function(){m("You are setting _mrb_define_module_function_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_method_search")||(Object.defineProperty(t.ready,"_mrb_method_search",{configurable:!0,get:function(){m("You are getting _mrb_method_search on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_method_search",{configurable:!0,set:function(){m("You are setting _mrb_method_search on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_respond_to")||(Object.defineProperty(t.ready,"_mrb_obj_respond_to",{configurable:!0,get:function(){m("You are getting _mrb_obj_respond_to on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_respond_to",{configurable:!0,set:function(){m("You are setting _mrb_obj_respond_to on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_name")||(Object.defineProperty(t.ready,"_mrb_class_name",{configurable:!0,get:function(){m("You are getting _mrb_class_name on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_name",{configurable:!0,set:function(){m("You are setting _mrb_class_name on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_module_new")||(Object.defineProperty(t.ready,"_mrb_module_new",{configurable:!0,get:function(){m("You are getting _mrb_module_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_module_new",{configurable:!0,set:function(){m("You are setting _mrb_module_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_alias")||(Object.defineProperty(t.ready,"_mrb_define_alias",{configurable:!0,get:function(){m("You are getting _mrb_define_alias on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_alias",{configurable:!0,set:function(){m("You are setting _mrb_define_alias on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_alias_id")||(Object.defineProperty(t.ready,"_mrb_define_alias_id",{configurable:!0,get:function(){m("You are getting _mrb_define_alias_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_alias_id",{configurable:!0,set:function(){m("You are setting _mrb_define_alias_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_undef_method")||(Object.defineProperty(t.ready,"_mrb_undef_method",{configurable:!0,get:function(){m("You are getting _mrb_undef_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_undef_method",{configurable:!0,set:function(){m("You are setting _mrb_undef_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_undef_class_method_id")||(Object.defineProperty(t.ready,"_mrb_undef_class_method_id",{configurable:!0,get:function(){m("You are getting _mrb_undef_class_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_undef_class_method_id",{configurable:!0,set:function(){m("You are setting _mrb_undef_class_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_remove_method")||(Object.defineProperty(t.ready,"_mrb_remove_method",{configurable:!0,get:function(){m("You are getting _mrb_remove_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_remove_method",{configurable:!0,set:function(){m("You are setting _mrb_remove_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_iv_copy")||(Object.defineProperty(t.ready,"_mrb_iv_copy",{configurable:!0,get:function(){m("You are getting _mrb_iv_copy on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_iv_copy",{configurable:!0,set:function(){m("You are setting _mrb_iv_copy on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_const_id")||(Object.defineProperty(t.ready,"_mrb_define_const_id",{configurable:!0,get:function(){m("You are getting _mrb_define_const_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_const_id",{configurable:!0,set:function(){m("You are setting _mrb_define_const_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_index")||(Object.defineProperty(t.ready,"_mrb_str_index",{configurable:!0,get:function(){m("You are getting _mrb_str_index on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_index",{configurable:!0,set:function(){m("You are setting _mrb_str_index on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_alloca")||(Object.defineProperty(t.ready,"_mrb_alloca",{configurable:!0,get:function(){m("You are getting _mrb_alloca on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_alloca",{configurable:!0,set:function(){m("You are setting _mrb_alloca on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_debug_get_filename")||(Object.defineProperty(t.ready,"_mrb_debug_get_filename",{configurable:!0,get:function(){m("You are getting _mrb_debug_get_filename on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_debug_get_filename",{configurable:!0,set:function(){m("You are setting _mrb_debug_get_filename on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_debug_get_line")||(Object.defineProperty(t.ready,"_mrb_debug_get_line",{configurable:!0,get:function(){m("You are getting _mrb_debug_get_line on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_debug_get_line",{configurable:!0,set:function(){m("You are setting _mrb_debug_get_line on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_resize")||(Object.defineProperty(t.ready,"_mrb_str_resize",{configurable:!0,get:function(){m("You are getting _mrb_str_resize on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_resize",{configurable:!0,set:function(){m("You are setting _mrb_str_resize on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_fetch")||(Object.defineProperty(t.ready,"_mrb_hash_fetch",{configurable:!0,get:function(){m("You are getting _mrb_hash_fetch on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_fetch",{configurable:!0,set:function(){m("You are setting _mrb_hash_fetch on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_fixnum_to_str")||(Object.defineProperty(t.ready,"_mrb_fixnum_to_str",{configurable:!0,get:function(){m("You are getting _mrb_fixnum_to_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_fixnum_to_str",{configurable:!0,set:function(){m("You are setting _mrb_fixnum_to_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_iv_foreach")||(Object.defineProperty(t.ready,"_mrb_iv_foreach",{configurable:!0,get:function(){m("You are getting _mrb_iv_foreach on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_iv_foreach",{configurable:!0,set:function(){m("You are setting _mrb_iv_foreach on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_iv_defined")||(Object.defineProperty(t.ready,"_mrb_iv_defined",{configurable:!0,get:function(){m("You are getting _mrb_iv_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_iv_defined",{configurable:!0,set:function(){m("You are setting _mrb_iv_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_iv_name_sym_p")||(Object.defineProperty(t.ready,"_mrb_iv_name_sym_p",{configurable:!0,get:function(){m("You are getting _mrb_iv_name_sym_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_iv_name_sym_p",{configurable:!0,set:function(){m("You are setting _mrb_iv_name_sym_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_cv_get")||(Object.defineProperty(t.ready,"_mrb_cv_get",{configurable:!0,get:function(){m("You are getting _mrb_cv_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_cv_get",{configurable:!0,set:function(){m("You are setting _mrb_cv_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_mod_cv_set")||(Object.defineProperty(t.ready,"_mrb_mod_cv_set",{configurable:!0,get:function(){m("You are getting _mrb_mod_cv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_mod_cv_set",{configurable:!0,set:function(){m("You are setting _mrb_mod_cv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_cv_set")||(Object.defineProperty(t.ready,"_mrb_cv_set",{configurable:!0,get:function(){m("You are getting _mrb_cv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_cv_set",{configurable:!0,set:function(){m("You are setting _mrb_cv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_cv_defined")||(Object.defineProperty(t.ready,"_mrb_cv_defined",{configurable:!0,get:function(){m("You are getting _mrb_cv_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_cv_defined",{configurable:!0,set:function(){m("You are setting _mrb_cv_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_const_remove")||(Object.defineProperty(t.ready,"_mrb_const_remove",{configurable:!0,get:function(){m("You are getting _mrb_const_remove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_const_remove",{configurable:!0,set:function(){m("You are setting _mrb_const_remove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_gv_remove")||(Object.defineProperty(t.ready,"_mrb_gv_remove",{configurable:!0,get:function(){m("You are getting _mrb_gv_remove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_gv_remove",{configurable:!0,set:function(){m("You are setting _mrb_gv_remove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_attr_get")||(Object.defineProperty(t.ready,"_mrb_attr_get",{configurable:!0,get:function(){m("You are getting _mrb_attr_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_attr_get",{configurable:!0,set:function(){m("You are setting _mrb_attr_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_print_backtrace")||(Object.defineProperty(t.ready,"_mrb_print_backtrace",{configurable:!0,get:function(){m("You are getting _mrb_print_backtrace on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_print_backtrace",{configurable:!0,set:function(){m("You are setting _mrb_print_backtrace on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_exc_backtrace")||(Object.defineProperty(t.ready,"_mrb_exc_backtrace",{configurable:!0,get:function(){m("You are getting _mrb_exc_backtrace on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_exc_backtrace",{configurable:!0,set:function(){m("You are setting _mrb_exc_backtrace on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_get_backtrace")||(Object.defineProperty(t.ready,"_mrb_get_backtrace",{configurable:!0,get:function(){m("You are getting _mrb_get_backtrace on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_get_backtrace",{configurable:!0,set:function(){m("You are setting _mrb_get_backtrace on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_foreach")||(Object.defineProperty(t.ready,"_mrb_hash_foreach",{configurable:!0,get:function(){m("You are getting _mrb_hash_foreach on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_foreach",{configurable:!0,set:function(){m("You are setting _mrb_hash_foreach on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_clear")||(Object.defineProperty(t.ready,"_mrb_hash_clear",{configurable:!0,get:function(){m("You are getting _mrb_hash_clear on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_clear",{configurable:!0,set:function(){m("You are setting _mrb_hash_clear on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_size")||(Object.defineProperty(t.ready,"_mrb_hash_size",{configurable:!0,get:function(){m("You are getting _mrb_hash_size on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_size",{configurable:!0,set:function(){m("You are setting _mrb_hash_size on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_values")||(Object.defineProperty(t.ready,"_mrb_hash_values",{configurable:!0,get:function(){m("You are getting _mrb_hash_values on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_values",{configurable:!0,set:function(){m("You are setting _mrb_hash_values on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_equal")||(Object.defineProperty(t.ready,"_mrb_str_equal",{configurable:!0,get:function(){m("You are getting _mrb_str_equal on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_equal",{configurable:!0,set:function(){m("You are setting _mrb_str_equal on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_num_mul")||(Object.defineProperty(t.ready,"_mrb_num_mul",{configurable:!0,get:function(){m("You are getting _mrb_num_mul on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_num_mul",{configurable:!0,set:function(){m("You are setting _mrb_num_mul on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_num_plus")||(Object.defineProperty(t.ready,"_mrb_num_plus",{configurable:!0,get:function(){m("You are getting _mrb_num_plus on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_num_plus",{configurable:!0,set:function(){m("You are setting _mrb_num_plus on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_num_minus")||(Object.defineProperty(t.ready,"_mrb_num_minus",{configurable:!0,get:function(){m("You are getting _mrb_num_minus on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_num_minus",{configurable:!0,set:function(){m("You are setting _mrb_num_minus on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_cmp")||(Object.defineProperty(t.ready,"_mrb_str_cmp",{configurable:!0,get:function(){m("You are getting _mrb_str_cmp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_cmp",{configurable:!0,set:function(){m("You are setting _mrb_str_cmp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_vformat")||(Object.defineProperty(t.ready,"_mrb_vformat",{configurable:!0,get:function(){m("You are getting _mrb_vformat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_vformat",{configurable:!0,set:function(){m("You are setting _mrb_vformat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_p")||(Object.defineProperty(t.ready,"_mrb_p",{configurable:!0,get:function(){m("You are getting _mrb_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_p",{configurable:!0,set:function(){m("You are setting _mrb_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_fail")||(Object.defineProperty(t.ready,"_mrb_sys_fail",{configurable:!0,get:function(){m("You are getting _mrb_sys_fail on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_fail",{configurable:!0,set:function(){m("You are setting _mrb_sys_fail on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_strlen")||(Object.defineProperty(t.ready,"_mrb_str_strlen",{configurable:!0,get:function(){m("You are getting _mrb_str_strlen on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_strlen",{configurable:!0,set:function(){m("You are setting _mrb_str_strlen on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_modify_keep_ascii")||(Object.defineProperty(t.ready,"_mrb_str_modify_keep_ascii",{configurable:!0,get:function(){m("You are getting _mrb_str_modify_keep_ascii on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_modify_keep_ascii",{configurable:!0,set:function(){m("You are setting _mrb_str_modify_keep_ascii on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_modify")||(Object.defineProperty(t.ready,"_mrb_str_modify",{configurable:!0,get:function(){m("You are getting _mrb_str_modify on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_modify",{configurable:!0,set:function(){m("You are setting _mrb_str_modify on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_to_cstr")||(Object.defineProperty(t.ready,"_mrb_str_to_cstr",{configurable:!0,get:function(){m("You are getting _mrb_str_to_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_to_cstr",{configurable:!0,set:function(){m("You are setting _mrb_str_to_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_substr")||(Object.defineProperty(t.ready,"_mrb_str_substr",{configurable:!0,get:function(){m("You are getting _mrb_str_substr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_substr",{configurable:!0,set:function(){m("You are setting _mrb_str_substr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_intern")||(Object.defineProperty(t.ready,"_mrb_str_intern",{configurable:!0,get:function(){m("You are getting _mrb_str_intern on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_intern",{configurable:!0,set:function(){m("You are setting _mrb_str_intern on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_cstr_to_inum")||(Object.defineProperty(t.ready,"_mrb_cstr_to_inum",{configurable:!0,get:function(){m("You are getting _mrb_cstr_to_inum on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_cstr_to_inum",{configurable:!0,set:function(){m("You are setting _mrb_cstr_to_inum on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_string_value_cstr")||(Object.defineProperty(t.ready,"_mrb_string_value_cstr",{configurable:!0,get:function(){m("You are getting _mrb_string_value_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_string_value_cstr",{configurable:!0,set:function(){m("You are setting _mrb_string_value_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_cstr_to_dbl")||(Object.defineProperty(t.ready,"_mrb_cstr_to_dbl",{configurable:!0,get:function(){m("You are getting _mrb_cstr_to_dbl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_cstr_to_dbl",{configurable:!0,set:function(){m("You are setting _mrb_cstr_to_dbl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_append")||(Object.defineProperty(t.ready,"_mrb_str_append",{configurable:!0,get:function(){m("You are getting _mrb_str_append on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_append",{configurable:!0,set:function(){m("You are setting _mrb_str_append on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_print_error")||(Object.defineProperty(t.ready,"_mrb_print_error",{configurable:!0,get:function(){m("You are getting _mrb_print_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_print_error",{configurable:!0,set:function(){m("You are setting _mrb_print_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_show_version")||(Object.defineProperty(t.ready,"_mrb_show_version",{configurable:!0,get:function(){m("You are getting _mrb_show_version on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_show_version",{configurable:!0,set:function(){m("You are setting _mrb_show_version on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_show_copyright")||(Object.defineProperty(t.ready,"_mrb_show_copyright",{configurable:!0,get:function(){m("You are getting _mrb_show_copyright on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_show_copyright",{configurable:!0,set:function(){m("You are setting _mrb_show_copyright on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_range_excl")||(Object.defineProperty(t.ready,"_mrb_sys_range_excl",{configurable:!0,get:function(){m("You are getting _mrb_sys_range_excl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_range_excl",{configurable:!0,set:function(){m("You are setting _mrb_sys_range_excl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_obj_ptr")||(Object.defineProperty(t.ready,"_mrb_sys_obj_ptr",{configurable:!0,get:function(){m("You are getting _mrb_sys_obj_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_obj_ptr",{configurable:!0,set:function(){m("You are setting _mrb_sys_obj_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_proc_ptr")||(Object.defineProperty(t.ready,"_mrb_sys_proc_ptr",{configurable:!0,get:function(){m("You are getting _mrb_sys_proc_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_proc_ptr",{configurable:!0,set:function(){m("You are setting _mrb_sys_proc_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_class_to_rclass")||(Object.defineProperty(t.ready,"_mrb_sys_class_to_rclass",{configurable:!0,get:function(){m("You are getting _mrb_sys_class_to_rclass on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_class_to_rclass",{configurable:!0,set:function(){m("You are setting _mrb_sys_class_to_rclass on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_data_value")||(Object.defineProperty(t.ready,"_mrb_sys_data_value",{configurable:!0,get:function(){m("You are getting _mrb_sys_data_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_data_value",{configurable:!0,set:function(){m("You are setting _mrb_sys_data_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_proc_value")||(Object.defineProperty(t.ready,"_mrb_sys_proc_value",{configurable:!0,get:function(){m("You are getting _mrb_sys_proc_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_proc_value",{configurable:!0,set:function(){m("You are setting _mrb_sys_proc_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_raise_current_exception")||(Object.defineProperty(t.ready,"_mrb_sys_raise_current_exception",{configurable:!0,get:function(){m("You are getting _mrb_sys_raise_current_exception on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_raise_current_exception",{configurable:!0,set:function(){m("You are setting _mrb_sys_raise_current_exception on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_modify")||(Object.defineProperty(t.ready,"_mrb_ary_modify",{configurable:!0,get:function(){m("You are getting _mrb_ary_modify on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_modify",{configurable:!0,set:function(){m("You are setting _mrb_ary_modify on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_object_dead_p")||(Object.defineProperty(t.ready,"_mrb_object_dead_p",{configurable:!0,get:function(){m("You are getting _mrb_object_dead_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_object_dead_p",{configurable:!0,set:function(){m("You are setting _mrb_object_dead_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_gc_register")||(Object.defineProperty(t.ready,"_mrb_gc_register",{configurable:!0,get:function(){m("You are getting _mrb_gc_register on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_gc_register",{configurable:!0,set:function(){m("You are setting _mrb_gc_register on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_gc_unregister")||(Object.defineProperty(t.ready,"_mrb_gc_unregister",{configurable:!0,get:function(){m("You are getting _mrb_gc_unregister on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_gc_unregister",{configurable:!0,set:function(){m("You are setting _mrb_gc_unregister on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_garbage_collect")||(Object.defineProperty(t.ready,"_mrb_garbage_collect",{configurable:!0,get:function(){m("You are getting _mrb_garbage_collect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_garbage_collect",{configurable:!0,set:function(){m("You are setting _mrb_garbage_collect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"onRuntimeInitialized")||(Object.defineProperty(t.ready,"onRuntimeInitialized",{configurable:!0,get:function(){m("You are getting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"onRuntimeInitialized",{configurable:!0,set:function(){m("You are setting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}));var r={},s;for(s in t)t.hasOwnProperty(s)&&(r[s]=t[s]);var a=[],l="./this.program",c=function(_,C){throw C},d=!0,h=!1,u=!1,f=!1;if(t.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)");var p="";function b(_){return t.locateFile?t.locateFile(_,p):p+_}var v,y,w,S;if(f){if(typeof process=="object"&&typeof r7=="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");typeof read!="undefined"&&(v=function(C){return read(C)}),w=function(C){var E;return typeof readbuffer=="function"?new Uint8Array(readbuffer(C)):(E=read(C,"binary"),Ie(typeof E=="object"),E)},y=function(C,E,I){setTimeout(function(){E(w(C))},0)},typeof scriptArgs!="undefined"?a=scriptArgs:typeof arguments!="undefined"&&(a=arguments),typeof quit=="function"&&(c=function(_){quit(_)}),typeof print!="undefined"&&(typeof console=="undefined"&&(console={}),console.log=print,console.warn=console.error=typeof printErr!="undefined"?printErr:print)}else if(d||h){if(h?p=self.location.href:typeof document!="undefined"&&document.currentScript&&(p=document.currentScript.src),o&&(p=o),p.indexOf("blob:")!==0?p=p.substr(0,p.lastIndexOf("/")+1):p="",!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");v=function(_){var C=new XMLHttpRequest;return C.open("GET",_,!1),C.send(null),C.responseText},h&&(w=function(_){var C=new XMLHttpRequest;return C.open("GET",_,!1),C.responseType="arraybuffer",C.send(null),new Uint8Array(C.response)}),y=function(_,C,E){var I=new XMLHttpRequest;I.open("GET",_,!0),I.responseType="arraybuffer",I.onload=function(){if(I.status==200||I.status==0&&I.response){C(I.response);return}E()},I.onerror=E,I.send(null)},S=function(_){document.title=_}}else throw new Error("environment detection error");var x=t.print||console.log.bind(console),k=t.printErr||console.warn.bind(console);for(s in r)r.hasOwnProperty(s)&&(t[s]=r[s]);r=null,t.arguments&&(a=t.arguments),Object.getOwnPropertyDescriptor(t,"arguments")||Object.defineProperty(t,"arguments",{configurable:!0,get:function(){m("Module.arguments has been replaced with plain arguments_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),t.thisProgram&&(l=t.thisProgram),Object.getOwnPropertyDescriptor(t,"thisProgram")||Object.defineProperty(t,"thisProgram",{configurable:!0,get:function(){m("Module.thisProgram has been replaced with plain thisProgram (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),t.quit&&(c=t.quit),Object.getOwnPropertyDescriptor(t,"quit")||Object.defineProperty(t,"quit",{configurable:!0,get:function(){m("Module.quit has been replaced with plain quit_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Ie(typeof t.memoryInitializerPrefixURL=="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),Ie(typeof t.pthreadMainPrefixURL=="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),Ie(typeof t.cdInitializerPrefixURL=="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),Ie(typeof t.filePackagePrefixURL=="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),Ie(typeof t.read=="undefined","Module.read option was removed (modify read_ in JS)"),Ie(typeof t.readAsync=="undefined","Module.readAsync option was removed (modify readAsync in JS)"),Ie(typeof t.readBinary=="undefined","Module.readBinary option was removed (modify readBinary in JS)"),Ie(typeof t.setWindowTitle=="undefined","Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),Ie(typeof t.TOTAL_MEMORY=="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Object.getOwnPropertyDescriptor(t,"read")||Object.defineProperty(t,"read",{configurable:!0,get:function(){m("Module.read has been replaced with plain read_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(t,"readAsync")||Object.defineProperty(t,"readAsync",{configurable:!0,get:function(){m("Module.readAsync has been replaced with plain readAsync (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(t,"readBinary")||Object.defineProperty(t,"readBinary",{configurable:!0,get:function(){m("Module.readBinary has been replaced with plain readBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(t,"setWindowTitle")||Object.defineProperty(t,"setWindowTitle",{configurable:!0,get:function(){m("Module.setWindowTitle has been replaced with plain setWindowTitle (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Ie(!h,"worker environment detected but not enabled at build time.  Add 'worker' to `-s ENVIRONMENT` to enable."),Ie(!u,"node environment detected but not enabled at build time.  Add 'node' to `-s ENVIRONMENT` to enable."),Ie(!f,"shell environment detected but not enabled at build time.  Add 'shell' to `-s ENVIRONMENT` to enable.");function R(_){R.shown||(R.shown={}),R.shown[_]||(R.shown[_]=1,k(_))}function O(_,C){if(typeof WebAssembly.Function=="function"){for(var E={i:"i32",j:"i64",f:"f32",d:"f64"},I={parameters:[],results:C[0]=="v"?[]:[E[C[0]]]},M=1;M<C.length;++M)I.parameters.push(E[C[M]]);return new WebAssembly.Function(I,_)}var U=[1,0,1,96],K=C.slice(0,1),X=C.slice(1),fe={i:127,j:126,f:125,d:124};U.push(X.length);for(var M=0;M<X.length;++M)U.push(fe[X[M]]);K=="v"?U.push(0):U=U.concat([1,fe[K]]),U[1]=U.length-2;var Oe=new Uint8Array([0,97,115,109,1,0,0,0].concat(U,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),Be=new WebAssembly.Module(Oe),ft=new WebAssembly.Instance(Be,{e:{f:_}}),Ye=ft.exports.f;return Ye}var N=[],W;function G(){if(N.length)return N.pop();try{ti.grow(1)}catch(_){throw _ instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":_}return ti.length-1}function Y(_,C){if(!W){W=new WeakMap;for(var E=0;E<ti.length;E++){var I=ti.get(E);I&&W.set(I,E)}}if(W.has(_))return W.get(_);var M=G();try{ti.set(M,_)}catch(K){if(!(K instanceof TypeError))throw K;Ie(typeof C!="undefined","Missing signature argument to addFunction: "+_);var U=O(_,C);ti.set(M,U)}return W.set(_,M),M}var te=0,re=function(_){te=_},Pe=function(){return te},Ne;t.wasmBinary&&(Ne=t.wasmBinary),Object.getOwnPropertyDescriptor(t,"wasmBinary")||Object.defineProperty(t,"wasmBinary",{configurable:!0,get:function(){m("Module.wasmBinary has been replaced with plain wasmBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}});var Ae=t.noExitRuntime||!0;Object.getOwnPropertyDescriptor(t,"noExitRuntime")||Object.defineProperty(t,"noExitRuntime",{configurable:!0,get:function(){m("Module.noExitRuntime has been replaced with plain noExitRuntime (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),typeof WebAssembly!="object"&&m("no native wasm support detected");var He,We=!1,Ue;function Ie(_,C){_||m("Assertion failed: "+C)}function gi(_){var C=t["_"+_];return Ie(C,"Cannot call unknown function "+_+", make sure it is exported"),C}function Si(_,C,E,I,M){var U={string:function(lt){var Rn=0;if(lt!=null&&lt!==0){var Cs=(lt.length<<2)+1;Rn=PE(Cs),Gn(lt,Rn,Cs)}return Rn},array:function(lt){var Rn=PE(lt.length);return et(lt,Rn),Rn}};function K(lt){return C==="string"?qo(lt):C==="boolean"?Boolean(lt):lt}var X=gi(_),fe=[],Oe=0;if(Ie(C!=="array",'Return type should not be "array".'),I)for(var Be=0;Be<I.length;Be++){var ft=U[E[Be]];ft?(Oe===0&&(Oe=pi()),fe[Be]=ft(I[Be])):fe[Be]=I[Be]}var Ye=X.apply(null,fe);function Et(lt){return Oe!==0&&_i(Oe),K(lt)}return Ye=Et(Ye),Ye}var Ui=1,Gt=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function nn(_,C,E){for(var I=C+E,M=C;_[M]&&!(M>=I);)++M;if(M-C>16&&_.subarray&&Gt)return Gt.decode(_.subarray(C,M));for(var U="";C<M;){var K=_[C++];if(!(K&128)){U+=String.fromCharCode(K);continue}var X=_[C++]&63;if((K&224)==192){U+=String.fromCharCode((K&31)<<6|X);continue}var fe=_[C++]&63;if((K&240)==224?K=(K&15)<<12|X<<6|fe:((K&248)!=240&&R("Invalid UTF-8 leading byte 0x"+K.toString(16)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),K=(K&7)<<18|X<<12|fe<<6|_[C++]&63),K<65536)U+=String.fromCharCode(K);else{var Oe=K-65536;U+=String.fromCharCode(55296|Oe>>10,56320|Oe&1023)}}return U}function qo(_,C){return _?nn(Ao,_,C):""}function Zo(_,C,E,I){if(!(I>0))return 0;for(var M=E,U=E+I-1,K=0;K<_.length;++K){var X=_.charCodeAt(K);if(X>=55296&&X<=57343){var fe=_.charCodeAt(++K);X=65536+((X&1023)<<10)|fe&1023}if(X<=127){if(E>=U)break;C[E++]=X}else if(X<=2047){if(E+1>=U)break;C[E++]=192|X>>6,C[E++]=128|X&63}else if(X<=65535){if(E+2>=U)break;C[E++]=224|X>>12,C[E++]=128|X>>6&63,C[E++]=128|X&63}else{if(E+3>=U)break;X>=2097152&&R("Invalid Unicode code point 0x"+X.toString(16)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x1FFFFF)."),C[E++]=240|X>>18,C[E++]=128|X>>12&63,C[E++]=128|X>>6&63,C[E++]=128|X&63}}return C[E]=0,E-M}function Gn(_,C,E){return Ie(typeof E=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),Zo(_,Ao,C,E)}function mi(_){for(var C=0,E=0;E<_.length;++E){var I=_.charCodeAt(E);I>=55296&&I<=57343&&(I=65536+((I&1023)<<10)|_.charCodeAt(++E)&1023),I<=127?++C:I<=2047?C+=2:I<=65535?C+=3:C+=4}return C}var Ca=typeof TextDecoder!="undefined"?new TextDecoder("utf-16le"):void 0;function kt(_){var C=mi(_)+1,E=PE(C);return Zo(_,Pn,E,C),E}function et(_,C){Ie(_.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),Pn.set(_,C)}function ec(_,C,E){for(var I=0;I<_.length;++I)Ie(_.charCodeAt(I)===_.charCodeAt(I)&255),Pn[C++>>0]=_.charCodeAt(I);E||(Pn[C>>0]=0)}var id,Pn,Ao,ya,tc,vt,fo,Qs,Sa;function Js(_){id=_,t.HEAP8=Pn=new Int8Array(_),t.HEAP16=ya=new Int16Array(_),t.HEAP32=vt=new Int32Array(_),t.HEAPU8=Ao=new Uint8Array(_),t.HEAPU16=tc=new Uint16Array(_),t.HEAPU32=fo=new Uint32Array(_),t.HEAPF32=Qs=new Float32Array(_),t.HEAPF64=Sa=new Float64Array(_)}var bs=5242880;t.TOTAL_STACK&&Ie(bs===t.TOTAL_STACK,"the stack size can no longer be determined at runtime");var ll=t.INITIAL_MEMORY||16777216;Object.getOwnPropertyDescriptor(t,"INITIAL_MEMORY")||Object.defineProperty(t,"INITIAL_MEMORY",{configurable:!0,get:function(){m("Module.INITIAL_MEMORY has been replaced with plain INITIAL_MEMORY (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Ie(ll>=bs,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+ll+"! (TOTAL_STACK="+bs+")"),Ie(typeof Int32Array!="undefined"&&typeof Float64Array!="undefined"&&Int32Array.prototype.subarray!==void 0&&Int32Array.prototype.set!==void 0,"JS engine does not provide full typed array support"),Ie(!t.wasmMemory,"Use of `wasmMemory` detected.  Use -s IMPORTED_MEMORY to define wasmMemory externally"),Ie(ll==16777216,"Detected runtime INITIAL_MEMORY setting.  Use -s IMPORTED_MEMORY to define wasmMemory dynamically");var ti;function cl(){var _=CN();Ie((_&3)==0),fo[(_>>2)+1]=34821223,fo[(_>>2)+2]=2310721022,vt[0]=1668509029}function vs(){if(!We){var _=CN(),C=fo[(_>>2)+1],E=fo[(_>>2)+2];(C!=34821223||E!=2310721022)&&m("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+E.toString(16)+" "+C.toString(16)),vt[0]!==1668509029&&m("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var _=new Int16Array(1),C=new Int8Array(_.buffer);if(_[0]=25459,C[0]!==115||C[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -s SUPPORT_BIG_ENDIAN=1 to bypass)"})();var yh=[],af=[],dl=[],Sh=[],Eh=!1,ws=!1,xh=0;function nd(){return Ae||xh>0}function Jg(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)ea(t.preRun.shift());it(yh)}function K_(){vs(),Ie(!Eh),Eh=!0,!t.noFSInit&&!T.init.initialized&&T.init(),T.ignorePermissions=!1,kh.init(),it(af)}function lf(){vs(),it(dl)}function od(){vs(),ws=!0}function Y_(){if(vs(),t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Z_(t.postRun.shift());it(Sh)}function ea(_){yh.unshift(_)}function q_(_){af.unshift(_)}function Z_(_){Sh.unshift(_)}Ie(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),Ie(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),Ie(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),Ie(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var Ea=0,Ft=null,xa=null,ae={};function ee(_){for(var C=_;;){if(!ae[_])return _;_=C+Math.random()}}function ie(_){Ea++,t.monitorRunDependencies&&t.monitorRunDependencies(Ea),_?(Ie(!ae[_]),ae[_]=1,Ft===null&&typeof setInterval!="undefined"&&(Ft=setInterval(function(){if(We){clearInterval(Ft),Ft=null;return}var C=!1;for(var E in ae)C||(C=!0,k("still waiting on run dependencies:")),k("dependency: "+E);C&&k("(end of list)")},1e4))):k("warning: run dependency added without ID")}function B(_){if(Ea--,t.monitorRunDependencies&&t.monitorRunDependencies(Ea),_?(Ie(ae[_]),delete ae[_]):k("warning: run dependency removed without ID"),Ea==0&&(Ft!==null&&(clearInterval(Ft),Ft=null),xa)){var C=xa;xa=null,C()}}t.preloadedImages={},t.preloadedAudios={};function m(_){t.onAbort&&t.onAbort(_),_+="",k(_),We=!0,Ue=1;var C="abort("+_+") at "+cf();_=C;var E=new WebAssembly.RuntimeError(_);throw n(E),E}var V="data:application/octet-stream;base64,";function P(_){return _.startsWith(V)}function q(_){return _.startsWith("file://")}function L(_,C){return function(){var E=_,I=C;return C||(I=t.asm),Ie(Eh,"native function `"+E+"` called before runtime initialization"),Ie(!ws,"native function `"+E+"` called after runtime exit (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),I[_]||Ie(I[_],"exported native function `"+E+"` not found"),I[_].apply(null,arguments)}}var ce;ce="playground.wasm",P(ce)||(ce=b(ce));function Re(_){try{if(_==ce&&Ne)return new Uint8Array(Ne);if(w)return w(_);throw"both async and sync fetching of the wasm failed"}catch(C){m(C)}}function ht(){return!Ne&&(d||h)&&typeof fetch=="function"?fetch(ce,{credentials:"same-origin"}).then(function(_){if(!_.ok)throw"failed to load wasm binary file at '"+ce+"'";return _.arrayBuffer()}).catch(function(){return Re(ce)}):Promise.resolve().then(function(){return Re(ce)})}function yt(){var _={env:QB,wasi_snapshot_preview1:QB};function C(X,fe){var Oe=X.exports;t.asm=Oe,He=t.asm.memory,Ie(He,"memory not found in wasm exports"),Js(He.buffer),ti=t.asm.__indirect_function_table,Ie(ti,"table not found in wasm exports"),q_(t.asm.__wasm_call_ctors),B("wasm-instantiate")}ie("wasm-instantiate");var E=t;function I(X){Ie(t===E,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),E=null,C(X.instance)}function M(X){return ht().then(function(fe){var Oe=WebAssembly.instantiate(fe,_);return Oe}).then(X,function(fe){k("failed to asynchronously prepare wasm: "+fe),q(ce)&&k("warning: Loading from a file URI ("+ce+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing"),m(fe)})}function U(){return!Ne&&typeof WebAssembly.instantiateStreaming=="function"&&!P(ce)&&typeof fetch=="function"?fetch(ce,{credentials:"same-origin"}).then(function(X){var fe=WebAssembly.instantiateStreaming(X,_);return fe.then(I,function(Oe){return k("wasm streaming compile failed: "+Oe),k("falling back to ArrayBuffer instantiation"),M(I)})}):M(I)}if(t.instantiateWasm)try{var K=t.instantiateWasm(_,C);return K}catch(X){return k("Module.instantiateWasm callback failed with error: "+X),!1}return U().catch(n),{}}var ut,It;function it(_){for(;_.length>0;){var C=_.shift();if(typeof C=="function"){C(t);continue}var E=C.func;typeof E=="number"?C.arg===void 0?ti.get(E)():ti.get(E)(C.arg):E(C.arg===void 0?null:C.arg)}}function Xn(_){return R("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),_}function ci(_){var C=/\b_Z[\w\d_]+/g;return _.replace(C,function(E){var I=Xn(E);return E===I?E:I+" ["+E+"]"})}function Rr(){var _=new Error;if(!_.stack){try{throw new Error}catch(C){_=C}if(!_.stack)return"(no stack trace available)"}return _.stack.toString()}function cf(){var _=Rr();return t.extraStackTrace&&(_+=`
`+t.extraStackTrace()),ci(_)}function Go(_){return JB(_+16)+16}function ic(_){this.excPtr=_,this.ptr=_-16,this.set_type=function(C){vt[this.ptr+4>>2]=C},this.get_type=function(){return vt[this.ptr+4>>2]},this.set_destructor=function(C){vt[this.ptr+8>>2]=C},this.get_destructor=function(){return vt[this.ptr+8>>2]},this.set_refcount=function(C){vt[this.ptr>>2]=C},this.set_caught=function(C){C=C?1:0,Pn[this.ptr+12>>0]=C},this.get_caught=function(){return Pn[this.ptr+12>>0]!=0},this.set_rethrown=function(C){C=C?1:0,Pn[this.ptr+13>>0]=C},this.get_rethrown=function(){return Pn[this.ptr+13>>0]!=0},this.init=function(C,E){this.set_type(C),this.set_destructor(E),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var C=vt[this.ptr>>2];vt[this.ptr>>2]=C+1},this.release_ref=function(){var C=vt[this.ptr>>2];return vt[this.ptr>>2]=C-1,Ie(C>0),C===1}}function em(_){this.free=function(){e7(this.ptr),this.ptr=0},this.set_base_ptr=function(C){vt[this.ptr>>2]=C},this.get_base_ptr=function(){return vt[this.ptr>>2]},this.set_adjusted_ptr=function(C){vt[this.ptr+4>>2]=C},this.get_adjusted_ptr_addr=function(){return this.ptr+4},this.get_adjusted_ptr=function(){return vt[this.ptr+4>>2]},this.get_exception_ptr=function(){var C=yie(this.get_exception_info().get_type());if(C)return vt[this.get_base_ptr()>>2];var E=this.get_adjusted_ptr();return E!==0?E:this.get_base_ptr()},this.get_exception_info=function(){return new ic(this.get_base_ptr())},_===void 0?(this.ptr=JB(8),this.set_adjusted_ptr(0)):this.ptr=_}var Dh=[];function SC(_){_.add_ref()}var EC=0;function OE(_){var C=new em(_),E=C.get_exception_info();return E.get_caught()||(E.set_caught(!0),EC--),E.set_rethrown(!1),Dh.push(C),SC(E),C.get_exception_ptr()}var G_=0;function $te(_){try{return e7(new ic(_).ptr)}catch(C){k("exception during cxa_free_exception: "+C)}}function Kte(_){if(_.release_ref()&&!_.get_rethrown()){var C=_.get_destructor();C&&ti.get(C)(_.excPtr),$te(_.excPtr)}}function Yte(){bi(0),Ie(Dh.length>0);var _=Dh.pop();Kte(_.get_exception_info()),_.free(),G_=0}function qte(_){var C=new em(_),E=C.get_base_ptr();throw G_||(G_=E),C.free(),E}function Zte(){var _=G_;if(!_)return re(0),0|0;var C=new ic(_),E=C.get_type(),I=new em;if(I.set_base_ptr(_),I.set_adjusted_ptr(_),!E)return re(0),I.ptr|0;for(var M=Array.prototype.slice.call(arguments),U=0;U<M.length;U++){var K=M[U];if(K===0||K===E)break;if(i7(K,E,I.get_adjusted_ptr_addr()))return re(K),I.ptr|0}return re(E),I.ptr|0}function Gte(){var _=G_;if(!_)return re(0),0|0;var C=new ic(_),E=C.get_type(),I=new em;if(I.set_base_ptr(_),I.set_adjusted_ptr(_),!E)return re(0),I.ptr|0;for(var M=Array.prototype.slice.call(arguments),U=0;U<M.length;U++){var K=M[U];if(K===0||K===E)break;if(i7(K,E,I.get_adjusted_ptr_addr()))return re(K),I.ptr|0}return re(E),I.ptr|0}function Xte(_,C,E){var I=new ic(_);throw I.init(C,E),G_=_,EC++,_}function Qte(){k("missing function: __gxx_personality_v0"),m(-1)}var on={splitPath:function(_){var C=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return C.exec(_).slice(1)},normalizeArray:function(_,C){for(var E=0,I=_.length-1;I>=0;I--){var M=_[I];M==="."?_.splice(I,1):M===".."?(_.splice(I,1),E++):E&&(_.splice(I,1),E--)}if(C)for(;E;E--)_.unshift("..");return _},normalize:function(_){var C=_.charAt(0)==="/",E=_.substr(-1)==="/";return _=on.normalizeArray(_.split("/").filter(function(I){return!!I}),!C).join("/"),!_&&!C&&(_="."),_&&E&&(_+="/"),(C?"/":"")+_},dirname:function(_){var C=on.splitPath(_),E=C[0],I=C[1];return!E&&!I?".":(I&&(I=I.substr(0,I.length-1)),E+I)},basename:function(_){if(_==="/")return"/";_=on.normalize(_),_=_.replace(/\/$/,"");var C=_.lastIndexOf("/");return C===-1?_:_.substr(C+1)},extname:function(_){return on.splitPath(_)[3]},join:function(){var _=Array.prototype.slice.call(arguments,0);return on.normalize(_.join("/"))},join2:function(_,C){return on.normalize(_+"/"+C)}};function Jte(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var _=new Uint8Array(1);return function(){return crypto.getRandomValues(_),_[0]}}else return function(){m("no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: function(array) { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")}}var Lh={resolve:function(){for(var _="",C=!1,E=arguments.length-1;E>=-1&&!C;E--){var I=E>=0?arguments[E]:T.cwd();if(typeof I!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!I)return"";_=I+"/"+_,C=I.charAt(0)==="/"}return _=on.normalizeArray(_.split("/").filter(function(M){return!!M}),!C).join("/"),(C?"/":"")+_||"."},relative:function(_,C){_=Lh.resolve(_).substr(1),C=Lh.resolve(C).substr(1);function E(Oe){for(var Be=0;Be<Oe.length&&Oe[Be]==="";Be++);for(var ft=Oe.length-1;ft>=0&&Oe[ft]==="";ft--);return Be>ft?[]:Oe.slice(Be,ft-Be+1)}for(var I=E(_.split("/")),M=E(C.split("/")),U=Math.min(I.length,M.length),K=U,X=0;X<U;X++)if(I[X]!==M[X]){K=X;break}for(var fe=[],X=K;X<I.length;X++)fe.push("..");return fe=fe.concat(M.slice(K)),fe.join("/")}},kh={ttys:[],init:function(){},shutdown:function(){},register:function(_,C){kh.ttys[_]={input:[],output:[],ops:C},T.registerDevice(_,kh.stream_ops)},stream_ops:{open:function(_){var C=kh.ttys[_.node.rdev];if(!C)throw new T.ErrnoError(43);_.tty=C,_.seekable=!1},close:function(_){_.tty.ops.flush(_.tty)},flush:function(_){_.tty.ops.flush(_.tty)},read:function(_,C,E,I,M){if(!_.tty||!_.tty.ops.get_char)throw new T.ErrnoError(60);for(var U=0,K=0;K<I;K++){var X;try{X=_.tty.ops.get_char(_.tty)}catch{throw new T.ErrnoError(29)}if(X===void 0&&U===0)throw new T.ErrnoError(6);if(X==null)break;U++,C[E+K]=X}return U&&(_.node.timestamp=Date.now()),U},write:function(_,C,E,I,M){if(!_.tty||!_.tty.ops.put_char)throw new T.ErrnoError(60);try{for(var U=0;U<I;U++)_.tty.ops.put_char(_.tty,C[E+U])}catch{throw new T.ErrnoError(29)}return I&&(_.node.timestamp=Date.now()),U}},default_tty_ops:{get_char:function(_){if(!_.input.length){var C=null;if(typeof window!="undefined"&&typeof window.prompt=="function"?(C=window.prompt("Input: "),C!==null&&(C+=`
`)):typeof readline=="function"&&(C=readline(),C!==null&&(C+=`
`)),!C)return null;_.input=wN(C,!0)}return _.input.shift()},put_char:function(_,C){C===null||C===10?(x(nn(_.output,0)),_.output=[]):C!=0&&_.output.push(C)},flush:function(_){_.output&&_.output.length>0&&(x(nn(_.output,0)),_.output=[])}},default_tty1_ops:{put_char:function(_,C){C===null||C===10?(k(nn(_.output,0)),_.output=[]):C!=0&&_.output.push(C)},flush:function(_){_.output&&_.output.length>0&&(k(nn(_.output,0)),_.output=[])}}};function eie(_){m("internal error: mmapAlloc called but `memalign` native symbol not exported")}var ii={ops_table:null,mount:function(_){return ii.createNode(null,"/",16384|511,0)},createNode:function(_,C,E,I){if(T.isBlkdev(E)||T.isFIFO(E))throw new T.ErrnoError(63);ii.ops_table||(ii.ops_table={dir:{node:{getattr:ii.node_ops.getattr,setattr:ii.node_ops.setattr,lookup:ii.node_ops.lookup,mknod:ii.node_ops.mknod,rename:ii.node_ops.rename,unlink:ii.node_ops.unlink,rmdir:ii.node_ops.rmdir,readdir:ii.node_ops.readdir,symlink:ii.node_ops.symlink},stream:{llseek:ii.stream_ops.llseek}},file:{node:{getattr:ii.node_ops.getattr,setattr:ii.node_ops.setattr},stream:{llseek:ii.stream_ops.llseek,read:ii.stream_ops.read,write:ii.stream_ops.write,allocate:ii.stream_ops.allocate,mmap:ii.stream_ops.mmap,msync:ii.stream_ops.msync}},link:{node:{getattr:ii.node_ops.getattr,setattr:ii.node_ops.setattr,readlink:ii.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ii.node_ops.getattr,setattr:ii.node_ops.setattr},stream:T.chrdev_stream_ops}});var M=T.createNode(_,C,E,I);return T.isDir(M.mode)?(M.node_ops=ii.ops_table.dir.node,M.stream_ops=ii.ops_table.dir.stream,M.contents={}):T.isFile(M.mode)?(M.node_ops=ii.ops_table.file.node,M.stream_ops=ii.ops_table.file.stream,M.usedBytes=0,M.contents=null):T.isLink(M.mode)?(M.node_ops=ii.ops_table.link.node,M.stream_ops=ii.ops_table.link.stream):T.isChrdev(M.mode)&&(M.node_ops=ii.ops_table.chrdev.node,M.stream_ops=ii.ops_table.chrdev.stream),M.timestamp=Date.now(),_&&(_.contents[C]=M,_.timestamp=M.timestamp),M},getFileDataAsTypedArray:function(_){return _.contents?_.contents.subarray?_.contents.subarray(0,_.usedBytes):new Uint8Array(_.contents):new Uint8Array(0)},expandFileStorage:function(_,C){var E=_.contents?_.contents.length:0;if(!(E>=C)){var I=1024*1024;C=Math.max(C,E*(E<I?2:1.125)>>>0),E!=0&&(C=Math.max(C,256));var M=_.contents;_.contents=new Uint8Array(C),_.usedBytes>0&&_.contents.set(M.subarray(0,_.usedBytes),0)}},resizeFileStorage:function(_,C){if(_.usedBytes!=C)if(C==0)_.contents=null,_.usedBytes=0;else{var E=_.contents;_.contents=new Uint8Array(C),E&&_.contents.set(E.subarray(0,Math.min(C,_.usedBytes))),_.usedBytes=C}},node_ops:{getattr:function(_){var C={};return C.dev=T.isChrdev(_.mode)?_.id:1,C.ino=_.id,C.mode=_.mode,C.nlink=1,C.uid=0,C.gid=0,C.rdev=_.rdev,T.isDir(_.mode)?C.size=4096:T.isFile(_.mode)?C.size=_.usedBytes:T.isLink(_.mode)?C.size=_.link.length:C.size=0,C.atime=new Date(_.timestamp),C.mtime=new Date(_.timestamp),C.ctime=new Date(_.timestamp),C.blksize=4096,C.blocks=Math.ceil(C.size/C.blksize),C},setattr:function(_,C){C.mode!==void 0&&(_.mode=C.mode),C.timestamp!==void 0&&(_.timestamp=C.timestamp),C.size!==void 0&&ii.resizeFileStorage(_,C.size)},lookup:function(_,C){throw T.genericErrors[44]},mknod:function(_,C,E,I){return ii.createNode(_,C,E,I)},rename:function(_,C,E){if(T.isDir(_.mode)){var I;try{I=T.lookupNode(C,E)}catch{}if(I)for(var M in I.contents)throw new T.ErrnoError(55)}delete _.parent.contents[_.name],_.parent.timestamp=Date.now(),_.name=E,C.contents[E]=_,C.timestamp=_.parent.timestamp,_.parent=C},unlink:function(_,C){delete _.contents[C],_.timestamp=Date.now()},rmdir:function(_,C){var E=T.lookupNode(_,C);for(var I in E.contents)throw new T.ErrnoError(55);delete _.contents[C],_.timestamp=Date.now()},readdir:function(_){var C=[".",".."];for(var E in _.contents)!_.contents.hasOwnProperty(E)||C.push(E);return C},symlink:function(_,C,E){var I=ii.createNode(_,C,511|40960,0);return I.link=E,I},readlink:function(_){if(!T.isLink(_.mode))throw new T.ErrnoError(28);return _.link}},stream_ops:{read:function(_,C,E,I,M){var U=_.node.contents;if(M>=_.node.usedBytes)return 0;var K=Math.min(_.node.usedBytes-M,I);if(Ie(K>=0),K>8&&U.subarray)C.set(U.subarray(M,M+K),E);else for(var X=0;X<K;X++)C[E+X]=U[M+X];return K},write:function(_,C,E,I,M,U){if(Ie(!(C instanceof ArrayBuffer)),!I)return 0;var K=_.node;if(K.timestamp=Date.now(),C.subarray&&(!K.contents||K.contents.subarray)){if(U)return Ie(M===0,"canOwn must imply no weird position inside the file"),K.contents=C.subarray(E,E+I),K.usedBytes=I,I;if(K.usedBytes===0&&M===0)return K.contents=C.slice(E,E+I),K.usedBytes=I,I;if(M+I<=K.usedBytes)return K.contents.set(C.subarray(E,E+I),M),I}if(ii.expandFileStorage(K,M+I),K.contents.subarray&&C.subarray)K.contents.set(C.subarray(E,E+I),M);else for(var X=0;X<I;X++)K.contents[M+X]=C[E+X];return K.usedBytes=Math.max(K.usedBytes,M+I),I},llseek:function(_,C,E){var I=C;if(E===1?I+=_.position:E===2&&T.isFile(_.node.mode)&&(I+=_.node.usedBytes),I<0)throw new T.ErrnoError(28);return I},allocate:function(_,C,E){ii.expandFileStorage(_.node,C+E),_.node.usedBytes=Math.max(_.node.usedBytes,C+E)},mmap:function(_,C,E,I,M,U){if(C!==0)throw new T.ErrnoError(28);if(!T.isFile(_.node.mode))throw new T.ErrnoError(43);var K,X,fe=_.node.contents;if(!(U&2)&&fe.buffer===id)X=!1,K=fe.byteOffset;else{if((I>0||I+E<fe.length)&&(fe.subarray?fe=fe.subarray(I,I+E):fe=Array.prototype.slice.call(fe,I,I+E)),X=!0,K=eie(E),!K)throw new T.ErrnoError(48);Pn.set(fe,K)}return{ptr:K,allocated:X}},msync:function(_,C,E,I,M){if(!T.isFile(_.node.mode))throw new T.ErrnoError(43);if(M&2)return 0;var U=ii.stream_ops.write(_,C,0,I,E,!1);return 0}}};function tie(_,C,E,I){var M=I?"":ee("al "+_);y(_,function(U){Ie(U,'Loading data file "'+_+'" failed (no arrayBuffer).'),C(new Uint8Array(U)),M&&B(M)},function(U){if(E)E();else throw'Loading data file "'+_+'" failed.'}),M&&ie(M)}var iie={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"},YB={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},T={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(_,C){if(_=Lh.resolve(T.cwd(),_),C=C||{},!_)return{path:"",node:null};var E={follow_mount:!0,recurse_count:0};for(var I in E)C[I]===void 0&&(C[I]=E[I]);if(C.recurse_count>8)throw new T.ErrnoError(32);for(var M=on.normalizeArray(_.split("/").filter(function(Ye){return!!Ye}),!1),U=T.root,K="/",X=0;X<M.length;X++){var fe=X===M.length-1;if(fe&&C.parent)break;if(U=T.lookupNode(U,M[X]),K=on.join2(K,M[X]),T.isMountpoint(U)&&(!fe||fe&&C.follow_mount)&&(U=U.mounted.root),!fe||C.follow)for(var Oe=0;T.isLink(U.mode);){var Be=T.readlink(K);K=Lh.resolve(on.dirname(K),Be);var ft=T.lookupPath(K,{recurse_count:C.recurse_count});if(U=ft.node,Oe++>40)throw new T.ErrnoError(32)}}return{path:K,node:U}},getPath:function(_){for(var C;;){if(T.isRoot(_)){var E=_.mount.mountpoint;return C?E[E.length-1]!=="/"?E+"/"+C:E+C:E}C=C?_.name+"/"+C:_.name,_=_.parent}},hashName:function(_,C){for(var E=0,I=0;I<C.length;I++)E=(E<<5)-E+C.charCodeAt(I)|0;return(_+E>>>0)%T.nameTable.length},hashAddNode:function(_){var C=T.hashName(_.parent.id,_.name);_.name_next=T.nameTable[C],T.nameTable[C]=_},hashRemoveNode:function(_){var C=T.hashName(_.parent.id,_.name);if(T.nameTable[C]===_)T.nameTable[C]=_.name_next;else for(var E=T.nameTable[C];E;){if(E.name_next===_){E.name_next=_.name_next;break}E=E.name_next}},lookupNode:function(_,C){var E=T.mayLookup(_);if(E)throw new T.ErrnoError(E,_);for(var I=T.hashName(_.id,C),M=T.nameTable[I];M;M=M.name_next){var U=M.name;if(M.parent.id===_.id&&U===C)return M}return T.lookup(_,C)},createNode:function(_,C,E,I){Ie(typeof _=="object");var M=new T.FSNode(_,C,E,I);return T.hashAddNode(M),M},destroyNode:function(_){T.hashRemoveNode(_)},isRoot:function(_){return _===_.parent},isMountpoint:function(_){return!!_.mounted},isFile:function(_){return(_&61440)===32768},isDir:function(_){return(_&61440)===16384},isLink:function(_){return(_&61440)===40960},isChrdev:function(_){return(_&61440)===8192},isBlkdev:function(_){return(_&61440)===24576},isFIFO:function(_){return(_&61440)===4096},isSocket:function(_){return(_&49152)===49152},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(_){var C=T.flagModes[_];if(typeof C=="undefined")throw new Error("Unknown file open mode: "+_);return C},flagsToPermissionString:function(_){var C=["r","w","rw"][_&3];return _&512&&(C+="w"),C},nodePermissions:function(_,C){return T.ignorePermissions?0:C.includes("r")&&!(_.mode&292)||C.includes("w")&&!(_.mode&146)||C.includes("x")&&!(_.mode&73)?2:0},mayLookup:function(_){var C=T.nodePermissions(_,"x");return C||(_.node_ops.lookup?0:2)},mayCreate:function(_,C){try{var E=T.lookupNode(_,C);return 20}catch{}return T.nodePermissions(_,"wx")},mayDelete:function(_,C,E){var I;try{I=T.lookupNode(_,C)}catch(U){return U.errno}var M=T.nodePermissions(_,"wx");if(M)return M;if(E){if(!T.isDir(I.mode))return 54;if(T.isRoot(I)||T.getPath(I)===T.cwd())return 10}else if(T.isDir(I.mode))return 31;return 0},mayOpen:function(_,C){return _?T.isLink(_.mode)?32:T.isDir(_.mode)&&(T.flagsToPermissionString(C)!=="r"||C&512)?31:T.nodePermissions(_,T.flagsToPermissionString(C)):44},MAX_OPEN_FDS:4096,nextfd:function(_,C){_=_||0,C=C||T.MAX_OPEN_FDS;for(var E=_;E<=C;E++)if(!T.streams[E])return E;throw new T.ErrnoError(33)},getStream:function(_){return T.streams[_]},createStream:function(_,C,E){T.FSStream||(T.FSStream=function(){},T.FSStream.prototype={object:{get:function(){return this.node},set:function(K){this.node=K}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}});var I=new T.FSStream;for(var M in _)I[M]=_[M];_=I;var U=T.nextfd(C,E);return _.fd=U,T.streams[U]=_,_},closeStream:function(_){T.streams[_]=null},chrdev_stream_ops:{open:function(_){var C=T.getDevice(_.node.rdev);_.stream_ops=C.stream_ops,_.stream_ops.open&&_.stream_ops.open(_)},llseek:function(){throw new T.ErrnoError(70)}},major:function(_){return _>>8},minor:function(_){return _&255},makedev:function(_,C){return _<<8|C},registerDevice:function(_,C){T.devices[_]={stream_ops:C}},getDevice:function(_){return T.devices[_]},getMounts:function(_){for(var C=[],E=[_];E.length;){var I=E.pop();C.push(I),E.push.apply(E,I.mounts)}return C},syncfs:function(_,C){typeof _=="function"&&(C=_,_=!1),T.syncFSRequests++,T.syncFSRequests>1&&k("warning: "+T.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var E=T.getMounts(T.root.mount),I=0;function M(K){return Ie(T.syncFSRequests>0),T.syncFSRequests--,C(K)}function U(K){if(K)return U.errored?void 0:(U.errored=!0,M(K));++I>=E.length&&M(null)}E.forEach(function(K){if(!K.type.syncfs)return U(null);K.type.syncfs(K,_,U)})},mount:function(_,C,E){if(typeof _=="string")throw _;var I=E==="/",M=!E,U;if(I&&T.root)throw new T.ErrnoError(10);if(!I&&!M){var K=T.lookupPath(E,{follow_mount:!1});if(E=K.path,U=K.node,T.isMountpoint(U))throw new T.ErrnoError(10);if(!T.isDir(U.mode))throw new T.ErrnoError(54)}var X={type:_,opts:C,mountpoint:E,mounts:[]},fe=_.mount(X);return fe.mount=X,X.root=fe,I?T.root=fe:U&&(U.mounted=X,U.mount&&U.mount.mounts.push(X)),fe},unmount:function(_){var C=T.lookupPath(_,{follow_mount:!1});if(!T.isMountpoint(C.node))throw new T.ErrnoError(28);var E=C.node,I=E.mounted,M=T.getMounts(I);Object.keys(T.nameTable).forEach(function(K){for(var X=T.nameTable[K];X;){var fe=X.name_next;M.includes(X.mount)&&T.destroyNode(X),X=fe}}),E.mounted=null;var U=E.mount.mounts.indexOf(I);Ie(U!==-1),E.mount.mounts.splice(U,1)},lookup:function(_,C){return _.node_ops.lookup(_,C)},mknod:function(_,C,E){var I=T.lookupPath(_,{parent:!0}),M=I.node,U=on.basename(_);if(!U||U==="."||U==="..")throw new T.ErrnoError(28);var K=T.mayCreate(M,U);if(K)throw new T.ErrnoError(K);if(!M.node_ops.mknod)throw new T.ErrnoError(63);return M.node_ops.mknod(M,U,C,E)},create:function(_,C){return C=C!==void 0?C:438,C&=4095,C|=32768,T.mknod(_,C,0)},mkdir:function(_,C){return C=C!==void 0?C:511,C&=511|512,C|=16384,T.mknod(_,C,0)},mkdirTree:function(_,C){for(var E=_.split("/"),I="",M=0;M<E.length;++M)if(!!E[M]){I+="/"+E[M];try{T.mkdir(I,C)}catch(U){if(U.errno!=20)throw U}}},mkdev:function(_,C,E){return typeof E=="undefined"&&(E=C,C=438),C|=8192,T.mknod(_,C,E)},symlink:function(_,C){if(!Lh.resolve(_))throw new T.ErrnoError(44);var E=T.lookupPath(C,{parent:!0}),I=E.node;if(!I)throw new T.ErrnoError(44);var M=on.basename(C),U=T.mayCreate(I,M);if(U)throw new T.ErrnoError(U);if(!I.node_ops.symlink)throw new T.ErrnoError(63);return I.node_ops.symlink(I,M,_)},rename:function(_,C){var E=on.dirname(_),I=on.dirname(C),M=on.basename(_),U=on.basename(C),K,X,fe;if(K=T.lookupPath(_,{parent:!0}),X=K.node,K=T.lookupPath(C,{parent:!0}),fe=K.node,!X||!fe)throw new T.ErrnoError(44);if(X.mount!==fe.mount)throw new T.ErrnoError(75);var Oe=T.lookupNode(X,M),Be=Lh.relative(_,I);if(Be.charAt(0)!==".")throw new T.ErrnoError(28);if(Be=Lh.relative(C,E),Be.charAt(0)!==".")throw new T.ErrnoError(55);var ft;try{ft=T.lookupNode(fe,U)}catch{}if(Oe!==ft){var Ye=T.isDir(Oe.mode),Et=T.mayDelete(X,M,Ye);if(Et)throw new T.ErrnoError(Et);if(Et=ft?T.mayDelete(fe,U,Ye):T.mayCreate(fe,U),Et)throw new T.ErrnoError(Et);if(!X.node_ops.rename)throw new T.ErrnoError(63);if(T.isMountpoint(Oe)||ft&&T.isMountpoint(ft))throw new T.ErrnoError(10);if(fe!==X&&(Et=T.nodePermissions(X,"w"),Et))throw new T.ErrnoError(Et);try{T.trackingDelegate.willMovePath&&T.trackingDelegate.willMovePath(_,C)}catch(lt){k("FS.trackingDelegate['willMovePath']('"+_+"', '"+C+"') threw an exception: "+lt.message)}T.hashRemoveNode(Oe);try{X.node_ops.rename(Oe,fe,U)}catch(lt){throw lt}finally{T.hashAddNode(Oe)}try{T.trackingDelegate.onMovePath&&T.trackingDelegate.onMovePath(_,C)}catch(lt){k("FS.trackingDelegate['onMovePath']('"+_+"', '"+C+"') threw an exception: "+lt.message)}}},rmdir:function(_){var C=T.lookupPath(_,{parent:!0}),E=C.node,I=on.basename(_),M=T.lookupNode(E,I),U=T.mayDelete(E,I,!0);if(U)throw new T.ErrnoError(U);if(!E.node_ops.rmdir)throw new T.ErrnoError(63);if(T.isMountpoint(M))throw new T.ErrnoError(10);try{T.trackingDelegate.willDeletePath&&T.trackingDelegate.willDeletePath(_)}catch(K){k("FS.trackingDelegate['willDeletePath']('"+_+"') threw an exception: "+K.message)}E.node_ops.rmdir(E,I),T.destroyNode(M);try{T.trackingDelegate.onDeletePath&&T.trackingDelegate.onDeletePath(_)}catch(K){k("FS.trackingDelegate['onDeletePath']('"+_+"') threw an exception: "+K.message)}},readdir:function(_){var C=T.lookupPath(_,{follow:!0}),E=C.node;if(!E.node_ops.readdir)throw new T.ErrnoError(54);return E.node_ops.readdir(E)},unlink:function(_){var C=T.lookupPath(_,{parent:!0}),E=C.node,I=on.basename(_),M=T.lookupNode(E,I),U=T.mayDelete(E,I,!1);if(U)throw new T.ErrnoError(U);if(!E.node_ops.unlink)throw new T.ErrnoError(63);if(T.isMountpoint(M))throw new T.ErrnoError(10);try{T.trackingDelegate.willDeletePath&&T.trackingDelegate.willDeletePath(_)}catch(K){k("FS.trackingDelegate['willDeletePath']('"+_+"') threw an exception: "+K.message)}E.node_ops.unlink(E,I),T.destroyNode(M);try{T.trackingDelegate.onDeletePath&&T.trackingDelegate.onDeletePath(_)}catch(K){k("FS.trackingDelegate['onDeletePath']('"+_+"') threw an exception: "+K.message)}},readlink:function(_){var C=T.lookupPath(_),E=C.node;if(!E)throw new T.ErrnoError(44);if(!E.node_ops.readlink)throw new T.ErrnoError(28);return Lh.resolve(T.getPath(E.parent),E.node_ops.readlink(E))},stat:function(_,C){var E=T.lookupPath(_,{follow:!C}),I=E.node;if(!I)throw new T.ErrnoError(44);if(!I.node_ops.getattr)throw new T.ErrnoError(63);return I.node_ops.getattr(I)},lstat:function(_){return T.stat(_,!0)},chmod:function(_,C,E){var I;if(typeof _=="string"){var M=T.lookupPath(_,{follow:!E});I=M.node}else I=_;if(!I.node_ops.setattr)throw new T.ErrnoError(63);I.node_ops.setattr(I,{mode:C&4095|I.mode&~4095,timestamp:Date.now()})},lchmod:function(_,C){T.chmod(_,C,!0)},fchmod:function(_,C){var E=T.getStream(_);if(!E)throw new T.ErrnoError(8);T.chmod(E.node,C)},chown:function(_,C,E,I){var M;if(typeof _=="string"){var U=T.lookupPath(_,{follow:!I});M=U.node}else M=_;if(!M.node_ops.setattr)throw new T.ErrnoError(63);M.node_ops.setattr(M,{timestamp:Date.now()})},lchown:function(_,C,E){T.chown(_,C,E,!0)},fchown:function(_,C,E){var I=T.getStream(_);if(!I)throw new T.ErrnoError(8);T.chown(I.node,C,E)},truncate:function(_,C){if(C<0)throw new T.ErrnoError(28);var E;if(typeof _=="string"){var I=T.lookupPath(_,{follow:!0});E=I.node}else E=_;if(!E.node_ops.setattr)throw new T.ErrnoError(63);if(T.isDir(E.mode))throw new T.ErrnoError(31);if(!T.isFile(E.mode))throw new T.ErrnoError(28);var M=T.nodePermissions(E,"w");if(M)throw new T.ErrnoError(M);E.node_ops.setattr(E,{size:C,timestamp:Date.now()})},ftruncate:function(_,C){var E=T.getStream(_);if(!E)throw new T.ErrnoError(8);if((E.flags&2097155)===0)throw new T.ErrnoError(28);T.truncate(E.node,C)},utime:function(_,C,E){var I=T.lookupPath(_,{follow:!0}),M=I.node;M.node_ops.setattr(M,{timestamp:Math.max(C,E)})},open:function(_,C,E,I,M){if(_==="")throw new T.ErrnoError(44);C=typeof C=="string"?T.modeStringToFlags(C):C,E=typeof E=="undefined"?438:E,C&64?E=E&4095|32768:E=0;var U;if(typeof _=="object")U=_;else{_=on.normalize(_);try{var K=T.lookupPath(_,{follow:!(C&131072)});U=K.node}catch{}}var X=!1;if(C&64)if(U){if(C&128)throw new T.ErrnoError(20)}else U=T.mknod(_,E,0),X=!0;if(!U)throw new T.ErrnoError(44);if(T.isChrdev(U.mode)&&(C&=~512),C&65536&&!T.isDir(U.mode))throw new T.ErrnoError(54);if(!X){var fe=T.mayOpen(U,C);if(fe)throw new T.ErrnoError(fe)}C&512&&T.truncate(U,0),C&=~(128|512|131072);var Oe=T.createStream({node:U,path:T.getPath(U),flags:C,seekable:!0,position:0,stream_ops:U.stream_ops,ungotten:[],error:!1},I,M);Oe.stream_ops.open&&Oe.stream_ops.open(Oe),t.logReadFiles&&!(C&1)&&(T.readFiles||(T.readFiles={}),_ in T.readFiles||(T.readFiles[_]=1,k("FS.trackingDelegate error on read file: "+_)));try{if(T.trackingDelegate.onOpenFile){var Be=0;(C&2097155)!==1&&(Be|=T.tracking.openFlags.READ),(C&2097155)!==0&&(Be|=T.tracking.openFlags.WRITE),T.trackingDelegate.onOpenFile(_,Be)}}catch(ft){k("FS.trackingDelegate['onOpenFile']('"+_+"', flags) threw an exception: "+ft.message)}return Oe},close:function(_){if(T.isClosed(_))throw new T.ErrnoError(8);_.getdents&&(_.getdents=null);try{_.stream_ops.close&&_.stream_ops.close(_)}catch(C){throw C}finally{T.closeStream(_.fd)}_.fd=null},isClosed:function(_){return _.fd===null},llseek:function(_,C,E){if(T.isClosed(_))throw new T.ErrnoError(8);if(!_.seekable||!_.stream_ops.llseek)throw new T.ErrnoError(70);if(E!=0&&E!=1&&E!=2)throw new T.ErrnoError(28);return _.position=_.stream_ops.llseek(_,C,E),_.ungotten=[],_.position},read:function(_,C,E,I,M){if(I<0||M<0)throw new T.ErrnoError(28);if(T.isClosed(_))throw new T.ErrnoError(8);if((_.flags&2097155)===1)throw new T.ErrnoError(8);if(T.isDir(_.node.mode))throw new T.ErrnoError(31);if(!_.stream_ops.read)throw new T.ErrnoError(28);var U=typeof M!="undefined";if(!U)M=_.position;else if(!_.seekable)throw new T.ErrnoError(70);var K=_.stream_ops.read(_,C,E,I,M);return U||(_.position+=K),K},write:function(_,C,E,I,M,U){if(I<0||M<0)throw new T.ErrnoError(28);if(T.isClosed(_))throw new T.ErrnoError(8);if((_.flags&2097155)===0)throw new T.ErrnoError(8);if(T.isDir(_.node.mode))throw new T.ErrnoError(31);if(!_.stream_ops.write)throw new T.ErrnoError(28);_.seekable&&_.flags&1024&&T.llseek(_,0,2);var K=typeof M!="undefined";if(!K)M=_.position;else if(!_.seekable)throw new T.ErrnoError(70);var X=_.stream_ops.write(_,C,E,I,M,U);K||(_.position+=X);try{_.path&&T.trackingDelegate.onWriteToFile&&T.trackingDelegate.onWriteToFile(_.path)}catch(fe){k("FS.trackingDelegate['onWriteToFile']('"+_.path+"') threw an exception: "+fe.message)}return X},allocate:function(_,C,E){if(T.isClosed(_))throw new T.ErrnoError(8);if(C<0||E<=0)throw new T.ErrnoError(28);if((_.flags&2097155)===0)throw new T.ErrnoError(8);if(!T.isFile(_.node.mode)&&!T.isDir(_.node.mode))throw new T.ErrnoError(43);if(!_.stream_ops.allocate)throw new T.ErrnoError(138);_.stream_ops.allocate(_,C,E)},mmap:function(_,C,E,I,M,U){if((M&2)!==0&&(U&2)===0&&(_.flags&2097155)!==2)throw new T.ErrnoError(2);if((_.flags&2097155)===1)throw new T.ErrnoError(2);if(!_.stream_ops.mmap)throw new T.ErrnoError(43);return _.stream_ops.mmap(_,C,E,I,M,U)},msync:function(_,C,E,I,M){return!_||!_.stream_ops.msync?0:_.stream_ops.msync(_,C,E,I,M)},munmap:function(_){return 0},ioctl:function(_,C,E){if(!_.stream_ops.ioctl)throw new T.ErrnoError(59);return _.stream_ops.ioctl(_,C,E)},readFile:function(_,C){if(C=C||{},C.flags=C.flags||0,C.encoding=C.encoding||"binary",C.encoding!=="utf8"&&C.encoding!=="binary")throw new Error('Invalid encoding type "'+C.encoding+'"');var E,I=T.open(_,C.flags),M=T.stat(_),U=M.size,K=new Uint8Array(U);return T.read(I,K,0,U,0),C.encoding==="utf8"?E=nn(K,0):C.encoding==="binary"&&(E=K),T.close(I),E},writeFile:function(_,C,E){E=E||{},E.flags=E.flags||577;var I=T.open(_,E.flags,E.mode);if(typeof C=="string"){var M=new Uint8Array(mi(C)+1),U=Zo(C,M,0,M.length);T.write(I,M,0,U,void 0,E.canOwn)}else if(ArrayBuffer.isView(C))T.write(I,C,0,C.byteLength,void 0,E.canOwn);else throw new Error("Unsupported data type");T.close(I)},cwd:function(){return T.currentPath},chdir:function(_){var C=T.lookupPath(_,{follow:!0});if(C.node===null)throw new T.ErrnoError(44);if(!T.isDir(C.node.mode))throw new T.ErrnoError(54);var E=T.nodePermissions(C.node,"x");if(E)throw new T.ErrnoError(E);T.currentPath=C.path},createDefaultDirectories:function(){T.mkdir("/tmp"),T.mkdir("/home"),T.mkdir("/home/web_user")},createDefaultDevices:function(){T.mkdir("/dev"),T.registerDevice(T.makedev(1,3),{read:function(){return 0},write:function(C,E,I,M,U){return M}}),T.mkdev("/dev/null",T.makedev(1,3)),kh.register(T.makedev(5,0),kh.default_tty_ops),kh.register(T.makedev(6,0),kh.default_tty1_ops),T.mkdev("/dev/tty",T.makedev(5,0)),T.mkdev("/dev/tty1",T.makedev(6,0));var _=Jte();T.createDevice("/dev","random",_),T.createDevice("/dev","urandom",_),T.mkdir("/dev/shm"),T.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){T.mkdir("/proc");var _=T.mkdir("/proc/self");T.mkdir("/proc/self/fd"),T.mount({mount:function(){var C=T.createNode(_,"fd",16384|511,73);return C.node_ops={lookup:function(E,I){var M=+I,U=T.getStream(M);if(!U)throw new T.ErrnoError(8);var K={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return U.path}}};return K.parent=K,K}},C}},{},"/proc/self/fd")},createStandardStreams:function(){t.stdin?T.createDevice("/dev","stdin",t.stdin):T.symlink("/dev/tty","/dev/stdin"),t.stdout?T.createDevice("/dev","stdout",null,t.stdout):T.symlink("/dev/tty","/dev/stdout"),t.stderr?T.createDevice("/dev","stderr",null,t.stderr):T.symlink("/dev/tty1","/dev/stderr");var _=T.open("/dev/stdin",0),C=T.open("/dev/stdout",1),E=T.open("/dev/stderr",1);Ie(_.fd===0,"invalid handle for stdin ("+_.fd+")"),Ie(C.fd===1,"invalid handle for stdout ("+C.fd+")"),Ie(E.fd===2,"invalid handle for stderr ("+E.fd+")")},ensureErrnoError:function(){T.ErrnoError||(T.ErrnoError=function(C,E){this.node=E,this.setErrno=function(I){this.errno=I;for(var M in YB)if(YB[M]===I){this.code=M;break}},this.setErrno(C),this.message=iie[C],this.stack&&(Object.defineProperty(this,"stack",{value:new Error().stack,writable:!0}),this.stack=ci(this.stack))},T.ErrnoError.prototype=new Error,T.ErrnoError.prototype.constructor=T.ErrnoError,[44].forEach(function(_){T.genericErrors[_]=new T.ErrnoError(_),T.genericErrors[_].stack="<generic error, no stack>"}))},staticInit:function(){T.ensureErrnoError(),T.nameTable=new Array(4096),T.mount(ii,{},"/"),T.createDefaultDirectories(),T.createDefaultDevices(),T.createSpecialDirectories(),T.filesystems={MEMFS:ii}},init:function(_,C,E){Ie(!T.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),T.init.initialized=!0,T.ensureErrnoError(),t.stdin=_||t.stdin,t.stdout=C||t.stdout,t.stderr=E||t.stderr,T.createStandardStreams()},quit:function(){T.init.initialized=!1;var _=t._fflush;_&&_(0);for(var C=0;C<T.streams.length;C++){var E=T.streams[C];!E||T.close(E)}},getMode:function(_,C){var E=0;return _&&(E|=292|73),C&&(E|=146),E},findObject:function(_,C){var E=T.analyzePath(_,C);return E.exists?E.object:null},analyzePath:function(_,C){try{var E=T.lookupPath(_,{follow:!C});_=E.path}catch{}var I={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var E=T.lookupPath(_,{parent:!0});I.parentExists=!0,I.parentPath=E.path,I.parentObject=E.node,I.name=on.basename(_),E=T.lookupPath(_,{follow:!C}),I.exists=!0,I.path=E.path,I.object=E.node,I.name=E.node.name,I.isRoot=E.path==="/"}catch(M){I.error=M.errno}return I},createPath:function(_,C,E,I){_=typeof _=="string"?_:T.getPath(_);for(var M=C.split("/").reverse();M.length;){var U=M.pop();if(!!U){var K=on.join2(_,U);try{T.mkdir(K)}catch{}_=K}}return K},createFile:function(_,C,E,I,M){var U=on.join2(typeof _=="string"?_:T.getPath(_),C),K=T.getMode(I,M);return T.create(U,K)},createDataFile:function(_,C,E,I,M,U){var K=C?on.join2(typeof _=="string"?_:T.getPath(_),C):_,X=T.getMode(I,M),fe=T.create(K,X);if(E){if(typeof E=="string"){for(var Oe=new Array(E.length),Be=0,ft=E.length;Be<ft;++Be)Oe[Be]=E.charCodeAt(Be);E=Oe}T.chmod(fe,X|146);var Ye=T.open(fe,577);T.write(Ye,E,0,E.length,0,U),T.close(Ye),T.chmod(fe,X)}return fe},createDevice:function(_,C,E,I){var M=on.join2(typeof _=="string"?_:T.getPath(_),C),U=T.getMode(!!E,!!I);T.createDevice.major||(T.createDevice.major=64);var K=T.makedev(T.createDevice.major++,0);return T.registerDevice(K,{open:function(X){X.seekable=!1},close:function(X){I&&I.buffer&&I.buffer.length&&I(10)},read:function(X,fe,Oe,Be,ft){for(var Ye=0,Et=0;Et<Be;Et++){var lt;try{lt=E()}catch{throw new T.ErrnoError(29)}if(lt===void 0&&Ye===0)throw new T.ErrnoError(6);if(lt==null)break;Ye++,fe[Oe+Et]=lt}return Ye&&(X.node.timestamp=Date.now()),Ye},write:function(X,fe,Oe,Be,ft){for(var Ye=0;Ye<Be;Ye++)try{I(fe[Oe+Ye])}catch{throw new T.ErrnoError(29)}return Be&&(X.node.timestamp=Date.now()),Ye}}),T.mkdev(M,U,K)},forceLoadFile:function(_){if(_.isDevice||_.isFolder||_.link||_.contents)return!0;if(typeof XMLHttpRequest!="undefined")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(v)try{_.contents=wN(v(_.url),!0),_.usedBytes=_.contents.length}catch{throw new T.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:function(_,C,E,I,M){function U(){this.lengthKnown=!1,this.chunks=[]}if(U.prototype.get=function(Ye){if(!(Ye>this.length-1||Ye<0)){var Et=Ye%this.chunkSize,lt=Ye/this.chunkSize|0;return this.getter(lt)[Et]}},U.prototype.setDataGetter=function(Ye){this.getter=Ye},U.prototype.cacheLength=function(){var Ye=new XMLHttpRequest;if(Ye.open("HEAD",E,!1),Ye.send(null),!(Ye.status>=200&&Ye.status<300||Ye.status===304))throw new Error("Couldn't load "+E+". Status: "+Ye.status);var Et=Number(Ye.getResponseHeader("Content-length")),lt,Rn=(lt=Ye.getResponseHeader("Accept-Ranges"))&&lt==="bytes",Cs=(lt=Ye.getResponseHeader("Content-Encoding"))&&lt==="gzip",ys=1024*1024;Rn||(ys=Et);var Ih=function(ta,Da){if(ta>Da)throw new Error("invalid range ("+ta+", "+Da+") or no bytes requested!");if(Da>Et-1)throw new Error("only "+Et+" bytes available! programmer error!");var Qn=new XMLHttpRequest;if(Qn.open("GET",E,!1),Et!==ys&&Qn.setRequestHeader("Range","bytes="+ta+"-"+Da),typeof Uint8Array!="undefined"&&(Qn.responseType="arraybuffer"),Qn.overrideMimeType&&Qn.overrideMimeType("text/plain; charset=x-user-defined"),Qn.send(null),!(Qn.status>=200&&Qn.status<300||Qn.status===304))throw new Error("Couldn't load "+E+". Status: "+Qn.status);return Qn.response!==void 0?new Uint8Array(Qn.response||[]):wN(Qn.responseText||"",!0)},Xo=this;Xo.setDataGetter(function(ta){var Da=ta*ys,Qn=(ta+1)*ys-1;if(Qn=Math.min(Qn,Et-1),typeof Xo.chunks[ta]=="undefined"&&(Xo.chunks[ta]=Ih(Da,Qn)),typeof Xo.chunks[ta]=="undefined")throw new Error("doXHR failed!");return Xo.chunks[ta]}),(Cs||!Et)&&(ys=Et=1,Et=this.getter(0).length,ys=Et,x("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Et,this._chunkSize=ys,this.lengthKnown=!0},typeof XMLHttpRequest!="undefined"){if(!h)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var K=new U;Object.defineProperties(K,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var X={isDevice:!1,contents:K}}else var X={isDevice:!1,url:E};var fe=T.createFile(_,C,X,I,M);X.contents?fe.contents=X.contents:X.url&&(fe.contents=null,fe.url=X.url),Object.defineProperties(fe,{usedBytes:{get:function(){return this.contents.length}}});var Oe={},Be=Object.keys(fe.stream_ops);return Be.forEach(function(ft){var Ye=fe.stream_ops[ft];Oe[ft]=function(){return T.forceLoadFile(fe),Ye.apply(null,arguments)}}),Oe.read=function(Ye,Et,lt,Rn,Cs){T.forceLoadFile(fe);var ys=Ye.node.contents;if(Cs>=ys.length)return 0;var Ih=Math.min(ys.length-Cs,Rn);if(Ie(Ih>=0),ys.slice)for(var Xo=0;Xo<Ih;Xo++)Et[lt+Xo]=ys[Cs+Xo];else for(var Xo=0;Xo<Ih;Xo++)Et[lt+Xo]=ys.get(Cs+Xo);return Ih},fe.stream_ops=Oe,fe},createPreloadedFile:function(_,C,E,I,M,U,K,X,fe,Oe){he.init();var Be=C?Lh.resolve(on.join2(_,C)):_,ft=ee("cp "+Be);function Ye(Et){function lt(Cs){Oe&&Oe(),X||T.createDataFile(_,C,Cs,I,M,fe),U&&U(),B(ft)}var Rn=!1;t.preloadPlugins.forEach(function(Cs){Rn||Cs.canHandle(Be)&&(Cs.handle(Et,Be,lt,function(){K&&K(),B(ft)}),Rn=!0)}),Rn||lt(Et)}ie(ft),typeof E=="string"?tie(E,function(Et){Ye(Et)},K):Ye(E)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(_,C,E){C=C||function(){},E=E||function(){};var I=T.indexedDB();try{var M=I.open(T.DB_NAME(),T.DB_VERSION)}catch(U){return E(U)}M.onupgradeneeded=function(){x("creating db");var K=M.result;K.createObjectStore(T.DB_STORE_NAME)},M.onsuccess=function(){var K=M.result,X=K.transaction([T.DB_STORE_NAME],"readwrite"),fe=X.objectStore(T.DB_STORE_NAME),Oe=0,Be=0,ft=_.length;function Ye(){Be==0?C():E()}_.forEach(function(Et){var lt=fe.put(T.analyzePath(Et).object.contents,Et);lt.onsuccess=function(){Oe++,Oe+Be==ft&&Ye()},lt.onerror=function(){Be++,Oe+Be==ft&&Ye()}}),X.onerror=E},M.onerror=E},loadFilesFromDB:function(_,C,E){C=C||function(){},E=E||function(){};var I=T.indexedDB();try{var M=I.open(T.DB_NAME(),T.DB_VERSION)}catch(U){return E(U)}M.onupgradeneeded=E,M.onsuccess=function(){var K=M.result;try{var X=K.transaction([T.DB_STORE_NAME],"readonly")}catch(Et){E(Et);return}var fe=X.objectStore(T.DB_STORE_NAME),Oe=0,Be=0,ft=_.length;function Ye(){Be==0?C():E()}_.forEach(function(Et){var lt=fe.get(Et);lt.onsuccess=function(){T.analyzePath(Et).exists&&T.unlink(Et),T.createDataFile(on.dirname(Et),on.basename(Et),lt.result,!0,!0,!0),Oe++,Oe+Be==ft&&Ye()},lt.onerror=function(){Be++,Oe+Be==ft&&Ye()}}),X.onerror=E},M.onerror=E},absolutePath:function(){m("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder:function(){m("FS.createFolder has been removed; use FS.mkdir instead")},createLink:function(){m("FS.createLink has been removed; use FS.symlink instead")},joinPath:function(){m("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc:function(){m("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath:function(){m("FS.standardizePath has been removed; use PATH.normalize instead")}},nc={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(_,C,E){if(C[0]==="/")return C;var I;if(_===-100)I=T.cwd();else{var M=T.getStream(_);if(!M)throw new T.ErrnoError(8);I=M.path}if(C.length==0){if(!E)throw new T.ErrnoError(44);return I}return on.join2(I,C)},doStat:function(_,C,E){try{var I=_(C)}catch(M){if(M&&M.node&&on.normalize(C)!==on.normalize(T.getPath(M.node)))return-54;throw M}return vt[E>>2]=I.dev,vt[E+4>>2]=0,vt[E+8>>2]=I.ino,vt[E+12>>2]=I.mode,vt[E+16>>2]=I.nlink,vt[E+20>>2]=I.uid,vt[E+24>>2]=I.gid,vt[E+28>>2]=I.rdev,vt[E+32>>2]=0,It=[I.size>>>0,(ut=I.size,+Math.abs(ut)>=1?ut>0?(Math.min(+Math.floor(ut/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ut-+(~~ut>>>0))/4294967296)>>>0:0)],vt[E+40>>2]=It[0],vt[E+44>>2]=It[1],vt[E+48>>2]=4096,vt[E+52>>2]=I.blocks,vt[E+56>>2]=I.atime.getTime()/1e3|0,vt[E+60>>2]=0,vt[E+64>>2]=I.mtime.getTime()/1e3|0,vt[E+68>>2]=0,vt[E+72>>2]=I.ctime.getTime()/1e3|0,vt[E+76>>2]=0,It=[I.ino>>>0,(ut=I.ino,+Math.abs(ut)>=1?ut>0?(Math.min(+Math.floor(ut/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ut-+(~~ut>>>0))/4294967296)>>>0:0)],vt[E+80>>2]=It[0],vt[E+84>>2]=It[1],0},doMsync:function(_,C,E,I,M){var U=Ao.slice(_,_+E);T.msync(C,U,M,E,I)},doMkdir:function(_,C){return _=on.normalize(_),_[_.length-1]==="/"&&(_=_.substr(0,_.length-1)),T.mkdir(_,C,0),0},doMknod:function(_,C,E){switch(C&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return T.mknod(_,C,E),0},doReadlink:function(_,C,E){if(E<=0)return-28;var I=T.readlink(_),M=Math.min(E,mi(I)),U=Pn[C+M];return Gn(I,C,E+1),Pn[C+M]=U,M},doAccess:function(_,C){if(C&~7)return-28;var E,I=T.lookupPath(_,{follow:!0});if(E=I.node,!E)return-44;var M="";return C&4&&(M+="r"),C&2&&(M+="w"),C&1&&(M+="x"),M&&T.nodePermissions(E,M)?-2:0},doDup:function(_,C,E){var I=T.getStream(E);return I&&T.close(I),T.open(_,C,0,E,E).fd},doReadv:function(_,C,E,I){for(var M=0,U=0;U<E;U++){var K=vt[C+U*8>>2],X=vt[C+(U*8+4)>>2],fe=T.read(_,Pn,K,X,I);if(fe<0)return-1;if(M+=fe,fe<X)break}return M},doWritev:function(_,C,E,I){for(var M=0,U=0;U<E;U++){var K=vt[C+U*8>>2],X=vt[C+(U*8+4)>>2],fe=T.write(_,Pn,K,X,I);if(fe<0)return-1;M+=fe}return M},varargs:void 0,get:function(){Ie(nc.varargs!=null),nc.varargs+=4;var _=vt[nc.varargs-4>>2];return _},getStr:function(_){var C=qo(_);return C},getStreamFromFD:function(_){var C=T.getStream(_);if(!C)throw new T.ErrnoError(8);return C},get64:function(_,C){return _>=0?Ie(C===0):Ie(C===-1),_}};function nie(_,C){try{if(C===0)return-28;var E=T.cwd(),I=mi(E);return C<I+1?-68:(Gn(E,_,C),_)}catch(M){return(typeof T=="undefined"||!(M instanceof T.ErrnoError))&&m(M),-M.errno}}function oie(_,C,E){nc.varargs=E;try{var I=nc.getStr(_),M=E?nc.get():0,U=T.open(I,C,M);return U.fd}catch(K){return(typeof T=="undefined"||!(K instanceof T.ErrnoError))&&m(K),-K.errno}}function rie(){throw"longjmp"}function sie(){m()}function aie(){return Ao.length}function lie(_,C,E){Ao.copyWithin(_,C,C+E)}function cie(_){var C=Ao.length;return _=_>>>0,!1}function pN(_,C){if(We){k("user callback triggered after application aborted.  Ignoring.");return}if(C){_();return}try{_()}catch(E){if(E instanceof ME)return;if(E!=="unwind")throw E&&typeof E=="object"&&E.stack&&k("exception thrown: "+[E,E.stack]),E}}function qB(_,C){return setTimeout(function(){pN(_)},C)}var he={mainLoop:{running:!1,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){he.mainLoop.scheduler=null,he.mainLoop.currentlyRunningMainloop++},resume:function(){he.mainLoop.currentlyRunningMainloop++;var _=he.mainLoop.timingMode,C=he.mainLoop.timingValue,E=he.mainLoop.func;he.mainLoop.func=null,GB(E,0,!1,he.mainLoop.arg,!0),_N(_,C),he.mainLoop.scheduler()},updateStatus:function(){if(t.setStatus){var _=t.statusMessage||"Please wait...",C=he.mainLoop.remainingBlockers,E=he.mainLoop.expectedBlockers;C?C<E?t.setStatus(_+" ("+(E-C)+"/"+E+")"):t.setStatus(_):t.setStatus("")}},runIter:function(_){if(!We){if(t.preMainLoop){var C=t.preMainLoop();if(C===!1)return}pN(_),t.postMainLoop&&t.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(t.preloadPlugins||(t.preloadPlugins=[]),he.initted)return;he.initted=!0;try{new Blob,he.hasBlobConstructor=!0}catch{he.hasBlobConstructor=!1,x("warning: no blob constructor, cannot create blobs with mimetypes")}he.BlobBuilder=typeof MozBlobBuilder!="undefined"?MozBlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:he.hasBlobConstructor?null:x("warning: no BlobBuilder"),he.URLObject=typeof window!="undefined"?window.URL?window.URL:window.webkitURL:void 0,!t.noImageDecoding&&typeof he.URLObject=="undefined"&&(x("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),t.noImageDecoding=!0);var _={};_.canHandle=function(U){return!t.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(U)},_.handle=function(U,K,X,fe){var Oe=null;if(he.hasBlobConstructor)try{Oe=new Blob([U],{type:he.getMimetype(K)}),Oe.size!==U.length&&(Oe=new Blob([new Uint8Array(U).buffer],{type:he.getMimetype(K)}))}catch(Et){R("Blob constructor present but fails: "+Et+"; falling back to blob builder")}if(!Oe){var Be=new he.BlobBuilder;Be.append(new Uint8Array(U).buffer),Oe=Be.getBlob()}var ft=he.URLObject.createObjectURL(Oe);Ie(typeof ft=="string","createObjectURL must return a url as a string");var Ye=new Image;Ye.onload=function(){Ie(Ye.complete,"Image "+K+" could not be decoded");var lt=document.createElement("canvas");lt.width=Ye.width,lt.height=Ye.height;var Rn=lt.getContext("2d");Rn.drawImage(Ye,0,0),t.preloadedImages[K]=lt,he.URLObject.revokeObjectURL(ft),X&&X(U)},Ye.onerror=function(lt){x("Image "+ft+" could not be decoded"),fe&&fe()},Ye.src=ft},t.preloadPlugins.push(_);var C={};C.canHandle=function(U){return!t.noAudioDecoding&&U.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},C.handle=function(U,K,X,fe){var Oe=!1;function Be(Rn){Oe||(Oe=!0,t.preloadedAudios[K]=Rn,X&&X(U))}function ft(){Oe||(Oe=!0,t.preloadedAudios[K]=new Audio,fe&&fe())}if(he.hasBlobConstructor){try{var Ye=new Blob([U],{type:he.getMimetype(K)})}catch{return ft()}var Et=he.URLObject.createObjectURL(Ye);Ie(typeof Et=="string","createObjectURL must return a url as a string");var lt=new Audio;lt.addEventListener("canplaythrough",function(){Be(lt)},!1),lt.onerror=function(Cs){if(Oe)return;x("warning: browser could not fully decode audio "+K+", trying slower base64 approach");function ys(Ih){for(var Xo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ta="=",Da="",Qn=0,X_=0,SN=0;SN<Ih.length;SN++)for(Qn=Qn<<8|Ih[SN],X_+=8;X_>=6;){var Ine=Qn>>X_-6&63;X_-=6,Da+=Xo[Ine]}return X_==2?(Da+=Xo[(Qn&3)<<4],Da+=ta+ta):X_==4&&(Da+=Xo[(Qn&15)<<2],Da+=ta),Da}lt.src="data:audio/x-"+K.substr(-3)+";base64,"+ys(U),Be(lt)},lt.src=Et,qB(function(){Be(lt)},1e4)}else return ft()},t.preloadPlugins.push(C);function E(){he.pointerLock=document.pointerLockElement===t.canvas||document.mozPointerLockElement===t.canvas||document.webkitPointerLockElement===t.canvas||document.msPointerLockElement===t.canvas}var I=t.canvas;I&&(I.requestPointerLock=I.requestPointerLock||I.mozRequestPointerLock||I.webkitRequestPointerLock||I.msRequestPointerLock||function(){},I.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},I.exitPointerLock=I.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",E,!1),document.addEventListener("mozpointerlockchange",E,!1),document.addEventListener("webkitpointerlockchange",E,!1),document.addEventListener("mspointerlockchange",E,!1),t.elementPointerLock&&I.addEventListener("click",function(M){!he.pointerLock&&t.canvas.requestPointerLock&&(t.canvas.requestPointerLock(),M.preventDefault())},!1))},createContext:function(_,C,E,I){if(C&&t.ctx&&_==t.canvas)return t.ctx;var M,U;if(C){var K={antialias:!1,alpha:!1,majorVersion:1};if(I)for(var X in I)K[X]=I[X];typeof GL!="undefined"&&(U=GL.createContext(_,K),U&&(M=GL.getContext(U).GLctx))}else M=_.getContext("2d");return M?(E&&(C||Ie(typeof GLctx=="undefined","cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),t.ctx=M,C&&GL.makeContextCurrent(U),t.useWebGL=C,he.moduleContextCreatedCallbacks.forEach(function(fe){fe()}),he.init()),M):null},destroyContext:function(_,C,E){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(_,C){he.lockPointer=_,he.resizeCanvas=C,typeof he.lockPointer=="undefined"&&(he.lockPointer=!0),typeof he.resizeCanvas=="undefined"&&(he.resizeCanvas=!1);var E=t.canvas;function I(){he.isFullscreen=!1;var U=E.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===U?(E.exitFullscreen=he.exitFullscreen,he.lockPointer&&E.requestPointerLock(),he.isFullscreen=!0,he.resizeCanvas?he.setFullscreenCanvasSize():he.updateCanvasDimensions(E)):(U.parentNode.insertBefore(E,U),U.parentNode.removeChild(U),he.resizeCanvas?he.setWindowedCanvasSize():he.updateCanvasDimensions(E)),t.onFullScreen&&t.onFullScreen(he.isFullscreen),t.onFullscreen&&t.onFullscreen(he.isFullscreen)}he.fullscreenHandlersInstalled||(he.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",I,!1),document.addEventListener("mozfullscreenchange",I,!1),document.addEventListener("webkitfullscreenchange",I,!1),document.addEventListener("MSFullscreenChange",I,!1));var M=document.createElement("div");E.parentNode.insertBefore(M,E),M.appendChild(E),M.requestFullscreen=M.requestFullscreen||M.mozRequestFullScreen||M.msRequestFullscreen||(M.webkitRequestFullscreen?function(){M.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(M.webkitRequestFullScreen?function(){M.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),M.requestFullscreen()},requestFullScreen:function(){m("Module.requestFullScreen has been replaced by Module.requestFullscreen (without a capital S)")},exitFullscreen:function(){if(!he.isFullscreen)return!1;var _=document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){};return _.apply(document,[]),!0},nextRAF:0,fakeRequestAnimationFrame:function(_){var C=Date.now();if(he.nextRAF===0)he.nextRAF=C+1e3/60;else for(;C+2>=he.nextRAF;)he.nextRAF+=1e3/60;var E=Math.max(he.nextRAF-C,0);setTimeout(_,E)},requestAnimationFrame:function(_){if(typeof requestAnimationFrame=="function"){requestAnimationFrame(_);return}var C=he.fakeRequestAnimationFrame;C(_)},safeSetTimeout:function(_){return qB(_)},safeRequestAnimationFrame:function(_){return he.requestAnimationFrame(function(){pN(_)})},getMimetype:function(_){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[_.substr(_.lastIndexOf(".")+1)]},getUserMedia:function(_){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(_)},getMovementX:function(_){return _.movementX||_.mozMovementX||_.webkitMovementX||0},getMovementY:function(_){return _.movementY||_.mozMovementY||_.webkitMovementY||0},getMouseWheelDelta:function(_){var C=0;switch(_.type){case"DOMMouseScroll":C=_.detail/3;break;case"mousewheel":C=_.wheelDelta/120;break;case"wheel":switch(C=_.deltaY,_.deltaMode){case 0:C/=100;break;case 1:C/=3;break;case 2:C*=80;break;default:throw"unrecognized mouse wheel delta mode: "+_.deltaMode}break;default:throw"unrecognized mouse wheel event: "+_.type}return C},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(_){if(he.pointerLock)_.type!="mousemove"&&"mozMovementX"in _?he.mouseMovementX=he.mouseMovementY=0:(he.mouseMovementX=he.getMovementX(_),he.mouseMovementY=he.getMovementY(_)),typeof SDL!="undefined"?(he.mouseX=SDL.mouseX+he.mouseMovementX,he.mouseY=SDL.mouseY+he.mouseMovementY):(he.mouseX+=he.mouseMovementX,he.mouseY+=he.mouseMovementY);else{var C=t.canvas.getBoundingClientRect(),E=t.canvas.width,I=t.canvas.height,M=typeof window.scrollX!="undefined"?window.scrollX:window.pageXOffset,U=typeof window.scrollY!="undefined"?window.scrollY:window.pageYOffset;if(Ie(typeof M!="undefined"&&typeof U!="undefined","Unable to retrieve scroll position, mouse positions likely broken."),_.type==="touchstart"||_.type==="touchend"||_.type==="touchmove"){var K=_.touch;if(K===void 0)return;var X=K.pageX-(M+C.left),fe=K.pageY-(U+C.top);X=X*(E/C.width),fe=fe*(I/C.height);var Oe={x:X,y:fe};if(_.type==="touchstart")he.lastTouches[K.identifier]=Oe,he.touches[K.identifier]=Oe;else if(_.type==="touchend"||_.type==="touchmove"){var Be=he.touches[K.identifier];Be||(Be=Oe),he.lastTouches[K.identifier]=Be,he.touches[K.identifier]=Oe}return}var ft=_.pageX-(M+C.left),Ye=_.pageY-(U+C.top);ft=ft*(E/C.width),Ye=Ye*(I/C.height),he.mouseMovementX=ft-he.mouseX,he.mouseMovementY=Ye-he.mouseY,he.mouseX=ft,he.mouseY=Ye}},resizeListeners:[],updateResizeListeners:function(){var _=t.canvas;he.resizeListeners.forEach(function(C){C(_.width,_.height)})},setCanvasSize:function(_,C,E){var I=t.canvas;he.updateCanvasDimensions(I,_,C),E||he.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if(typeof SDL!="undefined"){var _=fo[SDL.screen>>2];_=_|8388608,vt[SDL.screen>>2]=_}he.updateCanvasDimensions(t.canvas),he.updateResizeListeners()},setWindowedCanvasSize:function(){if(typeof SDL!="undefined"){var _=fo[SDL.screen>>2];_=_&~8388608,vt[SDL.screen>>2]=_}he.updateCanvasDimensions(t.canvas),he.updateResizeListeners()},updateCanvasDimensions:function(_,C,E){C&&E?(_.widthNative=C,_.heightNative=E):(C=_.widthNative,E=_.heightNative);var I=C,M=E;if(t.forcedAspectRatio&&t.forcedAspectRatio>0&&(I/M<t.forcedAspectRatio?I=Math.round(M*t.forcedAspectRatio):M=Math.round(I/t.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===_.parentNode&&typeof screen!="undefined"){var U=Math.min(screen.width/I,screen.height/M);I=Math.round(I*U),M=Math.round(M*U)}he.resizeCanvas?(_.width!=I&&(_.width=I),_.height!=M&&(_.height=M),typeof _.style!="undefined"&&(_.style.removeProperty("width"),_.style.removeProperty("height"))):(_.width!=C&&(_.width=C),_.height!=E&&(_.height=E),typeof _.style!="undefined"&&(I!=C||M!=E?(_.style.setProperty("width",I+"px","important"),_.style.setProperty("height",M+"px","important")):(_.style.removeProperty("width"),_.style.removeProperty("height"))))}};function _N(_,C){if(he.mainLoop.timingMode=_,he.mainLoop.timingValue=C,!he.mainLoop.func)return k("emscripten_set_main_loop_timing: Cannot set timing mode for main loop since a main loop does not exist! Call emscripten_set_main_loop first to set one up."),1;if(he.mainLoop.running||(he.mainLoop.running=!0),_==0)he.mainLoop.scheduler=function(){var K=Math.max(0,he.mainLoop.tickStartTime+C-bN())|0;setTimeout(he.mainLoop.runner,K)},he.mainLoop.method="timeout";else if(_==1)he.mainLoop.scheduler=function(){he.requestAnimationFrame(he.mainLoop.runner)},he.mainLoop.method="rAF";else if(_==2){if(typeof setImmediate=="undefined"){var E=[],I="setimmediate",M=function(U){(U.data===I||U.data.target===I)&&(U.stopPropagation(),E.shift()())};addEventListener("message",M,!0),setImmediate=function(K){E.push(K),h?(t.setImmediates===void 0&&(t.setImmediates=[]),t.setImmediates.push(K),postMessage({target:I})):postMessage(I,"*")}}he.mainLoop.scheduler=function(){setImmediate(he.mainLoop.runner)},he.mainLoop.method="immediate"}return 0}var bN;bN=function(){return performance.now()};function ZB(_){n7(_)}function die(){if(!nd())try{ZB(Ue)}catch(_){if(_ instanceof ME)return;throw _}}function GB(_,C,E,I,M){Ie(!he.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),he.mainLoop.func=_,he.mainLoop.arg=I;var U=he.mainLoop.currentlyRunningMainloop;function K(){return U<he.mainLoop.currentlyRunningMainloop?(die(),!1):!0}if(he.mainLoop.running=!1,he.mainLoop.runner=function(){if(!We){if(he.mainLoop.queue.length>0){var fe=Date.now(),Oe=he.mainLoop.queue.shift();if(Oe.func(Oe.arg),he.mainLoop.remainingBlockers){var Be=he.mainLoop.remainingBlockers,ft=Be%1==0?Be-1:Math.floor(Be);Oe.counted?he.mainLoop.remainingBlockers=ft:(ft=ft+.5,he.mainLoop.remainingBlockers=(8*Be+ft)/9)}if(x('main loop blocker "'+Oe.name+'" took '+(Date.now()-fe)+" ms"),he.mainLoop.updateStatus(),!K())return;setTimeout(he.mainLoop.runner,0);return}if(!!K()){if(he.mainLoop.currentFrameNumber=he.mainLoop.currentFrameNumber+1|0,he.mainLoop.timingMode==1&&he.mainLoop.timingValue>1&&he.mainLoop.currentFrameNumber%he.mainLoop.timingValue!=0){he.mainLoop.scheduler();return}else he.mainLoop.timingMode==0&&(he.mainLoop.tickStartTime=bN());he.mainLoop.method==="timeout"&&t.ctx&&(R("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),he.mainLoop.method=""),he.mainLoop.runIter(_),vs(),!!K()&&(typeof SDL=="object"&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),he.mainLoop.scheduler())}}},M||(C&&C>0?_N(0,1e3/C):_N(1,1),he.mainLoop.scheduler()),E)throw"unwind"}function hie(_,C,E){var I=ti.get(_);GB(I,C,E)}var vN={};function uie(){return l||"./this.program"}function xC(){if(!xC.strings){var _=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",C={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:_,_:uie()};for(var E in vN)vN[E]===void 0?delete C[E]:C[E]=vN[E];var I=[];for(var E in C)I.push(E+"="+C[E]);xC.strings=I}return xC.strings}function fie(_,C){var E=0;return xC().forEach(function(I,M){var U=C+E;vt[_+M*4>>2]=U,ec(I,U),E+=I.length+1}),0}function gie(_,C){var E=xC();vt[_>>2]=E.length;var I=0;return E.forEach(function(M){I+=M.length+1}),vt[C>>2]=I,0}function mie(_){try{var C=nc.getStreamFromFD(_);return T.close(C),0}catch(E){return(typeof T=="undefined"||!(E instanceof T.ErrnoError))&&m(E),E.errno}}function pie(_,C,E,I){try{var M=nc.getStreamFromFD(_),U=nc.doReadv(M,C,E);return vt[I>>2]=U,0}catch(K){return(typeof T=="undefined"||!(K instanceof T.ErrnoError))&&m(K),K.errno}}function _ie(_,C,E,I){try{var M=nc.getStreamFromFD(_),U=nc.doWritev(M,C,E);return vt[I>>2]=U,0}catch(K){return(typeof T=="undefined"||!(K instanceof T.ErrnoError))&&m(K),K.errno}}function bie(){return Pe()}function vie(_){return _}function wie(_){re(_)}var XB=function(_,C,E,I){_||(_=this),this.parent=_,this.mount=_.mount,this.mounted=null,this.id=T.nextInode++,this.name=C,this.mode=E,this.node_ops={},this.stream_ops={},this.rdev=I},TE=292|73,NE=146;Object.defineProperties(XB.prototype,{read:{get:function(){return(this.mode&TE)===TE},set:function(_){_?this.mode|=TE:this.mode&=~TE}},write:{get:function(){return(this.mode&NE)===NE},set:function(_){_?this.mode|=NE:this.mode&=~NE}},isFolder:{get:function(){return T.isDir(this.mode)}},isDevice:{get:function(){return T.isChrdev(this.mode)}}}),T.FSNode=XB,T.staticInit(),t.requestFullscreen=function(C,E){he.requestFullscreen(C,E)},t.requestFullScreen=function(){he.requestFullScreen()},t.requestAnimationFrame=function(C){he.requestAnimationFrame(C)},t.setCanvasSize=function(C,E,I){he.setCanvasSize(C,E,I)},t.pauseMainLoop=function(){he.mainLoop.pause()},t.resumeMainLoop=function(){he.mainLoop.resume()},t.getUserMedia=function(){he.getUserMedia()},t.createContext=function(C,E,I,M){return he.createContext(C,E,I,M)};var Fwe=!0;function wN(_,C,E){var I=E>0?E:mi(_)+1,M=new Array(I),U=Zo(_,M,0,M.length);return C&&(M.length=U),M}var QB={__cxa_allocate_exception:Go,__cxa_begin_catch:OE,__cxa_end_catch:Yte,__cxa_find_matching_catch_2:Zte,__cxa_find_matching_catch_4:Gte,__cxa_throw:Xte,__gxx_personality_v0:Qte,__resumeException:qte,__sys_getcwd:nie,__sys_open:oie,_emscripten_throw_longjmp:rie,abort:sie,emscripten_get_heap_max:aie,emscripten_memcpy_big:lie,emscripten_resize_heap:cie,emscripten_set_main_loop:hie,environ_get:fie,environ_sizes_get:gie,exit:ZB,fd_close:mie,fd_read:pie,fd_write:_ie,getTempRet0:bie,invoke_dd:ene,invoke_ddd:ine,invoke_didd:one,invoke_i:Gie,invoke_ii:qie,invoke_iii:Hie,invoke_iiii:$ie,invoke_iiiii:Xie,invoke_iiiiii:sne,invoke_iiiiiiiiiiiii:rne,invoke_ij:dne,invoke_j:Sne,invoke_ji:gne,invoke_jii:lne,invoke_jiii:hne,invoke_jiiii:yne,invoke_jijj:Cne,invoke_v:Uie,invoke_vi:Wie,invoke_vid:tne,invoke_vii:Vie,invoke_viid:Jie,invoke_viii:zie,invoke_viiii:Zie,invoke_viiiii:Kie,invoke_viiiiii:Qie,invoke_viiiiiii:nne,invoke_viiiiiiii:Yie,invoke_viiiiijji:_ne,invoke_viiiij:vne,invoke_viiiijii:wne,invoke_viiij:pne,invoke_viiiji:ane,invoke_viiijj:fne,invoke_viij:cne,invoke_viiji:bne,invoke_vij:une,invoke_vijj:mne,llvm_eh_typeid_for:vie,setTempRet0:wie},Bwe=yt(),jwe=t.___wasm_call_ctors=L("__wasm_call_ctors"),Wwe=t._main=L("main"),Uwe=t._artichoke_web_repl_init=L("artichoke_web_repl_init"),zwe=t._artichoke_string_new=L("artichoke_string_new"),Vwe=t._artichoke_string_free=L("artichoke_string_free"),Hwe=t._artichoke_string_getlen=L("artichoke_string_getlen"),$we=t._artichoke_string_getch=L("artichoke_string_getch"),Kwe=t._artichoke_string_putch=L("artichoke_string_putch"),Ywe=t._artichoke_eval=L("artichoke_eval"),qwe=t._mrb_gc_protect=L("mrb_gc_protect"),Zwe=t._mrb_class_defined_under=L("mrb_class_defined_under"),Gwe=t._mrb_class_get_under=L("mrb_class_get_under"),Xwe=t._mrb_class_defined=L("mrb_class_defined"),Qwe=t._mrb_class_get=L("mrb_class_get"),Jwe=t._mrb_data_object_alloc=L("mrb_data_object_alloc"),eCe=t._mrb_sys_obj_value=L("mrb_sys_obj_value"),tCe=t._mrb_define_module=L("mrb_define_module"),iCe=t._mrb_data_check_get_ptr=L("mrb_data_check_get_ptr"),nCe=t._mrb_define_class_method=L("mrb_define_class_method"),oCe=t._mrb_define_singleton_method=L("mrb_define_singleton_method"),rCe=t._mrb_define_method=L("mrb_define_method"),sCe=t._mrb_define_module_function=L("mrb_define_module_function"),aCe=t._mrb_sys_obj_frozen=L("mrb_sys_obj_frozen"),lCe=t._mrb_define_module_under=L("mrb_define_module_under"),cCe=t._mrb_define_class=L("mrb_define_class"),dCe=t._mrb_sys_class_of_value=L("mrb_sys_class_of_value"),hCe=t._mrb_sys_value_is_dead=L("mrb_sys_value_is_dead"),uCe=t._mrb_sys_gc_arena_save=L("mrb_sys_gc_arena_save"),fCe=t._mrb_sys_gc_arena_restore=L("mrb_sys_gc_arena_restore"),gCe=t._mrb_sys_alloc_rarray=L("mrb_sys_alloc_rarray"),mCe=t._mrb_define_class_under=L("mrb_define_class_under"),pCe=t._mrb_close=L("mrb_close"),_Ce=t._mrb_sys_class_value=L("mrb_sys_class_value"),bCe=t._mrb_obj_new=L("mrb_obj_new"),vCe=t._mrb_sys_value_is_nil=L("mrb_sys_value_is_nil"),wCe=t._mrb_sys_value_is_true=L("mrb_sys_value_is_true"),CCe=t._mrb_sys_value_is_false=L("mrb_sys_value_is_false"),yCe=t._mrb_define_global_const=L("mrb_define_global_const"),SCe=t._mrb_define_const=L("mrb_define_const"),ECe=t._mrb_sys_false_value=L("mrb_sys_false_value"),xCe=t._mrb_sys_true_value=L("mrb_sys_true_value"),DCe=t._mrb_sys_nil_value=L("mrb_sys_nil_value"),LCe=t._mrb_str_new=L("mrb_str_new"),kCe=t._mrb_string_value_ptr=L("mrb_string_value_ptr"),ICe=t._mrb_string_value_len=L("mrb_string_value_len"),OCe=t._mrb_sys_fixnum_value=L("mrb_sys_fixnum_value"),TCe=t._mrb_sys_fixnum_to_cint=L("mrb_sys_fixnum_to_cint"),NCe=t._mrb_sys_float_value=L("mrb_sys_float_value"),PCe=t._mrb_sys_float_to_cdouble=L("mrb_sys_float_to_cdouble"),RCe=t._mrb_hash_new_capa=L("mrb_hash_new_capa"),MCe=t._mrb_hash_set=L("mrb_hash_set"),ACe=t._mrb_hash_keys=L("mrb_hash_keys"),FCe=t._mrb_hash_get=L("mrb_hash_get"),BCe=t._mrb_sys_cptr_value=L("mrb_sys_cptr_value"),jCe=t._mrb_protect=L("mrb_protect"),WCe=t._mrb_sys_gc_live_objects=L("mrb_sys_gc_live_objects"),UCe=t._mrb_sys_safe_gc_mark=L("mrb_sys_safe_gc_mark"),zCe=t._mrb_incremental_gc=L("mrb_incremental_gc"),VCe=t._mrb_full_gc=L("mrb_full_gc"),HCe=t._mrb_sys_gc_enable=L("mrb_sys_gc_enable"),$Ce=t._mrb_sys_gc_disable=L("mrb_sys_gc_disable"),KCe=t._mrb_gv_set=L("mrb_gv_set"),YCe=t._mrbc_filename=L("mrbc_filename"),qCe=t._mrb_top_self=L("mrb_top_self"),ZCe=t._mrb_sys_module_value=L("mrb_sys_module_value"),GCe=t._mrb_get_args=L("mrb_get_args"),XCe=t._mrb_sys_set_instance_tt=L("mrb_sys_set_instance_tt"),QCe=t._mrb_const_defined_at=L("mrb_const_defined_at"),JCe=t._mrb_module_get_under=L("mrb_module_get_under"),e0e=t._mrb_module_get=L("mrb_module_get"),t0e=t._mrbc_context_new=L("mrbc_context_new"),i0e=t._mrbc_context_free=L("mrbc_context_free"),n0e=t._mrb_sys_data_init=L("mrb_sys_data_init"),o0e=t._mrb_exc_raise=L("mrb_exc_raise"),r0e=t._mrb_sys_raise=L("mrb_sys_raise"),s0e=t._mrb_sys_class_ptr=L("mrb_sys_class_ptr"),a0e=t._mrb_sys_basic_ptr=L("mrb_sys_basic_ptr"),l0e=t._mrb_write_barrier=L("mrb_write_barrier"),c0e=t._mrb_sys_new_symbol=L("mrb_sys_new_symbol"),d0e=t._mrb_ary_new=L("mrb_ary_new"),h0e=t._mrb_ary_new_capa=L("mrb_ary_new_capa"),u0e=t._mrb_ary_new_from_values=L("mrb_ary_new_from_values"),f0e=t._mrb_assoc_new=L("mrb_assoc_new"),g0e=t._mrb_ary_splat=L("mrb_ary_splat"),m0e=t._mrb_ary_concat=L("mrb_ary_concat"),p0e=t._mrb_ary_pop=L("mrb_ary_pop"),_0e=t._mrb_ary_push=L("mrb_ary_push"),b0e=t._mrb_ary_ref=L("mrb_ary_ref"),v0e=t._mrb_ary_set=L("mrb_ary_set"),w0e=t._mrb_ary_shift=L("mrb_ary_shift"),C0e=t._mrb_ary_unshift=L("mrb_ary_unshift"),y0e=t._mrb_ary_artichoke_free=L("mrb_ary_artichoke_free"),S0e=t._mrb_sys_repack_into_rarray=L("mrb_sys_repack_into_rarray"),E0e=t._mrb_to_flo=L("mrb_to_flo"),x0e=t._mrb_sys_cptr_ptr=L("mrb_sys_cptr_ptr"),D0e=t._mrb_funcall_with_block=L("mrb_funcall_with_block"),L0e=t._mrb_funcall_argv=L("mrb_funcall_argv"),k0e=t._mrb_load_nstring_cxt=L("mrb_load_nstring_cxt"),I0e=t._mrb_yield=L("mrb_yield"),O0e=t._mrb_range_beg_len=L("mrb_range_beg_len"),T0e=t._mrb_intern=L("mrb_intern"),N0e=t._mrb_intern_static=L("mrb_intern_static"),P0e=t._mrb_intern_cstr=L("mrb_intern_cstr"),R0e=t._mrb_intern_str=L("mrb_intern_str"),M0e=t._mrb_intern_check=L("mrb_intern_check"),A0e=t._mrb_intern_check_cstr=L("mrb_intern_check_cstr"),F0e=t._mrb_intern_check_str=L("mrb_intern_check_str"),B0e=t._mrb_check_intern=L("mrb_check_intern"),j0e=t._mrb_check_intern_cstr=L("mrb_check_intern_cstr"),W0e=t._mrb_check_intern_str=L("mrb_check_intern_str"),U0e=t._mrb_sym_name=L("mrb_sym_name"),z0e=t._mrb_sym_name_len=L("mrb_sym_name_len"),V0e=t._mrb_sym_dump=L("mrb_sym_dump"),H0e=t._mrb_sym_str=L("mrb_sym_str"),$0e=t._mrb_free_symtbl=L("mrb_free_symtbl"),K0e=t._mrb_default_allocf=L("mrb_default_allocf"),Y0e=t._mrb_open_allocf=L("mrb_open_allocf"),q0e=t._mrb_init_symtbl=L("mrb_init_symtbl"),Z0e=t._mrb_state_atexit=L("mrb_state_atexit"),G0e=t._mrb_fiber_resume=L("mrb_fiber_resume"),X0e=t._mrb_fiber_alive_p=L("mrb_fiber_alive_p"),Q0e=t._mrb_fiber_yield=L("mrb_fiber_yield"),J0e=t._mrb_stack_extend=L("mrb_stack_extend"),e1e=t._mrb_funcall=L("mrb_funcall"),t1e=t._mrb_realloc_simple=L("mrb_realloc_simple"),i1e=t._mrb_malloc=L("mrb_malloc"),n1e=t._mrb_exc_get_id=L("mrb_exc_get_id"),o1e=t._mrb_raise=L("mrb_raise"),r1e=t._mrb_funcall_id=L("mrb_funcall_id"),JB=t._malloc=L("malloc"),s1e=t._saveSetjmp=L("saveSetjmp"),a1e=t._mrb_calloc=L("mrb_calloc"),l1e=t._mrb_method_search_vm=L("mrb_method_search_vm"),c1e=t._mrb_realloc=L("mrb_realloc"),d1e=t._mrb_vm_run=L("mrb_vm_run"),h1e=t._mrb_raisef=L("mrb_raisef"),e7=t._free=L("free"),u1e=t._mrb_yield_with_class=L("mrb_yield_with_class"),f1e=t._mrb_singleton_class_ptr=L("mrb_singleton_class_ptr"),g1e=t._mrb_yield_argv=L("mrb_yield_argv"),m1e=t._mrb_vm_exec=L("mrb_vm_exec"),p1e=t._mrb_gv_get=L("mrb_gv_get"),_1e=t._mrb_iv_get=L("mrb_iv_get"),b1e=t._mrb_iv_set=L("mrb_iv_set"),v1e=t._mrb_const_get=L("mrb_const_get"),w1e=t._mrb_const_set=L("mrb_const_set"),C1e=t._mrb_obj_is_kind_of=L("mrb_obj_is_kind_of"),y1e=t._mrb_hash_key_p=L("mrb_hash_key_p"),S1e=t._mrb_hash_empty_p=L("mrb_hash_empty_p"),E1e=t._mrb_obj_alloc=L("mrb_obj_alloc"),x1e=t._mrb_str_plus=L("mrb_str_plus"),D1e=t._mrb_obj_eq=L("mrb_obj_eq"),L1e=t._mrb_str_new_static=L("mrb_str_new_static"),k1e=t._mrb_str_concat=L("mrb_str_concat"),I1e=t._mrb_ensure_hash_type=L("mrb_ensure_hash_type"),O1e=t._mrb_range_new=L("mrb_range_new"),T1e=t._mrb_define_method_raw=L("mrb_define_method_raw"),N1e=t._mrb_singleton_class=L("mrb_singleton_class"),P1e=t._mrb_type_convert=L("mrb_type_convert"),R1e=t._mrb_hash_new=L("mrb_hash_new"),M1e=t._mrb_hash_dup=L("mrb_hash_dup"),A1e=t._mrb_format=L("mrb_format"),F1e=t._mrb_hash_delete_key=L("mrb_hash_delete_key"),B1e=t._mrb_exc_new_str=L("mrb_exc_new_str"),j1e=t._mrb_exc_new=L("mrb_exc_new"),W1e=t._mrb_undef_method_id=L("mrb_undef_method_id"),U1e=t._mrb_alias_method=L("mrb_alias_method"),z1e=t._mrb_field_write_barrier=L("mrb_field_write_barrier"),V1e=t._mrb_hash_merge=L("mrb_hash_merge"),H1e=t._mrb_str_new_capa=L("mrb_str_new_capa"),$1e=t._mrb_str_cat=L("mrb_str_cat"),K1e=t._mrb_top_run=L("mrb_top_run"),Y1e=t._mrb_parser_parse=L("mrb_parser_parse"),q1e=t._mrb_parser_set_filename=L("mrb_parser_set_filename"),Z1e=t._mrb_parser_new=L("mrb_parser_new"),G1e=t._mrb_parser_free=L("mrb_parser_free"),X1e=t._mrb_pool_alloc=L("mrb_pool_alloc"),Q1e=t._mrb_pool_open=L("mrb_pool_open"),J1e=t._mrb_free=L("mrb_free"),eye=t._mrb_pool_close=L("mrb_pool_close"),tye=t._mrbc_partial_hook=L("mrbc_partial_hook"),iye=t._mrbc_cleanup_local_variables=L("mrbc_cleanup_local_variables"),nye=t._mrb_parser_get_filename=L("mrb_parser_get_filename"),oye=t._mrb_parse_nstring=L("mrb_parse_nstring"),rye=t._mrb_parse_string=L("mrb_parse_string"),sye=t._mrb_load_exec=L("mrb_load_exec"),aye=t._mrb_generate_code=L("mrb_generate_code"),lye=t._mrb_load_nstring=L("mrb_load_nstring"),cye=t._mrb_load_string_cxt=L("mrb_load_string_cxt"),dye=t._mrb_load_string=L("mrb_load_string"),hye=t._mrb_bug=L("mrb_bug"),uye=t._mrb_pool_realloc=L("mrb_pool_realloc"),fye=t.___errno_location=L("__errno_location"),gye=t._mrb_float_read=L("mrb_float_read"),mye=t._mrb_float_to_str=L("mrb_float_to_str"),pye=t._mrb_float_to_cstr=L("mrb_float_to_cstr"),_ye=t._mrb_func_basic_p=L("mrb_func_basic_p"),bye=t._mrb_obj_inspect=L("mrb_obj_inspect"),vye=t._mrb_obj_freeze=L("mrb_obj_freeze"),wye=t._mrb_obj_is_instance_of=L("mrb_obj_is_instance_of"),Cye=t._mrb_f_raise=L("mrb_f_raise"),yye=t._mrb_any_to_s=L("mrb_any_to_s"),Sye=t._mrb_obj_id=L("mrb_obj_id"),Eye=t._mrb_get_arg1=L("mrb_get_arg1"),xye=t._mrb_obj_equal=L("mrb_obj_equal"),Dye=t._mrb_obj_class=L("mrb_obj_class"),Lye=t._mrb_make_exception=L("mrb_make_exception"),kye=t._mrb_no_method_error=L("mrb_no_method_error"),Iye=t._mrb_obj_clone=L("mrb_obj_clone"),Oye=t._mrb_obj_dup=L("mrb_obj_dup"),Tye=t._mrb_to_int=L("mrb_to_int"),Nye=t._mrb_to_str=L("mrb_to_str"),Pye=t._mrb_include_module=L("mrb_include_module"),Rye=t._mrb_equal=L("mrb_equal"),Mye=t._mrb_check_type=L("mrb_check_type"),Aye=t._mrb_argnum_error=L("mrb_argnum_error"),Fye=t._mrb_iv_name_sym_check=L("mrb_iv_name_sym_check"),Bye=t._mrb_iv_remove=L("mrb_iv_remove"),jye=t._mrb_name_error=L("mrb_name_error"),Wye=t._mrb_respond_to=L("mrb_respond_to"),Uye=t._mrb_ensure_array_type=L("mrb_ensure_array_type"),zye=t._mrb_ary_entry=L("mrb_ary_entry"),Vye=t._mrb_proc_new_cfunc=L("mrb_proc_new_cfunc"),Hye=t._mrb_proc_new_cfunc_with_env=L("mrb_proc_new_cfunc_with_env"),$ye=t._mrb_closure_new_cfunc=L("mrb_closure_new_cfunc"),Kye=t._mrb_proc_cfunc_env_get=L("mrb_proc_cfunc_env_get"),Yye=t._mrb_open_core=L("mrb_open_core"),qye=t._mrb_open=L("mrb_open"),Zye=t._mrb_debug_info_free=L("mrb_debug_info_free"),Gye=t._mrb_free_context=L("mrb_free_context"),Xye=t._mrb_add_irep=L("mrb_add_irep"),Qye=t._mrb_gc_mark=L("mrb_gc_mark"),Jye=t._mrb_range_ptr=L("mrb_range_ptr"),eSe=t._mrb_cmp=L("mrb_cmp"),tSe=t._mrb_obj_as_string=L("mrb_obj_as_string"),iSe=t._mrb_str_dup=L("mrb_str_dup"),nSe=t._mrb_str_cat_str=L("mrb_str_cat_str"),oSe=t._mrb_inspect=L("mrb_inspect"),rSe=t._mrb_eql=L("mrb_eql"),sSe=t._mrb_ensure=L("mrb_ensure"),aSe=t._mrb_rescue=L("mrb_rescue"),lSe=t._mrb_rescue_exceptions=L("mrb_rescue_exceptions"),cSe=t._mrb_debug_info_alloc=L("mrb_debug_info_alloc"),dSe=t._mrb_debug_info_append_file=L("mrb_debug_info_append_file"),hSe=t._mrb_str_new_cstr=L("mrb_str_new_cstr"),uSe=t._mrb_undef_class_method=L("mrb_undef_class_method"),fSe=t._mrb_obj_classname=L("mrb_obj_classname"),gSe=t._mrb_str_cat_cstr=L("mrb_str_cat_cstr"),mSe=t._mrb_ptr_to_str=L("mrb_ptr_to_str"),pSe=t._mrb_type_convert_check=L("mrb_type_convert_check"),_Se=t._mrb_flo_to_fixnum=L("mrb_flo_to_fixnum"),bSe=t._mrb_convert_to_integer=L("mrb_convert_to_integer"),vSe=t._mrb_str_to_inum=L("mrb_str_to_inum"),wSe=t._mrb_check_string_type=L("mrb_check_string_type"),CSe=t._mrb_Integer=L("mrb_Integer"),ySe=t._mrb_Float=L("mrb_Float"),SSe=t._mrb_str_to_dbl=L("mrb_str_to_dbl"),ESe=t._mrb_ensure_string_type=L("mrb_ensure_string_type"),xSe=t._mrb_string_type=L("mrb_string_type"),DSe=t._mrb_check_array_type=L("mrb_check_array_type"),LSe=t._mrb_check_hash_type=L("mrb_check_hash_type"),kSe=t._mrb_data_check_type=L("mrb_data_check_type"),ISe=t._mrb_data_get_ptr=L("mrb_data_get_ptr"),OSe=t._mrb_obj_to_sym=L("mrb_obj_to_sym"),TSe=t._mrb_int_id=L("mrb_int_id"),NSe=t._mrb_float_id=L("mrb_float_id"),PSe=t._mrb_malloc_simple=L("mrb_malloc_simple"),RSe=t._mrb_pool_can_realloc=L("mrb_pool_can_realloc"),MSe=t._mrb_mt_foreach=L("mrb_mt_foreach"),ASe=t._mrb_class_path=L("mrb_class_path"),FSe=t._mrb_define_module_id=L("mrb_define_module_id"),BSe=t._mrb_obj_iv_defined=L("mrb_obj_iv_defined"),jSe=t._mrb_obj_iv_get=L("mrb_obj_iv_get"),WSe=t._mrb_obj_iv_set=L("mrb_obj_iv_set"),USe=t._mrb_define_module_under_id=L("mrb_define_module_under_id"),zSe=t._mrb_define_class_id=L("mrb_define_class_id"),VSe=t._mrb_warn=L("mrb_warn"),HSe=t._mrb_class_new=L("mrb_class_new"),$Se=t._mrb_class_real=L("mrb_class_real"),KSe=t._mrb_const_defined=L("mrb_const_defined"),YSe=t._mrb_class_defined_id=L("mrb_class_defined_id"),qSe=t._mrb_class_defined_under_id=L("mrb_class_defined_under_id"),ZSe=t._mrb_class_get_under_id=L("mrb_class_get_under_id"),GSe=t._mrb_class_get_id=L("mrb_class_get_id"),XSe=t._mrb_module_get_under_id=L("mrb_module_get_under_id"),QSe=t._mrb_module_get_id=L("mrb_module_get_id"),JSe=t._mrb_define_class_under_id=L("mrb_define_class_under_id"),eEe=t._mrb_frozen_error=L("mrb_frozen_error"),tEe=t._mrb_define_method_id=L("mrb_define_method_id"),iEe=t._mrb_notimplement=L("mrb_notimplement"),nEe=t._mrb_notimplement_m=L("mrb_notimplement_m"),oEe=t._mrb_get_argc=L("mrb_get_argc"),rEe=t._mrb_get_argv=L("mrb_get_argv"),sEe=t._mrb_string_cstr=L("mrb_string_cstr"),aEe=t._mrb_prepend_module=L("mrb_prepend_module"),lEe=t._mrb_define_singleton_method_id=L("mrb_define_singleton_method_id"),cEe=t._mrb_define_class_method_id=L("mrb_define_class_method_id"),dEe=t._mrb_define_module_function_id=L("mrb_define_module_function_id"),hEe=t._mrb_method_search=L("mrb_method_search"),uEe=t._mrb_obj_respond_to=L("mrb_obj_respond_to"),fEe=t._mrb_class_name=L("mrb_class_name"),gEe=t._mrb_module_new=L("mrb_module_new"),mEe=t._mrb_define_alias=L("mrb_define_alias"),pEe=t._mrb_define_alias_id=L("mrb_define_alias_id"),_Ee=t._mrb_undef_method=L("mrb_undef_method"),bEe=t._mrb_undef_class_method_id=L("mrb_undef_class_method_id"),vEe=t._mrb_remove_method=L("mrb_remove_method"),wEe=t._mrb_iv_copy=L("mrb_iv_copy"),CEe=t._mrb_define_const_id=L("mrb_define_const_id"),yEe=t._mrb_str_index=L("mrb_str_index"),SEe=t._mrb_alloca=L("mrb_alloca"),EEe=t._mrb_debug_get_filename=L("mrb_debug_get_filename"),xEe=t._mrb_debug_get_line=L("mrb_debug_get_line"),DEe=t._mrb_str_resize=L("mrb_str_resize"),LEe=t._mrb_hash_fetch=L("mrb_hash_fetch"),kEe=t._mrb_fixnum_to_str=L("mrb_fixnum_to_str"),IEe=t._mrb_iv_foreach=L("mrb_iv_foreach"),OEe=t._mrb_iv_defined=L("mrb_iv_defined"),TEe=t._mrb_iv_name_sym_p=L("mrb_iv_name_sym_p"),NEe=t._mrb_cv_get=L("mrb_cv_get"),PEe=t._mrb_mod_cv_set=L("mrb_mod_cv_set"),REe=t._mrb_cv_set=L("mrb_cv_set"),MEe=t._mrb_cv_defined=L("mrb_cv_defined"),AEe=t._mrb_const_remove=L("mrb_const_remove"),FEe=t._mrb_gv_remove=L("mrb_gv_remove"),BEe=t._mrb_attr_get=L("mrb_attr_get"),jEe=t._mrb_print_backtrace=L("mrb_print_backtrace"),WEe=t._mrb_exc_backtrace=L("mrb_exc_backtrace"),UEe=t._mrb_get_backtrace=L("mrb_get_backtrace"),zEe=t._mrb_hash_foreach=L("mrb_hash_foreach"),VEe=t._mrb_hash_clear=L("mrb_hash_clear"),HEe=t._mrb_hash_size=L("mrb_hash_size"),$Ee=t._mrb_hash_values=L("mrb_hash_values"),KEe=t._mrb_str_equal=L("mrb_str_equal"),YEe=t._mrb_num_mul=L("mrb_num_mul"),qEe=t._mrb_num_plus=L("mrb_num_plus"),ZEe=t._mrb_num_minus=L("mrb_num_minus"),GEe=t._mrb_str_cmp=L("mrb_str_cmp"),XEe=t._mrb_vformat=L("mrb_vformat"),QEe=t._mrb_p=L("mrb_p"),JEe=t._mrb_sys_fail=L("mrb_sys_fail"),exe=t._mrb_str_strlen=L("mrb_str_strlen"),txe=t._mrb_str_modify_keep_ascii=L("mrb_str_modify_keep_ascii"),ixe=t._mrb_str_modify=L("mrb_str_modify"),nxe=t._mrb_str_to_cstr=L("mrb_str_to_cstr"),oxe=t._mrb_str_substr=L("mrb_str_substr"),rxe=t._mrb_str_intern=L("mrb_str_intern"),sxe=t._mrb_cstr_to_inum=L("mrb_cstr_to_inum"),axe=t._mrb_string_value_cstr=L("mrb_string_value_cstr"),lxe=t._mrb_cstr_to_dbl=L("mrb_cstr_to_dbl"),cxe=t._mrb_str_append=L("mrb_str_append"),dxe=t._mrb_print_error=L("mrb_print_error"),hxe=t._mrb_show_version=L("mrb_show_version"),uxe=t._mrb_show_copyright=L("mrb_show_copyright"),fxe=t._mrb_sys_range_excl=L("mrb_sys_range_excl"),gxe=t._mrb_sys_obj_ptr=L("mrb_sys_obj_ptr"),mxe=t._mrb_sys_proc_ptr=L("mrb_sys_proc_ptr"),pxe=t._mrb_sys_class_to_rclass=L("mrb_sys_class_to_rclass"),_xe=t._mrb_sys_data_value=L("mrb_sys_data_value"),bxe=t._mrb_sys_proc_value=L("mrb_sys_proc_value"),vxe=t._mrb_sys_raise_current_exception=L("mrb_sys_raise_current_exception"),wxe=t._mrb_ary_modify=L("mrb_ary_modify"),Cxe=t._mrb_object_dead_p=L("mrb_object_dead_p"),yxe=t._mrb_gc_register=L("mrb_gc_register"),Sxe=t._mrb_gc_unregister=L("mrb_gc_unregister"),Exe=t._mrb_garbage_collect=L("mrb_garbage_collect"),xxe=t._sysconf=L("sysconf"),Dxe=t._rust_eh_personality=L("rust_eh_personality"),Lxe=t._emscripten_main_thread_process_queued_calls=L("emscripten_main_thread_process_queued_calls"),CN=t._emscripten_stack_get_end=function(){return(CN=t._emscripten_stack_get_end=t.asm.emscripten_stack_get_end).apply(null,arguments)},kxe=t._fflush=L("fflush"),Ixe=t._ntohs=L("ntohs"),Oxe=t._htons=L("htons"),Txe=t._htonl=L("htonl"),pi=t.stackSave=L("stackSave"),_i=t.stackRestore=L("stackRestore"),PE=t.stackAlloc=L("stackAlloc"),t7=t._emscripten_stack_init=function(){return(t7=t._emscripten_stack_init=t.asm.emscripten_stack_init).apply(null,arguments)},Cie=t._emscripten_stack_get_free=function(){return(Cie=t._emscripten_stack_get_free=t.asm.emscripten_stack_get_free).apply(null,arguments)},bi=t._setThrew=L("setThrew"),i7=t.___cxa_can_catch=L("__cxa_can_catch"),yie=t.___cxa_is_pointer_type=L("__cxa_is_pointer_type"),Sie=t.dynCall_ji=L("dynCall_ji"),Eie=t.dynCall_viiiji=L("dynCall_viiiji"),xie=t.dynCall_jii=L("dynCall_jii"),Die=t.dynCall_viij=L("dynCall_viij"),Lie=t.dynCall_ij=L("dynCall_ij"),kie=t.dynCall_jiii=L("dynCall_jiii"),Nxe=t.dynCall_viiiijj=L("dynCall_viiiijj"),Iie=t.dynCall_viiiiijji=L("dynCall_viiiiijji"),Oie=t.dynCall_vij=L("dynCall_vij"),Tie=t.dynCall_viiijj=L("dynCall_viiijj"),Nie=t.dynCall_vijj=L("dynCall_vijj"),Pie=t.dynCall_viiij=L("dynCall_viiij"),Rie=t.dynCall_viiji=L("dynCall_viiji"),Mie=t.dynCall_viiiij=L("dynCall_viiiij"),Aie=t.dynCall_viiiijii=L("dynCall_viiiijii"),Fie=t.dynCall_jijj=L("dynCall_jijj"),Bie=t.dynCall_jiiii=L("dynCall_jiiii"),jie=t.dynCall_j=L("dynCall_j");function Wie(_,C){var E=pi();try{ti.get(_)(C)}catch(I){if(_i(E),I!==I+0&&I!=="longjmp")throw I;bi(1,0)}}function Uie(_){var C=pi();try{ti.get(_)()}catch(E){if(_i(C),E!==E+0&&E!=="longjmp")throw E;bi(1,0)}}function zie(_,C,E,I){var M=pi();try{ti.get(_)(C,E,I)}catch(U){if(_i(M),U!==U+0&&U!=="longjmp")throw U;bi(1,0)}}function Vie(_,C,E){var I=pi();try{ti.get(_)(C,E)}catch(M){if(_i(I),M!==M+0&&M!=="longjmp")throw M;bi(1,0)}}function Hie(_,C,E){var I=pi();try{return ti.get(_)(C,E)}catch(M){if(_i(I),M!==M+0&&M!=="longjmp")throw M;bi(1,0)}}function $ie(_,C,E,I){var M=pi();try{return ti.get(_)(C,E,I)}catch(U){if(_i(M),U!==U+0&&U!=="longjmp")throw U;bi(1,0)}}function Kie(_,C,E,I,M,U){var K=pi();try{ti.get(_)(C,E,I,M,U)}catch(X){if(_i(K),X!==X+0&&X!=="longjmp")throw X;bi(1,0)}}function Yie(_,C,E,I,M,U,K,X,fe){var Oe=pi();try{ti.get(_)(C,E,I,M,U,K,X,fe)}catch(Be){if(_i(Oe),Be!==Be+0&&Be!=="longjmp")throw Be;bi(1,0)}}function qie(_,C){var E=pi();try{return ti.get(_)(C)}catch(I){if(_i(E),I!==I+0&&I!=="longjmp")throw I;bi(1,0)}}function Zie(_,C,E,I,M){var U=pi();try{ti.get(_)(C,E,I,M)}catch(K){if(_i(U),K!==K+0&&K!=="longjmp")throw K;bi(1,0)}}function Gie(_){var C=pi();try{return ti.get(_)()}catch(E){if(_i(C),E!==E+0&&E!=="longjmp")throw E;bi(1,0)}}function Xie(_,C,E,I,M){var U=pi();try{return ti.get(_)(C,E,I,M)}catch(K){if(_i(U),K!==K+0&&K!=="longjmp")throw K;bi(1,0)}}function Qie(_,C,E,I,M,U,K){var X=pi();try{ti.get(_)(C,E,I,M,U,K)}catch(fe){if(_i(X),fe!==fe+0&&fe!=="longjmp")throw fe;bi(1,0)}}function Jie(_,C,E,I){var M=pi();try{ti.get(_)(C,E,I)}catch(U){if(_i(M),U!==U+0&&U!=="longjmp")throw U;bi(1,0)}}function ene(_,C){var E=pi();try{return ti.get(_)(C)}catch(I){if(_i(E),I!==I+0&&I!=="longjmp")throw I;bi(1,0)}}function tne(_,C,E){var I=pi();try{ti.get(_)(C,E)}catch(M){if(_i(I),M!==M+0&&M!=="longjmp")throw M;bi(1,0)}}function ine(_,C,E){var I=pi();try{return ti.get(_)(C,E)}catch(M){if(_i(I),M!==M+0&&M!=="longjmp")throw M;bi(1,0)}}function nne(_,C,E,I,M,U,K,X){var fe=pi();try{ti.get(_)(C,E,I,M,U,K,X)}catch(Oe){if(_i(fe),Oe!==Oe+0&&Oe!=="longjmp")throw Oe;bi(1,0)}}function one(_,C,E,I){var M=pi();try{return ti.get(_)(C,E,I)}catch(U){if(_i(M),U!==U+0&&U!=="longjmp")throw U;bi(1,0)}}function rne(_,C,E,I,M,U,K,X,fe,Oe,Be,ft,Ye){var Et=pi();try{return ti.get(_)(C,E,I,M,U,K,X,fe,Oe,Be,ft,Ye)}catch(lt){if(_i(Et),lt!==lt+0&&lt!=="longjmp")throw lt;bi(1,0)}}function sne(_,C,E,I,M,U){var K=pi();try{return ti.get(_)(C,E,I,M,U)}catch(X){if(_i(K),X!==X+0&&X!=="longjmp")throw X;bi(1,0)}}function ane(_,C,E,I,M,U,K){var X=pi();try{Eie(_,C,E,I,M,U,K)}catch(fe){if(_i(X),fe!==fe+0&&fe!=="longjmp")throw fe;bi(1,0)}}function lne(_,C,E){var I=pi();try{return xie(_,C,E)}catch(M){if(_i(I),M!==M+0&&M!=="longjmp")throw M;bi(1,0)}}function cne(_,C,E,I,M){var U=pi();try{Die(_,C,E,I,M)}catch(K){if(_i(U),K!==K+0&&K!=="longjmp")throw K;bi(1,0)}}function dne(_,C,E){var I=pi();try{return Lie(_,C,E)}catch(M){if(_i(I),M!==M+0&&M!=="longjmp")throw M;bi(1,0)}}function hne(_,C,E,I){var M=pi();try{return kie(_,C,E,I)}catch(U){if(_i(M),U!==U+0&&U!=="longjmp")throw U;bi(1,0)}}function une(_,C,E,I){var M=pi();try{Oie(_,C,E,I)}catch(U){if(_i(M),U!==U+0&&U!=="longjmp")throw U;bi(1,0)}}function fne(_,C,E,I,M,U,K,X){var fe=pi();try{Tie(_,C,E,I,M,U,K,X)}catch(Oe){if(_i(fe),Oe!==Oe+0&&Oe!=="longjmp")throw Oe;bi(1,0)}}function gne(_,C){var E=pi();try{return Sie(_,C)}catch(I){if(_i(E),I!==I+0&&I!=="longjmp")throw I;bi(1,0)}}function mne(_,C,E,I,M,U){var K=pi();try{Nie(_,C,E,I,M,U)}catch(X){if(_i(K),X!==X+0&&X!=="longjmp")throw X;bi(1,0)}}function pne(_,C,E,I,M,U){var K=pi();try{Pie(_,C,E,I,M,U)}catch(X){if(_i(K),X!==X+0&&X!=="longjmp")throw X;bi(1,0)}}function _ne(_,C,E,I,M,U,K,X,fe,Oe,Be){var ft=pi();try{Iie(_,C,E,I,M,U,K,X,fe,Oe,Be)}catch(Ye){if(_i(ft),Ye!==Ye+0&&Ye!=="longjmp")throw Ye;bi(1,0)}}function bne(_,C,E,I,M,U){var K=pi();try{Rie(_,C,E,I,M,U)}catch(X){if(_i(K),X!==X+0&&X!=="longjmp")throw X;bi(1,0)}}function vne(_,C,E,I,M,U,K){var X=pi();try{Mie(_,C,E,I,M,U,K)}catch(fe){if(_i(X),fe!==fe+0&&fe!=="longjmp")throw fe;bi(1,0)}}function wne(_,C,E,I,M,U,K,X,fe){var Oe=pi();try{Aie(_,C,E,I,M,U,K,X,fe)}catch(Be){if(_i(Oe),Be!==Be+0&&Be!=="longjmp")throw Be;bi(1,0)}}function Cne(_,C,E,I,M,U){var K=pi();try{return Fie(_,C,E,I,M,U)}catch(X){if(_i(K),X!==X+0&&X!=="longjmp")throw X;bi(1,0)}}function yne(_,C,E,I,M){var U=pi();try{return Bie(_,C,E,I,M)}catch(K){if(_i(U),K!==K+0&&K!=="longjmp")throw K;bi(1,0)}}function Sne(_){var C=pi();try{return jie(_)}catch(E){if(_i(C),E!==E+0&&E!=="longjmp")throw E;bi(1,0)}}Object.getOwnPropertyDescriptor(t,"intArrayFromString")||(t.intArrayFromString=function(){m("'intArrayFromString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"intArrayToString")||(t.intArrayToString=function(){m("'intArrayToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"ccall")||(t.ccall=function(){m("'ccall' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"cwrap")||(t.cwrap=function(){m("'cwrap' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"setValue")||(t.setValue=function(){m("'setValue' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getValue")||(t.getValue=function(){m("'getValue' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"allocate")||(t.allocate=function(){m("'allocate' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"UTF8ArrayToString")||(t.UTF8ArrayToString=function(){m("'UTF8ArrayToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"UTF8ToString")||(t.UTF8ToString=function(){m("'UTF8ToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"stringToUTF8Array")||(t.stringToUTF8Array=function(){m("'stringToUTF8Array' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"stringToUTF8")||(t.stringToUTF8=function(){m("'stringToUTF8' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"lengthBytesUTF8")||(t.lengthBytesUTF8=function(){m("'lengthBytesUTF8' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"stackTrace")||(t.stackTrace=function(){m("'stackTrace' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"addOnPreRun")||(t.addOnPreRun=function(){m("'addOnPreRun' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"addOnInit")||(t.addOnInit=function(){m("'addOnInit' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"addOnPreMain")||(t.addOnPreMain=function(){m("'addOnPreMain' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"addOnExit")||(t.addOnExit=function(){m("'addOnExit' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"addOnPostRun")||(t.addOnPostRun=function(){m("'addOnPostRun' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"writeStringToMemory")||(t.writeStringToMemory=function(){m("'writeStringToMemory' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"writeArrayToMemory")||(t.writeArrayToMemory=function(){m("'writeArrayToMemory' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"writeAsciiToMemory")||(t.writeAsciiToMemory=function(){m("'writeAsciiToMemory' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"addRunDependency")||(t.addRunDependency=function(){m("'addRunDependency' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(t,"removeRunDependency")||(t.removeRunDependency=function(){m("'removeRunDependency' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(t,"FS_createFolder")||(t.FS_createFolder=function(){m("'FS_createFolder' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"FS_createPath")||(t.FS_createPath=function(){m("'FS_createPath' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(t,"FS_createDataFile")||(t.FS_createDataFile=function(){m("'FS_createDataFile' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(t,"FS_createPreloadedFile")||(t.FS_createPreloadedFile=function(){m("'FS_createPreloadedFile' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(t,"FS_createLazyFile")||(t.FS_createLazyFile=function(){m("'FS_createLazyFile' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(t,"FS_createLink")||(t.FS_createLink=function(){m("'FS_createLink' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"FS_createDevice")||(t.FS_createDevice=function(){m("'FS_createDevice' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(t,"FS_unlink")||(t.FS_unlink=function(){m("'FS_unlink' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(t,"getLEB")||(t.getLEB=function(){m("'getLEB' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getFunctionTables")||(t.getFunctionTables=function(){m("'getFunctionTables' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"alignFunctionTables")||(t.alignFunctionTables=function(){m("'alignFunctionTables' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerFunctions")||(t.registerFunctions=function(){m("'registerFunctions' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"addFunction")||(t.addFunction=function(){m("'addFunction' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"removeFunction")||(t.removeFunction=function(){m("'removeFunction' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getFuncWrapper")||(t.getFuncWrapper=function(){m("'getFuncWrapper' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"prettyPrint")||(t.prettyPrint=function(){m("'prettyPrint' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"dynCall")||(t.dynCall=function(){m("'dynCall' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getCompilerSetting")||(t.getCompilerSetting=function(){m("'getCompilerSetting' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"print")||(t.print=function(){m("'print' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"printErr")||(t.printErr=function(){m("'printErr' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getTempRet0")||(t.getTempRet0=function(){m("'getTempRet0' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"setTempRet0")||(t.setTempRet0=function(){m("'setTempRet0' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"callMain")||(t.callMain=function(){m("'callMain' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"abort")||(t.abort=function(){m("'abort' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"keepRuntimeAlive")||(t.keepRuntimeAlive=function(){m("'keepRuntimeAlive' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"zeroMemory")||(t.zeroMemory=function(){m("'zeroMemory' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"stringToNewUTF8")||(t.stringToNewUTF8=function(){m("'stringToNewUTF8' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"setFileTime")||(t.setFileTime=function(){m("'setFileTime' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"emscripten_realloc_buffer")||(t.emscripten_realloc_buffer=function(){m("'emscripten_realloc_buffer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"ENV")||(t.ENV=function(){m("'ENV' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"ERRNO_CODES")||(t.ERRNO_CODES=function(){m("'ERRNO_CODES' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"ERRNO_MESSAGES")||(t.ERRNO_MESSAGES=function(){m("'ERRNO_MESSAGES' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"setErrNo")||(t.setErrNo=function(){m("'setErrNo' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"inetPton4")||(t.inetPton4=function(){m("'inetPton4' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"inetNtop4")||(t.inetNtop4=function(){m("'inetNtop4' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"inetPton6")||(t.inetPton6=function(){m("'inetPton6' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"inetNtop6")||(t.inetNtop6=function(){m("'inetNtop6' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"readSockaddr")||(t.readSockaddr=function(){m("'readSockaddr' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"writeSockaddr")||(t.writeSockaddr=function(){m("'writeSockaddr' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"DNS")||(t.DNS=function(){m("'DNS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getHostByName")||(t.getHostByName=function(){m("'getHostByName' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"GAI_ERRNO_MESSAGES")||(t.GAI_ERRNO_MESSAGES=function(){m("'GAI_ERRNO_MESSAGES' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"Protocols")||(t.Protocols=function(){m("'Protocols' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"Sockets")||(t.Sockets=function(){m("'Sockets' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getRandomDevice")||(t.getRandomDevice=function(){m("'getRandomDevice' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"traverseStack")||(t.traverseStack=function(){m("'traverseStack' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"UNWIND_CACHE")||(t.UNWIND_CACHE=function(){m("'UNWIND_CACHE' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"withBuiltinMalloc")||(t.withBuiltinMalloc=function(){m("'withBuiltinMalloc' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"readAsmConstArgsArray")||(t.readAsmConstArgsArray=function(){m("'readAsmConstArgsArray' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"readAsmConstArgs")||(t.readAsmConstArgs=function(){m("'readAsmConstArgs' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"mainThreadEM_ASM")||(t.mainThreadEM_ASM=function(){m("'mainThreadEM_ASM' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"jstoi_q")||(t.jstoi_q=function(){m("'jstoi_q' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"jstoi_s")||(t.jstoi_s=function(){m("'jstoi_s' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getExecutableName")||(t.getExecutableName=function(){m("'getExecutableName' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"listenOnce")||(t.listenOnce=function(){m("'listenOnce' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"autoResumeAudioContext")||(t.autoResumeAudioContext=function(){m("'autoResumeAudioContext' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"dynCallLegacy")||(t.dynCallLegacy=function(){m("'dynCallLegacy' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getDynCaller")||(t.getDynCaller=function(){m("'getDynCaller' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"dynCall")||(t.dynCall=function(){m("'dynCall' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"callRuntimeCallbacks")||(t.callRuntimeCallbacks=function(){m("'callRuntimeCallbacks' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"runtimeKeepalivePush")||(t.runtimeKeepalivePush=function(){m("'runtimeKeepalivePush' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"runtimeKeepalivePop")||(t.runtimeKeepalivePop=function(){m("'runtimeKeepalivePop' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"callUserCallback")||(t.callUserCallback=function(){m("'callUserCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"maybeExit")||(t.maybeExit=function(){m("'maybeExit' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"safeSetTimeout")||(t.safeSetTimeout=function(){m("'safeSetTimeout' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"asmjsMangle")||(t.asmjsMangle=function(){m("'asmjsMangle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"asyncLoad")||(t.asyncLoad=function(){m("'asyncLoad' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"alignMemory")||(t.alignMemory=function(){m("'alignMemory' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"mmapAlloc")||(t.mmapAlloc=function(){m("'mmapAlloc' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"reallyNegative")||(t.reallyNegative=function(){m("'reallyNegative' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"unSign")||(t.unSign=function(){m("'unSign' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"reSign")||(t.reSign=function(){m("'reSign' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"formatString")||(t.formatString=function(){m("'formatString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"PATH")||(t.PATH=function(){m("'PATH' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"PATH_FS")||(t.PATH_FS=function(){m("'PATH_FS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"SYSCALLS")||(t.SYSCALLS=function(){m("'SYSCALLS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"syscallMmap2")||(t.syscallMmap2=function(){m("'syscallMmap2' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"syscallMunmap")||(t.syscallMunmap=function(){m("'syscallMunmap' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getSocketFromFD")||(t.getSocketFromFD=function(){m("'getSocketFromFD' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getSocketAddress")||(t.getSocketAddress=function(){m("'getSocketAddress' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"JSEvents")||(t.JSEvents=function(){m("'JSEvents' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerKeyEventCallback")||(t.registerKeyEventCallback=function(){m("'registerKeyEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"specialHTMLTargets")||(t.specialHTMLTargets=function(){m("'specialHTMLTargets' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"maybeCStringToJsString")||(t.maybeCStringToJsString=function(){m("'maybeCStringToJsString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"findEventTarget")||(t.findEventTarget=function(){m("'findEventTarget' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"findCanvasEventTarget")||(t.findCanvasEventTarget=function(){m("'findCanvasEventTarget' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getBoundingClientRect")||(t.getBoundingClientRect=function(){m("'getBoundingClientRect' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"fillMouseEventData")||(t.fillMouseEventData=function(){m("'fillMouseEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerMouseEventCallback")||(t.registerMouseEventCallback=function(){m("'registerMouseEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerWheelEventCallback")||(t.registerWheelEventCallback=function(){m("'registerWheelEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerUiEventCallback")||(t.registerUiEventCallback=function(){m("'registerUiEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerFocusEventCallback")||(t.registerFocusEventCallback=function(){m("'registerFocusEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"fillDeviceOrientationEventData")||(t.fillDeviceOrientationEventData=function(){m("'fillDeviceOrientationEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerDeviceOrientationEventCallback")||(t.registerDeviceOrientationEventCallback=function(){m("'registerDeviceOrientationEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"fillDeviceMotionEventData")||(t.fillDeviceMotionEventData=function(){m("'fillDeviceMotionEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerDeviceMotionEventCallback")||(t.registerDeviceMotionEventCallback=function(){m("'registerDeviceMotionEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"screenOrientation")||(t.screenOrientation=function(){m("'screenOrientation' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"fillOrientationChangeEventData")||(t.fillOrientationChangeEventData=function(){m("'fillOrientationChangeEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerOrientationChangeEventCallback")||(t.registerOrientationChangeEventCallback=function(){m("'registerOrientationChangeEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"fillFullscreenChangeEventData")||(t.fillFullscreenChangeEventData=function(){m("'fillFullscreenChangeEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerFullscreenChangeEventCallback")||(t.registerFullscreenChangeEventCallback=function(){m("'registerFullscreenChangeEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerRestoreOldStyle")||(t.registerRestoreOldStyle=function(){m("'registerRestoreOldStyle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"hideEverythingExceptGivenElement")||(t.hideEverythingExceptGivenElement=function(){m("'hideEverythingExceptGivenElement' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"restoreHiddenElements")||(t.restoreHiddenElements=function(){m("'restoreHiddenElements' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"setLetterbox")||(t.setLetterbox=function(){m("'setLetterbox' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"currentFullscreenStrategy")||(t.currentFullscreenStrategy=function(){m("'currentFullscreenStrategy' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"restoreOldWindowedStyle")||(t.restoreOldWindowedStyle=function(){m("'restoreOldWindowedStyle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"softFullscreenResizeWebGLRenderTarget")||(t.softFullscreenResizeWebGLRenderTarget=function(){m("'softFullscreenResizeWebGLRenderTarget' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"doRequestFullscreen")||(t.doRequestFullscreen=function(){m("'doRequestFullscreen' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"fillPointerlockChangeEventData")||(t.fillPointerlockChangeEventData=function(){m("'fillPointerlockChangeEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerPointerlockChangeEventCallback")||(t.registerPointerlockChangeEventCallback=function(){m("'registerPointerlockChangeEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerPointerlockErrorEventCallback")||(t.registerPointerlockErrorEventCallback=function(){m("'registerPointerlockErrorEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"requestPointerLock")||(t.requestPointerLock=function(){m("'requestPointerLock' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"fillVisibilityChangeEventData")||(t.fillVisibilityChangeEventData=function(){m("'fillVisibilityChangeEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerVisibilityChangeEventCallback")||(t.registerVisibilityChangeEventCallback=function(){m("'registerVisibilityChangeEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerTouchEventCallback")||(t.registerTouchEventCallback=function(){m("'registerTouchEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"fillGamepadEventData")||(t.fillGamepadEventData=function(){m("'fillGamepadEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerGamepadEventCallback")||(t.registerGamepadEventCallback=function(){m("'registerGamepadEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerBeforeUnloadEventCallback")||(t.registerBeforeUnloadEventCallback=function(){m("'registerBeforeUnloadEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"fillBatteryEventData")||(t.fillBatteryEventData=function(){m("'fillBatteryEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"battery")||(t.battery=function(){m("'battery' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"registerBatteryEventCallback")||(t.registerBatteryEventCallback=function(){m("'registerBatteryEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"setCanvasElementSize")||(t.setCanvasElementSize=function(){m("'setCanvasElementSize' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getCanvasElementSize")||(t.getCanvasElementSize=function(){m("'getCanvasElementSize' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"polyfillSetImmediate")||(t.polyfillSetImmediate=function(){m("'polyfillSetImmediate' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"demangle")||(t.demangle=function(){m("'demangle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"demangleAll")||(t.demangleAll=function(){m("'demangleAll' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"jsStackTrace")||(t.jsStackTrace=function(){m("'jsStackTrace' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"stackTrace")||(t.stackTrace=function(){m("'stackTrace' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getEnvStrings")||(t.getEnvStrings=function(){m("'getEnvStrings' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"checkWasiClock")||(t.checkWasiClock=function(){m("'checkWasiClock' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"writeI53ToI64")||(t.writeI53ToI64=function(){m("'writeI53ToI64' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"writeI53ToI64Clamped")||(t.writeI53ToI64Clamped=function(){m("'writeI53ToI64Clamped' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"writeI53ToI64Signaling")||(t.writeI53ToI64Signaling=function(){m("'writeI53ToI64Signaling' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"writeI53ToU64Clamped")||(t.writeI53ToU64Clamped=function(){m("'writeI53ToU64Clamped' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"writeI53ToU64Signaling")||(t.writeI53ToU64Signaling=function(){m("'writeI53ToU64Signaling' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"readI53FromI64")||(t.readI53FromI64=function(){m("'readI53FromI64' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"readI53FromU64")||(t.readI53FromU64=function(){m("'readI53FromU64' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"convertI32PairToI53")||(t.convertI32PairToI53=function(){m("'convertI32PairToI53' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"convertU32PairToI53")||(t.convertU32PairToI53=function(){m("'convertU32PairToI53' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"uncaughtExceptionCount")||(t.uncaughtExceptionCount=function(){m("'uncaughtExceptionCount' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"exceptionLast")||(t.exceptionLast=function(){m("'exceptionLast' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"exceptionCaught")||(t.exceptionCaught=function(){m("'exceptionCaught' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"ExceptionInfo")||(t.ExceptionInfo=function(){m("'ExceptionInfo' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"CatchInfo")||(t.CatchInfo=function(){m("'CatchInfo' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"exception_addRef")||(t.exception_addRef=function(){m("'exception_addRef' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"exception_decRef")||(t.exception_decRef=function(){m("'exception_decRef' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"Browser")||(t.Browser=function(){m("'Browser' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"funcWrappers")||(t.funcWrappers=function(){m("'funcWrappers' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"getFuncWrapper")||(t.getFuncWrapper=function(){m("'getFuncWrapper' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"setMainLoop")||(t.setMainLoop=function(){m("'setMainLoop' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"wget")||(t.wget=function(){m("'wget' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"FS")||(t.FS=function(){m("'FS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"MEMFS")||(t.MEMFS=function(){m("'MEMFS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"TTY")||(t.TTY=function(){m("'TTY' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"PIPEFS")||(t.PIPEFS=function(){m("'PIPEFS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"SOCKFS")||(t.SOCKFS=function(){m("'SOCKFS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"_setNetworkCallback")||(t._setNetworkCallback=function(){m("'_setNetworkCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"tempFixedLengthArray")||(t.tempFixedLengthArray=function(){m("'tempFixedLengthArray' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"miniTempWebGLFloatBuffers")||(t.miniTempWebGLFloatBuffers=function(){m("'miniTempWebGLFloatBuffers' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"heapObjectForWebGLType")||(t.heapObjectForWebGLType=function(){m("'heapObjectForWebGLType' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"heapAccessShiftForWebGLHeap")||(t.heapAccessShiftForWebGLHeap=function(){m("'heapAccessShiftForWebGLHeap' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"GL")||(t.GL=function(){m("'GL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"emscriptenWebGLGet")||(t.emscriptenWebGLGet=function(){m("'emscriptenWebGLGet' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"computeUnpackAlignedImageSize")||(t.computeUnpackAlignedImageSize=function(){m("'computeUnpackAlignedImageSize' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"emscriptenWebGLGetTexPixelData")||(t.emscriptenWebGLGetTexPixelData=function(){m("'emscriptenWebGLGetTexPixelData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"emscriptenWebGLGetUniform")||(t.emscriptenWebGLGetUniform=function(){m("'emscriptenWebGLGetUniform' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"webglGetUniformLocation")||(t.webglGetUniformLocation=function(){m("'webglGetUniformLocation' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"webglPrepareUniformLocationsBeforeFirstUse")||(t.webglPrepareUniformLocationsBeforeFirstUse=function(){m("'webglPrepareUniformLocationsBeforeFirstUse' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"webglGetLeftBracePos")||(t.webglGetLeftBracePos=function(){m("'webglGetLeftBracePos' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"emscriptenWebGLGetVertexAttrib")||(t.emscriptenWebGLGetVertexAttrib=function(){m("'emscriptenWebGLGetVertexAttrib' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"writeGLArray")||(t.writeGLArray=function(){m("'writeGLArray' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"AL")||(t.AL=function(){m("'AL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"SDL_unicode")||(t.SDL_unicode=function(){m("'SDL_unicode' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"SDL_ttfContext")||(t.SDL_ttfContext=function(){m("'SDL_ttfContext' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"SDL_audio")||(t.SDL_audio=function(){m("'SDL_audio' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"SDL")||(t.SDL=function(){m("'SDL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"SDL_gfx")||(t.SDL_gfx=function(){m("'SDL_gfx' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"GLUT")||(t.GLUT=function(){m("'GLUT' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"EGL")||(t.EGL=function(){m("'EGL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"GLFW_Window")||(t.GLFW_Window=function(){m("'GLFW_Window' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"GLFW")||(t.GLFW=function(){m("'GLFW' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"GLEW")||(t.GLEW=function(){m("'GLEW' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"IDBStore")||(t.IDBStore=function(){m("'IDBStore' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"runAndAbortIfError")||(t.runAndAbortIfError=function(){m("'runAndAbortIfError' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"warnOnce")||(t.warnOnce=function(){m("'warnOnce' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"stackSave")||(t.stackSave=function(){m("'stackSave' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"stackRestore")||(t.stackRestore=function(){m("'stackRestore' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"stackAlloc")||(t.stackAlloc=function(){m("'stackAlloc' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"AsciiToString")||(t.AsciiToString=function(){m("'AsciiToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"stringToAscii")||(t.stringToAscii=function(){m("'stringToAscii' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"UTF16ToString")||(t.UTF16ToString=function(){m("'UTF16ToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"stringToUTF16")||(t.stringToUTF16=function(){m("'stringToUTF16' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"lengthBytesUTF16")||(t.lengthBytesUTF16=function(){m("'lengthBytesUTF16' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"UTF32ToString")||(t.UTF32ToString=function(){m("'UTF32ToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"stringToUTF32")||(t.stringToUTF32=function(){m("'stringToUTF32' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"lengthBytesUTF32")||(t.lengthBytesUTF32=function(){m("'lengthBytesUTF32' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"allocateUTF8")||(t.allocateUTF8=function(){m("'allocateUTF8' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(t,"allocateUTF8OnStack")||(t.allocateUTF8OnStack=function(){m("'allocateUTF8OnStack' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),t.writeStackCookie=cl,t.checkStackCookie=vs,Object.getOwnPropertyDescriptor(t,"ALLOC_NORMAL")||Object.defineProperty(t,"ALLOC_NORMAL",{configurable:!0,get:function(){m("'ALLOC_NORMAL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(t,"ALLOC_STACK")||Object.defineProperty(t,"ALLOC_STACK",{configurable:!0,get:function(){m("'ALLOC_STACK' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}});var RE;function ME(_){this.name="ExitStatus",this.message="Program terminated with exit("+_+")",this.status=_}var Ene=!1;xa=function _(){RE||yN(),RE||(xa=_)};function xne(_){Ie(Ea==0,'cannot call main when async dependencies remain! (listen on Module["onRuntimeInitialized"])'),Ie(yh.length==0,"cannot call main when preRun functions remain to be called");var C=t._main;_=_||[];var E=_.length+1,I=PE((E+1)*4);vt[I>>2]=kt(l);for(var M=1;M<E;M++)vt[(I>>2)+M]=kt(_[M-1]);vt[(I>>2)+E]=0;try{var U=C(E,I);n7(U,!0)}catch(X){if(X instanceof ME||X=="unwind")return;var K=X;X&&typeof X=="object"&&X.stack&&(K=[X,X.stack]),k("exception thrown: "+K),c(1,X)}finally{Ene=!0}}function Dne(){t7(),cl()}function yN(_){if(_=_||a,Ea>0||(Dne(),Jg(),Ea>0))return;function C(){RE||(RE=!0,t.calledRun=!0,!We&&(K_(),lf(),i(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),o7&&xne(_),Y_()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),C()},1)):C(),vs()}t.run=yN;function Lne(){var _=x,C=k,E=!1;x=k=function(M){E=!0};try{var I=t._fflush;I&&I(0),["stdout","stderr"].forEach(function(M){var U=T.analyzePath("/dev/"+M);if(!!U){var K=U.object,X=K.rdev,fe=kh.ttys[X];fe&&fe.output&&fe.output.length&&(E=!0)}})}catch{}x=_,k=C,E&&R("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the FAQ), or make sure to emit a newline when you printf etc.")}function n7(_,C){if(Ue=_,Lne(),nd()){if(!C){var E="program exited (with status: "+_+"), but EXIT_RUNTIME is not set, so halting execution but not exiting the runtime or preventing further async execution (build with EXIT_RUNTIME=1, if you want a true shutdown)";n(E),k(E)}}else od();kne(_)}function kne(_){Ue=_,nd()||(t.onExit&&t.onExit(_),We=!0),c(_,new ME(_))}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();var o7=!0;return t.noInitialRun&&(o7=!1),yN(),t.ready}}();typeof gN=="object"&&typeof KB=="object"?KB.exports=$B:typeof define=="function"&&define.amd?define([],function(){return $B}):typeof gN=="object"&&(gN.Module=$B)});var GE={};BE(GE,{afterMain:()=>h7,afterRead:()=>l7,afterWrite:()=>g7,applyStyles:()=>Q_,arrow:()=>zE,auto:()=>DC,basePlacements:()=>Oh,beforeMain:()=>c7,beforeRead:()=>s7,beforeWrite:()=>u7,bottom:()=>Fo,clippingParents:()=>EN,computeStyles:()=>J_,createPopper:()=>RC,createPopperBase:()=>S7,createPopperLite:()=>E7,detectOverflow:()=>Ss,end:()=>df,eventListeners:()=>eb,flip:()=>KE,hide:()=>YE,left:()=>go,main:()=>d7,modifierPhases:()=>DN,offset:()=>qE,placements:()=>kC,popper:()=>tm,popperGenerator:()=>cm,popperOffsets:()=>nb,preventOverflow:()=>ZE,read:()=>a7,reference:()=>xN,right:()=>Eo,start:()=>rd,top:()=>Jn,variationPlacements:()=>WE,viewport:()=>LC,write:()=>f7});var Jn="top",Fo="bottom",Eo="right",go="left",DC="auto",Oh=[Jn,Fo,Eo,go],rd="start",df="end",EN="clippingParents",LC="viewport",tm="popper",xN="reference",WE=Oh.reduce(function(o,e){return o.concat([e+"-"+rd,e+"-"+df])},[]),kC=[].concat(Oh,[DC]).reduce(function(o,e){return o.concat([e,e+"-"+rd,e+"-"+df])},[]),s7="beforeRead",a7="read",l7="afterRead",c7="beforeMain",d7="main",h7="afterMain",u7="beforeWrite",f7="write",g7="afterWrite",DN=[s7,a7,l7,c7,d7,h7,u7,f7,g7];function vr(o){return o?(o.nodeName||"").toLowerCase():null}function xo(o){if(o==null)return window;if(o.toString()!=="[object Window]"){var e=o.ownerDocument;return e&&e.defaultView||window}return o}function sd(o){var e=xo(o).Element;return o instanceof e||o instanceof Element}function Qo(o){var e=xo(o).HTMLElement;return o instanceof e||o instanceof HTMLElement}function UE(o){if(typeof ShadowRoot=="undefined")return!1;var e=xo(o).ShadowRoot;return o instanceof e||o instanceof ShadowRoot}function Fne(o){var e=o.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},r=e.elements[t];!Qo(r)||!vr(r)||(Object.assign(r.style,i),Object.keys(n).forEach(function(s){var a=n[s];a===!1?r.removeAttribute(s):r.setAttribute(s,a===!0?"":a)}))})}function Bne(o){var e=o.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var n=e.elements[i],r=e.attributes[i]||{},s=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),a=s.reduce(function(l,c){return l[c]="",l},{});!Qo(n)||!vr(n)||(Object.assign(n.style,a),Object.keys(r).forEach(function(l){n.removeAttribute(l)}))})}}var Q_={name:"applyStyles",enabled:!0,phase:"write",fn:Fne,effect:Bne,requires:["computeStyles"]};function wr(o){return o.split("-")[0]}var oc=Math.max,im=Math.min,Th=Math.round;function hl(o,e){e===void 0&&(e=!1);var t=o.getBoundingClientRect(),i=1,n=1;if(Qo(o)&&e){var r=o.offsetHeight,s=o.offsetWidth;s>0&&(i=Th(t.width)/s||1),r>0&&(n=Th(t.height)/r||1)}return{width:t.width/i,height:t.height/n,top:t.top/n,right:t.right/i,bottom:t.bottom/n,left:t.left/i,x:t.left/i,y:t.top/n}}function nm(o){var e=hl(o),t=o.offsetWidth,i=o.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:o.offsetLeft,y:o.offsetTop,width:t,height:i}}function IC(o,e){var t=e.getRootNode&&e.getRootNode();if(o.contains(e))return!0;if(t&&UE(t)){var i=e;do{if(i&&o.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Gr(o){return xo(o).getComputedStyle(o)}function LN(o){return["table","td","th"].indexOf(vr(o))>=0}function Mr(o){return((sd(o)?o.ownerDocument:o.document)||window.document).documentElement}function Nh(o){return vr(o)==="html"?o:o.assignedSlot||o.parentNode||(UE(o)?o.host:null)||Mr(o)}function m7(o){return!Qo(o)||Gr(o).position==="fixed"?null:o.offsetParent}function jne(o){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,t=navigator.userAgent.indexOf("Trident")!==-1;if(t&&Qo(o)){var i=Gr(o);if(i.position==="fixed")return null}for(var n=Nh(o);Qo(n)&&["html","body"].indexOf(vr(n))<0;){var r=Gr(n);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return n;n=n.parentNode}return null}function rc(o){for(var e=xo(o),t=m7(o);t&&LN(t)&&Gr(t).position==="static";)t=m7(t);return t&&(vr(t)==="html"||vr(t)==="body"&&Gr(t).position==="static")?e:t||jne(o)||e}function om(o){return["top","bottom"].indexOf(o)>=0?"x":"y"}function rm(o,e,t){return oc(o,im(e,t))}function p7(o,e,t){var i=rm(o,e,t);return i>t?t:i}function OC(){return{top:0,right:0,bottom:0,left:0}}function TC(o){return Object.assign({},OC(),o)}function NC(o,e){return e.reduce(function(t,i){return t[i]=o,t},{})}var Wne=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,TC(typeof e!="number"?e:NC(e,Oh))};function Une(o){var e,t=o.state,i=o.name,n=o.options,r=t.elements.arrow,s=t.modifiersData.popperOffsets,a=wr(t.placement),l=om(a),c=[go,Eo].indexOf(a)>=0,d=c?"height":"width";if(!(!r||!s)){var h=Wne(n.padding,t),u=nm(r),f=l==="y"?Jn:go,p=l==="y"?Fo:Eo,b=t.rects.reference[d]+t.rects.reference[l]-s[l]-t.rects.popper[d],v=s[l]-t.rects.reference[l],y=rc(r),w=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,S=b/2-v/2,x=h[f],k=w-u[d]-h[p],R=w/2-u[d]/2+S,O=rm(x,R,k),N=l;t.modifiersData[i]=(e={},e[N]=O,e.centerOffset=O-R,e)}}function zne(o){var e=o.state,t=o.options,i=t.element,n=i===void 0?"[data-popper-arrow]":i;n!=null&&(typeof n=="string"&&(n=e.elements.popper.querySelector(n),!n)||!IC(e.elements.popper,n)||(e.elements.arrow=n))}var zE={name:"arrow",enabled:!0,phase:"main",fn:Une,effect:zne,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ul(o){return o.split("-")[1]}var Vne={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Hne(o){var e=o.x,t=o.y,i=window,n=i.devicePixelRatio||1;return{x:Th(e*n)/n||0,y:Th(t*n)/n||0}}function _7(o){var e,t=o.popper,i=o.popperRect,n=o.placement,r=o.variation,s=o.offsets,a=o.position,l=o.gpuAcceleration,c=o.adaptive,d=o.roundOffsets,h=o.isFixed,u=d===!0?Hne(s):typeof d=="function"?d(s):s,f=u.x,p=f===void 0?0:f,b=u.y,v=b===void 0?0:b,y=s.hasOwnProperty("x"),w=s.hasOwnProperty("y"),S=go,x=Jn,k=window;if(c){var R=rc(t),O="clientHeight",N="clientWidth";if(R===xo(t)&&(R=Mr(t),Gr(R).position!=="static"&&a==="absolute"&&(O="scrollHeight",N="scrollWidth")),R=R,n===Jn||(n===go||n===Eo)&&r===df){x=Fo;var W=h&&k.visualViewport?k.visualViewport.height:R[O];v-=W-i.height,v*=l?1:-1}if(n===go||(n===Jn||n===Fo)&&r===df){S=Eo;var G=h&&k.visualViewport?k.visualViewport.width:R[N];p-=G-i.width,p*=l?1:-1}}var Y=Object.assign({position:a},c&&Vne);if(l){var te;return Object.assign({},Y,(te={},te[x]=w?"0":"",te[S]=y?"0":"",te.transform=(k.devicePixelRatio||1)<=1?"translate("+p+"px, "+v+"px)":"translate3d("+p+"px, "+v+"px, 0)",te))}return Object.assign({},Y,(e={},e[x]=w?v+"px":"",e[S]=y?p+"px":"",e.transform="",e))}function $ne(o){var e=o.state,t=o.options,i=t.gpuAcceleration,n=i===void 0?!0:i,r=t.adaptive,s=r===void 0?!0:r,a=t.roundOffsets,l=a===void 0?!0:a;if(!1)var c;var d={placement:wr(e.placement),variation:ul(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,_7(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,_7(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var J_={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:$ne,data:{}};var VE={passive:!0};function Kne(o){var e=o.state,t=o.instance,i=o.options,n=i.scroll,r=n===void 0?!0:n,s=i.resize,a=s===void 0?!0:s,l=xo(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&c.forEach(function(d){d.addEventListener("scroll",t.update,VE)}),a&&l.addEventListener("resize",t.update,VE),function(){r&&c.forEach(function(d){d.removeEventListener("scroll",t.update,VE)}),a&&l.removeEventListener("resize",t.update,VE)}}var eb={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Kne,data:{}};var Yne={left:"right",right:"left",bottom:"top",top:"bottom"};function tb(o){return o.replace(/left|right|bottom|top/g,function(e){return Yne[e]})}var qne={start:"end",end:"start"};function HE(o){return o.replace(/start|end/g,function(e){return qne[e]})}function sm(o){var e=xo(o),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function am(o){return hl(Mr(o)).left+sm(o).scrollLeft}function kN(o){var e=xo(o),t=Mr(o),i=e.visualViewport,n=t.clientWidth,r=t.clientHeight,s=0,a=0;return i&&(n=i.width,r=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=i.offsetLeft,a=i.offsetTop)),{width:n,height:r,x:s+am(o),y:a}}function IN(o){var e,t=Mr(o),i=sm(o),n=(e=o.ownerDocument)==null?void 0:e.body,r=oc(t.scrollWidth,t.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),s=oc(t.scrollHeight,t.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-i.scrollLeft+am(o),l=-i.scrollTop;return Gr(n||t).direction==="rtl"&&(a+=oc(t.clientWidth,n?n.clientWidth:0)-r),{width:r,height:s,x:a,y:l}}function lm(o){var e=Gr(o),t=e.overflow,i=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+n+i)}function $E(o){return["html","body","#document"].indexOf(vr(o))>=0?o.ownerDocument.body:Qo(o)&&lm(o)?o:$E(Nh(o))}function hf(o,e){var t;e===void 0&&(e=[]);var i=$E(o),n=i===((t=o.ownerDocument)==null?void 0:t.body),r=xo(i),s=n?[r].concat(r.visualViewport||[],lm(i)?i:[]):i,a=e.concat(s);return n?a:a.concat(hf(Nh(s)))}function ib(o){return Object.assign({},o,{left:o.x,top:o.y,right:o.x+o.width,bottom:o.y+o.height})}function Zne(o){var e=hl(o);return e.top=e.top+o.clientTop,e.left=e.left+o.clientLeft,e.bottom=e.top+o.clientHeight,e.right=e.left+o.clientWidth,e.width=o.clientWidth,e.height=o.clientHeight,e.x=e.left,e.y=e.top,e}function b7(o,e){return e===LC?ib(kN(o)):sd(e)?Zne(e):ib(IN(Mr(o)))}function Gne(o){var e=hf(Nh(o)),t=["absolute","fixed"].indexOf(Gr(o).position)>=0,i=t&&Qo(o)?rc(o):o;return sd(i)?e.filter(function(n){return sd(n)&&IC(n,i)&&vr(n)!=="body"&&(t?Gr(n).position!=="static":!0)}):[]}function ON(o,e,t){var i=e==="clippingParents"?Gne(o):[].concat(e),n=[].concat(i,[t]),r=n[0],s=n.reduce(function(a,l){var c=b7(o,l);return a.top=oc(c.top,a.top),a.right=im(c.right,a.right),a.bottom=im(c.bottom,a.bottom),a.left=oc(c.left,a.left),a},b7(o,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function PC(o){var e=o.reference,t=o.element,i=o.placement,n=i?wr(i):null,r=i?ul(i):null,s=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(n){case Jn:l={x:s,y:e.y-t.height};break;case Fo:l={x:s,y:e.y+e.height};break;case Eo:l={x:e.x+e.width,y:a};break;case go:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var c=n?om(n):null;if(c!=null){var d=c==="y"?"height":"width";switch(r){case rd:l[c]=l[c]-(e[d]/2-t[d]/2);break;case df:l[c]=l[c]+(e[d]/2-t[d]/2);break;default:}}return l}function Ss(o,e){e===void 0&&(e={});var t=e,i=t.placement,n=i===void 0?o.placement:i,r=t.boundary,s=r===void 0?EN:r,a=t.rootBoundary,l=a===void 0?LC:a,c=t.elementContext,d=c===void 0?tm:c,h=t.altBoundary,u=h===void 0?!1:h,f=t.padding,p=f===void 0?0:f,b=TC(typeof p!="number"?p:NC(p,Oh)),v=d===tm?xN:tm,y=o.rects.popper,w=o.elements[u?v:d],S=ON(sd(w)?w:w.contextElement||Mr(o.elements.popper),s,l),x=hl(o.elements.reference),k=PC({reference:x,element:y,strategy:"absolute",placement:n}),R=ib(Object.assign({},y,k)),O=d===tm?R:x,N={top:S.top-O.top+b.top,bottom:O.bottom-S.bottom+b.bottom,left:S.left-O.left+b.left,right:O.right-S.right+b.right},W=o.modifiersData.offset;if(d===tm&&W){var G=W[n];Object.keys(N).forEach(function(Y){var te=[Eo,Fo].indexOf(Y)>=0?1:-1,re=[Jn,Fo].indexOf(Y)>=0?"y":"x";N[Y]+=G[re]*te})}return N}function TN(o,e){e===void 0&&(e={});var t=e,i=t.placement,n=t.boundary,r=t.rootBoundary,s=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?kC:l,d=ul(i),h=d?a?WE:WE.filter(function(p){return ul(p)===d}):Oh,u=h.filter(function(p){return c.indexOf(p)>=0});u.length===0&&(u=h);var f=u.reduce(function(p,b){return p[b]=Ss(o,{placement:b,boundary:n,rootBoundary:r,padding:s})[wr(b)],p},{});return Object.keys(f).sort(function(p,b){return f[p]-f[b]})}function Xne(o){if(wr(o)===DC)return[];var e=tb(o);return[HE(o),e,HE(e)]}function Qne(o){var e=o.state,t=o.options,i=o.name;if(!e.modifiersData[i]._skip){for(var n=t.mainAxis,r=n===void 0?!0:n,s=t.altAxis,a=s===void 0?!0:s,l=t.fallbackPlacements,c=t.padding,d=t.boundary,h=t.rootBoundary,u=t.altBoundary,f=t.flipVariations,p=f===void 0?!0:f,b=t.allowedAutoPlacements,v=e.options.placement,y=wr(v),w=y===v,S=l||(w||!p?[tb(v)]:Xne(v)),x=[v].concat(S).reduce(function(Gt,nn){return Gt.concat(wr(nn)===DC?TN(e,{placement:nn,boundary:d,rootBoundary:h,padding:c,flipVariations:p,allowedAutoPlacements:b}):nn)},[]),k=e.rects.reference,R=e.rects.popper,O=new Map,N=!0,W=x[0],G=0;G<x.length;G++){var Y=x[G],te=wr(Y),re=ul(Y)===rd,Pe=[Jn,Fo].indexOf(te)>=0,Ne=Pe?"width":"height",Ae=Ss(e,{placement:Y,boundary:d,rootBoundary:h,altBoundary:u,padding:c}),He=Pe?re?Eo:go:re?Fo:Jn;k[Ne]>R[Ne]&&(He=tb(He));var We=tb(He),Ue=[];if(r&&Ue.push(Ae[te]<=0),a&&Ue.push(Ae[He]<=0,Ae[We]<=0),Ue.every(function(Gt){return Gt})){W=Y,N=!1;break}O.set(Y,Ue)}if(N)for(var Ie=p?3:1,gi=function(nn){var qo=x.find(function(Zo){var Gn=O.get(Zo);if(Gn)return Gn.slice(0,nn).every(function(mi){return mi})});if(qo)return W=qo,"break"},Si=Ie;Si>0;Si--){var Ui=gi(Si);if(Ui==="break")break}e.placement!==W&&(e.modifiersData[i]._skip=!0,e.placement=W,e.reset=!0)}}var KE={name:"flip",enabled:!0,phase:"main",fn:Qne,requiresIfExists:["offset"],data:{_skip:!1}};function v7(o,e,t){return t===void 0&&(t={x:0,y:0}),{top:o.top-e.height-t.y,right:o.right-e.width+t.x,bottom:o.bottom-e.height+t.y,left:o.left-e.width-t.x}}function w7(o){return[Jn,Eo,Fo,go].some(function(e){return o[e]>=0})}function Jne(o){var e=o.state,t=o.name,i=e.rects.reference,n=e.rects.popper,r=e.modifiersData.preventOverflow,s=Ss(e,{elementContext:"reference"}),a=Ss(e,{altBoundary:!0}),l=v7(s,i),c=v7(a,n,r),d=w7(l),h=w7(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}var YE={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Jne};function eoe(o,e,t){var i=wr(o),n=[go,Jn].indexOf(i)>=0?-1:1,r=typeof t=="function"?t(Object.assign({},e,{placement:o})):t,s=r[0],a=r[1];return s=s||0,a=(a||0)*n,[go,Eo].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}function toe(o){var e=o.state,t=o.options,i=o.name,n=t.offset,r=n===void 0?[0,0]:n,s=kC.reduce(function(d,h){return d[h]=eoe(h,e.rects,r),d},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=s}var qE={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:toe};function ioe(o){var e=o.state,t=o.name;e.modifiersData[t]=PC({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var nb={name:"popperOffsets",enabled:!0,phase:"read",fn:ioe,data:{}};function NN(o){return o==="x"?"y":"x"}function noe(o){var e=o.state,t=o.options,i=o.name,n=t.mainAxis,r=n===void 0?!0:n,s=t.altAxis,a=s===void 0?!1:s,l=t.boundary,c=t.rootBoundary,d=t.altBoundary,h=t.padding,u=t.tether,f=u===void 0?!0:u,p=t.tetherOffset,b=p===void 0?0:p,v=Ss(e,{boundary:l,rootBoundary:c,padding:h,altBoundary:d}),y=wr(e.placement),w=ul(e.placement),S=!w,x=om(y),k=NN(x),R=e.modifiersData.popperOffsets,O=e.rects.reference,N=e.rects.popper,W=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,G=typeof W=="number"?{mainAxis:W,altAxis:W}:Object.assign({mainAxis:0,altAxis:0},W),Y=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,te={x:0,y:0};if(!!R){if(r){var re,Pe=x==="y"?Jn:go,Ne=x==="y"?Fo:Eo,Ae=x==="y"?"height":"width",He=R[x],We=He+v[Pe],Ue=He-v[Ne],Ie=f?-N[Ae]/2:0,gi=w===rd?O[Ae]:N[Ae],Si=w===rd?-N[Ae]:-O[Ae],Ui=e.elements.arrow,Gt=f&&Ui?nm(Ui):{width:0,height:0},nn=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:OC(),qo=nn[Pe],Zo=nn[Ne],Gn=rm(0,O[Ae],Gt[Ae]),mi=S?O[Ae]/2-Ie-Gn-qo-G.mainAxis:gi-Gn-qo-G.mainAxis,Ca=S?-O[Ae]/2+Ie+Gn+Zo+G.mainAxis:Si+Gn+Zo+G.mainAxis,kt=e.elements.arrow&&rc(e.elements.arrow),et=kt?x==="y"?kt.clientTop||0:kt.clientLeft||0:0,ec=(re=Y==null?void 0:Y[x])!=null?re:0,id=He+mi-ec-et,Pn=He+Ca-ec,Ao=rm(f?im(We,id):We,He,f?oc(Ue,Pn):Ue);R[x]=Ao,te[x]=Ao-He}if(a){var ya,tc=x==="x"?Jn:go,vt=x==="x"?Fo:Eo,fo=R[k],Qs=k==="y"?"height":"width",Sa=fo+v[tc],Js=fo-v[vt],bs=[Jn,go].indexOf(y)!==-1,ll=(ya=Y==null?void 0:Y[k])!=null?ya:0,ti=bs?Sa:fo-O[Qs]-N[Qs]-ll+G.altAxis,cl=bs?fo+O[Qs]+N[Qs]-ll-G.altAxis:Js,vs=f&&bs?p7(ti,fo,cl):rm(f?ti:Sa,fo,f?cl:Js);R[k]=vs,te[k]=vs-fo}e.modifiersData[i]=te}}var ZE={name:"preventOverflow",enabled:!0,phase:"main",fn:noe,requiresIfExists:["offset"]};function PN(o){return{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}}function RN(o){return o===xo(o)||!Qo(o)?sm(o):PN(o)}function ooe(o){var e=o.getBoundingClientRect(),t=Th(e.width)/o.offsetWidth||1,i=Th(e.height)/o.offsetHeight||1;return t!==1||i!==1}function MN(o,e,t){t===void 0&&(t=!1);var i=Qo(e),n=Qo(e)&&ooe(e),r=Mr(e),s=hl(o,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((vr(e)!=="body"||lm(r))&&(a=RN(e)),Qo(e)?(l=hl(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):r&&(l.x=am(r))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function roe(o){var e=new Map,t=new Set,i=[];o.forEach(function(r){e.set(r.name,r)});function n(r){t.add(r.name);var s=[].concat(r.requires||[],r.requiresIfExists||[]);s.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&n(l)}}),i.push(r)}return o.forEach(function(r){t.has(r.name)||n(r)}),i}function AN(o){var e=roe(o);return DN.reduce(function(t,i){return t.concat(e.filter(function(n){return n.phase===i}))},[])}function FN(o){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(o())})})),e}}function BN(o){var e=o.reduce(function(t,i){var n=t[i.name];return t[i.name]=n?Object.assign({},n,i,{options:Object.assign({},n.options,i.options),data:Object.assign({},n.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var C7={placement:"bottom",modifiers:[],strategy:"absolute"};function y7(){for(var o=arguments.length,e=new Array(o),t=0;t<o;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function cm(o){o===void 0&&(o={});var e=o,t=e.defaultModifiers,i=t===void 0?[]:t,n=e.defaultOptions,r=n===void 0?C7:n;return function(a,l,c){c===void 0&&(c=r);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},C7,r),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],u=!1,f={state:d,setOptions:function(y){var w=typeof y=="function"?y(d.options):y;b(),d.options=Object.assign({},r,d.options,w),d.scrollParents={reference:sd(a)?hf(a):a.contextElement?hf(a.contextElement):[],popper:hf(l)};var S=AN(BN([].concat(i,d.options.modifiers)));if(d.orderedModifiers=S.filter(function(Y){return Y.enabled}),!1){var x;if(getBasePlacement(d.options.placement)===auto)var k;var R,O,N,W,G}return p(),f.update()},forceUpdate:function(){if(!u){var y=d.elements,w=y.reference,S=y.popper;if(!!y7(w,S)){d.rects={reference:MN(w,rc(S),d.options.strategy==="fixed"),popper:nm(S)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(Y){return d.modifiersData[Y.name]=Object.assign({},Y.data)});for(var x=0,k=0;k<d.orderedModifiers.length;k++){if(d.reset===!0){d.reset=!1,k=-1;continue}var R=d.orderedModifiers[k],O=R.fn,N=R.options,W=N===void 0?{}:N,G=R.name;typeof O=="function"&&(d=O({state:d,options:W,name:G,instance:f})||d)}}}},update:FN(function(){return new Promise(function(v){f.forceUpdate(),v(d)})}),destroy:function(){b(),u=!0}};if(!y7(a,l))return f;f.setOptions(c).then(function(v){!u&&c.onFirstUpdate&&c.onFirstUpdate(v)});function p(){d.orderedModifiers.forEach(function(v){var y=v.name,w=v.options,S=w===void 0?{}:w,x=v.effect;if(typeof x=="function"){var k=x({state:d,name:y,instance:f,options:S}),R=function(){};h.push(k||R)}})}function b(){h.forEach(function(v){return v()}),h=[]}return f}}var S7=cm();var soe=[eb,nb,J_,Q_],E7=cm({defaultModifiers:soe});var aoe=[eb,nb,J_,Q_,qE,KE,ZE,zE,YE],RC=cm({defaultModifiers:aoe});var loe=1e6,coe=1e3,jN="transitionend",doe=o=>o==null?`${o}`:{}.toString.call(o).match(/\s([a-z]+)/i)[1].toLowerCase(),hoe=o=>{do o+=Math.floor(Math.random()*loe);while(document.getElementById(o));return o},x7=o=>{let e=o.getAttribute("data-bs-target");if(!e||e==="#"){let t=o.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e},WN=o=>{let e=x7(o);return e&&document.querySelector(e)?e:null},uf=o=>{let e=x7(o);return e?document.querySelector(e):null},uoe=o=>{if(!o)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(o),i=Number.parseFloat(e),n=Number.parseFloat(t);return!i&&!n?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*coe)},D7=o=>{o.dispatchEvent(new Event(jN))},dm=o=>!o||typeof o!="object"?!1:(typeof o.jquery!="undefined"&&(o=o[0]),typeof o.nodeType!="undefined"),ff=o=>dm(o)?o.jquery?o[0]:o:typeof o=="string"&&o.length>0?document.querySelector(o):null,ad=(o,e,t)=>{Object.keys(t).forEach(i=>{let n=t[i],r=e[i],s=r&&dm(r)?"element":doe(r);if(!new RegExp(n).test(s))throw new TypeError(`${o.toUpperCase()}: Option "${i}" provided type "${s}" but expected type "${n}".`)})},MC=o=>!dm(o)||o.getClientRects().length===0?!1:getComputedStyle(o).getPropertyValue("visibility")==="visible",hm=o=>!o||o.nodeType!==Node.ELEMENT_NODE||o.classList.contains("disabled")?!0:typeof o.disabled!="undefined"?o.disabled:o.hasAttribute("disabled")&&o.getAttribute("disabled")!=="false",L7=o=>{if(!document.documentElement.attachShadow)return null;if(typeof o.getRootNode=="function"){let e=o.getRootNode();return e instanceof ShadowRoot?e:null}return o instanceof ShadowRoot?o:o.parentNode?L7(o.parentNode):null},XE=()=>{},ob=o=>{o.offsetHeight},k7=()=>{let{jQuery:o}=window;return o&&!document.body.hasAttribute("data-bs-no-jquery")?o:null},UN=[],foe=o=>{document.readyState==="loading"?(UN.length||document.addEventListener("DOMContentLoaded",()=>{UN.forEach(e=>e())}),UN.push(o)):o()},ia=()=>document.documentElement.dir==="rtl",fl=o=>{foe(()=>{let e=k7();if(e){let t=o.NAME,i=e.fn[t];e.fn[t]=o.jQueryInterface,e.fn[t].Constructor=o,e.fn[t].noConflict=()=>(e.fn[t]=i,o.jQueryInterface)}})},um=o=>{typeof o=="function"&&o()},I7=(o,e,t=!0)=>{if(!t){um(o);return}let i=5,n=uoe(e)+i,r=!1,s=({target:a})=>{a===e&&(r=!0,e.removeEventListener(jN,s),um(o))};e.addEventListener(jN,s),setTimeout(()=>{r||D7(e)},n)},O7=(o,e,t,i)=>{let n=o.indexOf(e);if(n===-1)return o[!t&&i?o.length-1:0];let r=o.length;return n+=t?1:-1,i&&(n=(n+r)%r),o[Math.max(0,Math.min(n,r-1))]},goe=/[^.]*(?=\..*)\.|.*/,moe=/\..*/,poe=/::\d+$/,zN={},T7=1,_oe={mouseenter:"mouseover",mouseleave:"mouseout"},boe=/^(mouseenter|mouseleave)/i,N7=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function P7(o,e){return e&&`${e}::${T7++}`||o.uidEvent||T7++}function R7(o){let e=P7(o);return o.uidEvent=e,zN[e]=zN[e]||{},zN[e]}function voe(o,e){return function t(i){return i.delegateTarget=o,t.oneOff&&Te.off(o,i.type,e),e.apply(o,[i])}}function woe(o,e,t){return function i(n){let r=o.querySelectorAll(e);for(let{target:s}=n;s&&s!==this;s=s.parentNode)for(let a=r.length;a--;)if(r[a]===s)return n.delegateTarget=s,i.oneOff&&Te.off(o,n.type,e,t),t.apply(s,[n]);return null}}function M7(o,e,t=null){let i=Object.keys(o);for(let n=0,r=i.length;n<r;n++){let s=o[i[n]];if(s.originalHandler===e&&s.delegationSelector===t)return s}return null}function A7(o,e,t){let i=typeof e=="string",n=i?t:e,r=B7(o);return N7.has(r)||(r=o),[i,n,r]}function F7(o,e,t,i,n){if(typeof e!="string"||!o)return;if(t||(t=i,i=null),boe.test(e)){let f=p=>function(b){if(!b.relatedTarget||b.relatedTarget!==b.delegateTarget&&!b.delegateTarget.contains(b.relatedTarget))return p.call(this,b)};i?i=f(i):t=f(t)}let[r,s,a]=A7(e,t,i),l=R7(o),c=l[a]||(l[a]={}),d=M7(c,s,r?t:null);if(d){d.oneOff=d.oneOff&&n;return}let h=P7(s,e.replace(goe,"")),u=r?woe(o,t,i):voe(o,t);u.delegationSelector=r?t:null,u.originalHandler=s,u.oneOff=n,u.uidEvent=h,c[h]=u,o.addEventListener(a,u,r)}function VN(o,e,t,i,n){let r=M7(e[t],i,n);!r||(o.removeEventListener(t,r,Boolean(n)),delete e[t][r.uidEvent])}function Coe(o,e,t,i){let n=e[t]||{};Object.keys(n).forEach(r=>{if(r.includes(i)){let s=n[r];VN(o,e,t,s.originalHandler,s.delegationSelector)}})}function B7(o){return o=o.replace(moe,""),_oe[o]||o}var Te={on(o,e,t,i){F7(o,e,t,i,!1)},one(o,e,t,i){F7(o,e,t,i,!0)},off(o,e,t,i){if(typeof e!="string"||!o)return;let[n,r,s]=A7(e,t,i),a=s!==e,l=R7(o),c=e.startsWith(".");if(typeof r!="undefined"){if(!l||!l[s])return;VN(o,l,s,r,n?t:null);return}c&&Object.keys(l).forEach(h=>{Coe(o,l,h,e.slice(1))});let d=l[s]||{};Object.keys(d).forEach(h=>{let u=h.replace(poe,"");if(!a||e.includes(u)){let f=d[h];VN(o,l,s,f.originalHandler,f.delegationSelector)}})},trigger(o,e,t){if(typeof e!="string"||!o)return null;let i=k7(),n=B7(e),r=e!==n,s=N7.has(n),a,l=!0,c=!0,d=!1,h=null;return r&&i&&(a=i.Event(e,t),i(o).trigger(a),l=!a.isPropagationStopped(),c=!a.isImmediatePropagationStopped(),d=a.isDefaultPrevented()),s?(h=document.createEvent("HTMLEvents"),h.initEvent(n,l,!0)):h=new CustomEvent(e,{bubbles:l,cancelable:!0}),typeof t!="undefined"&&Object.keys(t).forEach(u=>{Object.defineProperty(h,u,{get(){return t[u]}})}),d&&h.preventDefault(),c&&o.dispatchEvent(h),h.defaultPrevented&&typeof a!="undefined"&&a.preventDefault(),h}},gf=new Map,AC={set(o,e,t){gf.has(o)||gf.set(o,new Map);let i=gf.get(o);if(!i.has(e)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(e,t)},get(o,e){return gf.has(o)&&gf.get(o).get(e)||null},remove(o,e){if(!gf.has(o))return;let t=gf.get(o);t.delete(e),t.size===0&&gf.delete(o)}},yoe="5.1.3",gl=class{constructor(e){e=ff(e),!!e&&(this._element=e,AC.set(this._element,this.constructor.DATA_KEY,this))}dispose(){AC.remove(this._element,this.constructor.DATA_KEY),Te.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(e=>{this[e]=null})}_queueCallback(e,t,i=!0){I7(e,t,i)}static getInstance(e){return AC.get(ff(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return yoe}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}},QE=(o,e="hide")=>{let t=`click.dismiss${o.EVENT_KEY}`,i=o.NAME;Te.on(document,t,`[data-bs-dismiss="${i}"]`,function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),hm(this))return;let r=uf(this)||this.closest(`.${i}`);o.getOrCreateInstance(r)[e]()})},Soe="alert",Eoe="bs.alert",j7=`.${Eoe}`,xoe=`close${j7}`,Doe=`closed${j7}`,Loe="fade",koe="show",FC=class extends gl{static get NAME(){return Soe}close(){if(Te.trigger(this._element,xoe).defaultPrevented)return;this._element.classList.remove(koe);let t=this._element.classList.contains(Loe);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),Te.trigger(this._element,Doe),this.dispose()}static jQueryInterface(e){return this.each(function(){let t=FC.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};QE(FC,"close");fl(FC);var Ioe="button",Ooe="bs.button",Toe=`.${Ooe}`,Noe=".data-api",Poe="active",W7='[data-bs-toggle="button"]',Roe=`click${Toe}${Noe}`,BC=class extends gl{static get NAME(){return Ioe}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Poe))}static jQueryInterface(e){return this.each(function(){let t=BC.getOrCreateInstance(this);e==="toggle"&&t[e]()})}};Te.on(document,Roe,W7,o=>{o.preventDefault();let e=o.target.closest(W7);BC.getOrCreateInstance(e).toggle()});fl(BC);function U7(o){return o==="true"?!0:o==="false"?!1:o===Number(o).toString()?Number(o):o===""||o==="null"?null:o}function HN(o){return o.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}var Ar={setDataAttribute(o,e,t){o.setAttribute(`data-bs-${HN(e)}`,t)},removeDataAttribute(o,e){o.removeAttribute(`data-bs-${HN(e)}`)},getDataAttributes(o){if(!o)return{};let e={};return Object.keys(o.dataset).filter(t=>t.startsWith("bs")).forEach(t=>{let i=t.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=U7(o.dataset[t])}),e},getDataAttribute(o,e){return U7(o.getAttribute(`data-bs-${HN(e)}`))},offset(o){let e=o.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}},position(o){return{top:o.offsetTop,left:o.offsetLeft}}},Moe=3,Xt={find(o,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,o))},findOne(o,e=document.documentElement){return Element.prototype.querySelector.call(e,o)},children(o,e){return[].concat(...o.children).filter(t=>t.matches(e))},parents(o,e){let t=[],i=o.parentNode;for(;i&&i.nodeType===Node.ELEMENT_NODE&&i.nodeType!==Moe;)i.matches(e)&&t.push(i),i=i.parentNode;return t},prev(o,e){let t=o.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(o,e){let t=o.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(o){let e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(", ");return this.find(e,o).filter(t=>!hm(t)&&MC(t))}},z7="carousel",Aoe="bs.carousel",La=`.${Aoe}`,V7=".data-api",Foe="ArrowLeft",Boe="ArrowRight",joe=500,Woe=40,H7={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Uoe={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},fm="next",gm="prev",mm="left",jC="right",zoe={[Foe]:jC,[Boe]:mm},Voe=`slide${La}`,$7=`slid${La}`,Hoe=`keydown${La}`,$oe=`mouseenter${La}`,Koe=`mouseleave${La}`,Yoe=`touchstart${La}`,qoe=`touchmove${La}`,Zoe=`touchend${La}`,Goe=`pointerdown${La}`,Xoe=`pointerup${La}`,Qoe=`dragstart${La}`,Joe=`load${La}${V7}`,ere=`click${La}${V7}`,tre="carousel",pm="active",ire="slide",nre="carousel-item-end",ore="carousel-item-start",rre="carousel-item-next",sre="carousel-item-prev",are="pointer-event",lre=".active",JE=".active.carousel-item",cre=".carousel-item",dre=".carousel-item img",hre=".carousel-item-next, .carousel-item-prev",ure=".carousel-indicators",fre="[data-bs-target]",gre="[data-bs-slide], [data-bs-slide-to]",mre='[data-bs-ride="carousel"]',pre="touch",_re="pen",ld=class extends gl{constructor(e,t){super(e);this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._indicatorsElement=Xt.findOne(ure,this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return H7}static get NAME(){return z7}next(){this._slide(fm)}nextWhenVisible(){!document.hidden&&MC(this._element)&&this.next()}prev(){this._slide(gm)}pause(e){e||(this._isPaused=!0),Xt.findOne(hre,this._element)&&(D7(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(e){this._activeElement=Xt.findOne(JE,this._element);let t=this._getItemIndex(this._activeElement);if(e>this._items.length-1||e<0)return;if(this._isSliding){Te.one(this._element,$7,()=>this.to(e));return}if(t===e){this.pause(),this.cycle();return}let i=e>t?fm:gm;this._slide(i,this._items[e])}_getConfig(e){return e={...H7,...Ar.getDataAttributes(this._element),...typeof e=="object"?e:{}},ad(z7,e,Uoe),e}_handleSwipe(){let e=Math.abs(this.touchDeltaX);if(e<=Woe)return;let t=e/this.touchDeltaX;this.touchDeltaX=0,!!t&&this._slide(t>0?jC:mm)}_addEventListeners(){this._config.keyboard&&Te.on(this._element,Hoe,e=>this._keydown(e)),this._config.pause==="hover"&&(Te.on(this._element,$oe,e=>this.pause(e)),Te.on(this._element,Koe,e=>this.cycle(e))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){let e=r=>this._pointerEvent&&(r.pointerType===_re||r.pointerType===pre),t=r=>{e(r)?this.touchStartX=r.clientX:this._pointerEvent||(this.touchStartX=r.touches[0].clientX)},i=r=>{this.touchDeltaX=r.touches&&r.touches.length>1?0:r.touches[0].clientX-this.touchStartX},n=r=>{e(r)&&(this.touchDeltaX=r.clientX-this.touchStartX),this._handleSwipe(),this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(s=>this.cycle(s),joe+this._config.interval))};Xt.find(dre,this._element).forEach(r=>{Te.on(r,Qoe,s=>s.preventDefault())}),this._pointerEvent?(Te.on(this._element,Goe,r=>t(r)),Te.on(this._element,Xoe,r=>n(r)),this._element.classList.add(are)):(Te.on(this._element,Yoe,r=>t(r)),Te.on(this._element,qoe,r=>i(r)),Te.on(this._element,Zoe,r=>n(r)))}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;let t=zoe[e.key];t&&(e.preventDefault(),this._slide(t))}_getItemIndex(e){return this._items=e&&e.parentNode?Xt.find(cre,e.parentNode):[],this._items.indexOf(e)}_getItemByOrder(e,t){let i=e===fm;return O7(this._items,t,i,this._config.wrap)}_triggerSlideEvent(e,t){let i=this._getItemIndex(e),n=this._getItemIndex(Xt.findOne(JE,this._element));return Te.trigger(this._element,Voe,{relatedTarget:e,direction:t,from:n,to:i})}_setActiveIndicatorElement(e){if(this._indicatorsElement){let t=Xt.findOne(lre,this._indicatorsElement);t.classList.remove(pm),t.removeAttribute("aria-current");let i=Xt.find(fre,this._indicatorsElement);for(let n=0;n<i.length;n++)if(Number.parseInt(i[n].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(e)){i[n].classList.add(pm),i[n].setAttribute("aria-current","true");break}}}_updateInterval(){let e=this._activeElement||Xt.findOne(JE,this._element);if(!e)return;let t=Number.parseInt(e.getAttribute("data-bs-interval"),10);t?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=t):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(e,t){let i=this._directionToOrder(e),n=Xt.findOne(JE,this._element),r=this._getItemIndex(n),s=t||this._getItemByOrder(i,n),a=this._getItemIndex(s),l=Boolean(this._interval),c=i===fm,d=c?ore:nre,h=c?rre:sre,u=this._orderToDirection(i);if(s&&s.classList.contains(pm)){this._isSliding=!1;return}if(this._isSliding||this._triggerSlideEvent(s,u).defaultPrevented||!n||!s)return;this._isSliding=!0,l&&this.pause(),this._setActiveIndicatorElement(s),this._activeElement=s;let p=()=>{Te.trigger(this._element,$7,{relatedTarget:s,direction:u,from:r,to:a})};if(this._element.classList.contains(ire)){s.classList.add(h),ob(s),n.classList.add(d),s.classList.add(d);let b=()=>{s.classList.remove(d,h),s.classList.add(pm),n.classList.remove(pm,h,d),this._isSliding=!1,setTimeout(p,0)};this._queueCallback(b,n,!0)}else n.classList.remove(pm),s.classList.add(pm),this._isSliding=!1,p();l&&this.cycle()}_directionToOrder(e){return[jC,mm].includes(e)?ia()?e===mm?gm:fm:e===mm?fm:gm:e}_orderToDirection(e){return[fm,gm].includes(e)?ia()?e===gm?mm:jC:e===gm?jC:mm:e}static carouselInterface(e,t){let i=ld.getOrCreateInstance(e,t),{_config:n}=i;typeof t=="object"&&(n={...n,...t});let r=typeof t=="string"?t:n.slide;if(typeof t=="number")i.to(t);else if(typeof r=="string"){if(typeof i[r]=="undefined")throw new TypeError(`No method named "${r}"`);i[r]()}else n.interval&&n.ride&&(i.pause(),i.cycle())}static jQueryInterface(e){return this.each(function(){ld.carouselInterface(this,e)})}static dataApiClickHandler(e){let t=uf(this);if(!t||!t.classList.contains(tre))return;let i={...Ar.getDataAttributes(t),...Ar.getDataAttributes(this)},n=this.getAttribute("data-bs-slide-to");n&&(i.interval=!1),ld.carouselInterface(t,i),n&&ld.getInstance(t).to(n),e.preventDefault()}};Te.on(document,ere,gre,ld.dataApiClickHandler);Te.on(window,Joe,()=>{let o=Xt.find(mre);for(let e=0,t=o.length;e<t;e++)ld.carouselInterface(o[e],ld.getInstance(o[e]))});fl(ld);var K7="collapse",Y7="bs.collapse",WC=`.${Y7}`,bre=".data-api",q7={toggle:!0,parent:null},vre={toggle:"boolean",parent:"(null|element)"},wre=`show${WC}`,Cre=`shown${WC}`,yre=`hide${WC}`,Sre=`hidden${WC}`,Ere=`click${WC}${bre}`,$N="show",rb="collapse",ex="collapsing",Z7="collapsed",G7=`:scope .${rb} .${rb}`,xre="collapse-horizontal",Dre="width",Lre="height",kre=".collapse.show, .collapse.collapsing",KN='[data-bs-toggle="collapse"]',_m=class extends gl{constructor(e,t){super(e);this._isTransitioning=!1,this._config=this._getConfig(t),this._triggerArray=[];let i=Xt.find(KN);for(let n=0,r=i.length;n<r;n++){let s=i[n],a=WN(s),l=Xt.find(a).filter(c=>c===this._element);a!==null&&l.length&&(this._selector=a,this._triggerArray.push(s))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return q7}static get NAME(){return K7}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[],t;if(this._config.parent){let c=Xt.find(G7,this._config.parent);e=Xt.find(kre,this._config.parent).filter(d=>!c.includes(d))}let i=Xt.findOne(this._selector);if(e.length){let c=e.find(d=>i!==d);if(t=c?_m.getInstance(c):null,t&&t._isTransitioning)return}if(Te.trigger(this._element,wre).defaultPrevented)return;e.forEach(c=>{i!==c&&_m.getOrCreateInstance(c,{toggle:!1}).hide(),t||AC.set(c,Y7,null)});let r=this._getDimension();this._element.classList.remove(rb),this._element.classList.add(ex),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let s=()=>{this._isTransitioning=!1,this._element.classList.remove(ex),this._element.classList.add(rb,$N),this._element.style[r]="",Te.trigger(this._element,Cre)},l=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(s,this._element,!0),this._element.style[r]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()||Te.trigger(this._element,yre).defaultPrevented)return;let t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,ob(this._element),this._element.classList.add(ex),this._element.classList.remove(rb,$N);let i=this._triggerArray.length;for(let r=0;r<i;r++){let s=this._triggerArray[r],a=uf(s);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0;let n=()=>{this._isTransitioning=!1,this._element.classList.remove(ex),this._element.classList.add(rb),Te.trigger(this._element,Sre)};this._element.style[t]="",this._queueCallback(n,this._element,!0)}_isShown(e=this._element){return e.classList.contains($N)}_getConfig(e){return e={...q7,...Ar.getDataAttributes(this._element),...e},e.toggle=Boolean(e.toggle),e.parent=ff(e.parent),ad(K7,e,vre),e}_getDimension(){return this._element.classList.contains(xre)?Dre:Lre}_initializeChildren(){if(!this._config.parent)return;let e=Xt.find(G7,this._config.parent);Xt.find(KN,this._config.parent).filter(t=>!e.includes(t)).forEach(t=>{let i=uf(t);i&&this._addAriaAndCollapsedClass([t],this._isShown(i))})}_addAriaAndCollapsedClass(e,t){!e.length||e.forEach(i=>{t?i.classList.remove(Z7):i.classList.add(Z7),i.setAttribute("aria-expanded",t)})}static jQueryInterface(e){return this.each(function(){let t={};typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1);let i=_m.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof i[e]=="undefined")throw new TypeError(`No method named "${e}"`);i[e]()}})}};Te.on(document,Ere,KN,function(o){(o.target.tagName==="A"||o.delegateTarget&&o.delegateTarget.tagName==="A")&&o.preventDefault();let e=WN(this);Xt.find(e).forEach(i=>{_m.getOrCreateInstance(i,{toggle:!1}).toggle()})});fl(_m);var YN="dropdown",Ire="bs.dropdown",bm=`.${Ire}`,qN=".data-api",tx="Escape",X7="Space",Q7="Tab",ZN="ArrowUp",ix="ArrowDown",Ore=2,Tre=new RegExp(`${ZN}|${ix}|${tx}`),Nre=`hide${bm}`,Pre=`hidden${bm}`,Rre=`show${bm}`,Mre=`shown${bm}`,J7=`click${bm}${qN}`,e9=`keydown${bm}${qN}`,Are=`keyup${bm}${qN}`,sb="show",Fre="dropup",Bre="dropend",jre="dropstart",Wre="navbar",UC='[data-bs-toggle="dropdown"]',GN=".dropdown-menu",Ure=".navbar-nav",zre=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Vre=ia()?"top-end":"top-start",Hre=ia()?"top-start":"top-end",$re=ia()?"bottom-end":"bottom-start",Kre=ia()?"bottom-start":"bottom-end",Yre=ia()?"left-start":"right-start",qre=ia()?"right-start":"left-start",Zre={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},Gre={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"},ka=class extends gl{constructor(e,t){super(e);this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return Zre}static get DefaultType(){return Gre}static get NAME(){return YN}toggle(){return this._isShown()?this.hide():this.show()}show(){if(hm(this._element)||this._isShown(this._menu))return;let e={relatedTarget:this._element};if(Te.trigger(this._element,Rre,e).defaultPrevented)return;let i=ka.getParentFromElement(this._element);this._inNavbar?Ar.setDataAttribute(this._menu,"popper","none"):this._createPopper(i),"ontouchstart"in document.documentElement&&!i.closest(Ure)&&[].concat(...document.body.children).forEach(n=>Te.on(n,"mouseover",XE)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(sb),this._element.classList.add(sb),Te.trigger(this._element,Mre,e)}hide(){if(hm(this._element)||!this._isShown(this._menu))return;let e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){Te.trigger(this._element,Nre,e).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(i=>Te.off(i,"mouseover",XE)),this._popper&&this._popper.destroy(),this._menu.classList.remove(sb),this._element.classList.remove(sb),this._element.setAttribute("aria-expanded","false"),Ar.removeDataAttribute(this._menu,"popper"),Te.trigger(this._element,Pre,e))}_getConfig(e){if(e={...this.constructor.Default,...Ar.getDataAttributes(this._element),...e},ad(YN,e,this.constructor.DefaultType),typeof e.reference=="object"&&!dm(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${YN.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(e){if(typeof GE=="undefined")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=e:dm(this._config.reference)?t=ff(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);let i=this._getPopperConfig(),n=i.modifiers.find(r=>r.name==="applyStyles"&&r.enabled===!1);this._popper=RC(t,this._menu,i),n&&Ar.setDataAttribute(this._menu,"popper","static")}_isShown(e=this._element){return e.classList.contains(sb)}_getMenuElement(){return Xt.next(this._element,GN)[0]}_getPlacement(){let e=this._element.parentNode;if(e.classList.contains(Bre))return Yre;if(e.classList.contains(jre))return qre;let t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(Fre)?t?Hre:Vre:t?Kre:$re}_detectNavbar(){return this._element.closest(`.${Wre}`)!==null}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){let e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return this._config.display==="static"&&(e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...typeof this._config.popperConfig=="function"?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:t}){let i=Xt.find(zre,this._menu).filter(MC);!i.length||O7(i,t,e===ix,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){let t=ka.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]=="undefined")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e&&(e.button===Ore||e.type==="keyup"&&e.key!==Q7))return;let t=Xt.find(UC);for(let i=0,n=t.length;i<n;i++){let r=ka.getInstance(t[i]);if(!r||r._config.autoClose===!1||!r._isShown())continue;let s={relatedTarget:r._element};if(e){let a=e.composedPath(),l=a.includes(r._menu);if(a.includes(r._element)||r._config.autoClose==="inside"&&!l||r._config.autoClose==="outside"&&l||r._menu.contains(e.target)&&(e.type==="keyup"&&e.key===Q7||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;e.type==="click"&&(s.clickEvent=e)}r._completeHide(s)}}static getParentFromElement(e){return uf(e)||e.parentNode}static dataApiKeydownHandler(e){if(/input|textarea/i.test(e.target.tagName)?e.key===X7||e.key!==tx&&(e.key!==ix&&e.key!==ZN||e.target.closest(GN)):!Tre.test(e.key))return;let t=this.classList.contains(sb);if(!t&&e.key===tx||(e.preventDefault(),e.stopPropagation(),hm(this)))return;let i=this.matches(UC)?this:Xt.prev(this,UC)[0],n=ka.getOrCreateInstance(i);if(e.key===tx){n.hide();return}if(e.key===ZN||e.key===ix){t||n.show(),n._selectMenuItem(e);return}(!t||e.key===X7)&&ka.clearMenus()}};Te.on(document,e9,UC,ka.dataApiKeydownHandler);Te.on(document,e9,GN,ka.dataApiKeydownHandler);Te.on(document,J7,ka.clearMenus);Te.on(document,Are,ka.clearMenus);Te.on(document,J7,UC,function(o){o.preventDefault(),ka.getOrCreateInstance(this).toggle()});fl(ka);var t9=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",i9=".sticky-top",nx=class{constructor(){this._element=document.body}getWidth(){let e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){let e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",t=>t+e),this._setElementAttributes(t9,"paddingRight",t=>t+e),this._setElementAttributes(i9,"marginRight",t=>t-e)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){let n=this.getWidth(),r=s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+n)return;this._saveInitialAttribute(s,t);let a=window.getComputedStyle(s)[t];s.style[t]=`${i(Number.parseFloat(a))}px`};this._applyManipulationCallback(e,r)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(t9,"paddingRight"),this._resetElementAttributes(i9,"marginRight")}_saveInitialAttribute(e,t){let i=e.style[t];i&&Ar.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){let i=n=>{let r=Ar.getDataAttribute(n,t);typeof r=="undefined"?n.style.removeProperty(t):(Ar.removeDataAttribute(n,t),n.style[t]=r)};this._applyManipulationCallback(e,i)}_applyManipulationCallback(e,t){dm(e)?t(e):Xt.find(e,this._element).forEach(t)}isOverflowing(){return this.getWidth()>0}},Xre={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},Qre={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},n9="backdrop",Jre="fade",o9="show",r9=`mousedown.bs.${n9}`,XN=class{constructor(e){this._config=this._getConfig(e),this._isAppended=!1,this._element=null}show(e){if(!this._config.isVisible){um(e);return}this._append(),this._config.isAnimated&&ob(this._getElement()),this._getElement().classList.add(o9),this._emulateAnimation(()=>{um(e)})}hide(e){if(!this._config.isVisible){um(e);return}this._getElement().classList.remove(o9),this._emulateAnimation(()=>{this.dispose(),um(e)})}_getElement(){if(!this._element){let e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Jre),this._element=e}return this._element}_getConfig(e){return e={...Xre,...typeof e=="object"?e:{}},e.rootElement=ff(e.rootElement),ad(n9,e,Qre),e}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),Te.on(this._getElement(),r9,()=>{um(this._config.clickCallback)}),this._isAppended=!0)}dispose(){!this._isAppended||(Te.off(this._element,r9),this._element.remove(),this._isAppended=!1)}_emulateAnimation(e){I7(e,this._getElement(),this._config.isAnimated)}},ese={trapElement:null,autofocus:!0},tse={trapElement:"element",autofocus:"boolean"},ise="focustrap",nse="bs.focustrap",ox=`.${nse}`,ose=`focusin${ox}`,rse=`keydown.tab${ox}`,sse="Tab",ase="forward",s9="backward",QN=class{constructor(e){this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}activate(){let{trapElement:e,autofocus:t}=this._config;this._isActive||(t&&e.focus(),Te.off(document,ox),Te.on(document,ose,i=>this._handleFocusin(i)),Te.on(document,rse,i=>this._handleKeydown(i)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,Te.off(document,ox))}_handleFocusin(e){let{target:t}=e,{trapElement:i}=this._config;if(t===document||t===i||i.contains(t))return;let n=Xt.focusableChildren(i);n.length===0?i.focus():this._lastTabNavDirection===s9?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){e.key===sse&&(this._lastTabNavDirection=e.shiftKey?s9:ase)}_getConfig(e){return e={...ese,...typeof e=="object"?e:{}},ad(ise,e,tse),e}},a9="modal",lse="bs.modal",ml=`.${lse}`,cse=".data-api",l9="Escape",c9={backdrop:!0,keyboard:!0,focus:!0},dse={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},hse=`hide${ml}`,use=`hidePrevented${ml}`,d9=`hidden${ml}`,h9=`show${ml}`,fse=`shown${ml}`,u9=`resize${ml}`,f9=`click.dismiss${ml}`,g9=`keydown.dismiss${ml}`,gse=`mouseup.dismiss${ml}`,m9=`mousedown.dismiss${ml}`,mse=`click${ml}${cse}`,p9="modal-open",pse="fade",_9="show",JN="modal-static",_se=".modal.show",bse=".modal-dialog",vse=".modal-body",wse='[data-bs-toggle="modal"]',vm=class extends gl{constructor(e,t){super(e);this._config=this._getConfig(t),this._dialog=Xt.findOne(bse,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new nx}static get Default(){return c9}static get NAME(){return a9}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||Te.trigger(this._element,h9,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(p9),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),Te.on(this._dialog,m9,()=>{Te.one(this._element,gse,i=>{i.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(e)))}hide(){if(!this._isShown||this._isTransitioning||Te.trigger(this._element,hse).defaultPrevented)return;this._isShown=!1;let t=this._isAnimated();t&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(_9),Te.off(this._element,f9),Te.off(this._dialog,m9),this._queueCallback(()=>this._hideModal(),this._element,t)}dispose(){[window,this._dialog].forEach(e=>Te.off(e,ml)),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new XN({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new QN({trapElement:this._element})}_getConfig(e){return e={...c9,...Ar.getDataAttributes(this._element),...typeof e=="object"?e:{}},ad(a9,e,dse),e}_showElement(e){let t=this._isAnimated(),i=Xt.findOne(vse,this._dialog);(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE)&&document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,i&&(i.scrollTop=0),t&&ob(this._element),this._element.classList.add(_9);let n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Te.trigger(this._element,fse,{relatedTarget:e})};this._queueCallback(n,this._dialog,t)}_setEscapeEvent(){this._isShown?Te.on(this._element,g9,e=>{this._config.keyboard&&e.key===l9?(e.preventDefault(),this.hide()):!this._config.keyboard&&e.key===l9&&this._triggerBackdropTransition()}):Te.off(this._element,g9)}_setResizeEvent(){this._isShown?Te.on(window,u9,()=>this._adjustDialog()):Te.off(window,u9)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(p9),this._resetAdjustments(),this._scrollBar.reset(),Te.trigger(this._element,d9)})}_showBackdrop(e){Te.on(this._element,f9,t=>{if(this._ignoreBackdropClick){this._ignoreBackdropClick=!1;return}t.target===t.currentTarget&&(this._config.backdrop===!0?this.hide():this._config.backdrop==="static"&&this._triggerBackdropTransition())}),this._backdrop.show(e)}_isAnimated(){return this._element.classList.contains(pse)}_triggerBackdropTransition(){if(Te.trigger(this._element,use).defaultPrevented)return;let{classList:t,scrollHeight:i,style:n}=this._element,r=i>document.documentElement.clientHeight;!r&&n.overflowY==="hidden"||t.contains(JN)||(r||(n.overflowY="hidden"),t.add(JN),this._queueCallback(()=>{t.remove(JN),r||this._queueCallback(()=>{n.overflowY=""},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;(!i&&e&&!ia()||i&&!e&&ia())&&(this._element.style.paddingLeft=`${t}px`),(i&&!e&&!ia()||!i&&e&&ia())&&(this._element.style.paddingRight=`${t}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){let i=vm.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]=="undefined")throw new TypeError(`No method named "${e}"`);i[e](t)}})}};Te.on(document,mse,wse,function(o){let e=uf(this);["A","AREA"].includes(this.tagName)&&o.preventDefault(),Te.one(e,h9,n=>{n.defaultPrevented||Te.one(e,d9,()=>{MC(this)&&this.focus()})});let t=Xt.findOne(_se);t&&vm.getInstance(t).hide(),vm.getOrCreateInstance(e).toggle(this)});QE(vm);fl(vm);var b9="offcanvas",Cse="bs.offcanvas",wm=`.${Cse}`,v9=".data-api",yse=`load${wm}${v9}`,Sse="Escape",w9={backdrop:!0,keyboard:!0,scroll:!1},Ese={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},C9="show",xse="offcanvas-backdrop",y9=".offcanvas.show",Dse=`show${wm}`,Lse=`shown${wm}`,kse=`hide${wm}`,S9=`hidden${wm}`,Ise=`click${wm}${v9}`,Ose=`keydown.dismiss${wm}`,Tse='[data-bs-toggle="offcanvas"]',mf=class extends gl{constructor(e,t){super(e);this._config=this._getConfig(t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return b9}static get Default(){return w9}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||Te.trigger(this._element,Dse,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||new nx().hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(C9);let i=()=>{this._config.scroll||this._focustrap.activate(),Te.trigger(this._element,Lse,{relatedTarget:e})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||Te.trigger(this._element,kse).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove(C9),this._backdrop.hide();let t=()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||new nx().reset(),Te.trigger(this._element,S9)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(e){return e={...w9,...Ar.getDataAttributes(this._element),...typeof e=="object"?e:{}},ad(b9,e,Ese),e}_initializeBackDrop(){return new XN({className:xse,isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new QN({trapElement:this._element})}_addEventListeners(){Te.on(this._element,Ose,e=>{this._config.keyboard&&e.key===Sse&&this.hide()})}static jQueryInterface(e){return this.each(function(){let t=mf.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};Te.on(document,Ise,Tse,function(o){let e=uf(this);if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),hm(this))return;Te.one(e,S9,()=>{MC(this)&&this.focus()});let t=Xt.findOne(y9);t&&t!==e&&mf.getInstance(t).hide(),mf.getOrCreateInstance(e).toggle(this)});Te.on(window,yse,()=>Xt.find(y9).forEach(o=>mf.getOrCreateInstance(o).show()));QE(mf);fl(mf);var Nse=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Pse=/^aria-[\w-]*$/i,Rse=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Mse=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Ase=(o,e)=>{let t=o.nodeName.toLowerCase();if(e.includes(t))return Nse.has(t)?Boolean(Rse.test(o.nodeValue)||Mse.test(o.nodeValue)):!0;let i=e.filter(n=>n instanceof RegExp);for(let n=0,r=i.length;n<r;n++)if(i[n].test(t))return!0;return!1},Fse={"*":["class","dir","id","lang","role",Pse],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function E9(o,e,t){if(!o.length)return o;if(t&&typeof t=="function")return t(o);let n=new window.DOMParser().parseFromString(o,"text/html"),r=[].concat(...n.body.querySelectorAll("*"));for(let s=0,a=r.length;s<a;s++){let l=r[s],c=l.nodeName.toLowerCase();if(!Object.keys(e).includes(c)){l.remove();continue}let d=[].concat(...l.attributes),h=[].concat(e["*"]||[],e[c]||[]);d.forEach(u=>{Ase(u,h)||l.removeAttribute(u.nodeName)})}return n.body.innerHTML}var x9="tooltip",Bse="bs.tooltip",cd=`.${Bse}`,jse="bs-tooltip",Wse=new Set(["sanitize","allowList","sanitizeFn"]),Use={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},zse={AUTO:"auto",TOP:"top",RIGHT:ia()?"left":"right",BOTTOM:"bottom",LEFT:ia()?"right":"left"},Vse={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:Fse,popperConfig:null},Hse={HIDE:`hide${cd}`,HIDDEN:`hidden${cd}`,SHOW:`show${cd}`,SHOWN:`shown${cd}`,INSERTED:`inserted${cd}`,CLICK:`click${cd}`,FOCUSIN:`focusin${cd}`,FOCUSOUT:`focusout${cd}`,MOUSEENTER:`mouseenter${cd}`,MOUSELEAVE:`mouseleave${cd}`},rx="fade",$se="modal",zC="show",VC="show",eP="out",D9=".tooltip-inner",L9=`.${$se}`,k9="hide.bs.modal",HC="hover",tP="focus",Kse="click",Yse="manual",Cm=class extends gl{constructor(e,t){if(typeof GE=="undefined")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e);this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(t),this.tip=null,this._setListeners()}static get Default(){return Vse}static get NAME(){return x9}static get Event(){return Hse}static get DefaultType(){return Use}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(e){if(!!this._isEnabled)if(e){let t=this._initializeOnDelegatedTarget(e);t._activeTrigger.click=!t._activeTrigger.click,t._isWithActiveTrigger()?t._enter(null,t):t._leave(null,t)}else{if(this.getTipElement().classList.contains(zC)){this._leave(null,this);return}this._enter(null,this)}}dispose(){clearTimeout(this._timeout),Te.off(this._element.closest(L9),k9,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this.isWithContent()&&this._isEnabled))return;let e=Te.trigger(this._element,this.constructor.Event.SHOW),t=L7(this._element),i=t===null?this._element.ownerDocument.documentElement.contains(this._element):t.contains(this._element);if(e.defaultPrevented||!i)return;this.constructor.NAME==="tooltip"&&this.tip&&this.getTitle()!==this.tip.querySelector(D9).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);let n=this.getTipElement(),r=hoe(this.constructor.NAME);n.setAttribute("id",r),this._element.setAttribute("aria-describedby",r),this._config.animation&&n.classList.add(rx);let s=typeof this._config.placement=="function"?this._config.placement.call(this,n,this._element):this._config.placement,a=this._getAttachment(s);this._addAttachmentClass(a);let{container:l}=this._config;AC.set(n,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(l.append(n),Te.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=RC(this._element,n,this._getPopperConfig(a)),n.classList.add(zC);let c=this._resolvePossibleFunction(this._config.customClass);c&&n.classList.add(...c.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(u=>{Te.on(u,"mouseover",XE)});let d=()=>{let u=this._hoverState;this._hoverState=null,Te.trigger(this._element,this.constructor.Event.SHOWN),u===eP&&this._leave(null,this)},h=this.tip.classList.contains(rx);this._queueCallback(d,this.tip,h)}hide(){if(!this._popper)return;let e=this.getTipElement(),t=()=>{this._isWithActiveTrigger()||(this._hoverState!==VC&&e.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),Te.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())};if(Te.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;e.classList.remove(zC),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(r=>Te.off(r,"mouseover",XE)),this._activeTrigger[Kse]=!1,this._activeTrigger[tP]=!1,this._activeTrigger[HC]=!1;let n=this.tip.classList.contains(rx);this._queueCallback(t,this.tip,n),this._hoverState=""}update(){this._popper!==null&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;let e=document.createElement("div");e.innerHTML=this._config.template;let t=e.children[0];return this.setContent(t),t.classList.remove(rx,zC),this.tip=t,this.tip}setContent(e){this._sanitizeAndSetContent(e,this.getTitle(),D9)}_sanitizeAndSetContent(e,t,i){let n=Xt.findOne(i,e);if(!t&&n){n.remove();return}this.setElementContent(n,t)}setElementContent(e,t){if(e!==null){if(dm(t)){t=ff(t),this._config.html?t.parentNode!==e&&(e.innerHTML="",e.append(t)):e.textContent=t.textContent;return}this._config.html?(this._config.sanitize&&(t=E9(t,this._config.allowList,this._config.sanitizeFn)),e.innerHTML=t):e.textContent=t}}getTitle(){let e=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(e)}updateAttachment(e){return e==="right"?"end":e==="left"?"start":e}_initializeOnDelegatedTarget(e,t){return t||this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return typeof e=="function"?e.call(this._element):e}_getPopperConfig(e){let t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:i=>this._handlePopperPlacementChange(i)}],onFirstUpdate:i=>{i.options.placement!==i.placement&&this._handlePopperPlacementChange(i)}};return{...t,...typeof this._config.popperConfig=="function"?this._config.popperConfig(t):this._config.popperConfig}}_addAttachmentClass(e){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(e)}`)}_getAttachment(e){return zse[e.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach(t=>{if(t==="click")Te.on(this._element,this.constructor.Event.CLICK,this._config.selector,i=>this.toggle(i));else if(t!==Yse){let i=t===HC?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,n=t===HC?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;Te.on(this._element,i,this._config.selector,r=>this._enter(r)),Te.on(this._element,n,this._config.selector,r=>this._leave(r))}}),this._hideModalHandler=()=>{this._element&&this.hide()},Te.on(this._element.closest(L9),k9,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){let e=this._element.getAttribute("title"),t=typeof this._element.getAttribute("data-bs-original-title");(e||t!=="string")&&(this._element.setAttribute("data-bs-original-title",e||""),e&&!this._element.getAttribute("aria-label")&&!this._element.textContent&&this._element.setAttribute("aria-label",e),this._element.setAttribute("title",""))}_enter(e,t){if(t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger[e.type==="focusin"?tP:HC]=!0),t.getTipElement().classList.contains(zC)||t._hoverState===VC){t._hoverState=VC;return}if(clearTimeout(t._timeout),t._hoverState=VC,!t._config.delay||!t._config.delay.show){t.show();return}t._timeout=setTimeout(()=>{t._hoverState===VC&&t.show()},t._config.delay.show)}_leave(e,t){if(t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger[e.type==="focusout"?tP:HC]=t._element.contains(e.relatedTarget)),!t._isWithActiveTrigger()){if(clearTimeout(t._timeout),t._hoverState=eP,!t._config.delay||!t._config.delay.hide){t.hide();return}t._timeout=setTimeout(()=>{t._hoverState===eP&&t.hide()},t._config.delay.hide)}}_isWithActiveTrigger(){for(let e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1}_getConfig(e){let t=Ar.getDataAttributes(this._element);return Object.keys(t).forEach(i=>{Wse.has(i)&&delete t[i]}),e={...this.constructor.Default,...t,...typeof e=="object"&&e?e:{}},e.container=e.container===!1?document.body:ff(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),ad(x9,e,this.constructor.DefaultType),e.sanitize&&(e.template=E9(e.template,e.allowList,e.sanitizeFn)),e}_getDelegateConfig(){let e={};for(let t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e}_cleanTipClass(){let e=this.getTipElement(),t=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),i=e.getAttribute("class").match(t);i!==null&&i.length>0&&i.map(n=>n.trim()).forEach(n=>e.classList.remove(n))}_getBasicClassPrefix(){return jse}_handlePopperPlacementChange(e){let{state:t}=e;!t||(this.tip=t.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(t.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(e){return this.each(function(){let t=Cm.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]=="undefined")throw new TypeError(`No method named "${e}"`);t[e]()}})}};fl(Cm);var qse="popover",Zse="bs.popover",dd=`.${Zse}`,Gse="bs-popover",Xse={...Cm.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},Qse={...Cm.DefaultType,content:"(string|element|function)"},Jse={HIDE:`hide${dd}`,HIDDEN:`hidden${dd}`,SHOW:`show${dd}`,SHOWN:`shown${dd}`,INSERTED:`inserted${dd}`,CLICK:`click${dd}`,FOCUSIN:`focusin${dd}`,FOCUSOUT:`focusout${dd}`,MOUSEENTER:`mouseenter${dd}`,MOUSELEAVE:`mouseleave${dd}`},eae=".popover-header",tae=".popover-body",sx=class extends Cm{static get Default(){return Xse}static get NAME(){return qse}static get Event(){return Jse}static get DefaultType(){return Qse}isWithContent(){return this.getTitle()||this._getContent()}setContent(e){this._sanitizeAndSetContent(e,this.getTitle(),eae),this._sanitizeAndSetContent(e,this._getContent(),tae)}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return Gse}static jQueryInterface(e){return this.each(function(){let t=sx.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]=="undefined")throw new TypeError(`No method named "${e}"`);t[e]()}})}};fl(sx);var I9="scrollspy",iae="bs.scrollspy",ax=`.${iae}`,nae=".data-api",O9={offset:10,method:"auto",target:""},oae={offset:"number",method:"string",target:"(string|element)"},rae=`activate${ax}`,sae=`scroll${ax}`,aae=`load${ax}${nae}`,T9="dropdown-item",ab="active",lae='[data-bs-spy="scroll"]',cae=".nav, .list-group",iP=".nav-link",dae=".nav-item",N9=".list-group-item",nP=`${iP}, ${N9}, .${T9}`,hae=".dropdown",uae=".dropdown-toggle",fae="offset",P9="position",$C=class extends gl{constructor(e,t){super(e);this._scrollElement=this._element.tagName==="BODY"?window:this._element,this._config=this._getConfig(t),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,Te.on(this._scrollElement,sae,()=>this._process()),this.refresh(),this._process()}static get Default(){return O9}static get NAME(){return I9}refresh(){let e=this._scrollElement===this._scrollElement.window?fae:P9,t=this._config.method==="auto"?e:this._config.method,i=t===P9?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),Xt.find(nP,this._config.target).map(r=>{let s=WN(r),a=s?Xt.findOne(s):null;if(a){let l=a.getBoundingClientRect();if(l.width||l.height)return[Ar[t](a).top+i,s]}return null}).filter(r=>r).sort((r,s)=>r[0]-s[0]).forEach(r=>{this._offsets.push(r[0]),this._targets.push(r[1])})}dispose(){Te.off(this._scrollElement,ax),super.dispose()}_getConfig(e){return e={...O9,...Ar.getDataAttributes(this._element),...typeof e=="object"&&e?e:{}},e.target=ff(e.target)||document.documentElement,ad(I9,e,oae),e}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){let e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),i=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=i){let n=this._targets[this._targets.length-1];this._activeTarget!==n&&this._activate(n);return}if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0){this._activeTarget=null,this._clear();return}for(let n=this._offsets.length;n--;)this._activeTarget!==this._targets[n]&&e>=this._offsets[n]&&(typeof this._offsets[n+1]=="undefined"||e<this._offsets[n+1])&&this._activate(this._targets[n])}_activate(e){this._activeTarget=e,this._clear();let t=nP.split(",").map(n=>`${n}[data-bs-target="${e}"],${n}[href="${e}"]`),i=Xt.findOne(t.join(","),this._config.target);i.classList.add(ab),i.classList.contains(T9)?Xt.findOne(uae,i.closest(hae)).classList.add(ab):Xt.parents(i,cae).forEach(n=>{Xt.prev(n,`${iP}, ${N9}`).forEach(r=>r.classList.add(ab)),Xt.prev(n,dae).forEach(r=>{Xt.children(r,iP).forEach(s=>s.classList.add(ab))})}),Te.trigger(this._scrollElement,rae,{relatedTarget:e})}_clear(){Xt.find(nP,this._config.target).filter(e=>e.classList.contains(ab)).forEach(e=>e.classList.remove(ab))}static jQueryInterface(e){return this.each(function(){let t=$C.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]=="undefined")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Te.on(window,aae,()=>{Xt.find(lae).forEach(o=>new $C(o))});fl($C);var gae="tab",mae="bs.tab",KC=`.${mae}`,pae=".data-api",_ae=`hide${KC}`,bae=`hidden${KC}`,vae=`show${KC}`,wae=`shown${KC}`,Cae=`click${KC}${pae}`,yae="dropdown-menu",YC="active",R9="fade",M9="show",Sae=".dropdown",Eae=".nav, .list-group",A9=".active",F9=":scope > li > .active",xae='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Dae=".dropdown-toggle",Lae=":scope > .dropdown-menu .active",qC=class extends gl{static get NAME(){return gae}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(YC))return;let e,t=uf(this._element),i=this._element.closest(Eae);if(i){let a=i.nodeName==="UL"||i.nodeName==="OL"?F9:A9;e=Xt.find(a,i),e=e[e.length-1]}let n=e?Te.trigger(e,_ae,{relatedTarget:this._element}):null;if(Te.trigger(this._element,vae,{relatedTarget:e}).defaultPrevented||n!==null&&n.defaultPrevented)return;this._activate(this._element,i);let s=()=>{Te.trigger(e,bae,{relatedTarget:this._element}),Te.trigger(this._element,wae,{relatedTarget:e})};t?this._activate(t,t.parentNode,s):s()}_activate(e,t,i){let r=(t&&(t.nodeName==="UL"||t.nodeName==="OL")?Xt.find(F9,t):Xt.children(t,A9))[0],s=i&&r&&r.classList.contains(R9),a=()=>this._transitionComplete(e,r,i);r&&s?(r.classList.remove(M9),this._queueCallback(a,e,!0)):a()}_transitionComplete(e,t,i){if(t){t.classList.remove(YC);let r=Xt.findOne(Lae,t.parentNode);r&&r.classList.remove(YC),t.getAttribute("role")==="tab"&&t.setAttribute("aria-selected",!1)}e.classList.add(YC),e.getAttribute("role")==="tab"&&e.setAttribute("aria-selected",!0),ob(e),e.classList.contains(R9)&&e.classList.add(M9);let n=e.parentNode;if(n&&n.nodeName==="LI"&&(n=n.parentNode),n&&n.classList.contains(yae)){let r=e.closest(Sae);r&&Xt.find(Dae,r).forEach(s=>s.classList.add(YC)),e.setAttribute("aria-expanded",!0)}i&&i()}static jQueryInterface(e){return this.each(function(){let t=qC.getOrCreateInstance(this);if(typeof e=="string"){if(typeof t[e]=="undefined")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Te.on(document,Cae,xae,function(o){if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),hm(this))return;qC.getOrCreateInstance(this).show()});fl(qC);var B9="toast",kae="bs.toast",pf=`.${kae}`,Iae=`mouseover${pf}`,Oae=`mouseout${pf}`,Tae=`focusin${pf}`,Nae=`focusout${pf}`,Pae=`hide${pf}`,Rae=`hidden${pf}`,Mae=`show${pf}`,Aae=`shown${pf}`,Fae="fade",j9="hide",ZC="show",lx="showing",Bae={animation:"boolean",autohide:"boolean",delay:"number"},W9={animation:!0,autohide:!0,delay:5e3},GC=class extends gl{constructor(e,t){super(e);this._config=this._getConfig(t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return Bae}static get Default(){return W9}static get NAME(){return B9}show(){if(Te.trigger(this._element,Mae).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Fae);let t=()=>{this._element.classList.remove(lx),Te.trigger(this._element,Aae),this._maybeScheduleHide()};this._element.classList.remove(j9),ob(this._element),this._element.classList.add(ZC),this._element.classList.add(lx),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this._element.classList.contains(ZC)||Te.trigger(this._element,Pae).defaultPrevented)return;let t=()=>{this._element.classList.add(j9),this._element.classList.remove(lx),this._element.classList.remove(ZC),Te.trigger(this._element,Rae)};this._element.classList.add(lx),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this._element.classList.contains(ZC)&&this._element.classList.remove(ZC),super.dispose()}_getConfig(e){return e={...W9,...Ar.getDataAttributes(this._element),...typeof e=="object"&&e?e:{}},ad(B9,e,this.constructor.DefaultType),e}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t;break}if(t){this._clearTimeout();return}let i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){Te.on(this._element,Iae,e=>this._onInteraction(e,!0)),Te.on(this._element,Oae,e=>this._onInteraction(e,!1)),Te.on(this._element,Tae,e=>this._onInteraction(e,!0)),Te.on(this._element,Nae,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){let t=GC.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]=="undefined")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};QE(GC);fl(GC);var NO={};BE(NO,{CancellationTokenSource:()=>Lme,Emitter:()=>kme,KeyCode:()=>M5,KeyMod:()=>A5,MarkerSeverity:()=>Pme,MarkerTag:()=>Rme,Position:()=>Ime,Range:()=>Ome,Selection:()=>Tme,SelectionDirection:()=>Nme,Token:()=>Ame,Uri:()=>Mme,editor:()=>TO,languages:()=>Fme});An();Ei();Se();Na();Ai();ot();ve();ai();c0();var Fx;(function(o){o[o.Unknown=0]="Unknown",o[o.Disabled=1]="Disabled",o[o.Enabled=2]="Enabled"})(Fx||(Fx={}));var Bx;(function(o){o[o.KeepWhitespace=1]="KeepWhitespace",o[o.InsertAsSnippet=4]="InsertAsSnippet"})(Bx||(Bx={}));var jx;(function(o){o[o.Method=0]="Method",o[o.Function=1]="Function",o[o.Constructor=2]="Constructor",o[o.Field=3]="Field",o[o.Variable=4]="Variable",o[o.Class=5]="Class",o[o.Struct=6]="Struct",o[o.Interface=7]="Interface",o[o.Module=8]="Module",o[o.Property=9]="Property",o[o.Event=10]="Event",o[o.Operator=11]="Operator",o[o.Unit=12]="Unit",o[o.Value=13]="Value",o[o.Constant=14]="Constant",o[o.Enum=15]="Enum",o[o.EnumMember=16]="EnumMember",o[o.Keyword=17]="Keyword",o[o.Text=18]="Text",o[o.Color=19]="Color",o[o.File=20]="File",o[o.Reference=21]="Reference",o[o.Customcolor=22]="Customcolor",o[o.Folder=23]="Folder",o[o.TypeParameter=24]="TypeParameter",o[o.User=25]="User",o[o.Issue=26]="Issue",o[o.Snippet=27]="Snippet"})(jx||(jx={}));var Wx;(function(o){o[o.Deprecated=1]="Deprecated"})(Wx||(Wx={}));var Ux;(function(o){o[o.Invoke=0]="Invoke",o[o.TriggerCharacter=1]="TriggerCharacter",o[o.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(Ux||(Ux={}));var zx;(function(o){o[o.EXACT=0]="EXACT",o[o.ABOVE=1]="ABOVE",o[o.BELOW=2]="BELOW"})(zx||(zx={}));var Vx;(function(o){o[o.NotSet=0]="NotSet",o[o.ContentFlush=1]="ContentFlush",o[o.RecoverFromMarkers=2]="RecoverFromMarkers",o[o.Explicit=3]="Explicit",o[o.Paste=4]="Paste",o[o.Undo=5]="Undo",o[o.Redo=6]="Redo"})(Vx||(Vx={}));var Hx;(function(o){o[o.LF=1]="LF",o[o.CRLF=2]="CRLF"})(Hx||(Hx={}));var $x;(function(o){o[o.Text=0]="Text",o[o.Read=1]="Read",o[o.Write=2]="Write"})($x||($x={}));var Kx;(function(o){o[o.None=0]="None",o[o.Keep=1]="Keep",o[o.Brackets=2]="Brackets",o[o.Advanced=3]="Advanced",o[o.Full=4]="Full"})(Kx||(Kx={}));var Yx;(function(o){o[o.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",o[o.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",o[o.accessibilitySupport=2]="accessibilitySupport",o[o.accessibilityPageSize=3]="accessibilityPageSize",o[o.ariaLabel=4]="ariaLabel",o[o.autoClosingBrackets=5]="autoClosingBrackets",o[o.autoClosingDelete=6]="autoClosingDelete",o[o.autoClosingOvertype=7]="autoClosingOvertype",o[o.autoClosingQuotes=8]="autoClosingQuotes",o[o.autoIndent=9]="autoIndent",o[o.automaticLayout=10]="automaticLayout",o[o.autoSurround=11]="autoSurround",o[o.bracketPairColorization=12]="bracketPairColorization",o[o.guides=13]="guides",o[o.codeLens=14]="codeLens",o[o.codeLensFontFamily=15]="codeLensFontFamily",o[o.codeLensFontSize=16]="codeLensFontSize",o[o.colorDecorators=17]="colorDecorators",o[o.columnSelection=18]="columnSelection",o[o.comments=19]="comments",o[o.contextmenu=20]="contextmenu",o[o.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",o[o.cursorBlinking=22]="cursorBlinking",o[o.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",o[o.cursorStyle=24]="cursorStyle",o[o.cursorSurroundingLines=25]="cursorSurroundingLines",o[o.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",o[o.cursorWidth=27]="cursorWidth",o[o.disableLayerHinting=28]="disableLayerHinting",o[o.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",o[o.domReadOnly=30]="domReadOnly",o[o.dragAndDrop=31]="dragAndDrop",o[o.emptySelectionClipboard=32]="emptySelectionClipboard",o[o.extraEditorClassName=33]="extraEditorClassName",o[o.fastScrollSensitivity=34]="fastScrollSensitivity",o[o.find=35]="find",o[o.fixedOverflowWidgets=36]="fixedOverflowWidgets",o[o.folding=37]="folding",o[o.foldingStrategy=38]="foldingStrategy",o[o.foldingHighlight=39]="foldingHighlight",o[o.foldingImportsByDefault=40]="foldingImportsByDefault",o[o.unfoldOnClickAfterEndOfLine=41]="unfoldOnClickAfterEndOfLine",o[o.fontFamily=42]="fontFamily",o[o.fontInfo=43]="fontInfo",o[o.fontLigatures=44]="fontLigatures",o[o.fontSize=45]="fontSize",o[o.fontWeight=46]="fontWeight",o[o.formatOnPaste=47]="formatOnPaste",o[o.formatOnType=48]="formatOnType",o[o.glyphMargin=49]="glyphMargin",o[o.gotoLocation=50]="gotoLocation",o[o.hideCursorInOverviewRuler=51]="hideCursorInOverviewRuler",o[o.hover=52]="hover",o[o.inDiffEditor=53]="inDiffEditor",o[o.inlineSuggest=54]="inlineSuggest",o[o.letterSpacing=55]="letterSpacing",o[o.lightbulb=56]="lightbulb",o[o.lineDecorationsWidth=57]="lineDecorationsWidth",o[o.lineHeight=58]="lineHeight",o[o.lineNumbers=59]="lineNumbers",o[o.lineNumbersMinChars=60]="lineNumbersMinChars",o[o.linkedEditing=61]="linkedEditing",o[o.links=62]="links",o[o.matchBrackets=63]="matchBrackets",o[o.minimap=64]="minimap",o[o.mouseStyle=65]="mouseStyle",o[o.mouseWheelScrollSensitivity=66]="mouseWheelScrollSensitivity",o[o.mouseWheelZoom=67]="mouseWheelZoom",o[o.multiCursorMergeOverlapping=68]="multiCursorMergeOverlapping",o[o.multiCursorModifier=69]="multiCursorModifier",o[o.multiCursorPaste=70]="multiCursorPaste",o[o.occurrencesHighlight=71]="occurrencesHighlight",o[o.overviewRulerBorder=72]="overviewRulerBorder",o[o.overviewRulerLanes=73]="overviewRulerLanes",o[o.padding=74]="padding",o[o.parameterHints=75]="parameterHints",o[o.peekWidgetDefaultFocus=76]="peekWidgetDefaultFocus",o[o.definitionLinkOpensInPeek=77]="definitionLinkOpensInPeek",o[o.quickSuggestions=78]="quickSuggestions",o[o.quickSuggestionsDelay=79]="quickSuggestionsDelay",o[o.readOnly=80]="readOnly",o[o.renameOnType=81]="renameOnType",o[o.renderControlCharacters=82]="renderControlCharacters",o[o.renderFinalNewline=83]="renderFinalNewline",o[o.renderLineHighlight=84]="renderLineHighlight",o[o.renderLineHighlightOnlyWhenFocus=85]="renderLineHighlightOnlyWhenFocus",o[o.renderValidationDecorations=86]="renderValidationDecorations",o[o.renderWhitespace=87]="renderWhitespace",o[o.revealHorizontalRightPadding=88]="revealHorizontalRightPadding",o[o.roundedSelection=89]="roundedSelection",o[o.rulers=90]="rulers",o[o.scrollbar=91]="scrollbar",o[o.scrollBeyondLastColumn=92]="scrollBeyondLastColumn",o[o.scrollBeyondLastLine=93]="scrollBeyondLastLine",o[o.scrollPredominantAxis=94]="scrollPredominantAxis",o[o.selectionClipboard=95]="selectionClipboard",o[o.selectionHighlight=96]="selectionHighlight",o[o.selectOnLineNumbers=97]="selectOnLineNumbers",o[o.showFoldingControls=98]="showFoldingControls",o[o.showUnused=99]="showUnused",o[o.snippetSuggestions=100]="snippetSuggestions",o[o.smartSelect=101]="smartSelect",o[o.smoothScrolling=102]="smoothScrolling",o[o.stickyTabStops=103]="stickyTabStops",o[o.stopRenderingLineAfter=104]="stopRenderingLineAfter",o[o.suggest=105]="suggest",o[o.suggestFontSize=106]="suggestFontSize",o[o.suggestLineHeight=107]="suggestLineHeight",o[o.suggestOnTriggerCharacters=108]="suggestOnTriggerCharacters",o[o.suggestSelection=109]="suggestSelection",o[o.tabCompletion=110]="tabCompletion",o[o.tabIndex=111]="tabIndex",o[o.unicodeHighlighting=112]="unicodeHighlighting",o[o.unusualLineTerminators=113]="unusualLineTerminators",o[o.useShadowDOM=114]="useShadowDOM",o[o.useTabStops=115]="useTabStops",o[o.wordSeparators=116]="wordSeparators",o[o.wordWrap=117]="wordWrap",o[o.wordWrapBreakAfterCharacters=118]="wordWrapBreakAfterCharacters",o[o.wordWrapBreakBeforeCharacters=119]="wordWrapBreakBeforeCharacters",o[o.wordWrapColumn=120]="wordWrapColumn",o[o.wordWrapOverride1=121]="wordWrapOverride1",o[o.wordWrapOverride2=122]="wordWrapOverride2",o[o.wrappingIndent=123]="wrappingIndent",o[o.wrappingStrategy=124]="wrappingStrategy",o[o.showDeprecated=125]="showDeprecated",o[o.inlayHints=126]="inlayHints",o[o.editorClassName=127]="editorClassName",o[o.pixelRatio=128]="pixelRatio",o[o.tabFocusMode=129]="tabFocusMode",o[o.layoutInfo=130]="layoutInfo",o[o.wrappingInfo=131]="wrappingInfo"})(Yx||(Yx={}));var qx;(function(o){o[o.TextDefined=0]="TextDefined",o[o.LF=1]="LF",o[o.CRLF=2]="CRLF"})(qx||(qx={}));var Zx;(function(o){o[o.LF=0]="LF",o[o.CRLF=1]="CRLF"})(Zx||(Zx={}));var Gx;(function(o){o[o.None=0]="None",o[o.Indent=1]="Indent",o[o.IndentOutdent=2]="IndentOutdent",o[o.Outdent=3]="Outdent"})(Gx||(Gx={}));var Xx;(function(o){o[o.Other=0]="Other",o[o.Type=1]="Type",o[o.Parameter=2]="Parameter"})(Xx||(Xx={}));var Qx;(function(o){o[o.Automatic=0]="Automatic",o[o.Explicit=1]="Explicit"})(Qx||(Qx={}));var Jx;(function(o){o[o.DependsOnKbLayout=-1]="DependsOnKbLayout",o[o.Unknown=0]="Unknown",o[o.Backspace=1]="Backspace",o[o.Tab=2]="Tab",o[o.Enter=3]="Enter",o[o.Shift=4]="Shift",o[o.Ctrl=5]="Ctrl",o[o.Alt=6]="Alt",o[o.PauseBreak=7]="PauseBreak",o[o.CapsLock=8]="CapsLock",o[o.Escape=9]="Escape",o[o.Space=10]="Space",o[o.PageUp=11]="PageUp",o[o.PageDown=12]="PageDown",o[o.End=13]="End",o[o.Home=14]="Home",o[o.LeftArrow=15]="LeftArrow",o[o.UpArrow=16]="UpArrow",o[o.RightArrow=17]="RightArrow",o[o.DownArrow=18]="DownArrow",o[o.Insert=19]="Insert",o[o.Delete=20]="Delete",o[o.Digit0=21]="Digit0",o[o.Digit1=22]="Digit1",o[o.Digit2=23]="Digit2",o[o.Digit3=24]="Digit3",o[o.Digit4=25]="Digit4",o[o.Digit5=26]="Digit5",o[o.Digit6=27]="Digit6",o[o.Digit7=28]="Digit7",o[o.Digit8=29]="Digit8",o[o.Digit9=30]="Digit9",o[o.KeyA=31]="KeyA",o[o.KeyB=32]="KeyB",o[o.KeyC=33]="KeyC",o[o.KeyD=34]="KeyD",o[o.KeyE=35]="KeyE",o[o.KeyF=36]="KeyF",o[o.KeyG=37]="KeyG",o[o.KeyH=38]="KeyH",o[o.KeyI=39]="KeyI",o[o.KeyJ=40]="KeyJ",o[o.KeyK=41]="KeyK",o[o.KeyL=42]="KeyL",o[o.KeyM=43]="KeyM",o[o.KeyN=44]="KeyN",o[o.KeyO=45]="KeyO",o[o.KeyP=46]="KeyP",o[o.KeyQ=47]="KeyQ",o[o.KeyR=48]="KeyR",o[o.KeyS=49]="KeyS",o[o.KeyT=50]="KeyT",o[o.KeyU=51]="KeyU",o[o.KeyV=52]="KeyV",o[o.KeyW=53]="KeyW",o[o.KeyX=54]="KeyX",o[o.KeyY=55]="KeyY",o[o.KeyZ=56]="KeyZ",o[o.Meta=57]="Meta",o[o.ContextMenu=58]="ContextMenu",o[o.F1=59]="F1",o[o.F2=60]="F2",o[o.F3=61]="F3",o[o.F4=62]="F4",o[o.F5=63]="F5",o[o.F6=64]="F6",o[o.F7=65]="F7",o[o.F8=66]="F8",o[o.F9=67]="F9",o[o.F10=68]="F10",o[o.F11=69]="F11",o[o.F12=70]="F12",o[o.F13=71]="F13",o[o.F14=72]="F14",o[o.F15=73]="F15",o[o.F16=74]="F16",o[o.F17=75]="F17",o[o.F18=76]="F18",o[o.F19=77]="F19",o[o.NumLock=78]="NumLock",o[o.ScrollLock=79]="ScrollLock",o[o.Semicolon=80]="Semicolon",o[o.Equal=81]="Equal",o[o.Comma=82]="Comma",o[o.Minus=83]="Minus",o[o.Period=84]="Period",o[o.Slash=85]="Slash",o[o.Backquote=86]="Backquote",o[o.BracketLeft=87]="BracketLeft",o[o.Backslash=88]="Backslash",o[o.BracketRight=89]="BracketRight",o[o.Quote=90]="Quote",o[o.OEM_8=91]="OEM_8",o[o.IntlBackslash=92]="IntlBackslash",o[o.Numpad0=93]="Numpad0",o[o.Numpad1=94]="Numpad1",o[o.Numpad2=95]="Numpad2",o[o.Numpad3=96]="Numpad3",o[o.Numpad4=97]="Numpad4",o[o.Numpad5=98]="Numpad5",o[o.Numpad6=99]="Numpad6",o[o.Numpad7=100]="Numpad7",o[o.Numpad8=101]="Numpad8",o[o.Numpad9=102]="Numpad9",o[o.NumpadMultiply=103]="NumpadMultiply",o[o.NumpadAdd=104]="NumpadAdd",o[o.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",o[o.NumpadSubtract=106]="NumpadSubtract",o[o.NumpadDecimal=107]="NumpadDecimal",o[o.NumpadDivide=108]="NumpadDivide",o[o.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",o[o.ABNT_C1=110]="ABNT_C1",o[o.ABNT_C2=111]="ABNT_C2",o[o.AudioVolumeMute=112]="AudioVolumeMute",o[o.AudioVolumeUp=113]="AudioVolumeUp",o[o.AudioVolumeDown=114]="AudioVolumeDown",o[o.BrowserSearch=115]="BrowserSearch",o[o.BrowserHome=116]="BrowserHome",o[o.BrowserBack=117]="BrowserBack",o[o.BrowserForward=118]="BrowserForward",o[o.MediaTrackNext=119]="MediaTrackNext",o[o.MediaTrackPrevious=120]="MediaTrackPrevious",o[o.MediaStop=121]="MediaStop",o[o.MediaPlayPause=122]="MediaPlayPause",o[o.LaunchMediaPlayer=123]="LaunchMediaPlayer",o[o.LaunchMail=124]="LaunchMail",o[o.LaunchApp2=125]="LaunchApp2",o[o.MAX_VALUE=126]="MAX_VALUE"})(Jx||(Jx={}));var eD;(function(o){o[o.Hint=1]="Hint",o[o.Info=2]="Info",o[o.Warning=4]="Warning",o[o.Error=8]="Error"})(eD||(eD={}));var tD;(function(o){o[o.Unnecessary=1]="Unnecessary",o[o.Deprecated=2]="Deprecated"})(tD||(tD={}));var iD;(function(o){o[o.Inline=1]="Inline",o[o.Gutter=2]="Gutter"})(iD||(iD={}));var nD;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.TEXTAREA=1]="TEXTAREA",o[o.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",o[o.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",o[o.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",o[o.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",o[o.CONTENT_TEXT=6]="CONTENT_TEXT",o[o.CONTENT_EMPTY=7]="CONTENT_EMPTY",o[o.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",o[o.CONTENT_WIDGET=9]="CONTENT_WIDGET",o[o.OVERVIEW_RULER=10]="OVERVIEW_RULER",o[o.SCROLLBAR=11]="SCROLLBAR",o[o.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",o[o.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(nD||(nD={}));var oD;(function(o){o[o.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",o[o.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",o[o.TOP_CENTER=2]="TOP_CENTER"})(oD||(oD={}));var rD;(function(o){o[o.Left=1]="Left",o[o.Center=2]="Center",o[o.Right=4]="Right",o[o.Full=7]="Full"})(rD||(rD={}));var sD;(function(o){o[o.Off=0]="Off",o[o.On=1]="On",o[o.Relative=2]="Relative",o[o.Interval=3]="Interval",o[o.Custom=4]="Custom"})(sD||(sD={}));var aD;(function(o){o[o.None=0]="None",o[o.Text=1]="Text",o[o.Blocks=2]="Blocks"})(aD||(aD={}));var lD;(function(o){o[o.Smooth=0]="Smooth",o[o.Immediate=1]="Immediate"})(lD||(lD={}));var cD;(function(o){o[o.Auto=1]="Auto",o[o.Hidden=2]="Hidden",o[o.Visible=3]="Visible"})(cD||(cD={}));var dD;(function(o){o[o.LTR=0]="LTR",o[o.RTL=1]="RTL"})(dD||(dD={}));var hD;(function(o){o[o.Invoke=1]="Invoke",o[o.TriggerCharacter=2]="TriggerCharacter",o[o.ContentChange=3]="ContentChange"})(hD||(hD={}));var uD;(function(o){o[o.File=0]="File",o[o.Module=1]="Module",o[o.Namespace=2]="Namespace",o[o.Package=3]="Package",o[o.Class=4]="Class",o[o.Method=5]="Method",o[o.Property=6]="Property",o[o.Field=7]="Field",o[o.Constructor=8]="Constructor",o[o.Enum=9]="Enum",o[o.Interface=10]="Interface",o[o.Function=11]="Function",o[o.Variable=12]="Variable",o[o.Constant=13]="Constant",o[o.String=14]="String",o[o.Number=15]="Number",o[o.Boolean=16]="Boolean",o[o.Array=17]="Array",o[o.Object=18]="Object",o[o.Key=19]="Key",o[o.Null=20]="Null",o[o.EnumMember=21]="EnumMember",o[o.Struct=22]="Struct",o[o.Event=23]="Event",o[o.Operator=24]="Operator",o[o.TypeParameter=25]="TypeParameter"})(uD||(uD={}));var fD;(function(o){o[o.Deprecated=1]="Deprecated"})(fD||(fD={}));var gD;(function(o){o[o.Hidden=0]="Hidden",o[o.Blink=1]="Blink",o[o.Smooth=2]="Smooth",o[o.Phase=3]="Phase",o[o.Expand=4]="Expand",o[o.Solid=5]="Solid"})(gD||(gD={}));var mD;(function(o){o[o.Line=1]="Line",o[o.Block=2]="Block",o[o.Underline=3]="Underline",o[o.LineThin=4]="LineThin",o[o.BlockOutline=5]="BlockOutline",o[o.UnderlineThin=6]="UnderlineThin"})(mD||(mD={}));var pD;(function(o){o[o.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",o[o.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",o[o.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",o[o.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(pD||(pD={}));var _D;(function(o){o[o.None=0]="None",o[o.Same=1]="Same",o[o.Indent=2]="Indent",o[o.DeepIndent=3]="DeepIndent"})(_D||(_D={}));var vb=class{static chord(e,t){return Ji(e,t)}};vb.CtrlCmd=2048;vb.Shift=1024;vb.Alt=512;vb.WinCtrl=256;function bD(){return{editor:void 0,languages:void 0,CancellationTokenSource:sn,Emitter:F,KeyCode:Jx,KeyMod:vb,Position:H,Range:D,Selection:de,SelectionDirection:dD,MarkerSeverity:eD,MarkerTag:tD,Uri:Ee,Token:Ah}}_o();Me();Ei();Rh();Is();Rb();Ai();function x0(o){let e=JSON.parse(o);return e=tR(e),e}function tR(o,e=0){if(!o||e>200)return o;if(typeof o=="object"){switch(o.$mid){case 1:return Ee.revive(o);case 2:return new RegExp(o.source,o.flags)}if(o instanceof Rm||o instanceof Uint8Array)return o;if(Array.isArray(o))for(let t=0;t<o.length;++t)o[t]=tR(o[t],e+1);else for(let t in o)Object.hasOwnProperty.call(o,t)&&(o[t]=tR(o[t],e+1))}return o}ns();Er();Ai();_o();zi();var L0;(function(o){o[o.API=0]="API",o[o.USER=1]="USER"})(L0||(L0={}));ne();je();Ai();Ge();var G6=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},oo=Fe("openerService"),X6=Object.freeze({_serviceBrand:void 0,registerOpener(){return $.None},registerValidator(){return $.None},registerExternalUriResolver(){return $.None},setDefaultExternalOpener(){},registerExternalOpener(){return $.None},open(){return G6(this,void 0,void 0,function*(){return!1})},resolveExternalUri(o){return G6(this,void 0,void 0,function*(){return{resolved:o,dispose(){}}})}});function sR(o,e){return Ee.isUri(o)?Fh(o.scheme,e):Ib(o,e+":")}function aR(o,...e){return e.some(t=>sR(o,t))}var lR=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},zD=function(o,e){return function(t,i){e(t,i,o)}},Mm=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},cR=class{constructor(e){this._commandService=e}open(e,t){return Mm(this,void 0,void 0,function*(){if(!sR(e,nt.command))return!1;if(!(t==null?void 0:t.allowCommands))return!0;typeof e=="string"&&(e=Ee.parse(e));let i=[];try{i=x0(decodeURIComponent(e.query))}catch{try{i=x0(e.query)}catch{}}return Array.isArray(i)||(i=[i]),yield this._commandService.executeCommand(e.path,...i),!0})}};cR=lR([zD(0,li)],cR);var dR=class{constructor(e){this._editorService=e}open(e,t){return Mm(this,void 0,void 0,function*(){typeof e=="string"&&(e=Ee.parse(e));let i,n=/^L?(\d+)(?:,(\d+))?/.exec(e.fragment);return n&&(i={startLineNumber:parseInt(n[1]),startColumn:n[2]?parseInt(n[2]):1},e=e.with({fragment:""})),e.scheme===nt.file&&(e=Y6(e)),yield this._editorService.openCodeEditor({resource:e,options:Object.assign({selection:i,context:(t==null?void 0:t.fromUserGesture)?L0.USER:L0.API},t==null?void 0:t.editorOptions)},this._editorService.getFocusedCodeEditor(),t==null?void 0:t.openToSide),!0})}};dR=lR([zD(0,Ot)],dR);var VD=class{constructor(e,t){this._openers=new io,this._validators=new io,this._resolvers=new io,this._resolvedUriTargets=new Fn(i=>i.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new io,this._defaultExternalOpener={openExternal:i=>Mm(this,void 0,void 0,function*(){return aR(i,nt.http,nt.https)?ID(i):window.location.href=i,!0})},this._openers.push({open:(i,n)=>Mm(this,void 0,void 0,function*(){return(n==null?void 0:n.openExternal)||aR(i,nt.mailto,nt.http,nt.https,nt.vsls)?(yield this._doOpenExternal(i,n),!0):!1})}),this._openers.push(new cR(t)),this._openers.push(new dR(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}registerValidator(e){return{dispose:this._validators.push(e)}}registerExternalUriResolver(e){return{dispose:this._resolvers.push(e)}}setDefaultExternalOpener(e){this._defaultExternalOpener=e}registerExternalOpener(e){return{dispose:this._externalOpeners.push(e)}}open(e,t){var i;return Mm(this,void 0,void 0,function*(){let n=typeof e=="string"?Ee.parse(e):e,r=(i=this._resolvedUriTargets.get(n))!==null&&i!==void 0?i:e;for(let s of this._validators)if(!(yield s.shouldOpen(r)))return!1;for(let s of this._openers)if(yield s.open(e,t))return!0;return!1})}resolveExternalUri(e,t){return Mm(this,void 0,void 0,function*(){for(let i of this._resolvers)try{let n=yield i.resolveExternalUri(e,t);if(n)return this._resolvedUriTargets.has(n.resolved)||this._resolvedUriTargets.set(n.resolved,e),n}catch{}throw new Error("Could not resolve external URI: "+e.toString())})}_doOpenExternal(e,t){return Mm(this,void 0,void 0,function*(){let i=typeof e=="string"?Ee.parse(e):e,n;try{n=(yield this.resolveExternalUri(i,t)).resolved}catch{n=i}let r;if(typeof e=="string"&&i.toString()===n.toString()?r=e:r=encodeURI(n.toString(!0)),t==null?void 0:t.allowContributedOpeners){let s=typeof(t==null?void 0:t.allowContributedOpeners)=="string"?t==null?void 0:t.allowContributedOpeners:void 0;for(let a of this._externalOpeners)if(yield a.openExternal(r,{sourceUri:i,preferredOpenerId:s},qe.None))return!0}return this._defaultExternalOpener.openExternal(r,{sourceUri:i},qe.None)})}dispose(){this._validators.clear()}};VD=lR([zD(0,Ot),zD(1,li)],VD);hR();Se();ne();Wo();ve();var Qle={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0},uR=class extends ${constructor(e,t={}){super();this._onDidUpdate=this._register(new F),this._editor=e,this._options=tr(t,Qle,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(i=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(i=>{this.revealFirst=!0})),this._init()}_init(){!!this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(e){this.ranges=[],e&&e.forEach(t=>{!this._options.ignoreCharChanges&&t.charChanges?t.charChanges.forEach(i=>{this.ranges.push({rhs:!0,range:new D(i.modifiedStartLineNumber,i.modifiedStartColumn,i.modifiedEndLineNumber,i.modifiedEndColumn)})}):t.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new D(t.modifiedStartLineNumber,1,t.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new D(t.modifiedStartLineNumber,1,t.modifiedEndLineNumber+1,1)})}),this.ranges.sort((t,i)=>D.compareRangesUsingStarts(t.range,i.range)),this._onDidUpdate.fire(this)}_initIdx(e){let t=!1,i=this._editor.getPosition();if(!i){this.nextIdx=0;return}for(let n=0,r=this.ranges.length;n<r&&!t;n++){let s=this.ranges[n].range;i.isBeforeOrEqual(s.getStartPosition())&&(this.nextIdx=n+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(e,t){if(Ab(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let i=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let n=i.range.getStartPosition();this._editor.setPosition(n),this._editor.revealRangeInCenter(i.range,t)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(e=0){this._move(!0,e)}previous(e=0){this._move(!1,e)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}};An();wt();Se();var Wa=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new F,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(o){o=Math.min(Math.max(-5,o),20),this._zoomLevel!==o&&(this._zoomLevel=o,this._onDidChangeZoomLevel.fire(this._zoomLevel))}};var Jle=Xe?1.5:1.35,fR=8,Cd=class{constructor(e){this._bareFontInfoBrand=void 0,this.zoomLevel=e.zoomLevel,this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.lineHeight=e.lineHeight|0,this.letterSpacing=e.letterSpacing}static createFromValidatedSettings(e,t,i,n){let r=e.get(42),s=e.get(46),a=e.get(45),l=e.get(44),c=e.get(58),d=e.get(55);return Cd._create(r,s,a,l,c,d,t,i,n)}static _create(e,t,i,n,r,s,a,l,c){r===0?r=Jle*i:r<fR&&(r=r*i),r=Math.round(r),r<fR&&(r=fR);let d=1+(c?0:Wa.getZoomLevel()*.1);return i*=d,r*=d,new Cd({zoomLevel:a,pixelRatio:l,fontFamily:e,fontWeight:t,fontSize:i,fontFeatureSettings:n,lineHeight:r,letterSpacing:s})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(e){let t=Cd._wrapInQuotes(this.fontFamily);return e&&this.fontFamily!==e?`${t}, ${e}`:t}static _wrapInQuotes(e){return/[,"']/.test(e)?e:/[+ ]/.test(e)?`"${e}"`:e}},ece=1,Fb=class extends Cd{constructor(e,t){super(e);this._editorStylingBrand=void 0,this.version=ece,this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}};k0();Os();Tt();Uf();xd();ar();Dc();tt();ne();st();Se();ne();wt();di();je();var Sce="$initialize",SW=!1;function A0(o){!na||(SW||(SW=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(o.message))}var EW=class{constructor(e,t,i,n){this.vsWorker=e,this.req=t,this.method=i,this.args=n,this.type=0}},DR=class{constructor(e,t,i,n){this.vsWorker=e,this.seq=t,this.res=i,this.err=n,this.type=1}},xW=class{constructor(e,t,i,n){this.vsWorker=e,this.req=t,this.eventName=i,this.arg=n,this.type=2}},DW=class{constructor(e,t,i){this.vsWorker=e,this.req=t,this.event=i,this.type=3}},LW=class{constructor(e,t){this.vsWorker=e,this.req=t,this.type=4}},kW=class{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(e){this._workerId=e}sendMessage(e,t){let i=String(++this._lastSentReq);return new Promise((n,r)=>{this._pendingReplies[i]={resolve:n,reject:r},this._send(new EW(this._workerId,i,e,t))})}listen(e,t){let i=null,n=new F({onFirstListenerAdd:()=>{i=String(++this._lastSentReq),this._pendingEmitters.set(i,n),this._send(new xW(this._workerId,i,e,t))},onLastListenerRemove:()=>{this._pendingEmitters.delete(i),this._send(new LW(this._workerId,i)),i=null}});return n.event}handleMessage(e){!e||!e.vsWorker||this._workerId!==-1&&e.vsWorker!==this._workerId||this._handleMessage(e)}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}_handleReplyMessage(e){if(!this._pendingReplies[e.seq]){console.warn("Got reply to unknown seq");return}let t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){let i=e.err;e.err.$isError&&(i=new Error,i.name=e.err.name,i.message=e.err.message,i.stack=e.err.stack),t.reject(i);return}t.resolve(e.res)}_handleRequestMessage(e){let t=e.req;this._handler.handleMessage(e.method,e.args).then(n=>{this._send(new DR(this._workerId,t,n,void 0))},n=>{n.detail instanceof Error&&(n.detail=gP(n.detail)),this._send(new DR(this._workerId,t,void 0,gP(n)))})}_handleSubscribeEventMessage(e){let t=e.req,i=this._handler.handleEvent(e.eventName,e.arg)(n=>{this._send(new DW(this._workerId,t,n))});this._pendingEvents.set(t,i)}_handleEventMessage(e){if(!this._pendingEmitters.has(e.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(e.req).fire(e.event)}_handleUnsubscribeEventMessage(e){if(!this._pendingEvents.has(e.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req)}_send(e){let t=[];if(e.type===0)for(let i=0;i<e.args.length;i++)e.args[i]instanceof ArrayBuffer&&t.push(e.args[i]);else e.type===1&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t)}},LR=class extends ${constructor(e,t,i){super();let n=null;this._worker=this._register(e.create("vs/base/common/worker/simpleWorker",c=>{this._protocol.handleMessage(c)},c=>{n&&n(c)})),this._protocol=new kW({sendMessage:(c,d)=>{this._worker.postMessage(c,d)},handleMessage:(c,d)=>{if(typeof i[c]!="function")return Promise.reject(new Error("Missing method "+c+" on main thread host."));try{return Promise.resolve(i[c].apply(i,d))}catch(h){return Promise.reject(h)}},handleEvent:(c,d)=>{if(OW(c)){let h=i[c].call(i,d);if(typeof h!="function")throw new Error(`Missing dynamic event ${c} on main thread host.`);return h}if(IW(c)){let h=i[c];if(typeof h!="function")throw new Error(`Missing event ${c} on main thread host.`);return h}throw new Error(`Malformed event name ${c}`)}}),this._protocol.setWorkerId(this._worker.getId());let r=null;typeof vi.require!="undefined"&&typeof vi.require.getConfig=="function"?r=vi.require.getConfig():typeof vi.requirejs!="undefined"&&(r=vi.requirejs.s.contexts._.config);let s=fb(i);this._onModuleLoaded=this._protocol.sendMessage(Sce,[this._worker.getId(),JSON.parse(JSON.stringify(r)),t,s]);let a=(c,d)=>this._request(c,d),l=(c,d)=>this._protocol.listen(c,d);this._lazyProxy=new Promise((c,d)=>{n=d,this._onModuleLoaded.then(h=>{c(Ece(h,a,l))},h=>{d(h),this._onError("Worker failed to load "+t,h)})})}getProxyObject(){return this._lazyProxy}_request(e,t){return new Promise((i,n)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(e,t).then(i,n)},n)})}_onError(e,t){console.error(e),console.info(t)}};function IW(o){return o[0]==="o"&&o[1]==="n"&&Aa(o.charCodeAt(2))}function OW(o){return/^onDynamic/.test(o)&&Aa(o.charCodeAt(9))}function Ece(o,e,t){let i=s=>function(){let a=Array.prototype.slice.call(arguments,0);return e(s,a)},n=s=>function(a){return t(s,a)},r={};for(let s of o){if(OW(s)){r[s]=n(s);continue}if(IW(s)){r[s]=t(s,void 0);continue}r[s]=i(s)}return r}wt();var kR,TW=(kR=window.trustedTypes)===null||kR===void 0?void 0:kR.createPolicy("defaultWorkerFactory",{createScriptURL:o=>o});function xce(o,e){if(vi.MonacoEnvironment){if(typeof vi.MonacoEnvironment.getWorker=="function")return vi.MonacoEnvironment.getWorker(o,e);if(typeof vi.MonacoEnvironment.getWorkerUrl=="function"){let t=vi.MonacoEnvironment.getWorkerUrl(o,e);return new Worker(TW?TW.createScriptURL(t):t,{name:e})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function Dce(o){return typeof o.then=="function"}var NW=class{constructor(e,t,i,n,r){this.id=t;let s=xce("workerMain.js",i);Dce(s)?this.worker=s:this.worker=Promise.resolve(s),this.postMessage(e,[]),this.worker.then(a=>{a.onmessage=function(l){n(l.data)},a.onmessageerror=r,typeof a.addEventListener=="function"&&a.addEventListener("error",r)})}getId(){return this.id}postMessage(e,t){this.worker&&this.worker.then(i=>i.postMessage(e,t))}dispose(){this.worker&&this.worker.then(e=>e.terminate()),this.worker=null}},Kb=class{constructor(e){this._label=e,this._webWorkerFailedBeforeError=!1}create(e,t,i){let n=++Kb.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new NW(e,n,this._label||"anonymous"+n,t,r=>{A0(r),this._webWorkerFailedBeforeError=r,i(r)})}};Kb.LAST_WORKER_ID=0;ve();Tt();zo();var Ld=class{constructor(e,t,i,n){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=n}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}};Wb();var HR=class{constructor(e){this.source=e}getElements(){let e=this.source,t=new Int32Array(e.length);for(let i=0,n=e.length;i<n;i++)t[i]=e.charCodeAt(i);return t}};function tU(o,e,t){return new la(new HR(o),new HR(e)).ComputeDiff(t).changes}var Km=class{static Assert(e,t){if(!e)throw new Error(t)}},Ym=class{static Copy(e,t,i,n,r){for(let s=0;s<r;s++)i[n+s]=e[t+s]}static Copy2(e,t,i,n,r){for(let s=0;s<r;s++)i[n+s]=e[t+s]}},$R=class{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new Ld(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}},la=class{constructor(e,t,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=e,this._modifiedSequence=t;let[n,r,s]=la._getElements(e),[a,l,c]=la._getElements(t);this._hasStrings=s&&c,this._originalStringElements=n,this._originalElementsOrHash=r,this._modifiedStringElements=a,this._modifiedElementsOrHash=l,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&typeof e[0]=="string"}static _getElements(e){let t=e.getElements();if(la._isStringArray(t)){let i=new Int32Array(t.length);for(let n=0,r=t.length;n<r;n++)i[n]=$D(t[n],0);return[t,i,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._modifiedStringElements[t]:!0}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;let i=la._getStrictElement(this._originalSequence,e),n=la._getStrictElement(this._modifiedSequence,t);return i===n}static _getStrictElement(e,t){return typeof e.getStrictElement=="function"?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._originalElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._originalStringElements[t]:!0}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._modifiedStringElements[e]===this._modifiedStringElements[t]:!0}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,n,r){let s=[!1],a=this.ComputeDiffRecursive(e,t,i,n,s);return r&&(a=this.PrettifyChanges(a)),{quitEarly:s[0],changes:a}}ComputeDiffRecursive(e,t,i,n,r){for(r[0]=!1;e<=t&&i<=n&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&n>=i&&this.ElementsAreEqual(t,n);)t--,n--;if(e>t||i>n){let h;return i<=n?(Km.Assert(e===t+1,"originalStart should only be one more than originalEnd"),h=[new Ld(e,0,i,n-i+1)]):e<=t?(Km.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd"),h=[new Ld(e,t-e+1,i,0)]):(Km.Assert(e===t+1,"originalStart should only be one more than originalEnd"),Km.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd"),h=[]),h}let s=[0],a=[0],l=this.ComputeRecursionPoint(e,t,i,n,s,a,r),c=s[0],d=a[0];if(l!==null)return l;if(!r[0]){let h=this.ComputeDiffRecursive(e,c,i,d,r),u=[];return r[0]?u=[new Ld(c+1,t-(c+1)+1,d+1,n-(d+1)+1)]:u=this.ComputeDiffRecursive(c+1,t,d+1,n,r),this.ConcatenateChanges(h,u)}return[new Ld(e,t-e+1,i,n-i+1)]}WALKTRACE(e,t,i,n,r,s,a,l,c,d,h,u,f,p,b,v,y,w){let S=null,x=null,k=new $R,R=t,O=i,N=f[0]-v[0]-n,W=-1073741824,G=this.m_forwardHistory.length-1;do{let Y=N+e;Y===R||Y<O&&c[Y-1]<c[Y+1]?(h=c[Y+1],p=h-N-n,h<W&&k.MarkNextChange(),W=h,k.AddModifiedElement(h+1,p),N=Y+1-e):(h=c[Y-1]+1,p=h-N-n,h<W&&k.MarkNextChange(),W=h-1,k.AddOriginalElement(h,p+1),N=Y-1-e),G>=0&&(c=this.m_forwardHistory[G],e=c[0],R=1,O=c.length-1)}while(--G>=-1);if(S=k.getReverseChanges(),w[0]){let Y=f[0]+1,te=v[0]+1;if(S!==null&&S.length>0){let re=S[S.length-1];Y=Math.max(Y,re.getOriginalEnd()),te=Math.max(te,re.getModifiedEnd())}x=[new Ld(Y,u-Y+1,te,b-te+1)]}else{k=new $R,R=s,O=a,N=f[0]-v[0]-l,W=1073741824,G=y?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{let Y=N+r;Y===R||Y<O&&d[Y-1]>=d[Y+1]?(h=d[Y+1]-1,p=h-N-l,h>W&&k.MarkNextChange(),W=h+1,k.AddOriginalElement(h+1,p+1),N=Y+1-r):(h=d[Y-1],p=h-N-l,h>W&&k.MarkNextChange(),W=h,k.AddModifiedElement(h+1,p+1),N=Y-1-r),G>=0&&(d=this.m_reverseHistory[G],r=d[0],R=1,O=d.length-1)}while(--G>=-1);x=k.getChanges()}return this.ConcatenateChanges(S,x)}ComputeRecursionPoint(e,t,i,n,r,s,a){let l=0,c=0,d=0,h=0,u=0,f=0;e--,i--,r[0]=0,s[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];let p=t-e+(n-i),b=p+1,v=new Int32Array(b),y=new Int32Array(b),w=n-i,S=t-e,x=e-i,k=t-n,O=(S-w)%2===0;v[w]=e,y[S]=t,a[0]=!1;for(let N=1;N<=p/2+1;N++){let W=0,G=0;d=this.ClipDiagonalBound(w-N,N,w,b),h=this.ClipDiagonalBound(w+N,N,w,b);for(let te=d;te<=h;te+=2){te===d||te<h&&v[te-1]<v[te+1]?l=v[te+1]:l=v[te-1]+1,c=l-(te-w)-x;let re=l;for(;l<t&&c<n&&this.ElementsAreEqual(l+1,c+1);)l++,c++;if(v[te]=l,l+c>W+G&&(W=l,G=c),!O&&Math.abs(te-S)<=N-1&&l>=y[te])return r[0]=l,s[0]=c,re<=y[te]&&1447>0&&N<=1447+1?this.WALKTRACE(w,d,h,x,S,u,f,k,v,y,l,t,r,c,n,s,O,a):null}let Y=(W-e+(G-i)-N)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(W,Y))return a[0]=!0,r[0]=W,s[0]=G,Y>0&&1447>0&&N<=1447+1?this.WALKTRACE(w,d,h,x,S,u,f,k,v,y,l,t,r,c,n,s,O,a):(e++,i++,[new Ld(e,t-e+1,i,n-i+1)]);u=this.ClipDiagonalBound(S-N,N,S,b),f=this.ClipDiagonalBound(S+N,N,S,b);for(let te=u;te<=f;te+=2){te===u||te<f&&y[te-1]>=y[te+1]?l=y[te+1]-1:l=y[te-1],c=l-(te-S)-k;let re=l;for(;l>e&&c>i&&this.ElementsAreEqual(l,c);)l--,c--;if(y[te]=l,O&&Math.abs(te-w)<=N&&l<=v[te])return r[0]=l,s[0]=c,re>=v[te]&&1447>0&&N<=1447+1?this.WALKTRACE(w,d,h,x,S,u,f,k,v,y,l,t,r,c,n,s,O,a):null}if(N<=1447){let te=new Int32Array(h-d+2);te[0]=w-d+1,Ym.Copy2(v,d,te,1,h-d+1),this.m_forwardHistory.push(te),te=new Int32Array(f-u+2),te[0]=S-u+1,Ym.Copy2(y,u,te,1,f-u+1),this.m_reverseHistory.push(te)}}return this.WALKTRACE(w,d,h,x,S,u,f,k,v,y,l,t,r,c,n,s,O,a)}PrettifyChanges(e){for(let t=0;t<e.length;t++){let i=e[t],n=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,r=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,s=i.originalLength>0,a=i.modifiedLength>0;for(;i.originalStart+i.originalLength<n&&i.modifiedStart+i.modifiedLength<r&&(!s||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!a||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){let c=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!c)break;i.originalStart++,i.modifiedStart++}let l=[null];if(t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],l)){e[t]=l[0],e.splice(t+1,1),t--;continue}}for(let t=e.length-1;t>=0;t--){let i=e[t],n=0,r=0;if(t>0){let h=e[t-1];n=h.originalStart+h.originalLength,r=h.modifiedStart+h.modifiedLength}let s=i.originalLength>0,a=i.modifiedLength>0,l=0,c=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let h=1;;h++){let u=i.originalStart-h,f=i.modifiedStart-h;if(u<n||f<r||s&&!this.OriginalElementsAreEqual(u,u+i.originalLength)||a&&!this.ModifiedElementsAreEqual(f,f+i.modifiedLength))break;let b=(u===n&&f===r?5:0)+this._boundaryScore(u,i.originalLength,f,i.modifiedLength);b>c&&(c=b,l=h)}i.originalStart-=l,i.modifiedStart-=l;let d=[null];if(t>0&&this.ChangesOverlap(e[t-1],e[t],d)){e[t-1]=d[0],e.splice(t,1),t++;continue}}if(this._hasStrings)for(let t=1,i=e.length;t<i;t++){let n=e[t-1],r=e[t],s=r.originalStart-n.originalStart-n.originalLength,a=n.originalStart,l=r.originalStart+r.originalLength,c=l-a,d=n.modifiedStart,h=r.modifiedStart+r.modifiedLength,u=h-d;if(s<5&&c<20&&u<20){let f=this._findBetterContiguousSequence(a,c,d,u,s);if(f){let[p,b]=f;(p!==n.originalStart+n.originalLength||b!==n.modifiedStart+n.modifiedLength)&&(n.originalLength=p-n.originalStart,n.modifiedLength=b-n.modifiedStart,r.originalStart=p+s,r.modifiedStart=b+s,r.originalLength=l-r.originalStart,r.modifiedLength=h-r.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,i,n,r){if(t<r||n<r)return null;let s=e+t-r+1,a=i+n-r+1,l=0,c=0,d=0;for(let h=e;h<s;h++)for(let u=i;u<a;u++){let f=this._contiguousSequenceScore(h,u,r);f>0&&f>l&&(l=f,c=h,d=u)}return l>0?[c,d]:null}_contiguousSequenceScore(e,t,i){let n=0;for(let r=0;r<i;r++){if(!this.ElementsAreEqual(e+r,t+r))return 0;n+=this._originalStringElements[e+r].length}return n}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){let i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){let i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,t,i,n){let r=this._OriginalRegionIsBoundary(e,t)?1:0,s=this._ModifiedRegionIsBoundary(i,n)?1:0;return r+s}ConcatenateChanges(e,t){let i=[];if(e.length===0||t.length===0)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){let n=new Array(e.length+t.length-1);return Ym.Copy(e,0,n,0,e.length-1),n[e.length-1]=i[0],Ym.Copy(t,1,n,e.length,t.length-1),n}else{let n=new Array(e.length+t.length);return Ym.Copy(e,0,n,0,e.length),Ym.Copy(t,0,n,e.length,t.length),n}}ChangesOverlap(e,t,i){if(Km.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),Km.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){let n=e.originalStart,r=e.originalLength,s=e.modifiedStart,a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(r=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new Ld(n,r,s,a),!0}else return i[0]=null,!1}ClipDiagonalBound(e,t,i,n){if(e>=0&&e<n)return e;let r=i,s=n-i-1,a=t%2===0;if(e<0){let l=r%2===0;return a===l?0:1}else{let l=s%2===0;return a===l?n-1:n-2}}};wt();Ai();ot();ve();je();var jce=3;function iU(o,e,t,i){return new la(o,e,t).ComputeDiff(i)}var KR=class{constructor(e){let t=[],i=[];for(let n=0,r=e.length;n<r;n++)t[n]=qR(e[n],1),i[n]=ZR(e[n],1);this.lines=e,this._startColumns=t,this._endColumns=i}getElements(){let e=[];for(let t=0,i=this.lines.length;t<i;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,i){let n=[],r=[],s=[],a=0;for(let l=t;l<=i;l++){let c=this.lines[l],d=e?this._startColumns[l]:1,h=e?this._endColumns[l]:c.length+1;for(let u=d;u<h;u++)n[a]=c.charCodeAt(u-1),r[a]=l+1,s[a]=u,a++}return new nU(n,r,s)}},nU=class{constructor(e,t,i){this._charCodes=e,this._lineNumbers=t,this._columns=i}getElements(){return this._charCodes}getStartLineNumber(e){return this._lineNumbers[e]}getStartColumn(e){return this._columns[e]}getEndLineNumber(e){return this._lineNumbers[e]}getEndColumn(e){return this._columns[e]+1}},Gb=class{constructor(e,t,i,n,r,s,a,l){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=i,this.originalEndColumn=n,this.modifiedStartLineNumber=r,this.modifiedStartColumn=s,this.modifiedEndLineNumber=a,this.modifiedEndColumn=l}static createFromDiffChange(e,t,i){let n,r,s,a,l,c,d,h;return e.originalLength===0?(n=0,r=0,s=0,a=0):(n=t.getStartLineNumber(e.originalStart),r=t.getStartColumn(e.originalStart),s=t.getEndLineNumber(e.originalStart+e.originalLength-1),a=t.getEndColumn(e.originalStart+e.originalLength-1)),e.modifiedLength===0?(l=0,c=0,d=0,h=0):(l=i.getStartLineNumber(e.modifiedStart),c=i.getStartColumn(e.modifiedStart),d=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),h=i.getEndColumn(e.modifiedStart+e.modifiedLength-1)),new Gb(n,r,s,a,l,c,d,h)}};function Wce(o){if(o.length<=1)return o;let e=[o[0]],t=e[0];for(let i=1,n=o.length;i<n;i++){let r=o[i],s=r.originalStart-(t.originalStart+t.originalLength),a=r.modifiedStart-(t.modifiedStart+t.modifiedLength);Math.min(s,a)<jce?(t.originalLength=r.originalStart+r.originalLength-t.originalStart,t.modifiedLength=r.modifiedStart+r.modifiedLength-t.modifiedStart):(e.push(r),t=r)}return e}var Xb=class{constructor(e,t,i,n,r){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=i,this.modifiedEndLineNumber=n,this.charChanges=r}static createFromDiffResult(e,t,i,n,r,s,a){let l,c,d,h,u;if(t.originalLength===0?(l=i.getStartLineNumber(t.originalStart)-1,c=0):(l=i.getStartLineNumber(t.originalStart),c=i.getEndLineNumber(t.originalStart+t.originalLength-1)),t.modifiedLength===0?(d=n.getStartLineNumber(t.modifiedStart)-1,h=0):(d=n.getStartLineNumber(t.modifiedStart),h=n.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),s&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&r()){let f=i.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),p=n.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1),b=iU(f,p,r,!0).changes;a&&(b=Wce(b)),u=[];for(let v=0,y=b.length;v<y;v++)u.push(Gb.createFromDiffChange(b[v],f,p))}return new Xb(l,c,d,h,u)}},YR=class{constructor(e,t,i){this.shouldComputeCharChanges=i.shouldComputeCharChanges,this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=i.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new KR(e),this.modified=new KR(t),this.continueLineDiff=oU(i.maxComputationTime),this.continueCharDiff=oU(i.maxComputationTime===0?0:Math.min(i.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};let e=iU(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,i=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){let a=[];for(let l=0,c=t.length;l<c;l++)a.push(Xb.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[l],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:i,changes:a}}let n=[],r=0,s=0;for(let a=-1,l=t.length;a<l;a++){let c=a+1<l?t[a+1]:null,d=c?c.originalStart:this.originalLines.length,h=c?c.modifiedStart:this.modifiedLines.length;for(;r<d&&s<h;){let u=this.originalLines[r],f=this.modifiedLines[s];if(u!==f){{let p=qR(u,1),b=qR(f,1);for(;p>1&&b>1;){let v=u.charCodeAt(p-2),y=f.charCodeAt(b-2);if(v!==y)break;p--,b--}(p>1||b>1)&&this._pushTrimWhitespaceCharChange(n,r+1,1,p,s+1,1,b)}{let p=ZR(u,1),b=ZR(f,1),v=u.length+1,y=f.length+1;for(;p<v&&b<y;){let w=u.charCodeAt(p-1),S=u.charCodeAt(b-1);if(w!==S)break;p++,b++}(p<v||b<y)&&this._pushTrimWhitespaceCharChange(n,r+1,p,v,s+1,b,y)}}r++,s++}c&&(n.push(Xb.createFromDiffResult(this.shouldIgnoreTrimWhitespace,c,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),r+=c.originalLength,s+=c.modifiedLength)}return{quitEarly:i,changes:n}}_pushTrimWhitespaceCharChange(e,t,i,n,r,s,a){if(this._mergeTrimWhitespaceCharChange(e,t,i,n,r,s,a))return;let l;this.shouldComputeCharChanges&&(l=[new Gb(t,i,t,n,r,s,r,a)]),e.push(new Xb(t,t,r,r,l))}_mergeTrimWhitespaceCharChange(e,t,i,n,r,s,a){let l=e.length;if(l===0)return!1;let c=e[l-1];return c.originalEndLineNumber===0||c.modifiedEndLineNumber===0?!1:c.originalEndLineNumber+1===t&&c.modifiedEndLineNumber+1===r?(c.originalEndLineNumber=t,c.modifiedEndLineNumber=r,this.shouldComputeCharChanges&&c.charChanges&&c.charChanges.push(new Gb(t,i,t,n,r,s,r,a)),!0):!1}};function qR(o,e){let t=wn(o);return t===-1?e:t+1}function ZR(o,e){let t=Sr(o);return t===-1?e:t+2}function oU(o){if(o===0)return()=>!0;let e=Date.now();return()=>Date.now()-e<o}je();ot();Ut();z0();var GR=class{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=Zm(e);let i=this.values,n=this.prefixSum,r=t.length;return r===0?!1:(this.values=new Uint32Array(i.length+r),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e),e+r),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(e,t){return e=Zm(e),t=Zm(t),this.values[e]===t?!1:(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=Zm(e),t=Zm(t);let i=this.values,n=this.prefixSum;if(e>=i.length)return!1;let r=i.length-e;return t>=r&&(t=r),t===0?!1:(this.values=new Uint32Array(i.length-t),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=Zm(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;t===0&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,i=this.values.length-1,n=0,r=0,s=0;for(;t<=i;)if(n=t+(i-t)/2|0,r=this.prefixSum[n],s=r-this.values[n],e<s)i=n-1;else if(e>=r)t=n+1;else break;return new QR(n,e-s)}},XR=class{constructor(e){this._values=e,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(e){return this._ensureValid(),e===0?0:this._prefixSum[e-1]}getIndexOf(e){this._ensureValid();let t=this._indexBySum[e],i=t>0?this._prefixSum[t-1]:0;return new QR(t,e-i)}removeValues(e,t){this._values.splice(e,t),this._invalidate(e)}insertValues(e,t){this._values=bf(this._values,e,t),this._invalidate(e)}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._values.length;e<t;e++){let i=this._values[e],n=e>0?this._prefixSum[e-1]:0;this._prefixSum[e]=n+i;for(let r=0;r<i;r++)this._indexBySum[n+r]=e}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(e,t){this._values[e]!==t&&(this._values[e]=t,this._invalidate(e))}},QR=class{constructor(e,t){this.index=e,this.remainder=t,this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=t}};var JR=class{constructor(e,t,i,n){this._uri=e,this._lines=t,this._eol=i,this._versionId=n,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);let t=e.changes;for(let i of t)this._acceptDeleteRange(i.range),this._acceptInsertText(new H(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){let e=this._eol.length,t=this._lines.length,i=new Uint32Array(t);for(let n=0;n<t;n++)i[n]=this._lines[n].length+e;this._lineStarts=new GR(i)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.setValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1));return}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){if(t.length===0)return;let i=rr(t);if(i.length===1){this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1));return}i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);let n=new Uint32Array(i.length-1);for(let r=1;r<i.length;r++)this._lines.splice(e.lineNumber+r-1,0,i[r]),n[r-1]=i[r].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,n)}};t0();Gm();var rU=class{constructor(e,t,i){let n=new Uint8Array(e*t);for(let r=0,s=e*t;r<s;r++)n[r]=i;this._data=n,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,i){this._data[e*this.cols+t]=i}},sU=class{constructor(e){let t=0,i=0;for(let r=0,s=e.length;r<s;r++){let[a,l,c]=e[r];l>t&&(t=l),a>i&&(i=a),c>i&&(i=c)}t++,i++;let n=new rU(i,t,0);for(let r=0,s=e.length;r<s;r++){let[a,l,c]=e[r];n.set(a,l,c)}this._states=n,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}},eM=null;function Uce(){return eM===null&&(eM=new sU([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),eM}var V0=null;function zce(){if(V0===null){V0=new kd(0);let o=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let t=0;t<o.length;t++)V0.set(o.charCodeAt(t),1);let e=".,;";for(let t=0;t<e.length;t++)V0.set(e.charCodeAt(t),2)}return V0}var H0=class{static _createLink(e,t,i,n,r){let s=r-1;do{let a=t.charCodeAt(s);if(e.get(a)!==2)break;s--}while(s>n);if(n>0){let a=t.charCodeAt(n-1),l=t.charCodeAt(s);(a===40&&l===41||a===91&&l===93||a===123&&l===125)&&s--}return{range:{startLineNumber:i,startColumn:n+1,endLineNumber:i,endColumn:s+2},url:t.substring(n,s+1)}}static computeLinks(e,t=Uce()){let i=zce(),n=[];for(let r=1,s=e.getLineCount();r<=s;r++){let a=e.getLineContent(r),l=a.length,c=0,d=0,h=0,u=1,f=!1,p=!1,b=!1,v=!1;for(;c<l;){let y=!1,w=a.charCodeAt(c);if(u===13){let S;switch(w){case 40:f=!0,S=0;break;case 41:S=f?0:1;break;case 91:b=!0,p=!0,S=0;break;case 93:b=!1,S=p?0:1;break;case 123:v=!0,S=0;break;case 125:S=v?0:1;break;case 39:S=h===34||h===96?0:1;break;case 34:S=h===39||h===96?0:1;break;case 96:S=h===39||h===34?0:1;break;case 42:S=h===42?1:0;break;case 124:S=h===124?1:0;break;case 32:S=b?0:1;break;default:S=i.get(w)}S===1&&(n.push(H0._createLink(i,a,r,d,c)),y=!0)}else if(u===12){let S;w===91?(p=!0,S=0):S=i.get(w),S===1?y=!0:u=13}else u=t.nextState(u,w),u===0&&(y=!0);y&&(u=1,f=!1,p=!1,v=!1,d=c+1,h=w),c++}u===13&&n.push(H0._createLink(i,a,r,d,l))}return n}};function aU(o){return!o||typeof o.getLineCount!="function"||typeof o.getLineContent!="function"?[]:H0.computeLinks(o)}var $0=class{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,i,n,r){if(e&&t){let s=this.doNavigateValueSet(t,r);if(s)return{range:e,value:s}}if(i&&n){let s=this.doNavigateValueSet(n,r);if(s)return{range:i,value:s}}return null}doNavigateValueSet(e,t){let i=this.numberReplace(e,t);return i!==null?i:this.textReplace(e,t)}numberReplace(e,t){let i=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),n=Number(e),r=parseFloat(e);return!isNaN(n)&&!isNaN(r)&&n===r?n===0&&!t?null:(n=Math.floor(n*i),n+=t?i:-i,String(n/i)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,i){let n=null;for(let r=0,s=e.length;n===null&&r<s;r++)n=this.valueSetReplace(e[r],t,i);return n}valueSetReplace(e,t,i){let n=e.indexOf(t);return n>=0?(n+=i?1:-1,n<0?n=e.length-1:n%=e.length,e[n]):null}};$0.INSTANCE=new $0;di();Sf();ve();K0();je();di();var ev=class{static computeUnicodeHighlights(e,t,i){let n=i?i.startLineNumber:1,r=i?i.endLineNumber:e.getLineCount(),s=new iM(t),a=s.getCandidateCodePoints(),l;a==="allNonBasicAscii"?l=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):l=new RegExp(`${qce(Array.from(a))}`,"g");let c=new Zh(null,l),d=[],h=!1,u,f=0,p=0,b=0;e:for(let v=n,y=r;v<=y;v++){let w=e.getLineContent(v),S=w.length;c.reset(0);do if(u=c.next(w),u){let x=u.index,k=u.index+u[0].length;if(x>0){let N=w.charCodeAt(x-1);Xi(N)&&x--}if(k+1<S){let N=w.charCodeAt(k-1);Xi(N)&&k++}let R=w.substring(x,k),O=s.shouldHighlightNonBasicASCII(R);if(O!==0){O===3?f++:O===2?p++:O===1?b++:vx(O);let N=1e3;if(d.length>=N){h=!0;break e}d.push(new D(v,x+1,v,k+1))}}while(u)}return{ranges:d,hasMore:h,ambiguousCharacterCount:f,invisibleCharacterCount:p,nonBasicAsciiCharacterCount:b}}static computeUnicodeHighlightReason(e,t){switch(new iM(t).shouldHighlightNonBasicASCII(e)){case 0:return null;case 2:return{kind:1};case 3:let r=Fa.getPrimaryConfusable(e.codePointAt(0));return{kind:0,confusableWith:String.fromCodePoint(r)};case 1:return{kind:2}}}};function qce(o,e){return`[${wo(o.map(i=>String.fromCodePoint(i)).join(""))}]`}var iM=class{constructor(e){this.options=e,this.allowedCodePoints=new Set(e.allowedCodePoints)}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";let e=new Set;if(this.options.invisibleCharacters)for(let t of Il.codePoints)e.add(t);if(this.options.ambiguousCharacters)for(let t of Fa.getPrimaryConfusableCodePoints())e.add(t);for(let t of this.allowedCodePoints)e.delete(t);return e}shouldHighlightNonBasicASCII(e){let t=e.codePointAt(0);return this.allowedCodePoints.has(t)?0:this.options.nonBasicASCII?1:this.options.invisibleCharacters&&!(e===" "||e===`
`||e==="	")&&Il.isInvisibleCharacter(t)?2:this.options.ambiguousCharacters&&Fa.isAmbiguous(t)?3:0}};var Xm=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},dU=class extends JR{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){let i=cb(e.column,lb(t),this._lines[e.lineNumber-1],0);return i?new D(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null}words(e){let t=this._lines,i=this._wordenize.bind(this),n=0,r="",s=0,a=[];return{*[Symbol.iterator](){for(;;)if(s<a.length){let l=r.substring(a[s].start,a[s].end);s+=1,yield l}else if(n<t.length)r=t[n],a=i(r,e),s=0,n+=1;else break}}}getLineWords(e,t){let i=this._lines[e-1],n=this._wordenize(i,t),r=[];for(let s of n)r.push({word:i.substring(s.start,s.end),startColumn:s.start+1,endColumn:s.end+1});return r}_wordenize(e,t){let i=[],n;for(t.lastIndex=0;(n=t.exec(e))&&n[0].length!==0;)i.push({start:n.index,end:n.index+n[0].length});return i}getValueInRange(e){if(e=this._validateRange(e),e.startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);let t=this._eol,i=e.startLineNumber-1,n=e.endLineNumber-1,r=[];r.push(this._lines[i].substring(e.startColumn-1));for(let s=i+1;s<n;s++)r.push(this._lines[s]);return r.push(this._lines[n].substring(0,e.endColumn-1)),r.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();let t=this._lineStarts.getIndexOf(e),i=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,i)}}_validateRange(e){let t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}:e}_validatePosition(e){if(!H.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:i}=e,n=!1;if(t<1)t=1,i=1,n=!0;else if(t>this._lines.length)t=this._lines.length,i=this._lines[t-1].length+1,n=!0;else{let r=this._lines[t-1].length+1;i<1?(i=1,n=!0):i>r&&(i=r,n=!0)}return n?{lineNumber:t,column:i}:e}},Gh=class{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){let e=[];return Object.keys(this._models).forEach(t=>e.push(this._models[t])),e}acceptNewModel(e){this._models[e.url]=new dU(Ee.parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){if(!this._models[e])return;this._models[e].onEvents(t)}acceptRemovedModel(e){!this._models[e]||delete this._models[e]}computeUnicodeHighlights(e,t,i){return Xm(this,void 0,void 0,function*(){let n=this._getModel(e);return n?ev.computeUnicodeHighlights(n,t,i):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(e,t,i,n){return Xm(this,void 0,void 0,function*(){let r=this._getModel(e),s=this._getModel(t);if(!r||!s)return null;let a=r.getLinesContent(),l=s.getLinesContent(),d=new YR(a,l,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:i,shouldMakePrettyDiff:!0,maxComputationTime:n}).computeDiff(),h=d.changes.length>0?!1:this._modelsAreIdentical(r,s);return{quitEarly:d.quitEarly,identical:h,changes:d.changes}})}_modelsAreIdentical(e,t){let i=e.getLineCount(),n=t.getLineCount();if(i!==n)return!1;for(let r=1;r<=i;r++){let s=e.getLineContent(r),a=t.getLineContent(r);if(s!==a)return!1}return!0}computeMoreMinimalEdits(e,t){return Xm(this,void 0,void 0,function*(){let i=this._getModel(e);if(!i)return t;let n=[],r;t=t.slice(0).sort((s,a)=>{if(s.range&&a.range)return D.compareRangesUsingStarts(s.range,a.range);let l=s.range?0:1,c=a.range?0:1;return l-c});for(let{range:s,text:a,eol:l}of t){if(typeof l=="number"&&(r=l),D.isEmpty(s)&&!a)continue;let c=i.getValueInRange(s);if(a=a.replace(/\r\n|\n|\r/g,i.eol),c===a)continue;if(Math.max(a.length,c.length)>Gh._diffLimit){n.push({range:s,text:a});continue}let d=tU(c,a,!1),h=i.offsetAt(D.lift(s).getStartPosition());for(let u of d){let f=i.positionAt(h+u.originalStart),p=i.positionAt(h+u.originalStart+u.originalLength),b={text:a.substr(u.modifiedStart,u.modifiedLength),range:{startLineNumber:f.lineNumber,startColumn:f.column,endLineNumber:p.lineNumber,endColumn:p.column}};i.getValueInRange(b.range)!==b.text&&n.push(b)}}return typeof r=="number"&&n.push({eol:r,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),n})}computeLinks(e){return Xm(this,void 0,void 0,function*(){let t=this._getModel(e);return t?aU(t):null})}textualSuggest(e,t,i,n){return Xm(this,void 0,void 0,function*(){let r=new nr(!0),s=new RegExp(i,n),a=new Set;e:for(let l of e){let c=this._getModel(l);if(!!c){for(let d of c.words(s))if(!(d===t||!isNaN(Number(d)))&&(a.add(d),a.size>Gh._suggestionsLimit))break e}}return{words:Array.from(a),duration:r.elapsed()}})}computeWordRanges(e,t,i,n){return Xm(this,void 0,void 0,function*(){let r=this._getModel(e);if(!r)return Object.create(null);let s=new RegExp(i,n),a=Object.create(null);for(let l=t.startLineNumber;l<t.endLineNumber;l++){let c=r.getLineWords(l,s);for(let d of c){if(!isNaN(Number(d.word)))continue;let h=a[d.word];h||(h=[],a[d.word]=h),h.push({startLineNumber:l,startColumn:d.startColumn,endLineNumber:l,endColumn:d.endColumn})}}return a})}navigateValueSet(e,t,i,n,r){return Xm(this,void 0,void 0,function*(){let s=this._getModel(e);if(!s)return null;let a=new RegExp(n,r);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});let l=s.getValueInRange(t),c=s.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},a);if(!c)return null;let d=s.getValueInRange(c);return $0.INSTANCE.navigateValueSet(t,l,c,d,i)})}loadForeignModule(e,t,i){let s={host:tj(i,(a,l)=>this._host.fhr(a,l)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(s,t),Promise.resolve(fb(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||typeof this._foreignModule[e]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(i){return Promise.reject(i)}}};Gh._diffLimit=1e5;Gh._suggestionsLimit=1e4;typeof importScripts=="function"&&(vi.monaco=bD());xr();Y0();je();Ut();Td();Sf();st();var Zce=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},rM=function(o,e){return function(t,i){e(t,i,o)}},sM=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},fU=60*1e3,gU=5*60*1e3;function Qm(o,e){let t=o.getModel(e);return!(!t||t.isTooLargeForSyncing())}var oL=class extends ${constructor(e,t,i){super();this._modelService=e,this._workerManager=this._register(new pU(this._modelService)),this._logService=i,this._register($h.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(n,r)=>Qm(this._modelService,n.uri)?this._workerManager.withWorker().then(s=>s.computeLinks(n.uri)).then(s=>s&&{links:s}):Promise.resolve({links:[]})})),this._register(ss.register("*",new mU(this._workerManager,t,this._modelService)))}dispose(){super.dispose()}canComputeUnicodeHighlights(e){return Qm(this._modelService,e)}computedUnicodeHighlights(e,t,i){return this._workerManager.withWorker().then(n=>n.computedUnicodeHighlights(e,t,i))}computeDiff(e,t,i,n){return this._workerManager.withWorker().then(r=>r.computeDiff(e,t,i,n))}computeMoreMinimalEdits(e,t){if(kn(t)){if(!Qm(this._modelService,e))return Promise.resolve(t);let i=nr.create(!0),n=this._workerManager.withWorker().then(r=>r.computeMoreMinimalEdits(e,t));return n.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),i.elapsed())),Promise.race([n,El(1e3).then(()=>t)])}else return Promise.resolve(void 0)}canNavigateValueSet(e){return Qm(this._modelService,e)}navigateValueSet(e,t,i){return this._workerManager.withWorker().then(n=>n.navigateValueSet(e,t,i))}canComputeWordRanges(e){return Qm(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then(i=>i.computeWordRanges(e,t))}};oL=Zce([rM(0,Ci),rM(1,tv),rM(2,cr)],oL);var mU=class{constructor(e,t,i){this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=i}provideCompletionItems(e,t){return sM(this,void 0,void 0,function*(){let i=this._configurationService.getValue(e.uri,t,"editor");if(!i.wordBasedSuggestions)return;let n=[];if(i.wordBasedSuggestionsMode==="currentDocument")Qm(this._modelService,e.uri)&&n.push(e.uri);else for(let h of this._modelService.getModels())!Qm(this._modelService,h.uri)||(h===e?n.unshift(h.uri):(i.wordBasedSuggestionsMode==="allDocuments"||h.getLanguageId()===e.getLanguageId())&&n.push(h.uri));if(n.length===0)return;let r=xt.getWordDefinition(e.getLanguageId()),s=e.getWordAtPosition(t),a=s?new D(t.lineNumber,s.startColumn,t.lineNumber,s.endColumn):D.fromPositions(t),l=a.setEndPosition(t.lineNumber,t.column),d=yield(yield this._workerManager.withWorker()).textualSuggest(n,s==null?void 0:s.word,r);if(!!d)return{duration:d.duration,suggestions:d.words.map(h=>({kind:18,label:h,insertText:h,range:{insert:l,replace:a}}))}})}},pU=class extends ${constructor(e){super();this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new gd).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(gU/2)),this._register(this._modelService.onModelRemoved(i=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>gU&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new sL(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}},_U=class extends ${constructor(e,t,i){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){let n=new gd;n.cancelAndSet(()=>this._checkStopModelSync(),Math.round(fU/2)),this._register(n)}}dispose(){for(let e in this._syncedModels)ct(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t){for(let i of e){let n=i.toString();this._syncedModels[n]||this._beginModelSync(i,t),this._syncedModels[n]&&(this._syncedModelsLastUsedTime[n]=new Date().getTime())}}_checkStopModelSync(){let e=new Date().getTime(),t=[];for(let i in this._syncedModelsLastUsedTime)e-this._syncedModelsLastUsedTime[i]>fU&&t.push(i);for(let i of t)this._stopModelSync(i)}_beginModelSync(e,t){let i=this._modelService.getModel(e);if(!i||!t&&i.isTooLargeForSyncing())return;let n=e.toString();this._proxy.acceptNewModel({url:i.uri.toString(),lines:i.getLinesContent(),EOL:i.getEOL(),versionId:i.getVersionId()});let r=new Q;r.add(i.onDidChangeContent(s=>{this._proxy.acceptModelChanged(n.toString(),s)})),r.add(i.onWillDispose(()=>{this._stopModelSync(n)})),r.add(ze(()=>{this._proxy.acceptRemovedModel(n)})),this._syncedModels[n]=r}_stopModelSync(e){let t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],ct(t)}},aM=class{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}},rL=class{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}},sL=class extends ${constructor(e,t,i){super();this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new Kb(i),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new LR(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new rL(this)))}catch(e){A0(e),this._worker=new aM(new Gh(new rL(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,e=>(A0(e),this._worker=new aM(new Gh(new rL(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new _U(e,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(e,t=!1){return sM(this,void 0,void 0,function*(){return this._disposed?Promise.reject(fc()):this._getProxy().then(i=>(this._getOrCreateModelManager(i).ensureSyncedResources(e,t),i))})}computedUnicodeHighlights(e,t,i){return this._withSyncedResources([e]).then(n=>n.computeUnicodeHighlights(e.toString(),t,i))}computeDiff(e,t,i,n){return this._withSyncedResources([e,t],!0).then(r=>r.computeDiff(e.toString(),t.toString(),i,n))}computeMoreMinimalEdits(e,t){return this._withSyncedResources([e]).then(i=>i.computeMoreMinimalEdits(e.toString(),t))}computeLinks(e){return this._withSyncedResources([e]).then(t=>t.computeLinks(e.toString()))}textualSuggest(e,t,i){return sM(this,void 0,void 0,function*(){let n=yield this._withSyncedResources(e),r=i.source,s=PD(i);return n.textualSuggest(e.map(a=>a.toString()),t,r,s)})}computeWordRanges(e,t){return this._withSyncedResources([e]).then(i=>{let n=this._modelService.getModel(e);if(!n)return Promise.resolve(null);let r=xt.getWordDefinition(n.getLanguageId()),s=r.source,a=PD(r);return i.computeWordRanges(e.toString(),t,s,a)})}navigateValueSet(e,t,i){return this._withSyncedResources([e]).then(n=>{let r=this._modelService.getModel(e);if(!r)return null;let s=xt.getWordDefinition(r.getLanguageId()),a=s.source,l=PD(s);return n.navigateValueSet(e.toString(),t,i,a,l)})}dispose(){super.dispose(),this._disposed=!0}};di();function bU(o,e){return new vU(o,e)}var vU=class extends sL{constructor(e,t){super(e,t.keepIdleModels||!1,t.label);this._foreignModuleId=t.moduleId,this._foreignModuleCreateData=t.createData||null,this._foreignModuleHost=t.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||typeof this._foreignModuleHost[e]!="function")return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(i){return Promise.reject(i)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(e=>{let t=this._foreignModuleHost?fb(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then(i=>{this._foreignModuleCreateData=null;let n=(a,l)=>e.fmr(a,l),r=(a,l)=>function(){let c=Array.prototype.slice.call(arguments,0);return l(a,c)},s={};for(let a of i)s[a]=r(a,n);return s})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then(t=>this.getProxy())}};tt();je();$f();Tt();je();zf();je();var dr=class{constructor(e,t,i,n){this.startColumn=e,this.endColumn=t,this.className=i,this.type=n,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){let i=e.length,n=t.length;if(i!==n)return!1;for(let r=0;r<i;r++)if(!dr._equals(e[r],t[r]))return!1;return!0}static extractWrapped(e,t,i){if(e.length===0)return e;let n=t+1,r=i+1,s=i-t,a=[],l=0;for(let c of e)c.endColumn<=n||c.startColumn>=r||(a[l++]=new dr(Math.max(1,c.startColumn-n+1),Math.min(s+1,c.endColumn-n+1),c.className,c.type));return a}static filter(e,t,i,n){if(e.length===0)return[];let r=[],s=0;for(let a=0,l=e.length;a<l;a++){let c=e[a],d=c.range;if(d.endLineNumber<t||d.startLineNumber>t||d.isEmpty()&&(c.type===0||c.type===3))continue;let h=d.startLineNumber===t?d.startColumn:i,u=d.endLineNumber===t?d.endColumn:n;r[s++]=new dr(h,u,c.inlineClassName,c.type)}return r}static _typeCompare(e,t){let i=[2,0,1,3];return i[e]-i[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;let i=dr._typeCompare(e.type,t.type);return i!==0?i:e.className!==t.className?e.className<t.className?-1:1:0}},lM=class{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.className=i,this.metadata=n}},q0=class{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let i=0,n=e.length;i<n;i++)t|=e[i];return t}consumeLowerThan(e,t,i){for(;this.count>0&&this.stopOffsets[0]<e;){let n=0;for(;n+1<this.count&&this.stopOffsets[n]===this.stopOffsets[n+1];)n++;i.push(new lM(t,this.stopOffsets[n],this.classNames.join(" "),q0._metadata(this.metadata))),t=this.stopOffsets[n]+1,this.stopOffsets.splice(0,n+1),this.classNames.splice(0,n+1),this.metadata.splice(0,n+1),this.count-=n+1}return this.count>0&&t<e&&(i.push(new lM(t,e-1,this.classNames.join(" "),q0._metadata(this.metadata))),t=e),t}insert(e,t,i){if(this.count===0||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(i);else for(let n=0;n<this.count;n++)if(this.stopOffsets[n]>=e){this.stopOffsets.splice(n,0,e),this.classNames.splice(n,0,t),this.metadata.splice(n,0,i);break}this.count++}},cM=class{static normalize(e,t){if(t.length===0)return[];let i=[],n=new q0,r=0;for(let s=0,a=t.length;s<a;s++){let l=t[s],c=l.startColumn,d=l.endColumn,h=l.className,u=l.type===1?2:l.type===2?4:0;if(c>1){let b=e.charCodeAt(c-2);Xi(b)&&c--}if(d>1){let b=e.charCodeAt(d-2);Xi(b)&&d--}let f=c-1,p=d-2;r=n.consumeLowerThan(f,r,i),n.count===0&&(r=f),n.insert(p,h,u)}return n.consumeLowerThan(1073741824,r,i),i}};var so=class{constructor(e,t,i){this._linePartBrand=void 0,this.endIndex=e,this.type=t,this.metadata=i}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}},dM=class{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}},Va=class{constructor(e,t,i,n,r,s,a,l,c,d,h,u,f,p,b,v,y,w,S){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.continuesWithWrappedLine=n,this.isBasicASCII=r,this.containsRTL=s,this.fauxIndentLength=a,this.lineTokens=l,this.lineDecorations=c.sort(dr.compare),this.tabSize=d,this.startVisibleColumn=h,this.spaceWidth=u,this.stopRenderingLineAfter=b,this.renderWhitespace=v==="all"?4:v==="boundary"?1:v==="selection"?2:v==="trailing"?3:0,this.renderControlCharacters=y,this.fontLigatures=w,this.selectionsOnLine=S&&S.sort((R,O)=>R.startOffset<O.startOffset?-1:1);let x=Math.abs(p-u),k=Math.abs(f-u);x<k?(this.renderSpaceWidth=p,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=f,this.renderSpaceCharCode=183)}sameSelection(e){if(this.selectionsOnLine===null)return e===null;if(e===null||e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&dr.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}},Z0=class{constructor(e,t){this.partIndex=e,this.charIndex=t}},kc=class{constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(e){return(e&4294901760)>>>16}static getCharIndex(e){return(e&65535)>>>0}setColumnInfo(e,t,i,n){let r=(t<<16|i<<0)>>>0;this._data[e-1]=r,this._absoluteOffsets[e-1]=n+i}getAbsoluteOffset(e){return this._absoluteOffsets.length===0?0:this._absoluteOffsets[e-1]}charOffsetToPartData(e){return this.length===0?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}getDomPosition(e){let t=this.charOffsetToPartData(e-1),i=kc.getPartIndex(t),n=kc.getCharIndex(t);return new Z0(i,n)}getColumn(e,t){return this.partDataToCharOffset(e.partIndex,t,e.charIndex)+1}partDataToCharOffset(e,t,i){if(this.length===0)return 0;let n=(e<<16|i<<0)>>>0,r=0,s=this.length-1;for(;r+1<s;){let b=r+s>>>1,v=this._data[b];if(v===n)return b;v>n?s=b:r=b}if(r===s)return r;let a=this._data[r],l=this._data[s];if(a===n)return r;if(l===n)return s;let c=kc.getPartIndex(a),d=kc.getCharIndex(a),h=kc.getPartIndex(l),u;c!==h?u=t:u=kc.getCharIndex(l);let f=i-d,p=u-i;return f<=p?r:s}},lL=class{constructor(e,t,i){this._renderLineOutputBrand=void 0,this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=i}};function Jm(o,e){if(o.lineContent.length===0){if(o.lineDecorations.length>0){e.appendASCIIString("<span>");let t=0,i=0,n=0;for(let s of o.lineDecorations)(s.type===1||s.type===2)&&(e.appendASCIIString('<span class="'),e.appendASCIIString(s.className),e.appendASCIIString('"></span>'),s.type===1&&(n|=1,t++),s.type===2&&(n|=2,i++));e.appendASCIIString("</span>");let r=new kc(1,t+i);return r.setColumnInfo(1,t,0,0),new lL(r,!1,n)}return e.appendASCIIString("<span><span></span></span>"),new lL(new kc(0,0),!1,0)}return ide(Gce(o),e)}var wU=class{constructor(e,t,i,n){this.characterMapping=e,this.html=t,this.containsRTL=i,this.containsForeignElements=n}};function iv(o){let e=Nl(1e4),t=Jm(o,e);return new wU(t.characterMapping,e.build(),t.containsRTL,t.containsForeignElements)}var CU=class{constructor(e,t,i,n,r,s,a,l,c,d,h,u,f,p,b){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.len=n,this.isOverflowing=r,this.parts=s,this.containsForeignElements=a,this.fauxIndentLength=l,this.tabSize=c,this.startVisibleColumn=d,this.containsRTL=h,this.spaceWidth=u,this.renderSpaceCharCode=f,this.renderWhitespace=p,this.renderControlCharacters=b}};function Gce(o){let e=o.lineContent,t,i;o.stopRenderingLineAfter!==-1&&o.stopRenderingLineAfter<e.length?(t=!0,i=o.stopRenderingLineAfter):(t=!1,i=e.length);let n=Xce(o.lineTokens,o.fauxIndentLength,i);o.renderControlCharacters&&!o.isBasicASCII&&(n=Jce(e,n)),(o.renderWhitespace===4||o.renderWhitespace===1||o.renderWhitespace===2&&!!o.selectionsOnLine||o.renderWhitespace===3)&&(n=ede(o,e,i,n));let r=0;if(o.lineDecorations.length>0){for(let s=0,a=o.lineDecorations.length;s<a;s++){let l=o.lineDecorations[s];l.type===3||l.type===1?r|=1:l.type===2&&(r|=2)}n=tde(e,i,n,o.lineDecorations)}return o.containsRTL||(n=Qce(e,n,!o.isBasicASCII||o.fontLigatures)),new CU(o.useMonospaceOptimizations,o.canUseHalfwidthRightwardsArrow,e,i,t,n,r,o.fauxIndentLength,o.tabSize,o.startVisibleColumn,o.containsRTL,o.spaceWidth,o.renderSpaceCharCode,o.renderWhitespace,o.renderControlCharacters)}function Xce(o,e,t){let i=[],n=0;e>0&&(i[n++]=new so(e,"",0));for(let r=0,s=o.getCount();r<s;r++){let a=o.getEndOffset(r);if(a<=e)continue;let l=o.getClassName(r);if(a>=t){i[n++]=new so(t,l,0);break}i[n++]=new so(a,l,0)}return i}function Qce(o,e,t){let i=0,n=[],r=0;if(t)for(let s=0,a=e.length;s<a;s++){let l=e[s],c=l.endIndex;if(i+50<c){let d=l.type,h=l.metadata,u=-1,f=i;for(let p=i;p<c;p++)o.charCodeAt(p)===32&&(u=p),u!==-1&&p-f>=50&&(n[r++]=new so(u+1,d,h),f=u+1,u=-1);f!==c&&(n[r++]=new so(c,d,h))}else n[r++]=l;i=c}else for(let s=0,a=e.length;s<a;s++){let l=e[s],c=l.endIndex,d=c-i;if(d>50){let h=l.type,u=l.metadata,f=Math.ceil(d/50);for(let p=1;p<f;p++){let b=i+p*50;n[r++]=new so(b,h,u)}n[r++]=new so(c,h,u)}else n[r++]=l;i=c}return n}function yU(o){return o<32?o!==9:o===127||o>=8234&&o<=8238||o>=8294&&o<=8297||o>=8206&&o<=8207||o===1564}function Jce(o,e){let t=[],i=new so(0,"",0),n=0;for(let r of e){let s=r.endIndex;for(;n<s;n++){let a=o.charCodeAt(n);yU(a)&&(n>i.endIndex&&(i=new so(n,r.type,r.metadata),t.push(i)),i=new so(n+1,"mtkcontrol",r.metadata),t.push(i))}n>i.endIndex&&(i=new so(s,r.type,r.metadata),t.push(i))}return t}function ede(o,e,t,i){let n=o.continuesWithWrappedLine,r=o.fauxIndentLength,s=o.tabSize,a=o.startVisibleColumn,l=o.useMonospaceOptimizations,c=o.selectionsOnLine,d=o.renderWhitespace===1,h=o.renderWhitespace===3,u=o.renderSpaceWidth!==o.spaceWidth,f=[],p=0,b=0,v=i[b].type,y=i[b].endIndex,w=i.length,S=!1,x=wn(e),k;x===-1?(S=!0,x=t,k=t):k=Sr(e);let R=!1,O=0,N=c&&c[O],W=a%s;for(let Y=r;Y<t;Y++){let te=e.charCodeAt(Y);N&&Y>=N.endOffset&&(O++,N=c&&c[O]);let re;if(Y<x||Y>k)re=!0;else if(te===9)re=!0;else if(te===32)if(d)if(R)re=!0;else{let Pe=Y+1<t?e.charCodeAt(Y+1):0;re=Pe===32||Pe===9}else re=!0;else re=!1;if(re&&c&&(re=!!N&&N.startOffset<=Y&&N.endOffset>Y),re&&h&&(re=S||Y>k),R){if(!re||!l&&W>=s){if(u){let Pe=p>0?f[p-1].endIndex:r;for(let Ne=Pe+1;Ne<=Y;Ne++)f[p++]=new so(Ne,"mtkw",1)}else f[p++]=new so(Y,"mtkw",1);W=W%s}}else(Y===y||re&&Y>r)&&(f[p++]=new so(Y,v,0),W=W%s);for(te===9?W=s:Ls(te)?W+=2:W++,R=re;Y===y&&(b++,b<w);)v=i[b].type,y=i[b].endIndex}let G=!1;if(R)if(n&&d){let Y=t>0?e.charCodeAt(t-1):0,te=t>1?e.charCodeAt(t-2):0;Y===32&&te!==32&&te!==9||(G=!0)}else G=!0;if(G)if(u){let Y=p>0?f[p-1].endIndex:r;for(let te=Y+1;te<=t;te++)f[p++]=new so(te,"mtkw",1)}else f[p++]=new so(t,"mtkw",1);else f[p++]=new so(t,v,0);return f}function tde(o,e,t,i){i.sort(dr.compare);let n=cM.normalize(o,i),r=n.length,s=0,a=[],l=0,c=0;for(let h=0,u=t.length;h<u;h++){let f=t[h],p=f.endIndex,b=f.type,v=f.metadata;for(;s<r&&n[s].startOffset<p;){let y=n[s];if(y.startOffset>c&&(c=y.startOffset,a[l++]=new so(c,b,v)),y.endOffset+1<=p)c=y.endOffset+1,a[l++]=new so(c,b+" "+y.className,v|y.metadata),s++;else{c=p,a[l++]=new so(c,b+" "+y.className,v|y.metadata);break}}p>c&&(c=p,a[l++]=new so(c,b,v))}let d=t[t.length-1].endIndex;if(s<r&&n[s].startOffset===d)for(;s<r&&n[s].startOffset===d;){let h=n[s];a[l++]=new so(c,h.className,h.metadata),s++}return a}function ide(o,e){let t=o.fontIsMonospace,i=o.canUseHalfwidthRightwardsArrow,n=o.containsForeignElements,r=o.lineContent,s=o.len,a=o.isOverflowing,l=o.parts,c=o.fauxIndentLength,d=o.tabSize,h=o.startVisibleColumn,u=o.containsRTL,f=o.spaceWidth,p=o.renderSpaceCharCode,b=o.renderWhitespace,v=o.renderControlCharacters,y=new kc(s+1,l.length),w=!1,S=0,x=h,k=0,R=0,O=0,N=0;u?e.appendASCIIString('<span dir="ltr">'):e.appendASCIIString("<span>");for(let W=0,G=l.length;W<G;W++){N+=O;let Y=l[W],te=Y.endIndex,re=Y.type,Pe=b!==0&&Y.isWhitespace(),Ne=Pe&&!t&&(re==="mtkw"||!n),Ae=S===te&&Y.isPseudoAfter();if(k=0,e.appendASCIIString('<span class="'),e.appendASCIIString(Ne?"mtkz":re),e.appendASCII(34),Pe){let He=0;{let We=S,Ue=x;for(;We<te;We++){let gi=(r.charCodeAt(We)===9?d-Ue%d:1)|0;He+=gi,We>=c&&(Ue+=gi)}}for(Ne&&(e.appendASCIIString(' style="width:'),e.appendASCIIString(String(f*He)),e.appendASCIIString('px"')),e.appendASCII(62);S<te;S++){y.setColumnInfo(S+1,W-R,k,N),R=0;let We=r.charCodeAt(S),Ue;if(We===9){Ue=d-x%d|0,!i||Ue>1?e.write1(8594):e.write1(65515);for(let Ie=2;Ie<=Ue;Ie++)e.write1(160)}else Ue=1,e.write1(p);k+=Ue,S>=c&&(x+=Ue)}O=He}else{let He=0;for(e.appendASCII(62);S<te;S++){y.setColumnInfo(S+1,W-R,k,N),R=0;let We=r.charCodeAt(S),Ue=1,Ie=1;switch(We){case 9:Ue=d-x%d,Ie=Ue;for(let gi=1;gi<=Ue;gi++)e.write1(160);break;case 32:e.write1(160);break;case 60:e.appendASCIIString("&lt;");break;case 62:e.appendASCIIString("&gt;");break;case 38:e.appendASCIIString("&amp;");break;case 0:v?e.write1(9216):e.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:e.write1(65533);break;default:Ls(We)&&Ie++,v&&We<32?e.write1(9216+We):v&&We===127?e.write1(9249):v&&yU(We)?(e.appendASCIIString("[U+"),e.appendASCIIString(nde(We)),e.appendASCIIString("]"),Ue=8):e.write1(We)}k+=Ue,He+=Ue,S>=c&&(x+=Ie)}O=He}Ae?R++:R=0,S>=s&&!w&&Y.isPseudoAfter()&&(w=!0,y.setColumnInfo(S+1,W,k,N)),e.appendASCIIString("</span>")}return w||y.setColumnInfo(s+1,l.length-1,k,N),a&&e.appendASCIIString("<span>&hellip;</span>"),e.appendASCIIString("</span>"),new lL(y,u,n)}function nde(o){return o.toString(16).toUpperCase().padStart(4,"0")}je();ve();var cL=class{constructor(e,t,i,n){this._viewportBrand=void 0,this.top=e|0,this.left=t|0,this.width=i|0,this.height=n|0}},hM=class{constructor(e,t){this.tabSize=e,this.data=t}},nv=class{constructor(e,t,i,n,r,s,a){this._viewLineDataBrand=void 0,this.content=e,this.continuesWithWrappedLine=t,this.minColumn=i,this.maxColumn=n,this.startVisibleColumn=r,this.tokens=s,this.inlineDecorations=a}},hr=class{constructor(e,t,i,n,r,s,a,l,c,d){this.minColumn=e,this.maxColumn=t,this.content=i,this.continuesWithWrappedLine=n,this.isBasicASCII=hr.isBasicASCII(i,s),this.containsRTL=hr.containsRTL(i,this.isBasicASCII,r),this.tokens=a,this.inlineDecorations=l,this.tabSize=c,this.startVisibleColumn=d}static isBasicASCII(e,t){return t?Tb(e):!0}static containsRTL(e,t,i){return!t&&i?Af(e):!1}},Kf=class{constructor(e,t,i){this.range=e,this.inlineClassName=t,this.type=i}},uM=class{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=n}toInlineDecoration(e){return new Kf(new D(e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}},G0=class{constructor(e,t){this._viewModelDecorationBrand=void 0,this.range=e,this.options=t}},X0=class{constructor(e,t,i){this.color=e,this.zIndex=t,this.data=i}static cmp(e,t){return e.zIndex===t.zIndex?e.color<t.color?-1:e.color>t.color?1:0:e.zIndex-t.zIndex}};c0();Tt();Uf();function ode(o){return Array.isArray(o)}function SU(o){return!ode(o)}function fM(o){return typeof o=="string"}function gM(o){return!fM(o)}function ep(o){return!o}function Nd(o,e){return o.ignoreCase&&e?e.toLowerCase():e}function mM(o){return o.replace(/[&<>'"_]/g,"-")}function EU(o,e){console.log(`${o.languageId}: ${e}`)}function Ri(o,e){return new Error(`${o.languageId}: ${e}`)}function Pd(o,e,t,i,n){let r=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,s=null;return e.replace(r,function(a,l,c,d,h,u,f,p,b){return ep(c)?ep(d)?!ep(h)&&h<i.length?Nd(o,i[h]):!ep(f)&&o&&typeof o[f]=="string"?o[f]:(s===null&&(s=n.split("."),s.unshift(n)),!ep(u)&&u<s.length?Nd(o,s[u]):""):Nd(o,t):"$"})}function Q0(o,e){let t=e;for(;t&&t.length>0;){let i=o.tokenizer[t];if(i)return i;let n=t.lastIndexOf(".");n<0?t=null:t=t.substr(0,n)}return null}function xU(o,e){let t=e;for(;t&&t.length>0;){if(o.stateNames[t])return!0;let n=t.lastIndexOf(".");n<0?t=null:t=t.substr(0,n)}return!1}var LU=5,ov=class{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(e!==null&&e.depth>=this._maxCacheDepth)return new tp(e,t);let i=tp.getStackElementId(e);i.length>0&&(i+="|"),i+=t;let n=this._entries[i];return n||(n=new tp(e,t),this._entries[i]=n,n)}};ov._INSTANCE=new ov(LU);var tp=class{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;e!==null;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;e!==null&&t!==null;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return e===null&&t===null}equals(e){return tp._equals(this,e)}push(e){return ov.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return ov.create(this.parent,e)}},rv=class{constructor(e,t){this.languageId=e,this.state=t}equals(e){return this.languageId===e.languageId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new rv(this.languageId,this.state)}},Xh=class{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(t!==null)return new sv(e,t);if(e!==null&&e.depth>=this._maxCacheDepth)return new sv(e,t);let i=tp.getStackElementId(e),n=this._entries[i];return n||(n=new sv(e,null),this._entries[i]=n,n)}};Xh._INSTANCE=new Xh(LU);var sv=class{constructor(e,t){this.stack=e,this.embeddedModeData=t}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:Xh.create(this.stack,this.embeddedModeData)}equals(e){return!(e instanceof sv)||!this.stack.equals(e.stack)?!1:this.embeddedModeData===null&&e.embeddedModeData===null?!0:this.embeddedModeData===null||e.embeddedModeData===null?!1:this.embeddedModeData.equals(e.embeddedModeData)}},kU=class{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(e,t){this._languageId=t}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=t,this._lastTokenLanguage=this._languageId,this._tokens.push(new Ah(e,t,this._languageId)))}nestedModeTokenize(e,t,i,n){let r=i.languageId,s=i.state,a=Li.get(r);if(!a)return this.enterMode(n,r),this.emit(n,""),s;let l=a.tokenize(e,t,s,n);return this._tokens=this._tokens.concat(l.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,l.endState}finalize(e){return new km(this._tokens,e)}},J0=class{constructor(e,t){this._modeService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(e,t){this._currentLanguageId=this._modeService.languageIdCodec.encodeLanguageId(t)}emit(e,t){let i=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==i&&(this._lastTokenMetadata=i,this._tokens.push(e),this._tokens.push(i))}static _merge(e,t,i){let n=e!==null?e.length:0,r=t.length,s=i!==null?i.length:0;if(n===0&&r===0&&s===0)return new Uint32Array(0);if(n===0&&r===0)return i;if(r===0&&s===0)return e;let a=new Uint32Array(n+r+s);e!==null&&a.set(e);for(let l=0;l<r;l++)a[n+l]=t[l];return i!==null&&a.set(i,n+r),a}nestedModeTokenize(e,t,i,n){let r=i.languageId,s=i.state,a=Li.get(r);if(!a)return this.enterMode(n,r),this.emit(n,""),s;let l=a.tokenize2(e,t,s,n);return this._prependTokens=J0._merge(this._prependTokens,this._tokens,l.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,l.endState}finalize(e){return new If(J0._merge(this._prependTokens,this._tokens,null),e)}},av=class{constructor(e,t,i,n){this._modeService=e,this._standaloneThemeService=t,this._languageId=i,this._lexer=n,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let r=!1;this._tokenizationRegistryListener=Li.onDidChange(s=>{if(r)return;let a=!1;for(let l=0,c=s.changedLanguages.length;l<c;l++){let d=s.changedLanguages[l];if(this._embeddedModes[d]){a=!0;break}}a&&(r=!0,Li.fire([this._languageId]),r=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let e=[];for(let t in this._embeddedModes){let i=Li.get(t);if(i){if(i instanceof av){let r=i.getLoadStatus();r.loaded===!1&&e.push(r.promise)}continue}let n=Li.getPromise(t);n&&e.push(n)}return e.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then(t=>{})}}getInitialState(){let e=ov.create(null,this._lexer.start);return Xh.create(e,null)}tokenize(e,t,i,n){let r=new kU,s=this._tokenize(e,t,i,n,r);return r.finalize(s)}tokenize2(e,t,i,n){let r=new J0(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),s=this._tokenize(e,t,i,n,r);return r.finalize(s)}_tokenize(e,t,i,n,r){return i.embeddedModeData?this._nestedTokenize(e,t,i,n,r):this._myTokenize(e,t,i,n,r)}_findLeavingNestedModeOffset(e,t){let i=this._lexer.tokenizer[t.stack.state];if(!i&&(i=Q0(this._lexer,t.stack.state),!i))throw Ri(this._lexer,"tokenizer state is not defined: "+t.stack.state);let n=-1,r=!1;for(let s of i){if(!gM(s.action)||s.action.nextEmbedded!=="@pop")continue;r=!0;let a=s.regex,l=s.regex.source;if(l.substr(0,4)==="^(?:"&&l.substr(l.length-1,1)===")"){let d=(a.ignoreCase?"i":"")+(a.unicode?"u":"");a=new RegExp(l.substr(4,l.length-5),d)}let c=e.search(a);c===-1||c!==0&&s.matchOnlyAtLineStart||(n===-1||c<n)&&(n=c)}if(!r)throw Ri(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return n}_nestedTokenize(e,t,i,n,r){let s=this._findLeavingNestedModeOffset(e,i);if(s===-1){let c=r.nestedModeTokenize(e,t,i.embeddedModeData,n);return Xh.create(i.stack,new rv(i.embeddedModeData.languageId,c))}let a=e.substring(0,s);a.length>0&&r.nestedModeTokenize(a,!1,i.embeddedModeData,n);let l=e.substring(s);return this._myTokenize(l,t,i,n+s,r)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,i,n,r){r.enterMode(n,this._languageId);let s=e.length,a=t&&this._lexer.includeLF?e+`
`:e,l=a.length,c=i.embeddedModeData,d=i.stack,h=0,u=null,f=!0;for(;f||h<l;){let p=h,b=d.depth,v=u?u.groups.length:0,y=d.state,w=null,S=null,x=null,k=null,R=null;if(u){w=u.matches;let W=u.groups.shift();S=W.matched,x=W.action,k=u.rule,u.groups.length===0&&(u=null)}else{if(!f&&h>=l)break;f=!1;let W=this._lexer.tokenizer[y];if(!W&&(W=Q0(this._lexer,y),!W))throw Ri(this._lexer,"tokenizer state is not defined: "+y);let G=a.substr(h);for(let Y of W)if((h===0||!Y.matchOnlyAtLineStart)&&(w=G.match(Y.regex),w)){S=w[0],x=Y.action;break}}if(w||(w=[""],S=""),x||(h<l&&(w=[a.charAt(h)],S=w[0]),x=this._lexer.defaultToken),S===null)break;for(h+=S.length;SU(x)&&gM(x)&&x.test;)x=x.test(S,w,y,h===l);let O=null;if(typeof x=="string"||Array.isArray(x))O=x;else if(x.group)O=x.group;else if(x.token!==null&&x.token!==void 0){if(x.tokenSubst?O=Pd(this._lexer,x.token,S,w,y):O=x.token,x.nextEmbedded)if(x.nextEmbedded==="@pop"){if(!c)throw Ri(this._lexer,"cannot pop embedded mode if not inside one");c=null}else{if(c)throw Ri(this._lexer,"cannot enter embedded mode from within an embedded mode");R=Pd(this._lexer,x.nextEmbedded,S,w,y)}if(x.goBack&&(h=Math.max(0,h-x.goBack)),x.switchTo&&typeof x.switchTo=="string"){let W=Pd(this._lexer,x.switchTo,S,w,y);if(W[0]==="@"&&(W=W.substr(1)),Q0(this._lexer,W))d=d.switchTo(W);else throw Ri(this._lexer,"trying to switch to a state '"+W+"' that is undefined in rule: "+this._safeRuleName(k))}else{if(x.transform&&typeof x.transform=="function")throw Ri(this._lexer,"action.transform not supported");if(x.next)if(x.next==="@push"){if(d.depth>=this._lexer.maxStack)throw Ri(this._lexer,"maximum tokenizer stack size reached: ["+d.state+","+d.parent.state+",...]");d=d.push(y)}else if(x.next==="@pop"){if(d.depth<=1)throw Ri(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(k));d=d.pop()}else if(x.next==="@popall")d=d.popall();else{let W=Pd(this._lexer,x.next,S,w,y);if(W[0]==="@"&&(W=W.substr(1)),Q0(this._lexer,W))d=d.push(W);else throw Ri(this._lexer,"trying to set a next state '"+W+"' that is undefined in rule: "+this._safeRuleName(k))}}x.log&&typeof x.log=="string"&&EU(this._lexer,this._lexer.languageId+": "+Pd(this._lexer,x.log,S,w,y))}if(O===null)throw Ri(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(k));let N=W=>{let G=this._modeService.getModeIdForLanguageName(W);G&&(W=G);let Y=this._getNestedEmbeddedModeData(W);if(h<l){let te=e.substr(h);return this._nestedTokenize(te,t,Xh.create(d,Y),n+h,r)}else return Xh.create(d,Y)};if(Array.isArray(O)){if(u&&u.groups.length>0)throw Ri(this._lexer,"groups cannot be nested: "+this._safeRuleName(k));if(w.length!==O.length+1)throw Ri(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(k));let W=0;for(let G=1;G<w.length;G++)W+=w[G].length;if(W!==S.length)throw Ri(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(k));u={rule:k,matches:w,groups:[]};for(let G=0;G<O.length;G++)u.groups[G]={action:O[G],matched:w[G+1]};h-=S.length;continue}else{if(O==="@rematch"&&(h-=S.length,S="",w=null,O="",R!==null))return N(R);if(S.length===0){if(l===0||b!==d.depth||y!==d.state||(u?u.groups.length:0)!==v)continue;throw Ri(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(k))}let W=null;if(fM(O)&&O.indexOf("@brackets")===0){let G=O.substr("@brackets".length),Y=rde(this._lexer,S);if(!Y)throw Ri(this._lexer,"@brackets token returned but no bracket defined as: "+S);W=mM(Y.token+G)}else{let G=O===""?"":O+this._lexer.tokenPostfix;W=mM(G)}p<s&&r.emit(p+n,W)}if(R!==null)return N(R)}return Xh.create(d,c)}_getNestedEmbeddedModeData(e){let t=this._locateMode(e);if(t){let i=Li.get(t);if(i)return new rv(t,i.getInitialState())}return new rv(t||Ol,Hm)}_locateMode(e){if(!e||!this._modeService.isRegisteredMode(e))return null;if(e===this._languageId)return e;let t=this._modeService.getModeId(e);return t&&(this._modeService.triggerMode(t),this._embeddedModes[t]=!0),t}};function rde(o,e){if(!e)return null;e=Nd(o,e);let t=o.brackets;for(let i of t){if(i.open===e)return{token:i.token,bracketType:1};if(i.close===e)return{token:i.token,bracketType:-1}}return null}function IU(o,e,t,i){return new av(o,e,t,i)}var pM,_M=(pM=window.trustedTypes)===null||pM===void 0?void 0:pM.createPolicy("standaloneColorizer",{createHTML:o=>o}),e1=class{static colorizeElement(e,t,i,n){n=n||{};let r=n.theme||"vs",s=n.mimeType||i.getAttribute("lang")||i.getAttribute("data-lang");if(!s)return console.error("Mode not detected"),Promise.resolve();e.setTheme(r);let a=i.firstChild?i.firstChild.nodeValue:"";i.className+=" "+r;let l=c=>{var d;let h=(d=_M==null?void 0:_M.createHTML(c))!==null&&d!==void 0?d:c;i.innerHTML=h};return this.colorize(t,a||"",s,n).then(l,c=>console.error(c))}static colorize(e,t,i,n){let r=e.languageIdCodec,s=4;n&&typeof n.tabSize=="number"&&(s=n.tabSize),Pb(t)&&(t=t.substr(1));let a=rr(t),l=e.getModeId(i);if(!l)return Promise.resolve(OU(a,s,r));e.triggerMode(l);let c=Li.get(l);if(c)return bM(a,s,c,r);let d=Li.getPromise(l);return d?new Promise((h,u)=>{d.then(f=>{bM(a,s,f,r).then(h,u)},u)}):new Promise((h,u)=>{let f=null,p=null,b=()=>{f&&(f.dispose(),f=null),p&&(p.dispose(),p=null);let v=Li.get(l);if(v){bM(a,s,v,r).then(h,u);return}h(OU(a,s,r))};p=new Fi,p.cancelAndSet(b,500),f=Li.onDidChange(v=>{v.changedLanguages.indexOf(l)>=0&&b()})})}static colorizeLine(e,t,i,n,r=4){let s=hr.isBasicASCII(e,t),a=hr.containsRTL(e,s,i);return iv(new Va(!1,!0,e,!1,s,a,0,n,[],r,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,i=4){let n=e.getLineContent(t);e.forceTokenization(t);let s=e.getLineTokens(t).inflate();return this.colorizeLine(n,e.mightContainNonBasicASCII(),e.mightContainRTL(),s,i)}};function bM(o,e,t,i){return new Promise((n,r)=>{let s=()=>{let a=sde(o,e,t,i);if(t instanceof av){let l=t.getLoadStatus();if(l.loaded===!1){l.promise.then(s,r);return}}n(a)};s()})}function OU(o,e,t){let i=[],n=(0<<11|1<<14|2<<23)>>>0,r=new Uint32Array(2);r[0]=0,r[1]=n;for(let s=0,a=o.length;s<a;s++){let l=o[s];r[0]=l.length;let c=new hn(r,l,t),d=hr.isBasicASCII(l,!0),h=hr.containsRTL(l,d,!0),u=iv(new Va(!1,!0,l,!1,d,h,0,c,[],e,0,0,0,0,-1,"none",!1,!1,null));i=i.concat(u.html),i.push("<br/>")}return i.join("")}function sde(o,e,t,i){let n=[],r=t.getInitialState();for(let s=0,a=o.length;s<a;s++){let l=o[s],c=t.tokenize2(l,!0,r,0);hn.convertToEndOffset(c.tokens,l.length);let d=new hn(c.tokens,l,i),h=hr.isBasicASCII(l,!0),u=hr.containsRTL(l,h,!0),f=iv(new Va(!1,!0,l,!1,h,u,0,d.inflate(),[],e,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(f.html),n.push("<br/>"),r=c.endState}return n.join("")}je();Me();is();Se();Tm();ne();wt();je();var t1;(function(o){o[o.Ignore=0]="Ignore",o[o.Info=1]="Info",o[o.Warning=2]="Warning",o[o.Error=3]="Error"})(t1||(t1={}));(function(o){let e="error",t="warning",i="warn",n="info",r="ignore";function s(l){return l?Fh(e,l)?o.Error:Fh(t,l)||Fh(i,l)?o.Warning:Fh(n,l)?o.Info:o.Ignore:o.Ignore}o.fromValue=s;function a(l){switch(l){case o.Error:return e;case o.Warning:return t;case o.Info:return n;default:return r}}o.toString=a})(t1||(t1={}));var Vi=t1;Ai();dL();Ge();Ai();di();var lv=Fe("IWorkspaceEditService");function ade(o){return Hn(o)&&(Boolean(o.newUri)||Boolean(o.oldUri))}function lde(o){return Hn(o)&&Ee.isUri(o.resource)&&Hn(o.edit)}var ip=class{constructor(e){this.metadata=e}static convert(e){return e.edits.map(t=>{if(lde(t))return new hL(t.resource,t.edit,t.modelVersionId,t.metadata);if(ade(t))return new TU(t.oldUri,t.newUri,t.options,t.metadata);throw new Error("Unsupported edit")})}},hL=class extends ip{constructor(e,t,i,n){super(n);this.resource=e,this.textEdit=t,this.versionId=i}},TU=class extends ip{constructor(e,t,i,n){super(n);this.oldResource=e,this.newResource=t,this.options=i}};xe();Se();ne();Wo();Ut();An();rp();Ur();var fde=Object.prototype.hasOwnProperty;function jU(o,e){for(let t in o)if(fde.call(o,t)&&e({key:t,value:o[t]},function(){delete o[t]})===!1)return}var xM=class{constructor(){this.map=new Map}add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){let i=this.map.get(e);!i||(i.delete(t),i.size===0&&this.map.delete(e))}forEach(e,t){let i=this.map.get(e);!i||i.forEach(t)}};var n1=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new F,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(o){this._tabFocus!==o&&(this._tabFocus=o,this._onDidChangeTabFocus.fire(this._tabFocus))}},gde=Object.hasOwnProperty,WU=class{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}},UU=class{constructor(){this._values=[]}_read(e){return this._values[e]}_write(e,t){this._values[e]=t}},Ic=class{static readOptions(e){let t=e,i=new UU;for(let n of yf){let r=n.name==="_never_"?void 0:t[n.name];i._write(n.id,r)}return i}static validateOptions(e){let t=new fP;for(let i of yf)t._write(i.id,i.validate(e._read(i.id)));return t}static computeOptions(e,t){let i=new WU;for(let n of yf)i._write(n.id,n.compute(t,i,e._read(n.id)));return i}static _deepEquals(e,t){if(typeof e!="object"||typeof t!="object"||!e||!t)return e===t;if(Array.isArray(e)||Array.isArray(t))return Array.isArray(e)&&Array.isArray(t)?eo(e,t):!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let i in e)if(!Ic._deepEquals(e[i],t[i]))return!1;return!0}static checkEquals(e,t){let i=[],n=!1;for(let r of yf){let s=!Ic._deepEquals(e._read(r.id),t._read(r.id));i[r.id]=s,s&&(n=!0)}return n?new r0(i):null}static applyUpdate(e,t){let i=!1;for(let n of yf)if(t.hasOwnProperty(n.name)){let r=n.applyUpdate(e[n.name],t[n.name]);e[n.name]=r.newValue,i=i||r.didChange}return i}};function mde(o){let e=o.wordWrap;e===!0?o.wordWrap="on":e===!1&&(o.wordWrap="off");let t=o.lineNumbers;t===!0?o.lineNumbers="on":t===!1&&(o.lineNumbers="off"),o.autoClosingBrackets===!1&&(o.autoClosingBrackets="never",o.autoClosingQuotes="never",o.autoSurround="never"),o.cursorBlinking==="visible"&&(o.cursorBlinking="solid");let r=o.renderWhitespace;r===!0?o.renderWhitespace="boundary":r===!1&&(o.renderWhitespace="none");let s=o.renderLineHighlight;s===!0?o.renderLineHighlight="line":s===!1&&(o.renderLineHighlight="none");let a=o.acceptSuggestionOnEnter;a===!0?o.acceptSuggestionOnEnter="on":a===!1&&(o.acceptSuggestionOnEnter="off");let l=o.tabCompletion;l===!1?o.tabCompletion="off":l===!0&&(o.tabCompletion="onlySnippets");let c=o.suggest;if(c&&typeof c.filteredTypes=="object"&&c.filteredTypes){let v={};v.method="showMethods",v.function="showFunctions",v.constructor="showConstructors",v.deprecated="showDeprecated",v.field="showFields",v.variable="showVariables",v.class="showClasses",v.struct="showStructs",v.interface="showInterfaces",v.module="showModules",v.property="showProperties",v.event="showEvents",v.operator="showOperators",v.unit="showUnits",v.value="showValues",v.constant="showConstants",v.enum="showEnums",v.enumMember="showEnumMembers",v.keyword="showKeywords",v.text="showWords",v.color="showColors",v.file="showFiles",v.reference="showReferences",v.folder="showFolders",v.typeParameter="showTypeParameters",v.snippet="showSnippets",jU(v,y=>{let w=c.filteredTypes[y.key];w===!1&&(c[y.value]=w)})}let d=o.hover;d===!0?o.hover={enabled:!0}:d===!1&&(o.hover={enabled:!1});let h=o.parameterHints;h===!0?o.parameterHints={enabled:!0}:h===!1&&(o.parameterHints={enabled:!1});let u=o.autoIndent;u===!0?o.autoIndent="full":u===!1&&(o.autoIndent="advanced");let f=o.matchBrackets;f===!0?o.matchBrackets="always":f===!1&&(o.matchBrackets="never");let{renderIndentGuides:p,highlightActiveIndentGuide:b}=o;o.guides||(o.guides={}),p!==void 0&&(o.guides.indentation=!!p),b!==void 0&&(o.guides.highlightActiveIndentation=!!b)}function zU(o){let e=vl(o);return mde(e),e}var o1=class extends ${constructor(e,t){super();this._onDidChange=this._register(new F),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new F),this.onDidChangeFast=this._onDidChangeFast.event,this._reservedHeight=0,this.isSimpleWidget=e,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new wx,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=zU(t),this._readOptions=Ic.readOptions(this._rawOptions),this._validatedOptions=Ic.validateOptions(this._readOptions),this._register(Wa.onDidChangeZoomLevel(i=>this._recomputeOptions())),this._register(n1.onDidChangeTabFocus(i=>this._recomputeOptions()))}observeReferenceElement(e){}updatePixelRatio(){}_recomputeOptions(){let e=this.options,t=this._computeInternalOptions();if(!e)this.options=t;else{let i=Ic.checkEquals(e,t);if(i===null)return;this.options=t,this._onDidChangeFast.fire(i),this._onDidChange.fire(i)}}getRawOptions(){return this._rawOptions}_computeInternalOptions(){let e=this._getEnvConfiguration(),t=Cd.createFromValidatedSettings(this._validatedOptions,e.zoomLevel,e.pixelRatio,this.isSimpleWidget),i={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight-this._reservedHeight,fontInfo:this.readConfiguration(t),extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:n1.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport};return Ic.computeOptions(this._validatedOptions,i)}updateOptions(e){if(typeof e=="undefined")return;let t=zU(e);!Ic.applyUpdate(this._rawOptions,t)||(this._readOptions=Ic.readOptions(this._rawOptions),this._validatedOptions=Ic.validateOptions(this._readOptions),this._recomputeOptions())}setIsDominatedByLongLines(e){this._isDominatedByLongLines=e,this._recomputeOptions()}setMaxLineNumber(e){let t=o1._digitCount(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}static _digitCount(e){let t=0;for(;e;)e=Math.floor(e/10),t++;return t||1}reserveHeight(e){this._reservedHeight=e,this._recomputeOptions()}},pde=Object.freeze({id:"editor",order:5,type:"object",title:g("editorConfigurationTitle","Editor"),scope:5}),_de=ki.as(Ha.Configuration),mL=Object.assign(Object.assign({},pde),{properties:{"editor.tabSize":{type:"number",default:Do.tabSize,minimum:1,markdownDescription:g("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:Do.insertSpaces,markdownDescription:g("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:Do.detectIndentation,markdownDescription:g("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:Do.trimAutoWhitespace,description:g("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:Do.largeFileOptimizations,description:g("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:g("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[g("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),g("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),g("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:g("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[g("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),g("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),g("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:g("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:g("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:g("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:"array",default:!1,description:g("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:g("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:g("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:"array",default:!1,description:g("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:g("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:g("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:g("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:g("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:g("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:g("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:g("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:g("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[g("wordWrap.off","Lines will never wrap."),g("wordWrap.on","Lines will wrap at the viewport width."),g("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function bde(o){return typeof o.type!="undefined"||typeof o.anyOf!="undefined"}for(let o of yf){let e=o.schema;if(typeof e!="undefined")if(bde(e))mL.properties[`editor.${o.name}`]=e;else for(let t in e)gde.call(e,t)&&(mL.properties[t]=e[t])}var pL=null;function VU(){return pL===null&&(pL=Object.create(null),Object.keys(mL.properties).forEach(o=>{pL[o]=!0})),pL}function HU(o){return VU()[`editor.${o}`]||!1}function $U(o){return VU()[`diffEditor.${o}`]||!1}_de.registerConfiguration(mL);Ml();ot();ve();xr();zi();lr();Ut();Is();Wo();di();Ai();lr();rp();Ur();var Rs=class{constructor(e={},t=[],i=[]){this._contents=e,this._keys=t,this._overrides=i,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(e){return e?YW(this.contents,e):this.contents}override(e){let t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}merge(...e){let t=vl(this.contents),i=vl(this.overrides),n=[...this.keys];for(let r of e){this.mergeContents(t,r.contents);for(let s of r.overrides){let[a]=i.filter(l=>eo(l.identifiers,s.identifiers));a?(this.mergeContents(a.contents,s.contents),a.keys.push(...s.keys),a.keys=pl(a.keys)):i.push(vl(s))}for(let s of r.keys)n.indexOf(s)===-1&&n.push(s)}return new Rs(t,n,i)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(e){let t=this.getContentsForOverrideIdentifer(e);if(!t||typeof t!="object"||!Object.keys(t).length)return this;let i={};for(let n of pl([...Object.keys(this.contents),...Object.keys(t)])){let r=this.contents[n],s=t[n];s&&(typeof r=="object"&&typeof s=="object"?(r=vl(r),this.mergeContents(r,s)):r=s),i[n]=r}return new Rs(i,this.keys,this.overrides)}mergeContents(e,t){for(let i of Object.keys(t)){if(i in e&&Hn(e[i])&&Hn(t[i])){this.mergeContents(e[i],t[i]);continue}e[i]=vl(t[i])}}checkAndFreeze(e){return this.isFrozen&&!Object.isFrozen(e)?ij(e):e}getContentsForOverrideIdentifer(e){let t=null,i=null,n=r=>{r&&(i?this.mergeContents(i,r):i=vl(r))};for(let r of this.overrides)eo(r.identifiers,[e])?t=r.contents:r.identifiers.includes(e)&&n(r.contents);return n(t),i}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(e,t){this.addKey(e),eL(this.contents,e,t,i=>{throw new Error(i)})}removeValue(e){this.removeKey(e)&&$W(this.contents,e)}addKey(e){let t=this.keys.length;for(let i=0;i<t;i++)e.indexOf(this.keys[i])===0&&(t=i);this.keys.splice(t,1,e)}removeKey(e){let t=this.keys.indexOf(e);return t!==-1?(this.keys.splice(t,1),!0):!1}},DM=class extends Rs{constructor(e={}){let t=ki.as(Ha.Configuration).getConfigurationProperties(),i=Object.keys(t),n=Object.create(null),r=[];for(let s in t){let a=e[s],l=a!==void 0?a:t[s].default;eL(n,s,l,c=>console.error(`Conflict in default settings: ${c}`))}for(let s of Object.keys(n))cv.test(s)&&r.push({identifiers:EM(s),keys:Object.keys(n[s]),contents:jR(n[s],a=>console.error(`Conflict in default settings file: ${a}`))});super(n,i,r)}},dv=class{constructor(e,t,i=new Rs,n=new Rs,r=new Fn,s=new Rs,a=new Fn,l=!0){this._defaultConfiguration=e,this._localUserConfiguration=t,this._remoteUserConfiguration=i,this._workspaceConfiguration=n,this._folderConfigurations=r,this._memoryConfiguration=s,this._memoryConfigurationByResource=a,this._freeze=l,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Fn,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidateConfigurationModel(t,i).getValue(e)}updateValue(e,t,i={}){let n;i.resource?(n=this._memoryConfigurationByResource.get(i.resource),n||(n=new Rs,this._memoryConfigurationByResource.set(i.resource,n))):n=this._memoryConfiguration,t===void 0?n.removeValue(e):n.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(e,t){let i=this.getConsolidatedConfigurationModelForResource(e,t);return e.overrideIdentifier?i.override(e.overrideIdentifier):i}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();if(t&&e){let n=t.getFolder(e);n&&(i=this.getFolderConsolidatedConfiguration(n.uri)||i);let r=this._memoryConfigurationByResource.get(e);r&&(i=i.merge(r))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){let i=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(e);n?(t=i.merge(n),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((e,t)=>{let{contents:i,overrides:n,keys:r}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:n,keys:r}]),e},[])}}static parse(e){let t=this.parseConfigurationModel(e.defaults),i=this.parseConfigurationModel(e.user),n=this.parseConfigurationModel(e.workspace),r=e.folders.reduce((s,a)=>(s.set(Ee.revive(a[0]),this.parseConfigurationModel(a[1])),s),new Fn);return new dv(t,i,new Rs,n,r,new Rs,new Fn,!1)}static parseConfigurationModel(e){return new Rs(e.contents,e.keys,e.overrides).freeze()}},LM=class{constructor(e,t,i,n){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=n,this._previousConfiguration=void 0;let r=new Set;e.keys.forEach(a=>r.add(a)),e.overrides.forEach(([,a])=>a.forEach(l=>r.add(l))),this.affectedKeys=[...r.values()];let s=new Rs;this.affectedKeys.forEach(a=>s.setValue(a,{})),this.affectedKeysTree=s.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=dv.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){var i;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,e)){if(t){let n=this.previousConfiguration?this.previousConfiguration.getValue(e,t,(i=this.previous)===null||i===void 0?void 0:i.workspace):void 0,r=this.currentConfiguraiton.getValue(e,t,this.currentWorkspace);return!ir(n,r)}return!0}return!1}doesAffectedKeysTreeContains(e,t){let i=jR({[t]:!0},()=>{}),n;for(;typeof i=="object"&&(n=Object.keys(i)[0]);){if(e=e[n],!e)return!1;i=i[n]}return!0}};tt();Se();ne();xe();var vde=/^(cursor|delete)/,kM=class extends ${constructor(e,t,i,n,r){super();this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=n,this._logService=r,this._onDidUpdateKeybindings=this._register(new F),this._currentChord=null,this._currentChordChecker=new gd,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=sp.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new Fi,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:we.None}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){let i=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(!!i)return i.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){let i=this.resolveKeyboardEvent(e);if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;let[n]=i.getDispatchParts();if(n===null)return null;let r=this._contextKeyService.getContext(t),s=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(r,s,n)}_enterChordMode(e,t){this._currentChord={keypress:e,label:t},this._currentChordStatusMessage=this._notificationService.status(g("first.chord","({0}) was pressed. Waiting for second key of chord...",t));let i=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-i>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){let i=this.resolveKeyboardEvent(e),[n]=i.getSingleModifierDispatchParts();if(n)return this._ignoreSingleModifiers.has(n)?(this._log(`+ Ignoring single modifier ${n} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=sp.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=sp.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${n}.`),this._currentSingleModifier=n,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):n===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${n} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));let[r]=i.getParts();return this._ignoreSingleModifiers=new sp(r),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(e,t,i=!1){let n=!1;if(e.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let r=null,s=null;if(i){let[d]=e.getSingleModifierDispatchParts();r=d,s=d}else[r]=e.getDispatchParts(),s=this._currentChord?this._currentChord.keypress:null;if(r===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),n;let a=this._contextKeyService.getContext(t),l=e.getLabel(),c=this._getResolver().resolve(a,s,r);return this._logService.trace("KeybindingService#dispatch",l,c==null?void 0:c.commandId),c&&c.enterChord?(n=!0,this._enterChordMode(r,l),n):(this._currentChord&&(!c||!c.commandId)&&(this._notificationService.status(g("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,l),{hideAfter:10*1e3}),n=!0),this._leaveChordMode(),c&&c.commandId&&(c.bubble||(n=!0),typeof c.commandArgs=="undefined"?this._commandService.executeCommand(c.commandId).then(void 0,d=>this._notificationService.warn(d)):this._commandService.executeCommand(c.commandId,c.commandArgs).then(void 0,d=>this._notificationService.warn(d)),vde.test(c.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:c.commandId,from:"keybinding"})),n)}mightProducePrintableCharacter(e){return e.ctrlKey||e.metaKey?!1:e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30}},sp=class{constructor(e){this._ctrlKey=e?e.ctrlKey:!1,this._shiftKey=e?e.shiftKey:!1,this._altKey=e?e.altKey:!1,this._metaKey=e?e.metaKey:!1}has(e){switch(e){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}};sp.EMPTY=new sp(null);_t();var eu=class{constructor(e,t,i){this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(let n=0,r=e.length;n<r;n++){let s=e[n].command;s&&this._defaultBoundCommands.set(s,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=eu.combine(e,t);for(let n=0,r=this._keybindings.length;n<r;n++){let s=this._keybindings[n];s.keypressParts.length!==0&&(s.when&&s.when.type===0||this._addKeyPress(s.keypressParts[0],s))}}static _isTargetedForRemoval(e,t,i,n,r){return!(e.command!==n||t&&e.keypressParts[0]!==t||i&&e.keypressParts[1]!==i||r&&(!e.when||!KU(r,e.when)))}static combine(e,t){e=e.slice(0);let i=[];for(let n of t){if(!n.command||n.command.length===0||n.command.charAt(0)!=="-"){i.push(n);continue}let r=n.command.substr(1),s=n.keypressParts[0],a=n.keypressParts[1],l=n.when;for(let c=e.length-1;c>=0;c--)this._isTargetedForRemoval(e[c],s,a,r,l)&&e.splice(c,1)}return e.concat(i)}_addKeyPress(e,t){let i=this._map.get(e);if(typeof i=="undefined"){this._map.set(e,[t]),this._addToLookupMap(t);return}for(let n=i.length-1;n>=0;n--){let r=i[n];if(r.command===t.command)continue;let s=r.keypressParts.length>1,a=t.keypressParts.length>1;s&&a&&r.keypressParts[1]!==t.keypressParts[1]||eu.whenIsEntirelyIncluded(r.when,t.when)&&this._removeFromLookupMap(r)}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);typeof t=="undefined"?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);if(typeof t!="undefined"){for(let i=0,n=t.length;i<n;i++)if(t[i]===e){t.splice(i,1);return}}}static whenIsEntirelyIncluded(e,t){return!t||t.type===1?!0:!e||e.type===1?!1:IM(e,t)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){let i=this._lookupMap.get(e);if(typeof i=="undefined"||i.length===0)return null;if(i.length===1)return i[0];for(let n=i.length-1;n>=0;n--){let r=i[n];if(t.contextMatchesRules(r.when))return r}return i[i.length-1]}resolve(e,t,i){this._log(`| Resolving ${i}${t?` chorded from ${t}`:""}`);let n=null;if(t!==null){let s=this._map.get(t);if(typeof s=="undefined")return this._log("\\ No keybinding entries."),null;n=[];for(let a=0,l=s.length;a<l;a++){let c=s[a];c.keypressParts[1]===i&&n.push(c)}}else{let s=this._map.get(i);if(typeof s=="undefined")return this._log("\\ No keybinding entries."),null;n=s}let r=this._findCommand(e,n);return r?t===null&&r.keypressParts.length>1&&r.keypressParts[1]!==null?(this._log(`\\ From ${n.length} keybinding entries, matched chord, when: ${GU(r.when)}, source: ${XU(r)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${n.length} keybinding entries, matched ${r.command}, when: ${GU(r.when)}, source: ${XU(r)}.`),{enterChord:!1,leaveChord:r.keypressParts.length>1,commandId:r.command,commandArgs:r.commandArgs,bubble:r.bubble}):(this._log(`\\ From ${n.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(e,t){for(let i=t.length-1;i>=0;i--){let n=t[i];if(!!eu.contextMatchesRules(e,n.when))return n}return null}static contextMatchesRules(e,t){return t?t.evaluate(e):!0}};function GU(o){return o?`${o.serialize()}`:"no when condition"}function XU(o){return o.extensionId?o.isBuiltinExtension?`built-in extension ${o.extensionId}`:`user extension ${o.extensionId}`:o.isDefault?"built-in":"user"}tu();var SL=class{constructor(e,t,i,n,r,s,a){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.keypressParts=e?EL(e.getDispatchParts()):[],e&&this.keypressParts.length===0&&(this.keypressParts=EL(e.getSingleModifierDispatchParts())),this.bubble=t?t.charCodeAt(0)===94:!1,this.command=this.bubble?t.substr(1):t,this.commandArgs=i,this.when=n,this.isDefault=r,this.extensionId=s,this.isBuiltinExtension=a}};function EL(o){let e=[];for(let t=0,i=o.length;t<i;t++){let n=o[t];if(!n)return e;e.push(n)}return e}Na();Tm();st();xe();var xL=class{constructor(e,t,i=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(t.length===0)return null;let n=[];for(let r=0,s=t.length;r<s;r++){let a=t[r],l=i(a);if(l===null)return null;n[r]=Sde(a,l,this.modifierLabels[e])}return n.join(" ")}},uv=new xL({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:g({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:g({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:g({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:g({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:g({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:g({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:g({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:g({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),QU=new xL({ctrlKey:g({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:g({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:g({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:g({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:g({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:g({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:g({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:g({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:g({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:g({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:g({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:g({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),JU=new xL({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});function Sde(o,e,t){if(e===null)return"";let i=[];return o.ctrlKey&&i.push(t.ctrlKey),o.shiftKey&&i.push(t.shiftKey),o.altKey&&i.push(t.altKey),o.metaKey&&i.push(t.metaKey),e!==""&&i.push(e),i.join(t.separator)}Tm();var OM=class extends RP{constructor(e,t){super();if(t.length===0)throw jr("parts");this._os=e,this._parts=t}getLabel(){return uv.toLabel(this._os,this._parts,e=>this._getLabel(e))}getAriaLabel(){return QU.toLabel(this._os,this._parts,e=>this._getAriaLabel(e))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:JU.toLabel(this._os,this._parts,e=>this._getElectronAccelerator(e))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(e=>this._getPart(e))}_getPart(e){return new PP(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchParts(){return this._parts.map(e=>this._getDispatchPart(e))}getSingleModifierDispatchParts(){return this._parts.map(e=>this._getSingleModifierDispatchPart(e))}};var cp=class extends OM{constructor(e,t){super(t,e.parts)}_keyCodeToUILabel(e){if(this._os===2)switch(e){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return Mh.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":Mh.toString(e.keyCode)}_getElectronAccelerator(e){return Mh.toElectronAccelerator(e.keyCode)}_getDispatchPart(e){return cp.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=Mh.toString(e.keyCode),t}_getSingleModifierDispatchPart(e){return e.keyCode===5&&!e.shiftKey&&!e.altKey&&!e.metaKey?"ctrl":e.keyCode===4&&!e.ctrlKey&&!e.altKey&&!e.metaKey?"shift":e.keyCode===6&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey?"alt":e.keyCode===57&&!e.ctrlKey&&!e.shiftKey&&!e.altKey?"meta":null}static _scanCodeToKeyCode(e){let t=Ox[e];if(t!==-1)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(e){if(!e)return null;if(e instanceof Sl)return e;let t=this._scanCodeToKeyCode(e.scanCode);return t===0?null:new Sl(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)}static resolveUserBinding(e,t){let i=EL(e.map(n=>this._resolveSimpleUserBinding(n)));return i.length>0?[new cp(new wb(i),t)]:[]}};Ge();var fi=Fe("notificationService"),TM=class{};Is();Ge();var DL=Fe("contextService");var NM=class{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}};xe();var ez;(function(o){o.noSelection=g("noSelection","No selection"),o.singleSelectionRange=g("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),o.singleSelection=g("singleSelection","Line {0}, Column {1}"),o.multiSelectionRange=g("multiSelectionRange","{0} selections ({1} characters selected)"),o.multiSelection=g("multiSelection","{0} selections"),o.emergencyConfOn=g("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),o.openingDocs=g("openingDocs","Now opening the Editor Accessibility documentation page."),o.readonlyDiffEditor=g("readonlyDiffEditor"," in a read-only pane of a diff editor."),o.editableDiffEditor=g("editableDiffEditor"," in a pane of a diff editor."),o.readonlyEditor=g("readonlyEditor"," in a read-only code editor"),o.editableEditor=g("editableEditor"," in a code editor"),o.changeConfigToOnMac=g("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),o.changeConfigToOnWinLinux=g("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),o.auto_on=g("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),o.auto_off=g("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),o.tabFocusModeOnMsg=g("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),o.tabFocusModeOnMsgNoKb=g("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),o.tabFocusModeOffMsg=g("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),o.tabFocusModeOffMsgNoKb=g("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),o.openDocMac=g("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),o.openDocWinLinux=g("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),o.outroMsg=g("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),o.showAccessibilityHelpAction=g("showAccessibilityHelpAction","Show Accessibility Help")})(ez||(ez={}));var tz;(function(o){o.inspectTokensAction=g("inspectTokens","Developer: Inspect Tokens")})(tz||(tz={}));var iz;(function(o){o.gotoLineActionLabel=g("gotoLineActionLabel","Go to Line/Column...")})(iz||(iz={}));var nz;(function(o){o.helpQuickAccessActionLabel=g("helpQuickAccess","Show all Quick Access Providers")})(nz||(nz={}));var oz;(function(o){o.quickCommandActionLabel=g("quickCommandActionLabel","Command Palette"),o.quickCommandHelp=g("quickCommandActionHelp","Show And Run Commands")})(oz||(oz={}));var rz;(function(o){o.quickOutlineActionLabel=g("quickOutlineActionLabel","Go to Symbol..."),o.quickOutlineByCategoryActionLabel=g("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(rz||(rz={}));var u1;(function(o){o.editorViewAccessibleLabel=g("editorViewAccessibleLabel","Editor content"),o.accessibilityHelpMessage=g("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(u1||(u1={}));var sz;(function(o){o.toggleHighContrast=g("toggleHighContrast","Toggle High Contrast Theme")})(sz||(sz={}));var LL;(function(o){o.bulkEditServiceSummary=g("bulkEditServiceSummary","Made {0} edits in {1} files")})(LL||(LL={}));var az=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},lz=function(o,e){return function(t,i){e(t,i,o)}},cz=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},dz=class{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new F}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}};function Ede(o,e,t){return Rl(o)?e(o):t(o)}var kL=class{constructor(e){this.modelService=e}setEditor(e){this.editor=e}createModelReference(e){let t=null;return this.editor&&(t=Ede(this.editor,i=>this.findModel(i,e),i=>this.findModel(i.getOriginalEditor(),e)||this.findModel(i.getModifiedEditor(),e))),t?Promise.resolve(new _P(new dz(t))):Promise.reject(new Error("Model not found"))}findModel(e,t){let i=this.modelService.getModel(t);return i&&i.uri.toString()!==t.toString()?null:i}};kL=az([lz(0,Ci)],kL);var fv=class{show(){return fv.NULL_PROGRESS_RUNNER}showWhile(e,t){return cz(this,void 0,void 0,function*(){yield e})}};fv.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};var PM=class{confirm(e){return this.doConfirm(e).then(t=>({confirmed:t,checkboxChecked:!1}))}doConfirm(e){let t=e.message;return e.detail&&(t=t+`

`+e.detail),Promise.resolve(window.confirm(t))}show(e,t,i,n){return Promise.resolve({choice:0})}},gv=class{info(e){return this.notify({severity:Vi.Info,message:e})}warn(e){return this.notify({severity:Vi.Warning,message:e})}error(e){return this.notify({severity:Vi.Error,message:e})}notify(e){switch(e.severity){case Vi.Error:console.error(e.message);break;case Vi.Warning:console.warn(e.message);break;default:console.log(e.message);break}return gv.NO_OP}status(e,t){return $.None}};gv.NO_OP=new TM;var RM=class{constructor(e){this._onWillExecuteCommand=new F,this._onDidExecuteCommand=new F,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=e}executeCommand(e,...t){let i=rt.getCommand(e);if(!i)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});let n=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(n)}catch(n){return Promise.reject(n)}}},f1=class extends kM{constructor(e,t,i,n,r,s){super(e,t,i,n,r);this._cachedResolver=null,this._dynamicKeybindings=[],this._register(oe(s,Le.KEY_DOWN,a=>{let l=new Kt(a);this._dispatch(l,l.target)&&(l.preventDefault(),l.stopPropagation())})),this._register(oe(window,Le.KEY_UP,a=>{let l=new Kt(a);this._singleModifierDispatch(l,l.target)&&l.preventDefault()}))}addDynamicKeybinding(e,t,i,n){let r=f0(t,Jo),s=new Q;return r&&(this._dynamicKeybindings.push({keybinding:r.parts,command:e,when:n,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),s.add(ze(()=>{for(let a=0;a<this._dynamicKeybindings.length;a++)if(this._dynamicKeybindings[a].command===e){this._dynamicKeybindings.splice(a,1),this.updateResolver({source:1});return}}))),s.add(rt.registerCommand(e,i)),this.updateResolver({source:1}),s}updateResolver(e){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(e)}_getResolver(){if(!this._cachedResolver){let e=this._toNormalizedKeybindingItems(Bn.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new eu(e,t,i=>this._log(i))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(e,t){let i=[],n=0;for(let r of e){let s=r.when||void 0,a=r.keybinding;if(!a)i[n++]=new SL(void 0,r.command,r.commandArgs,s,t,null,!1);else{let l=cp.resolveUserBinding(a,Jo);for(let c of l)i[n++]=new SL(c,r.command,r.commandArgs,s,t,null,!1)}}return i}resolveKeyboardEvent(e){let t=new Sl(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode).toChord();return new cp(t,Jo)}};function hz(o){return o&&typeof o=="object"&&(!o.overrideIdentifier||typeof o.overrideIdentifier=="string")&&(!o.resource||o.resource instanceof Ee)}var IL=class{constructor(){this._onDidChangeConfiguration=new F,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new dv(new DM,new Rs)}getValue(e,t){let i=typeof e=="string"?e:void 0,n=hz(e)?e:hz(t)?t:{};return this._configuration.getValue(i,n,void 0)}updateValues(e){let t={data:this._configuration.toData()},i=[];for(let n of e){let[r,s]=n;this.getValue(r)!==s&&(this._configuration.updateValue(r,s),i.push(r))}if(i.length>0){let n=new LM({keys:i,overrides:[]},t,this._configuration);n.source=7,n.sourceConfig=null,this._onDidChangeConfiguration.fire(n)}return Promise.resolve()}updateValue(e,t,i,n){return this.updateValues([[e,t]])}},MM=class{constructor(e){this.configurationService=e,this._onDidChangeConfiguration=new F,this.configurationService.onDidChangeConfiguration(t=>{this._onDidChangeConfiguration.fire({affectedKeys:t.affectedKeys,affectsConfiguration:(i,n)=>t.affectsConfiguration(n)})})}getValue(e,t,i){let r=(H.isIPosition(t)?t:null)?typeof i=="string"?i:void 0:typeof t=="string"?t:void 0;return typeof r=="undefined"?this.configurationService.getValue():this.configurationService.getValue(r)}},OL=class{constructor(e){this.configurationService=e}getEOL(e,t){let i=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return i&&typeof i=="string"&&i!=="auto"?i:rn||Xe?`
`:`\r
`}};OL=az([lz(0,Vt)],OL);var AM=class{publicLog(e,t){return Promise.resolve(void 0)}publicLog2(e,t){return this.publicLog(e,t)}},mv=class{constructor(){let e=Ee.from({scheme:mv.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new NM({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}};mv.SCHEME="inmemory";function g1(o,e,t){if(!e||!(o instanceof IL))return;let i=[];Object.keys(e).forEach(n=>{HU(n)&&i.push([`editor.${n}`,e[n]]),t&&$U(n)&&i.push([`diffEditor.${n}`,e[n]])}),i.length>0&&o.updateValues(i)}var FM=class{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}apply(e,t){return cz(this,void 0,void 0,function*(){let i=new Map;for(let s of e){if(!(s instanceof hL))throw new Error("bad edit - only text edits are supported");let a=this._modelService.getModel(s.resource);if(!a)throw new Error("bad edit - model not found");if(typeof s.versionId=="number"&&a.getVersionId()!==s.versionId)throw new Error("bad state - model changed in the meantime");let l=i.get(a);l||(l=[],i.set(a,l)),l.push(ui.replaceMove(D.lift(s.textEdit.range),s.textEdit.text))}let n=0,r=0;for(let[s,a]of i)s.pushStackElement(),s.pushEditOperations([],a,()=>[]),s.pushStackElement(),r+=1,n+=a.length;return{ariaSummary:vc(LL.bulkEditServiceSummary,n,r)}})}},BM=class{getUriLabel(e,t){return e.scheme==="file"?e.fsPath:e.path}},jM=class{constructor(e,t){this._codeEditorService=e,this._container=t,this.onDidLayout=we.None}get dimension(){return this._dimension||(this._dimension=Nf(window.document.body)),this._dimension}get container(){return this._container}focus(){var e;(e=this._codeEditorService.getFocusedCodeEditor())===null||e===void 0||e.focus()}},WM=class{constructor(){this._neverEmitter=new F,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}};ls();ne();_o();Ge();var pv=Fe("markerDecorationsService");Dt();var Lde=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},kde=function(o,e){return function(t,i){e(t,i,o)}},_1=class{constructor(e,t){}dispose(){}};_1.ID="editor.contrib.markerDecorations";_1=Lde([kde(1,pv)],_1);Qe(_1.ID,_1);xe();Me();st();Se();ne();ns();Lo();Se();ne();wt();Lo();An();var XM=class{constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}},FL=class{constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){let e=this._bareFontInfo.getMassagedFontFamily(or?In.fontFamily:null),t=document.createElement("div");t.style.position="absolute",t.style.top="-50000px",t.style.width="50000px";let i=document.createElement("div");i.style.fontFamily=e,i.style.fontWeight=this._bareFontInfo.fontWeight,i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",t.appendChild(i);let n=document.createElement("div");n.style.fontFamily=e,n.style.fontWeight="bold",n.style.fontSize=this._bareFontInfo.fontSize+"px",n.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,n.style.lineHeight=this._bareFontInfo.lineHeight+"px",n.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",t.appendChild(n);let r=document.createElement("div");r.style.fontFamily=e,r.style.fontWeight=this._bareFontInfo.fontWeight,r.style.fontSize=this._bareFontInfo.fontSize+"px",r.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,r.style.lineHeight=this._bareFontInfo.lineHeight+"px",r.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",r.style.fontStyle="italic",t.appendChild(r);let s=[];for(let a of this._requests){let l;a.type===0&&(l=i),a.type===2&&(l=n),a.type===1&&(l=r),l.appendChild(document.createElement("br"));let c=document.createElement("span");FL._render(c,a),l.appendChild(c),s.push(c)}this._container=t,this._testElements=s}static _render(e,t){if(t.chr===" "){let i="\xA0";for(let n=0;n<8;n++)i+=i;e.innerText=i}else{let i=t.chr;for(let n=0;n<8;n++)i+=i;e.textContent=i}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){let i=this._requests[e],n=this._testElements[e];i.fulfill(n.offsetWidth/256)}}};function Cz(o,e){new FL(o,e).read()}ne();var b1=class extends ${constructor(e,t,i){super();this.referenceDomElement=e,this.changeCallback=i,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){typeof ResizeObserver!="undefined"?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver(e=>{e&&e[0]&&e[0].contentRect?this.observe({width:e[0].contentRect.width,height:e[0].contentRect.height}):this.observe()}),this.resizeObserver.observe(this.referenceDomElement)):this.measureReferenceDomElementToken===-1&&(this.measureReferenceDomElementToken=setInterval(()=>this.observe(),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.measureReferenceDomElementToken!==-1&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let i=0,n=0;t?(i=t.width,n=t.height):this.referenceDomElement&&(i=this.referenceDomElement.clientWidth,n=this.referenceDomElement.clientHeight),i=Math.max(5,i),n=Math.max(5,n),(this.width!==i||this.height!==n)&&(this.width=i,this.height=n,e&&this.changeCallback())}};An();var QM=class{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){let t=e.getId();return!!this._values[t]}get(e){let t=e.getId();return this._values[t]}put(e,t){let i=e.getId();this._keys[i]=e,this._values[i]=t}remove(e){let t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map(e=>this._values[e])}};function yz(){Gf.INSTANCE.clearCache()}var Gf=class extends ${constructor(){super();this._onDidChange=this._register(new F),this.onDidChange=this._onDidChange.event,this._cache=new QM,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new QM,this._onDidChange.fire()}_writeToCache(e,t){this._cache.put(e,t),!t.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){let e=this._cache.getValues(),t=!1;for(let i of e)i.isTrusted||(t=!0,this._cache.remove(i));t&&this._onDidChange.fire()}readConfiguration(e){if(!this._cache.has(e)){let t=Gf._actualReadConfiguration(e);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new Fb({zoomLevel:d0(),pixelRatio:Im(),fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(e,t)}return this._cache.get(e)}static createRequest(e,t,i,n){let r=new XM(e,t);return i.push(r),n&&n.push(r),r}static _actualReadConfiguration(e){let t=[],i=[],n=this.createRequest("n",0,t,i),r=this.createRequest("\uFF4D",0,t,null),s=this.createRequest(" ",0,t,i),a=this.createRequest("0",0,t,i),l=this.createRequest("1",0,t,i),c=this.createRequest("2",0,t,i),d=this.createRequest("3",0,t,i),h=this.createRequest("4",0,t,i),u=this.createRequest("5",0,t,i),f=this.createRequest("6",0,t,i),p=this.createRequest("7",0,t,i),b=this.createRequest("8",0,t,i),v=this.createRequest("9",0,t,i),y=this.createRequest("\u2192",0,t,i),w=this.createRequest("\uFFEB",0,t,null),S=this.createRequest("\xB7",0,t,i),x=this.createRequest(String.fromCharCode(11825),0,t,null),k="|/-_ilm%";for(let Y=0,te=k.length;Y<te;Y++)this.createRequest(k.charAt(Y),0,t,i),this.createRequest(k.charAt(Y),1,t,i),this.createRequest(k.charAt(Y),2,t,i);Cz(e,t);let R=Math.max(a.width,l.width,c.width,d.width,h.width,u.width,f.width,p.width,b.width,v.width),O=e.fontFeatureSettings===Uo.OFF,N=i[0].width;for(let Y=1,te=i.length;O&&Y<te;Y++){let re=N-i[Y].width;if(re<-.001||re>.001){O=!1;break}}let W=!0;O&&w.width!==N&&(W=!1),w.width>y.width&&(W=!1);let G=LP()>2e3;return new Fb({zoomLevel:d0(),pixelRatio:Im(),fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:O,typicalHalfwidthCharacterWidth:n.width,typicalFullwidthCharacterWidth:r.width,canUseHalfwidthRightwardsArrow:W,spaceWidth:s.width,middotWidth:S.width,wsmiddotWidth:x.width,maxDigitWidth:R},G)}};Gf.INSTANCE=new Gf;var fn=class extends o1{constructor(e,t,i=null,n){super(e,t);this.accessibilityService=n,this._elementSizeObserver=this._register(new b1(i,t.dimension,()=>this._recomputeOptions())),this._register(Gf.INSTANCE.onDidChange(()=>this._recomputeOptions())),this._validatedOptions.get(10)&&this._elementSizeObserver.startObserving(),this._register(h0(r=>this._recomputeOptions())),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions())),this._recomputeOptions()}static applyFontInfoSlow(e,t){e.style.fontFamily=t.getMassagedFontFamily(or?In.fontFamily:null),e.style.fontWeight=t.fontWeight,e.style.fontSize=t.fontSize+"px",e.style.fontFeatureSettings=t.fontFeatureSettings,e.style.lineHeight=t.lineHeight+"px",e.style.letterSpacing=t.letterSpacing+"px"}static applyFontInfo(e,t){e.setFontFamily(t.getMassagedFontFamily(or?In.fontFamily:null)),e.setFontWeight(t.fontWeight),e.setFontSize(t.fontSize),e.setFontFeatureSettings(t.fontFeatureSettings),e.setLineHeight(t.lineHeight),e.setLetterSpacing(t.letterSpacing)}observeReferenceElement(e){this._elementSizeObserver.observe(e)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let e="";return!or&&!OP&&(e+="no-user-select "),or&&(e+="no-minimap-shadow "),Xe&&(e+="mac "),e}_getEnvConfiguration(){return{extraEditorClassName:fn._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:Cl||On,pixelRatio:Im(),zoomLevel:d0(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(e){return Gf.INSTANCE.readConfiguration(e)}};Dt();_o();Me();Lo();ai();var BL=class{constructor(e){this.domNode=e,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(e){this._width!==e&&(this._width=e,this.domNode.style.width=this._width+"px")}setHeight(e){this._height!==e&&(this._height=e,this.domNode.style.height=this._height+"px")}setTop(e){this._top!==e&&(this._top=e,this.domNode.style.top=this._top+"px")}unsetTop(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")}setLeft(e){this._left!==e&&(this._left=e,this.domNode.style.left=this._left+"px")}setBottom(e){this._bottom!==e&&(this._bottom=e,this.domNode.style.bottom=this._bottom+"px")}setRight(e){this._right!==e&&(this._right=e,this.domNode.style.right=this._right+"px")}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){this._fontSize!==e&&(this._fontSize=e,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}};function mt(o){return new BL(o)}st();Me();wt();Me();Ut();function gn(o,e,t){let i=null,n=null;if(typeof t.value=="function"?(i="value",n=t.value,n.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof t.get=="function"&&(i="get",n=t.get),!n)throw new Error("not supported");let r=`$memoize$${e}`;t[i]=function(...s){return this.hasOwnProperty(r)||Object.defineProperty(this,r,{configurable:!1,enumerable:!1,writable:!1,value:n.apply(this,s)}),this[r]}}ne();var Ide=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},ei;(function(o){o.Tap="-monaco-gesturetap",o.Change="-monaco-gesturechange",o.Start="-monaco-gesturestart",o.End="-monaco-gesturesend",o.Contextmenu="-monaco-gesturecontextmenu"})(ei||(ei={}));var Bt=class extends ${constructor(){super();this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(oe(document,"touchstart",e=>this.onTouchStart(e),{passive:!1})),this._register(oe(document,"touchend",e=>this.onTouchEnd(e))),this._register(oe(document,"touchmove",e=>this.onTouchMove(e),{passive:!1}))}static addTarget(e){return Bt.isTouchDevice()?(Bt.INSTANCE||(Bt.INSTANCE=new Bt),Bt.INSTANCE.targets.push(e),{dispose:()=>{Bt.INSTANCE.targets=Bt.INSTANCE.targets.filter(t=>t!==e)}}):$.None}static ignoreTarget(e){return Bt.isTouchDevice()?(Bt.INSTANCE||(Bt.INSTANCE=new Bt),Bt.INSTANCE.ignoreTargets.push(e),{dispose:()=>{Bt.INSTANCE.ignoreTargets=Bt.INSTANCE.ignoreTargets.filter(t=>t!==e)}}):$.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){let t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,n=e.targetTouches.length;i<n;i++){let r=e.targetTouches.item(i);this.activeTouches[r.identifier]={id:r.identifier,initialTarget:r.target,initialTimeStamp:t,initialPageX:r.pageX,initialPageY:r.pageY,rollingTimestamps:[t],rollingPageX:[r.pageX],rollingPageY:[r.pageY]};let s=this.newGestureEvent(ei.Start,r.target);s.pageX=r.pageX,s.pageY=r.pageY,this.dispatchEvent(s)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e){let t=Date.now(),i=Object.keys(this.activeTouches).length;for(let n=0,r=e.changedTouches.length;n<r;n++){let s=e.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(s.identifier))){console.warn("move of an UNKNOWN touch",s);continue}let a=this.activeTouches[s.identifier],l=Date.now()-a.initialTimeStamp;if(l<Bt.HOLD_DELAY&&Math.abs(a.initialPageX-oa(a.rollingPageX))<30&&Math.abs(a.initialPageY-oa(a.rollingPageY))<30){let c=this.newGestureEvent(ei.Tap,a.initialTarget);c.pageX=oa(a.rollingPageX),c.pageY=oa(a.rollingPageY),this.dispatchEvent(c)}else if(l>=Bt.HOLD_DELAY&&Math.abs(a.initialPageX-oa(a.rollingPageX))<30&&Math.abs(a.initialPageY-oa(a.rollingPageY))<30){let c=this.newGestureEvent(ei.Contextmenu,a.initialTarget);c.pageX=oa(a.rollingPageX),c.pageY=oa(a.rollingPageY),this.dispatchEvent(c)}else if(i===1){let c=oa(a.rollingPageX),d=oa(a.rollingPageY),h=oa(a.rollingTimestamps)-a.rollingTimestamps[0],u=c-a.rollingPageX[0],f=d-a.rollingPageY[0],p=this.targets.filter(b=>a.initialTarget instanceof Node&&b.contains(a.initialTarget));this.inertia(p,t,Math.abs(u)/h,u>0?1:-1,c,Math.abs(f)/h,f>0?1:-1,d)}this.dispatchEvent(this.newGestureEvent(ei.End,a.initialTarget)),delete this.activeTouches[s.identifier]}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){let i=document.createEvent("CustomEvent");return i.initEvent(e,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(e){if(e.type===ei.Tap){let t=new Date().getTime(),i=0;t-this._lastSetTapCountTime>Bt.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=t,e.tapCount=i}else(e.type===ei.Change||e.type===ei.Contextmenu)&&(this._lastSetTapCountTime=0);for(let t=0;t<this.ignoreTargets.length;t++)if(e.initialTarget instanceof Node&&this.ignoreTargets[t].contains(e.initialTarget))return;this.targets.forEach(t=>{e.initialTarget instanceof Node&&t.contains(e.initialTarget)&&(t.dispatchEvent(e),this.dispatched=!0)})}inertia(e,t,i,n,r,s,a,l){this.handle=xs(()=>{let c=Date.now(),d=c-t,h=0,u=0,f=!0;i+=Bt.SCROLL_FRICTION*d,s+=Bt.SCROLL_FRICTION*d,i>0&&(f=!1,h=n*i*d),s>0&&(f=!1,u=a*s*d);let p=this.newGestureEvent(ei.Change);p.translationX=h,p.translationY=u,e.forEach(b=>b.dispatchEvent(p)),f||this.inertia(e,c,i,n,r+h,s,a,l+u)})}onTouchMove(e){let t=Date.now();for(let i=0,n=e.changedTouches.length;i<n;i++){let r=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("end of an UNKNOWN touch",r);continue}let s=this.activeTouches[r.identifier],a=this.newGestureEvent(ei.Change,s.initialTarget);a.translationX=r.pageX-oa(s.rollingPageX),a.translationY=r.pageY-oa(s.rollingPageY),a.pageX=r.pageX,a.pageY=r.pageY,this.dispatchEvent(a),s.rollingPageX.length>3&&(s.rollingPageX.shift(),s.rollingPageY.shift(),s.rollingTimestamps.shift()),s.rollingPageX.push(r.pageX),s.rollingPageY.push(r.pageY),s.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}};Bt.SCROLL_FRICTION=-.005;Bt.HOLD_DELAY=700;Bt.CLEAR_TAP_COUNT_TIME=400;Ide([gn],Bt,"isTouchDevice",null);ne();Me();Pa();tt();ne();wt();Me();Me();AP();Pa();ne();wt();function Oc(o,e){let t=new bo(e);return t.preventDefault(),{leftButton:t.leftButton,buttons:t.buttons,posx:t.posx,posy:t.posy}}var ua=class{constructor(){this._hooks=new Q,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;let i=this._onStopCallback;this._onStopCallback=null,e&&i&&i(t)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(e,t,i,n,r){if(this.isMonitoring())return;this._mouseMoveEventMerger=i,this._mouseMoveCallback=n,this._onStopCallback=r;let s=yb.getSameOriginWindowChain(),a=Fr?"pointermove":"mousemove",l="mouseup",c=s.map(h=>h.window.document),d=Ma(e);d&&c.unshift(d);for(let h of c)this._hooks.add(p0(h,a,u=>{if(u.buttons!==t){this.stopMonitoring(!0);return}this._mouseMoveCallback(u)},(u,f)=>this._mouseMoveEventMerger(u,f))),this._hooks.add(oe(h,l,u=>this.stopMonitoring(!0)));if(yb.hasDifferentOriginAncestor()){let h=s[s.length-1];this._hooks.add(oe(h.window.document,"mouseout",u=>{new bo(u).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(oe(h.window.document,"mouseover",u=>{new bo(u).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(oe(h.window.document.body,"mouseleave",u=>{this.stopMonitoring(!0)}))}}};Pa();tt();ne();yi();var I1=class{constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new ck(this.x-_c.scrollX,this.y-_c.scrollY)}},ck=class{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new I1(this.clientX+_c.scrollX,this.clientY+_c.scrollY)}},QV=class{constructor(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n,this._editorPagePositionBrand=void 0}};function sA(o){let e=Gi(o);return new QV(e.left,e.top,e.width,e.height)}var hu=class extends bo{constructor(e,t){super(e);this._editorMouseEventBrand=void 0,this.pos=new I1(this.posx,this.posy),this.editorPos=sA(t)}},aA=class{constructor(e){this._editorViewDomNode=e}_create(e){return new hu(e,this._editorViewDomNode)}onContextMenu(e,t){return oe(e,"contextmenu",i=>{t(this._create(i))})}onMouseUp(e,t){return oe(e,"mouseup",i=>{t(this._create(i))})}onMouseDown(e,t){return oe(e,"mousedown",i=>{t(this._create(i))})}onMouseLeave(e,t){return Db(e,i=>{t(this._create(i))})}onMouseMoveThrottled(e,t,i,n){return p0(e,"mousemove",t,(s,a)=>i(s,this._create(a)),n)}},lA=class{constructor(e){this._editorViewDomNode=e}_create(e){return new hu(e,this._editorViewDomNode)}onPointerUp(e,t){return oe(e,"pointerup",i=>{t(this._create(i))})}onPointerDown(e,t){return oe(e,"pointerdown",i=>{t(this._create(i))})}onPointerLeave(e,t){return s6(e,i=>{t(this._create(i))})}onPointerMoveThrottled(e,t,i,n){return p0(e,"pointermove",t,(s,a)=>i(s,this._create(a)),n)}},cA=class extends ${constructor(e){super();this._editorViewDomNode=e,this._globalMouseMoveMonitor=this._register(new ua),this._keydownListener=null}startMonitoring(e,t,i,n,r){this._keydownListener=Ni(document,"keydown",a=>{a.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,a.browserEvent)},!0);let s=(a,l)=>i(a,new hu(l,this._editorViewDomNode));this._globalMouseMoveMonitor.startMonitoring(e,t,s,n,a=>{this._keydownListener.dispose(),r(a)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}},O1=class{constructor(e){this._editor=e,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new bt(()=>this.garbageCollect(),1e3)}createClassNameRef(e){let t=this.getOrCreateRule(e);return t.increaseRefCount(),{className:t.className,dispose:()=>{t.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(e){let t=this.computeUniqueKey(e),i=this._rules.get(t);if(!i){let n=this._counter++;i=new JV(t,`dyn-rule-${n}`,Pf(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,e),this._rules.set(t,i)}return i}computeUniqueKey(e){return JSON.stringify(e)}garbageCollect(){for(let e of this._rules.values())e.hasReferences()||(this._rules.delete(e.key),e.dispose())}},JV=class{constructor(e,t,i,n){this.key=e,this.className=t,this.properties=n,this._referenceCount=0,this._styleElement=no(i),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(e,t){let i=`.${e} {`;for(let n in t){let r=t[n],s;typeof r=="object"?s=`var(${jL(r.id)})`:s=r,i+=`
	${Nde(n)}: ${s};`}return i+=`
}`,i}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}};function Nde(o){return o.replace(/(^[A-Z])/,([e])=>e.toLowerCase()).replace(/([A-Z])/g,([e])=>`-${e.toLowerCase()}`)}ne();var Pc=class extends ${constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let i=0,n=e.length;i<n;i++){let r=e[i];switch(r.type){case 0:this.onCompositionStart(r)&&(t=!0);break;case 1:this.onCompositionEnd(r)&&(t=!0);break;case 2:this.onConfigurationChanged(r)&&(t=!0);break;case 3:this.onCursorStateChanged(r)&&(t=!0);break;case 4:this.onDecorationsChanged(r)&&(t=!0);break;case 5:this.onFlushed(r)&&(t=!0);break;case 6:this.onFocusChanged(r)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(r)&&(t=!0);break;case 8:this.onLineMappingChanged(r)&&(t=!0);break;case 9:this.onLinesChanged(r)&&(t=!0);break;case 10:this.onLinesDeleted(r)&&(t=!0);break;case 11:this.onLinesInserted(r)&&(t=!0);break;case 12:this.onRevealRangeRequest(r)&&(t=!0);break;case 13:this.onScrollChanged(r)&&(t=!0);break;case 15:this.onTokensChanged(r)&&(t=!0);break;case 14:this.onThemeChanged(r)&&(t=!0);break;case 16:this.onTokensColorsChanged(r)&&(t=!0);break;case 17:this.onZonesChanged(r)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(r)}}t&&(this._shouldRender=!0)}};var En=class extends Pc{constructor(e){super();this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}},gr=class{static write(e,t){e instanceof BL,e.setAttribute("data-mprt",String(t))}static read(e){let t=e.getAttribute("data-mprt");return t===null?0:parseInt(t,10)}static collect(e,t){let i=[],n=0;for(;e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(i[n++]=this.read(e)),e=e.parentElement;let r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=i[n-s-1];return r}};Lo();wt();var eH=class{constructor(e,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;let i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}},dA=class extends eH{constructor(e,t,i){super(e,t);this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}},hA=class{constructor(e,t,i){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=i}},wp=class{constructor(e,t){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(t)}static from(e){let t=new Array(e.length);for(let i=0,n=e.length;i<n;i++){let r=e[i];t[i]=new wp(r.left,r.width)}return t}toString(){return`[${this.left},${this.width}]`}},uu=class{constructor(e,t){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}},uA=class{constructor(e,t){this.outsideRenderedLine=e,this.originalLeft=t,this.left=Math.round(this.originalLeft)}},fA=class{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}};var T1=class{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,i,n,r){let s=this._createRange();try{return s.setStart(e,t),s.setEnd(i,n),s.getClientRects()}catch{return null}finally{this._detachRange(s,r)}}static _mergeAdjacentRanges(e){if(e.length===1)return e;e.sort(uu.compare);let t=[],i=0,n=e[0];for(let r=1,s=e.length;r<s;r++){let a=e[r];n.left+n.width+.9>=a.left?n.width=Math.max(n.width,a.left+a.width-n.left):(t[i++]=n,n=a)}return t[i++]=n,t}static _createHorizontalRangesFromClientRects(e,t){if(!e||e.length===0)return null;let i=[];for(let n=0,r=e.length;n<r;n++){let s=e[n];i[n]=new uu(Math.max(0,s.left-t),s.width)}return this._mergeAdjacentRanges(i)}static readHorizontalRanges(e,t,i,n,r,s,a){let l=0,c=e.children.length-1;if(l>c)return null;if(t=Math.min(c,Math.max(l,t)),n=Math.min(c,Math.max(l,n)),t===n&&i===r&&i===0&&!e.children[t].firstChild){let f=e.children[t].getClientRects();return this._createHorizontalRangesFromClientRects(f,s)}t!==n&&n>0&&r===0&&(n--,r=1073741824);let d=e.children[t].firstChild,h=e.children[n].firstChild;if((!d||!h)&&(!d&&i===0&&t>0&&(d=e.children[t-1].firstChild,i=1073741824),!h&&r===0&&n>0&&(h=e.children[n-1].firstChild,r=1073741824)),!d||!h)return null;i=Math.min(d.textContent.length,Math.max(0,i)),r=Math.min(h.textContent.length,Math.max(0,r));let u=this._readClientRects(d,i,h,r,a);return this._createHorizontalRangesFromClientRects(u,s)}};m1();An();var Pde=function(){return Xr?!0:!(rn||On||or)}(),Nv=!0,dk=class{constructor(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=t}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}},hk=class{constructor(e,t){this.themeType=t;let i=e.options,n=i.get(43);this.renderWhitespace=i.get(87),this.renderControlCharacters=i.get(82),this.spaceWidth=n.spaceWidth,this.middotWidth=n.middotWidth,this.wsmiddotWidth=n.wsmiddotWidth,this.useMonospaceOptimizations=n.isMonospace&&!i.get(29),this.canUseHalfwidthRightwardsArrow=n.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(58),this.stopRenderingLineAfter=i.get(104),this.fontLigatures=i.get(44)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}},Ka=class{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(this._renderedViewLine)this._renderedViewLine.domNode=mt(e);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return this._options.themeType===As.HIGH_CONTRAST||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(e,t,i,n){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;let r=i.getViewLineRenderingData(e),s=this._options,a=dr.filter(r.inlineDecorations,e,r.minColumn,r.maxColumn),l=null;if(s.themeType===As.HIGH_CONTRAST||this._options.renderWhitespace==="selection"){let u=i.selections;for(let f of u){if(f.endLineNumber<e||f.startLineNumber>e)continue;let p=f.startLineNumber===e?f.startColumn:r.minColumn,b=f.endLineNumber===e?f.endColumn:r.maxColumn;p<b&&(s.themeType===As.HIGH_CONTRAST||this._options.renderWhitespace!=="selection"?a.push(new dr(p,b,"inline-selected-text",0)):(l||(l=[]),l.push(new dM(p-1,b-1))))}}let c=new Va(s.useMonospaceOptimizations,s.canUseHalfwidthRightwardsArrow,r.content,r.continuesWithWrappedLine,r.isBasicASCII,r.containsRTL,r.minColumn-1,r.tokens,a,r.tabSize,r.startVisibleColumn,s.spaceWidth,s.middotWidth,s.wsmiddotWidth,s.stopRenderingLineAfter,s.renderWhitespace,s.renderControlCharacters,s.fontLigatures!==Uo.OFF,l);if(this._renderedViewLine&&this._renderedViewLine.input.equals(c))return!1;n.appendASCIIString('<div style="top:'),n.appendASCIIString(String(t)),n.appendASCIIString("px;height:"),n.appendASCIIString(String(this._options.lineHeight)),n.appendASCIIString('px;" class="'),n.appendASCIIString(Ka.CLASS_NAME),n.appendASCIIString('">');let d=Jm(c,n);n.appendASCIIString("</div>");let h=null;return Nv&&Pde&&r.isBasicASCII&&s.useMonospaceOptimizations&&d.containsForeignElements===0&&r.content.length<300&&c.lineTokens.getCount()<100&&(h=new N1(this._renderedViewLine?this._renderedViewLine.domNode:null,c,d.characterMapping)),h||(h=iH(this._renderedViewLine?this._renderedViewLine.domNode:null,c,d.characterMapping,d.containsRTL,d.containsForeignElements)),this._renderedViewLine=h,!0}layoutLine(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof N1:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof N1?this._renderedViewLine.monospaceAssumptionsAreValid():Nv}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof N1&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,i,n){if(!this._renderedViewLine)return null;t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t)),i=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,i));let r=this._renderedViewLine.input.stopRenderingLineAfter,s=!1;r!==-1&&t>r+1&&i>r+1&&(s=!0),r!==-1&&t>r+1&&(t=r+1),r!==-1&&i>r+1&&(i=r+1);let a=this._renderedViewLine.getVisibleRangesForRange(e,t,i,n);return a&&a.length>0?new fA(s,a):null}getColumnOfNodeOffset(e,t,i){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t,i):1}};Ka.CLASS_NAME="view-line";var N1=class{constructor(e,t,i){this.domNode=e,this.input=t,this._characterMapping=i,this._charWidth=t.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return Nv;let e=this.getWidth(),t=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(e-t)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),Nv=!1),Nv}toSlowRenderedLine(){return iH(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,i,n){let r=this._getCharPosition(t),s=this._getCharPosition(i);return[new uu(r,s-r)]}_getCharPosition(e){let t=this._characterMapping.getAbsoluteOffset(e);return this._charWidth*t}getColumnOfNodeOffset(e,t,i){let n=t.textContent.length,r=-1;for(;t;)t=t.previousSibling,r++;return this._characterMapping.getColumn(new Z0(r,i),n)}},gA=class{constructor(e,t,i,n,r){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=r,this._cachedWidth=-1,this._pixelOffsetCache=null,!n||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let s=0,a=this._characterMapping.length;s<=a;s++)this._pixelOffsetCache[s]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(e,t,i,n){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){let r=this._readPixelOffset(this.domNode,e,t,n);if(r===-1)return null;let s=this._readPixelOffset(this.domNode,e,i,n);return s===-1?null:[new uu(r,s-r)]}return this._readVisibleRangesForRange(this.domNode,e,t,i,n)}_readVisibleRangesForRange(e,t,i,n,r){if(i===n){let s=this._readPixelOffset(e,t,i,r);return s===-1?null:[new uu(s,0)]}else return this._readRawVisibleRangesForRange(e,i,n,r)}_readPixelOffset(e,t,i,n){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();let r=this._getReadingTarget(e);return r.firstChild?r.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){let r=this._pixelOffsetCache[i];if(r!==-1)return r;let s=this._actualReadPixelOffset(e,t,i,n);return this._pixelOffsetCache[i]=s,s}return this._actualReadPixelOffset(e,t,i,n)}_actualReadPixelOffset(e,t,i,n){if(this._characterMapping.length===0){let l=T1.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,n.clientRectDeltaLeft,n.endNode);return!l||l.length===0?-1:l[0].left}if(i===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();let r=this._characterMapping.getDomPosition(i),s=T1.readHorizontalRanges(this._getReadingTarget(e),r.partIndex,r.charIndex,r.partIndex,r.charIndex,n.clientRectDeltaLeft,n.endNode);if(!s||s.length===0)return-1;let a=s[0].left;if(this.input.isBasicASCII){let l=this._characterMapping.getAbsoluteOffset(i),c=Math.round(this.input.spaceWidth*l);if(Math.abs(c-a)<=1)return c}return a}_readRawVisibleRangesForRange(e,t,i,n){if(t===1&&i===this._characterMapping.length)return[new uu(0,this.getWidth())];let r=this._characterMapping.getDomPosition(t),s=this._characterMapping.getDomPosition(i);return T1.readHorizontalRanges(this._getReadingTarget(e),r.partIndex,r.charIndex,s.partIndex,s.charIndex,n.clientRectDeltaLeft,n.endNode)}getColumnOfNodeOffset(e,t,i){let n=t.textContent.length,r=-1;for(;t;)t=t.previousSibling,r++;return this._characterMapping.getColumn(new Z0(r,i),n)}},tH=class extends gA{_readVisibleRangesForRange(e,t,i,n,r){let s=super._readVisibleRangesForRange(e,t,i,n,r);if(!s||s.length===0||i===n||i===1&&n===this._characterMapping.length)return s;if(!this.input.containsRTL){let a=this._readPixelOffset(e,t,n,r);if(a!==-1){let l=s[s.length-1];l.left<a&&(l.width=a-l.left)}}return s}},iH=function(){return Cl?Rde:Mde}();function Rde(o,e,t,i,n){return new tH(o,e,t,i,n)}function Mde(o,e,t,i,n){return new gA(o,e,t,i,n)}ot();ve();st();ot();ve();ai();Wn();zo();Y1();var ghe=()=>!0,N$=()=>!1,mhe=o=>o===" "||o==="	",ga=class{constructor(e,t,i){this._cursorMoveConfigurationBrand=void 0,this._languageId=e;let n=i.options,r=n.get(130);this.readOnly=n.get(80),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=n.get(103),this.lineHeight=n.get(58),this.pageSize=Math.max(1,Math.floor(r.height/this.lineHeight)-2),this.useTabStops=n.get(115),this.wordSeparators=n.get(116),this.emptySelectionClipboard=n.get(32),this.copyWithSyntaxHighlighting=n.get(21),this.multiCursorMergeOverlapping=n.get(68),this.multiCursorPaste=n.get(70),this.autoClosingBrackets=n.get(5),this.autoClosingQuotes=n.get(8),this.autoClosingDelete=n.get(6),this.autoClosingOvertype=n.get(7),this.autoSurround=n.get(11),this.autoIndent=n.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:ga._getShouldAutoClose(e,this.autoClosingQuotes),bracket:ga._getShouldAutoClose(e,this.autoClosingBrackets)},this.autoClosingPairs=xt.getAutoClosingPairs(e);let s=ga._getSurroundingPairs(e);if(s)for(let a of s)this.surroundingPairs[a.open]=a.close}static shouldRecreate(e){return e.hasChanged(130)||e.hasChanged(116)||e.hasChanged(32)||e.hasChanged(68)||e.hasChanged(70)||e.hasChanged(5)||e.hasChanged(8)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(115)||e.hasChanged(58)||e.hasChanged(80)}get electricChars(){if(!this._electricChars){this._electricChars={};let e=ga._getElectricCharacters(this._languageId);if(e)for(let t of e)this._electricChars[t]=!0}return this._electricChars}normalizeIndentation(e){return Po.normalizeIndentation(e,this.indentSize,this.insertSpaces)}static _getElectricCharacters(e){try{return xt.getElectricCharacters(e)}catch(t){return ye(t),null}}static _getShouldAutoClose(e,t){switch(t){case"beforeWhitespace":return mhe;case"languageDefined":return ga._getLanguageDefinedShouldAutoClose(e);case"always":return ghe;case"never":return N$}}static _getLanguageDefinedShouldAutoClose(e){try{let t=xt.getAutoCloseBeforeSet(e);return i=>t.indexOf(i)!==-1}catch(t){return ye(t),N$}}static _getSurroundingPairs(e){try{return xt.getSurroundingPairs(e)}catch(t){return ye(t),null}}},xn=class{constructor(e,t,i,n){this._singleCursorStateBrand=void 0,this.selectionStart=e,this.selectionStartLeftoverVisibleColumns=t,this.position=i,this.leftoverVisibleColumns=n,this.selection=xn._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,i,n){return e?new xn(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new H(t,i),n):new xn(new D(t,i,t,i),n,new H(t,i),n)}static _computeSelection(e,t){return e.isEmpty()||!t.isBeforeOrEqual(e.getStartPosition())?de.fromPositions(e.getStartPosition(),t):de.fromPositions(e.getEndPosition(),t)}},Ak=class{constructor(e,t,i,n){this._cursorContextBrand=void 0,this.model=e,this.viewModel=t,this.coordinatesConverter=i,this.cursorConfig=n}},P$=class{constructor(e){this.modelState=e,this.viewState=null}},R$=class{constructor(e){this.modelState=null,this.viewState=e}},Ct=class{constructor(e,t){this._cursorStateBrand=void 0,this.modelState=e,this.viewState=t}static fromModelState(e){return new P$(e)}static fromViewState(e){return new R$(e)}static fromModelSelection(e){let t=de.liftSelection(e),i=new xn(D.fromPositions(t.getSelectionStart()),0,t.getPosition(),0);return Ct.fromModelState(i)}static fromModelSelections(e){let t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this.fromModelSelection(e[i]);return t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}},mr=class{constructor(e,t,i){this._editOperationResultBrand=void 0,this.type=e,this.commands=t,this.shouldPushStackElementBefore=i.shouldPushStackElementBefore,this.shouldPushStackElementAfter=i.shouldPushStackElementAfter}};function dg(o){return o==="'"||o==='"'||o==="`"}Me();var hg=class{static whitespaceVisibleColumn(e,t,i){let n=e.length,r=0,s=-1,a=-1;for(let l=0;l<n;l++){if(l===t)return[s,a,r];switch(r%i===0&&(s=l,a=r),e.charCodeAt(l)){case 32:r+=1;break;case 9:r=Yt.nextRenderTabStop(r,i);break;default:return[-1,-1,-1]}}return t===n?[s,a,r]:[-1,-1,-1]}static atomicPosition(e,t,i,n){let r=e.length,[s,a,l]=hg.whitespaceVisibleColumn(e,t,i);if(l===-1)return-1;let c;switch(n){case 0:c=!0;break;case 1:c=!1;break;case 2:if(l%i===0)return t;c=l%i<=i/2;break}if(c){if(s===-1)return-1;let u=a;for(let f=s;f<r;++f){if(u===a+i)return s;switch(e.charCodeAt(f)){case 32:u+=1;break;case 9:u=Yt.nextRenderTabStop(u,i);break;default:return-1}}return u===a+i?s:-1}let d=Yt.nextRenderTabStop(l,i),h=l;for(let u=t;u<r;u++){if(h===d)return u;switch(e.charCodeAt(u)){case 32:h+=1;break;case 9:h=Yt.nextRenderTabStop(h,i);break;default:return-1}}return h===d?r:-1}};var Cu=class{constructor(e=null){this.hitTarget=e,this.type=0}},Fk=class{constructor(e,t,i){this.position=e,this.spanNode=t,this.injectedText=i,this.type=1}},Sp;(function(o){function e(t,i,n){let r=t.getPositionFromDOMInfo(i,n);return r?new Fk(r,i,null):new Cu(i)}o.createFromDOMInfo=e})(Sp||(Sp={}));var c2=class{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}},ma=class{constructor(e,t,i=0,n=null,r=null,s=null){this.element=e,this.type=t,this.mouseColumn=i,this.position=n,!r&&n&&(r=new D(n.lineNumber,n.column,n.lineNumber,n.column)),this.range=r,this.detail=s}static _typeToString(e){return e===1?"TEXTAREA":e===2?"GUTTER_GLYPH_MARGIN":e===3?"GUTTER_LINE_NUMBERS":e===4?"GUTTER_LINE_DECORATIONS":e===5?"GUTTER_VIEW_ZONE":e===6?"CONTENT_TEXT":e===7?"CONTENT_EMPTY":e===8?"CONTENT_VIEW_ZONE":e===9?"CONTENT_WIDGET":e===10?"OVERVIEW_RULER":e===11?"SCROLLBAR":e===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+e.detail}toString(){return ma.toString(this)}},Za=class{static isTextArea(e){return e.length===2&&e[0]===3&&e[1]===6}static isChildOfViewLines(e){return e.length>=4&&e[0]===3&&e[3]===7}static isStrictChildOfViewLines(e){return e.length>4&&e[0]===3&&e[3]===7}static isChildOfScrollableElement(e){return e.length>=2&&e[0]===3&&e[1]===5}static isChildOfMinimap(e){return e.length>=2&&e[0]===3&&e[1]===8}static isChildOfContentWidgets(e){return e.length>=4&&e[0]===3&&e[3]===1}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&e[0]===2}static isChildOfOverlayWidgets(e){return e.length>=2&&e[0]===3&&e[1]===4}},ug=class{constructor(e,t,i){this.model=e.model;let n=e.configuration.options;this.layoutInfo=n.get(130),this.viewDomNode=t.viewDomNode,this.lineHeight=n.get(58),this.stickyTabStops=n.get(103),this.typicalHalfwidthCharacterWidth=n.get(43).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return ug.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){let i=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(i){let n=i.verticalOffset+i.height/2,r=e.model.getLineCount(),s=null,a,l=null;return i.afterLineNumber!==r&&(l=new H(i.afterLineNumber+1,1)),i.afterLineNumber>0&&(s=new H(i.afterLineNumber,e.model.getLineMaxColumn(i.afterLineNumber))),l===null?a=s:s===null?a=l:t<n?a=s:a=l,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:s,positionAfter:l,position:a}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){let n=this._context.model.getLineCount(),r=this._context.model.getLineMaxColumn(n);return{range:new D(n,r,n,r),isAfterLines:!0}}let t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),i=this._context.model.getLineMaxColumn(t);return{range:new D(t,1,t,i),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return ug._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,i){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===i)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}},M$=class{constructor(e,t,i){this.editorPos=t,this.pos=i,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+i.y-t.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+i.x-t.x-e.layoutInfo.contentLeft,this.isInMarginArea=i.x-t.x<e.layoutInfo.contentLeft&&i.x-t.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,Ro._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}},Bk=class extends M${constructor(e,t,i,n){super(e,t,i);this._ctx=e,n?(this.target=n,this.targetPath=gr.collect(n,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}fulfill(e,t=null,i=null,n=null){let r=this.mouseColumn;return t&&t.column<this._ctx.model.getLineMaxColumn(t.lineNumber)&&(r=Yt.visibleColumnFromColumn(this._ctx.model.getLineContent(t.lineNumber),t.column,this._ctx.model.getTextModelOptions().tabSize)+1),new ma(this.target,e,r,t,i,n)}withTarget(e){return new Bk(this._ctx,this.editorPos,this.pos,e)}},A$={isAfterLines:!0};function d2(o){return{isAfterLines:!1,horizontalDistanceToText:o}}var Ro=class{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){let t=e.target,i=gr.collect(t,this._viewHelper.viewDomNode);return!!(Za.isChildOfContentWidgets(i)||Za.isChildOfOverflowingContentWidgets(i)||Za.isChildOfOverlayWidgets(i))}createMouseTarget(e,t,i,n){let r=new ug(this._context,this._viewHelper,e),s=new Bk(r,t,i,n);try{return Ro._createMouseTarget(r,s,!1)}catch{return s.fulfill(0)}}static _createMouseTarget(e,t,i){if(t.target===null){if(i)return t.fulfill(0);let s=Ro._doHitTest(e,t);return s.type===1?Ro.createMouseTargetFromHitTestPosition(e,t,s.spanNode,s.position,s.injectedText):this._createMouseTarget(e,t.withTarget(s.hitTarget),!0)}let n=t,r=null;return r=r||Ro._hitTestContentWidget(e,n),r=r||Ro._hitTestOverlayWidget(e,n),r=r||Ro._hitTestMinimap(e,n),r=r||Ro._hitTestScrollbarSlider(e,n),r=r||Ro._hitTestViewZone(e,n),r=r||Ro._hitTestMargin(e,n),r=r||Ro._hitTestViewCursor(e,n),r=r||Ro._hitTestTextArea(e,n),r=r||Ro._hitTestViewLines(e,n,i),r=r||Ro._hitTestScrollbar(e,n),r||t.fulfill(0)}static _hitTestContentWidget(e,t){if(Za.isChildOfContentWidgets(t.targetPath)||Za.isChildOfOverflowingContentWidgets(t.targetPath)){let i=e.findAttribute(t.target,"widgetId");return i?t.fulfill(9,null,null,i):t.fulfill(0)}return null}static _hitTestOverlayWidget(e,t){if(Za.isChildOfOverlayWidgets(t.targetPath)){let i=e.findAttribute(t.target,"widgetId");return i?t.fulfill(12,null,null,i):t.fulfill(0)}return null}static _hitTestViewCursor(e,t){if(t.target){let i=e.lastRenderData.lastViewCursorsRenderData;for(let n of i)if(t.target===n.domNode)return t.fulfill(6,n.position,null,{mightBeForeignElement:!1})}if(t.isInContentArea){let i=e.lastRenderData.lastViewCursorsRenderData,n=t.mouseContentHorizontalOffset,r=t.mouseVerticalOffset;for(let s of i){if(n<s.contentLeft||n>s.contentLeft+s.width)continue;let a=e.getVerticalOffsetForLineNumber(s.position.lineNumber);if(a<=r&&r<=a+s.height)return t.fulfill(6,s.position,null,{mightBeForeignElement:!1})}}return null}static _hitTestViewZone(e,t){let i=e.getZoneAtCoord(t.mouseVerticalOffset);if(i){let n=t.isInContentArea?8:5;return t.fulfill(n,i.position,null,i)}return null}static _hitTestTextArea(e,t){return Za.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfill(6,e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1}):t.fulfill(1,e.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(e,t){if(t.isInMarginArea){let i=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),n=i.range.getStartPosition(),r=Math.abs(t.pos.x-t.editorPos.x),s={isAfterLines:i.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:r};return r-=e.layoutInfo.glyphMarginLeft,r<=e.layoutInfo.glyphMarginWidth?t.fulfill(2,n,i.range,s):(r-=e.layoutInfo.glyphMarginWidth,r<=e.layoutInfo.lineNumbersWidth?t.fulfill(3,n,i.range,s):(r-=e.layoutInfo.lineNumbersWidth,t.fulfill(4,n,i.range,s)))}return null}static _hitTestViewLines(e,t,i){if(!Za.isChildOfViewLines(t.targetPath))return null;if(e.isInTopPadding(t.mouseVerticalOffset))return t.fulfill(7,new H(1,1),null,A$);if(e.isAfterLines(t.mouseVerticalOffset)||e.isInBottomPadding(t.mouseVerticalOffset)){let r=e.model.getLineCount(),s=e.model.getLineMaxColumn(r);return t.fulfill(7,new H(r,s),null,A$)}if(i){if(Za.isStrictChildOfViewLines(t.targetPath)){let r=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(e.model.getLineLength(r)===0){let a=e.getLineWidth(r),l=d2(t.mouseContentHorizontalOffset-a);return t.fulfill(7,new H(r,1),null,l)}let s=e.getLineWidth(r);if(t.mouseContentHorizontalOffset>=s){let a=d2(t.mouseContentHorizontalOffset-s),l=new H(r,e.model.getLineMaxColumn(r));return t.fulfill(7,l,null,a)}}return t.fulfill(0)}let n=Ro._doHitTest(e,t);return n.type===1?Ro.createMouseTargetFromHitTestPosition(e,t,n.spanNode,n.position,n.injectedText):this._createMouseTarget(e,t.withTarget(n.hitTarget),!0)}static _hitTestMinimap(e,t){if(Za.isChildOfMinimap(t.targetPath)){let i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.model.getLineMaxColumn(i);return t.fulfill(11,new H(i,n))}return null}static _hitTestScrollbarSlider(e,t){if(Za.isChildOfScrollableElement(t.targetPath)&&t.target&&t.target.nodeType===1){let i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){let n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),r=e.model.getLineMaxColumn(n);return t.fulfill(11,new H(n,r))}}return null}static _hitTestScrollbar(e,t){if(Za.isChildOfScrollableElement(t.targetPath)){let i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.model.getLineMaxColumn(i);return t.fulfill(11,new H(i,n))}return null}getMouseColumn(e,t){let i=this._context.configuration.options,n=i.get(130),r=this._context.viewLayout.getCurrentScrollLeft()+t.x-e.x-n.contentLeft;return Ro._getMouseColumn(r,i.get(43).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){return e<0?1:Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,i,n,r){let s=n.lineNumber,a=n.column,l=e.getLineWidth(s);if(t.mouseContentHorizontalOffset>l){let v=d2(t.mouseContentHorizontalOffset-l);return t.fulfill(7,n,null,v)}let c=e.visibleRangeForPosition(s,a);if(!c)return t.fulfill(0,n);let d=c.left;if(t.mouseContentHorizontalOffset===d)return t.fulfill(6,n,null,{mightBeForeignElement:!!r});let h=[];if(h.push({offset:c.left,column:a}),a>1){let v=e.visibleRangeForPosition(s,a-1);v&&h.push({offset:v.left,column:a-1})}let u=e.model.getLineMaxColumn(s);if(a<u){let v=e.visibleRangeForPosition(s,a+1);v&&h.push({offset:v.left,column:a+1})}h.sort((v,y)=>v.offset-y.offset);let f=t.pos.toClientCoordinates(),p=i.getBoundingClientRect(),b=p.left<=f.clientX&&f.clientX<=p.right;for(let v=1;v<h.length;v++){let y=h[v-1],w=h[v];if(y.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=w.offset){let S=new D(s,y.column,s,w.column);return t.fulfill(6,n,S,{mightBeForeignElement:!b||!!r})}}return t.fulfill(6,n,null,{mightBeForeignElement:!b||!!r})}static _doHitTestWithCaretRangeFromPoint(e,t){let i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),r=e.getVerticalOffsetForLineNumber(i)+Math.floor(e.lineHeight/2),s=t.pos.y+(r-t.mouseVerticalOffset);s<=t.editorPos.y&&(s=t.editorPos.y+1),s>=t.editorPos.y+e.layoutInfo.height&&(s=t.editorPos.y+e.layoutInfo.height-1);let a=new I1(t.pos.x,s),l=this._actualDoHitTestWithCaretRangeFromPoint(e,a.toClientCoordinates());return l.type===1?l:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,t){let i=Ma(e.viewDomNode),n;if(i?typeof i.caretRangeFromPoint=="undefined"?n=phe(i,t.clientX,t.clientY):n=i.caretRangeFromPoint(t.clientX,t.clientY):n=document.caretRangeFromPoint(t.clientX,t.clientY),!n||!n.startContainer)return new Cu;let r=n.startContainer;if(r.nodeType===r.TEXT_NODE){let s=r.parentNode,a=s?s.parentNode:null,l=a?a.parentNode:null;return(l&&l.nodeType===l.ELEMENT_NODE?l.className:null)===Ka.CLASS_NAME?Sp.createFromDOMInfo(e,s,n.startOffset):new Cu(r.parentNode)}else if(r.nodeType===r.ELEMENT_NODE){let s=r.parentNode,a=s?s.parentNode:null;return(a&&a.nodeType===a.ELEMENT_NODE?a.className:null)===Ka.CLASS_NAME?Sp.createFromDOMInfo(e,r,r.textContent.length):new Cu(r)}return new Cu}static _doHitTestWithCaretPositionFromPoint(e,t){let i=document.caretPositionFromPoint(t.clientX,t.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){let n=i.offsetNode.parentNode,r=n?n.parentNode:null,s=r?r.parentNode:null;return(s&&s.nodeType===s.ELEMENT_NODE?s.className:null)===Ka.CLASS_NAME?Sp.createFromDOMInfo(e,i.offsetNode.parentNode,i.offset):new Cu(i.offsetNode.parentNode)}if(i.offsetNode.nodeType===i.offsetNode.ELEMENT_NODE){let n=i.offsetNode.parentNode,r=n&&n.nodeType===n.ELEMENT_NODE?n.className:null,s=n?n.parentNode:null,a=s&&s.nodeType===s.ELEMENT_NODE?s.className:null;if(r===Ka.CLASS_NAME){let l=i.offsetNode.childNodes[Math.min(i.offset,i.offsetNode.childNodes.length-1)];if(l)return Sp.createFromDOMInfo(e,l,0)}else if(a===Ka.CLASS_NAME)return Sp.createFromDOMInfo(e,i.offsetNode,0)}return new Cu(i.offsetNode)}static _snapToSoftTabBoundary(e,t){let i=t.getLineContent(e.lineNumber),{tabSize:n}=t.getTextModelOptions(),r=hg.atomicPosition(i,e.column-1,n,2);return r!==-1?new H(e.lineNumber,r+1):e}static _doHitTest(e,t){let i=new Cu;if(typeof document.caretRangeFromPoint=="function"?i=this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint&&(i=this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates())),i.type===1){let n=e.model.getInjectedTextAt(i.position),r=e.model.normalizePosition(i.position,2);(n||!r.equals(i.position))&&(i=new Fk(r,i.spanNode,n))}return i.type===1&&e.stickyTabStops&&(i=new Fk(this._snapToSoftTabBoundary(i.position,e.model),i.spanNode,i.injectedText)),i}};function phe(o,e,t){let i=document.createRange(),n=o.elementFromPoint(e,t);if(n!==null){for(;n&&n.firstChild&&n.firstChild.nodeType!==n.firstChild.TEXT_NODE&&n.lastChild&&n.lastChild.firstChild;)n=n.lastChild;let r=n.getBoundingClientRect(),s=window.getComputedStyle(n,null).getPropertyValue("font"),a=n.innerText,l=r.left,c=0,d;if(e>r.left+r.width)c=a.length;else{let h=fg.getInstance();for(let u=0;u<a.length+1;u++){if(d=h.getCharWidth(a.charAt(u),s)/2,l+=d,e<l){c=u;break}l+=d}}i.setStart(n.firstChild,c),i.setEnd(n.firstChild,c)}return i}var fg=class{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return fg._INSTANCE||(fg._INSTANCE=new fg),fg._INSTANCE}getCharWidth(e,t){let i=e+t;if(this._cache[i])return this._cache[i];let n=this._canvas.getContext("2d");n.font=t;let s=n.measureText(e).width;return this._cache[i]=s,s}};fg._INSTANCE=null;ot();ai();function ey(o){return function(e,t){let i=!1;return o&&(i=o.mouseTargetIsWidget(t)),i||t.preventDefault(),t}}var yu=class extends Pc{constructor(e,t,i){super();this._context=e,this.viewController=t,this.viewHelper=i,this.mouseTargetFactory=new Ro(this._context,i),this._mouseDownOperation=this._register(new F$(this._context,this.viewController,this.viewHelper,(s,a)=>this._createMouseTarget(s,a),s=>this._getMouseColumn(s))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(130).height;let n=new aA(this.viewHelper.viewDomNode);this._register(n.onContextMenu(this.viewHelper.viewDomNode,s=>this._onContextMenu(s,!0))),this._register(n.onMouseMoveThrottled(this.viewHelper.viewDomNode,s=>this._onMouseMove(s),ey(this.mouseTargetFactory),yu.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onMouseUp(this.viewHelper.viewDomNode,s=>this._onMouseUp(s))),this._register(n.onMouseLeave(this.viewHelper.viewDomNode,s=>this._onMouseLeave(s))),this._register(n.onMouseDown(this.viewHelper.viewDomNode,s=>this._onMouseDown(s)));let r=s=>{if(this.viewController.emitMouseWheel(s),!this._context.configuration.options.get(67))return;let a=new mc(s);if(Xe?(s.metaKey||s.ctrlKey)&&!s.shiftKey&&!s.altKey:s.ctrlKey&&!s.metaKey&&!s.shiftKey&&!s.altKey){let c=Wa.getZoomLevel(),d=a.deltaY>0?1:-1;Wa.setZoomLevel(c+d),a.preventDefault(),a.stopPropagation()}};this._register(oe(this.viewHelper.viewDomNode,Le.MOUSE_WHEEL,r,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(130)){let t=this._context.configuration.options.get(130).height;this._height!==t&&(this._height=t,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}onScrollChanged(e){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(e,t){let n=new ck(e,t).toPageCoordinates(),r=sA(this.viewHelper.viewDomNode);return n.y<r.y||n.y>r.y+r.height||n.x<r.x||n.x>r.x+r.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),r,n,null)}_createMouseTarget(e,t){let i=e.target;if(!this.viewHelper.viewDomNode.contains(i)){let n=Ma(this.viewHelper.viewDomNode);n&&(i=n.elementsFromPoint(e.posx,e.posy).find(r=>this.viewHelper.viewDomNode.contains(r)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,t?i:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e){let t=this._createMouseTarget(e,!0),i=t.type===6||t.type===7,n=t.type===2||t.type===3||t.type===4,r=t.type===3,s=this._context.configuration.options.get(97),a=t.type===8||t.type===5,l=t.type===9,c=e.leftButton||e.middleButton;Xe&&e.leftButton&&e.ctrlKey&&(c=!1);let d=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(c&&(i||r&&s))d(),this._mouseDownOperation.start(t.type,e);else if(n)e.preventDefault();else if(a){let h=t.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(h.viewZoneId)&&(d(),this._mouseDownOperation.start(t.type,e),e.preventDefault())}else l&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)&&(d(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:t})}};yu.MOUSE_MOVE_MINIMUM_TIME=100;var F$=class extends ${constructor(e,t,i,n,r){super();this._context=e,this._viewController=t,this._viewHelper=i,this._createMouseTarget=n,this._getMouseColumn=r,this._mouseMoveMonitor=this._register(new cA(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new Fi),this._mouseState=new ty,this._currentSelection=new de(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);let t=this._findMousePosition(e,!0);!t||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))}start(e,t){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(e===3),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);let i=this._findMousePosition(t,!0);if(!i||!i.position)return;this._mouseState.trySetCount(t.detail,i.position),t.detail=this._mouseState.count;let n=this._context.configuration.options;if(!n.get(80)&&n.get(31)&&!n.get(18)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&i.type===6&&i.position&&this._currentSelection.containsPosition(i.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,ey(null),r=>this._onMouseDownThenMove(r),r=>{let s=this._findMousePosition(this._lastMouseEvent,!0);r&&r instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:s?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(i,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,ey(null),r=>this._onMouseDownThenMove(r),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;let e=this._findMousePosition(this._lastMouseEvent,!1);!e||this._mouseState.isDragAndDrop||this._dispatchMouse(e,!0)},10)}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){let t=e.editorPos,i=this._context.model,n=this._context.viewLayout,r=this._getMouseColumn(e);if(e.posy<t.y){let a=Math.max(n.getCurrentScrollTop()-(t.y-e.posy),0),l=ug.getZoneAtCoord(this._context,a);if(l){let d=this._helpPositionJumpOverViewZone(l);if(d)return new ma(null,13,r,d)}let c=n.getLineNumberAtVerticalOffset(a);return new ma(null,13,r,new H(c,1))}if(e.posy>t.y+t.height){let a=n.getCurrentScrollTop()+(e.posy-t.y),l=ug.getZoneAtCoord(this._context,a);if(l){let d=this._helpPositionJumpOverViewZone(l);if(d)return new ma(null,13,r,d)}let c=n.getLineNumberAtVerticalOffset(a);return new ma(null,13,r,new H(c,i.getLineMaxColumn(c)))}let s=n.getLineNumberAtVerticalOffset(n.getCurrentScrollTop()+(e.posy-t.y));return e.posx<t.x?new ma(null,13,r,new H(s,1)):e.posx>t.x+t.width?new ma(null,13,r,new H(s,i.getLineMaxColumn(s))):null}_findMousePosition(e,t){let i=this._getPositionOutsideEditor(e);if(i)return i;let n=this._createMouseTarget(e,t);if(!n.position)return null;if(n.type===8||n.type===5){let s=this._helpPositionJumpOverViewZone(n.detail);if(s)return new ma(n.element,n.type,n.mouseColumn,s,null,n.detail)}return n}_helpPositionJumpOverViewZone(e){let t=new H(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=e.positionBefore,n=e.positionAfter;return i&&n?i.isBefore(t)?i:n:null}_dispatchMouse(e,t){!e.position||this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}},ty=class{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){let i=new Date().getTime();i-this._lastSetMouseDownCountTime>ty.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=i,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}};ty.CLEAR_MOUSE_DOWN_COUNT_TIME=400;vD();Lo();Me();is();tt();Se();ne();Yv();je();je();ot();ve();var Us=!1,Un=class{constructor(e,t,i,n,r){this.value=e,this.selectionStart=t,this.selectionEnd=i,this.selectionStartPosition=n,this.selectionEndPosition=r}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(e){return new Un(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)}collapseSelection(){return new Un(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(e,t,i){Us&&console.log("writeToTextArea "+e+": "+this.toString()),t.setValue(e,this.value),i&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){if(e<=this.selectionStart){let n=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,n,-1)}if(e>=this.selectionEnd){let n=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,n,1)}let t=this.value.substring(this.selectionStart,e);if(t.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,t,1);let i=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,i,-1)}_finishDeduceEditorPosition(e,t,i){let n=0,r=-1;for(;(r=t.indexOf(`
`,r+1))!==-1;)n++;return[e,i*t.length,n]}static selectedText(e){return new Un(e,0,e.length,null,null)}static deduceInput(e,t,i){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};Us&&(console.log("------------------------deduceInput"),console.log("PREVIOUS STATE: "+e.toString()),console.log("CURRENT STATE: "+t.toString()));let n=e.value,r=e.selectionStart,s=e.selectionEnd,a=t.value,l=t.selectionStart,c=t.selectionEnd,d=n.substring(s),h=a.substring(c),u=Nm(d,h);a=a.substring(0,a.length-u),n=n.substring(0,n.length-u);let f=n.substring(0,r),p=a.substring(0,l),b=wc(f,p);if(a=a.substring(b),n=n.substring(b),l-=b,r-=b,c-=b,s-=b,Us&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+n+">, selectionStart: "+r+", selectionEnd: "+s),console.log("AFTER DIFFING CURRENT STATE: <"+a+">, selectionStart: "+l+", selectionEnd: "+c)),i&&l===c&&n.length>0){let y=null;if(l===a.length?a.startsWith(n)&&(y=a.substring(n.length)):a.endsWith(n)&&(y=a.substring(0,a.length-n.length)),y!==null&&y.length>0&&(/\uFE0F/.test(y)||S6(y)))return{text:y,replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0}}if(l===c){if(n===a&&r===0&&s===n.length&&l===a.length&&a.indexOf(`
`)===-1&&E6(a))return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};let y=f.length-b;return Us&&console.log("REMOVE PREVIOUS: "+(f.length-b)+" chars"),{text:a,replacePrevCharCnt:y,replaceNextCharCnt:0,positionDelta:0}}let v=s-r;return{text:a,replacePrevCharCnt:v,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(Us&&(console.log("------------------------deduceAndroidCompositionInput"),console.log("PREVIOUS STATE: "+e.toString()),console.log("CURRENT STATE: "+t.toString())),e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};let i=Math.min(wc(e.value,t.value),e.selectionEnd),n=Math.min(Nm(e.value,t.value),e.value.length-e.selectionEnd),r=e.value.substring(i,e.value.length-n),s=t.value.substring(i,t.value.length-n),a=e.selectionStart-i,l=e.selectionEnd-i,c=t.selectionStart-i,d=t.selectionEnd-i;return Us&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+r+">, selectionStart: "+a+", selectionEnd: "+l),console.log("AFTER DIFFING CURRENT STATE: <"+s+">, selectionStart: "+c+", selectionEnd: "+d)),{text:s,replacePrevCharCnt:l,replaceNextCharCnt:r.length-l,positionDelta:d-s.length}}};Un.EMPTY=new Un("",0,0,null,null);var gg=class{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){let i=e*t,n=i+1,r=i+t;return new D(n,1,r+1,1)}static fromEditorSelection(e,t,i,n,r){let s=gg._getPageOfLine(i.startLineNumber,n),a=gg._getRangeForPage(s,n),l=gg._getPageOfLine(i.endLineNumber,n),c=gg._getRangeForPage(l,n),d=a.intersectRanges(new D(1,1,i.startLineNumber,i.startColumn)),h=t.getValueInRange(d,1),u=t.getLineCount(),f=t.getLineMaxColumn(u),p=c.intersectRanges(new D(i.endLineNumber,i.endColumn,u,f)),b=t.getValueInRange(p,1),v;if(s===l||s+1===l)v=t.getValueInRange(i,1);else{let y=a.intersectRanges(i),w=c.intersectRanges(i);v=t.getValueInRange(y,1)+String.fromCharCode(8230)+t.getValueInRange(w,1)}if(r){let y=500;h.length>y&&(h=h.substring(h.length-y,h.length)),b.length>y&&(b=b.substring(0,y)),v.length>2*y&&(v=v.substring(0,y)+String.fromCharCode(8230)+v.substring(v.length-y,v.length))}return new Un(h+v+b,h.length,h.length+v.length,new H(i.startLineNumber,i.startColumn),new H(i.endLineNumber,i.endColumn))}};ai();var ny;(function(o){o.Tap="-monaco-textarea-synthetic-tap"})(ny||(ny={}));var oy={forceCopyWithSyntaxHighlighting:!1},xp=class{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}};xp.INSTANCE=new xp;var U$=class{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(e){e=e||"";let t={text:e,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=e.length,t}},u2=class extends ${constructor(e,t,i,n){super();this._host=e,this._textArea=t,this._OS=i,this._browser=n,this._onFocus=this._register(new F),this.onFocus=this._onFocus.event,this._onBlur=this._register(new F),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new F),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new F),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new F),this.onCut=this._onCut.event,this._onPaste=this._register(new F),this.onPaste=this._onPaste.event,this._onType=this._register(new F),this.onType=this._onType.event,this._onCompositionStart=this._register(new F),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new F),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new F),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new F),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new bt(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new bt(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=Un.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null,this._nextCommand=0;let r=null;this._register(this._textArea.onKeyDown(s=>{let a=new Kt(s);(a.keyCode===109||this._currentComposition&&a.keyCode===1)&&a.stopPropagation(),a.equals(9)&&a.preventDefault(),r=a,this._onKeyDown.fire(a)})),this._register(this._textArea.onKeyUp(s=>{let a=new Kt(s);this._onKeyUp.fire(a)})),this._register(this._textArea.onCompositionStart(s=>{Us&&console.log("[compositionstart]",s);let a=new U$;if(this._currentComposition){this._currentComposition=a;return}if(this._currentComposition=a,this._OS===2&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===s.data&&(r&&r.equals(109)&&(r.code==="ArrowRight"||r.code==="ArrowLeft")||this._browser.isFirefox)){Us&&console.log("[compositionstart] Handling long press case on macOS + arrow key or Firefox",s),a.handleCompositionUpdate("x"),this._onCompositionStart.fire({revealDeltaColumns:-1});return}if(this._browser.isAndroid){this._onCompositionStart.fire({revealDeltaColumns:-this._textAreaState.selectionStart});return}this._onCompositionStart.fire({revealDeltaColumns:0})})),this._register(this._textArea.onCompositionUpdate(s=>{Us&&console.log("[compositionupdate]",s);let a=this._currentComposition;if(!a)return;if(this._browser.isAndroid){let c=Un.readFromTextArea(this._textArea),d=Un.deduceAndroidCompositionInput(this._textAreaState,c);this._textAreaState=c,this._onType.fire(d),this._onCompositionUpdate.fire(s);return}let l=a.handleCompositionUpdate(s.data);this._textAreaState=Un.readFromTextArea(this._textArea),this._onType.fire(l),this._onCompositionUpdate.fire(s)})),this._register(this._textArea.onCompositionEnd(s=>{Us&&console.log("[compositionend]",s);let a=this._currentComposition;if(!a)return;if(this._currentComposition=null,this._browser.isAndroid){let c=Un.readFromTextArea(this._textArea),d=Un.deduceAndroidCompositionInput(this._textAreaState,c);this._textAreaState=c,this._onType.fire(d),this._onCompositionEnd.fire();return}let l=a.handleCompositionUpdate(s.data);this._textAreaState=Un.readFromTextArea(this._textArea),this._onType.fire(l),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(s=>{if(Us&&console.log("[input]",s),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;let a=Un.readFromTextArea(this._textArea),l=Un.deduceInput(this._textAreaState,a,this._OS===2);if(l.replacePrevCharCnt===0&&l.text.length===1&&Xi(l.text.charCodeAt(0)))return;this._textAreaState=a;let c=l.text===""&&l.replacePrevCharCnt===0&&l.replaceNextCharCnt===0&&l.positionDelta===0;this._nextCommand===0?c||this._onType.fire(l):(c||this._firePaste(l.text,null),this._nextCommand=0)})),this._register(this._textArea.onCut(s=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(s),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(s=>{this._ensureClipboardGetsEditorSelection(s)})),this._register(this._textArea.onPaste(s=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),qv.canUseTextData(s)){let[a,l]=qv.getTextData(s);a!==""&&this._firePaste(a,l)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",Un.EMPTY),this._nextCommand=1})),this._register(this._textArea.onFocus(()=>{let s=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!s&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let e=0;return oe(document,"selectionchange",t=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;let i=Date.now(),n=i-e;if(e=i,n<5)return;let r=i-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),r<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;let s=this._textArea.getValue();if(this._textAreaState.value!==s)return;let a=this._textArea.getSelectionStart(),l=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===a&&this._textAreaState.selectionEnd===l)return;let c=this._textAreaState.deduceEditorPosition(a),d=this._host.deduceModelPosition(c[0],c[1],c[2]),h=this._textAreaState.deduceEditorPosition(l),u=this._host.deduceModelPosition(h[0],h[1],h[2]),f=new de(d.lineNumber,d.column,u.lineNumber,u.column);this._onSelectionChangeRequest.fire(f)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeScreenReaderContent(e){this._currentComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(e){let t=this._host.getDataToCopy(qv.canUseTextData(e)),i={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};if(xp.INSTANCE.set(this._browser.isFirefox?t.text.replace(/\r\n/g,`
`):t.text,i),!qv.canUseTextData(e)){this._setAndWriteTextAreaState("copy or cut",Un.selectedText(t.text));return}qv.setTextData(e,t.text,t.html,i)}_firePaste(e,t){t||(t=xp.INSTANCE.get(e)),this._onPaste.fire({text:e,metadata:t})}},qv=class{static canUseTextData(e){return!!e.clipboardData}static getTextData(e){if(e.clipboardData){e.preventDefault();let t=e.clipboardData.getData(us.text),i=null,n=e.clipboardData.getData("vscode-editor-data");if(typeof n=="string")try{i=JSON.parse(n),i.version!==1&&(i=null)}catch{}return[t,i]}throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(e,t,i,n){if(e.clipboardData){e.clipboardData.setData(us.text,t),typeof i=="string"&&e.clipboardData.setData("text/html",i),e.clipboardData.setData("vscode-editor-data",JSON.stringify(n)),e.preventDefault();return}throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}},f2=class extends ${constructor(e){super();this._actual=e,this.onKeyDown=this._register(Dl(this._actual,"keydown")).event,this.onKeyUp=this._register(Dl(this._actual,"keyup")).event,this.onCompositionStart=this._register(Dl(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(Dl(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(Dl(this._actual,"compositionend")).event,this.onInput=this._register(Dl(this._actual,"input")).event,this.onCut=this._register(Dl(this._actual,"cut")).event,this.onCopy=this._register(Dl(this._actual,"copy")).event,this.onPaste=this._register(Dl(this._actual,"paste")).event,this.onFocus=this._register(Dl(this._actual,"focus")).event,this.onBlur=this._register(Dl(this._actual,"blur")).event,this._onSyntheticTap=this._register(new F),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(oe(this._actual,ny.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){let e=Ma(this._actual);return e?e.activeElement===this._actual:xb(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(e,t){let i=this._actual;i.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=t)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(e,t,i){let n=this._actual,r=null,s=Ma(n);s?r=s.activeElement:r=document.activeElement;let a=r===n,l=n.selectionStart,c=n.selectionEnd;if(a&&l===t&&c===i){On&&window.parent!==window&&n.focus();return}if(a){this.setIgnoreSelectionChangeTime("setSelectionRange"),n.setSelectionRange(t,i),On&&window.parent!==window&&n.focus();return}try{let d=u6(n);this.setIgnoreSelectionChangeTime("setSelectionRange"),n.focus(),n.setSelectionRange(t,i),f6(n,d)}catch{}}};var z$=class extends yu{constructor(e,t,i){super(e,t,i);this._register(Bt.addTarget(this.viewHelper.linesContentDomNode)),this._register(oe(this.viewHelper.linesContentDomNode,ei.Tap,r=>this.onTap(r))),this._register(oe(this.viewHelper.linesContentDomNode,ei.Change,r=>this.onChange(r))),this._register(oe(this.viewHelper.linesContentDomNode,ei.Contextmenu,r=>this._onContextMenu(new hu(r,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(oe(this.viewHelper.linesContentDomNode,"pointerdown",r=>{let s=r.pointerType;if(s==="mouse"){this._lastPointerType="mouse";return}else s==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));let n=new lA(this.viewHelper.viewDomNode);this._register(n.onPointerMoveThrottled(this.viewHelper.viewDomNode,r=>this._onMouseMove(r),ey(this.mouseTargetFactory),yu.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onPointerUp(this.viewHelper.viewDomNode,r=>this._onMouseUp(r))),this._register(n.onPointerLeave(this.viewHelper.viewDomNode,r=>this._onMouseLeave(r))),this._register(n.onPointerDown(this.viewHelper.viewDomNode,r=>this._onMouseDown(r)))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();let t=this._createMouseTarget(new hu(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.dispatchMouse({position:t.position,mouseColumn:t.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(e){this._lastPointerType==="touch"&&this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e){e.browserEvent.pointerType!=="touch"&&super._onMouseDown(e)}},V$=class extends yu{constructor(e,t,i){super(e,t,i);this._register(Bt.addTarget(this.viewHelper.linesContentDomNode)),this._register(oe(this.viewHelper.linesContentDomNode,ei.Tap,n=>this.onTap(n))),this._register(oe(this.viewHelper.linesContentDomNode,ei.Change,n=>this.onChange(n))),this._register(oe(this.viewHelper.linesContentDomNode,ei.Contextmenu,n=>this._onContextMenu(new hu(n,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();let t=this._createMouseTarget(new hu(e,this.viewHelper.viewDomNode),!1);if(t.position){let i=document.createEvent("CustomEvent");i.initEvent(ny.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(i),this.viewController.moveTo(t.position)}}onChange(e){this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}},g2=class extends ${constructor(e,t,i){super();Fr&&Om.pointerEvents?this.handler=this._register(new z$(e,t,i)):window.TouchEvent?this.handler=this._register(new V$(e,t,i)):this.handler=this._register(new yu(e,t,i))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}};xe();Lo();wt();je();wt();var Ga=class extends Pc{};ot();Ws();dt();var Su=class extends Ga{constructor(e){super();this._context=e,this._readConfig(),this._lastCursorModelPosition=new H(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){let e=this._context.configuration.options;this._lineHeight=e.get(58);let t=e.get(59);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(83);let i=e.get(130);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){let t=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(t);let i=!1;return this._activeLineNumber!==t.lineNumber&&(this._activeLineNumber=t.lineNumber,i=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(i=!0),i}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){let t=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new H(e,1));if(t.column!==1)return"";let i=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(this._renderLineNumbers===2){let n=Math.abs(this._lastCursorModelPosition.lineNumber-i);return n===0?'<span class="relative-current-line-number">'+i+"</span>":String(n)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===i||i%10===0?String(i):"":String(i)}prepareRender(e){if(this._renderLineNumbers===0){this._renderResult=null;return}let t=rn?this._lineHeight%2===0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,r='<div class="'+Su.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',s=this._context.model.getLineCount(),a=[];for(let l=i;l<=n;l++){let c=l-i;if(!this._renderFinalNewline&&l===s&&this._context.model.getLineLength(l)===0){a[c]="";continue}let d=this._getLineRenderLineNumber(l);d?l===this._activeLineNumber?a[c]='<div class="active-line-number '+Su.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+d+"</div>":a[c]=r+d+"</div>":a[c]=""}this._renderResult=a}render(e,t){if(!this._renderResult)return"";let i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}};Su.CLASS_NAME="line-numbers";gt((o,e)=>{let t=o.getColor(Dk);t&&e.addRule(`.monaco-editor .line-numbers { color: ${t}; }`);let i=o.getColor(XH);i&&e.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${i}; }`)});var qd=class extends En{constructor(e){super(e);let t=this._context.configuration.options,i=t.get(130);this._canUseLayerHinting=!t.get(28),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._domNode=mt(document.createElement("div")),this._domNode.setClassName(qd.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=mt(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(qd.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){let t=this._context.configuration.options,i=t.get(130);return this._canUseLayerHinting=!t.get(28),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");let t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);let i=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)}};qd.CLASS_NAME="glyph-margin";qd.OUTER_CLASS_NAME="margin";An();Qb();ot();ve();ai();var Fc="monaco-mouse-cursor-text";var Wk=class{constructor(e,t,i){this._visibleTextAreaBrand=void 0,this.top=e,this.left=t,this.width=i}setWidth(e){return new Wk(this.top,this.left,e)}},ry=On,m2=class extends En{constructor(e,t,i){super(e);this._primaryCursorPosition=new H(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._viewHelper=i,this._scrollLeft=0,this._scrollTop=0;let n=this._context.configuration.options,r=n.get(130);this._setAccessibilityOptions(n),this._contentLeft=r.contentLeft,this._contentWidth=r.contentWidth,this._contentHeight=r.height,this._fontInfo=n.get(43),this._lineHeight=n.get(58),this._emptySelectionClipboard=n.get(32),this._copyWithSyntaxHighlighting=n.get(21),this._visibleTextArea=null,this._selections=[new de(1,1,1,1)],this._modelSelections=[new de(1,1,1,1)],this._lastRenderPosition=null,this.textArea=mt(document.createElement("textarea")),gr.write(this.textArea,6),this.textArea.setClassName(`inputarea ${Fc}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(n)),this.textArea.setAttribute("tabindex",String(n.get(111))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",g("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),n.get(30)&&n.get(80)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=mt(document.createElement("div")),this.textAreaCover.setPosition("absolute");let s={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:c=>this._context.model.getLineMaxColumn(c),getValueInRange:(c,d)=>this._context.model.getValueInRange(c,d)},a={getDataToCopy:c=>{let d=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,Mi),h=this._context.model.getEOL(),u=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),f=Array.isArray(d)?d:null,p=Array.isArray(d)?d.join(h):d,b,v=null;if(c&&(oy.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&p.length<65536)){let y=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);y&&(b=y.html,v=y.mode)}return{isFromEmptySelection:u,multicursorText:f,text:p,html:b,mode:v}},getScreenReaderContent:c=>{if(this._accessibilitySupport===1){if(Xe){let d=this._selections[0];if(d.isEmpty()){let h=d.getStartPosition(),u=this._getWordBeforePosition(h);if(u.length===0&&(u=this._getCharacterBeforePosition(h)),u.length>0)return new Un(u,u.length,u.length,h,h)}}return Un.EMPTY}if(TP){let d=this._selections[0];if(d.isEmpty()){let h=d.getStartPosition(),[u,f]=this._getAndroidWordAtPosition(h);if(u.length>0)return new Un(u,f,f,h,h)}return Un.EMPTY}return gg.fromEditorSelection(c,s,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(c,d,h)=>this._context.model.deduceModelPositionRelativeToViewPosition(c,d,h)},l=this._register(new f2(this.textArea.domNode));this._textAreaInput=this._register(new u2(a,l,Jo,yl)),this._register(this._textAreaInput.onKeyDown(c=>{this._viewController.emitKeyDown(c)})),this._register(this._textAreaInput.onKeyUp(c=>{this._viewController.emitKeyUp(c)})),this._register(this._textAreaInput.onPaste(c=>{let d=!1,h=null,u=null;c.metadata&&(d=this._emptySelectionClipboard&&!!c.metadata.isFromEmptySelection,h=typeof c.metadata.multicursorText!="undefined"?c.metadata.multicursorText:null,u=c.metadata.mode),this._viewController.paste(c.text,d,h,u)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(c=>{c.replacePrevCharCnt||c.replaceNextCharCnt||c.positionDelta?(Us&&console.log(` => compositionType: <<${c.text}>>, ${c.replacePrevCharCnt}, ${c.replaceNextCharCnt}, ${c.positionDelta}`),this._viewController.compositionType(c.text,c.replacePrevCharCnt,c.replaceNextCharCnt,c.positionDelta)):(Us&&console.log(` => type: <<${c.text}>>`),this._viewController.type(c.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(c=>{this._viewController.setSelection(c)})),this._register(this._textAreaInput.onCompositionStart(c=>{let d=this._selections[0].startLineNumber,h=this._selections[0].startColumn+c.revealDeltaColumns;this._context.model.revealRange("keyboard",!0,new D(d,h,d,h),0,1);let u=this._viewHelper.visibleRangeForPositionRelativeToEditor(d,h);u&&(this._visibleTextArea=new Wk(this._context.viewLayout.getVerticalOffsetForLineNumber(d),u.left,ry?0:1),this.textArea.domNode.scrollLeft=0,this._render()),this.textArea.setClassName(`inputarea ${Fc} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(c=>{!this._visibleTextArea||(this._visibleTextArea=this._visibleTextArea.setWidth(whe(c.data,this._fontInfo)),this.textArea.domNode.scrollLeft=0,this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${Fc}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(e){let t='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',i=this._context.model.getLineContent(e.lineNumber),n=Dr(t),r=!0,s=e.column,a=!0,l=e.column,c=0;for(;c<50&&(r||a);){if(r&&s<=1&&(r=!1),r){let d=i.charCodeAt(s-2);n.get(d)!==0?r=!1:s--}if(a&&l>i.length&&(a=!1),a){let d=i.charCodeAt(l-1);n.get(d)!==0?a=!1:l++}c++}return[i.substring(s-1,l-1),e.column-s]}_getWordBeforePosition(e){let t=this._context.model.getLineContent(e.lineNumber),i=Dr(this._context.configuration.options.get(116)),n=e.column,r=0;for(;n>1;){let s=t.charCodeAt(n-2);if(i.get(s)!==0||r>50)return t.substring(n-1,e.column-1);r++,n--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){let i=this._context.model.getLineContent(e.lineNumber).charAt(e.column-2);if(!Xi(i.charCodeAt(0)))return i}return""}_getAriaLabel(e){return e.get(2)===1?g("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",rn?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);let t=e.get(3);this._accessibilitySupport===2&&t===Jr.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=t}onConfigurationChanged(e){let t=this._context.configuration.options,i=t.get(130);return this._setAccessibilityOptions(t),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=t.get(43),this._lineHeight=t.get(58),this._emptySelectionClipboard=t.get(32),this._copyWithSyntaxHighlighting=t.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("tabindex",String(t.get(111))),(e.hasChanged(30)||e.hasChanged(80))&&(t.get(30)&&t.get(80)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}prepareRender(e){this._primaryCursorPosition=new H(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}let e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}let t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(t<0||t>this._contentHeight){this._renderAtTopLeft();return}if(Xe){this._renderInsideEditor(this._primaryCursorPosition,t,e,ry?0:1,this._lineHeight),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;let i=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=i*this._lineHeight;return}this._renderInsideEditor(this._primaryCursorPosition,t,e,ry?0:1,ry?0:1)}_newlinecount(e){let t=0,i=-1;do{if(i=e.indexOf(`
`,i+1),i===-1)break;t++}while(!0);return t}_renderInsideEditor(e,t,i,n,r){this._lastRenderPosition=e;let s=this.textArea,a=this.textAreaCover;fn.applyFontInfo(s,this._fontInfo),s.setTop(t),s.setLeft(i),s.setWidth(n),s.setHeight(r),a.setTop(0),a.setLeft(0),a.setWidth(0),a.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;let e=this.textArea,t=this.textAreaCover;if(fn.applyFontInfo(e,this._fontInfo),e.setTop(0),e.setLeft(0),t.setTop(0),t.setLeft(0),ry){e.setWidth(0),e.setHeight(0),t.setWidth(0),t.setHeight(0);return}e.setWidth(1),e.setHeight(1),t.setWidth(1),t.setHeight(1);let i=this._context.configuration.options;i.get(49)?t.setClassName("monaco-editor-background textAreaCover "+qd.OUTER_CLASS_NAME):i.get(59).renderType!==0?t.setClassName("monaco-editor-background textAreaCover "+Su.CLASS_NAME):t.setClassName("monaco-editor-background textAreaCover")}};function whe(o,e){let i=document.createElement("canvas").getContext("2d");i.font=Che(e);let n=i.measureText(o);return On?n.width+2:n.width}function Che(o){return yhe("normal",o.fontWeight,o.fontSize,o.lineHeight,o.fontFamily)}function yhe(o,e,t,i,n){return`${o} normal ${e} ${t}px / ${i}px ${n}`}xe();Lo();di();ls();Dt();_o();ot();ve();var Eu=class{static columnSelect(e,t,i,n,r,s){let a=Math.abs(r-i)+1,l=i>r,c=n>s,d=n<s,h=[];for(let u=0;u<a;u++){let f=i+(l?-u:u),p=Yt.columnFromVisibleColumn2(e,t,f,n),b=Yt.columnFromVisibleColumn2(e,t,f,s),v=Yt.visibleColumnFromColumn2(e,t,new H(f,p)),y=Yt.visibleColumnFromColumn2(e,t,new H(f,b));d&&(v>s||y<n)||c&&(y>n||v<s)||h.push(new xn(new D(f,p,f,p),0,new H(f,b),0))}if(h.length===0)for(let u=0;u<a;u++){let f=i+(l?-u:u),p=t.getLineMaxColumn(f);h.push(new xn(new D(f,p,f,p),0,new H(f,p),0))}return{viewStates:h,reversed:l,fromLineNumber:i,fromVisualColumn:n,toLineNumber:r,toVisualColumn:s}}static columnSelectLeft(e,t,i){let n=i.toViewVisualColumn;return n>0&&n--,Eu.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,n)}static columnSelectRight(e,t,i){let n=0,r=Math.min(i.fromViewLineNumber,i.toViewLineNumber),s=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let l=r;l<=s;l++){let c=t.getLineMaxColumn(l),d=Yt.visibleColumnFromColumn2(e,t,new H(l,c));n=Math.max(n,d)}let a=i.toViewVisualColumn;return a<n&&a++,this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,a)}static columnSelectUp(e,t,i,n){let r=n?e.pageSize:1,s=Math.max(1,i.toViewLineNumber-r);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,s,i.toViewVisualColumn)}static columnSelectDown(e,t,i,n){let r=n?e.pageSize:1,s=Math.min(t.getLineCount(),i.toViewLineNumber+r);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,s,i.toViewVisualColumn)}};je();ai();var Dn=class{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return de.fromPositions(n.getEndPosition())}},p2=class{constructor(e,t){this._range=e,this._text=t}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return de.fromRange(n,0)}},Zv=class{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return de.fromPositions(n.getStartPosition())}},Gv=class{constructor(e,t,i,n,r=!1){this._range=e,this._text=t,this._columnDeltaOffset=n,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=r}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return de.fromPositions(n.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}},Dp=class{constructor(e,t,i,n=!1){this._range=e,this._text=t,this._initialSelection=i,this._forceMoveMarkers=n,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}};ot();ve();je();var Uk=class{constructor(e,t,i){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=i}},Zt=class{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-y6(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){let i=t.lineNumber-1;return new H(i,e.getLineMaxColumn(i))}else return t}static leftPositionAtomicSoftTabs(e,t,i){if(t.column<=e.getLineIndentColumn(t.lineNumber)){let n=e.getLineMinColumn(t.lineNumber),r=e.getLineContent(t.lineNumber),s=hg.atomicPosition(r,t.column-1,i,0);if(s!==-1&&s+1>=n)return new H(t.lineNumber,s+1)}return this.leftPosition(e,t)}static left(e,t,i){let n=e.stickyTabStops?Zt.leftPositionAtomicSoftTabs(t,i,e.tabSize):Zt.leftPosition(t,i);return new Uk(n.lineNumber,n.column,0)}static moveLeft(e,t,i,n,r){let s,a;if(i.hasSelection()&&!n)s=i.selection.startLineNumber,a=i.selection.startColumn;else{let l=i.position.delta(void 0,-(r-1)),c=t.normalizePosition(Zt.clipPositionColumn(l,t),0),d=Zt.left(e,t,c);s=d.lineNumber,a=d.column}return i.move(n,s,a,0)}static clipPositionColumn(e,t){return new H(e.lineNumber,Zt.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,i){return e<t?t:e>i?i:e}static rightPosition(e,t,i){return i<e.getLineMaxColumn(t)?i=i+Pm(e.getLineContent(t),i-1):t<e.getLineCount()&&(t=t+1,i=e.getLineMinColumn(t)),new H(t,i)}static rightPositionAtomicSoftTabs(e,t,i,n,r){if(i<e.getLineIndentColumn(t)){let s=e.getLineContent(t),a=hg.atomicPosition(s,i-1,n,1);if(a!==-1)return new H(t,a+1)}return this.rightPosition(e,t,i)}static right(e,t,i){let n=e.stickyTabStops?Zt.rightPositionAtomicSoftTabs(t,i.lineNumber,i.column,e.tabSize,e.indentSize):Zt.rightPosition(t,i.lineNumber,i.column);return new Uk(n.lineNumber,n.column,0)}static moveRight(e,t,i,n,r){let s,a;if(i.hasSelection()&&!n)s=i.selection.endLineNumber,a=i.selection.endColumn;else{let l=i.position.delta(void 0,r-1),c=t.normalizePosition(Zt.clipPositionColumn(l,t),1),d=Zt.right(e,t,c);s=d.lineNumber,a=d.column}return i.move(n,s,a,0)}static vertical(e,t,i,n,r,s,a){let l=Yt.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize)+r,c=t.getLineCount(),d=i===1&&n===1,h=i===c&&n===t.getLineMaxColumn(i),u=s<i?d:h;return i=s,i<1?(i=1,a?n=t.getLineMinColumn(i):n=Math.min(t.getLineMaxColumn(i),n)):i>c?(i=c,a?n=t.getLineMaxColumn(i):n=Math.min(t.getLineMaxColumn(i),n)):n=Yt.columnFromVisibleColumn2(e,t,i,l),u?r=0:r=l-Yt.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize),new Uk(i,n,r)}static down(e,t,i,n,r,s,a){return this.vertical(e,t,i,n,r,i+s,a)}static moveDown(e,t,i,n,r){let s,a;i.hasSelection()&&!n?(s=i.selection.endLineNumber,a=i.selection.endColumn):(s=i.position.lineNumber,a=i.position.column);let l=Zt.down(e,t,s,a,i.leftoverVisibleColumns,r,!0);return i.move(n,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateDown(e,t,i){let n=i.selection,r=Zt.down(e,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),s=Zt.down(e,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new xn(new D(r.lineNumber,r.column,r.lineNumber,r.column),r.leftoverVisibleColumns,new H(s.lineNumber,s.column),s.leftoverVisibleColumns)}static up(e,t,i,n,r,s,a){return this.vertical(e,t,i,n,r,i-s,a)}static moveUp(e,t,i,n,r){let s,a;i.hasSelection()&&!n?(s=i.selection.startLineNumber,a=i.selection.startColumn):(s=i.position.lineNumber,a=i.position.column);let l=Zt.up(e,t,s,a,i.leftoverVisibleColumns,r,!0);return i.move(n,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateUp(e,t,i){let n=i.selection,r=Zt.up(e,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),s=Zt.up(e,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new xn(new D(r.lineNumber,r.column,r.lineNumber,r.column),r.leftoverVisibleColumns,new H(s.lineNumber,s.column),s.leftoverVisibleColumns)}static _isBlankLine(e,t){return e.getLineFirstNonWhitespaceColumn(t)===0}static moveToPrevBlankLine(e,t,i,n){let r=i.position.lineNumber;for(;r>1&&this._isBlankLine(t,r);)r--;for(;r>1&&!this._isBlankLine(t,r);)r--;return i.move(n,r,t.getLineMinColumn(r),0)}static moveToNextBlankLine(e,t,i,n){let r=t.getLineCount(),s=i.position.lineNumber;for(;s<r&&this._isBlankLine(t,s);)s++;for(;s<r&&!this._isBlankLine(t,s);)s++;return i.move(n,s,t.getLineMinColumn(s),0)}static moveToBeginningOfLine(e,t,i,n){let r=i.position.lineNumber,s=t.getLineMinColumn(r),a=t.getLineFirstNonWhitespaceColumn(r)||s,l;return i.position.column===a?l=s:l=a,i.move(n,r,l,0)}static moveToEndOfLine(e,t,i,n,r){let s=i.position.lineNumber,a=t.getLineMaxColumn(s);return i.move(n,s,a,r?1073741824-a:0)}static moveToBeginningOfBuffer(e,t,i,n){return i.move(n,1,1,0)}static moveToEndOfBuffer(e,t,i,n){let r=t.getLineCount(),s=t.getLineMaxColumn(r);return i.move(n,r,s,0)}};ve();ot();var Bc=class{static deleteRight(e,t,i,n){let r=[],s=e!==3;for(let a=0,l=n.length;a<l;a++){let c=n[a],d=c;if(d.isEmpty()){let h=c.getPosition(),u=Zt.right(t,i,h);d=new D(u.lineNumber,u.column,h.lineNumber,h.column)}if(d.isEmpty()){r[a]=null;continue}d.startLineNumber!==d.endLineNumber&&(s=!0),r[a]=new Dn(d,"")}return[s,r]}static isAutoClosingPairDelete(e,t,i,n,r,s,a){if(t==="never"&&i==="never"||e==="never")return!1;for(let l=0,c=s.length;l<c;l++){let d=s[l],h=d.getPosition();if(!d.isEmpty())return!1;let u=r.getLineContent(h.lineNumber);if(h.column<2||h.column>=u.length+1)return!1;let f=u.charAt(h.column-2),p=n.get(f);if(!p)return!1;if(dg(f)){if(i==="never")return!1}else if(t==="never")return!1;let b=u.charAt(h.column-1),v=!1;for(let y of p)y.open===f&&y.close===b&&(v=!0);if(!v)return!1;if(e==="auto"){let y=!1;for(let w=0,S=a.length;w<S;w++){let x=a[w];if(h.lineNumber===x.startLineNumber&&h.column===x.startColumn){y=!0;break}}if(!y)return!1}}return!0}static _runAutoClosingPairDelete(e,t,i){let n=[];for(let r=0,s=i.length;r<s;r++){let a=i[r].getPosition(),l=new D(a.lineNumber,a.column-1,a.lineNumber,a.column+1);n[r]=new Dn(l,"")}return[!0,n]}static deleteLeft(e,t,i,n,r){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,i,n,r))return this._runAutoClosingPairDelete(t,i,n);let s=[],a=e!==2;for(let l=0,c=n.length;l<c;l++){let d=Bc.getDeleteRange(n[l],i,t);if(d.isEmpty()){s[l]=null;continue}d.startLineNumber!==d.endLineNumber&&(a=!0),s[l]=new Dn(d,"")}return[a,s]}static getDeleteRange(e,t,i){if(!e.isEmpty())return e;let n=e.getPosition();if(i.useTabStops&&n.column>1){let r=t.getLineContent(n.lineNumber),s=wn(r),a=s===-1?r.length+1:s+1;if(n.column<=a){let l=Yt.visibleColumnFromColumn2(i,t,n),c=Yt.prevIndentTabStop(l,i.indentSize),d=Yt.columnFromVisibleColumn2(i,t,n.lineNumber,c);return new D(n.lineNumber,d,n.lineNumber,n.column)}}return D.fromPositions(Bc.getPositionAfterDeleteLeft(n,t),n)}static getPositionAfterDeleteLeft(e,t){if(e.column>1){let i=L6(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,i+1)}else if(e.lineNumber>1){let i=e.lineNumber-1;return new H(i,t.getLineMaxColumn(i))}else return e}static cut(e,t,i){let n=[],r=null;i.sort((s,a)=>H.compare(s.getStartPosition(),a.getEndPosition()));for(let s=0,a=i.length;s<a;s++){let l=i[s];if(l.isEmpty())if(e.emptySelectionClipboard){let c=l.getPosition(),d,h,u,f;c.lineNumber<t.getLineCount()?(d=c.lineNumber,h=1,u=c.lineNumber+1,f=1):c.lineNumber>1&&(r==null?void 0:r.endLineNumber)!==c.lineNumber?(d=c.lineNumber-1,h=t.getLineMaxColumn(c.lineNumber-1),u=c.lineNumber,f=t.getLineMaxColumn(c.lineNumber)):(d=c.lineNumber,h=1,u=c.lineNumber,f=t.getLineMaxColumn(c.lineNumber));let p=new D(d,h,u,f);r=p,p.isEmpty()?n[s]=null:n[s]=new Dn(p,"")}else n[s]=null;else n[s]=new Dn(l,"")}return new mr(0,n,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}};di();je();Qb();ot();ve();var Ht=class{static _createWord(e,t,i,n,r){return{start:n,end:r,wordType:t,nextCharClass:i}}static _findPreviousWordOnLine(e,t,i){let n=t.getLineContent(i.lineNumber);return this._doFindPreviousWordOnLine(n,e,i)}static _doFindPreviousWordOnLine(e,t,i){let n=0;for(let r=i.column-2;r>=0;r--){let s=e.charCodeAt(r),a=t.get(s);if(a===0){if(n===2)return this._createWord(e,n,a,r+1,this._findEndOfWord(e,t,n,r+1));n=1}else if(a===2){if(n===1)return this._createWord(e,n,a,r+1,this._findEndOfWord(e,t,n,r+1));n=2}else if(a===1&&n!==0)return this._createWord(e,n,a,r+1,this._findEndOfWord(e,t,n,r+1))}return n!==0?this._createWord(e,n,1,0,this._findEndOfWord(e,t,n,0)):null}static _findEndOfWord(e,t,i,n){let r=e.length;for(let s=n;s<r;s++){let a=e.charCodeAt(s),l=t.get(a);if(l===1||i===1&&l===2||i===2&&l===0)return s}return r}static _findNextWordOnLine(e,t,i){let n=t.getLineContent(i.lineNumber);return this._doFindNextWordOnLine(n,e,i)}static _doFindNextWordOnLine(e,t,i){let n=0,r=e.length;for(let s=i.column-1;s<r;s++){let a=e.charCodeAt(s),l=t.get(a);if(l===0){if(n===2)return this._createWord(e,n,l,this._findStartOfWord(e,t,n,s-1),s);n=1}else if(l===2){if(n===1)return this._createWord(e,n,l,this._findStartOfWord(e,t,n,s-1),s);n=2}else if(l===1&&n!==0)return this._createWord(e,n,l,this._findStartOfWord(e,t,n,s-1),s)}return n!==0?this._createWord(e,n,1,this._findStartOfWord(e,t,n,r-1),r):null}static _findStartOfWord(e,t,i,n){for(let r=n;r>=0;r--){let s=e.charCodeAt(r),a=t.get(s);if(a===1||i===1&&a===2||i===2&&a===0)return r+1}return 0}static moveWordLeft(e,t,i,n){let r=i.lineNumber,s=i.column;s===1&&r>1&&(r=r-1,s=t.getLineMaxColumn(r));let a=Ht._findPreviousWordOnLine(e,t,new H(r,s));if(n===0)return new H(r,a?a.start+1:1);if(n===1)return a&&a.wordType===2&&a.end-a.start===1&&a.nextCharClass===0&&(a=Ht._findPreviousWordOnLine(e,t,new H(r,a.start+1))),new H(r,a?a.start+1:1);if(n===3){for(;a&&a.wordType===2;)a=Ht._findPreviousWordOnLine(e,t,new H(r,a.start+1));return new H(r,a?a.start+1:1)}return a&&s<=a.end+1&&(a=Ht._findPreviousWordOnLine(e,t,new H(r,a.start+1))),new H(r,a?a.end+1:1)}static _moveWordPartLeft(e,t){let i=t.lineNumber,n=e.getLineMaxColumn(i);if(t.column===1)return i>1?new H(i-1,e.getLineMaxColumn(i-1)):t;let r=e.getLineContent(i);for(let s=t.column-1;s>1;s--){let a=r.charCodeAt(s-2),l=r.charCodeAt(s-1);if(a===95&&l!==95)return new H(i,s);if(_d(a)&&Aa(l))return new H(i,s);if(Aa(a)&&Aa(l)&&s+1<n){let c=r.charCodeAt(s);if(_d(c))return new H(i,s)}}return new H(i,1)}static moveWordRight(e,t,i,n){let r=i.lineNumber,s=i.column,a=!1;s===t.getLineMaxColumn(r)&&r<t.getLineCount()&&(a=!0,r=r+1,s=1);let l=Ht._findNextWordOnLine(e,t,new H(r,s));if(n===2)l&&l.wordType===2&&l.end-l.start===1&&l.nextCharClass===0&&(l=Ht._findNextWordOnLine(e,t,new H(r,l.end+1))),l?s=l.end+1:s=t.getLineMaxColumn(r);else if(n===3){for(a&&(s=0);l&&(l.wordType===2||l.start+1<=s);)l=Ht._findNextWordOnLine(e,t,new H(r,l.end+1));l?s=l.start+1:s=t.getLineMaxColumn(r)}else l&&!a&&s>=l.start+1&&(l=Ht._findNextWordOnLine(e,t,new H(r,l.end+1))),l?s=l.start+1:s=t.getLineMaxColumn(r);return new H(r,s)}static _moveWordPartRight(e,t){let i=t.lineNumber,n=e.getLineMaxColumn(i);if(t.column===n)return i<e.getLineCount()?new H(i+1,1):t;let r=e.getLineContent(i);for(let s=t.column+1;s<n;s++){let a=r.charCodeAt(s-2),l=r.charCodeAt(s-1);if(a!==95&&l===95)return new H(i,s);if(_d(a)&&Aa(l))return new H(i,s);if(Aa(a)&&Aa(l)&&s+1<n){let c=r.charCodeAt(s);if(_d(c))return new H(i,s)}}return new H(i,n)}static _deleteWordLeftWhitespace(e,t){let i=e.getLineContent(t.lineNumber),n=t.column-2,r=Sr(i,n);return r+1<n?new D(t.lineNumber,r+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){let i=e.wordSeparators,n=e.model,r=e.selection,s=e.whitespaceHeuristics;if(!r.isEmpty())return r;if(Bc.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){let h=e.selection.getPosition();return new D(h.lineNumber,h.column-1,h.lineNumber,h.column+1)}let a=new H(r.positionLineNumber,r.positionColumn),l=a.lineNumber,c=a.column;if(l===1&&c===1)return null;if(s){let h=this._deleteWordLeftWhitespace(n,a);if(h)return h}let d=Ht._findPreviousWordOnLine(i,n,a);return t===0?d?c=d.start+1:c>1?c=1:(l--,c=n.getLineMaxColumn(l)):(d&&c<=d.end+1&&(d=Ht._findPreviousWordOnLine(i,n,new H(l,d.start+1))),d?c=d.end+1:c>1?c=1:(l--,c=n.getLineMaxColumn(l))),new D(l,c,a.lineNumber,a.column)}static deleteInsideWord(e,t,i){if(!i.isEmpty())return i;let n=new H(i.positionLineNumber,i.positionColumn),r=this._deleteInsideWordWhitespace(t,n);return r||this._deleteInsideWordDetermineDeleteRange(e,t,n)}static _charAtIsWhitespace(e,t){let i=e.charCodeAt(t);return i===32||i===9}static _deleteInsideWordWhitespace(e,t){let i=e.getLineContent(t.lineNumber),n=i.length;if(n===0)return null;let r=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(i,r))return null;let s=Math.min(t.column-1,n-1);if(!this._charAtIsWhitespace(i,s))return null;for(;r>0&&this._charAtIsWhitespace(i,r-1);)r--;for(;s+1<n&&this._charAtIsWhitespace(i,s+1);)s++;return new D(t.lineNumber,r+1,t.lineNumber,s+2)}static _deleteInsideWordDetermineDeleteRange(e,t,i){let n=t.getLineContent(i.lineNumber),r=n.length;if(r===0)return i.lineNumber>1?new D(i.lineNumber-1,t.getLineMaxColumn(i.lineNumber-1),i.lineNumber,1):i.lineNumber<t.getLineCount()?new D(i.lineNumber,1,i.lineNumber+1,1):new D(i.lineNumber,1,i.lineNumber,1);let s=h=>h.start+1<=i.column&&i.column<=h.end+1,a=(h,u)=>(h=Math.min(h,i.column),u=Math.max(u,i.column),new D(i.lineNumber,h,i.lineNumber,u)),l=h=>{let u=h.start+1,f=h.end+1,p=!1;for(;f-1<r&&this._charAtIsWhitespace(n,f-1);)p=!0,f++;if(!p)for(;u>1&&this._charAtIsWhitespace(n,u-2);)u--;return a(u,f)},c=Ht._findPreviousWordOnLine(e,t,i);if(c&&s(c))return l(c);let d=Ht._findNextWordOnLine(e,t,i);return d&&s(d)?l(d):c&&d?a(c.end+1,d.start+1):c?a(c.start+1,c.end+1):d?a(d.start+1,d.end+1):a(1,r+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;let i=t.getPosition(),n=Ht._moveWordPartLeft(e,i);return new D(i.lineNumber,i.column,n.lineNumber,n.column)}static _findFirstNonWhitespaceChar(e,t){let i=e.length;for(let n=t;n<i;n++){let r=e.charAt(n);if(r!==" "&&r!=="	")return n}return i}static _deleteWordRightWhitespace(e,t){let i=e.getLineContent(t.lineNumber),n=t.column-1,r=this._findFirstNonWhitespaceChar(i,n);return n+1<r?new D(t.lineNumber,t.column,t.lineNumber,r+1):null}static deleteWordRight(e,t){let i=e.wordSeparators,n=e.model,r=e.selection,s=e.whitespaceHeuristics;if(!r.isEmpty())return r;let a=new H(r.positionLineNumber,r.positionColumn),l=a.lineNumber,c=a.column,d=n.getLineCount(),h=n.getLineMaxColumn(l);if(l===d&&c===h)return null;if(s){let f=this._deleteWordRightWhitespace(n,a);if(f)return f}let u=Ht._findNextWordOnLine(i,n,a);return t===2?u?c=u.end+1:c<h||l===d?c=h:(l++,u=Ht._findNextWordOnLine(i,n,new H(l,1)),u?c=u.start+1:c=n.getLineMaxColumn(l)):(u&&c>=u.start+1&&(u=Ht._findNextWordOnLine(i,n,new H(l,u.end+1))),u?c=u.start+1:c<h||l===d?c=h:(l++,u=Ht._findNextWordOnLine(i,n,new H(l,1)),u?c=u.start+1:c=n.getLineMaxColumn(l))),new D(l,c,a.lineNumber,a.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;let i=t.getPosition(),n=Ht._moveWordPartRight(e,i);return new D(i.lineNumber,i.column,n.lineNumber,n.column)}static _createWordAtPosition(e,t,i){let n=new D(t,i.start+1,t,i.end+1);return{word:e.getValueInRange(n),startColumn:n.startColumn,endColumn:n.endColumn}}static getWordAtPosition(e,t,i){let n=Dr(t),r=Ht._findPreviousWordOnLine(n,e,i);if(r&&r.wordType===1&&r.start<=i.column-1&&i.column-1<=r.end)return Ht._createWordAtPosition(e,i.lineNumber,r);let s=Ht._findNextWordOnLine(n,e,i);return s&&s.wordType===1&&s.start<=i.column-1&&i.column-1<=s.end?Ht._createWordAtPosition(e,i.lineNumber,s):null}static word(e,t,i,n,r){let s=Dr(e.wordSeparators),a=Ht._findPreviousWordOnLine(s,t,r),l=Ht._findNextWordOnLine(s,t,r);if(!n){let f,p;return a&&a.wordType===1&&a.start<=r.column-1&&r.column-1<=a.end?(f=a.start+1,p=a.end+1):l&&l.wordType===1&&l.start<=r.column-1&&r.column-1<=l.end?(f=l.start+1,p=l.end+1):(a?f=a.end+1:f=1,l?p=l.start+1:p=t.getLineMaxColumn(r.lineNumber)),new xn(new D(r.lineNumber,f,r.lineNumber,p),0,new H(r.lineNumber,p),0)}let c,d;a&&a.wordType===1&&a.start<r.column-1&&r.column-1<a.end?(c=a.start+1,d=a.end+1):l&&l.wordType===1&&l.start<r.column-1&&r.column-1<l.end?(c=l.start+1,d=l.end+1):(c=r.column,d=r.column);let h=r.lineNumber,u;if(i.selectionStart.containsPosition(r))u=i.selectionStart.endColumn;else if(r.isBeforeOrEqual(i.selectionStart.getStartPosition())){u=c;let f=new H(h,u);i.selectionStart.containsPosition(f)&&(u=i.selectionStart.endColumn)}else{u=d;let f=new H(h,u);i.selectionStart.containsPosition(f)&&(u=i.selectionStart.startColumn)}return i.move(!0,h,u,0)}},Xv=class extends Ht{static deleteWordPartLeft(e){let t=zk([Ht.deleteWordLeft(e,0),Ht.deleteWordLeft(e,2),Ht._deleteWordPartLeft(e.model,e.selection)]);return t.sort(D.compareRangesUsingEnds),t[2]}static deleteWordPartRight(e){let t=zk([Ht.deleteWordRight(e,0),Ht.deleteWordRight(e,2),Ht._deleteWordPartRight(e.model,e.selection)]);return t.sort(D.compareRangesUsingStarts),t[0]}static moveWordPartLeft(e,t,i){let n=zk([Ht.moveWordLeft(e,t,i,0),Ht.moveWordLeft(e,t,i,2),Ht._moveWordPartLeft(t,i)]);return n.sort(H.compare),n[2]}static moveWordPartRight(e,t,i){let n=zk([Ht.moveWordRight(e,t,i,0),Ht.moveWordRight(e,t,i,2),Ht._moveWordPartRight(t,i)]);return n.sort(H.compare),n[0]}};function zk(o){return o.filter(e=>Boolean(e))}ot();ve();var zn=class{static addCursorDown(e,t,i){let n=[],r=0;for(let s=0,a=t.length;s<a;s++){let l=t[s];n[r++]=new Ct(l.modelState,l.viewState),i?n[r++]=Ct.fromModelState(Zt.translateDown(e.cursorConfig,e.model,l.modelState)):n[r++]=Ct.fromViewState(Zt.translateDown(e.cursorConfig,e,l.viewState))}return n}static addCursorUp(e,t,i){let n=[],r=0;for(let s=0,a=t.length;s<a;s++){let l=t[s];n[r++]=new Ct(l.modelState,l.viewState),i?n[r++]=Ct.fromModelState(Zt.translateUp(e.cursorConfig,e.model,l.modelState)):n[r++]=Ct.fromViewState(Zt.translateUp(e.cursorConfig,e,l.viewState))}return n}static moveToBeginningOfLine(e,t,i){let n=[];for(let r=0,s=t.length;r<s;r++){let a=t[r];n[r]=this._moveToLineStart(e,a,i)}return n}static _moveToLineStart(e,t,i){let n=t.viewState.position.column,r=t.modelState.position.column,s=n===r,a=t.viewState.position.lineNumber,l=e.getLineFirstNonWhitespaceColumn(a);return!s&&!(n===l)?this._moveToLineStartByView(e,t,i):this._moveToLineStartByModel(e,t,i)}static _moveToLineStartByView(e,t,i){return Ct.fromViewState(Zt.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,i))}static _moveToLineStartByModel(e,t,i){return Ct.fromModelState(Zt.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,i))}static moveToEndOfLine(e,t,i,n){let r=[];for(let s=0,a=t.length;s<a;s++){let l=t[s];r[s]=this._moveToLineEnd(e,l,i,n)}return r}static _moveToLineEnd(e,t,i,n){let r=t.viewState.position,s=e.getLineMaxColumn(r.lineNumber),a=r.column===s,l=t.modelState.position,c=e.model.getLineMaxColumn(l.lineNumber),d=s-r.column===c-l.column;return a||d?this._moveToLineEndByModel(e,t,i,n):this._moveToLineEndByView(e,t,i,n)}static _moveToLineEndByView(e,t,i,n){return Ct.fromViewState(Zt.moveToEndOfLine(e.cursorConfig,e,t.viewState,i,n))}static _moveToLineEndByModel(e,t,i,n){return Ct.fromModelState(Zt.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,i,n))}static expandLineSelection(e,t){let i=[];for(let n=0,r=t.length;n<r;n++){let s=t[n],a=s.modelState.selection.startLineNumber,l=e.model.getLineCount(),c=s.modelState.selection.endLineNumber,d;c===l?d=e.model.getLineMaxColumn(l):(c++,d=1),i[n]=Ct.fromModelState(new xn(new D(a,1,a,1),0,new H(c,d),0))}return i}static moveToBeginningOfBuffer(e,t,i){let n=[];for(let r=0,s=t.length;r<s;r++){let a=t[r];n[r]=Ct.fromModelState(Zt.moveToBeginningOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return n}static moveToEndOfBuffer(e,t,i){let n=[];for(let r=0,s=t.length;r<s;r++){let a=t[r];n[r]=Ct.fromModelState(Zt.moveToEndOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return n}static selectAll(e,t){let i=e.model.getLineCount(),n=e.model.getLineMaxColumn(i);return Ct.fromModelState(new xn(new D(1,1,1,1),0,new H(i,n),0))}static line(e,t,i,n,r){let s=e.model.validatePosition(n),a=r?e.coordinatesConverter.validateViewPosition(new H(r.lineNumber,r.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);if(!i||!t.modelState.hasSelection()){let c=e.model.getLineCount(),d=s.lineNumber+1,h=1;return d>c&&(d=c,h=e.model.getLineMaxColumn(d)),Ct.fromModelState(new xn(new D(s.lineNumber,1,d,h),0,new H(d,h),0))}let l=t.modelState.selectionStart.getStartPosition().lineNumber;if(s.lineNumber<l)return Ct.fromViewState(t.viewState.move(t.modelState.hasSelection(),a.lineNumber,1,0));if(s.lineNumber>l){let c=e.getLineCount(),d=a.lineNumber+1,h=1;return d>c&&(d=c,h=e.getLineMaxColumn(d)),Ct.fromViewState(t.viewState.move(t.modelState.hasSelection(),d,h,0))}else{let c=t.modelState.selectionStart.getEndPosition();return Ct.fromModelState(t.modelState.move(t.modelState.hasSelection(),c.lineNumber,c.column,0))}}static word(e,t,i,n){let r=e.model.validatePosition(n);return Ct.fromModelState(Ht.word(e.cursorConfig,e.model,t.modelState,i,r))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new Ct(t.modelState,t.viewState);let i=t.viewState.position.lineNumber,n=t.viewState.position.column;return Ct.fromViewState(new xn(new D(i,n,i,n),0,new H(i,n),0))}static moveTo(e,t,i,n,r){let s=e.model.validatePosition(n),a=r?e.coordinatesConverter.validateViewPosition(new H(r.lineNumber,r.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);return Ct.fromViewState(t.viewState.move(i,a.lineNumber,a.column,0))}static simpleMove(e,t,i,n,r,s){switch(i){case 0:return s===4?this._moveHalfLineLeft(e,t,n):this._moveLeft(e,t,n,r);case 1:return s===4?this._moveHalfLineRight(e,t,n):this._moveRight(e,t,n,r);case 2:return s===2?this._moveUpByViewLines(e,t,n,r):this._moveUpByModelLines(e,t,n,r);case 3:return s===2?this._moveDownByViewLines(e,t,n,r):this._moveDownByModelLines(e,t,n,r);case 4:return s===2?t.map(a=>Ct.fromViewState(Zt.moveToPrevBlankLine(e.cursorConfig,e,a.viewState,n))):t.map(a=>Ct.fromModelState(Zt.moveToPrevBlankLine(e.cursorConfig,e.model,a.modelState,n)));case 5:return s===2?t.map(a=>Ct.fromViewState(Zt.moveToNextBlankLine(e.cursorConfig,e,a.viewState,n))):t.map(a=>Ct.fromModelState(Zt.moveToNextBlankLine(e.cursorConfig,e.model,a.modelState,n)));case 6:return this._moveToViewMinColumn(e,t,n);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,n);case 8:return this._moveToViewCenterColumn(e,t,n);case 9:return this._moveToViewMaxColumn(e,t,n);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,n);default:return null}}static viewportMove(e,t,i,n,r){let s=e.getCompletelyVisibleViewRange(),a=e.coordinatesConverter.convertViewRangeToModelRange(s);switch(i){case 11:{let l=this._firstLineNumberInRange(e.model,a,r),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],n,l,c)]}case 13:{let l=this._lastLineNumberInRange(e.model,a,r),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],n,l,c)]}case 12:{let l=Math.round((a.startLineNumber+a.endLineNumber)/2),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],n,l,c)]}case 14:{let l=[];for(let c=0,d=t.length;c<d;c++){let h=t[c];l[c]=this.findPositionInViewportIfOutside(e,h,s,n)}return l}default:return null}}static findPositionInViewportIfOutside(e,t,i,n){let r=t.viewState.position.lineNumber;if(i.startLineNumber<=r&&r<=i.endLineNumber-1)return new Ct(t.modelState,t.viewState);{let s;r>i.endLineNumber-1?s=i.endLineNumber-1:r<i.startLineNumber?s=i.startLineNumber:s=r;let a=Zt.vertical(e.cursorConfig,e,r,t.viewState.position.column,t.viewState.leftoverVisibleColumns,s,!1);return Ct.fromViewState(t.viewState.move(n,a.lineNumber,a.column,a.leftoverVisibleColumns))}}static _firstLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.min(t.endLineNumber,n+i-1)}static _lastLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.max(n,t.endLineNumber-i+1)}static _moveLeft(e,t,i,n){return t.map(r=>Ct.fromViewState(Zt.moveLeft(e.cursorConfig,e,r.viewState,i,n)))}static _moveHalfLineLeft(e,t,i){let n=[];for(let r=0,s=t.length;r<s;r++){let a=t[r],l=a.viewState.position.lineNumber,c=Math.round(e.getLineContent(l).length/2);n[r]=Ct.fromViewState(Zt.moveLeft(e.cursorConfig,e,a.viewState,i,c))}return n}static _moveRight(e,t,i,n){return t.map(r=>Ct.fromViewState(Zt.moveRight(e.cursorConfig,e,r.viewState,i,n)))}static _moveHalfLineRight(e,t,i){let n=[];for(let r=0,s=t.length;r<s;r++){let a=t[r],l=a.viewState.position.lineNumber,c=Math.round(e.getLineContent(l).length/2);n[r]=Ct.fromViewState(Zt.moveRight(e.cursorConfig,e,a.viewState,i,c))}return n}static _moveDownByViewLines(e,t,i,n){let r=[];for(let s=0,a=t.length;s<a;s++){let l=t[s];r[s]=Ct.fromViewState(Zt.moveDown(e.cursorConfig,e,l.viewState,i,n))}return r}static _moveDownByModelLines(e,t,i,n){let r=[];for(let s=0,a=t.length;s<a;s++){let l=t[s];r[s]=Ct.fromModelState(Zt.moveDown(e.cursorConfig,e.model,l.modelState,i,n))}return r}static _moveUpByViewLines(e,t,i,n){let r=[];for(let s=0,a=t.length;s<a;s++){let l=t[s];r[s]=Ct.fromViewState(Zt.moveUp(e.cursorConfig,e,l.viewState,i,n))}return r}static _moveUpByModelLines(e,t,i,n){let r=[];for(let s=0,a=t.length;s<a;s++){let l=t[s];r[s]=Ct.fromModelState(Zt.moveUp(e.cursorConfig,e.model,l.modelState,i,n))}return r}static _moveToViewPosition(e,t,i,n,r){return Ct.fromViewState(t.viewState.move(i,n,r,0))}static _moveToModelPosition(e,t,i,n,r){return Ct.fromModelState(t.modelState.move(i,n,r,0))}static _moveToViewMinColumn(e,t,i){let n=[];for(let r=0,s=t.length;r<s;r++){let a=t[r],l=a.viewState.position.lineNumber,c=e.getLineMinColumn(l);n[r]=this._moveToViewPosition(e,a,i,l,c)}return n}static _moveToViewFirstNonWhitespaceColumn(e,t,i){let n=[];for(let r=0,s=t.length;r<s;r++){let a=t[r],l=a.viewState.position.lineNumber,c=e.getLineFirstNonWhitespaceColumn(l);n[r]=this._moveToViewPosition(e,a,i,l,c)}return n}static _moveToViewCenterColumn(e,t,i){let n=[];for(let r=0,s=t.length;r<s;r++){let a=t[r],l=a.viewState.position.lineNumber,c=Math.round((e.getLineMaxColumn(l)+e.getLineMinColumn(l))/2);n[r]=this._moveToViewPosition(e,a,i,l,c)}return n}static _moveToViewMaxColumn(e,t,i){let n=[];for(let r=0,s=t.length;r<s;r++){let a=t[r],l=a.viewState.position.lineNumber,c=e.getLineMaxColumn(l);n[r]=this._moveToViewPosition(e,a,i,l,c)}return n}static _moveToViewLastNonWhitespaceColumn(e,t,i){let n=[];for(let r=0,s=t.length;r<s;r++){let a=t[r],l=a.viewState.position.lineNumber,c=e.getLineLastNonWhitespaceColumn(l);n[r]=this._moveToViewPosition(e,a,i,l,c)}return n}},sy;(function(o){let e=function(i){if(!Hn(i))return!1;let n=i;return!(!Cr(n.to)||!jo(n.select)&&!bx(n.select)||!jo(n.by)&&!Cr(n.by)||!jo(n.value)&&!_l(n.value))};o.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},o.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},o.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function t(i){if(!i.to)return null;let n;switch(i.to){case o.RawDirection.Left:n=0;break;case o.RawDirection.Right:n=1;break;case o.RawDirection.Up:n=2;break;case o.RawDirection.Down:n=3;break;case o.RawDirection.PrevBlankLine:n=4;break;case o.RawDirection.NextBlankLine:n=5;break;case o.RawDirection.WrappedLineStart:n=6;break;case o.RawDirection.WrappedLineFirstNonWhitespaceCharacter:n=7;break;case o.RawDirection.WrappedLineColumnCenter:n=8;break;case o.RawDirection.WrappedLineEnd:n=9;break;case o.RawDirection.WrappedLineLastNonWhitespaceCharacter:n=10;break;case o.RawDirection.ViewPortTop:n=11;break;case o.RawDirection.ViewPortBottom:n=13;break;case o.RawDirection.ViewPortCenter:n=12;break;case o.RawDirection.ViewPortIfOutside:n=14;break;default:return null}let r=0;switch(i.by){case o.RawUnit.Line:r=1;break;case o.RawUnit.WrappedLine:r=2;break;case o.RawUnit.Character:r=3;break;case o.RawUnit.HalfLine:r=4;break}return{direction:n,unit:r,select:!!i.select,value:i.value||1}}o.parse=t})(sy||(sy={}));st();je();je();ve();ai();zo();var _2=Object.create(null);function Lp(o,e){if(e<=0)return"";_2[o]||(_2[o]=["",o]);let t=_2[o];for(let i=t.length;i<=e;i++)t[i]=t[i-1]+o;return t[e]}var kr=class{constructor(e,t){this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(e,t,i,n,r){let s=Yt.visibleColumnFromColumn(e,t,i);if(r){let a=Lp(" ",n),c=Yt.prevIndentTabStop(s,n)/n;return Lp(a,c)}else{let a="	",c=Yt.prevRenderTabStop(s,i)/i;return Lp(a,c)}}static shiftIndent(e,t,i,n,r){let s=Yt.visibleColumnFromColumn(e,t,i);if(r){let a=Lp(" ",n),c=Yt.nextIndentTabStop(s,n)/n;return Lp(a,c)}else{let a="	",c=Yt.nextRenderTabStop(s,i)/i;return Lp(a,c)}}_addEditOperation(e,t,i){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,i):e.addEditOperation(t,i)}getEditOperations(e,t){let i=this._selection.startLineNumber,n=this._selection.endLineNumber;this._selection.endColumn===1&&i!==n&&(n=n-1);let{tabSize:r,indentSize:s,insertSpaces:a}=this._opts,l=i===n;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(i))&&(this._useLastEditRangeForCursorEndPosition=!0);let c=0,d=0;for(let h=i;h<=n;h++,c=d){d=0;let u=e.getLineContent(h),f=wn(u);if(this._opts.isUnshift&&(u.length===0||f===0)||!l&&!this._opts.isUnshift&&u.length===0)continue;if(f===-1&&(f=u.length),h>1&&Yt.visibleColumnFromColumn(u,f+1,r)%s!==0&&e.isCheapToTokenize(h-1)){let v=xt.getEnterAction(this._opts.autoIndent,e,new D(h-1,e.getLineMaxColumn(h-1),h-1,e.getLineMaxColumn(h-1)));if(v){if(d=c,v.appendText)for(let y=0,w=v.appendText.length;y<w&&d<s&&v.appendText.charCodeAt(y)===32;y++)d++;v.removeText&&(d=Math.max(0,d-v.removeText));for(let y=0;y<d&&!(f===0||u.charCodeAt(f-1)!==32);y++)f--}}if(this._opts.isUnshift&&f===0)continue;let p;this._opts.isUnshift?p=kr.unshiftIndent(u,f+1,r,s,a):p=kr.shiftIndent(u,f+1,r,s,a),this._addEditOperation(t,new D(h,1,h,f+1),p),h===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=f+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&e.getLineLength(i)===0&&(this._useLastEditRangeForCursorEndPosition=!0);let c=a?Lp(" ",s):"	";for(let d=i;d<=n;d++){let h=e.getLineContent(d),u=wn(h);if(!(this._opts.isUnshift&&(h.length===0||u===0))&&!(!l&&!this._opts.isUnshift&&h.length===0)&&(u===-1&&(u=h.length),!(this._opts.isUnshift&&u===0)))if(this._opts.isUnshift){u=Math.min(u,s);for(let f=0;f<u;f++)if(h.charCodeAt(f)===9){u=f+1;break}this._addEditOperation(t,new D(d,1,d,u+1),"")}else this._addEditOperation(t,new D(d,1,d,1),c),d===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){let n=t.getInverseEditOperations()[0];return new de(n.range.endLineNumber,n.range.endColumn,n.range.endLineNumber,n.range.endColumn)}let i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let n=this._selection.startColumn;return i.startColumn<=n?i:i.getDirection()===0?new de(i.startLineNumber,n,i.endLineNumber,i.endColumn):new de(i.endLineNumber,i.endColumn,i.startLineNumber,n)}return i}};ve();ai();var b2=class{constructor(e,t,i){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=i}getEditOperations(e,t){t.addTrackedEditOperation(new D(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new D(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){let i=t.getInverseEditOperations(),n=i[0].range,r=i[1].range;return new de(n.endLineNumber,n.endColumn,r.endLineNumber,r.endColumn-this._charAfterSelection.length)}};Qb();ve();ai();ot();Yb();zo();j0();var Ki=class{static indent(e,t,i){if(t===null||i===null)return[];let n=[];for(let r=0,s=i.length;r<s;r++)n[r]=new kr(i[r],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return n}static outdent(e,t,i){let n=[];for(let r=0,s=i.length;r<s;r++)n[r]=new kr(i[r],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return n}static shiftIndent(e,t,i){return i=i||1,kr.shiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,i){return i=i||1,kr.unshiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,i,n){let r=[];for(let s=0,a=i.length;s<a;s++)r[s]=new Dn(i[s],n[s]);return new mr(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,i,n,r){let s=[];for(let a=0,l=i.length;a<l;a++){let c=i[a],d=c.getPosition();if(r&&!c.isEmpty()&&(r=!1),r&&n.indexOf(`
`)!==n.length-1&&(r=!1),r){let h=new D(d.lineNumber,1,d.lineNumber,1);s[a]=new Dp(h,n,c,!0)}else s[a]=new Dn(c,n)}return new mr(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,i,n,r){if(n||t.length===1)return null;if(r&&r.length===t.length)return r;if(e.multiCursorPaste==="spread"){i.charCodeAt(i.length-1)===10&&(i=i.substr(0,i.length-1)),i.charCodeAt(i.length-1)===13&&(i=i.substr(0,i.length-1));let s=rr(i);if(s.length===t.length)return s}return null}static paste(e,t,i,n,r,s){let a=this._distributePasteToCursors(e,i,n,r,s);return a?(i=i.sort(D.compareRangesUsingStarts),this._distributedPaste(e,t,i,a)):this._simplePaste(e,t,i,n,r)}static _goodIndentForLine(e,t,i){let n=null,r="",s=xt.getInheritIndentForLine(e.autoIndent,t,i,!1);if(s)n=s.action,r=s.indentation;else if(i>1){let a;for(a=i-1;a>=1;a--){let d=t.getLineContent(a);if(Sr(d)>=0)break}if(a<1)return null;let l=t.getLineMaxColumn(a),c=xt.getEnterAction(e.autoIndent,t,new D(a,l,a,l));c&&(r=c.indentation+c.appendText)}return n&&(n===dn.Indent&&(r=Ki.shiftIndent(e,r)),n===dn.Outdent&&(r=Ki.unshiftIndent(e,r)),r=e.normalizeIndentation(r)),r||null}static _replaceJumpToNextIndent(e,t,i,n){let r="",s=i.getStartPosition();if(e.insertSpaces){let a=Yt.visibleColumnFromColumn2(e,t,s),l=e.indentSize,c=l-a%l;for(let d=0;d<c;d++)r+=" "}else r="	";return new Dn(i,r,n)}static tab(e,t,i){let n=[];for(let r=0,s=i.length;r<s;r++){let a=i[r];if(a.isEmpty()){let l=t.getLineContent(a.startLineNumber);if(/^\s*$/.test(l)&&t.isCheapToTokenize(a.startLineNumber)){let c=this._goodIndentForLine(e,t,a.startLineNumber);c=c||"	";let d=e.normalizeIndentation(c);if(!l.startsWith(d)){n[r]=new Dn(new D(a.startLineNumber,1,a.startLineNumber,l.length+1),d,!0);continue}}n[r]=this._replaceJumpToNextIndent(e,t,a,!0)}else{if(a.startLineNumber===a.endLineNumber){let l=t.getLineMaxColumn(a.startLineNumber);if(a.startColumn!==1||a.endColumn!==l){n[r]=this._replaceJumpToNextIndent(e,t,a,!1);continue}}n[r]=new kr(a,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent})}}return n}static compositionType(e,t,i,n,r,s,a,l){let c=n.map(d=>this._compositionType(i,d,r,s,a,l));return new mr(4,c,{shouldPushStackElementBefore:Hk(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,i,n,r,s){if(!t.isEmpty())return null;let a=t.getPosition(),l=Math.max(1,a.column-n),c=Math.min(e.getLineMaxColumn(a.lineNumber),a.column+r),d=new D(a.lineNumber,l,a.lineNumber,c);return e.getValueInRange(d)===i&&s===0?null:new Gv(d,i,0,s)}static _typeCommand(e,t,i){return i?new Zv(e,t,!0):new Dn(e,t,!0)}static _enter(e,t,i,n){if(e.autoIndent===0)return Ki._typeCommand(n,`
`,i);if(!t.isCheapToTokenize(n.getStartPosition().lineNumber)||e.autoIndent===1){let l=t.getLineContent(n.startLineNumber),c=Qt(l).substring(0,n.startColumn-1);return Ki._typeCommand(n,`
`+e.normalizeIndentation(c),i)}let r=xt.getEnterAction(e.autoIndent,t,n);if(r){if(r.indentAction===dn.None)return Ki._typeCommand(n,`
`+e.normalizeIndentation(r.indentation+r.appendText),i);if(r.indentAction===dn.Indent)return Ki._typeCommand(n,`
`+e.normalizeIndentation(r.indentation+r.appendText),i);if(r.indentAction===dn.IndentOutdent){let l=e.normalizeIndentation(r.indentation),c=e.normalizeIndentation(r.indentation+r.appendText),d=`
`+c+`
`+l;return i?new Zv(n,d,!0):new Gv(n,d,-1,c.length-l.length,!0)}else if(r.indentAction===dn.Outdent){let l=Ki.unshiftIndent(e,r.indentation);return Ki._typeCommand(n,`
`+e.normalizeIndentation(l+r.appendText),i)}}let s=t.getLineContent(n.startLineNumber),a=Qt(s).substring(0,n.startColumn-1);if(e.autoIndent>=4){let l=xt.getIndentForEnter(e.autoIndent,t,n,{unshiftIndent:c=>Ki.unshiftIndent(e,c),shiftIndent:c=>Ki.shiftIndent(e,c),normalizeIndentation:c=>e.normalizeIndentation(c)});if(l){let c=Yt.visibleColumnFromColumn2(e,t,n.getEndPosition()),d=n.endColumn,h=t.getLineContent(n.endLineNumber),u=wn(h);if(u>=0?n=n.setEndPosition(n.endLineNumber,Math.max(n.endColumn,u+1)):n=n.setEndPosition(n.endLineNumber,t.getLineMaxColumn(n.endLineNumber)),i)return new Zv(n,`
`+e.normalizeIndentation(l.afterEnter),!0);{let f=0;return d<=u+1&&(e.insertSpaces||(c=Math.ceil(c/e.indentSize)),f=Math.min(c+1-e.normalizeIndentation(l.afterEnter).length-1,0)),new Gv(n,`
`+e.normalizeIndentation(l.afterEnter),0,f,!0)}}}return Ki._typeCommand(n,`
`+e.normalizeIndentation(a),i)}static _isAutoIndentType(e,t,i){if(e.autoIndent<4)return!1;for(let n=0,r=i.length;n<r;n++)if(!t.isCheapToTokenize(i[n].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,i,n){let r=xt.getIndentationAtPosition(t,i.startLineNumber,i.startColumn),s=xt.getIndentActionForType(e.autoIndent,t,i,n,{shiftIndent:a=>Ki.shiftIndent(e,a),unshiftIndent:a=>Ki.unshiftIndent(e,a)});if(s===null)return null;if(s!==e.normalizeIndentation(r)){let a=t.getLineFirstNonWhitespaceColumn(i.startLineNumber);return a===0?Ki._typeCommand(new D(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(s)+n,!1):Ki._typeCommand(new D(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(s)+t.getLineContent(i.startLineNumber).substring(a-1,i.startColumn-1)+n,!1)}return null}static _isAutoClosingOvertype(e,t,i,n,r){if(e.autoClosingOvertype==="never"||!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(r))return!1;for(let s=0,a=i.length;s<a;s++){let l=i[s];if(!l.isEmpty())return!1;let c=l.getPosition(),d=t.getLineContent(c.lineNumber);if(d.charAt(c.column-1)!==r)return!1;let u=dg(r);if((c.column>2?d.charCodeAt(c.column-2):0)===92&&u)return!1;if(e.autoClosingOvertype==="auto"){let p=!1;for(let b=0,v=n.length;b<v;b++){let y=n[b];if(c.lineNumber===y.startLineNumber&&c.column===y.startColumn){p=!0;break}}if(!p)return!1}}return!0}static _runAutoClosingOvertype(e,t,i,n,r){let s=[];for(let a=0,l=n.length;a<l;a++){let d=n[a].getPosition(),h=new D(d.lineNumber,d.column,d.lineNumber,d.column+1);s[a]=new Dn(h,r)}return new mr(4,s,{shouldPushStackElementBefore:Hk(e,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(e,t){let i=t.charAt(0),n=e.autoClosingPairs.autoClosingPairsOpenByStart.get(i)||[],r=e.autoClosingPairs.autoClosingPairsCloseByStart.get(i)||[],s=n.some(l=>t.startsWith(l.open)),a=r.some(l=>t.startsWith(l.close));return!s&&a}static _findAutoClosingPairOpen(e,t,i,n){let r=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(n);if(!r)return null;let s=null;for(let a of r)if(s===null||a.open.length>s.open.length){let l=!0;for(let c of i)if(t.getValueInRange(new D(c.lineNumber,c.column-a.open.length+1,c.lineNumber,c.column))+n!==a.open){l=!1;break}l&&(s=a)}return s}static _findContainedAutoClosingPair(e,t){if(t.open.length<=1)return null;let i=t.close.charAt(t.close.length-1),n=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(i)||[],r=null;for(let s of n)s.open!==t.open&&t.open.includes(s.open)&&t.close.endsWith(s.close)&&(!r||s.open.length>r.open.length)&&(r=s);return r}static _getAutoClosingPairClose(e,t,i,n,r){let s=dg(n),a=s?e.autoClosingQuotes:e.autoClosingBrackets,l=s?e.shouldAutoCloseBefore.quote:e.shouldAutoCloseBefore.bracket;if(a==="never")return null;for(let p of i)if(!p.isEmpty())return null;let c=i.map(p=>{let b=p.getPosition();return r?{lineNumber:b.lineNumber,beforeColumn:b.column-n.length,afterColumn:b.column}:{lineNumber:b.lineNumber,beforeColumn:b.column,afterColumn:b.column}}),d=this._findAutoClosingPairOpen(e,t,c.map(p=>new H(p.lineNumber,p.beforeColumn)),n);if(!d)return null;let h=this._findContainedAutoClosingPair(e,d),u=h?h.close:"",f=!0;for(let p of c){let{lineNumber:b,beforeColumn:v,afterColumn:y}=p,w=t.getLineContent(b),S=w.substring(0,v-1),x=w.substring(y-1);if(x.startsWith(u)||(f=!1),x.length>0){let N=x.charAt(0);if(!Ki._isBeforeClosingBrace(e,x)&&!l(N))return null}if(d.open.length===1&&(n==="'"||n==='"')&&a!=="always"){let N=Dr(e.wordSeparators);if(S.length>0){let W=S.charCodeAt(S.length-1);if(N.get(W)===0)return null}}if(!t.isCheapToTokenize(b))return null;t.forceTokenization(b);let k=t.getLineTokens(b),R=qb(k,v-1);if(!d.shouldAutoClose(R,v-R.firstCharOffset))return null;let O=d.findNeutralCharacter();if(O){let N=t.getTokenTypeIfInsertingCharacter(b,v,O);if(!d.isOK(N))return null}}return f?d.close.substring(0,d.close.length-u.length):d.close}static _runAutoClosingOpenCharType(e,t,i,n,r,s,a){let l=[];for(let c=0,d=n.length;c<d;c++){let h=n[c];l[c]=new Vk(h,r,!s,a)}return new mr(4,l,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return dg(t)?e.autoSurround==="quotes"||e.autoSurround==="languageDefined":e.autoSurround==="brackets"||e.autoSurround==="languageDefined"}static _isSurroundSelectionType(e,t,i,n){if(!Ki._shouldSurroundChar(e,n)||!e.surroundingPairs.hasOwnProperty(n))return!1;let r=dg(n);for(let s=0,a=i.length;s<a;s++){let l=i[s];if(l.isEmpty())return!1;let c=!0;for(let d=l.startLineNumber;d<=l.endLineNumber;d++){let h=t.getLineContent(d),u=d===l.startLineNumber?l.startColumn-1:0,f=d===l.endLineNumber?l.endColumn-1:h.length,p=h.substring(u,f);if(/[^ \t]/.test(p)){c=!1;break}}if(c)return!1;if(r&&l.startLineNumber===l.endLineNumber&&l.startColumn+1===l.endColumn){let d=t.getValueInRange(l);if(dg(d))return!1}}return!0}static _runSurroundSelectionType(e,t,i,n,r){let s=[];for(let a=0,l=n.length;a<l;a++){let c=n[a],d=t.surroundingPairs[r];s[a]=new b2(c,r,d)}return new mr(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,i){return!!(i.length===1&&t.isCheapToTokenize(i[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,i,n,r){if(!t.electricChars.hasOwnProperty(r)||!n.isEmpty())return null;let s=n.getPosition();i.forceTokenization(s.lineNumber);let a=i.getLineTokens(s.lineNumber),l;try{l=xt.onElectricCharacter(r,a,s.column)}catch(c){return ye(c),null}if(!l)return null;if(l.matchOpenBracket){let c=(a.getLineContent()+r).lastIndexOf(l.matchOpenBracket)+1,d=i.bracketPairs.findMatchingBracketUp(l.matchOpenBracket,{lineNumber:s.lineNumber,column:c});if(d){if(d.startLineNumber===s.lineNumber)return null;let h=i.getLineContent(d.startLineNumber),u=Qt(h),f=t.normalizeIndentation(u),p=i.getLineContent(s.lineNumber),b=i.getLineFirstNonWhitespaceColumn(s.lineNumber)||s.column,v=p.substring(b-1,s.column-1),y=f+v+r,w=new D(s.lineNumber,1,s.lineNumber,s.column),S=new Dn(w,y);return new mr(v2(y,e),[S],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,t,i,n,r,s){if(!n||de.selectionsArrEqual(n,r))return null;let a=null;for(let c of r){if(!c.isEmpty())return null;let d=c.getPosition(),h=i.getValueInRange(new D(d.lineNumber,d.column-1,d.lineNumber,d.column));if(a===null)a=h;else if(a!==h)return null}if(!a)return null;if(this._isAutoClosingOvertype(t,i,r,s,a)){let c=r.map(d=>new Dn(new D(d.positionLineNumber,d.positionColumn,d.positionLineNumber,d.positionColumn+1),"",!1));return new mr(4,c,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}let l=this._getAutoClosingPairClose(t,i,r,a,!0);return l!==null?this._runAutoClosingOpenCharType(e,t,i,r,a,!0,l):null}static typeWithInterceptors(e,t,i,n,r,s,a){if(!e&&a===`
`){let d=[];for(let h=0,u=r.length;h<u;h++)d[h]=Ki._enter(i,n,!1,r[h]);return new mr(4,d,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(i,n,r)){let d=[],h=!1;for(let u=0,f=r.length;u<f;u++)if(d[u]=this._runAutoIndentType(i,n,r[u],a),!d[u]){h=!0;break}if(!h)return new mr(4,d,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoClosingOvertype(i,n,r,s,a))return this._runAutoClosingOvertype(t,i,n,r,a);if(!e){let d=this._getAutoClosingPairClose(i,n,r,a,!1);if(d)return this._runAutoClosingOpenCharType(t,i,n,r,a,!1,d)}if(this._isSurroundSelectionType(i,n,r,a))return this._runSurroundSelectionType(t,i,n,r,a);if(!e&&this._isTypeInterceptorElectricChar(i,n,r)){let d=this._typeInterceptorElectricChar(t,i,n,r[0],a);if(d)return d}let l=[];for(let d=0,h=r.length;d<h;d++)l[d]=new Dn(r[d],a);let c=v2(a,t);return new mr(c,l,{shouldPushStackElementBefore:Hk(t,c),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,i,n,r){let s=[];for(let l=0,c=n.length;l<c;l++)s[l]=new Dn(n[l],r);let a=v2(r,e);return new mr(a,s,{shouldPushStackElementBefore:Hk(e,a),shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,i){if(t===null||i===null)return[];let n=[];for(let r=0,s=i.length;r<s;r++){let a=i[r].positionLineNumber;if(a===1)n[r]=new Zv(new D(1,1,1,1),`
`);else{a--;let l=t.getLineMaxColumn(a);n[r]=this._enter(e,t,!1,new D(a,l,a,l))}}return n}static lineInsertAfter(e,t,i){if(t===null||i===null)return[];let n=[];for(let r=0,s=i.length;r<s;r++){let a=i[r].positionLineNumber,l=t.getLineMaxColumn(a);n[r]=this._enter(e,t,!1,new D(a,l,a,l))}return n}static lineBreakInsert(e,t,i){let n=[];for(let r=0,s=i.length;r<s;r++)n[r]=this._enter(e,t,!0,i[r]);return n}},Vk=class extends Gv{constructor(e,t,i,n){super(e,(i?t:"")+n,0,-n.length);this._openCharacter=t,this._closeCharacter=n,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new D(n.startLineNumber,n.endColumn-this._closeCharacter.length,n.endLineNumber,n.endColumn),this.enclosingRange=new D(n.startLineNumber,n.endColumn-this._openCharacter.length-this._closeCharacter.length,n.endLineNumber,n.endColumn),super.computeCursorState(e,t)}};function v2(o,e){return o===" "?e===5||e===6?6:5:4}function Hk(o,e){return $$(o)&&!$$(e)?!0:o===5?!1:H$(o)!==H$(e)}function H$(o){return o===6||o===5?"space":o}function $$(o){return o===4||o===5||o===6}ot();ve();Yi();_t();tu();var ni=0,Tn=class extends Hi{runEditorCommand(e,t,i){let n=t._getViewModel();!n||this.runCoreEditorCommand(n,i||{})}},$k;(function(o){let e=function(i){if(!Hn(i))return!1;let n=i;return!(!Cr(n.to)||!jo(n.by)&&!Cr(n.by)||!jo(n.value)&&!_l(n.value)||!jo(n.revealCursor)&&!bx(n.revealCursor))};o.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},o.RawDirection={Up:"up",Down:"down"},o.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function t(i){let n;switch(i.to){case o.RawDirection.Up:n=1;break;case o.RawDirection.Down:n=2;break;default:return null}let r;switch(i.by){case o.RawUnit.Line:r=1;break;case o.RawUnit.WrappedLine:r=2;break;case o.RawUnit.Page:r=3;break;case o.RawUnit.HalfPage:r=4;break;default:r=2}let s=Math.floor(i.value||1),a=!!i.revealCursor;return{direction:n,unit:r,value:s,revealCursor:a,select:!!i.select}}o.parse=t})($k||($k={}));var Qv;(function(o){let e=function(t){if(!Hn(t))return!1;let i=t;return!(!_l(i.lineNumber)&&!Cr(i.lineNumber)||!jo(i.at)&&!Cr(i.at))};o.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:e,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},o.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(Qv||(Qv={}));var Kk=class{constructor(e){e.addImplementation(1e4,"code-editor",(t,i)=>{let n=t.get(Ot).getFocusedCodeEditor();return n&&n.hasTextFocus()?this._runEditorCommand(t,n,i):!1}),e.addImplementation(1e3,"generic-dom-input-textarea",(t,i)=>{let n=document.activeElement;return n&&["input","textarea"].indexOf(n.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),e.addImplementation(0,"generic-dom",(t,i)=>{let n=t.get(Ot).getActiveCodeEditor();return n?(n.focus(),this._runEditorCommand(t,n,i)):!1})}_runEditorCommand(e,t,i){let n=this.runEditorCommand(e,t,i);return n||!0}},co;(function(o){class e extends Tn{constructor(w){super(w);this._inSelectionMode=w.inSelectionMode}runCoreEditorCommand(w,S){w.model.pushStackElement(),w.setCursorStates(S.source,3,[zn.moveTo(w,w.getPrimaryCursorState(),this._inSelectionMode,S.position,S.viewPosition)]),w.revealPrimaryCursor(S.source,!0)}}o.MoveTo=ue(new e({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),o.MoveToSelect=ue(new e({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class t extends Tn{runCoreEditorCommand(w,S){w.model.pushStackElement();let x=this._getColumnSelectResult(w,w.getPrimaryCursorState(),w.getCursorColumnSelectData(),S);w.setCursorStates(S.source,3,x.viewStates.map(k=>Ct.fromViewState(k))),w.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:x.fromLineNumber,fromViewVisualColumn:x.fromVisualColumn,toViewLineNumber:x.toLineNumber,toViewVisualColumn:x.toVisualColumn}),x.reversed?w.revealTopMostCursor(S.source):w.revealBottomMostCursor(S.source)}}o.ColumnSelect=ue(new class extends t{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(y,w,S,x){let k=y.model.validatePosition(x.position),R=y.coordinatesConverter.validateViewPosition(new H(x.viewPosition.lineNumber,x.viewPosition.column),k),O=x.doColumnSelect?S.fromViewLineNumber:R.lineNumber,N=x.doColumnSelect?S.fromViewVisualColumn:x.mouseColumn-1;return Eu.columnSelect(y.cursorConfig,y,O,N,R.lineNumber,x.mouseColumn-1)}}),o.CursorColumnSelectLeft=ue(new class extends t{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:2048|1024|512|15,linux:{primary:0}}})}_getColumnSelectResult(y,w,S,x){return Eu.columnSelectLeft(y.cursorConfig,y,S)}}),o.CursorColumnSelectRight=ue(new class extends t{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:2048|1024|512|17,linux:{primary:0}}})}_getColumnSelectResult(y,w,S,x){return Eu.columnSelectRight(y.cursorConfig,y,S)}});class i extends t{constructor(w){super(w);this._isPaged=w.isPaged}_getColumnSelectResult(w,S,x,k){return Eu.columnSelectUp(w.cursorConfig,w,x,this._isPaged)}}o.CursorColumnSelectUp=ue(new i({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:2048|1024|512|16,linux:{primary:0}}})),o.CursorColumnSelectPageUp=ue(new i({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:2048|1024|512|11,linux:{primary:0}}}));class n extends t{constructor(w){super(w);this._isPaged=w.isPaged}_getColumnSelectResult(w,S,x,k){return Eu.columnSelectDown(w.cursorConfig,w,x,this._isPaged)}}o.CursorColumnSelectDown=ue(new n({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:2048|1024|512|18,linux:{primary:0}}})),o.CursorColumnSelectPageDown=ue(new n({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:2048|1024|512|12,linux:{primary:0}}}));class r extends Tn{constructor(){super({id:"cursorMove",precondition:void 0,description:sy.description})}runCoreEditorCommand(w,S){let x=sy.parse(S);!x||this._runCursorMove(w,S.source,x)}_runCursorMove(w,S,x){w.model.pushStackElement(),w.setCursorStates(S,3,r._move(w,w.getCursorStates(),x)),w.revealPrimaryCursor(S,!0)}static _move(w,S,x){let k=x.select,R=x.value;switch(x.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return zn.simpleMove(w,S,x.direction,k,R,x.unit);case 11:case 13:case 12:case 14:return zn.viewportMove(w,S,x.direction,k,R);default:return null}}}o.CursorMoveImpl=r,o.CursorMove=ue(new r);class s extends Tn{constructor(w){super(w);this._staticArgs=w.args}runCoreEditorCommand(w,S){let x=this._staticArgs;this._staticArgs.value===-1&&(x={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:w.cursorConfig.pageSize}),w.model.pushStackElement(),w.setCursorStates(S.source,3,zn.simpleMove(w,w.getCursorStates(),x.direction,x.select,x.value,x.unit)),w.revealPrimaryCursor(S.source,!0)}}o.CursorLeft=ue(new s({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:15,mac:{primary:15,secondary:[256|32]}}})),o.CursorLeftSelect=ue(new s({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:1024|15}})),o.CursorRight=ue(new s({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:17,mac:{primary:17,secondary:[256|36]}}})),o.CursorRightSelect=ue(new s({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:1024|17}})),o.CursorUp=ue(new s({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:16,mac:{primary:16,secondary:[256|46]}}})),o.CursorUpSelect=ue(new s({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}})),o.CursorPageUp=ue(new s({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:11}})),o.CursorPageUpSelect=ue(new s({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:1024|11}})),o.CursorDown=ue(new s({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:18,mac:{primary:18,secondary:[256|44]}}})),o.CursorDownSelect=ue(new s({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}})),o.CursorPageDown=ue(new s({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:12}})),o.CursorPageDownSelect=ue(new s({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:1024|12}})),o.CreateCursor=ue(new class extends Tn{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(y,w){let S;w.wholeLine?S=zn.line(y,y.getPrimaryCursorState(),!1,w.position,w.viewPosition):S=zn.moveTo(y,y.getPrimaryCursorState(),!1,w.position,w.viewPosition);let x=y.getCursorStates();if(x.length>1){let k=S.modelState?S.modelState.position:null,R=S.viewState?S.viewState.position:null;for(let O=0,N=x.length;O<N;O++){let W=x[O];if(!(k&&!W.modelState.selection.containsPosition(k))&&!(R&&!W.viewState.selection.containsPosition(R))){x.splice(O,1),y.model.pushStackElement(),y.setCursorStates(w.source,3,x);return}}}x.push(S),y.model.pushStackElement(),y.setCursorStates(w.source,3,x)}}),o.LastCursorMoveToSelect=ue(new class extends Tn{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(y,w){let S=y.getLastAddedCursorIndex(),x=y.getCursorStates(),k=x.slice(0);k[S]=zn.moveTo(y,x[S],!0,w.position,w.viewPosition),y.model.pushStackElement(),y.setCursorStates(w.source,3,k)}});class a extends Tn{constructor(w){super(w);this._inSelectionMode=w.inSelectionMode}runCoreEditorCommand(w,S){w.model.pushStackElement(),w.setCursorStates(S.source,3,zn.moveToBeginningOfLine(w,w.getCursorStates(),this._inSelectionMode)),w.revealPrimaryCursor(S.source,!0)}}o.CursorHome=ue(new a({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}})),o.CursorHomeSelect=ue(new a({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}}));class l extends Tn{constructor(w){super(w);this._inSelectionMode=w.inSelectionMode}runCoreEditorCommand(w,S){w.model.pushStackElement(),w.setCursorStates(S.source,3,this._exec(w.getCursorStates())),w.revealPrimaryCursor(S.source,!0)}_exec(w){let S=[];for(let x=0,k=w.length;x<k;x++){let R=w[x],O=R.modelState.position.lineNumber;S[x]=Ct.fromModelState(R.modelState.move(this._inSelectionMode,O,1,0))}return S}}o.CursorLineStart=ue(new l({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:0,mac:{primary:256|31}}})),o.CursorLineStartSelect=ue(new l({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:0,mac:{primary:256|1024|31}}}));class c extends Tn{constructor(w){super(w);this._inSelectionMode=w.inSelectionMode}runCoreEditorCommand(w,S){w.model.pushStackElement(),w.setCursorStates(S.source,3,zn.moveToEndOfLine(w,w.getCursorStates(),this._inSelectionMode,S.sticky||!1)),w.revealPrimaryCursor(S.source,!0)}}o.CursorEnd=ue(new c({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:ni,kbExpr:A.textInputFocus,primary:13,mac:{primary:13,secondary:[2048|17]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:g("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),o.CursorEndSelect=ue(new c({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:ni,kbExpr:A.textInputFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:g("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class d extends Tn{constructor(w){super(w);this._inSelectionMode=w.inSelectionMode}runCoreEditorCommand(w,S){w.model.pushStackElement(),w.setCursorStates(S.source,3,this._exec(w,w.getCursorStates())),w.revealPrimaryCursor(S.source,!0)}_exec(w,S){let x=[];for(let k=0,R=S.length;k<R;k++){let O=S[k],N=O.modelState.position.lineNumber,W=w.model.getLineMaxColumn(N);x[k]=Ct.fromModelState(O.modelState.move(this._inSelectionMode,N,W,0))}return x}}o.CursorLineEnd=ue(new d({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:0,mac:{primary:256|35}}})),o.CursorLineEndSelect=ue(new d({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:0,mac:{primary:256|1024|35}}}));class h extends Tn{constructor(w){super(w);this._inSelectionMode=w.inSelectionMode}runCoreEditorCommand(w,S){w.model.pushStackElement(),w.setCursorStates(S.source,3,zn.moveToBeginningOfBuffer(w,w.getCursorStates(),this._inSelectionMode)),w.revealPrimaryCursor(S.source,!0)}}o.CursorTop=ue(new h({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:2048|14,mac:{primary:2048|16}}})),o.CursorTopSelect=ue(new h({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));class u extends Tn{constructor(w){super(w);this._inSelectionMode=w.inSelectionMode}runCoreEditorCommand(w,S){w.model.pushStackElement(),w.setCursorStates(S.source,3,zn.moveToEndOfBuffer(w,w.getCursorStates(),this._inSelectionMode)),w.revealPrimaryCursor(S.source,!0)}}o.CursorBottom=ue(new u({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:2048|13,mac:{primary:2048|18}}})),o.CursorBottomSelect=ue(new u({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));class f extends Tn{constructor(){super({id:"editorScroll",precondition:void 0,description:$k.description})}runCoreEditorCommand(w,S){let x=$k.parse(S);!x||this._runEditorScroll(w,S.source,x)}_runEditorScroll(w,S,x){let k=this._computeDesiredScrollTop(w,x);if(x.revealCursor){let R=w.getCompletelyVisibleViewRangeAtScrollTop(k);w.setCursorStates(S,3,[zn.findPositionInViewportIfOutside(w,w.getPrimaryCursorState(),R,x.select)])}w.setScrollTop(k,0)}_computeDesiredScrollTop(w,S){if(S.unit===1){let R=w.getCompletelyVisibleViewRange(),O=w.coordinatesConverter.convertViewRangeToModelRange(R),N;S.direction===1?N=Math.max(1,O.startLineNumber-S.value):N=Math.min(w.model.getLineCount(),O.startLineNumber+S.value);let W=w.coordinatesConverter.convertModelPositionToViewPosition(new H(N,1));return w.getVerticalOffsetForLineNumber(W.lineNumber)}let x;S.unit===3?x=w.cursorConfig.pageSize*S.value:S.unit===4?x=Math.round(w.cursorConfig.pageSize/2)*S.value:x=S.value;let k=(S.direction===1?-1:1)*x;return w.getScrollTop()+k*w.cursorConfig.lineHeight}}o.EditorScrollImpl=f,o.EditorScroll=ue(new f),o.ScrollLineUp=ue(new class extends Tn{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:2048|16,mac:{primary:256|11}}})}runCoreEditorCommand(y,w){o.EditorScroll._runEditorScroll(y,w.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),o.ScrollPageUp=ue(new class extends Tn{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})}runCoreEditorCommand(y,w){o.EditorScroll._runEditorScroll(y,w.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),o.ScrollLineDown=ue(new class extends Tn{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:2048|18,mac:{primary:256|12}}})}runCoreEditorCommand(y,w){o.EditorScroll._runEditorScroll(y,w.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),o.ScrollPageDown=ue(new class extends Tn{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})}runCoreEditorCommand(y,w){o.EditorScroll._runEditorScroll(y,w.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class p extends Tn{constructor(w){super(w);this._inSelectionMode=w.inSelectionMode}runCoreEditorCommand(w,S){w.model.pushStackElement(),w.setCursorStates(S.source,3,[zn.word(w,w.getPrimaryCursorState(),this._inSelectionMode,S.position)]),w.revealPrimaryCursor(S.source,!0)}}o.WordSelect=ue(new p({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),o.WordSelectDrag=ue(new p({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),o.LastCursorWordSelect=ue(new class extends Tn{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(y,w){let S=y.getLastAddedCursorIndex(),x=y.getCursorStates(),k=x.slice(0),R=x[S];k[S]=zn.word(y,R,R.modelState.hasSelection(),w.position),y.model.pushStackElement(),y.setCursorStates(w.source,3,k)}});class b extends Tn{constructor(w){super(w);this._inSelectionMode=w.inSelectionMode}runCoreEditorCommand(w,S){w.model.pushStackElement(),w.setCursorStates(S.source,3,[zn.line(w,w.getPrimaryCursorState(),this._inSelectionMode,S.position,S.viewPosition)]),w.revealPrimaryCursor(S.source,!1)}}o.LineSelect=ue(new b({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),o.LineSelectDrag=ue(new b({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class v extends Tn{constructor(w){super(w);this._inSelectionMode=w.inSelectionMode}runCoreEditorCommand(w,S){let x=w.getLastAddedCursorIndex(),k=w.getCursorStates(),R=k.slice(0);R[x]=zn.line(w,k[x],this._inSelectionMode,S.position,S.viewPosition),w.model.pushStackElement(),w.setCursorStates(S.source,3,R)}}o.LastCursorLineSelect=ue(new v({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),o.LastCursorLineSelectDrag=ue(new v({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),o.CancelSelection=ue(new class extends Tn{constructor(){super({id:"cancelSelection",precondition:A.hasNonEmptySelection,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(y,w){y.model.pushStackElement(),y.setCursorStates(w.source,3,[zn.cancelSelection(y,y.getPrimaryCursorState())]),y.revealPrimaryCursor(w.source,!0)}}),o.RemoveSecondaryCursors=ue(new class extends Tn{constructor(){super({id:"removeSecondaryCursors",precondition:A.hasMultipleSelections,kbOpts:{weight:ni+1,kbExpr:A.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(y,w){y.model.pushStackElement(),y.setCursorStates(w.source,3,[y.getPrimaryCursorState()]),y.revealPrimaryCursor(w.source,!0),hp(g("removedCursor","Removed secondary cursors"))}}),o.RevealLine=ue(new class extends Tn{constructor(){super({id:"revealLine",precondition:void 0,description:Qv.description})}runCoreEditorCommand(y,w){let S=w,x=S.lineNumber||0,k=typeof x=="number"?x+1:parseInt(x)+1;k<1&&(k=1);let R=y.model.getLineCount();k>R&&(k=R);let O=new D(k,1,k,y.model.getLineMaxColumn(k)),N=0;if(S.at)switch(S.at){case Qv.RawAtArgument.Top:N=3;break;case Qv.RawAtArgument.Center:N=1;break;case Qv.RawAtArgument.Bottom:N=4;break;default:break}let W=y.coordinatesConverter.convertModelRangeToViewRange(O);y.revealRange(w.source,!1,W,N,0)}}),o.SelectAll=new class extends Kk{constructor(){super(wz)}runDOMCommand(){On&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(y,w,S){let x=w._getViewModel();!x||this.runCoreEditorCommand(x,S)}runCoreEditorCommand(y,w){y.model.pushStackElement(),y.setCursorStates("keyboard",3,[zn.selectAll(y,y.getPrimaryCursorState())])}},o.SetSelection=ue(new class extends Tn{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(y,w){y.model.pushStackElement(),y.setCursorStates(w.source,3,[Ct.fromModelSelection(w.selection)])}})})(co||(co={}));var She=pe.and(A.textInputFocus,A.columnSelection);function Jv(o,e){Bn.registerKeybindingRule({id:o,primary:e,when:She,weight:ni+1})}Jv(co.CursorColumnSelectLeft.id,1024|15);Jv(co.CursorColumnSelectRight.id,1024|17);Jv(co.CursorColumnSelectUp.id,1024|16);Jv(co.CursorColumnSelectPageUp.id,1024|11);Jv(co.CursorColumnSelectDown.id,1024|18);Jv(co.CursorColumnSelectPageDown.id,1024|12);function K$(o){return o.register(),o}var mg;(function(o){class e extends Hi{runEditorCommand(i,n,r){let s=n._getViewModel();!s||this.runCoreEditingCommand(n,s,r||{})}}o.CoreEditingCommand=e,o.LineBreakInsert=ue(new class extends e{constructor(){super({id:"lineBreakInsert",precondition:A.writable,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:0,mac:{primary:256|45}}})}runCoreEditingCommand(t,i,n){t.pushUndoStop(),t.executeCommands(this.id,Ki.lineBreakInsert(i.cursorConfig,i.model,i.getCursorStates().map(r=>r.modelState.selection)))}}),o.Outdent=ue(new class extends e{constructor(){super({id:"outdent",precondition:A.writable,kbOpts:{weight:ni,kbExpr:pe.and(A.editorTextFocus,A.tabDoesNotMoveFocus),primary:1024|2}})}runCoreEditingCommand(t,i,n){t.pushUndoStop(),t.executeCommands(this.id,Ki.outdent(i.cursorConfig,i.model,i.getCursorStates().map(r=>r.modelState.selection))),t.pushUndoStop()}}),o.Tab=ue(new class extends e{constructor(){super({id:"tab",precondition:A.writable,kbOpts:{weight:ni,kbExpr:pe.and(A.editorTextFocus,A.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(t,i,n){t.pushUndoStop(),t.executeCommands(this.id,Ki.tab(i.cursorConfig,i.model,i.getCursorStates().map(r=>r.modelState.selection))),t.pushUndoStop()}}),o.DeleteLeft=ue(new class extends e{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})}runCoreEditingCommand(t,i,n){let[r,s]=Bc.deleteLeft(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection),i.getCursorAutoClosedCharacters());r&&t.pushUndoStop(),t.executeCommands(this.id,s),i.setPrevEditOperationType(2)}}),o.DeleteRight=ue(new class extends e{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:ni,kbExpr:A.textInputFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})}runCoreEditingCommand(t,i,n){let[r,s]=Bc.deleteRight(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection));r&&t.pushUndoStop(),t.executeCommands(this.id,s),i.setPrevEditOperationType(3)}}),o.Undo=new class extends Kk{constructor(){super(ZM)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(t,i,n){if(!(!i.hasModel()||i.getOption(80)===!0))return i.getModel().undo()}},o.Redo=new class extends Kk{constructor(){super(GM)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(t,i,n){if(!(!i.hasModel()||i.getOption(80)===!0))return i.getModel().redo()}}})(mg||(mg={}));var w2=class extends vv{constructor(e,t,i){super({id:e,precondition:void 0,description:i});this._handlerId=t}runCommand(e,t){let i=e.get(Ot).getFocusedCodeEditor();!i||i.trigger("keyboard",this._handlerId,t)}};function kp(o,e){K$(new w2("default:"+o,o)),K$(new w2(o,o,e))}kp("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]});kp("replacePreviousChar");kp("compositionType");kp("compositionStart");kp("compositionEnd");kp("paste");kp("cut");ot();wt();var C2=class{constructor(e,t,i,n){this.configuration=e,this.viewModel=t,this.userInputEvents=i,this.commandDelegate=n}paste(e,t,i,n){this.commandDelegate.paste(e,t,i,n)}type(e){this.commandDelegate.type(e)}compositionType(e,t,i,n){this.commandDelegate.compositionType(e,t,i,n)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){co.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){let t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new H(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(69)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(69)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){let t=this.configuration.options,i=rn&&t.get(95),n=t.get(18);e.middleButton&&!i?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():e.mouseDownCount===3?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount===2?this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):n?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)}_usualArgs(e){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e}}moveTo(e){co.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_moveToSelect(e){co.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_columnSelect(e,t,i){e=this._validateViewColumn(e),co.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:i})}_createCursor(e,t){e=this._validateViewColumn(e),co.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e){co.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelect(e){co.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelectDrag(e){co.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorWordSelect(e){co.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelect(e){co.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelectDrag(e){co.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelect(e){co.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelectDrag(e){co.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_selectAll(){co.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}};var Ip=class{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){this.onKeyDown&&this.onKeyDown(e)}emitKeyUp(e){this.onKeyUp&&this.onKeyUp(e)}emitContextMenu(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))}emitMouseMove(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))}emitMouseDown(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))}emitMouseUp(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(e){this.onMouseWheel&&this.onMouseWheel(e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return Ip.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){return new Y$(e.element,e.type,e.mouseColumn,e.position?t.convertViewPositionToModelPosition(e.position):null,e.range?t.convertViewRangeToModelRange(e.range):null,e.detail)}},Y$=class{constructor(e,t,i,n,r,s){this.element=e,this.type=t,this.mouseColumn=i,this.position=n,this.range=r,this.detail=s}toString(){return ma.toString(this)}};zf();var y2,Yk=class{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){let t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[t]}onLinesDeleted(e,t){if(this.getCount()===0)return null;let i=this.getStartLineNumber(),n=this.getEndLineNumber();if(t<i){let l=t-e+1;return this._rendLineNumberStart-=l,null}if(e>n)return null;let r=0,s=0;for(let l=i;l<=n;l++){let c=l-this._rendLineNumberStart;e<=l&&l<=t&&(s===0?(r=c,s=1):s++)}if(e<i){let l=0;t<i?l=t-e+1:l=i-e,this._rendLineNumberStart-=l}return this._lines.splice(r,s)}onLinesChanged(e,t){if(this.getCount()===0)return!1;let i=this.getStartLineNumber(),n=this.getEndLineNumber(),r=!1;for(let s=e;s<=t;s++)s>=i&&s<=n&&(this._lines[s-this._rendLineNumberStart].onContentChanged(),r=!0);return r}onLinesInserted(e,t){if(this.getCount()===0)return null;let i=t-e+1,n=this.getStartLineNumber(),r=this.getEndLineNumber();if(e<=n)return this._rendLineNumberStart+=i,null;if(e>r)return null;if(i+e>r)return this._lines.splice(e-this._rendLineNumberStart,r-e+1);let s=[];for(let h=0;h<i;h++)s[h]=this._createLine();let a=e-this._rendLineNumberStart,l=this._lines.slice(0,a),c=this._lines.slice(a,this._lines.length-i),d=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=l.concat(s).concat(c),d}onTokensChanged(e){if(this.getCount()===0)return!1;let t=this.getStartLineNumber(),i=this.getEndLineNumber(),n=!1;for(let r=0,s=e.length;r<s;r++){let a=e[r];if(a.toLineNumber<t||a.fromLineNumber>i)continue;let l=Math.max(t,a.fromLineNumber),c=Math.min(i,a.toLineNumber);for(let d=l;d<=c;d++){let h=d-this._rendLineNumberStart;this._lines[h].onTokensChanged(),n=!0}}return n}},ay=class{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new Yk(()=>this._host.createVisibleLine())}_createDomNode(){let e=mt(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(130)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){let t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,n=t.length;i<n;i++){let r=t[i].getDomNode();r&&this.domNode.domNode.removeChild(r)}return!0}onLinesInserted(e){let t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,n=t.length;i<n;i++){let r=t[i].getDomNode();r&&this.domNode.domNode.removeChild(r)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){let t=this._linesCollection._get(),i=new Zd(this.domNode.domNode,this._host,e),n={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},r=i.render(n,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(r.rendLineNumberStart,r.lines)}},Zd=class{constructor(e,t,i){this.domNode=e,this.host=t,this.viewportData=i}render(e,t,i,n){let r={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(r.rendLineNumberStart+r.linesLength-1<t||i<r.rendLineNumberStart){r.rendLineNumberStart=t,r.linesLength=i-t+1,r.lines=[];for(let s=t;s<=i;s++)r.lines[s-t]=this.host.createVisibleLine();return this._finishRendering(r,!0,n),r}if(this._renderUntouchedLines(r,Math.max(t-r.rendLineNumberStart,0),Math.min(i-r.rendLineNumberStart,r.linesLength-1),n,t),r.rendLineNumberStart>t){let s=t,a=Math.min(i,r.rendLineNumberStart-1);s<=a&&(this._insertLinesBefore(r,s,a,n,t),r.linesLength+=a-s+1)}else if(r.rendLineNumberStart<t){let s=Math.min(r.linesLength,t-r.rendLineNumberStart);s>0&&(this._removeLinesBefore(r,s),r.linesLength-=s)}if(r.rendLineNumberStart=t,r.rendLineNumberStart+r.linesLength-1<i){let s=r.rendLineNumberStart+r.linesLength,a=i;s<=a&&(this._insertLinesAfter(r,s,a,n,t),r.linesLength+=a-s+1)}else if(r.rendLineNumberStart+r.linesLength-1>i){let s=Math.max(0,i-r.rendLineNumberStart+1),l=r.linesLength-1-s+1;l>0&&(this._removeLinesAfter(r,l),r.linesLength-=l)}return this._finishRendering(r,!1,n),r}_renderUntouchedLines(e,t,i,n,r){let s=e.rendLineNumberStart,a=e.lines;for(let l=t;l<=i;l++){let c=s+l;a[l].layoutLine(c,n[c-r])}}_insertLinesBefore(e,t,i,n,r){let s=[],a=0;for(let l=t;l<=i;l++)s[a++]=this.host.createVisibleLine();e.lines=s.concat(e.lines)}_removeLinesBefore(e,t){for(let i=0;i<t;i++){let n=e.lines[i].getDomNode();n&&this.domNode.removeChild(n)}e.lines.splice(0,t)}_insertLinesAfter(e,t,i,n,r){let s=[],a=0;for(let l=t;l<=i;l++)s[a++]=this.host.createVisibleLine();e.lines=e.lines.concat(s)}_removeLinesAfter(e,t){let i=e.linesLength-t;for(let n=0;n<t;n++){let r=e.lines[i+n].getDomNode();r&&this.domNode.removeChild(r)}e.lines.splice(i,t)}_finishRenderingNewLines(e,t,i,n){Zd._ttPolicy&&(i=Zd._ttPolicy.createHTML(i));let r=this.domNode.lastChild;t||!r?this.domNode.innerHTML=i:r.insertAdjacentHTML("afterend",i);let s=this.domNode.lastChild;for(let a=e.linesLength-1;a>=0;a--){let l=e.lines[a];n[a]&&(l.setDomNode(s),s=s.previousSibling)}}_finishRenderingInvalidLines(e,t,i){let n=document.createElement("div");Zd._ttPolicy&&(t=Zd._ttPolicy.createHTML(t)),n.innerHTML=t;for(let r=0;r<e.linesLength;r++){let s=e.lines[r];if(i[r]){let a=n.firstChild,l=s.getDomNode();l.parentNode.replaceChild(a,l),s.setDomNode(a)}}}_finishRendering(e,t,i){let n=Zd._sb,r=e.linesLength,s=e.lines,a=e.rendLineNumberStart,l=[];{n.reset();let c=!1;for(let d=0;d<r;d++){let h=s[d];l[d]=!1,!(h.getDomNode()||!h.renderLine(d+a,i[d],this.viewportData,n))&&(l[d]=!0,c=!0)}c&&this._finishRenderingNewLines(e,t,n.build(),l)}{n.reset();let c=!1,d=[];for(let h=0;h<r;h++){let u=s[h];d[h]=!1,!(l[h]||!u.renderLine(h+a,i[h],this.viewportData,n))&&(d[h]=!0,c=!0)}c&&this._finishRenderingInvalidLines(e,n.build(),d)}}};Zd._ttPolicy=(y2=window.trustedTypes)===null||y2===void 0?void 0:y2.createPolicy("editorViewLayer",{createHTML:o=>o});Zd._sb=Nl(1e5);var S2=class extends En{constructor(e){super(e);this._visibleLines=new ay(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new q$(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);let t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++)this._visibleLines.getVisibleLine(n).onConfigurationChanged(e);return!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){let t=this._dynamicOverlays.filter(i=>i.shouldRender());for(let i=0,n=t.length;i<n;i++){let r=t[i];r.prepareRender(e),r.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}},q$=class{constructor(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(58),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=mt(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(58)}renderLine(e,t,i,n){let r="";for(let s=0,a=this._dynamicOverlays.length;s<a;s++)r+=this._dynamicOverlays[s].render(i.startLineNumber,e);return this._renderedContent===r?!1:(this._renderedContent=r,n.appendASCIIString('<div style="position:absolute;top:'),n.appendASCIIString(String(t)),n.appendASCIIString("px;width:100%;height:"),n.appendASCIIString(String(this._lineHeight)),n.appendASCIIString('px;">'),n.appendASCIIString(r),n.appendASCIIString("</div>"),!0)}layoutLine(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}},E2=class extends S2{constructor(e){super(e);let i=this._context.configuration.options.get(130);this._contentWidth=i.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){let i=this._context.configuration.options.get(130);return this._contentWidth=i.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}},x2=class extends S2{constructor(e){super(e);let t=this._context.configuration.options,i=t.get(130);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),fn.applyFontInfo(this.domNode,t.get(43))}onConfigurationChanged(e){let t=this._context.configuration.options;fn.applyFontInfo(this.domNode,t.get(43));let i=t.get(130);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);let t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}};Me();var ew=class{constructor(e,t){this._coordinateBrand=void 0,this.top=e,this.left=t}},D2=class extends En{constructor(e,t){super(e);this._viewDomNode=t,this._widgets={},this.domNode=mt(document.createElement("div")),gr.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=mt(document.createElement("div")),gr.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){let t=Object.keys(this._widgets);for(let i of t)this._widgets[i].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){let t=Object.keys(this._widgets);for(let i of t)this._widgets[i].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(e){let t=new Z$(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,i){this._widgets[e.getId()].setPosition(t,i),this.setShouldRender()}removeWidget(e){let t=e.getId();if(this._widgets.hasOwnProperty(t)){let i=this._widgets[t];delete this._widgets[t];let n=i.domNode.domNode;n.parentNode.removeChild(n),n.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return this._widgets.hasOwnProperty(e)?this._widgets[e].suppressMouseDown:!1}onBeforeRender(e){let t=Object.keys(this._widgets);for(let i of t)this._widgets[i].onBeforeRender(e)}prepareRender(e){let t=Object.keys(this._widgets);for(let i of t)this._widgets[i].prepareRender(e)}render(e){let t=Object.keys(this._widgets);for(let i of t)this._widgets[i].render(e)}},Z$=class{constructor(e,t,i){this._context=e,this._viewDomNode=t,this._actual=i,this.domNode=mt(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;let n=this._context.configuration.options,r=n.get(130);this._fixedOverflowWidgets=n.get(36),this._contentWidth=r.contentWidth,this._contentLeft=r.contentLeft,this._lineHeight=n.get(58),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){let t=this._context.configuration.options;if(this._lineHeight=t.get(58),e.hasChanged(130)){let i=t.get(130);this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(e){this._setPosition(this._range)}_setPosition(e){if(this._range=e,this._viewRange=null,this._range){let t=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(t.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(t.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(t))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(e,t){this._setPosition(e),this._preference=t,this._viewRange&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(e,t,i,n,r){let s=e.top,a=s,l=t.top+this._lineHeight,c=r.viewportHeight-l,d=s-n,h=a>=n,u=l,f=c>=n,p=e.left,b=t.left;return p+i>r.scrollLeft+r.viewportWidth&&(p=r.scrollLeft+r.viewportWidth-i),b+i>r.scrollLeft+r.viewportWidth&&(b=r.scrollLeft+r.viewportWidth-i),p<r.scrollLeft&&(p=r.scrollLeft),b<r.scrollLeft&&(b=r.scrollLeft),{fitsAbove:h,aboveTop:d,aboveLeft:p,fitsBelow:f,belowTop:u,belowLeft:b}}_layoutHorizontalSegmentInPage(e,t,i,n){let r=Math.max(0,t.left-n),s=Math.min(t.left+t.width+n,e.width),a=t.left+i-_c.scrollX;if(a+n>s){let l=a-(s-n);a-=l,i-=l}if(a<r){let l=a-r;a-=l,i-=l}return[i,a]}_layoutBoxInPage(e,t,i,n,r){let s=e.top-n,a=t.top+this._lineHeight,l=Gi(this._viewDomNode.domNode),c=l.top+s-_c.scrollY,d=l.top+a-_c.scrollY,h=Nf(document.body),[u,f]=this._layoutHorizontalSegmentInPage(h,l,e.left-r.scrollLeft+this._contentLeft,i),[p,b]=this._layoutHorizontalSegmentInPage(h,l,t.left-r.scrollLeft+this._contentLeft,i),v=22,y=22,w=c>=v,S=d+n<=h.height-y;return this._fixedOverflowWidgets?{fitsAbove:w,aboveTop:Math.max(c,v),aboveLeft:f,fitsBelow:S,belowTop:d,belowLeft:b}:{fitsAbove:w,aboveTop:s,aboveLeft:u,fitsBelow:S,belowTop:a,belowLeft:p}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new ew(e.top,e.left+this._contentLeft)}_getTopAndBottomLeft(e){if(!this._viewRange)return[null,null];let t=e.linesVisibleRangesForRange(this._viewRange,!1);if(!t||t.length===0)return[null,null];let i=t[0],n=t[0];for(let h of t)h.lineNumber<i.lineNumber&&(i=h),h.lineNumber>n.lineNumber&&(n=h);let r=1073741824;for(let h of i.ranges)h.left<r&&(r=h.left);let s=1073741824;for(let h of n.ranges)h.left<s&&(s=h.left);let a=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.scrollTop,l=new ew(a,r),c=e.getVerticalOffsetForLineNumber(n.lineNumber)-e.scrollTop,d=new ew(c,s);return[l,d]}_prepareRenderWidget(e){if(!this._preference||this._preference.length===0)return null;let[t,i]=this._getTopAndBottomLeft(e);if(!t||!i)return null;if(this._cachedDomNodeClientWidth===-1||this._cachedDomNodeClientHeight===-1){let r=null;if(typeof this._actual.beforeRender=="function"&&(r=L2(this._actual.beforeRender,this._actual)),r)this._cachedDomNodeClientWidth=r.width,this._cachedDomNodeClientHeight=r.height;else{let s=this.domNode.domNode;this._cachedDomNodeClientWidth=s.clientWidth,this._cachedDomNodeClientHeight=s.clientHeight}}let n;this.allowEditorOverflow?n=this._layoutBoxInPage(t,i,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e):n=this._layoutBoxInViewport(t,i,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e);for(let r=1;r<=2;r++)for(let s of this._preference)if(s===1){if(!n)return null;if(r===2||n.fitsAbove)return{coordinate:new ew(n.aboveTop,n.aboveLeft),position:1}}else if(s===2){if(!n)return null;if(r===2||n.fitsBelow)return{coordinate:new ew(n.belowTop,n.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(t),position:0}:{coordinate:t,position:0};return null}onBeforeRender(e){!this._viewRange||!this._preference||this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&L2(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&L2(this._actual.afterRender,this._actual,this._renderData.position)}};function L2(o,e,...t){try{return o.call(e,...t)}catch{return null}}Ws();Ut();dt();ai();var k2=!0,I2=class extends Ga{constructor(e){super();this._context=e;let t=this._context.configuration.options,i=t.get(130);this._lineHeight=t.get(58),this._renderLineHighlight=t.get(84),this._renderLineHighlightOnlyWhenFocus=t.get(85),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new de(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1,t=k2?this._selections.slice(0,1):this._selections,i=t.map(r=>r.positionLineNumber);i.sort((r,s)=>r-s),eo(this._cursorLineNumbers,i)||(this._cursorLineNumbers=i,e=!0);let n=t.every(r=>r.isEmpty());return this._selectionIsEmpty!==n&&(this._selectionIsEmpty=n,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){let t=this._context.configuration.options,i=t.get(130);return this._lineHeight=t.get(58),this._renderLineHighlight=t.get(84),this._renderLineHighlightOnlyWhenFocus=t.get(85),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return this._renderLineHighlightOnlyWhenFocus?(this._focused=e.isFocused,!0):!1}prepareRender(e){if(!this._shouldRenderThis()){this._renderData=null;return}let t=this._renderOne(e),i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,r=this._cursorLineNumbers.length,s=0,a=[];for(let l=i;l<=n;l++){let c=l-i;for(;s<r&&this._cursorLineNumbers[s]<l;)s++;s<r&&this._cursorLineNumbers[s]===l?a[c]=t:a[c]=""}this._renderData=a}render(e,t){if(!this._renderData)return"";let i=t-e;return i>=this._renderData.length?"":this._renderData[i]}},O2=class extends I2{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}},T2=class extends I2{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}};gt((o,e)=>{k2=!1;let t=o.getColor(ZH);if(t&&(e.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||o.defines(JA)){let i=o.getColor(JA);i&&(k2=!0,e.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${i}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${i}; }`),o.type==="hc"&&(e.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});ve();var N2=class extends Ga{constructor(e){super();this._context=e;let t=this._context.configuration.options;this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){let t=this._context.configuration.options;return this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){let t=e.getDecorationsInViewport(),i=[],n=0;for(let l=0,c=t.length;l<c;l++){let d=t[l];d.options.className&&(i[n++]=d)}i=i.sort((l,c)=>{if(l.options.zIndex<c.options.zIndex)return-1;if(l.options.zIndex>c.options.zIndex)return 1;let d=l.options.className,h=c.options.className;return d<h?-1:d>h?1:D.compareRangesUsingStarts(l.range,c.range)});let r=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber,a=[];for(let l=r;l<=s;l++){let c=l-r;a[c]=""}this._renderWholeLineDecorations(e,i,a),this._renderNormalDecorations(e,i,a),this._renderResult=a}_renderWholeLineDecorations(e,t,i){let n=String(this._lineHeight),r=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber;for(let a=0,l=t.length;a<l;a++){let c=t[a];if(!c.options.isWholeLine)continue;let d='<div class="cdr '+c.options.className+'" style="left:0;width:100%;height:'+n+'px;"></div>',h=Math.max(c.range.startLineNumber,r),u=Math.min(c.range.endLineNumber,s);for(let f=h;f<=u;f++){let p=f-r;i[p]+=d}}}_renderNormalDecorations(e,t,i){let n=String(this._lineHeight),r=e.visibleRange.startLineNumber,s=null,a=!1,l=null;for(let c=0,d=t.length;c<d;c++){let h=t[c];if(h.options.isWholeLine)continue;let u=h.options.className,f=Boolean(h.options.showIfCollapsed),p=h.range;if(f&&p.endColumn===1&&p.endLineNumber!==p.startLineNumber&&(p=new D(p.startLineNumber,p.startColumn,p.endLineNumber-1,this._context.model.getLineMaxColumn(p.endLineNumber-1))),s===u&&a===f&&D.areIntersectingOrTouching(l,p)){l=D.plusRange(l,p);continue}s!==null&&this._renderNormalDecoration(e,l,s,a,n,r,i),s=u,a=f,l=p}s!==null&&this._renderNormalDecoration(e,l,s,a,n,r,i)}_renderNormalDecoration(e,t,i,n,r,s,a){let l=e.linesVisibleRangesForRange(t,i==="findMatch");if(!!l)for(let c=0,d=l.length;c<d;c++){let h=l[c];if(h.outsideRenderedLine)continue;let u=h.lineNumber-s;if(n&&h.ranges.length===1){let f=h.ranges[0];if(f.width<this._typicalHalfwidthCharacterWidth){let p=Math.round(f.left+f.width/2),b=Math.max(0,Math.round(p-this._typicalHalfwidthCharacterWidth/2));h.ranges[0]=new wp(b,this._typicalHalfwidthCharacterWidth)}}for(let f=0,p=h.ranges.length;f<p;f++){let b=h.ranges[f],v='<div class="cdr '+i+'" style="left:'+String(b.left)+"px;width:"+String(b.width)+"px;height:"+r+'px;"></div>';a[u]+=v}}}render(e,t){if(!this._renderResult)return"";let i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}};Me();Lo();Me();Pa();Pa();Me();Me();is();Pa();ne();var Nn=class extends ${onclick(e,t){this._register(oe(e,Le.CLICK,i=>t(new bo(i))))}onmousedown(e,t){this._register(oe(e,Le.MOUSE_DOWN,i=>t(new bo(i))))}onmouseover(e,t){this._register(oe(e,Le.MOUSE_OVER,i=>t(new bo(i))))}onnonbubblingmouseout(e,t){this._register(Db(e,i=>t(new bo(i))))}onkeydown(e,t){this._register(oe(e,Le.KEY_DOWN,i=>t(new Kt(i))))}onkeyup(e,t){this._register(oe(e,Le.KEY_UP,i=>t(new Kt(i))))}oninput(e,t){this._register(oe(e,Le.INPUT,t))}onblur(e,t){this._register(oe(e,Le.BLUR,t))}onfocus(e,t){this._register(oe(e,Le.FOCUS,t))}ignoreGesture(e){Bt.ignoreTarget(e)}};tt();var pg=11,P2=class extends Nn{constructor(e){super();this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof e.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof e.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof e.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...e.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=pg+"px",this.domNode.style.height=pg+"px",typeof e.top!="undefined"&&(this.domNode.style.top=e.top+"px"),typeof e.left!="undefined"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom!="undefined"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right!="undefined"&&(this.domNode.style.right=e.right+"px"),this._mouseMoveMonitor=this._register(new ua),this.onmousedown(this.bgDomNode,t=>this._arrowMouseDown(t)),this.onmousedown(this.domNode,t=>this._arrowMouseDown(t)),this._mousedownRepeatTimer=this._register(new gd),this._mousedownScheduleRepeatTimer=this._register(new Fi)}_arrowMouseDown(e){let t=()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(t,200),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,Oc,i=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),e.preventDefault()}};tt();ne();var R2=class extends ${constructor(e,t,i){super();this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new Fi)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){let e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(e){this._revealTimer.cancel(),!!this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(e?" fade":"")))}};wt();var Ehe=140,ly=class extends Nn{constructor(e){super();this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new R2(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new ua),this._shouldRender=!0,this.domNode=mt(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,t=>this._domNodeMouseDown(t))}_createArrow(e){let t=this._register(new P2(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,i,n){this.slider=mt(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),typeof i=="number"&&this.slider.setWidth(i),typeof n=="number"&&this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,r=>{r.leftButton&&(r.preventDefault(),this._sliderMouseDown(r,()=>{}))}),this.onclick(this.slider.domNode,r=>{r.leftButton&&r.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(e){e.target===this.domNode.domNode&&this._onMouseDown(e)}delegateMouseDown(e){let t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),n=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),r=this._sliderMousePosition(e);i<=r&&r<=n?e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,()=>{})):this._onMouseDown(e)}_onMouseDown(e){let t,i;if(e.target===this.domNode.domNode&&typeof e.browserEvent.offsetX=="number"&&typeof e.browserEvent.offsetY=="number")t=e.browserEvent.offsetX,i=e.browserEvent.offsetY;else{let r=Gi(this.domNode.domNode);t=e.posx-r.left,i=e.posy-r.top}let n=this._mouseDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(n):this._scrollbarState.getDesiredScrollPositionFromOffset(n)),e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,()=>{}))}_sliderMouseDown(e,t){let i=this._sliderMousePosition(e),n=this._sliderOrthogonalMousePosition(e),r=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,Oc,s=>{let a=this._sliderOrthogonalMousePosition(s),l=Math.abs(a-n);if(Mi&&l>Ehe){this._setDesiredScrollPositionNow(r.getScrollPosition());return}let d=this._sliderMousePosition(s)-i;this._setDesiredScrollPositionNow(r.getDesiredScrollPositionFromDelta(d))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),t()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){let t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}};var xhe=20,_g=class{constructor(e,t,i,n,r,s){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=n,this._scrollSize=r,this._scrollPosition=s,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new _g(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){let t=Math.round(e);return this._visibleSize!==t?(this._visibleSize=t,this._refreshComputedValues(),!0):!1}setScrollSize(e){let t=Math.round(e);return this._scrollSize!==t?(this._scrollSize=t,this._refreshComputedValues(),!0):!1}setScrollPosition(e){let t=Math.round(e);return this._scrollPosition!==t?(this._scrollPosition=t,this._refreshComputedValues(),!0):!1}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,i,n,r){let s=Math.max(0,i-e),a=Math.max(0,s-2*t),l=n>0&&n>i;if(!l)return{computedAvailableSize:Math.round(s),computedIsNeeded:l,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};let c=Math.round(Math.max(xhe,Math.floor(i*a/n))),d=(a-c)/(n-i),h=r*d;return{computedAvailableSize:Math.round(s),computedIsNeeded:l,computedSliderSize:Math.round(c),computedSliderRatio:d,computedSliderPosition:Math.round(h)}}_refreshComputedValues(){let e=_g._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;let t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;let t=e-this._arrowSize,i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;let t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}};en();var M2=class extends ly{constructor(e,t,i){let n=e.getScrollDimensions(),r=e.getCurrentScrollPosition();super({lazyRender:t.lazyRender,host:i,scrollbarState:new _g(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===2?0:t.horizontalScrollbarSize,t.vertical===2?0:t.verticalScrollbarSize,n.width,n.scrollWidth,r.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage});if(t.horizontalHasArrows){let s=(t.arrowSize-pg)/2,a=(t.horizontalScrollbarSize-pg)/2;this._createArrow({className:"scra",icon:z.scrollbarButtonLeft,top:a,left:s,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new mc(null,1,0))}),this._createArrow({className:"scra",icon:z.scrollbarButtonRight,top:a,left:void 0,bottom:void 0,right:s,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new mc(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return e}_sliderMousePosition(e){return e.posx}_sliderOrthogonalMousePosition(e){return e.posy}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(e.horizontal===2?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}};Pa();en();var A2=class extends ly{constructor(e,t,i){let n=e.getScrollDimensions(),r=e.getCurrentScrollPosition();super({lazyRender:t.lazyRender,host:i,scrollbarState:new _g(t.verticalHasArrows?t.arrowSize:0,t.vertical===2?0:t.verticalScrollbarSize,0,n.height,n.scrollHeight,r.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage});if(t.verticalHasArrows){let s=(t.arrowSize-pg)/2,a=(t.verticalScrollbarSize-pg)/2;this._createArrow({className:"scra",icon:z.scrollbarButtonUp,top:s,left:a,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new mc(null,0,1))}),this._createArrow({className:"scra",icon:z.scrollbarButtonDown,top:void 0,left:a,bottom:s,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new mc(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return t}_sliderMousePosition(e){return e.posy}_sliderOrthogonalMousePosition(e){return e.posx}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}};tt();Se();ne();wt();Se();ne();var cy=class{constructor(e,t,i,n,r,s){this._scrollStateBrand=void 0,e=e|0,t=t|0,i=i|0,n=n|0,r=r|0,s=s|0,this.rawScrollLeft=i,this.rawScrollTop=s,e<0&&(e=0),i+e>t&&(i=t-e),i<0&&(i=0),n<0&&(n=0),s+n>r&&(s=r-n),s<0&&(s=0),this.width=e,this.scrollWidth=t,this.scrollLeft=i,this.height=n,this.scrollHeight=r,this.scrollTop=s}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new cy(typeof e.width!="undefined"?e.width:this.width,typeof e.scrollWidth!="undefined"?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof e.height!="undefined"?e.height:this.height,typeof e.scrollHeight!="undefined"?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new cy(this.width,this.scrollWidth,typeof e.scrollLeft!="undefined"?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof e.scrollTop!="undefined"?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){let i=this.width!==e.width,n=this.scrollWidth!==e.scrollWidth,r=this.scrollLeft!==e.scrollLeft,s=this.height!==e.height,a=this.scrollHeight!==e.scrollHeight,l=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:n,scrollLeftChanged:r,heightChanged:s,scrollHeightChanged:a,scrollTopChanged:l}}},xu=class extends ${constructor(e,t){super();this._scrollableBrand=void 0,this._onScroll=this._register(new F),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e,this._scheduleAtNextAnimationFrame=t,this._state=new cy(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){let i=this._state.withScrollDimensions(e,t);this._setState(i,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){let t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:e.scrollTop};let i=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let n;t?n=new tw(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):n=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=n}else{let i=this._state.withScrollPosition(e);this._smoothScrolling=tw.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;let e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,t){let i=this._state;i.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(i,t)))}},F2=class{constructor(e,t,i){this.scrollLeft=e,this.scrollTop=t,this.isDone=i}};function B2(o,e){let t=e-o;return function(i){return o+t*khe(i)}}function Dhe(o,e,t){return function(i){return i<t?o(i/t):e((i-t)/(1-t))}}var tw=class{constructor(e,t,i,n){this.from=e,this.to=t,this.duration=n,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,i){if(Math.abs(e-t)>2.5*i){let r,s;return e<t?(r=e+.75*i,s=t-.75*i):(r=e-.75*i,s=t+.75*i),Dhe(B2(e,r),B2(s,t),.33)}return B2(e,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){let t=(e-this.startTime)/this.duration;if(t<1){let i=this.scrollLeft(t),n=this.scrollTop(t);return new F2(i,n,!1)}return new F2(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,i){return tw.start(e,t,i)}static start(e,t,i){i=i+10;let n=Date.now()-10;return new tw(e,t,n,i)}};function Lhe(o){return Math.pow(o,3)}function khe(o){return 1-Lhe(1-o)}var Ihe=500,G$=50,X$=!0,Q$=class{constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}},qk=class{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let e=1,t=0,i=1,n=this._rear;do{let r=n===this._front?e:Math.pow(2,-i);if(e-=r,t+=this._memory[n].score*r,n===this._front)break;n=(this._capacity+n-1)%this._capacity,i++}while(!0);return t<=.5}accept(e,t,i){let n=new Q$(e,t,i);n.score=this._computeScore(n),this._front===-1&&this._rear===-1?(this._memory[0]=n,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=n)}_computeScore(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let t=.5,i=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(e.deltaX)||!this._isAlmostInt(e.deltaY))&&(t+=.25),Math.min(Math.max(t,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}};qk.INSTANCE=new qk;var j2=class extends Nn{constructor(e,t,i){super();this._onScroll=this._register(new F),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new F),e.style.overflow="hidden",this._options=Ohe(t),this._scrollable=i,this._register(this._scrollable.onScroll(r=>{this._onWillScroll.fire(r),this._onDidScroll(r),this._onScroll.fire(r)}));let n={onMouseWheel:r=>this._onMouseWheel(r),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new A2(this._scrollable,this._options,n)),this._horizontalScrollbar=this._register(new M2(this._scrollable,this._options,n)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=mt(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=mt(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=mt(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,r=>this._onMouseOver(r)),this.onnonbubblingmouseout(this._listenOnDomNode,r=>this._onMouseOut(r)),this._hideTimeout=this._register(new Fi),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=ct(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(e){this._verticalScrollbar.delegateMouseDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,Xe&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal!="undefined"&&(this._options.horizontal=e.horizontal),typeof e.vertical!="undefined"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage!="undefined"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=ct(this._mouseWheelToDispose),e)){let i=n=>{this._onMouseWheel(new mc(n))};this._mouseWheelToDispose.push(oe(this._listenOnDomNode,Le.MOUSE_WHEEL,i,{passive:!1}))}}_onMouseWheel(e){let t=qk.INSTANCE;if(X$){let r=window.devicePixelRatio/kP();Mi||rn?t.accept(Date.now(),e.deltaX/r,e.deltaY/r):t.accept(Date.now(),e.deltaX,e.deltaY)}let i=!1;if(e.deltaY||e.deltaX){let r=e.deltaY*this._options.mouseWheelScrollSensitivity,s=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(r)>=Math.abs(s)?s=0:r=0),this._options.flipAxes&&([r,s]=[s,r]);let a=!Xe&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||a)&&!s&&(s=r,r=0),e.browserEvent&&e.browserEvent.altKey&&(s=s*this._options.fastScrollSensitivity,r=r*this._options.fastScrollSensitivity);let l=this._scrollable.getFutureScrollPosition(),c={};if(r){let d=G$*r,h=l.scrollTop-(d<0?Math.floor(d):Math.ceil(d));this._verticalScrollbar.writeScrollPosition(c,h)}if(s){let d=G$*s,h=l.scrollLeft-(d<0?Math.floor(d):Math.ceil(d));this._horizontalScrollbar.writeScrollPosition(c,h)}c=this._scrollable.validateScrollPosition(c),(l.scrollLeft!==c.scrollLeft||l.scrollTop!==c.scrollTop)&&(X$&&this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(c):this._scrollable.setScrollPositionNow(c),i=!0)}let n=i;!n&&this._options.alwaysConsumeMouseWheel&&(n=!0),!n&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(n=!0),n&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){let e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,n=i?" left":"",r=t?" top":"",s=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${n}`),this._topShadowDomNode.setClassName(`shadow${r}`),this._topLeftShadowDomNode.setClassName(`shadow${s}${r}${n}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),Ihe)}},iw=class extends j2{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;let i=new xu(0,n=>xs(n));super(e,t,i);this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}},Op=class extends j2{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}},jc=class extends iw{constructor(e,t){super(e,t);this._element=e,this.onScroll(i=>{i.scrollTopChanged&&(this._element.scrollTop=i.scrollTop),i.scrollLeftChanged&&(this._element.scrollLeft=i.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}};function Ohe(o){let e={lazyRender:typeof o.lazyRender!="undefined"?o.lazyRender:!1,className:typeof o.className!="undefined"?o.className:"",useShadows:typeof o.useShadows!="undefined"?o.useShadows:!0,handleMouseWheel:typeof o.handleMouseWheel!="undefined"?o.handleMouseWheel:!0,flipAxes:typeof o.flipAxes!="undefined"?o.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof o.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?o.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof o.alwaysConsumeMouseWheel!="undefined"?o.alwaysConsumeMouseWheel:!1,scrollYToX:typeof o.scrollYToX!="undefined"?o.scrollYToX:!1,mouseWheelScrollSensitivity:typeof o.mouseWheelScrollSensitivity!="undefined"?o.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof o.fastScrollSensitivity!="undefined"?o.fastScrollSensitivity:5,scrollPredominantAxis:typeof o.scrollPredominantAxis!="undefined"?o.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof o.mouseWheelSmoothScroll!="undefined"?o.mouseWheelSmoothScroll:!0,arrowSize:typeof o.arrowSize!="undefined"?o.arrowSize:11,listenOnDomNode:typeof o.listenOnDomNode!="undefined"?o.listenOnDomNode:null,horizontal:typeof o.horizontal!="undefined"?o.horizontal:1,horizontalScrollbarSize:typeof o.horizontalScrollbarSize!="undefined"?o.horizontalScrollbarSize:10,horizontalSliderSize:typeof o.horizontalSliderSize!="undefined"?o.horizontalSliderSize:0,horizontalHasArrows:typeof o.horizontalHasArrows!="undefined"?o.horizontalHasArrows:!1,vertical:typeof o.vertical!="undefined"?o.vertical:1,verticalScrollbarSize:typeof o.verticalScrollbarSize!="undefined"?o.verticalScrollbarSize:10,verticalHasArrows:typeof o.verticalHasArrows!="undefined"?o.verticalHasArrows:!1,verticalSliderSize:typeof o.verticalSliderSize!="undefined"?o.verticalSliderSize:0,scrollByPage:typeof o.scrollByPage!="undefined"?o.scrollByPage:!1};return e.horizontalSliderSize=typeof o.horizontalSliderSize!="undefined"?o.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof o.verticalSliderSize!="undefined"?o.verticalSliderSize:e.verticalScrollbarSize,Xe&&(e.className+=" mac"),e}dt();yi();var W2=class extends En{constructor(e,t,i,n){super(e);let r=this._context.configuration.options,s=r.get(91),a=r.get(66),l=r.get(34),c=r.get(94),d={listenOnDomNode:i.domNode,className:"editor-scrollable "+up(e.theme.type),useShadows:!1,lazyRender:!0,vertical:s.vertical,horizontal:s.horizontal,verticalHasArrows:s.verticalHasArrows,horizontalHasArrows:s.horizontalHasArrows,verticalScrollbarSize:s.verticalScrollbarSize,verticalSliderSize:s.verticalSliderSize,horizontalScrollbarSize:s.horizontalScrollbarSize,horizontalSliderSize:s.horizontalSliderSize,handleMouseWheel:s.handleMouseWheel,alwaysConsumeMouseWheel:s.alwaysConsumeMouseWheel,arrowSize:s.arrowSize,mouseWheelScrollSensitivity:a,fastScrollSensitivity:l,scrollPredominantAxis:c,scrollByPage:s.scrollByPage};this.scrollbar=this._register(new Op(t.domNode,d,this._context.viewLayout.getScrollable())),gr.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=mt(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();let h=(u,f,p)=>{let b={};if(f){let v=u.scrollTop;v&&(b.scrollTop=this._context.viewLayout.getCurrentScrollTop()+v,u.scrollTop=0)}if(p){let v=u.scrollLeft;v&&(b.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+v,u.scrollLeft=0)}this._context.model.setScrollPosition(b,1)};this._register(oe(i.domNode,"scroll",u=>h(i.domNode,!0,!0))),this._register(oe(t.domNode,"scroll",u=>h(t.domNode,!0,!1))),this._register(oe(n.domNode,"scroll",u=>h(n.domNode,!0,!1))),this._register(oe(this.scrollbarDomNode.domNode,"scroll",u=>h(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){let e=this._context.configuration.options,t=e.get(130);this.scrollbarDomNode.setLeft(t.contentLeft),e.get(64).side==="right"?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)}onConfigurationChanged(e){if(e.hasChanged(91)||e.hasChanged(66)||e.hasChanged(34)){let t=this._context.configuration.options,i=t.get(91),n=t.get(66),r=t.get(34),s=t.get(94),a={vertical:i.vertical,horizontal:i.horizontal,verticalScrollbarSize:i.verticalScrollbarSize,horizontalScrollbarSize:i.horizontalScrollbarSize,scrollByPage:i.scrollByPage,handleMouseWheel:i.handleMouseWheel,mouseWheelScrollSensitivity:n,fastScrollSensitivity:r,scrollPredominantAxis:s};this.scrollbar.updateOptions(a)}return e.hasChanged(130)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+up(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}};gt((o,e)=>{let t=o.getColor(Ul);t&&e.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${t} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${t} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${t} 6px 6px 6px -6px inset;
			}
		`);let i=o.getColor(nu);i&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${i};
			}
		`);let n=o.getColor(ou);n&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${n};
			}
		`);let r=o.getColor(ru);r&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${r};
			}
		`)});var Tp=class{constructor(e,t,i){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(i)}},nw=class extends Ga{_render(e,t,i){let n=[];for(let a=e;a<=t;a++){let l=a-e;n[l]=[]}if(i.length===0)return n;i.sort((a,l)=>a.className===l.className?a.startLineNumber===l.startLineNumber?a.endLineNumber-l.endLineNumber:a.startLineNumber-l.startLineNumber:a.className<l.className?-1:1);let r=null,s=0;for(let a=0,l=i.length;a<l;a++){let c=i[a],d=c.className,h=Math.max(c.startLineNumber,e)-e,u=Math.min(c.endLineNumber,t)-e;r===d?(h=Math.max(s+1,h),s=Math.max(s,u)):(r=d,s=u);for(let f=h;f<=s;f++)n[f].push(r)}return n}},U2=class extends nw{constructor(e){super();this._context=e;let t=this._context.configuration.options,i=t.get(130);this._lineHeight=t.get(58),this._glyphMargin=t.get(49),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){let t=this._context.configuration.options,i=t.get(130);return this._lineHeight=t.get(58),this._glyphMargin=t.get(49),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){let t=e.getDecorationsInViewport(),i=[],n=0;for(let r=0,s=t.length;r<s;r++){let a=t[r],l=a.options.glyphMarginClassName;l&&(i[n++]=new Tp(a.range.startLineNumber,a.range.endLineNumber,l))}return i}prepareRender(e){if(!this._glyphMargin){this._renderResult=null;return}let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),r=this._lineHeight.toString(),s=this._glyphMarginLeft.toString(),a=this._glyphMarginWidth.toString(),l='" style="left:'+s+"px;width:"+a+"px;height:"+r+'px;"></div>',c=[];for(let d=t;d<=i;d++){let h=d-t,u=n[h];u.length===0?c[h]="":c[h]='<div class="cgmr codicon '+u.join(" ")+l}this._renderResult=c}render(e,t){if(!this._renderResult)return"";let i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}};Ws();dt();ot();Os();Ut();Wn();di();var z2=class extends Ga{constructor(e){super();this._context=e,this._primaryPosition=null;let t=this._context.configuration.options,i=t.get(131),n=t.get(43);this._lineHeight=t.get(58),this._spaceWidth=n.spaceWidth,this._maxIndentLeft=i.wrappingColumn===-1?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){let t=this._context.configuration.options,i=t.get(131),n=t.get(43);return this._lineHeight=t.get(58),this._spaceWidth=n.spaceWidth,this._maxIndentLeft=i.wrappingColumn===-1?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),!0}onCursorStateChanged(e){var t;let n=e.selections[0].getPosition();return((t=this._primaryPosition)===null||t===void 0?void 0:t.equals(n))?!1:(this._primaryPosition=n,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var t,i,n,r;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}let s=e.visibleRange.startLineNumber,a=e.visibleRange.endLineNumber,l=e.scrollWidth,c=this._lineHeight,d=this._primaryPosition,h=this.getGuidesByLine(s,a,d),u=[];for(let f=s;f<=a;f++){let p=f-s,b=h[p],v="",y=(i=(t=e.visibleRangeForPosition(new H(f,1)))===null||t===void 0?void 0:t.left)!==null&&i!==void 0?i:0;for(let w of b){let S=y+(w.visibleColumn-1)*this._spaceWidth;if(S>l||this._maxIndentLeft>0&&S>this._maxIndentLeft)break;let x=w.horizontalLine?w.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",k=w.horizontalLine?((r=(n=e.visibleRangeForPosition(new H(f,w.horizontalLine.endColumn)))===null||n===void 0?void 0:n.left)!==null&&r!==void 0?r:S+this._spaceWidth)-S:this._spaceWidth;v+=`<div class="core-guide ${w.className} ${x}" style="left:${S}px;height:${c}px;width:${k}px"></div>`}u[p]=v}this._renderResult=u}getGuidesByLine(e,t,i){let n=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.model.getBracketGuidesInRangeByLine(e,t,i,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?Uh.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?Uh.EnabledForActive:Uh.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,r=this._bracketPairGuideOptions.indentation?this._context.model.getLinesIndentGuides(e,t):null,s=0,a=0,l=0;if(this._bracketPairGuideOptions.highlightActiveIndentation&&i){let h=this._context.model.getActiveIndentGuide(i.lineNumber,e,t);s=h.startLineNumber,a=h.endLineNumber,l=h.indent}let{indentSize:c}=this._context.model.getTextModelOptions(),d=[];for(let h=e;h<=t;h++){let u=new Array;d.push(u);let f=n?n[h-e]:[],p=new sc(f),b=r?r[h-e]:[];for(let v=1;v<=b;v++){let y=(v-1)*c+1,w=f.length===0&&s<=h&&h<=a&&v===l;u.push(...p.takeWhile(x=>x.visibleColumn<y)||[]);let S=p.peek();(!S||S.visibleColumn!==y||S.horizontalLine)&&u.push(new yd(y,w?"core-guide-indent-active":"core-guide-indent",null))}u.push(...p.takeWhile(v=>!0)||[])}return d}render(e,t){if(!this._renderResult)return"";let i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}};function Zk(o){if(!(o&&o.isTransparent()))return o}gt((o,e)=>{let t=o.getColor(Hv);t&&e.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${t} inset; }`);let i=o.getColor($v)||t;i&&e.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${i} inset; }`);let n=[{bracketColor:kk,guideColor:h$,guideColorActive:_$},{bracketColor:Ik,guideColor:u$,guideColorActive:b$},{bracketColor:Ok,guideColor:f$,guideColorActive:v$},{bracketColor:Tk,guideColor:g$,guideColorActive:w$},{bracketColor:Nk,guideColor:m$,guideColorActive:C$},{bracketColor:Pk,guideColor:p$,guideColorActive:y$}],r=new Mk,s=n.map(a=>{var l,c;let d=o.getColor(a.bracketColor),h=o.getColor(a.guideColor),u=o.getColor(a.guideColorActive),f=Zk((l=Zk(h))!==null&&l!==void 0?l:d==null?void 0:d.transparent(.3)),p=Zk((c=Zk(u))!==null&&c!==void 0?c:d);if(!(!f||!p))return{guideColor:f,guideColorActive:p}}).filter(J9);if(s.length>0){for(let a=0;a<30;a++){let l=s[a%s.length];e.addRule(`.monaco-editor .${r.getInlineClassNameOfLevel(a).replace(/ /g,".")} { --guide-color: ${l.guideColor}; --guide-color-active: ${l.guideColorActive}; }`)}e.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),e.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),e.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),e.addRule(`.monaco-editor .vertical.${r.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),e.addRule(`.monaco-editor .horizontal-top.${r.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),e.addRule(`.monaco-editor .horizontal-bottom.${r.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}});wt();tt();ot();ve();var J$=class{constructor(){this._currentVisibleRange=new D(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}},eK=class{constructor(e,t,i,n,r,s){this.lineNumber=e,this.startColumn=t,this.endColumn=i,this.startScrollTop=n,this.stopScrollTop=r,this.scrollType=s,this.type="range",this.minLineNumber=e,this.maxLineNumber=e}},tK=class{constructor(e,t,i,n){this.selections=e,this.startScrollTop=t,this.stopScrollTop=i,this.scrollType=n,this.type="selections";let r=e[0].startLineNumber,s=e[0].endLineNumber;for(let a=1,l=e.length;a<l;a++){let c=e[a];r=Math.min(r,c.startLineNumber),s=Math.max(s,c.endLineNumber)}this.minLineNumber=r,this.maxLineNumber=s}},ow=class extends En{constructor(e,t){super(e);this._linesContent=t,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new ay(this),this.domNode=this._visibleLines.domNode;let i=this._context.configuration,n=this._context.configuration.options,r=n.get(43),s=n.get(131);this._lineHeight=n.get(58),this._typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this._isViewportWrapping=s.isViewportWrapping,this._revealHorizontalRightPadding=n.get(88),this._cursorSurroundingLines=n.get(25),this._cursorSurroundingLinesStyle=n.get(26),this._canUseLayerHinting=!n.get(28),this._viewLineOptions=new hk(i,this._context.theme.type),gr.write(this.domNode,7),this.domNode.setClassName(`view-lines ${Fc}`),fn.applyFontInfo(this.domNode,r),this._maxLineWidth=0,this._asyncUpdateLineWidths=new bt(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new bt(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new J$,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new Ka(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(131)&&(this._maxLineWidth=0);let t=this._context.configuration.options,i=t.get(43),n=t.get(131);return this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._isViewportWrapping=n.isViewportWrapping,this._revealHorizontalRightPadding=t.get(88),this._cursorSurroundingLines=t.get(25),this._cursorSurroundingLinesStyle=t.get(26),this._canUseLayerHinting=!t.get(28),fn.applyFontInfo(this.domNode,i),this._onOptionsMaybeChanged(),e.hasChanged(130)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){let e=this._context.configuration,t=new hk(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;let i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let r=i;r<=n;r++)this._visibleLines.getVisibleLine(r).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(e){let t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),n=!1;for(let r=t;r<=i;r++)n=this._visibleLines.getVisibleLine(r).onSelectionChanged()||n;return n}onDecorationsChanged(e){{let t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++)this._visibleLines.getVisibleLine(n).onDecorationsChanged()}return!0}onFlushed(e){let t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){let t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.range,e.selections,e.verticalType);if(t===-1)return!1;let i=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new eK(e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new tK(e.selections,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;let r=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.model.setScrollPosition(i,r),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){let t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,t){let i=this._getViewLineDomNode(e);if(i===null)return null;let n=this._getLineNumberFor(i);if(n===-1||n<1||n>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(n)===1)return new H(n,1);let r=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();if(n<r||n>s)return null;let a=this._visibleLines.getVisibleLine(n).getColumnOfNodeOffset(n,e,t),l=this._context.model.getLineMinColumn(n);return a<l&&(a=l),new H(n,a)}_getViewLineDomNode(e){for(;e&&e.nodeType===1;){if(e.className===Ka.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){let t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++){let r=this._visibleLines.getVisibleLine(n);if(e===r.getDomNode())return n}return-1}getLineWidth(e){let t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();return e<t||e>i?-1:this._visibleLines.getVisibleLine(e).getWidth()}linesVisibleRangesForRange(e,t){if(this.shouldRender())return null;let i=e.endLineNumber,n=D.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!n)return null;let r=[],s=0,a=new dk(this.domNode.domNode,this._textRangeRestingSpot),l=0;t&&(l=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new H(n.startLineNumber,1)).lineNumber);let c=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let h=n.startLineNumber;h<=n.endLineNumber;h++){if(h<c||h>d)continue;let u=h===n.startLineNumber?n.startColumn:1,f=h===n.endLineNumber?n.endColumn:this._context.model.getLineMaxColumn(h),p=this._visibleLines.getVisibleLine(h).getVisibleRangesForRange(h,u,f,a);if(!!p){if(t&&h<i){let b=l;l=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new H(h+1,1)).lineNumber,b!==l&&(p.ranges[p.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}r[s++]=new hA(p.outsideRenderedLine,h,wp.from(p.ranges))}}return s===0?null:r}_visibleRangesForLineRange(e,t,i){return this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,t,i,new dk(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(e){let t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new uA(t.outsideRenderedLine,t.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(e){let t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),n=1,r=!0;for(let s=t;s<=i;s++){let a=this._visibleLines.getVisibleLine(s);if(e&&!a.getWidthIsFast()){r=!1;continue}n=Math.max(n,a.getWidth())}return r&&t===1&&i===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(n),r}_checkMonospaceFontAssumptions(){let e=-1,t=-1,i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let r=i;r<=n;r++){let s=this._visibleLines.getVisibleLine(r);if(s.needsMonospaceFontCheck()){let a=s.getWidth();a>t&&(t=a,e=r)}}if(e!==-1&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let r=i;r<=n;r++)this._visibleLines.getVisibleLine(r).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){let i=this._horizontalRevealRequest;if(e.startLineNumber<=i.minLineNumber&&i.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();let n=this._computeScrollLeftToReveal(i);n&&(this._isViewportWrapping||this._ensureMaxLineWidth(n.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:n.scrollLeft},i.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),rn&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){let i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let r=i;r<=n;r++)if(this._visibleLines.getVisibleLine(r).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");let t=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-t),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){let t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,t,i,n,r){let s=e.top,a=e.height,l=s+a,c,d,h;if(n&&n.length>0){let p=n[0].startLineNumber,b=n[0].endLineNumber;for(let v=1,y=n.length;v<y;v++){let w=n[v];p=Math.min(p,w.startLineNumber),b=Math.max(b,w.endLineNumber)}c=!1,d=this._context.viewLayout.getVerticalOffsetForLineNumber(p),h=this._context.viewLayout.getVerticalOffsetForLineNumber(b)+this._lineHeight}else if(i)c=!0,d=this._context.viewLayout.getVerticalOffsetForLineNumber(i.startLineNumber),h=this._context.viewLayout.getVerticalOffsetForLineNumber(i.endLineNumber)+this._lineHeight;else return-1;if(!(t==="mouse"&&this._cursorSurroundingLinesStyle==="default")){let p=Math.min(a/this._lineHeight/2,this._cursorSurroundingLines);d-=p*this._lineHeight,h+=Math.max(0,p-1)*this._lineHeight}(r===0||r===4)&&(h+=this._lineHeight);let f;if(h-d>a){if(!c)return-1;f=d}else if(r===5||r===6)if(r===6&&s<=d&&h<=l)f=s;else{let p=Math.max(5*this._lineHeight,a*.2),b=d-p,v=h-a;f=Math.max(v,b)}else if(r===1||r===2)if(r===2&&s<=d&&h<=l)f=s;else{let p=(d+h)/2;f=Math.max(0,p-a/2)}else f=this._computeMinimumScrolling(s,l,d,h,r===3,r===4);return f}_computeScrollLeftToReveal(e){let t=this._context.viewLayout.getCurrentViewport(),i=t.left,n=i+t.width,r=1073741824,s=0;if(e.type==="range"){let l=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!l)return null;for(let c of l.ranges)r=Math.min(r,Math.round(c.left)),s=Math.max(s,Math.round(c.left+c.width))}else for(let l of e.selections){if(l.startLineNumber!==l.endLineNumber)return null;let c=this._visibleRangesForLineRange(l.startLineNumber,l.startColumn,l.endColumn);if(!c)return null;for(let d of c.ranges)r=Math.min(r,Math.round(d.left)),s=Math.max(s,Math.round(d.left+d.width))}return r=Math.max(0,r-ow.HORIZONTAL_EXTRA_PX),s+=this._revealHorizontalRightPadding,e.type==="selections"&&s-r>t.width?null:{scrollLeft:this._computeMinimumScrolling(i,n,r,s),maxHorizontalOffset:s}}_computeMinimumScrolling(e,t,i,n,r,s){e=e|0,t=t|0,i=i|0,n=n|0,r=!!r,s=!!s;let a=t-e;if(n-i<a){if(r)return i;if(s)return Math.max(0,n-a);if(i<e)return i;if(n>t)return Math.max(0,n-a)}else return i;return e}};ow.HORIZONTAL_EXTRA_PX=30;var V2=class extends nw{constructor(e){super();this._context=e;let i=this._context.configuration.options.get(130);this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){let i=this._context.configuration.options.get(130);return this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){let t=e.getDecorationsInViewport(),i=[],n=0;for(let r=0,s=t.length;r<s;r++){let a=t[r],l=a.options.linesDecorationsClassName;l&&(i[n++]=new Tp(a.range.startLineNumber,a.range.endLineNumber,l));let c=a.options.firstLineDecorationClassName;c&&(i[n++]=new Tp(a.range.startLineNumber,a.range.startLineNumber,c))}return i}prepareRender(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),r=this._decorationsLeft.toString(),s=this._decorationsWidth.toString(),a='" style="left:'+r+"px;width:"+s+'px;"></div>',l=[];for(let c=t;c<=i;c++){let d=c-t,h=n[d],u="";for(let f=0,p=h.length;f<p;f++)u+='<div class="cldr '+h[f]+a;l[d]=u}this._renderResult=l}render(e,t){return this._renderResult?this._renderResult[t-e]:""}};var H2=class extends nw{constructor(e){super();this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){let t=e.getDecorationsInViewport(),i=[],n=0;for(let r=0,s=t.length;r<s;r++){let a=t[r],l=a.options.marginClassName;l&&(i[n++]=new Tp(a.range.startLineNumber,a.range.endLineNumber,l))}return i}prepareRender(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),r=[];for(let s=t;s<=i;s++){let a=s-t,l=n[a],c="";for(let d=0,h=l.length;d<h;d++)c+='<div class="cmdr '+l[d]+'" style=""></div>';r[a]=c}this._renderResult=r}render(e,t){return this._renderResult?this._renderResult[t-e]:""}};Me();ne();wt();je();An();ve();var fs=class{constructor(e,t,i,n){this._rgba8Brand=void 0,this.r=fs._clamp(e),this.g=fs._clamp(t),this.b=fs._clamp(i),this.a=fs._clamp(n)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:e|0}};fs.Empty=new fs(0,0,0,0);Se();ne();Tt();var bg=class extends ${constructor(){super();this._onDidChange=new F,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(Li.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=Fj(new bg)),this._INSTANCE}_updateColorMap(){let e=Li.getColorMap();if(!e){this._colors=[fs.Empty],this._backgroundIsLight=!0;return}this._colors=[fs.Empty];for(let i=1;i<e.length;i++){let n=e[i].rgba;this._colors[i]=new fs(n.r,n.g,n.b,Math.round(n.a*255))}let t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}};bg._INSTANCE=null;yi();dt();ai();var iK=(()=>{let o=[];for(let e=32;e<=126;e++)o.push(e);return o.push(65533),o})(),nK=(o,e)=>(o-=32,o<0||o>96?e<=2?(o+96)%96:96-1:o);z0();var Np=class{constructor(e,t){this.scale=t,this._minimapCharRendererBrand=void 0,this.charDataNormal=Np.soften(e,12/15),this.charDataLight=Np.soften(e,50/60)}static soften(e,t){let i=new Uint8ClampedArray(e.length);for(let n=0,r=e.length;n<r;n++)i[n]=qm(e[n]*t);return i}renderChar(e,t,i,n,r,s,a,l,c,d,h){let u=1*this.scale,f=2*this.scale,p=h?1:f;if(t+u>e.width||i+p>e.height){console.warn("bad render request outside image data");return}let b=d?this.charDataLight:this.charDataNormal,v=nK(n,c),y=e.width*4,w=a.r,S=a.g,x=a.b,k=r.r-w,R=r.g-S,O=r.b-x,N=Math.max(s,l),W=e.data,G=v*u*f,Y=i*y+t*4;for(let te=0;te<p;te++){let re=Y;for(let Pe=0;Pe<u;Pe++){let Ne=b[G++]/255*(s/255);W[re++]=w+k*Ne,W[re++]=S+R*Ne,W[re++]=x+O*Ne,W[re++]=N}Y+=y}}blockRenderChar(e,t,i,n,r,s,a,l){let c=1*this.scale,d=2*this.scale,h=l?1:d;if(t+c>e.width||i+h>e.height){console.warn("bad render request outside image data");return}let u=e.width*4,f=.5*(r/255),p=s.r,b=s.g,v=s.b,y=n.r-p,w=n.g-b,S=n.b-v,x=p+y*f,k=b+w*f,R=v+S*f,O=Math.max(r,a),N=e.data,W=i*u+t*4;for(let G=0;G<h;G++){let Y=W;for(let te=0;te<c;te++)N[Y++]=x,N[Y++]=k,N[Y++]=R,N[Y++]=O;W+=u}}};Em();var oK={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},rK=o=>{let e=new Uint8ClampedArray(o.length/2);for(let t=0;t<o.length;t+=2)e[t>>1]=oK[o[t]]<<4|oK[o[t+1]]&15;return e},$2={1:ra(()=>rK("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:ra(()=>rK("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};z0();var Pp=class{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let i;return $2[e]?i=new Np($2[e](),e):i=Pp.createFromSampleData(Pp.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=i,i}static createSampleData(e){let t=document.createElement("canvas"),i=t.getContext("2d");t.style.height=`${16}px`,t.height=16,t.width=96*10,t.style.width=96*10+"px",i.fillStyle="#ffffff",i.font=`bold ${16}px ${e}`,i.textBaseline="middle";let n=0;for(let r of iK)i.fillText(String.fromCharCode(r),n,16/2),n+=10;return i.getImageData(0,0,96*10,16)}static createFromSampleData(e,t){let i=16*10*4*96;if(e.length!==i)throw new Error("Unexpected source in MinimapCharRenderer");let n=Pp._downsample(e,t);return new Np(n,t)}static _downsampleChar(e,t,i,n,r){let s=1*r,a=2*r,l=n,c=0;for(let d=0;d<a;d++){let h=d/a*16,u=(d+1)/a*16;for(let f=0;f<s;f++){let p=f/s*10,b=(f+1)/s*10,v=0,y=0;for(let S=h;S<u;S++){let x=t+Math.floor(S)*3840,k=1-(S-Math.floor(S));for(let R=p;R<b;R++){let O=1-(R-Math.floor(R)),N=x+Math.floor(R)*4,W=O*k;y+=W,v+=e[N]*e[N+3]/255*W}}let w=v/y;c=Math.max(c,w),i[l++]=qm(w)}}return c}static _downsample(e,t){let i=2*t*1*t,n=i*96,r=new Uint8ClampedArray(n),s=0,a=0,l=0;for(let c=0;c<96;c++)l=Math.max(l,this._downsampleChar(e,a,r,s,t)),s+=i,a+=10*4;if(l>0){let c=255/l;for(let d=0;d<n;d++)r[d]*=c}return r}};Os();Em();var The=140,Nhe=2,rw=class{constructor(e,t,i){let n=e.options,r=n.get(128),s=n.get(130),a=s.minimap,l=n.get(43),c=n.get(64);this.renderMinimap=a.renderMinimap,this.size=c.size,this.minimapHeightIsEditorHeight=a.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=n.get(93),this.showSlider=c.showSlider,this.pixelRatio=r,this.typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this.lineHeight=n.get(58),this.minimapLeft=a.minimapLeft,this.minimapWidth=a.minimapWidth,this.minimapHeight=s.height,this.canvasInnerWidth=a.minimapCanvasInnerWidth,this.canvasInnerHeight=a.minimapCanvasInnerHeight,this.canvasOuterWidth=a.minimapCanvasOuterWidth,this.canvasOuterHeight=a.minimapCanvasOuterHeight,this.isSampling=a.minimapIsSampling,this.editorHeight=s.height,this.fontScale=a.minimapScale,this.minimapLineHeight=a.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=ra(()=>Pp.create(this.fontScale,l.fontFamily)),this.defaultBackgroundColor=i.getColor(2),this.backgroundColor=rw._getMinimapBackground(t,this.defaultBackgroundColor),this.foregroundAlpha=rw._getMinimapForegroundOpacity(t)}static _getMinimapBackground(e,t){let i=e.getColor(jV);return i?new fs(i.rgba.r,i.rgba.g,i.rgba.b,Math.round(255*i.rgba.a)):t}static _getMinimapForegroundOpacity(e){let t=e.getColor(WV);return t?fs._clamp(Math.round(255*t.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}},sw=class{constructor(e,t,i,n,r,s,a,l){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=i,this._computedSliderRatio=n,this.sliderTop=r,this.sliderHeight=s,this.startLineNumber=a,this.endLineNumber=l}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}static create(e,t,i,n,r,s,a,l,c,d,h){let u=e.pixelRatio,f=e.minimapLineHeight,p=Math.floor(e.canvasInnerHeight/f),b=e.lineHeight;if(e.minimapHeightIsEditorHeight){let k=l*e.lineHeight+(e.scrollBeyondLastLine?r-e.lineHeight:0),R=Math.max(1,Math.floor(r*r/k)),O=Math.max(0,e.minimapHeight-R),N=O/(d-r),W=c*N,G=O>0,Y=Math.floor(e.canvasInnerHeight/e.minimapLineHeight);return new sw(c,d,G,N,W,R,1,Math.min(a,Y))}let v;if(s&&i!==a){let k=i-t+1;v=Math.floor(k*f/u)}else{let k=r/b;v=Math.floor(k*f/u)}let y;e.scrollBeyondLastLine?y=(a-1)*f/u:y=Math.max(0,a*f/u-v),y=Math.min(e.minimapHeight-v,y);let w=y/(d-r),S=c*w,x=0;if(e.scrollBeyondLastLine&&(x=r/b-1),p>=a+x){let k=1,R=a,O=y>0;return new sw(c,d,O,w,S,v,k,R)}else{let k=Math.max(1,Math.floor(t-S*u/f));h&&h.scrollHeight===d&&(h.scrollTop>c&&(k=Math.min(k,h.startLineNumber)),h.scrollTop<c&&(k=Math.max(k,h.startLineNumber)));let R=Math.min(a,k+p-1),O=(c-n)/b,N=(t-k+O)*f/u;return new sw(c,d,!0,w,N,v,k,R)}}},dy=class{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}};dy.INVALID=new dy(-1);var K2=class{constructor(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new Yk(()=>dy.INVALID),this._renderedLines._set(e.startLineNumber,i)}linesEquals(e){if(!this.scrollEquals(e))return!1;let i=this._renderedLines._get().lines;for(let n=0,r=i.length;n<r;n++)if(i[n].dy===-1)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){let e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}},Gk=class{constructor(e,t,i,n){this._backgroundFillData=Gk._createBackgroundFillData(t,i,n),this._buffers=[e.createImageData(t,i),e.createImageData(t,i)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;let e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,i){let n=i.r,r=i.g,s=i.b,a=i.a,l=new Uint8ClampedArray(e*t*4),c=0;for(let d=0;d<t;d++)for(let h=0;h<e;h++)l[c]=n,l[c+1]=r,l[c+2]=s,l[c+3]=a,c+=4;return l}},aw=class{constructor(e,t){this.samplingRatio=e,this.minimapLines=t}static compute(e,t,i){if(e.renderMinimap===0||!e.isSampling)return[null,[]];let n=e.pixelRatio,r=e.lineHeight,s=e.scrollBeyondLastLine,{minimapLineCount:a}=Cf.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:s,height:e.editorHeight,lineHeight:r,pixelRatio:n}),l=t/a,c=l/2;if(!i||i.minimapLines.length===0){let S=[];if(S[0]=1,a>1){for(let x=0,k=a-1;x<k;x++)S[x]=Math.round(x*l+c);S[a-1]=t}return[new aw(l,S),[]]}let d=i.minimapLines,h=d.length,u=[],f=0,p=0,b=1,v=10,y=[],w=null;for(let S=0;S<a;S++){let x=Math.max(b,Math.round(S*l)),k=Math.max(x,Math.round((S+1)*l));for(;f<h&&d[f]<x;){if(y.length<v){let O=f+1+p;w&&w.type==="deleted"&&w._oldIndex===f-1?w.deleteToLineNumber++:(w={type:"deleted",_oldIndex:f,deleteFromLineNumber:O,deleteToLineNumber:O},y.push(w)),p--}f++}let R;if(f<h&&d[f]<=k)R=d[f],f++;else if(S===0?R=1:S+1===a?R=t:R=Math.round(S*l+c),y.length<v){let O=f+1+p;w&&w.type==="inserted"&&w._i===S-1?w.insertToLineNumber++:(w={type:"inserted",_i:S,insertFromLineNumber:O,insertToLineNumber:O},y.push(w)),p++}u[S]=R,b=R}if(y.length<v)for(;f<h;){let S=f+1+p;w&&w.type==="deleted"&&w._oldIndex===f-1?w.deleteToLineNumber++:(w={type:"deleted",_oldIndex:f,deleteFromLineNumber:S,deleteToLineNumber:S},y.push(w)),p--,f++}else y=[{type:"flush"}];return[new aw(l,u),y]}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e)-1;for(;i>0&&this.minimapLines[i-1]>=e;)i--;let n=this.modelLineToMinimapLine(t)-1;for(;n+1<this.minimapLines.length&&this.minimapLines[n+1]<=t;)n++;if(i===n){let r=this.minimapLines[i];if(r<e||r>t)return null}return[i+1,n+1]}decorationLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e),n=this.modelLineToMinimapLine(t);return e!==t&&n===i&&(n===this.minimapLines.length?i>1&&i--:n++),[i,n]}onLinesDeleted(e){let t=e.toLineNumber-e.fromLineNumber+1,i=this.minimapLines.length,n=0;for(let r=this.minimapLines.length-1;r>=0&&!(this.minimapLines[r]<e.fromLineNumber);r--)this.minimapLines[r]<=e.toLineNumber?(this.minimapLines[r]=Math.max(1,e.fromLineNumber-1),i=Math.min(i,r),n=Math.max(n,r)):this.minimapLines[r]-=t;return[i,n]}onLinesInserted(e){let t=e.toLineNumber-e.fromLineNumber+1;for(let i=this.minimapLines.length-1;i>=0&&!(this.minimapLines[i]<e.fromLineNumber);i--)this.minimapLines[i]+=t}},Y2=class extends En{constructor(e){super(e);this.tokensColorTracker=bg.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new rw(this._context.configuration,this._context.theme,this.tokensColorTracker);let[t]=aw.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new hy(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){let e=new rw(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(e)?!1:(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return e.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){let t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.toLineNumber);return t?this._actual.onLinesChanged(t[0],t[1]):!1}else return this._actual.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){if(this._samplingState){let[t,i]=this._samplingState.onLinesDeleted(e);return t<=i&&this._actual.onLinesChanged(t+1,i+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){let t=[];for(let i of e.ranges){let n=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.toLineNumber);n&&t.push({fromLineNumber:n[0],toLineNumber:n[1]})}return t.length?this._actual.onTokensChanged(t):!1}else return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),i=this._samplingState.modelLineToMinimapLine(i));let n={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:i,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(t),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(n)}_recreateLineSampling(){this._minimapSelections=null;let e=Boolean(this._samplingState),[t,i]=aw.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(let n of i)switch(n.type){case"deleted":this._actual.onLinesDeleted(n.deleteFromLineNumber,n.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(n.insertFromLineNumber,n.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(e){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[e-1]):this._context.model.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.model.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.model.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,t,i){if(this._samplingState){let n=[];for(let r=0,s=t-e+1;r<s;r++)i[r]?n[r]=this._context.model.getViewLineData(this._samplingState.minimapLines[e+r-1]):n[r]=null;return n}return this._context.model.getMinimapLinesRenderingData(e,t,i).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(let e of this._selections){let[t,i]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new de(t,e.startColumn,i,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){let i;if(this._samplingState){let r=this._samplingState.minimapLines[e-1],s=this._samplingState.minimapLines[t-1];i=new D(r,1,s,this._context.model.getLineMaxColumn(s))}else i=new D(e,1,t,this._context.model.getLineMaxColumn(t));let n=this._context.model.getDecorationsInViewport(i);if(this._samplingState){let r=[];for(let s of n){if(!s.options.minimap)continue;let a=s.range,l=this._samplingState.modelLineToMinimapLine(a.startLineNumber),c=this._samplingState.modelLineToMinimapLine(a.endLineNumber);r.push(new G0(new D(l,a.startColumn,c,a.endColumn),s.options))}return r}return n}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.model.revealRange("mouse",!1,new D(e,1,e,1),1,0)}setScrollTop(e){this._context.model.setScrollPosition({scrollTop:e},1)}},hy=class extends ${constructor(e,t){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(rA),this._domNode=mt(document.createElement("div")),gr.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=mt(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=mt(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=mt(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=mt(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=mt(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=Ni(this._domNode.domNode,"mousedown",i=>{if(i.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(i.leftButton&&this._lastRenderData){let c=Gi(this._slider.domNode),d=c.top+c.height/2;this._startSliderDragging(i.buttons,i.posx,d,i.posy,this._lastRenderData.renderedLayout)}return}let r=this._model.options.minimapLineHeight,s=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*i.browserEvent.offsetY,l=Math.floor(s/r)+this._lastRenderData.renderedLayout.startLineNumber;l=Math.min(l,this._model.getLineCount()),this._model.revealLineNumber(l)}),this._sliderMouseMoveMonitor=new ua,this._sliderMouseDownListener=Ni(this._slider.domNode,"mousedown",i=>{i.preventDefault(),i.stopPropagation(),i.leftButton&&this._lastRenderData&&this._startSliderDragging(i.buttons,i.posx,i.posy,i.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=Bt.addTarget(this._domNode.domNode),this._sliderTouchStartListener=oe(this._domNode.domNode,ei.Start,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(i))},{passive:!1}),this._sliderTouchMoveListener=oe(this._domNode.domNode,ei.Change,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(i)},{passive:!1}),this._sliderTouchEndListener=Ni(this._domNode.domNode,ei.End,i=>{i.preventDefault(),i.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,t,i,n,r){this._slider.toggleClassName("active",!0);let s=(a,l)=>{let c=Math.abs(l-t);if(Mi&&c>The){this._model.setScrollTop(r.scrollTop);return}let d=a-i;this._model.setScrollTop(r.getDesiredScrollTopFromDelta(d))};n!==i&&s(n,t),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,e,Oc,a=>s(a.posy,a.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){let t=this._domNode.domNode.getBoundingClientRect().top,i=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(i)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new Gk(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return this._lastRenderData?this._lastRenderData.onLinesChanged(e,t):!1}onLinesDeleted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e,t),!0}onLinesInserted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(rA),this._renderDecorations=!0,!0}onTokensChanged(e){return this._lastRenderData?this._lastRenderData.onTokensChanged(e):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");let i=sw.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(i.sliderNeeded?"block":"none"),this._slider.setTop(i.sliderTop),this._slider.setHeight(i.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(i.sliderHeight),this.renderDecorations(i),this._lastRenderData=this.renderLines(i)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;let t=this._model.getSelections();t.sort(D.compareRangesUsingStarts);let i=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);i.sort((u,f)=>(u.options.zIndex||0)-(f.options.zIndex||0));let{canvasInnerWidth:n,canvasInnerHeight:r}=this._model.options,s=this._model.options.minimapLineHeight,a=this._model.options.minimapCharWidth,l=this._model.getOptions().tabSize,c=this._decorationsCanvas.domNode.getContext("2d");c.clearRect(0,0,n,r);let d=new q2(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(c,t,d,e,s),this._renderDecorationsLineHighlights(c,i,d,e,s);let h=new q2(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(c,t,h,e,s,l,a,n),this._renderDecorationsHighlights(c,i,h,e,s,l,a,n)}}_renderSelectionLineHighlights(e,t,i,n,r){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let s=0,a=0;for(let l of t){let c=Math.max(n.startLineNumber,l.startLineNumber),d=Math.min(n.endLineNumber,l.endLineNumber);if(c>d)continue;for(let f=c;f<=d;f++)i.set(f,!0);let h=(c-n.startLineNumber)*r,u=(d-n.startLineNumber)*r+r;a>=h||(a>s&&e.fillRect(Ph,s,e.canvas.width,a-s),s=h),a=u}a>s&&e.fillRect(Ph,s,e.canvas.width,a-s)}_renderDecorationsLineHighlights(e,t,i,n,r){let s=new Map;for(let a=t.length-1;a>=0;a--){let l=t[a],c=l.options.minimap;if(!c||c.position!==To.Inline)continue;let d=Math.max(n.startLineNumber,l.range.startLineNumber),h=Math.min(n.endLineNumber,l.range.endLineNumber);if(d>h)continue;let u=c.getColor(this._theme);if(!u||u.isTransparent())continue;let f=s.get(u.toString());f||(f=u.transparent(.5).toString(),s.set(u.toString(),f)),e.fillStyle=f;for(let p=d;p<=h;p++){if(i.has(p))continue;i.set(p,!0);let b=(d-n.startLineNumber)*r;e.fillRect(Ph,b,e.canvas.width,r)}}}_renderSelectionsHighlights(e,t,i,n,r,s,a,l){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(let c of t){let d=Math.max(n.startLineNumber,c.startLineNumber),h=Math.min(n.endLineNumber,c.endLineNumber);if(!(d>h))for(let u=d;u<=h;u++)this.renderDecorationOnLine(e,i,c,this._selectionColor,n,u,r,r,s,a,l)}}_renderDecorationsHighlights(e,t,i,n,r,s,a,l){for(let c of t){let d=c.options.minimap;if(!d)continue;let h=Math.max(n.startLineNumber,c.range.startLineNumber),u=Math.min(n.endLineNumber,c.range.endLineNumber);if(h>u)continue;let f=d.getColor(this._theme);if(!(!f||f.isTransparent()))for(let p=h;p<=u;p++)switch(d.position){case To.Inline:this.renderDecorationOnLine(e,i,c.range,f,n,p,r,r,s,a,l);continue;case To.Gutter:let b=(p-n.startLineNumber)*r,v=2;this.renderDecoration(e,f,v,b,Nhe,r);continue}}}renderDecorationOnLine(e,t,i,n,r,s,a,l,c,d,h){let u=(s-r.startLineNumber)*l;if(u+a<0||u>this._model.options.canvasInnerHeight)return;let{startLineNumber:f,endLineNumber:p}=i,b=f===s?i.startColumn:1,v=p===s?i.endColumn:this._model.getLineMaxColumn(s),y=this.getXOffsetForPosition(t,s,b,c,d,h),w=this.getXOffsetForPosition(t,s,v,c,d,h);this.renderDecoration(e,n,y,u,w-y,a)}getXOffsetForPosition(e,t,i,n,r,s){if(i===1)return Ph;if((i-1)*r>=s)return s;let l=e.get(t);if(!l){let c=this._model.getLineContent(t);l=[Ph];let d=Ph;for(let h=1;h<c.length+1;h++){let u=c.charCodeAt(h-1),f=u===9?n*r:Ls(u)?2*r:r,p=d+f;if(p>=s){l[h]=s;break}l[h]=p,d=p}e.set(t,l)}return i-1<l.length?l[i-1]:s}renderDecoration(e,t,i,n,r,s){e.fillStyle=t&&t.toString()||"",e.fillRect(i,n,r,s)}renderLines(e){let t=e.startLineNumber,i=e.endLineNumber,n=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){let Ne=this._lastRenderData._get();return new K2(e,Ne.imageData,Ne.lines)}let r=this._getBuffer();if(!r)return null;let[s,a,l]=hy._renderUntouchedLines(r,t,i,n,this._lastRenderData),c=this._model.getMinimapLinesRenderingData(t,i,l),d=this._model.getOptions().tabSize,h=this._model.options.defaultBackgroundColor,u=this._model.options.backgroundColor,f=this._model.options.foregroundAlpha,p=this._model.tokensColorTracker,b=p.backgroundIsLight(),v=this._model.options.renderMinimap,y=this._model.options.charRenderer(),w=this._model.options.fontScale,S=this._model.options.minimapCharWidth,k=(v===1?2:2+1)*w,R=n>k?Math.floor((n-k)/2):0,O=u.a/255,N=new fs(Math.round((u.r-h.r)*O+h.r),Math.round((u.g-h.g)*O+h.g),Math.round((u.b-h.b)*O+h.b),255),W=0,G=[];for(let Ne=0,Ae=i-t+1;Ne<Ae;Ne++)l[Ne]&&hy._renderLine(r,N,u.a,b,v,S,p,f,y,W,R,d,c[Ne],w,n),G[Ne]=new dy(W),W+=n;let Y=s===-1?0:s,re=(a===-1?r.height:a)-Y;return this._canvas.domNode.getContext("2d").putImageData(r,0,0,0,Y,r.width,re),new K2(e,r,G)}static _renderUntouchedLines(e,t,i,n,r){let s=[];if(!r){for(let N=0,W=i-t+1;N<W;N++)s[N]=!0;return[-1,-1,s]}let a=r._get(),l=a.imageData.data,c=a.rendLineNumberStart,d=a.lines,h=d.length,u=e.width,f=e.data,p=(i-t+1)*n*u*4,b=-1,v=-1,y=-1,w=-1,S=-1,x=-1,k=0;for(let N=t;N<=i;N++){let W=N-t,G=N-c,Y=G>=0&&G<h?d[G].dy:-1;if(Y===-1){s[W]=!0,k+=n;continue}let te=Y*u*4,re=(Y+n)*u*4,Pe=k*u*4,Ne=(k+n)*u*4;w===te&&x===Pe?(w=re,x=Ne):(y!==-1&&(f.set(l.subarray(y,w),S),b===-1&&y===0&&y===S&&(b=w),v===-1&&w===p&&y===S&&(v=y)),y=te,w=re,S=Pe,x=Ne),s[W]=!1,k+=n}y!==-1&&(f.set(l.subarray(y,w),S),b===-1&&y===0&&y===S&&(b=w),v===-1&&w===p&&y===S&&(v=y));let R=b===-1?-1:b/(u*4),O=v===-1?-1:v/(u*4);return[R,O,s]}static _renderLine(e,t,i,n,r,s,a,l,c,d,h,u,f,p,b){let v=f.content,y=f.tokens,w=e.width-s,S=b===1,x=Ph,k=0,R=0;for(let O=0,N=y.getCount();O<N;O++){let W=y.getEndOffset(O),G=y.getForeground(O),Y=a.getColor(G);for(;k<W;k++){if(x>w)return;let te=v.charCodeAt(k);if(te===9){let re=u-(k+R)%u;R+=re-1,x+=re*s}else if(te===32)x+=s;else{let re=Ls(te)?2:1;for(let Pe=0;Pe<re;Pe++)if(r===2?c.blockRenderChar(e,x,d+h,Y,l,t,i,S):c.renderChar(e,x,d+h,te,Y,l,t,i,p,n,S),x+=s,x>w)return}}}}},q2=class{constructor(e,t,i){this._startLineNumber=e,this._endLineNumber=t,this._defaultValue=i,this._values=[];for(let n=0,r=this._endLineNumber-this._startLineNumber+1;n<r;n++)this._values[n]=i}has(e){return this.get(e)!==this._defaultValue}set(e,t){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=t)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}};gt((o,e)=>{let t=o.getColor(zV);t&&e.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${t}; }`);let i=o.getColor(VV);i&&e.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${i}; }`);let n=o.getColor(HV);n&&e.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${n}; }`);let r=o.getColor(Ul);r&&e.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${r} -6px 0 6px -6px inset; }`)});var Z2=class extends En{constructor(e){super(e);let i=this._context.configuration.options.get(130);this._widgets={},this._verticalScrollbarWidth=i.verticalScrollbarWidth,this._minimapWidth=i.minimap.minimapWidth,this._horizontalScrollbarHeight=i.horizontalScrollbarHeight,this._editorHeight=i.height,this._editorWidth=i.width,this._domNode=mt(document.createElement("div")),gr.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){let i=this._context.configuration.options.get(130);return this._verticalScrollbarWidth=i.verticalScrollbarWidth,this._minimapWidth=i.minimap.minimapWidth,this._horizontalScrollbarHeight=i.horizontalScrollbarHeight,this._editorHeight=i.height,this._editorWidth=i.width,!0}addWidget(e){let t=mt(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){let i=this._widgets[e.getId()];return i.preference===t?!1:(i.preference=t,this.setShouldRender(),!0)}removeWidget(e){let t=e.getId();if(this._widgets.hasOwnProperty(t)){let n=this._widgets[t].domNode.domNode;delete this._widgets[t],n.parentNode.removeChild(n),this.setShouldRender()}}_renderWidget(e){let t=e.domNode;if(e.preference===null){t.unsetTop();return}if(e.preference===0)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(e.preference===1){let i=t.domNode.clientHeight;t.setTop(this._editorHeight-i-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else e.preference===2&&(t.setTop(0),t.domNode.style.right="50%")}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);let t=Object.keys(this._widgets);for(let i=0,n=t.length;i<n;i++){let r=t[i];this._renderWidget(this._widgets[r])}}};Yn();ot();Tt();Ws();var sK=class{constructor(e,t){let i=e.options;this.lineHeight=i.get(58),this.pixelRatio=i.get(128),this.overviewRulerLanes=i.get(73),this.renderBorder=i.get(72);let n=t.getColor(e$);this.borderColor=n?n.toString():null,this.hideCursor=i.get(51);let r=t.getColor(xk);this.cursorColor=r?r.transparent(.7).toString():null,this.themeType=t.type;let s=i.get(64),a=s.enabled,l=s.side,c=a?t.getColor(t$)||Li.getDefaultBackground():null;c===null||l==="left"?this.backgroundColor=null:this.backgroundColor=Z.Format.CSS.formatHex(c);let h=i.get(130).overviewRuler;this.top=h.top,this.right=h.right,this.domWidth=h.width,this.domHeight=h.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);let[u,f]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=u,this.w=f}_initLanes(e,t,i){let n=t-e;if(i>=3){let r=Math.floor(n/3),s=Math.floor(n/3),a=n-r-s,l=e,c=l+r,d=l+r+a;return[[0,l,c,l,d,l,c,l],[0,r,a,r+a,s,r+a+s,a+s,r+a+s]]}else if(i===2){let r=Math.floor(n/2),s=n-r,a=e,l=a+r;return[[0,a,a,a,l,a,a,a],[0,r,r,r,s,r+s,r+s,r+s]]}else{let r=e,s=n;return[[0,r,r,r,r,r,r,r],[0,s,s,s,s,s,s,s]]}}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}},G2=class extends En{constructor(e){super(e);this._domNode=mt(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Li.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){let t=new sK(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,i=e.selections.length;t<i;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(H.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");return}let e=this._settings.canvasWidth,t=this._settings.canvasHeight,i=this._settings.lineHeight,n=this._context.viewLayout,r=this._context.viewLayout.getScrollHeight(),s=t/r,a=this._context.model.getAllOverviewRulerDecorations(this._context.theme),l=6*this._settings.pixelRatio|0,c=l/2|0,d=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?d.clearRect(0,0,e,t):(d.fillStyle=this._settings.backgroundColor,d.fillRect(0,0,e,t));let h=this._settings.x,u=this._settings.w;a.sort(X0.cmp);for(let f of a){let p=f.color,b=f.data;d.fillStyle=p;let v=0,y=0,w=0;for(let S=0,x=b.length/3;S<x;S++){let k=b[3*S],R=b[3*S+1],O=b[3*S+2],N=n.getVerticalOffsetForLineNumber(R)*s|0,W=(n.getVerticalOffsetForLineNumber(O)+i)*s|0;if(W-N<l){let Y=(N+W)/2|0;Y<c?Y=c:Y+c>t&&(Y=t-c),N=Y-c,W=Y+c}N>w+1||k!==v?(S!==0&&d.fillRect(h[v],y,u[v],w-y),v=k,y=N,w=W):W>w&&(w=W)}d.fillRect(h[v],y,u[v],w-y)}if(!this._settings.hideCursor&&this._settings.cursorColor){let f=2*this._settings.pixelRatio|0,p=f/2|0,b=this._settings.x[7],v=this._settings.w[7];d.fillStyle=this._settings.cursorColor;let y=-100,w=-100;for(let S=0,x=this._cursorPositions.length;S<x;S++){let k=this._cursorPositions[S],R=n.getVerticalOffsetForLineNumber(k.lineNumber)*s|0;R<p?R=p:R+p>t&&(R=t-p);let O=R-p,N=O+f;O>w+1?(S!==0&&d.fillRect(b,y,v,w-y),y=O,w=N):N>w&&(w=N)}d.fillRect(b,y,v,w-y)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(d.beginPath(),d.lineWidth=1,d.strokeStyle=this._settings.borderColor,d.moveTo(0,0),d.lineTo(0,t),d.stroke(),d.moveTo(0,0),d.lineTo(e,0),d.stroke())}};var X2=class{constructor(e,t,i){this._colorZoneBrand=void 0,this.from=e|0,this.to=t|0,this.colorId=i|0}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}},Rp=class{constructor(e,t,i){this._overviewRulerZoneBrand=void 0,this.startLineNumber=e,this.endLineNumber=t,this.color=i,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}},Q2=class{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(Rp.compare)}setLineHeight(e){return this._lineHeight===e?!1:(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth===e?!1:(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight===e?!1:(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight===e?!1:(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){let e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),i=Math.floor(this.getCanvasHeight()),n=Math.floor(this._outerHeight),r=i/n,s=Math.floor(4*this._pixelRatio/2),a=[];for(let l=0,c=this._zones.length;l<c;l++){let d=this._zones[l];if(!e){let w=d.getColorZones();if(w){a.push(w);continue}}let h=Math.floor(r*this._getVerticalOffsetForLine(d.startLineNumber)),u=Math.floor(r*(this._getVerticalOffsetForLine(d.endLineNumber)+t)),f=Math.floor((h+u)/2),p=u-f;p<s&&(p=s),f-p<0&&(f=p),f+p>i&&(f=i-p);let b=d.color,v=this._color2Id[b];v||(v=++this._lastAssignedId,this._color2Id[b]=v,this._id2Color[v]=b);let y=new X2(f-p,f+p,v);d.setColorZone(y),a.push(y)}return this._colorZonesInvalid=!1,a.sort(X2.compare),a}};var J2=class extends Pc{constructor(e,t){super();this._context=e;let i=this._context.configuration.options;this._domNode=mt(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new Q2(n=>this._context.viewLayout.getVerticalOffsetForLineNumber(n)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(58)),this._zoneManager.setPixelRatio(i.get(128)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){let t=this._context.configuration.options;return e.hasChanged(58)&&(this._zoneManager.setLineHeight(t.get(58)),this._render()),e.hasChanged(128)&&(this._zoneManager.setPixelRatio(t.get(128)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;let e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),n=this._zoneManager.getId2Color(),r=this._domNode.domNode.getContext("2d");return r.clearRect(0,0,e,t),i.length>0&&this._renderOneLane(r,i,n,e),!0}_renderOneLane(e,t,i,n){let r=0,s=0,a=0;for(let l of t){let c=l.colorId,d=l.from,h=l.to;c!==r?(e.fillRect(0,s,n,a-s),r=c,e.fillStyle=i[r],s=d,a=h):a>=d?a=Math.max(a,h):(e.fillRect(0,s,n,a-s),s=d,a=h)}e.fillRect(0,s,n,a-s)}};Ws();dt();var e4=class extends En{constructor(e){super(e);this.domNode=mt(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];let t=this._context.configuration.options;this._rulers=t.get(90),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){let t=this._context.configuration.options;return this._rulers=t.get(90),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){let e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){let{tabSize:n}=this._context.model.getTextModelOptions(),r=n,s=t-e;for(;s>0;){let a=mt(document.createElement("div"));a.setClassName("view-ruler"),a.setWidth(r),this.domNode.appendChild(a),this._renderedRulers.push(a),s--}return}let i=e-t;for(;i>0;){let n=this._renderedRulers.pop();this.domNode.removeChild(n),i--}}render(e){this._ensureRulersCount();for(let t=0,i=this._rulers.length;t<i;t++){let n=this._renderedRulers[t],r=this._rulers[t];n.setBoxShadow(r.color?`1px 0 0 0 ${r.color} inset`:""),n.setHeight(Math.min(e.scrollHeight,1e6)),n.setLeft(r.column*this._typicalHalfwidthCharacterWidth)}}};gt((o,e)=>{let t=o.getColor(QH);t&&e.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${t} inset; }`)});yi();dt();var t4=class extends En{constructor(e){super(e);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;let i=this._context.configuration.options.get(91);this._useShadows=i.useShadows,this._domNode=mt(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){let e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e?(this._shouldShow=e,!0):!1}getDomNode(){return this._domNode}_updateWidth(){let t=this._context.configuration.options.get(130);t.minimap.renderMinimap===0||t.minimap.minimapWidth>0&&t.minimap.minimapLeft===0?this._width=t.width:this._width=t.width-t.minimap.minimapWidth-t.verticalScrollbarWidth}onConfigurationChanged(e){let i=this._context.configuration.options.get(91);return this._useShadows=i.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}};gt((o,e)=>{let t=o.getColor(Ul);t&&e.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${t} 0 6px 6px -6px inset; }`)});yi();dt();var aK=class{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}},lK=class{constructor(e,t){this.lineNumber=e,this.ranges=t}};function Phe(o){return new aK(o)}function Rhe(o){return new lK(o.lineNumber,o.ranges.map(Phe))}var pn=class extends Ga{constructor(e){super();this._previousFrameVisibleRangesWithStyle=[],this._context=e;let t=this._context.configuration.options;this._lineHeight=t.get(58),this._roundedSelection=t.get(89),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){let t=this._context.configuration.options;return this._lineHeight=t.get(58),this._roundedSelection=t.get(89),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,i=e.length;t<i;t++)if(e[t].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(e,t,i){let n=this._typicalHalfwidthCharacterWidth/4,r=null,s=null;if(i&&i.length>0&&t.length>0){let a=t[0].lineNumber;if(a===e.startLineNumber)for(let c=0;!r&&c<i.length;c++)i[c].lineNumber===a&&(r=i[c].ranges[0]);let l=t[t.length-1].lineNumber;if(l===e.endLineNumber)for(let c=i.length-1;!s&&c>=0;c--)i[c].lineNumber===l&&(s=i[c].ranges[0]);r&&!r.startStyle&&(r=null),s&&!s.startStyle&&(s=null)}for(let a=0,l=t.length;a<l;a++){let c=t[a].ranges[0],d=c.left,h=c.left+c.width,u={top:0,bottom:0},f={top:0,bottom:0};if(a>0){let p=t[a-1].ranges[0].left,b=t[a-1].ranges[0].left+t[a-1].ranges[0].width;Xk(d-p)<n?u.top=2:d>p&&(u.top=1),Xk(h-b)<n?f.top=2:p<h&&h<b&&(f.top=1)}else r&&(u.top=r.startStyle.top,f.top=r.endStyle.top);if(a+1<l){let p=t[a+1].ranges[0].left,b=t[a+1].ranges[0].left+t[a+1].ranges[0].width;Xk(d-p)<n?u.bottom=2:p<d&&d<b&&(u.bottom=1),Xk(h-b)<n?f.bottom=2:h<b&&(f.bottom=1)}else s&&(u.bottom=s.startStyle.bottom,f.bottom=s.endStyle.bottom);c.startStyle=u,c.endStyle=f}}_getVisibleRangesWithStyle(e,t,i){let r=(t.linesVisibleRangesForRange(e,!0)||[]).map(Rhe);return!this._visibleRangesHaveGaps(r)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,r,i),r}_createSelectionPiece(e,t,i,n,r){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;left:"+n.toString()+"px;width:"+r.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(e,t,i,n){if(n.length===0)return;let r=!!n[0].ranges[0].startStyle,s=this._lineHeight.toString(),a=(this._lineHeight-1).toString(),l=n[0].lineNumber,c=n[n.length-1].lineNumber;for(let d=0,h=n.length;d<h;d++){let u=n[d],f=u.lineNumber,p=f-t,b=i&&(f===c||f===l)?a:s,v=i&&f===l?1:0,y="",w="";for(let S=0,x=u.ranges.length;S<x;S++){let k=u.ranges[S];if(r){let O=k.startStyle,N=k.endStyle;if(O.top===1||O.bottom===1){y+=this._createSelectionPiece(v,b,pn.SELECTION_CLASS_NAME,k.left-pn.ROUNDED_PIECE_WIDTH,pn.ROUNDED_PIECE_WIDTH);let W=pn.EDITOR_BACKGROUND_CLASS_NAME;O.top===1&&(W+=" "+pn.SELECTION_TOP_RIGHT),O.bottom===1&&(W+=" "+pn.SELECTION_BOTTOM_RIGHT),y+=this._createSelectionPiece(v,b,W,k.left-pn.ROUNDED_PIECE_WIDTH,pn.ROUNDED_PIECE_WIDTH)}if(N.top===1||N.bottom===1){y+=this._createSelectionPiece(v,b,pn.SELECTION_CLASS_NAME,k.left+k.width,pn.ROUNDED_PIECE_WIDTH);let W=pn.EDITOR_BACKGROUND_CLASS_NAME;N.top===1&&(W+=" "+pn.SELECTION_TOP_LEFT),N.bottom===1&&(W+=" "+pn.SELECTION_BOTTOM_LEFT),y+=this._createSelectionPiece(v,b,W,k.left+k.width,pn.ROUNDED_PIECE_WIDTH)}}let R=pn.SELECTION_CLASS_NAME;if(r){let O=k.startStyle,N=k.endStyle;O.top===0&&(R+=" "+pn.SELECTION_TOP_LEFT),O.bottom===0&&(R+=" "+pn.SELECTION_BOTTOM_LEFT),N.top===0&&(R+=" "+pn.SELECTION_TOP_RIGHT),N.bottom===0&&(R+=" "+pn.SELECTION_BOTTOM_RIGHT)}w+=this._createSelectionPiece(v,b,R,k.left,k.width)}e[p][0]+=y,e[p][1]+=w}}prepareRender(e){let t=[],i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber;for(let s=i;s<=n;s++){let a=s-i;t[a]=["",""]}let r=[];for(let s=0,a=this._selections.length;s<a;s++){let l=this._selections[s];if(l.isEmpty()){r[s]=null;continue}let c=this._getVisibleRangesWithStyle(l,e,this._previousFrameVisibleRangesWithStyle[s]);r[s]=c,this._actualRenderOneSelection(t,i,this._selections.length>1,c)}this._previousFrameVisibleRangesWithStyle=r,this._renderResult=t.map(([s,a])=>s+a)}render(e,t){if(!this._renderResult)return"";let i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}};pn.SELECTION_CLASS_NAME="selected-text";pn.SELECTION_TOP_LEFT="top-left-radius";pn.SELECTION_BOTTOM_LEFT="bottom-left-radius";pn.SELECTION_TOP_RIGHT="top-right-radius";pn.SELECTION_BOTTOM_RIGHT="bottom-right-radius";pn.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background";pn.ROUNDED_PIECE_WIDTH=10;gt((o,e)=>{let t=o.getColor(Fd);t&&e.addRule(`.monaco-editor .focused .selected-text { background-color: ${t}; }`);let i=o.getColor(S1);i&&e.addRule(`.monaco-editor .selected-text { background-color: ${i}; }`);let n=o.getColor(Vz);n&&!n.isTransparent()&&e.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${n}; }`)});function Xk(o){return o<0?-o:o}tt();Me();je();An();ot();ve();var i4=class{constructor(e,t,i,n,r,s){this.top=e,this.left=t,this.width=i,this.height=n,this.textContent=r,this.textContentClassName=s}},Qk=class{constructor(e){this._context=e;let t=this._context.configuration.options,i=t.get(43);this._cursorStyle=t.get(24),this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=mt(document.createElement("div")),this._domNode.setClassName(`cursor ${Fc}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),fn.applyFontInfo(this._domNode,i),this._domNode.setDisplay("none"),this._position=new H(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){let t=this._context.configuration.options,i=t.get(43);return this._cursorStyle=t.get(24),this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(27),this._typicalHalfwidthCharacterWidth),fn.applyFontInfo(this._domNode,i),!0}onCursorPositionChanged(e){return this._position=e,!0}_prepareRender(e){let t="";if(this._cursorStyle===to.Line||this._cursorStyle===to.LineThin){let u=e.visibleRangeForPosition(this._position);if(!u||u.outsideRenderedLine)return null;let f;if(this._cursorStyle===to.Line){if(f=qP(this._lineCursorWidth>0?this._lineCursorWidth:2),f>2){let v=this._context.model.getLineContent(this._position.lineNumber),y=Pm(v,this._position.column-1);t=v.substr(this._position.column-1,y)}}else f=qP(1);let p=u.left;f>=2&&p>=1&&(p-=1);let b=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;return new i4(b,p,f,this._lineHeight,t,"")}let i=this._context.model.getLineContent(this._position.lineNumber),n=Pm(i,this._position.column-1),r=e.linesVisibleRangesForRange(new D(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+n),!1);if(!r||r.length===0)return null;let s=r[0];if(s.outsideRenderedLine||s.ranges.length===0)return null;let a=s.ranges[0],l=a.width<1?this._typicalHalfwidthCharacterWidth:a.width,c="";if(this._cursorStyle===to.Block){let u=this._context.model.getViewLineData(this._position.lineNumber);t=i.substr(this._position.column-1,n);let f=u.tokens.findTokenIndexAtOffset(this._position.column-1);c=u.tokens.getClassName(f)}let d=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta,h=this._lineHeight;return(this._cursorStyle===to.Underline||this._cursorStyle===to.UnderlineThin)&&(d+=this._lineHeight-2,h=2),new i4(d,a.left,l,h,t,c)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${Fc} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}};An();Ws();dt();var Mp=class extends En{constructor(e){super(e);let t=this._context.configuration.options;this._readOnly=t.get(80),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new Qk(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=mt(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new Fi,this._cursorFlatBlinkInterval=new gd,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){let t=this._context.configuration.options;this._readOnly=t.get(80),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let i=0,n=this._secondaryCursors.length;i<n;i++)this._secondaryCursors[i].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<t.length){let i=t.length-this._secondaryCursors.length;for(let n=0;n<i;n++){let r=new Qk(this._context);this._domNode.domNode.insertBefore(r.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(r)}}else if(this._secondaryCursors.length>t.length){let i=this._secondaryCursors.length-t.length;for(let n=0;n<i;n++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let i=0;i<t.length;i++)this._secondaryCursors[i].onCursorPositionChanged(t[i])}onCursorStateChanged(e){let t=[];for(let n=0,r=e.selections.length;n<r;n++)t[n]=e.selections[n].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));let i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){let t=i=>{for(let n=0,r=e.ranges.length;n<r;n++)if(e.ranges[n].fromLineNumber<=i.lineNumber&&i.lineNumber<=e.ranges[n].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(let i of this._secondaryCursors)if(t(i.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();let e=this._getCursorBlinking(),t=e===0,i=e===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!i&&(e===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},Mp.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},Mp.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case to.Line:e+=" cursor-line-style";break;case to.Block:e+=" cursor-block-style";break;case to.Underline:e+=" cursor-underline-style";break;case to.LineThin:e+=" cursor-line-thin-style";break;case to.BlockOutline:e+=" cursor-block-outline-style";break;case to.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].prepareRender(e)}render(e){let t=[],i=0,n=this._primaryCursor.render(e);n&&(t[i++]=n);for(let r=0,s=this._secondaryCursors.length;r<s;r++){let a=this._secondaryCursors[r].render(e);a&&(t[i++]=a)}this._renderData=t}getLastRenderData(){return this._renderData}};Mp.BLINK_INTERVAL=500;gt((o,e)=>{let t=o.getColor(xk);if(t){let i=o.getColor(GH);i||(i=t.opposite()),e.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${t}; border-color: ${t}; color: ${i}; }`),o.type==="hc"&&e.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${i}; border-right: 1px solid ${i}; }`)}});st();ot();var n4=()=>{throw new Error("Invalid change accessor")},o4=class extends En{constructor(e){super(e);let t=this._context.configuration.options,i=t.get(130);this._lineHeight=t.get(58),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=mt(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=mt(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){let e=this._context.viewLayout.getWhitespaces(),t=new Map;for(let n of e)t.set(n.id,n);let i=!1;return this._context.model.changeWhitespace(n=>{let r=Object.keys(this._zones);for(let s=0,a=r.length;s<a;s++){let l=r[s],c=this._zones[l],d=this._computeWhitespaceProps(c.delegate);c.isInHiddenArea=d.isInHiddenArea;let h=t.get(l);h&&(h.afterLineNumber!==d.afterViewLineNumber||h.height!==d.heightInPx)&&(n.changeOneWhitespace(l,d.afterViewLineNumber,d.heightInPx),this._safeCallOnComputedHeight(c.delegate,d.heightInPx),i=!0)}}),i}onConfigurationChanged(e){let t=this._context.configuration.options,i=t.get(130);return this._lineHeight=t.get(58),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,e.hasChanged(58)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return typeof e.afterColumn!="undefined"?e.afterColumn:1e4}_computeWhitespaceProps(e){if(e.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t;if(typeof e.afterColumn!="undefined")t=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{let s=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new H(s,this._context.model.getModelLineMaxColumn(s))}let i;t.column===this._context.model.getModelLineMaxColumn(t.lineNumber)?i=this._context.model.validateModelPosition({lineNumber:t.lineNumber+1,column:1}):i=this._context.model.validateModelPosition({lineNumber:t.lineNumber,column:t.column+1});let n=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t),r=this._context.model.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!r,afterViewLineNumber:n.lineNumber,heightInPx:r?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.model.changeWhitespace(i=>{let n={addZone:r=>(t=!0,this._addZone(i,r)),removeZone:r=>{!r||(t=this._removeZone(i,r)||t)},layoutZone:r=>{!r||(t=this._layoutZone(i,r)||t)}};Mhe(e,n),n.addZone=n4,n.removeZone=n4,n.layoutZone=n4}),t}_addZone(e,t){let i=this._computeWhitespaceProps(t),r={whitespaceId:e.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:mt(t.domNode),marginDomNode:t.marginDomNode?mt(t.marginDomNode):null};return this._safeCallOnComputedHeight(r.delegate,i.heightInPx),r.domNode.setPosition("absolute"),r.domNode.domNode.style.width="100%",r.domNode.setDisplay("none"),r.domNode.setAttribute("monaco-view-zone",r.whitespaceId),this.domNode.appendChild(r.domNode),r.marginDomNode&&(r.marginDomNode.setPosition("absolute"),r.marginDomNode.domNode.style.width="100%",r.marginDomNode.setDisplay("none"),r.marginDomNode.setAttribute("monaco-view-zone",r.whitespaceId),this.marginDomNode.appendChild(r.marginDomNode)),this._zones[r.whitespaceId]=r,this.setShouldRender(),r.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){let i=this._zones[t];return delete this._zones[t],e.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){let i=this._zones[t],n=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=n.isInHiddenArea,e.changeOneWhitespace(i.whitespaceId,n.afterViewLineNumber,n.heightInPx),this._safeCallOnComputedHeight(i.delegate,n.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){if(this._zones.hasOwnProperty(e)){let t=this._zones[e];return Boolean(t.delegate.suppressMouseDown)}return!1}_heightInPixels(e){return typeof e.heightInPx=="number"?e.heightInPx:typeof e.heightInLines=="number"?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return typeof e.minWidthInPx=="number"?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if(typeof e.onComputedHeight=="function")try{e.onComputedHeight(t)}catch(i){ye(i)}}_safeCallOnDomNodeTop(e,t){if(typeof e.onDomNodeTop=="function")try{e.onDomNodeTop(t)}catch(i){ye(i)}}prepareRender(e){}render(e){let t=e.viewportData.whitespaceViewportData,i={},n=!1;for(let s of t)this._zones[s.id].isInHiddenArea||(i[s.id]=s,n=!0);let r=Object.keys(this._zones);for(let s=0,a=r.length;s<a;s++){let l=r[s],c=this._zones[l],d=0,h=0,u="none";i.hasOwnProperty(l)?(d=i[l].verticalOffset-e.bigNumbersDelta,h=i[l].height,u="block",c.isVisible||(c.domNode.setAttribute("monaco-visible-view-zone","true"),c.isVisible=!0),this._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(i[l].verticalOffset))):(c.isVisible&&(c.domNode.removeAttribute("monaco-visible-view-zone"),c.isVisible=!1),this._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),c.domNode.setTop(d),c.domNode.setHeight(h),c.domNode.setDisplay(u),c.marginDomNode&&(c.marginDomNode.setTop(d),c.marginDomNode.setHeight(h),c.marginDomNode.setDisplay(u))}n&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}};function Mhe(o,e){try{return o(e)}catch(t){ye(t)}}ot();ve();var cK=class{constructor(e){this._theme=e}get type(){return this._theme.type}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}},r4=class{constructor(e,t,i){this.configuration=e,this.theme=new cK(t),this.model=i,this.viewLayout=i.viewLayout}addEventHandler(e){this.model.addViewEventHandler(e)}removeEventHandler(e){this.model.removeViewEventHandler(e)}};ve();var s4=class{constructor(e,t,i,n){this.selections=e,this.startLineNumber=t.startLineNumber|0,this.endLineNumber=t.endLineNumber|0,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=t.bigNumbersDelta|0,this.whitespaceViewportData=i,this._model=n,this.visibleRange=new D(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}};dt();var a4=class extends Pc{constructor(e,t,i,n,r,s){super();this._selections=[new de(1,1,1,1)],this._renderAnimationFrame=null;let a=new C2(t,n,r,e);this._context=new r4(t,i.getColorTheme(),n),this._configPixelRatio=this._context.configuration.options.get(128),this._context.addEventHandler(this),this._register(i.onDidColorThemeChange(b=>{this._context.theme.update(b),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new m2(this._context,a,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=mt(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=mt(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=mt(document.createElement("div")),gr.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new W2(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new ow(this._context,this._linesContent),this._viewZones=new o4(this._context),this._viewParts.push(this._viewZones);let l=new G2(this._context);this._viewParts.push(l);let c=new t4(this._context);this._viewParts.push(c);let d=new E2(this._context);this._viewParts.push(d),d.addDynamicOverlay(new O2(this._context)),d.addDynamicOverlay(new pn(this._context)),d.addDynamicOverlay(new z2(this._context)),d.addDynamicOverlay(new N2(this._context));let h=new x2(this._context);this._viewParts.push(h),h.addDynamicOverlay(new T2(this._context)),h.addDynamicOverlay(new U2(this._context)),h.addDynamicOverlay(new H2(this._context)),h.addDynamicOverlay(new V2(this._context)),h.addDynamicOverlay(new Su(this._context));let u=new qd(this._context);u.getDomNode().appendChild(this._viewZones.marginDomNode),u.getDomNode().appendChild(h.getDomNode()),this._viewParts.push(u),this._contentWidgets=new D2(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new Mp(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new Z2(this._context),this._viewParts.push(this._overlayWidgets);let f=new e4(this._context);this._viewParts.push(f);let p=new Y2(this._context);if(this._viewParts.push(p),l){let b=this._scrollbar.getOverviewRulerLayoutInfo();b.parent.insertBefore(l.getDomNode(),b.insertBefore)}this._linesContent.appendChild(d.getDomNode()),this._linesContent.appendChild(f.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(u.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(c.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(p.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),s?s.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new g2(this._context,a,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{let e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new c2(e,t)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new H(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new H(e,t)))}}_applyLayout(){let t=this._context.configuration.options.get(130);this.domNode.setWidth(t.width),this.domNode.setHeight(t.height),this._overflowGuardContainer.setWidth(t.width),this._overflowGuardContainer.setHeight(t.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){let e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(127)+" "+up(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this._configPixelRatio=this._context.configuration.options.get(128),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(let e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=VP(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){Ahe(()=>this._actualRender())}_getViewPartsToRender(){let e=[],t=0;for(let i of this._viewParts)i.shouldRender()&&(e[t++]=i);return e}_actualRender(){if(!xb(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&e.length===0)return;let t=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);let i=new s4(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(i),this._viewLines.shouldRender()&&(this._viewLines.renderText(i),this._viewLines.onDidRender(),e=this._getViewPartsToRender());let n=new dA(this._context.viewLayout,i,this._viewLines);for(let r of e)r.prepareRender(n);for(let r of e)r.render(n),r.onDidRender();Math.abs(Im()-this._configPixelRatio)>.001&&this._context.configuration.updatePixelRatio()}delegateVerticalScrollbarMouseDown(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)}restoreState(e){this._context.model.setScrollPosition({scrollTop:e.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:e.scrollLeft},1)}getOffsetForColumn(e,t){let i=this._context.model.validateModelPosition({lineNumber:e,column:t}),n=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();let r=this._viewLines.visibleRangeForPosition(new H(n.lineNumber,n.column));return r?r.left:-1}getTargetAtClientPoint(e,t){let i=this._pointerHandler.getTargetAtClientPoint(e,t);return i?Ip.convertViewToModelMouseTarget(i,this._context.model.coordinatesConverter):null}createOverviewRuler(e){return new J2(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(let i of this._viewParts)i.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){let t=e.position&&e.position.range||null;if(t===null){let n=e.position?e.position.position:null;n!==null&&(t=new D(n.lineNumber,n.column,n.lineNumber,n.column))}let i=e.position?e.position.preference:null;this._contentWidgets.setWidgetPosition(e.widget,t,i),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){let t=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}};function Ahe(o){try{return o()}catch(e){ye(e)}}An();st();je();ot();ve();ai();var lw=class{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new xn(new D(1,1,1,1),0,new H(1,1),0),new xn(new D(1,1,1,1),0,new H(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){!this._trackSelection||(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new Ct(this.modelState,this.viewState)}readSelectionFromMarkers(e){let t=e.model._getTrackedRange(this._selTrackedRange);return de.fromRange(t,this.modelState.selection.getDirection())}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,i){this._setState(e,t,i)}static _validatePositionWithCache(e,t,i,n){return t.equals(i)?n:e.normalizePosition(t,2)}static _validateViewState(e,t){let i=t.position,n=t.selectionStart.getStartPosition(),r=t.selectionStart.getEndPosition(),s=e.normalizePosition(i,2),a=this._validatePositionWithCache(e,n,i,s),l=this._validatePositionWithCache(e,r,n,a);return i.equals(s)&&n.equals(a)&&r.equals(l)?t:new xn(D.fromPositions(a,l),t.selectionStartLeftoverVisibleColumns+n.column-a.column,s,t.leftoverVisibleColumns+i.column-s.column)}_setState(e,t,i){if(i&&(i=lw._validateViewState(e.viewModel,i)),t){let n=e.model.validateRange(t.selectionStart),r=t.selectionStart.equalsRange(n)?t.selectionStartLeftoverVisibleColumns:0,s=e.model.validatePosition(t.position),a=t.position.equals(s)?t.leftoverVisibleColumns:0;t=new xn(n,r,s,a)}else{if(!i)return;let n=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(i.selectionStart)),r=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(i.position));t=new xn(n,i.selectionStartLeftoverVisibleColumns,r,i.leftoverVisibleColumns)}if(i){let n=e.coordinatesConverter.validateViewRange(i.selectionStart,t.selectionStart),r=e.coordinatesConverter.validateViewPosition(i.position,t.position);i=new xn(n,t.selectionStartLeftoverVisibleColumns,r,t.leftoverVisibleColumns)}else{let n=e.coordinatesConverter.convertModelPositionToViewPosition(new H(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),r=e.coordinatesConverter.convertModelPositionToViewPosition(new H(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),s=new D(n.lineNumber,n.column,r.lineNumber,r.column),a=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);i=new xn(s,t.selectionStartLeftoverVisibleColumns,a,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=i,this._updateTrackedRange(e)}};ai();var Jk=class{constructor(e){this.context=e,this.primaryCursor=new lw(e),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].ensureValidState(this.context)}readSelectionFromMarkers(){let e=[];e[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].readSelectionFromMarkers(this.context);return e}getAll(){let e=[];e[0]=this.primaryCursor.asCursorState();for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].asCursorState();return e}getViewPositions(){let e=[];e[0]=this.primaryCursor.viewState.position;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].viewState.position;return e}getTopMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let t=0,i=this.secondaryCursors.length;t<i;t++){let n=this.secondaryCursors[t].viewState.position;n.isBefore(e)&&(e=n)}return e}getBottomMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let t=0,i=this.secondaryCursors.length;t<i;t++){let n=this.secondaryCursors[t].viewState.position;e.isBeforeOrEqual(n)&&(e=n)}return e}getSelections(){let e=[];e[0]=this.primaryCursor.modelState.selection;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].modelState.selection;return e}getViewSelections(){let e=[];e[0]=this.primaryCursor.viewState.selection;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].viewState.selection;return e}setSelections(e){this.setStates(Ct.fromModelSelections(e))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(e){e!==null&&(this.primaryCursor.setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){let t=this.secondaryCursors.length,i=e.length;if(t<i){let n=i-t;for(let r=0;r<n;r++)this._addSecondaryCursor()}else if(t>i){let n=t-i;for(let r=0;r<n;r++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let n=0;n<i;n++)this.secondaryCursors[n].setState(this.context,e[n].modelState,e[n].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new lw(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return this.secondaryCursors.length===0||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(this.context),this.secondaryCursors.splice(e,1)}_getAll(){let e=[];e[0]=this.primaryCursor;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t];return e}normalize(){if(this.secondaryCursors.length===0)return;let e=this._getAll(),t=[];for(let i=0,n=e.length;i<n;i++)t.push({index:i,selection:e[i].modelState.selection});t.sort((i,n)=>i.selection.startLineNumber===n.selection.startLineNumber?i.selection.startColumn-n.selection.startColumn:i.selection.startLineNumber-n.selection.startLineNumber);for(let i=0;i<t.length-1;i++){let n=t[i],r=t[i+1],s=n.selection,a=r.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let l;if(a.isEmpty()||s.isEmpty()?l=a.getStartPosition().isBeforeOrEqual(s.getEndPosition()):l=a.getStartPosition().isBefore(s.getEndPosition()),l){let c=n.index<r.index?i:i+1,d=n.index<r.index?i+1:i,h=t[d].index,u=t[c].index,f=t[d].selection,p=t[c].selection;if(!f.equalsSelection(p)){let b=f.plusRange(p),v=f.selectionStartLineNumber===f.startLineNumber&&f.selectionStartColumn===f.startColumn,y=p.selectionStartLineNumber===p.startLineNumber&&p.selectionStartColumn===p.startColumn,w;h===this.lastAddedCursorIndex?(w=v,this.lastAddedCursorIndex=u):w=y;let S;w?S=new de(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn):S=new de(b.endLineNumber,b.endColumn,b.startLineNumber,b.startColumn),t[c].selection=S;let x=Ct.fromModelSelection(S);e[u].setState(this.context,x.modelState,x.viewState)}for(let b of t)b.index>h&&b.index--;e.splice(h,1),t.splice(d,1),this._removeSecondaryCursor(h-1),i--}}}};ve();ai();rg();var l4=class{constructor(){this.type=0}},c4=class{constructor(){this.type=1}},d4=class{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}},h4=class{constructor(e,t){this.type=3,this.selections=e,this.modelSelections=t}},vg=class{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}},cw=class{constructor(){this.type=5}},u4=class{constructor(e){this.type=6,this.isFocused=e}},f4=class{constructor(){this.type=7}},dw=class{constructor(){this.type=8}},eI=class{constructor(e,t){this.type=9,this.fromLineNumber=e,this.toLineNumber=t}},uy=class{constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}},fy=class{constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}},Ap=class{constructor(e,t,i,n,r,s){this.type=12,this.source=e,this.range=t,this.selections=i,this.verticalType=n,this.revealHorizontal=r,this.scrollType=s}},g4=class{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}},m4=class{constructor(){this.type=14}},p4=class{constructor(e){this.type=15,this.ranges=e}},_4=class{constructor(){this.type=16}},b4=class{constructor(){this.type=17}};ne();Se();ne();var v4=class extends ${constructor(){super();this._onEvent=this._register(new F),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let t=0,i=this._outgoingEvents.length;t<i;t++)if(this._outgoingEvents[t].kind===e.kind){this._outgoingEvents[t]=this._outgoingEvents[t].merge(e);return}this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;let e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,i=this._eventHandlers.length;t<i;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new hK),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){let e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(let i of e)this._addOutgoingEvent(i);t.length>0&&this._emitMany(t)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){let e=this._viewEventQueue;this._viewEventQueue=null;let t=this._eventHandlers.slice(0);for(let i of t)i.handleEvents(e)}}},hK=class{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}},gy=class{constructor(e,t,i,n){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=i,this.contentHeight=n,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(e){return e.kind!==0?this:new gy(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}},my=class{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(e){return e.kind!==1?this:new my(this.oldHasFocus,e.hasFocus)}},py=class{constructor(e,t,i,n,r,s,a,l){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=i,this._oldScrollTop=n,this.scrollWidth=r,this.scrollLeft=s,this.scrollHeight=a,this.scrollTop=l,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(e){return e.kind!==2?this:new py(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}},tI=class{constructor(){this.kind=3}isNoOp(){return!1}merge(e){return this}};var hw=class{constructor(e,t,i,n,r,s,a){this.kind=6,this.oldSelections=e,this.selections=t,this.oldModelVersionId=i,this.modelVersionId=n,this.source=r,this.reason=s,this.reachedMaxCursorCount=a}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;let i=e.length,n=t.length;if(i!==n)return!1;for(let r=0;r<i;r++)if(!e[r].equalsSelection(t[r]))return!1;return!0}isNoOp(){return hw._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(e){return e.kind!==6?this:new hw(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}},w4=class{constructor(){this.kind=5}isNoOp(){return!1}merge(e){return this}};var iI=class{constructor(e,t){this.modelVersionId=e.getVersionId(),this.cursorState=t.getCursorStates()}equals(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,i=this.cursorState.length;t<i;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}},C4=class{constructor(e,t,i){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=i}static getAllAutoClosedCharacters(e){let t=[];for(let i of e)t=t.concat(i.getAutoClosedCharactersRanges());return t}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){let i=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);i&&e.push(i)}return e}isValid(e){let t=[];for(let i=0;i<this._autoClosedEnclosingDecorations.length;i++){let n=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[i]);if(n&&(t.push(n),n.startLineNumber!==n.endLineNumber))return!1}t.sort(D.compareRangesUsingStarts),e.sort(D.compareRangesUsingStarts);for(let i=0;i<e.length;i++)if(i>=t.length||!t[i].strictContainsRange(e[i]))return!1;return!0}},Du=class extends ${constructor(e,t,i,n){super();this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=i,this.context=new Ak(this._model,this._viewModel,this._coordinatesConverter,n),this._cursors=new Jk(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=ct(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new Ak(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){let i=this._autoClosedActions[t];i.isValid(e)||(i.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,i,n){let r=!1;n!==null&&n.length>Du.MAX_CURSOR_COUNT&&(n=n.slice(0,Du.MAX_CURSOR_COUNT),r=!0);let s=new iI(this._model,this);return this._cursors.setStates(n),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,i,s,r)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,t,i,n){let r=this._cursors.getViewPositions();if(r.length>1){this._emitCursorRevealRange(e,t,null,this._cursors.getViewSelections(),0,i,n);return}else{let s=r[0],a=new D(s.lineNumber,s.column,s.lineNumber,s.column);this._emitCursorRevealRange(e,t,a,null,0,i,n)}}_revealPrimaryCursor(e,t,i,n,r){let s=this._cursors.getViewPositions();if(s.length>1)this._emitCursorRevealRange(e,t,null,this._cursors.getViewSelections(),i,n,r);else{let a=s[0],l=new D(a.lineNumber,a.column,a.lineNumber,a.column);this._emitCursorRevealRange(e,t,l,null,i,n,r)}}_emitCursorRevealRange(e,t,i,n,r,s,a){e.emitViewEvent(new Ap(t,i,n,r,s,a))}saveState(){let e=[],t=this._cursors.getSelections();for(let i=0,n=t.length;i<n;i++){let r=t[i];e.push({inSelectionMode:!r.isEmpty(),selectionStart:{lineNumber:r.selectionStartLineNumber,column:r.selectionStartColumn},position:{lineNumber:r.positionLineNumber,column:r.positionColumn}})}return e}restoreState(e,t){let i=[];for(let n=0,r=t.length;n<r;n++){let s=t[n],a=1,l=1;s.position&&s.position.lineNumber&&(a=s.position.lineNumber),s.position&&s.position.column&&(l=s.position.column);let c=a,d=l;s.selectionStart&&s.selectionStart.lineNumber&&(c=s.selectionStart.lineNumber),s.selectionStart&&s.selectionStart.column&&(d=s.selectionStart.column),i.push({selectionStartLineNumber:c,selectionStartColumn:d,positionLineNumber:a,positionColumn:l})}this.setStates(e,"restoreState",0,Ct.fromModelSelections(i)),this.revealPrimary(e,"restoreState",!0,1)}onModelContentChanged(e,t){if(t instanceof H1){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=t.versionId,this._isHandling)return;let i=t.containsEvent(1);if(this._prevEditOperationType=0,i)this._cursors.dispose(),this._cursors=new Jk(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&t.resultingSelection&&t.resultingSelection.length>0){let n=Ct.fromModelSelections(t.resultingSelection);this.setStates(e,"modelChange",t.isUndoing?5:t.isRedoing?6:2,n)&&this._revealPrimaryCursor(e,"modelChange",0,!0,0)}else{let n=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,Ct.fromModelSelections(n))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;let e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),i=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:Yt.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,t),toViewLineNumber:i.lineNumber,toViewVisualColumn:Yt.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,i)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,i,n){this.setStates(e,t,n,Ct.fromModelSelections(i))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){let i=[],n=[];for(let a=0,l=e.length;a<l;a++)i.push({range:e[a],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),n.push({range:t[a],options:{description:"auto-closed-enclosing",stickiness:1}});let r=this._model.deltaDecorations([],i),s=this._model.deltaDecorations([],n);this._autoClosedActions.push(new C4(this._model,r,s))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();let t=uK.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);let i=[],n=[];for(let r=0;r<e.commands.length;r++){let s=e.commands[r];s instanceof Vk&&s.enclosingRange&&s.closeCharacterRange&&(i.push(s.closeCharacterRange),n.push(s.enclosingRange))}i.length>0&&this._pushAutoClosedAction(i,n),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){(!e||e.length===0)&&(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,i,n,r){let s=new iI(this._model,this);if(s.equals(n))return!1;let a=this._cursors.getSelections(),l=this._cursors.getViewSelections();if(e.emitViewEvent(new h4(l,a)),!n||n.cursorState.length!==s.cursorState.length||s.cursorState.some((c,d)=>!c.modelState.equals(n.cursorState[d].modelState))){let c=n?n.cursorState.map(h=>h.modelState.selection):null,d=n?n.modelVersionId:0;e.emitOutgoingEvent(new hw(c,a,d,s.modelVersionId,t||"keyboard",i,r))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;let t=[];for(let i=0,n=e.length;i<n;i++){let r=e[i];if(!r.text||r.text.indexOf(`
`)>=0)return null;let s=r.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!s)return null;let a=s[1],l=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(a);if(!l||l.length!==1)return null;let c=l[0].open,d=r.text.length-s[2].length-1,h=r.text.lastIndexOf(c,d-1);if(h===-1)return null;t.push([h,d])}return t}executeEdits(e,t,i,n){let r=null;t==="snippet"&&(r=this._findAutoClosingPairs(i)),r&&(i[0]._isTracked=!0);let s=[],a=[],l=this._model.pushEditOperations(this.getSelections(),i,c=>{if(r)for(let h=0,u=r.length;h<u;h++){let[f,p]=r[h],b=c[h],v=b.range.startLineNumber,y=b.range.startColumn-1+f,w=b.range.startColumn-1+p;s.push(new D(v,w+1,v,w+2)),a.push(new D(v,y+1,v,w+2))}let d=n(c);return d&&(this._isHandling=!0),d});l&&(this._isHandling=!1,this.setSelections(e,t,l,0)),s.length>0&&this._pushAutoClosedAction(s,a)}_executeEdit(e,t,i,n=0){if(this.context.cursorConfig.readOnly)return;let r=new iI(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(s){ye(s)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,i,n,r,!1)&&this._revealPrimaryCursor(t,i,0,!0,0)}setIsDoingComposition(e){this._isDoingComposition=e}getAutoClosedCharacters(){return C4.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(e,t){this._executeEdit(()=>{t==="keyboard"&&(this._executeEditOperation(Ki.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},e,t)}type(e,t,i){this._executeEdit(()=>{if(i==="keyboard"){let n=t.length,r=0;for(;r<n;){let s=Pm(t,r),a=t.substr(r,s);this._executeEditOperation(Ki.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),a)),r+=s}}else this._executeEditOperation(Ki.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))},e,i)}compositionType(e,t,i,n,r,s){if(t.length===0&&i===0&&n===0){if(r!==0){let a=this.getSelections().map(l=>{let c=l.getPosition();return new de(c.lineNumber,c.column+r,c.lineNumber,c.column+r)});this.setSelections(e,s,a,0)}return}this._executeEdit(()=>{this._executeEditOperation(Ki.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,i,n,r))},e,s)}paste(e,t,i,n,r){this._executeEdit(()=>{this._executeEditOperation(Ki.paste(this.context.cursorConfig,this._model,this.getSelections(),t,i,n||[]))},e,r,4)}cut(e,t){this._executeEdit(()=>{this._executeEditOperation(Bc.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,t)}executeCommand(e,t,i){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new mr(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}executeCommands(e,t,i){this._executeEdit(()=>{this._executeEditOperation(new mr(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}};Du.MAX_CURSOR_COUNT=1e4;var uK=class{static executeCommands(e,t,i){let n={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},r=this._innerExecuteCommands(n,i);for(let s=0,a=n.trackedRanges.length;s<a;s++)n.model._setTrackedRange(n.trackedRanges[s],null,0);return r}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;let i=this._getEditOperations(e,t);if(i.operations.length===0)return null;let n=i.operations,r=this._getLoserCursorMap(n);if(r.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let s=[];for(let c=0,d=n.length;c<d;c++)r.hasOwnProperty(n[c].identifier.major.toString())||s.push(n[c]);i.hadTrackedEditOperation&&s.length>0&&(s[0]._isTracked=!0);let a=e.model.pushEditOperations(e.selectionsBefore,s,c=>{let d=[];for(let f=0;f<e.selectionsBefore.length;f++)d[f]=[];for(let f of c)!f.identifier||d[f.identifier.major].push(f);let h=(f,p)=>f.identifier.minor-p.identifier.minor,u=[];for(let f=0;f<e.selectionsBefore.length;f++)d[f].length>0?(d[f].sort(h),u[f]=t[f].computeCursorState(e.model,{getInverseEditOperations:()=>d[f],getTrackedSelection:p=>{let b=parseInt(p,10),v=e.model._getTrackedRange(e.trackedRanges[b]);return e.trackedRangesDirection[b]===0?new de(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn):new de(v.endLineNumber,v.endColumn,v.startLineNumber,v.startColumn)}})):u[f]=e.selectionsBefore[f];return u});a||(a=e.selectionsBefore);let l=[];for(let c in r)r.hasOwnProperty(c)&&l.push(parseInt(c,10));l.sort((c,d)=>d-c);for(let c of l)a.splice(c,1);return a}static _arrayIsEmpty(e){for(let t=0,i=e.length;t<i;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let i=[],n=!1;for(let r=0,s=t.length;r<s;r++){let a=t[r];if(a){let l=this._getEditOperationsFromCommand(e,r,a);i=i.concat(l.operations),n=n||l.hadTrackedEditOperation}}return{operations:i,hadTrackedEditOperation:n}}static _getEditOperationsFromCommand(e,t,i){let n=[],r=0,s=(h,u,f=!1)=>{D.isEmpty(h)&&u===""||n.push({identifier:{major:t,minor:r++},range:h,text:u,forceMoveMarkers:f,isAutoWhitespaceEdit:i.insertsAutoWhitespace})},a=!1,d={addEditOperation:s,addTrackedEditOperation:(h,u,f)=>{a=!0,s(h,u,f)},trackSelection:(h,u)=>{let f=de.liftSelection(h),p;if(f.isEmpty())if(typeof u=="boolean")u?p=2:p=3;else{let y=e.model.getLineMaxColumn(f.startLineNumber);f.startColumn===y?p=2:p=3}else p=1;let b=e.trackedRanges.length,v=e.model._setTrackedRange(null,f,p);return e.trackedRanges[b]=v,e.trackedRangesDirection[b]=f.getDirection(),b.toString()}};try{i.getEditOperations(e.model,d)}catch(h){return ye(h),{operations:[],hadTrackedEditOperation:!1}}return{operations:n,hadTrackedEditOperation:a}}static _getLoserCursorMap(e){e=e.slice(0),e.sort((i,n)=>-D.compareRangesUsingEnds(i.range,n.range));let t={};for(let i=1;i<e.length;i++){let n=e[i-1],r=e[i];if(D.getStartPosition(n.range).isBefore(D.getEndPosition(r.range))){let s;n.identifier.major>r.identifier.major?s=n.identifier.major:s=r.identifier.major,t[s.toString()]=!0;for(let a=0;a<e.length;a++)e[a].identifier.major===s&&(e.splice(a,1),a<i&&i--,a--);i>0&&i--}}return t}};ot();ve();ai();var _y=class{constructor(e,t,i,n,r,s){this.id=e,this.label=t,this.alias=i,this._precondition=n,this._run=r,this._contextKeyService=s}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}};k0();Yi();Tt();Ws();yi();Yn();ne();je();An();ot();ve();rg();Tt();je();$f();Uf();var fK={getInitialState:()=>Hm,tokenize2:(o,e,t,i)=>qD(0,o,t,i)};function y4(o,e,t=fK){return Fhe(o,e,t||fK)}function gK(o,e,t,i,n,r,s){let a="<div>",l=i,c=0,d=!0;for(let h=0,u=e.getCount();h<u;h++){let f=e.getEndOffset(h);if(f<=i)continue;let p="";for(;l<f&&l<n;l++){let b=o.charCodeAt(l);switch(b){case 9:let v=r-(l+c)%r;for(c+=v-1;v>0;)s&&d?(p+="&#160;",d=!1):(p+=" ",d=!0),v--;break;case 60:p+="&lt;",d=!1;break;case 62:p+="&gt;",d=!1;break;case 38:p+="&amp;",d=!1;break;case 0:p+="&#00;",d=!1;break;case 65279:case 8232:case 8233:case 133:p+="\uFFFD",d=!1;break;case 13:p+="&#8203",d=!1;break;case 32:s&&d?(p+="&#160;",d=!1):(p+=" ",d=!0);break;default:p+=String.fromCharCode(b),d=!1}}if(a+=`<span style="${e.getInlineStyle(h,t)}">${p}</span>`,f>n||l>=n)break}return a+="</div>",a}function Fhe(o,e,t){let i='<div class="monaco-tokenized-source">',n=rr(o),r=t.getInitialState();for(let s=0,a=n.length;s<a;s++){let l=n[s];s>0&&(i+="<br/>");let c=t.tokenize2(l,!0,r,0);hn.convertToEndOffset(c.tokens,l.length);let h=new hn(c.tokens,l,e).inflate(),u=0;for(let f=0,p=h.getCount();f<p;f++){let b=h.getClassName(f),v=h.getEndOffset(f);i+=`<span class="${b}">${Lb(l.substring(u,v))}</span>`,u=v}r=c.endState}return i+="</div>",i}Se();ne();je();var mK=class{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;let t=this._inserts,i=this._changes,n=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,i,n)}},pK=class{constructor(e,t,i,n,r){this.id=e,this.afterLineNumber=t,this.ordinal=i,this.height=n,this.minWidth=r,this.prefixSum=0}},Fp=class{constructor(e,t,i,n){this._instanceId=FD(++Fp.INSTANCE_COUNT),this._pendingChanges=new mK,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=i,this._paddingBottom=n}static findInsertionIndex(e,t,i){let n=0,r=e.length;for(;n<r;){let s=n+r>>>1;t===e[s].afterLineNumber?i<e[s].ordinal?r=s:n=s+1:t<e[s].afterLineNumber?r=s:n=s+1}return n}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{e({insertWhitespace:(n,r,s,a)=>{t=!0,n=n|0,r=r|0,s=s|0,a=a|0;let l=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new pK(l,n,r,s,a)),l},changeOneWhitespace:(n,r,s)=>{t=!0,r=r|0,s=s|0,this._pendingChanges.change({id:n,newAfterLineNumber:r,newHeight:s})},removeWhitespace:n=>{t=!0,this._pendingChanges.remove({id:n})}})}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,i){if((e.length>0||i.length>0)&&(this._minWidth=-1),e.length+t.length+i.length<=1){for(let l of e)this._insertWhitespace(l);for(let l of t)this._changeOneWhitespace(l.id,l.newAfterLineNumber,l.newHeight);for(let l of i){let c=this._findWhitespaceIndex(l.id);c!==-1&&this._removeWhitespace(c)}return}let n=new Set;for(let l of i)n.add(l.id);let r=new Map;for(let l of t)r.set(l.id,l);let s=l=>{let c=[];for(let d of l)if(!n.has(d.id)){if(r.has(d.id)){let h=r.get(d.id);d.afterLineNumber=h.newAfterLineNumber,d.height=h.newHeight}c.push(d)}return c},a=s(this._arr).concat(s(e));a.sort((l,c)=>l.afterLineNumber===c.afterLineNumber?l.ordinal-c.ordinal:l.afterLineNumber-c.afterLineNumber),this._arr=a,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){let t=Fp.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){let t=this._arr;for(let i=0,n=t.length;i<n;i++)if(t[i].id===e)return i;return-1}_changeOneWhitespace(e,t,i){let n=this._findWhitespaceIndex(e);if(n!==-1&&(this._arr[n].height!==i&&(this._arr[n].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,n-1)),this._arr[n].afterLineNumber!==t)){let r=this._arr[n];this._removeWhitespace(n),r.afterLineNumber=t,this._insertWhitespace(r)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount-=t-e+1;for(let i=0,n=this._arr.length;i<n;i++){let r=this._arr[i].afterLineNumber;e<=r&&r<=t?this._arr[i].afterLineNumber=e-1:r>t&&(this._arr[i].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount+=t-e+1;for(let i=0,n=this._arr.length;i<n;i++){let r=this._arr[i].afterLineNumber;e<=r&&(this._arr[i].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e=e|0;let t=Math.max(0,this._prefixSumValidIndex+1);t===0&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let i=t;i<=e;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();let e=this._lineHeight*this._lineCount,t=this.getWhitespacesTotalHeight();return e+t+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e=e|0;let t=this._findLastWhitespaceBeforeLineNumber(e);return t===-1?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e=e|0;let t=this._arr,i=0,n=t.length-1;for(;i<=n;){let s=(n-i|0)/2|0,a=i+s|0;if(t[a].afterLineNumber<e){if(a+1>=t.length||t[a+1].afterLineNumber>=e)return a;i=a+1|0}else n=a-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e=e|0;let i=this._findLastWhitespaceBeforeLineNumber(e)+1;return i<this._arr.length?i:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e=e|0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e){this._checkPendingChanges(),e=e|0;let t;e>1?t=this._lineHeight*(e-1):t=0;let i=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e);return t+i+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let e=0;for(let t=0,i=this._arr.length;t<i;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();let t=this.getLinesTotalHeight();return e>t}isInTopPadding(e){return this._paddingTop===0?!1:(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(this._paddingBottom===0)return!1;this._checkPendingChanges();let t=this.getLinesTotalHeight();return e>=t-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),e=e|0,e<0)return 1;let t=this._lineCount|0,i=this._lineHeight,n=1,r=t;for(;n<r;){let s=(n+r)/2|0,a=this.getVerticalOffsetForLineNumber(s)|0;if(e>=a+i)n=s+1;else{if(e>=a)return s;r=s}}return n>t?t:n}getLinesViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;let i=this._lineHeight,n=this.getLineNumberAtOrAfterVerticalOffset(e)|0,r=this.getVerticalOffsetForLineNumber(n)|0,s=this._lineCount|0,a=this.getFirstWhitespaceIndexAfterLineNumber(n)|0,l=this.getWhitespacesCount()|0,c,d;a===-1?(a=l,d=s+1,c=0):(d=this.getAfterLineNumberForWhitespaceIndex(a)|0,c=this.getHeightForWhitespaceIndex(a)|0);let h=r,u=h,f=5e5,p=0;r>=f&&(p=Math.floor(r/f)*f,p=Math.floor(p/i)*i,u-=p);let b=[],v=e+(t-e)/2,y=-1;for(let k=n;k<=s;k++){if(y===-1){let R=h,O=h+i;(R<=v&&v<O||R>v)&&(y=k)}for(h+=i,b[k-n]=u,u+=i;d===k;)u+=c,h+=c,a++,a>=l?d=s+1:(d=this.getAfterLineNumberForWhitespaceIndex(a)|0,c=this.getHeightForWhitespaceIndex(a)|0);if(h>=t){s=k;break}}y===-1&&(y=s);let w=this.getVerticalOffsetForLineNumber(s)|0,S=n,x=s;return S<x&&r<e&&S++,S<x&&w+i>t&&x--,{bigNumbersDelta:p,startLineNumber:n,endLineNumber:s,relativeVerticalOffset:b,centeredLineNumber:y,completelyVisibleStartLineNumber:S,completelyVisibleEndLineNumber:x}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e=e|0;let t=this.getAfterLineNumberForWhitespaceIndex(e),i;t>=1?i=this._lineHeight*t:i=0;let n;return e>0?n=this.getWhitespacesAccumulatedHeight(e-1):n=0,i+n+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e=e|0;let t=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;let n=this.getVerticalOffsetForWhitespaceIndex(i),r=this.getHeightForWhitespaceIndex(i);if(e>=n+r)return-1;for(;t<i;){let s=Math.floor((t+i)/2),a=this.getVerticalOffsetForWhitespaceIndex(s),l=this.getHeightForWhitespaceIndex(s);if(e>=a+l)t=s+1;else{if(e>=a)return s;i=s}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e=e|0;let t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0||t>=this.getWhitespacesCount())return null;let i=this.getVerticalOffsetForWhitespaceIndex(t);if(i>e)return null;let n=this.getHeightForWhitespaceIndex(t),r=this.getIdForWhitespaceIndex(t),s=this.getAfterLineNumberForWhitespaceIndex(t);return{id:r,afterLineNumber:s,verticalOffset:i,height:n}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;let i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),n=this.getWhitespacesCount()-1;if(i<0)return[];let r=[];for(let s=i;s<=n;s++){let a=this.getVerticalOffsetForWhitespaceIndex(s),l=this.getHeightForWhitespaceIndex(s);if(a>=t)break;r.push({id:this.getIdForWhitespaceIndex(s),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(s),verticalOffset:a,height:l})}return r}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].height}};Fp.INSTANCE_COUNT=0;var Bhe=125,uw=class{constructor(e,t,i,n){e=e|0,t=t|0,i=i|0,n=n|0,e<0&&(e=0),t<0&&(t=0),i<0&&(i=0),n<0&&(n=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=i,this.contentHeight=n,this.scrollHeight=Math.max(i,n)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}},_K=class extends ${constructor(e,t){super();this._onDidContentSizeChange=this._register(new F),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new uw(0,0,0,0),this._scrollable=this._register(new xu(e,t)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;let t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);let i=t.contentWidth!==e.contentWidth,n=t.contentHeight!==e.contentHeight;(i||n)&&this._onDidContentSizeChange.fire(new gy(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}},S4=class extends ${constructor(e,t,i){super();this._configuration=e;let n=this._configuration.options,r=n.get(130),s=n.get(74);this._linesLayout=new Fp(t,n.get(58),s.top,s.bottom),this._scrollable=this._register(new _K(0,i)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new uw(r.contentWidth,0,r.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(102)?Bhe:0)}onConfigurationChanged(e){let t=this._configuration.options;if(e.hasChanged(58)&&this._linesLayout.setLineHeight(t.get(58)),e.hasChanged(74)){let i=t.get(74);this._linesLayout.setPadding(i.top,i.bottom)}if(e.hasChanged(130)){let i=t.get(130),n=i.contentWidth,r=i.height,s=this._scrollable.getScrollDimensions(),a=s.contentWidth;this._scrollable.setScrollDimensions(new uw(n,s.contentWidth,r,this._getContentHeight(n,r,a)))}else this._updateHeight();e.hasChanged(102)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){let n=this._configuration.options.get(91);return n.horizontal===2||e>=t?0:n.horizontalScrollbarSize}_getContentHeight(e,t,i){let n=this._configuration.options,r=this._linesLayout.getLinesTotalHeight();return n.get(93)?r+=Math.max(0,t-n.get(58)-n.get(74).bottom):r+=this._getHorizontalScrollbarHeight(e,i),r}_updateHeight(){let e=this._scrollable.getScrollDimensions(),t=e.width,i=e.height,n=e.contentWidth;this._scrollable.setScrollDimensions(new uw(t,e.contentWidth,i,this._getContentHeight(t,i,n)))}getCurrentViewport(){let e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new cL(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){let e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new cL(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(e){let t=this._configuration.options,i=t.get(131),n=t.get(43);if(i.isViewportWrapping){let r=t.get(130),s=t.get(64);return e>r.contentWidth+n.typicalHalfwidthCharacterWidth&&s.enabled&&s.side==="right"?e+r.verticalScrollbarWidth:e}else{let r=t.get(92)*n.typicalHalfwidthCharacterWidth,s=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+r,s)}}setMaxLineWidth(e){let t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new uw(t.width,this._computeContentWidth(e),t.height,t.contentHeight)),this._updateHeight()}saveState(){let e=this._scrollable.getFutureScrollPosition(),t=e.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t),n=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i);return{scrollTop:t,scrollTopWithoutViewZones:t-n,scrollLeft:e.scrollLeft}}changeWhitespace(e){let t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){let e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){let t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){let e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){t===1?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,t){let i=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+e,scrollTop:i.scrollTop+t})}};Ut();ot();ve();Os();Wn();rg();$f();ot();rg();function nI(o,e){return o===null?e?by.INSTANCE:vy.INSTANCE:new bK(o,e)}var bK=class{constructor(e,t){this._lineBreakData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.getOutputLineCount():0}getInputStartOffsetOfOutputLineIndex(e){return this._lineBreakData.translateToInputOffset(e,0)}getInputEndOffsetOfOutputLineIndex(e){return this._lineBreakData.translateToInputOffset(e,this._lineBreakData.getMaxOutputOffset(e))}getViewLineContent(e,t,i){this.assertVisible();let n=i>0?this._lineBreakData.breakOffsets[i-1]:0,r=i<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[i]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1],s;if(this._lineBreakData.injectionOffsets!==null){let a=this._lineBreakData.injectionOffsets.map((l,c)=>new zr(0,0,l+1,this._lineBreakData.injectionOptions[c],0));s=zr.applyInjectedText(e.getLineContent(t),a).substring(n,r)}else s=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:r+1});return i>0&&(s=vK(this._lineBreakData.wrappedTextIndentLength)+s),s}getViewLineLength(e,t,i){return this.assertVisible(),this._lineBreakData.getLineLength(i)}getViewLineMinColumn(e,t,i){return this.assertVisible(),this._lineBreakData.getMinOutputOffset(i)+1}getViewLineMaxColumn(e,t,i){return this.assertVisible(),this._lineBreakData.getMaxOutputOffset(i)+1}getViewLineData(e,t,i){this.assertVisible();let n=this._lineBreakData,r=i>0?n.wrappedTextIndentLength:0,s=n.injectionOffsets,a=n.injectionOptions,l,c;if(s){let b=e.getLineTokens(t).withInserted(s.map((S,x)=>({offset:S,text:a[x].content,tokenMetadata:hn.defaultTokenMetadata}))),v=i>0?n.breakOffsets[i-1]:0,y=n.breakOffsets[i];l=b.sliceAndInflate(v,y,r),c=new Array;let w=0;for(let S=0;S<s.length;S++){let x=a[S].content.length,k=s[S]+w,R=s[S]+w+x;if(k>y)break;if(v<R){let O=a[S];if(O.inlineClassName){let N=i>0?n.wrappedTextIndentLength:0,W=N+Math.max(k-v,0),G=N+Math.min(R-v,y);W!==G&&c.push(new uM(W,G,O.inlineClassName,O.inlineClassNameAffectsLetterSpacing))}}w+=x}}else{let b=this.getInputStartOffsetOfOutputLineIndex(i),v=this.getInputEndOffsetOfOutputLineIndex(i);l=e.getLineTokens(t).sliceAndInflate(b,v,r),c=null}let d=l.getLineContent();i>0&&(d=vK(n.wrappedTextIndentLength)+d);let h=this._lineBreakData.getMinOutputOffset(i)+1,u=d.length+1,f=i+1<this.getViewLineCount(),p=i===0?0:n.breakOffsetsVisibleColumn[i-1];return new nv(d,f,h,u,p,l,c)}getViewLinesData(e,t,i,n,r,s,a){this.assertVisible();for(let l=i;l<n;l++){let c=r+l-i;if(!s[c]){a[c]=null;continue}a[c]=this.getViewLineData(e,t,l)}}getModelColumnOfViewPosition(e,t){return this.assertVisible(),this._lineBreakData.translateToInputOffset(e,t-1)+1}getViewPositionOfModelPosition(e,t,i=2){return this.assertVisible(),this._lineBreakData.translateToOutputPosition(t-1,i).toPosition(e)}getViewLineNumberOfModelPosition(e,t){this.assertVisible();let i=this._lineBreakData.translateToOutputPosition(t-1);return e+i.outputLineIndex}normalizePosition(e,t,i){let n=t.lineNumber-e;return this._lineBreakData.normalizeOutputPosition(e,t.column-1,i).toPosition(n)}getInjectedTextAt(e,t){return this._lineBreakData.getInjectedText(e,t-1)}assertVisible(){if(!this._isVisible)throw new Error("Not supported")}},by=class{constructor(){}isVisible(){return!0}setVisible(e){return e?this:vy.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,i){return e.getLineContent(t)}getViewLineLength(e,t,i){return e.getLineLength(t)}getViewLineMinColumn(e,t,i){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,i){return e.getLineMaxColumn(t)}getViewLineData(e,t,i){let n=e.getLineTokens(t),r=n.getLineContent();return new nv(r,!1,1,r.length+1,0,n.inflate(),null)}getViewLinesData(e,t,i,n,r,s,a){if(!s[r]){a[r]=null;return}a[r]=this.getViewLineData(e,t,0)}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new H(e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,i){return t}getInjectedTextAt(e,t){return null}};by.INSTANCE=new by;var vy=class{constructor(){}isVisible(){return!1}setVisible(e){return e?by.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,i){throw new Error("Not supported")}getViewLineLength(e,t,i){throw new Error("Not supported")}getViewLineMinColumn(e,t,i){throw new Error("Not supported")}getViewLineMaxColumn(e,t,i){throw new Error("Not supported")}getViewLineData(e,t,i){throw new Error("Not supported")}getViewLinesData(e,t,i,n,r,s,a){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,i){throw new Error("Not supported")}getInjectedTextAt(e,t){throw new Error("Not supported")}};vy.INSTANCE=new vy;var E4=[""];function vK(o){if(o>=E4.length)for(let e=1;e<=o;e++)E4[e]=jhe(e);return E4[o]}function jhe(o){return new Array(o+1).join(" ")}var x4=class{constructor(e,t,i,n,r,s,a,l,c){this._editorId=e,this.model=t,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=i,this._monospaceLineBreaksComputerFactory=n,this.fontInfo=r,this.tabSize=s,this.wrappingStrategy=a,this.wrappingColumn=l,this.wrappingIndent=c,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new wK(this)}_constructLines(e,t){this.modelLineProjections=[],e&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));let i=this.model.getLinesContent(),n=this.model.getInjectedTextDecorations(this._editorId),r=i.length,s=this.createLineBreaksComputer(),a=new sc(zr.fromDecorations(n));for(let b=0;b<r;b++){let v=a.takeWhile(y=>y.lineNumber===b+1);s.addRequest(i[b],v,t?t[b]:null)}let l=s.finalize(),c=[],d=this.hiddenAreasDecorationIds.map(b=>this.model.getDecorationRange(b)).sort(D.compareRangesUsingStarts),h=1,u=0,f=-1,p=f+1<d.length?u+1:r+2;for(let b=0;b<r;b++){let v=b+1;v===p&&(f++,h=d[f].startLineNumber,u=d[f].endLineNumber,p=f+1<d.length?u+1:r+2);let y=v>=h&&v<=u,w=nI(l[b],!y);c[b]=w.getViewLineCount(),this.modelLineProjections[b]=w}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new XR(c)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(e=>this.model.getDecorationRange(e))}setHiddenAreas(e){let t=e.map(u=>this.model.validateRange(u)),i=Whe(t),n=this.hiddenAreasDecorationIds.map(u=>this.model.getDecorationRange(u)).sort(D.compareRangesUsingStarts);if(i.length===n.length){let u=!1;for(let f=0;f<i.length;f++)if(!i[f].equalsRange(n[f])){u=!0;break}if(!u)return!1}let r=i.map(u=>({range:u,options:Ze.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,r);let s=i,a=1,l=0,c=-1,d=c+1<s.length?l+1:this.modelLineProjections.length+2,h=!1;for(let u=0;u<this.modelLineProjections.length;u++){let f=u+1;f===d&&(c++,a=s[c].startLineNumber,l=s[c].endLineNumber,d=c+1<s.length?l+1:this.modelLineProjections.length+2);let p=!1;if(f>=a&&f<=l?this.modelLineProjections[u].isVisible()&&(this.modelLineProjections[u]=this.modelLineProjections[u].setVisible(!1),p=!0):(h=!0,this.modelLineProjections[u].isVisible()||(this.modelLineProjections[u]=this.modelLineProjections[u].setVisible(!0),p=!0)),p){let b=this.modelLineProjections[u].getViewLineCount();this.projectedModelLineLineCounts.setValue(u,b)}}return h||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return e<1||e>this.modelLineProjections.length?!1:this.modelLineProjections[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.modelLineProjections.length?1:this.modelLineProjections[e-1].getViewLineCount()}setTabSize(e){return this.tabSize===e?!1:(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,i,n){let r=this.fontInfo.equals(e),s=this.wrappingStrategy===t,a=this.wrappingColumn===i,l=this.wrappingIndent===n;if(r&&s&&a&&l)return!1;let c=r&&s&&!a&&l;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=i,this.wrappingIndent=n;let d=null;if(c){d=[];for(let h=0,u=this.modelLineProjections.length;h<u;h++)d[h]=this.modelLineProjections[h].getLineBreakData()}return this._constructLines(!1,d),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,i){if(!e||e<=this._validModelVersionId)return null;let n=t===1?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,r=this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections.splice(t-1,i-t+1),this.projectedModelLineLineCounts.removeValues(t-1,i-t+1),new uy(n,r)}onModelLinesInserted(e,t,i,n){if(!e||e<=this._validModelVersionId)return null;let r=t>2&&!this.modelLineProjections[t-2].isVisible(),s=t===1?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,a=0,l=[],c=[];for(let d=0,h=n.length;d<h;d++){let u=nI(n[d],!r);l.push(u);let f=u.getViewLineCount();a+=f,c[d]=f}return this.modelLineProjections=this.modelLineProjections.slice(0,t-1).concat(l).concat(this.modelLineProjections.slice(t-1)),this.projectedModelLineLineCounts.insertValues(t-1,c),new fy(s,s+a-1)}onModelLineChanged(e,t,i){if(e!==null&&e<=this._validModelVersionId)return[!1,null,null,null];let n=t-1,r=this.modelLineProjections[n].getViewLineCount(),s=this.modelLineProjections[n].isVisible(),a=nI(i,s);this.modelLineProjections[n]=a;let l=this.modelLineProjections[n].getViewLineCount(),c=!1,d=0,h=-1,u=0,f=-1,p=0,b=-1;r>l?(d=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,h=d+l-1,p=h+1,b=p+(r-l)-1,c=!0):r<l?(d=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,h=d+r-1,u=h+1,f=u+(l-r)-1,c=!0):(d=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,h=d+l-1),this.projectedModelLineLineCounts.setValue(n,l);let v=d<=h?new eI(d,h):null,y=u<=f?new fy(u,f):null,w=p<=b?new uy(p,b):null;return[c,v,y,w]}acceptVersionId(e){this._validModelVersionId=e,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(e){if(e<1)return 1;let t=this.getViewLineCount();return e>t?t:e|0}getActiveIndentGuide(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);let n=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),r=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),s=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),a=this.model.getActiveIndentGuide(n.lineNumber,r.lineNumber,s.lineNumber),l=this.convertModelPositionToViewPosition(a.startLineNumber,1),c=this.convertModelPositionToViewPosition(a.endLineNumber,this.model.getLineMaxColumn(a.endLineNumber));return{startLineNumber:l.lineNumber,endLineNumber:c.lineNumber,indent:a.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);let t=this.projectedModelLineLineCounts.getIndexOf(e-1),i=t.index,n=t.remainder;return new D4(i+1,n)}getMinColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){let t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),n=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new H(e.modelLineNumber,n)}getModelEndPositionOfViewLine(e){let t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),n=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new H(e.modelLineNumber,n)}getViewLineInfosGroupedByModelRanges(e,t){let i=this.getViewLineInfo(e),n=this.getViewLineInfo(t),r=new Array,s=this.getModelStartPositionOfViewLine(i),a=new Array;for(let l=i.modelLineNumber;l<=n.modelLineNumber;l++){let c=this.modelLineProjections[l-1];if(c.isVisible()){let d=l===i.modelLineNumber?i.modelLineWrappedLineIdx:0,h=l===n.modelLineNumber?n.modelLineWrappedLineIdx+1:c.getViewLineCount();for(let u=d;u<h;u++)a.push(new D4(l,u))}if(!c.isVisible()&&s){let d=new H(l-1,this.model.getLineMaxColumn(l-1)+1),h=D.fromPositions(s,d);r.push(new L4(h,a)),a=[],s=null}else c.isVisible()&&!s&&(s=new H(l,1))}if(s){let l=D.fromPositions(s,this.getModelEndPositionOfViewLine(n));r.push(new L4(l,a))}return r}getViewLinesBracketGuides(e,t,i,n){let r=i?this.convertViewPositionToModelPosition(i.lineNumber,i.column):null,s=[];for(let a of this.getViewLineInfosGroupedByModelRanges(e,t)){let l=a.modelRange.startLineNumber,c=this.model.getLinesBracketGuides(l,a.modelRange.endLineNumber,r,n);for(let d of a.viewLines)if(d.isWrappedLineContinuation&&this.getMinColumnOfViewLine(d)===1)s.push([]);else{let h=c[d.modelLineNumber-l];h=h.map(u=>u.horizontalLine?new yd(u.visibleColumn,u.className,new Bb(u.horizontalLine.top,this.convertModelPositionToViewPosition(d.modelLineNumber,u.horizontalLine.endColumn).column)):u),s.push(h)}}return s}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);let i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),n=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t)),r=[],s=[],a=[],l=i.lineNumber-1,c=n.lineNumber-1,d=null;for(let p=l;p<=c;p++){let b=this.modelLineProjections[p];if(b.isVisible()){let v=b.getViewLineNumberOfModelPosition(0,p===l?i.column:1),y=b.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(p+1)),w=y-v+1,S=0;w>1&&b.getViewLineMinColumn(this.model,p+1,y)===1&&(S=v===0?1:2),s.push(w),a.push(S),d===null&&(d=new H(p+1,0))}else d!==null&&(r=r.concat(this.model.getLinesIndentGuides(d.lineNumber,p)),d=null)}d!==null&&(r=r.concat(this.model.getLinesIndentGuides(d.lineNumber,n.lineNumber)),d=null);let h=t-e+1,u=new Array(h),f=0;for(let p=0,b=r.length;p<b;p++){let v=r[p],y=Math.min(h-f,s[p]),w=a[p],S;w===2?S=0:w===1?S=1:S=y;for(let x=0;x<y;x++)x===S&&(v=0),u[f++]=v}return u}getViewLineContent(e){let t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineContent(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineLength(e){let t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineLength(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMinColumn(e){let t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMaxColumn(e){let t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineData(e){let t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineData(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLinesData(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);let n=this.projectedModelLineLineCounts.getIndexOf(e-1),r=e,s=n.index,a=n.remainder,l=[];for(let c=s,d=this.model.getLineCount();c<d;c++){let h=this.modelLineProjections[c];if(!h.isVisible())continue;let u=c===s?a:0,f=h.getViewLineCount()-u,p=!1;r+f>t&&(p=!0,f=t-r+1);let b=u+f;if(h.getViewLinesData(this.model,c+1,u,b,r-e,i,l),r+=f,p)break}return l}validateViewPosition(e,t,i){e=this._toValidViewLineNumber(e);let n=this.projectedModelLineLineCounts.getIndexOf(e-1),r=n.index,s=n.remainder,a=this.modelLineProjections[r],l=a.getViewLineMinColumn(this.model,r+1,s),c=a.getViewLineMaxColumn(this.model,r+1,s);t<l&&(t=l),t>c&&(t=c);let d=a.getModelColumnOfViewPosition(s,t);return this.model.validatePosition(new H(r+1,d)).equals(i)?new H(e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)}validateViewRange(e,t){let i=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),n=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new D(i.lineNumber,i.column,n.lineNumber,n.column)}convertViewPositionToModelPosition(e,t){let i=this.getViewLineInfo(e),n=this.modelLineProjections[i.modelLineNumber-1].getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,t);return this.model.validatePosition(new H(i.modelLineNumber,n))}convertViewRangeToModelRange(e){let t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),i=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new D(t.lineNumber,t.column,i.lineNumber,i.column)}convertModelPositionToViewPosition(e,t,i=2){let n=this.model.validatePosition(new H(e,t)),r=n.lineNumber,s=n.column,a=r-1,l=!1;for(;a>0&&!this.modelLineProjections[a].isVisible();)a--,l=!0;if(a===0&&!this.modelLineProjections[a].isVisible())return new H(1,1);let c=1+this.projectedModelLineLineCounts.getPrefixSum(a),d;return l?d=this.modelLineProjections[a].getViewPositionOfModelPosition(c,this.model.getLineMaxColumn(a+1),i):d=this.modelLineProjections[r-1].getViewPositionOfModelPosition(c,s,i),d}convertModelRangeToViewRange(e,t=0){if(e.isEmpty()){let i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return D.fromPositions(i)}else{let i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),n=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new D(i.lineNumber,i.column,n.lineNumber,n.column)}}getViewLineNumberOfModelPosition(e,t){let i=e-1;if(this.modelLineProjections[i].isVisible()){let r=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(r,t)}for(;i>0&&!this.modelLineProjections[i].isVisible();)i--;if(i===0&&!this.modelLineProjections[i].isVisible())return 1;let n=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(n,this.model.getLineMaxColumn(i+1))}getDecorationsInRange(e,t,i){let n=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),r=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(r.lineNumber-n.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new D(n.lineNumber,1,r.lineNumber,r.column),t,i);let s=[],a=n.lineNumber-1,l=r.lineNumber-1,c=null;for(let f=a;f<=l;f++)if(this.modelLineProjections[f].isVisible())c===null&&(c=new H(f+1,f===a?n.column:1));else if(c!==null){let b=this.model.getLineMaxColumn(f);s=s.concat(this.model.getDecorationsInRange(new D(c.lineNumber,c.column,f,b),t,i)),c=null}c!==null&&(s=s.concat(this.model.getDecorationsInRange(new D(c.lineNumber,c.column,r.lineNumber,r.column),t,i)),c=null),s.sort((f,p)=>{let b=D.compareRangesUsingStarts(f.range,p.range);return b===0?f.id<p.id?-1:f.id>p.id?1:0:b});let d=[],h=0,u=null;for(let f of s){let p=f.id;u!==p&&(u=p,d[h++]=f)}return d}getInjectedTextAt(e){let t=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[t.modelLineNumber-1].getInjectedTextAt(t.modelLineWrappedLineIdx,e.column)}normalizePosition(e,t){let i=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[i.modelLineNumber-1].normalizePosition(i.modelLineWrappedLineIdx,e,t)}getLineIndentColumn(e){let t=this.getViewLineInfo(e);return t.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(t.modelLineNumber):0}};function Whe(o){if(o.length===0)return[];let e=o.slice();e.sort(D.compareRangesUsingStarts);let t=[],i=e[0].startLineNumber,n=e[0].endLineNumber;for(let r=1,s=e.length;r<s;r++){let a=e[r];a.startLineNumber>n+1?(t.push(new D(i,1,n,1)),i=a.startLineNumber,n=a.endLineNumber):a.endLineNumber>n&&(n=a.endLineNumber)}return t.push(new D(i,1,n,1)),t}var D4=class{constructor(e,t){this.modelLineNumber=e,this.modelLineWrappedLineIdx=t}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}},L4=class{constructor(e,t){this.modelRange=e,this.viewLines=t}},wK=class{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e,t){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t)}convertModelRangeToViewRange(e,t){return this._lines.convertModelRangeToViewRange(e,t)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,t){return this._lines.getViewLineNumberOfModelPosition(e,t)}},k4=class{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new CK(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,i,n){return!1}createLineBreaksComputer(){let e=[];return{addRequest:(t,i,n)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,i){return new uy(t,i)}onModelLinesInserted(e,t,i,n){return new fy(t,i)}onModelLineChanged(e,t,i){return[!1,new eI(t,t),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,i){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,t,i){return new Array(t-e+1).fill([])}getViewLinesIndentGuides(e,t){let i=t-e+1,n=new Array(i);for(let r=0;r<i;r++)n[r]=0;return n}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){let t=this.model.getLineTokens(e),i=t.getLineContent();return new nv(i,!1,1,i.length+1,0,t.inflate(),null)}getViewLinesData(e,t,i){let n=this.model.getLineCount();e=Math.min(Math.max(1,e),n),t=Math.min(Math.max(1,t),n);let r=[];for(let s=e;s<=t;s++){let a=s-e;i[a]||(r[a]=null),r[a]=this.getViewLineData(s)}return r}getDecorationsInRange(e,t,i){return this.model.getDecorationsInRange(e,t,i)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}},CK=class{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){let t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,t){return e}};ot();ve();An();var I4=class{constructor(e,t,i,n,r){this.editorId=e,this.model=t,this.configuration=i,this._linesCollection=n,this._coordinatesConverter=r,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){let t=e.id,i=this._decorationsCache[t];if(!i){let n=e.range,r=e.options,s;if(r.isWholeLine){let a=this._coordinatesConverter.convertModelPositionToViewPosition(new H(n.startLineNumber,1),0),l=this._coordinatesConverter.convertModelPositionToViewPosition(new H(n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)),1);s=new D(a.lineNumber,a.column,l.lineNumber,l.column)}else s=this._coordinatesConverter.convertModelRangeToViewRange(n,1);i=new G0(s,r),this._decorationsCache[t]=i}return i}getDecorationsViewportData(e){let t=this._cachedModelDecorationsResolver!==null;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}_getDecorationsViewportData(e){let t=this._linesCollection.getDecorationsInRange(e,this.editorId,mb(this.configuration.options)),i=e.startLineNumber,n=e.endLineNumber,r=[],s=0,a=[];for(let l=i;l<=n;l++)a[l-i]=[];for(let l=0,c=t.length;l<c;l++){let d=t[l],h=d.options;if(!oI(this.model,d))continue;let u=this._getOrCreateViewModelDecoration(d),f=u.range;if(r[s++]=u,h.inlineClassName){let p=new Kf(f,h.inlineClassName,h.inlineClassNameAffectsLetterSpacing?3:0),b=Math.max(i,f.startLineNumber),v=Math.min(n,f.endLineNumber);for(let y=b;y<=v;y++)a[y-i].push(p)}if(h.beforeContentClassName&&i<=f.startLineNumber&&f.startLineNumber<=n){let p=new Kf(new D(f.startLineNumber,f.startColumn,f.startLineNumber,f.startColumn),h.beforeContentClassName,1);a[f.startLineNumber-i].push(p)}if(h.afterContentClassName&&i<=f.endLineNumber&&f.endLineNumber<=n){let p=new Kf(new D(f.endLineNumber,f.endColumn,f.endLineNumber,f.endColumn),h.afterContentClassName,2);a[f.endLineNumber-i].push(p)}}return{decorations:r,inlineDecorations:a}}};function oI(o,e){return!(e.options.hideInCommentTokens&&Uhe(o,e.range,i=>i===1))}function Uhe(o,e,t){for(let i=e.startLineNumber;i<=e.endLineNumber;i++){let n=o.getLineTokens(i),r=i===e.startLineNumber,s=i===e.endLineNumber,a=r?n.findTokenIndexAtOffset(e.startColumn-1):0;for(;a<n.getCount()&&!(s&&n.getStartOffset(a)>e.endColumn-1);){if(!t(n.getStandardTokenType(a)))return!1;a++}}return!0}tt();wt();fw();Ut();var Hhe=!0,O4=class extends ${constructor(e,t,i,n,r,s){super();if(this._editorId=e,this._configuration=t,this.model=i,this._eventDispatcher=new v4,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new ga(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new bt(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new bt(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,Hhe&&this.model.isTooLargeForTokenization())this._lines=new k4(this.model);else{let a=this._configuration.options,l=a.get(43),c=a.get(124),d=a.get(131),h=a.get(123);this._lines=new x4(this._editorId,this.model,n,r,l,this.model.getOptions().tabSize,c,d.wrappingColumn,h)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new Du(i,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new S4(this._configuration,this.getLineCount(),s)),this._register(this.viewLayout.onDidScroll(a=>{a.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new g4(a)),this._eventDispatcher.emitOutgoingEvent(new py(a.oldScrollWidth,a.oldScrollLeft,a.oldScrollHeight,a.oldScrollTop,a.scrollWidth,a.scrollLeft,a.scrollHeight,a.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(a=>{this._eventDispatcher.emitOutgoingEvent(a)})),this._decorations=new I4(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(a=>{try{let l=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(l,a)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(bg.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new _4)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){let e=this.viewLayout.getLinesViewportData(),t=new D(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber)),i=this._toModelVisibleRanges(t);for(let n of i)this.model.tokenizeViewport(n.startLineNumber,n.endLineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new u4(e)),this._eventDispatcher.emitOutgoingEvent(new my(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new l4)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new c4)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new m4)}_onConfigurationChanged(e,t){let i=null;if(this._viewportStartLine!==-1){let d=new H(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));i=this.coordinatesConverter.convertViewPositionToModelPosition(d)}let n=!1,r=this._configuration.options,s=r.get(43),a=r.get(124),l=r.get(131),c=r.get(123);if(this._lines.setWrappingSettings(s,a,l.wrappingColumn,c)&&(e.emitViewEvent(new cw),e.emitViewEvent(new dw),e.emitViewEvent(new vg(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(n=!0),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(80)&&(this._decorations.reset(),e.emitViewEvent(new vg(null))),e.emitViewEvent(new d4(t)),this.viewLayout.onConfigurationChanged(t),n&&i){let d=this.coordinatesConverter.convertModelPositionToViewPosition(i),h=this.viewLayout.getVerticalOffsetForLineNumber(d.lineNumber);this.viewLayout.setScrollPosition({scrollTop:h+this._viewportStartLineDelta},1)}ga.shouldRecreate(t)&&(this.cursorConfig=new ga(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{let t=this._eventDispatcher.beginEmitViewEvents(),i=!1,n=!1,r=e.changes,s=e instanceof Vd?e.versionId:null,a=this._lines.createLineBreaksComputer();for(let d of r)switch(d.changeType){case 4:{for(let h=0;h<d.detail.length;h++){let u=d.detail[h],f=d.injectedTexts[h];f&&(f=f.filter(p=>!p.ownerId||p.ownerId===this._editorId)),a.addRequest(u,f,null)}break}case 2:{let h=null;d.injectedText&&(h=d.injectedText.filter(u=>!u.ownerId||u.ownerId===this._editorId)),a.addRequest(d.detail,h,null);break}}let l=a.finalize(),c=new sc(l);for(let d of r)switch(d.changeType){case 1:{this._lines.onModelFlushed(),t.emitViewEvent(new cw),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),i=!0;break}case 3:{let h=this._lines.onModelLinesDeleted(s,d.fromLineNumber,d.toLineNumber);h!==null&&(t.emitViewEvent(h),this.viewLayout.onLinesDeleted(h.fromLineNumber,h.toLineNumber)),i=!0;break}case 4:{let h=c.takeCount(d.detail.length),u=this._lines.onModelLinesInserted(s,d.fromLineNumber,d.toLineNumber,h);u!==null&&(t.emitViewEvent(u),this.viewLayout.onLinesInserted(u.fromLineNumber,u.toLineNumber)),i=!0;break}case 2:{let h=c.dequeue(),[u,f,p,b]=this._lines.onModelLineChanged(s,d.lineNumber,h);n=u,f&&t.emitViewEvent(f),p&&(t.emitViewEvent(p),this.viewLayout.onLinesInserted(p.fromLineNumber,p.toLineNumber)),b&&(t.emitViewEvent(b),this.viewLayout.onLinesDeleted(b.fromLineNumber,b.toLineNumber));break}case 5:break}s!==null&&this._lines.acceptVersionId(s),this.viewLayout.onHeightMaybeChanged(),!i&&n&&(t.emitViewEvent(new dw),t.emitViewEvent(new vg(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){let t=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(t){let i=this.coordinatesConverter.convertModelPositionToViewPosition(t.getStartPosition()),n=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber);this.viewLayout.setScrollPosition({scrollTop:n+this._viewportStartLineDelta},1)}}try{let t=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(e=>{let t=[];for(let i=0,n=e.ranges.length;i<n;i++){let r=e.ranges[i],s=this.coordinatesConverter.convertModelPositionToViewPosition(new H(r.fromLineNumber,1)).lineNumber,a=this.coordinatesConverter.convertModelPositionToViewPosition(new H(r.toLineNumber,this.model.getLineMaxColumn(r.toLineNumber))).lineNumber;t[i]={fromLineNumber:s,toLineNumber:a}}this._eventDispatcher.emitSingleViewEvent(new p4(t)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new f4),this.cursorConfig=new ga(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new ga(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{let t=this._eventDispatcher.beginEmitViewEvents();t.emitViewEvent(new cw),t.emitViewEvent(new dw),t.emitViewEvent(new vg(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new ga(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new vg(e))}))}setHiddenAreas(e){let t=!1;try{let i=this._eventDispatcher.beginEmitViewEvents();t=this._lines.setHiddenAreas(e),t&&(i.emitViewEvent(new cw),i.emitViewEvent(new dw),i.emitViewEvent(new vg(null)),this._cursor.onLineMappingChanged(i),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),t&&this._eventDispatcher.emitOutgoingEvent(new tI)}getVisibleRangesPlusViewportAboveBelow(){let e=this._configuration.options.get(130),t=this._configuration.options.get(58),i=Math.max(20,Math.round(e.height/t)),n=this.viewLayout.getLinesViewportData(),r=Math.max(1,n.completelyVisibleStartLineNumber-i),s=Math.min(this.getLineCount(),n.completelyVisibleEndLineNumber+i);return this._toModelVisibleRanges(new D(r,this.getLineMinColumn(r),s,this.getLineMaxColumn(s)))}getVisibleRanges(){let e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}_toModelVisibleRanges(e){let t=this.coordinatesConverter.convertViewRangeToModelRange(e),i=this._lines.getHiddenAreas();if(i.length===0)return[t];let n=[],r=0,s=t.startLineNumber,a=t.startColumn,l=t.endLineNumber,c=t.endColumn;for(let d=0,h=i.length;d<h;d++){let u=i[d].startLineNumber,f=i[d].endLineNumber;f<s||u>l||(s<u&&(n[r++]=new D(s,a,u-1,this.model.getLineMaxColumn(u-1))),s=f+1,a=1)}return(s<l||s===l&&a<c)&&(n[r++]=new D(s,a,l,c)),n}getCompletelyVisibleViewRange(){let e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,i=e.completelyVisibleEndLineNumber;return new D(t,this.getLineMinColumn(t),i,this.getLineMaxColumn(i))}getCompletelyVisibleViewRangeAtScrollTop(e){let t=this.viewLayout.getLinesViewportDataAtScrollTop(e),i=t.completelyVisibleStartLineNumber,n=t.completelyVisibleEndLineNumber;return new D(i,this.getLineMinColumn(i),n,this.getLineMaxColumn(n))}saveState(){let e=this.viewLayout.saveState(),t=e.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(t),n=this.coordinatesConverter.convertViewPositionToModelPosition(new H(i,this.getLineMinColumn(i))),r=this.viewLayout.getVerticalOffsetForLineNumber(i)-t;return{scrollLeft:e.scrollLeft,firstPosition:n,firstPositionDeltaTop:r}}reduceRestoreState(e){if(typeof e.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(e);let t=this.model.validatePosition(e.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(t),n=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:n}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,i){this._viewportStartLine=e;let n=this.coordinatesConverter.convertViewPositionToModelPosition(new H(e,this.getLineMinColumn(e)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new D(n.lineNumber,n.column,n.lineNumber,n.column),1);let r=this.viewLayout.getVerticalOffsetForLineNumber(e),s=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=s-r}getActiveIndentGuide(e,t,i){return this._lines.getActiveIndentGuide(e,t,i)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getBracketGuidesInRangeByLine(e,t,i,n){return this._lines.getViewLinesBracketGuides(e,t,i,n)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){let t=wn(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){let t=Sr(this.getLineContent(e));return t===-1?0:t+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewLineRenderingData(e,t){let i=this.model.mightContainRTL(),n=this.model.mightContainNonBasicASCII(),r=this.getTabSize(),s=this._lines.getViewLineData(t),l=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return s.inlineDecorations&&(l=[...l,...s.inlineDecorations.map(c=>c.toInlineDecoration(t))]),new hr(s.minColumn,s.maxColumn,s.content,s.continuesWithWrappedLine,i,n,s.tokens,l,r,s.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,i){let n=this._lines.getViewLinesData(e,t,i);return new hM(this.getTabSize(),n)}getAllOverviewRulerDecorations(e){let t=this.model.getOverviewRulerDecorations(this._editorId,mb(this._configuration.options)),i=new SK;for(let n of t){let r=n.options,s=r.overviewRuler;if(!s)continue;let a=s.position;if(a===0)continue;let l=s.getColor(e),c=this.coordinatesConverter.getViewLineNumberOfModelPosition(n.range.startLineNumber,n.range.startColumn),d=this.coordinatesConverter.getViewLineNumberOfModelPosition(n.range.endLineNumber,n.range.endColumn);i.accept(l,r.zIndex,c,d,a)}return i.asArray}invalidateOverviewRulerColorCache(){let e=this.model.getOverviewRulerDecorations();for(let t of e){let i=t.options.overviewRuler;i&&i.invalidateCachedColor()}}invalidateMinimapColorCache(){let e=this.model.getAllDecorations();for(let t of e){let i=t.options.minimap;i&&i.invalidateCachedColor()}}getValueInRange(e,t){let i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(i,t)}getModelLineMaxColumn(e){return this.model.getLineMaxColumn(e)}validateModelPosition(e){return this.model.validatePosition(e)}validateModelRange(e){return this.model.validateRange(e)}deduceModelPositionRelativeToViewPosition(e,t,i){let n=this.coordinatesConverter.convertViewPositionToModelPosition(e);this.model.getEOL().length===2&&(t<0?t-=i:t+=i);let s=this.model.getOffsetAt(n)+t;return this.model.getPositionAt(s)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(e,t,i){let n=i?`\r
`:this.model.getEOL();e=e.slice(0),e.sort(D.compareRangesUsingStarts);let r=!1,s=!1;for(let l of e)l.isEmpty()?r=!0:s=!0;if(!s){if(!t)return"";let l=e.map(d=>d.startLineNumber),c="";for(let d=0;d<l.length;d++)d>0&&l[d-1]===l[d]||(c+=this.model.getLineContent(l[d])+n);return c}if(r&&t){let l=[],c=0;for(let d of e){let h=d.startLineNumber;d.isEmpty()?h!==c&&l.push(this.model.getLineContent(h)):l.push(this.model.getValueInRange(d,i?2:0)),c=h}return l.length===1?l[0]:l}let a=[];for(let l of e)l.isEmpty()||a.push(this.model.getValueInRange(l,i?2:0));return a.length===1?a[0]:a}getRichTextToCopy(e,t){let i=this.model.getLanguageId();if(i===Gd||e.length!==1)return null;let n=e[0];if(n.isEmpty()){if(!t)return null;let d=n.startLineNumber;n=new D(d,this.model.getLineMinColumn(d),d,this.model.getLineMaxColumn(d))}let r=this._configuration.options.get(43),s=this._getColorMap(),l=/[:;\\\/<>]/.test(r.fontFamily)||r.fontFamily===In.fontFamily,c;return l?c=In.fontFamily:(c=r.fontFamily,c=c.replace(/"/g,"'"),/[,']/.test(c)||/[+ ]/.test(c)&&(c=`'${c}'`),c=`${c}, ${In.fontFamily}`),{mode:i,html:`<div style="color: ${s[1]};background-color: ${s[2]};font-family: ${c};font-weight: ${r.fontWeight};font-size: ${r.fontSize}px;line-height: ${r.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(n,s)+"</div>"}}_getHTMLToCopy(e,t){let i=e.startLineNumber,n=e.startColumn,r=e.endLineNumber,s=e.endColumn,a=this.getTabSize(),l="";for(let c=i;c<=r;c++){let d=this.model.getLineTokens(c),h=d.getLineContent(),u=c===i?n-1:0,f=c===r?s-1:h.length;h===""?l+="<br>":l+=gK(h,d.inflate(),t,u,f,a,Mi)}return l}_getColorMap(){let e=Li.getColorMap(),t=["#000000"];if(e)for(let i=1,n=e.length;i<n;i++)t[i]=Z.Format.CSS.formatHex(e[i]);return t}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,i){this._withViewEventsCollector(n=>this._cursor.setStates(n,e,t,i))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,i=0){this._withViewEventsCollector(n=>this._cursor.setSelections(n,e,t,i))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(t=>this._cursor.restoreState(t,e))}_executeCursorEdit(e){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new w4);return}this._withViewEventsCollector(e)}executeEdits(e,t,i){this._executeCursorEdit(n=>this._cursor.executeEdits(n,e,t,i))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(t=>this._cursor.endComposition(t,e))}type(e,t){this._executeCursorEdit(i=>this._cursor.type(i,e,t))}compositionType(e,t,i,n,r){this._executeCursorEdit(s=>this._cursor.compositionType(s,e,t,i,n,r))}paste(e,t,i,n){this._executeCursorEdit(r=>this._cursor.paste(r,e,t,i,n))}cut(e){this._executeCursorEdit(t=>this._cursor.cut(t,e))}executeCommand(e,t){this._executeCursorEdit(i=>this._cursor.executeCommand(i,e,t))}executeCommands(e,t){this._executeCursorEdit(i=>this._cursor.executeCommands(i,e,t))}revealPrimaryCursor(e,t){this._withViewEventsCollector(i=>this._cursor.revealPrimary(i,e,t,0))}revealTopMostCursor(e){let t=this._cursor.getTopMostViewPosition(),i=new D(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(n=>n.emitViewEvent(new Ap(e,i,null,0,!0,0)))}revealBottomMostCursor(e){let t=this._cursor.getBottomMostViewPosition(),i=new D(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(n=>n.emitViewEvent(new Ap(e,i,null,0,!0,0)))}revealRange(e,t,i,n,r){this._withViewEventsCollector(s=>s.emitViewEvent(new Ap(e,i,null,n,t,r)))}getVerticalOffsetForLineNumber(e){return this.viewLayout.getVerticalOffsetForLineNumber(e)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(e,t){this.viewLayout.setScrollPosition({scrollTop:e},t)}setScrollPosition(e,t){this.viewLayout.setScrollPosition(e,t)}deltaScrollNow(e,t){this.viewLayout.deltaScrollNow(e,t)}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new b4),this._eventDispatcher.emitOutgoingEvent(new tI))}setMaxLineWidth(e){this.viewLayout.setMaxLineWidth(e)}_withViewEventsCollector(e){try{let t=this._eventDispatcher.beginEmitViewEvents();e(t)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}},SK=class{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,t,i,n,r){let s=this._asMap[e];if(s){let a=s.data,l=a[a.length-3],c=a[a.length-1];if(l===r&&c+1>=i){n>c&&(a[a.length-1]=n);return}a.push(r,i,n)}else{let a=new X0(e,t,[r,i,n]);this._asMap[e]=a,this.asArray.push(a)}}};zi();_t();Ge();var Xd=class{constructor(...e){this._entries=new Map;for(let[t,i]of e)this.set(t,i)}set(e,t){let i=this._entries.get(e);return this._entries.set(e,t),i}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}};dt();_t();Ge();var Zn=Fe("accessibilityService"),Bp=new be("accessibilityModeEnabled",!1);di();je();Gm();rg();ot();var wg=class{constructor(e,t,i,n,r){this.injectionOffsets=e,this.injectionOptions=t,this.breakOffsets=i,this.breakOffsetsVisibleColumn=n,this.wrappedTextIndentLength=r}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(e){return e>0?this.wrappedTextIndentLength:0}getLineLength(e){let t=e>0?this.breakOffsets[e-1]:0,n=this.breakOffsets[e]-t;return e>0&&(n+=this.wrappedTextIndentLength),n}getMaxOutputOffset(e){return this.getLineLength(e)}translateToInputOffset(e,t){e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));let n=e===0?t:this.breakOffsets[e-1]+t;if(this.injectionOffsets!==null)for(let r=0;r<this.injectionOffsets.length&&n>this.injectionOffsets[r];r++)n<this.injectionOffsets[r]+this.injectionOptions[r].content.length?n=this.injectionOffsets[r]:n-=this.injectionOptions[r].content.length;return n}translateToOutputPosition(e,t=2){let i=e;if(this.injectionOffsets!==null)for(let n=0;n<this.injectionOffsets.length&&!(e<this.injectionOffsets[n]||t!==1&&e===this.injectionOffsets[n]);n++)i+=this.injectionOptions[n].content.length;return this.offsetInInputWithInjectionsToOutputPosition(i,t)}offsetInInputWithInjectionsToOutputPosition(e,t=2){let i=0,n=this.breakOffsets.length-1,r=0,s=0;for(;i<=n;){r=i+(n-i)/2|0;let l=this.breakOffsets[r];if(s=r>0?this.breakOffsets[r-1]:0,t===0)if(e<=s)n=r-1;else if(e>l)i=r+1;else break;else if(e<s)n=r-1;else if(e>=l)i=r+1;else break}let a=e-s;return r>0&&(a+=this.wrappedTextIndentLength),new wy(r,a)}normalizeOutputPosition(e,t,i){if(this.injectionOffsets!==null){let n=this.outputPositionToOffsetInInputWithInjections(e,t),r=this.normalizeOffsetInInputWithInjectionsAroundInjections(n,i);if(r!==n)return this.offsetInInputWithInjectionsToOutputPosition(r,i)}if(i===0){if(e>0&&t===this.getMinOutputOffset(e))return new wy(e-1,this.getMaxOutputOffset(e-1))}else if(i===1){let n=this.getOutputLineCount()-1;if(e<n&&t===this.getMaxOutputOffset(e))return new wy(e+1,this.getMinOutputOffset(e+1))}return new wy(e,t)}outputPositionToOffsetInInputWithInjections(e,t){return e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength)),(e>0?this.breakOffsets[e-1]:0)+t}normalizeOffsetInInputWithInjectionsAroundInjections(e,t){let i=this.getInjectedTextAtOffset(e);if(!i)return e;if(t===2)return e===i.offsetInInputWithInjections+i.length?i.offsetInInputWithInjections+i.length:i.offsetInInputWithInjections;if(t===1){let s=i.offsetInInputWithInjections+i.length,a=i.injectedTextIndex;for(;a+1<this.injectionOffsets.length&&this.injectionOffsets[a+1]===this.injectionOffsets[a];)s+=this.injectionOptions[a+1].content.length,a++;return s}let n=i.offsetInInputWithInjections,r=i.injectedTextIndex;for(;r-1>=0&&this.injectionOffsets[r-1]===this.injectionOffsets[r];)n-=this.injectionOptions[r-1].content.length,r++;return n}getInjectedText(e,t){let i=this.outputPositionToOffsetInInputWithInjections(e,t),n=this.getInjectedTextAtOffset(i);return n?{options:this.injectionOptions[n.injectedTextIndex]}:null}getInjectedTextAtOffset(e){let t=this.injectionOffsets,i=this.injectionOptions;if(t!==null){let n=0;for(let r=0;r<t.length;r++){let s=i[r].content.length,a=t[r]+n,l=t[r]+n+s;if(a>e)break;if(e<=l)return{injectedTextIndex:r,offsetInInputWithInjections:a,length:s};n+=s}}}};var wy=class{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e){return new H(e+this.outputLineIndex,this.outputOffset+1)}};var Cy=class{constructor(e,t){this.classifier=new EK(e,t)}static create(e){return new Cy(e.get(119),e.get(118))}createLineBreaksComputer(e,t,i,n){let r=[],s=[],a=[];return{addRequest:(l,c,d)=>{r.push(l),s.push(c),a.push(d)},finalize:()=>{let l=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth,c=[];for(let d=0,h=r.length;d<h;d++){let u=s[d],f=a[d];f&&!f.injectionOptions&&!u?c[d]=$he(this.classifier,f,r[d],t,i,l,n):c[d]=Khe(this.classifier,r[d],u,t,i,l,n)}return T4.length=0,N4.length=0,c}}}},EK=class extends kd{constructor(e,t){super(0);for(let i=0;i<e.length;i++)this.set(e.charCodeAt(i),1);for(let i=0;i<t.length;i++)this.set(t.charCodeAt(i),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}},T4=[],N4=[];function $he(o,e,t,i,n,r,s){if(n===-1)return null;let a=t.length;if(a<=1)return null;let l=e.breakOffsets,c=e.breakOffsetsVisibleColumn,d=DK(t,i,n,r,s),h=n-d,u=T4,f=N4,p=0,b=0,v=0,y=n,w=l.length,S=0;if(S>=0){let x=Math.abs(c[S]-y);for(;S+1<w;){let k=Math.abs(c[S+1]-y);if(k>=x)break;x=k,S++}}for(;S<w;){let x=S<0?0:l[S],k=S<0?0:c[S];b>x&&(x=b,k=v);let R=0,O=0,N=0,W=0;if(k<=y){let Y=k,te=x===0?0:t.charCodeAt(x-1),re=x===0?0:o.get(te),Pe=!0;for(let Ne=x;Ne<a;Ne++){let Ae=Ne,He=t.charCodeAt(Ne),We,Ue;if(Xi(He)?(Ne++,We=0,Ue=2):(We=o.get(He),Ue=yy(He,Y,i,r)),Ae>b&&P4(te,re,He,We)&&(R=Ae,O=Y),Y+=Ue,Y>y){Ae>b?(N=Ae,W=Y-Ue):(N=Ne+1,W=Y),Y-O>h&&(R=0),Pe=!1;break}te=He,re=We}if(Pe){p>0&&(u[p]=l[l.length-1],f[p]=c[l.length-1],p++);break}}if(R===0){let Y=k,te=t.charCodeAt(x),re=o.get(te),Pe=!1;for(let Ne=x-1;Ne>=b;Ne--){let Ae=Ne+1,He=t.charCodeAt(Ne);if(He===9){Pe=!0;break}let We,Ue;if(Bh(He)?(Ne--,We=0,Ue=2):(We=o.get(He),Ue=Ls(He)?r:1),Y<=y){if(N===0&&(N=Ae,W=Y),Y<=y-h)break;if(P4(He,We,te,re)){R=Ae,O=Y;break}}Y-=Ue,te=He,re=We}if(R!==0){let Ne=h-(W-O);if(Ne<=i){let Ae=t.charCodeAt(N),He;Xi(Ae)?He=2:He=yy(Ae,W,i,r),Ne-He<0&&(R=0)}}if(Pe){S--;continue}}if(R===0&&(R=N,O=W),R<=b){let Y=t.charCodeAt(b);Xi(Y)?(R=b+2,O=v+2):(R=b+1,O=v+yy(Y,v,i,r))}for(b=R,u[p]=R,v=O,f[p]=O,p++,y=O+h;S<0||S<w&&c[S]<O;)S++;let G=Math.abs(c[S]-y);for(;S+1<w;){let Y=Math.abs(c[S+1]-y);if(Y>=G)break;G=Y,S++}}return p===0?null:(u.length=p,f.length=p,T4=e.breakOffsets,N4=e.breakOffsetsVisibleColumn,e.breakOffsets=u,e.breakOffsetsVisibleColumn=f,e.wrappedTextIndentLength=d,e)}function Khe(o,e,t,i,n,r,s){let a=zr.applyInjectedText(e,t),l,c;if(t&&t.length>0?(l=t.map(O=>O.options),c=t.map(O=>O.column-1)):(l=null,c=null),n===-1)return l?new wg(c,l,[a.length],[],0):null;let d=a.length;if(d<=1)return l?new wg(c,l,[a.length],[],0):null;let h=DK(a,i,n,r,s),u=n-h,f=[],p=[],b=0,v=0,y=0,w=n,S=a.charCodeAt(0),x=o.get(S),k=yy(S,0,i,r),R=1;Xi(S)&&(k+=1,S=a.charCodeAt(1),x=o.get(S),R++);for(let O=R;O<d;O++){let N=O,W=a.charCodeAt(O),G,Y;Xi(W)?(O++,G=0,Y=2):(G=o.get(W),Y=yy(W,k,i,r)),P4(S,x,W,G)&&(v=N,y=k),k+=Y,k>w&&((v===0||k-y>u)&&(v=N,y=k-Y),f[b]=v,p[b]=y,b++,w=y+u,v=0),S=W,x=G}return b===0&&(!t||t.length===0)?null:(f[b]=d,p[b]=k,new wg(c,l,f,p,h))}function yy(o,e,t,i){return o===9?t-e%t:Ls(o)||o<32?i:1}function xK(o,e){return e-o%e}function P4(o,e,t,i){return t!==32&&(e===2||e===3&&i!==2||i===1||i===3&&e!==1)}function DK(o,e,t,i,n){let r=0;if(n!==0){let s=wn(o);if(s!==-1){for(let l=0;l<s;l++)r+=o.charCodeAt(l)===9?xK(r,e):1;let a=n===3?2:n===2?1:0;for(let l=0;l<a;l++)r+=xK(r,e);r+i>t&&(r=0)}}return r}zf();je();rg();var R4,M4=(R4=window.trustedTypes)===null||R4===void 0?void 0:R4.createPolicy("domLineBreaksComputer",{createHTML:o=>o}),Sy=class{static create(){return new Sy}constructor(){}createLineBreaksComputer(e,t,i,n){let r=[],s=[];return{addRequest:(a,l,c)=>{r.push(a),s.push(l)},finalize:()=>Yhe(r,e,t,i,n,s)}}};function Yhe(o,e,t,i,n,r){var s;function a(N){let W=r[N];if(W){let G=zr.applyInjectedText(o[N],W),Y=W.map(re=>re.options),te=W.map(re=>re.column-1);return new wg(te,Y,[G.length],[],0)}else return null}if(i===-1){let N=[];for(let W=0,G=o.length;W<G;W++)N[W]=a(W);return N}let l=Math.round(i*e.typicalHalfwidthCharacterWidth),d=Math.round(t*(n===3?2:n===2?1:0)),h=Math.ceil(e.spaceWidth*d),u=document.createElement("div");fn.applyFontInfoSlow(u,e);let f=Nl(1e4),p=[],b=[],v=[],y=[],w=[];for(let N=0;N<o.length;N++){let W=zr.applyInjectedText(o[N],r[N]),G=0,Y=0,te=l;if(n!==0)if(G=wn(W),G===-1)G=0;else{for(let Ae=0;Ae<G;Ae++)Y+=W.charCodeAt(Ae)===9?t-Y%t:1;let Ne=Math.ceil(e.spaceWidth*Y);Ne+e.typicalFullwidthCharacterWidth>l?(G=0,Y=0):te=l-Ne}let re=W.substr(G),Pe=qhe(re,Y,t,te,f,h);p[N]=G,b[N]=Y,v[N]=re,y[N]=Pe[0],w[N]=Pe[1]}let S=f.build(),x=(s=M4==null?void 0:M4.createHTML(S))!==null&&s!==void 0?s:S;u.innerHTML=x,u.style.position="absolute",u.style.top="10000",u.style.wordWrap="break-word",document.body.appendChild(u);let k=document.createRange(),R=Array.prototype.slice.call(u.children,0),O=[];for(let N=0;N<o.length;N++){let W=R[N],G=Zhe(k,W,v[N],y[N]);if(G===null){O[N]=a(N);continue}let Y=p[N],te=b[N]+d,re=w[N],Pe=[];for(let We=0,Ue=G.length;We<Ue;We++)Pe[We]=re[G[We]];if(Y!==0)for(let We=0,Ue=G.length;We<Ue;We++)G[We]+=Y;let Ne,Ae,He=r[N];He?(Ne=He.map(We=>We.options),Ae=He.map(We=>We.column-1)):(Ne=null,Ae=null),O[N]=new wg(Ae,Ne,G,Pe,te)}return document.body.removeChild(u),O}function qhe(o,e,t,i,n,r){if(r!==0){let u=String(r);n.appendASCIIString('<div style="text-indent: -'),n.appendASCIIString(u),n.appendASCIIString("px; padding-left: "),n.appendASCIIString(u),n.appendASCIIString("px; box-sizing: border-box; width:")}else n.appendASCIIString('<div style="width:');n.appendASCIIString(String(i)),n.appendASCIIString('px;">');let s=o.length,a=e,l=0,c=[],d=[],h=0<s?o.charCodeAt(0):0;n.appendASCIIString("<span>");for(let u=0;u<s;u++){u!==0&&u%16384===0&&n.appendASCIIString("</span><span>"),c[u]=l,d[u]=a;let f=h;h=u+1<s?o.charCodeAt(u+1):0;let p=1,b=1;switch(f){case 9:p=t-a%t,b=p;for(let v=1;v<=p;v++)v<p?n.write1(160):n.appendASCII(32);break;case 32:h===32?n.write1(160):n.appendASCII(32);break;case 60:n.appendASCIIString("&lt;");break;case 62:n.appendASCIIString("&gt;");break;case 38:n.appendASCIIString("&amp;");break;case 0:n.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:n.write1(65533);break;default:Ls(f)&&b++,f<32?n.write1(9216+f):n.write1(f)}l+=p,a+=b}return n.appendASCIIString("</span>"),c[o.length]=l,d[o.length]=a,n.appendASCIIString("</div>"),[c,d]}function Zhe(o,e,t,i){if(t.length<=1)return null;let n=Array.prototype.slice.call(e.children,0),r=[];try{A4(o,n,i,0,null,t.length-1,null,r)}catch(s){return console.log(s),null}return r.length===0?null:(r.push(t.length),r)}function A4(o,e,t,i,n,r,s,a){if(i===r||(n=n||F4(o,e,t[i],t[i+1]),s=s||F4(o,e,t[r],t[r+1]),Math.abs(n[0].top-s[0].top)<=.1))return;if(i+1===r){a.push(r);return}let l=i+(r-i)/2|0,c=F4(o,e,t[l],t[l+1]);A4(o,e,t,i,n,l,c,a),A4(o,e,t,l,c,r,s,a)}function F4(o,e,t,i){return o.setStart(e[t/16384|0].firstChild,t%16384),o.setEnd(e[i/16384|0].firstChild,i%16384),o.getClientRects()}var Ghe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},jp=function(o,e){return function(t,i){e(t,i,o)}},Xhe=0,LK=class{constructor(e,t,i,n,r){this.model=e,this.viewModel=t,this.view=i,this.hasRealView=n,this.listenersToRemove=r}dispose(){ct(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}},Cg=class rI extends ${constructor(e,t,i,n,r,s,a,l,c,d){super();this._onDidDispose=this._register(new F),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new F),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new F),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new F),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new F),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new F),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new F),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new F),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new F),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new F),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new F),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new F),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new B4),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new B4),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new F),this.onWillType=this._onWillType.event,this._onDidType=this._register(new F),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new F),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new F),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new F),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new F),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new F),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new F),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new F),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new F),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new F),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new F),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new F),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new F),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new F),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new F),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new F),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new F),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new F),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new F),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null;let h=Object.assign({},t);this._domElement=e,this._overflowWidgetsDomNode=h.overflowWidgetsDomNode,delete h.overflowWidgetsDomNode,this._id=++Xhe,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=i.isSimpleWidget||!1,this._telemetryData=i.telemetryData,this._configuration=this._register(this._createConfiguration(h,d)),this._register(this._configuration.onDidChange(f=>{this._onDidChangeConfiguration.fire(f);let p=this._configuration.options;if(f.hasChanged(130)){let b=p.get(130);this._onDidLayoutChange.fire(b)}})),this._contextKeyService=this._register(a.createScoped(this._domElement)),this._notificationService=c,this._codeEditorService=r,this._commandService=s,this._themeService=l,this._register(new kK(this,this._contextKeyService)),this._register(new IK(this,this._contextKeyService)),this._instantiationService=n.createChild(new Xd([Ce,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new OK(e),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let u;Array.isArray(i.contributions)?u=i.contributions:u=Zf.getEditorContributions();for(let f of u){if(this._contributions[f.id]){ye(new Error(`Cannot have two contributions with the same id ${f.id}`));continue}try{let p=this._instantiationService.createInstance(f.ctor,this);this._contributions[f.id]=p}catch(p){ye(p)}}Zf.getEditorActions().forEach(f=>{if(this._actions[f.id]){ye(new Error(`Cannot have two actions with the same id ${f.id}`));return}let p=new _y(f.id,f.label,f.alias,Ia(f.precondition),()=>this._instantiationService.invokeFunction(b=>Promise.resolve(f.runEditorCommand(b,this,null))),this._contextKeyService);this._actions[p.id]=p}),this._codeEditorService.addCodeEditor(this)}_createConfiguration(e,t){return new fn(this.isSimpleWidget,e,this._domElement,t)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Bf.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();let e=Object.keys(this._contributions);for(let t=0,i=e.length;t<i;t++){let n=e[t];this._contributions[n].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e)}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?Ht.getWordAtPosition(this._modelData.model,this._configuration.options.get(116),e):null}getValue(e=null){if(!this._modelData)return"";let t=!!(e&&e.preserveBOM),i=0;return e&&e.lineEnding&&e.lineEnding===`
`?i=1:e&&e.lineEnding&&e.lineEnding===`\r
`&&(i=2),this._modelData.model.getValue(i,t)}setValue(e){!this._modelData||this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){let t=e;if(this._modelData===null&&t===null||this._modelData&&this._modelData.model===t)return;let i=this.hasTextFocus(),n=this._detachModel();this._attachModel(t),i&&this.hasModel()&&this.focus();let r={oldModelUrl:n?n.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(r),this._postDetachModelCleanup(n)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let e in this._decorationTypeSubtypes){let t=this._decorationTypeSubtypes[e];for(let i in t)this._removeDecorationType(e+"-"+i)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(e,t,i){let n=e.model.validatePosition({lineNumber:t,column:i}),r=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(n);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(r.lineNumber)}getTopForLineNumber(e){return this._modelData?rI._getVerticalOffsetForPosition(this._modelData,e,1):-1}getTopForPosition(e,t){return this._modelData?rI._getVerticalOffsetForPosition(this._modelData,e,t):-1}setHiddenAreas(e){this._modelData&&this._modelData.viewModel.setHiddenAreas(e.map(t=>D.lift(t)))}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;let t=this._modelData.model.validatePosition(e),i=this._modelData.model.getOptions().tabSize;return Yt.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,i)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e){if(!!this._modelData){if(!H.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,i,n){if(!this._modelData)return;if(!D.isIRange(e))throw new Error("Invalid arguments");let r=this._modelData.model.validateRange(e),s=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(r);this._modelData.viewModel.revealRange("api",i,s,t,n)}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,i){if(typeof e!="number")throw new Error("Invalid arguments");this._sendRevealRange(new D(e,1,e,1),t,!1,i)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,i,n){if(!H.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new D(e.lineNumber,e.column,e.lineNumber,e.column),t,i,n)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e){let t=de.isISelection(e),i=D.isIRange(e);if(!t&&!i)throw new Error("Invalid arguments");if(t)this._setSelectionImpl(e);else if(i){let n={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(n)}}_setSelectionImpl(e){if(!this._modelData)return;let t=new de(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections("api",[t])}revealLines(e,t,i=0){this._revealLines(e,t,0,i)}revealLinesInCenter(e,t,i=0){this._revealLines(e,t,1,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._revealLines(e,t,2,i)}revealLinesNearTop(e,t,i=0){this._revealLines(e,t,5,i)}_revealLines(e,t,i,n){if(typeof e!="number"||typeof t!="number")throw new Error("Invalid arguments");this._sendRevealRange(new D(e,1,t,1),i,!1,n)}revealRange(e,t=0,i=!1,n=!0){this._revealRange(e,i?1:0,n,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,i,n){if(!D.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(D.lift(e),t,i,n)}setSelections(e,t="api",i=0){if(!!this._modelData){if(!e||e.length===0)throw new Error("Invalid arguments");for(let n=0,r=e.length;n<r;n++)if(!de.isISelection(e[n]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e,i)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(!!this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(!!this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){!this._modelData||this._modelData.viewModel.setScrollPosition(e,t)}saveViewState(){if(!this._modelData)return null;let e={},t=Object.keys(this._contributions);for(let r of t){let s=this._contributions[r];typeof s.saveViewState=="function"&&(e[r]=s.saveViewState())}let i=this._modelData.viewModel.saveCursorState(),n=this._modelData.viewModel.saveState();return{cursorState:i,viewState:n,contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;let t=e;if(t&&t.cursorState&&t.viewState){let i=t.cursorState;Array.isArray(i)?this._modelData.viewModel.restoreCursorState(i):this._modelData.viewModel.restoreCursorState([i]);let n=t.contributionsState||{},r=Object.keys(this._contributions);for(let a=0,l=r.length;a<l;a++){let c=r[a],d=this._contributions[c];typeof d.restoreViewState=="function"&&d.restoreViewState(n[c])}let s=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(s)}}getContribution(e){return this._contributions[e]||null}getActions(){let e=[],t=Object.keys(this._actions);for(let i=0,n=t.length;i<n;i++){let r=t[i];e.push(this._actions[r])}return e}getSupportedActions(){let e=this.getActions();return e=e.filter(t=>t.isSupported()),e}getAction(e){return this._actions[e]||null}trigger(e,t,i){switch(i=i||{},t){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(e);return;case"type":{let r=i;this._type(e,r.text||"");return}case"replacePreviousChar":{let r=i;this._compositionType(e,r.text||"",r.replaceCharCnt||0,0,0);return}case"compositionType":{let r=i;this._compositionType(e,r.text||"",r.replacePrevCharCnt||0,r.replaceNextCharCnt||0,r.positionDelta||0);return}case"paste":{let r=i;this._paste(e,r.text||"",r.pasteOnNewLine||!1,r.multicursorText||null,r.mode||null);return}case"cut":this._cut(e);return}let n=this.getAction(t);if(n){Promise.resolve(n.run()).then(void 0,ye);return}!this._modelData||this._triggerEditorCommand(e,t,i)||this._triggerCommand(t,i)}_triggerCommand(e,t){this._commandService.executeCommand(e,t)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){!this._modelData||(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){!this._modelData||t.length===0||(e==="keyboard"&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),e==="keyboard"&&this._onDidType.fire(t))}_compositionType(e,t,i,n,r){!this._modelData||this._modelData.viewModel.compositionType(t,i,n,r,e)}_paste(e,t,i,n,r){if(!this._modelData||t.length===0)return;let s=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(t,i,n,e);let a=this._modelData.viewModel.getSelection().getStartPosition();e==="keyboard"&&this._onDidPaste.fire({range:new D(s.lineNumber,s.column,a.lineNumber,a.column),languageId:r})}_cut(e){!this._modelData||this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,i){let n=Zf.getEditorCommand(t);return n?(i=i||{},i.source=e,this._instantiationService.invokeFunction(r=>{Promise.resolve(n.runEditorCommand(r,this,i)).then(void 0,ye)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(80)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(80)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(e,t,i){if(!this._modelData||this._configuration.options.get(80))return!1;let n;return i?Array.isArray(i)?n=()=>i:n=i:n=()=>null,this._modelData.viewModel.executeEdits(e,t,n),!0}executeCommand(e,t){!this._modelData||this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){!this._modelData||this._modelData.viewModel.executeCommands(t,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,mb(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?e.length===0&&t.length===0?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){let t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(130)}createOverviewRuler(e){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(e)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarMouseDown(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(e)}layout(e){this._configuration.observeReferenceElement(e),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){let t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){let t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){let i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}}removeContentWidget(e){let t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){let i=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(i)}}addOverlayWidget(e){let t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){let t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){let i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}}removeOverlayWidget(e){let t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){let i=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(i)}}changeViewZones(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(e,t)}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;let t=this._modelData.model.validatePosition(e),i=this._configuration.options,n=i.get(130),r=rI._getVerticalOffsetForPosition(this._modelData,t.lineNumber,t.column)-this.getScrollTop(),s=this._modelData.view.getOffsetForColumn(t.lineNumber,t.column)+n.glyphMarginWidth+n.lineNumbersWidth+n.decorationsWidth-this.getScrollLeft();return{top:r,left:s,height:i.get(58)}}getOffsetForColumn(e,t){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(e,t)}render(e=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,e)}setAriaOptions(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(e)}applyFontInfo(e){fn.applyFontInfoSlow(e,this._configuration.options.get(43))}setBanner(e,t){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=e,this._configuration.reserveHeight(e?t:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(e){if(!e){this._modelData=null;return}let t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setMaxLineNumber(e.getLineCount()),e.onBeforeAttached();let i=new O4(this._id,this._configuration,e,Sy.create(),Cy.create(this._configuration.options),s=>xs(s));t.push(e.onDidChangeDecorations(s=>this._onDidChangeModelDecorations.fire(s))),t.push(e.onDidChangeLanguage(s=>{this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(s)})),t.push(e.onDidChangeLanguageConfiguration(s=>this._onDidChangeModelLanguageConfiguration.fire(s))),t.push(e.onDidChangeContent(s=>this._onDidChangeModelContent.fire(s))),t.push(e.onDidChangeOptions(s=>this._onDidChangeModelOptions.fire(s))),t.push(e.onWillDispose(()=>this.setModel(null))),t.push(i.onEvent(s=>{switch(s.kind){case 0:this._onDidContentSizeChange.fire(s);break;case 1:this._editorTextFocus.setValue(s.hasFocus);break;case 2:this._onDidScrollChange.fire(s);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{s.reachedMaxCursorCount&&this._notificationService.warn(g("cursors.maximum","The number of cursors has been limited to {0}.",Du.MAX_CURSOR_COUNT));let a=[];for(let d=0,h=s.selections.length;d<h;d++)a[d]=s.selections[d].getPosition();let l={position:a[0],secondaryPositions:a.slice(1),reason:s.reason,source:s.source};this._onDidChangeCursorPosition.fire(l);let c={selection:s.selections[0],secondarySelections:s.selections.slice(1),modelVersionId:s.modelVersionId,oldSelections:s.oldSelections,oldModelVersionId:s.oldModelVersionId,source:s.source,reason:s.reason};this._onDidChangeCursorSelection.fire(c);break}}}));let[n,r]=this._createView(i);if(r){this._domElement.appendChild(n.domNode.domNode);let s=Object.keys(this._contentWidgets);for(let a=0,l=s.length;a<l;a++){let c=s[a];n.addContentWidget(this._contentWidgets[c])}s=Object.keys(this._overlayWidgets);for(let a=0,l=s.length;a<l;a++){let c=s[a];n.addOverlayWidget(this._overlayWidgets[c])}n.render(!1,!0),n.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new LK(e,i,n,r,t)}_createView(e){let t;this.isSimpleWidget?t={paste:(r,s,a,l)=>{this._paste("keyboard",r,s,a,l)},type:r=>{this._type("keyboard",r)},compositionType:(r,s,a,l)=>{this._compositionType("keyboard",r,s,a,l)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:t={paste:(r,s,a,l)=>{let c={text:r,pasteOnNewLine:s,multicursorText:a,mode:l};this._commandService.executeCommand("paste",c)},type:r=>{let s={text:r};this._commandService.executeCommand("type",s)},compositionType:(r,s,a,l)=>{if(a||l){let c={text:r,replacePrevCharCnt:s,replaceNextCharCnt:a,positionDelta:l};this._commandService.executeCommand("compositionType",c)}else{let c={text:r,replaceCharCnt:s};this._commandService.executeCommand("replacePreviousChar",c)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};let i=new Ip(e.coordinatesConverter);return i.onKeyDown=r=>this._onKeyDown.fire(r),i.onKeyUp=r=>this._onKeyUp.fire(r),i.onContextMenu=r=>this._onContextMenu.fire(r),i.onMouseMove=r=>this._onMouseMove.fire(r),i.onMouseLeave=r=>this._onMouseLeave.fire(r),i.onMouseDown=r=>this._onMouseDown.fire(r),i.onMouseUp=r=>this._onMouseUp.fire(r),i.onMouseDrag=r=>this._onMouseDrag.fire(r),i.onMouseDrop=r=>this._onMouseDrop.fire(r),i.onMouseDropCanceled=r=>this._onMouseDropCanceled.fire(r),i.onMouseWheel=r=>this._onMouseWheel.fire(r),[new a4(t,this._configuration,this._themeService,e,i,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e&&e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;let e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&this._domElement.removeChild(t),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return this._modelData!==null}};Cg=Ghe([jp(3,Ve),jp(4,Ot),jp(5,li),jp(6,Ce),jp(7,Rt),jp(8,fi),jp(9,Zn)],Cg);var B4=class extends ${constructor(){super();this._onDidChangeToTrue=this._register(new F),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new F),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){let t=e?2:1;this._value!==t&&(this._value=t,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}},kK=class extends ${constructor(e,t){super();this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=A.editorSimpleInput.bindTo(t),this._editorFocus=A.focus.bindTo(t),this._textInputFocus=A.textInputFocus.bindTo(t),this._editorTextFocus=A.editorTextFocus.bindTo(t),this._editorTabMovesFocus=A.tabMovesFocus.bindTo(t),this._editorReadonly=A.readOnly.bindTo(t),this._inDiffEditor=A.inDiffEditor.bindTo(t),this._editorColumnSelection=A.columnSelection.bindTo(t),this._hasMultipleSelections=A.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=A.hasNonEmptySelection.bindTo(t),this._canUndo=A.canUndo.bindTo(t),this._canRedo=A.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){let e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(129)),this._editorReadonly.set(e.get(80)),this._inDiffEditor.set(e.get(53)),this._editorColumnSelection.set(e.get(18))}_updateFromSelection(){let e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(t=>!t.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){let e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))}},IK=class extends ${constructor(e,t){super();this._editor=e,this._contextKeyService=t,this._langId=A.languageId.bindTo(t),this._hasCompletionItemProvider=A.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=A.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=A.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=A.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=A.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=A.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=A.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=A.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=A.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=A.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=A.hasReferenceProvider.bindTo(t),this._hasRenameProvider=A.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=A.hasSignatureHelpProvider.bindTo(t),this._hasInlayHintsProvider=A.hasInlayHintsProvider.bindTo(t),this._hasDocumentFormattingProvider=A.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=A.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=A.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=A.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInWalkThrough=A.isInWalkThroughSnippet.bindTo(t);let i=()=>this._update();this._register(e.onDidChangeModel(i)),this._register(e.onDidChangeModelLanguage(i)),this._register(ss.onDidChange(i)),this._register(Ts.onDidChange(i)),this._register(za.onDidChange(i)),this._register(Hh.onDidChange(i)),this._register(jm.onDidChange(i)),this._register(Wm.onDidChange(i)),this._register(Um.onDidChange(i)),this._register(Vh.onDidChange(i)),this._register(Ed.onDidChange(i)),this._register(Sc.onDidChange(i)),this._register(Fm.onDidChange(i)),this._register(Bm.onDidChange(i)),this._register(Wf.onDidChange(i)),this._register(Ns.onDidChange(i)),this._register(yc.onDidChange(i)),this._register(Ec.onDidChange(i)),i()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){let e=this._editor.getModel();if(!e){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(ss.has(e)),this._hasCodeActionsProvider.set(Ts.has(e)),this._hasCodeLensProvider.set(za.has(e)),this._hasDefinitionProvider.set(Hh.has(e)),this._hasDeclarationProvider.set(jm.has(e)),this._hasImplementationProvider.set(Wm.has(e)),this._hasTypeDefinitionProvider.set(Um.has(e)),this._hasHoverProvider.set(Vh.has(e)),this._hasDocumentHighlightProvider.set(Ed.has(e)),this._hasDocumentSymbolProvider.set(Sc.has(e)),this._hasReferenceProvider.set(Fm.has(e)),this._hasRenameProvider.set(Bm.has(e)),this._hasSignatureHelpProvider.set(yc.has(e)),this._hasInlayHintsProvider.set(Ec.has(e)),this._hasDocumentFormattingProvider.set(Wf.has(e)||Ns.has(e)),this._hasDocumentSelectionFormattingProvider.set(Ns.has(e)),this._hasMultipleDocumentFormattingProvider.set(Wf.all(e).length+Ns.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(Ns.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===nt.walkThroughSnippet)})}},OK=class extends ${constructor(e){super();this._onChange=this._register(new F),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(bc(e)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}},Qhe=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),Jhe=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function j4(o){return Qhe+encodeURIComponent(o.toString())+Jhe}var eue=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),tue=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function iue(o){return eue+encodeURIComponent(o.toString())+tue}gt((o,e)=>{let t=o.getColor(ek);t&&e.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${t}; }`);let i=o.getColor(Md);i&&e.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${j4(i)}") repeat-x bottom left; }`);let n=o.getColor(Iz);n&&e.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${n}; }`);let r=o.getColor(bp);r&&e.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${r}; }`);let s=o.getColor(Bs);s&&e.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${j4(s)}") repeat-x bottom left; }`);let a=o.getColor(Oz);a&&e.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${a}; }`);let l=o.getColor(Sv);l&&e.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${l}; }`);let c=o.getColor(Lr);c&&e.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${j4(c)}") repeat-x bottom left; }`);let d=o.getColor(Tz);d&&e.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${d}; }`);let h=o.getColor(Pz);h&&e.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${h}; }`);let u=o.getColor(Nz);u&&e.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${iue(u)}") no-repeat bottom left; }`);let f=o.getColor(n$);f&&e.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${f.rgba.a}; }`);let p=o.getColor(i$);p&&e.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${p}; }`);let b=o.getColor(zl)||"inherit";e.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${b}}`)});xe();Me();Me();Se();var Jt=class{constructor(e,t,i){let n=r=>this.emitter.fire(r);this.emitter=new F({onFirstListenerAdd:()=>e.addEventListener(t,n,i),onLastListenerRemove:()=>e.removeEventListener(t,n,i)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}};function W4(o){return o.preventDefault(),o.stopPropagation(),o}tt();Se();ne();wt();var gw=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},nue=!1,Ey;(function(o){o.North="north",o.South="south",o.East="east",o.West="west"})(Ey||(Ey={}));var oue=4,rue=new F,sue=300,aue=new F,sI=class{constructor(){this.disposables=new Q}get onPointerMove(){return this.disposables.add(new Jt(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new Jt(window,"mouseup")).event}dispose(){this.disposables.dispose()}};gw([gn],sI.prototype,"onPointerMove",null);gw([gn],sI.prototype,"onPointerUp",null);var aI=class{constructor(e){this.el=e,this.disposables=new Q}get onPointerMove(){return this.disposables.add(new Jt(this.el,ei.Change)).event}get onPointerUp(){return this.disposables.add(new Jt(this.el,ei.End)).event}dispose(){this.disposables.dispose()}};gw([gn],aI.prototype,"onPointerMove",null);gw([gn],aI.prototype,"onPointerUp",null);var xy=class{constructor(e){this.factory=e}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}};gw([gn],xy.prototype,"onPointerMove",null);gw([gn],xy.prototype,"onPointerUp",null);var Vn=class extends ${constructor(e,t,i){super();this.hoverDelay=sue,this.hoverDelayer=this._register(new Wr(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new F),this._onDidStart=this._register(new F),this._onDidChange=this._register(new F),this._onDidReset=this._register(new F),this._onDidEnd=this._register(new F),this.orthogonalStartSashDisposables=this._register(new Q),this.orthogonalStartDragHandleDisposables=this._register(new Q),this.orthogonalEndSashDisposables=this._register(new Q),this.orthogonalEndDragHandleDisposables=this._register(new Q),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=J(e,se(".monaco-sash")),i.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${i.orthogonalEdge}`),Xe&&this.el.classList.add("mac");let n=this._register(new Jt(this.el,"mousedown")).event;this._register(n(h=>this.onPointerStart(h,new sI),this));let r=this._register(new Jt(this.el,"dblclick")).event;this._register(r(this.onPointerDoublePress,this));let s=this._register(new Jt(this.el,"mouseenter")).event;this._register(s(()=>Vn.onMouseEnter(this)));let a=this._register(new Jt(this.el,"mouseleave")).event;this._register(a(()=>Vn.onMouseLeave(this))),this._register(Bt.addTarget(this.el));let l=we.map(this._register(new Jt(this.el,ei.Start)).event,h=>{var u;return Object.assign(Object.assign({},h),{target:(u=h.initialTarget)!==null&&u!==void 0?u:null})});this._register(l(h=>this.onPointerStart(h,new aI(this.el)),this));let c=this._register(new Jt(this.el,ei.Tap)).event,d=we.map(we.filter(we.debounce(c,(h,u)=>{var f;return{event:u,count:((f=h==null?void 0:h.count)!==null&&f!==void 0?f:0)+1}},250),({count:h})=>h===2),({event:h})=>{var u;return Object.assign(Object.assign({},h),{target:(u=h.initialTarget)!==null&&u!==void 0?u:null})});this._register(d(this.onPointerDoublePress,this)),typeof i.size=="number"?(this.size=i.size,i.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=oue,this._register(rue.event(h=>{this.size=h,this.layout()}))),this._register(aue.event(h=>this.hoverDelay=h)),this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",nue),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",e===0),this.el.classList.toggle("minimum",e===1),this.el.classList.toggle("maximum",e===2),this._state=e,this.onDidEnablementChange.fire(e))}set orthogonalStartSash(e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){let t=i=>{this.orthogonalStartDragHandleDisposables.clear(),i!==0&&(this._orthogonalStartDragHandle=J(this.el,se(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(ze(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new Jt(this._orthogonalStartDragHandle,"mouseenter")).event(()=>Vn.onMouseEnter(e),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new Jt(this._orthogonalStartDragHandle,"mouseleave")).event(()=>Vn.onMouseLeave(e),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalStartSash=e}set orthogonalEndSash(e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){let t=i=>{this.orthogonalEndDragHandleDisposables.clear(),i!==0&&(this._orthogonalEndDragHandle=J(this.el,se(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(ze(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new Jt(this._orthogonalEndDragHandle,"mouseenter")).event(()=>Vn.onMouseEnter(e),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new Jt(this._orthogonalEndDragHandle,"mouseleave")).event(()=>Vn.onMouseLeave(e),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalEndSash=e}onPointerStart(e,t){Wt.stop(e);let i=!1;if(!e.__orthogonalSashEvent){let p=this.getOrthogonalSash(e);p&&(i=!0,e.__orthogonalSashEvent=!0,p.onPointerStart(e,new xy(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new xy(t))),!this.state)return;let n=p6("iframe");for(let p of n)p.style.pointerEvents="none";let r=e.pageX,s=e.pageY,a=e.altKey,l={startX:r,currentX:r,startY:s,currentY:s,altKey:a};this.el.classList.add("active"),this._onDidStart.fire(l);let c=no(this.el),d=()=>{let p="";i?p="all-scroll":this.orientation===1?this.state===1?p="s-resize":this.state===2?p="n-resize":p=Xe?"row-resize":"ns-resize":this.state===1?p="e-resize":this.state===2?p="w-resize":p=Xe?"col-resize":"ew-resize",c.textContent=`* { cursor: ${p} !important; }`},h=new Q;d(),i||this.onDidEnablementChange.event(d,null,h);let u=p=>{Wt.stop(p,!1);let b={startX:r,currentX:p.pageX,startY:s,currentY:p.pageY,altKey:a};this._onDidChange.fire(b)},f=p=>{Wt.stop(p,!1),this.el.removeChild(c),this.el.classList.remove("active"),this._onDidEnd.fire(),h.dispose();for(let b of n)b.style.pointerEvents="auto"};t.onPointerMove(u,null,h),t.onPointerUp(f,null,h),h.add(t)}onPointerDoublePress(e){let t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger(()=>e.el.classList.add("hover"),e.hoverDelay).then(void 0,()=>{}),!t&&e.linkedSash&&Vn.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&Vn.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){Vn.onMouseLeave(this)}layout(){if(this.orientation===0){let e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{let e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(e){if(!(!e.target||!(e.target instanceof HTMLElement))&&e.target.classList.contains("orthogonal-drag-handle"))return e.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}};tt();Se();ne();Wc();_o();xe();Me();Me();is();Lo();Yv();var lI={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:us.text,TERMINALS:"Terminals"},V4=class{constructor(e){this.data=e}update(){}getData(){return this.data}},Uc={CurrentDragAndDropData:void 0};Me();cs();ne();wt();di();xe();var zs=class extends ${constructor(e,t,i={}){super();this.options=i,this._context=e||this,this._action=t,t instanceof yo&&this._register(t.onDidChange(n=>{!this.element||this.handleActionChangeEvent(n)}))}handleActionChangeEvent(e){e.enabled!==void 0&&this.updateEnabled(),e.checked!==void 0&&this.updateChecked(),e.class!==void 0&&this.updateClass(),e.label!==void 0&&(this.updateLabel(),this.updateTooltip()),e.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new Al)),this._actionRunner}set actionRunner(e){this._actionRunner=e}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){let t=this.element=e;this._register(Bt.addTarget(e));let i=this.options&&this.options.draggable;i&&(e.draggable=!0,On&&this._register(oe(e,Le.DRAG_START,n=>{var r;return(r=n.dataTransfer)===null||r===void 0?void 0:r.setData(lI.TEXT,this._action.label)}))),this._register(oe(t,ei.Tap,n=>this.onClick(n,!0))),this._register(oe(t,Le.MOUSE_DOWN,n=>{i||Wt.stop(n,!0),this._action.enabled&&n.button===0&&t.classList.add("active")})),Xe&&this._register(oe(t,Le.CONTEXT_MENU,n=>{n.button===0&&n.ctrlKey===!0&&this.onClick(n)})),this._register(oe(t,Le.CLICK,n=>{Wt.stop(n,!0),this.options&&this.options.isMenu||this.onClick(n)})),this._register(oe(t,Le.DBLCLICK,n=>{Wt.stop(n,!0)})),[Le.MOUSE_UP,Le.MOUSE_OUT].forEach(n=>{this._register(oe(t,n,r=>{Wt.stop(r),t.classList.remove("active")}))})}onClick(e,t=!1){var i;Wt.stop(e,!0);let n=er(this._context)?((i=this.options)===null||i===void 0?void 0:i.useEventAsContext)?e:{preserveFocus:t}:this._context;this.actionRunner.run(this._action,n)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(e){this.element&&(this.element.tabIndex=e?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}},Qd=class extends zs{constructor(e,t,i={}){super(e,t,i);this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass=""}render(e){super.render(e),this.element&&(this.label=J(this.element,se("a.action-label"))),this.label&&(this._action.id===fr.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&(J(this.element,se("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=g({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e&&this.label&&(this.label.title=e)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}};cs();Se();ne();di();var lue=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},pr=class extends ${constructor(e,t={}){var i,n,r,s,a,l;super();this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new F),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new F({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new F),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new F),this.onBeforeRun=this._onBeforeRun.event,this.options=t,this._context=(i=t.context)!==null&&i!==void 0?i:null,this._orientation=(n=this.options.orientation)!==null&&n!==void 0?n:0,this._triggerKeys={keyDown:(s=(r=this.options.triggerKeys)===null||r===void 0?void 0:r.keyDown)!==null&&s!==void 0?s:!1,keys:(l=(a=this.options.triggerKeys)===null||a===void 0?void 0:a.keys)!==null&&l!==void 0?l:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new Al,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(h=>this._onDidRun.fire(h))),this._register(this._actionRunner.onBeforeRun(h=>this._onBeforeRun.fire(h))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",t.animated!==!1&&this.domNode.classList.add("animated");let c,d;switch(this._orientation){case 0:c=[15],d=[17];break;case 1:c=[16],d=[18],this.domNode.className+=" vertical";break}this._register(oe(this.domNode,Le.KEY_DOWN,h=>{let u=new Kt(h),f=!0,p=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;c&&(u.equals(c[0])||u.equals(c[1]))?f=this.focusPrevious():d&&(u.equals(d[0])||u.equals(d[1]))?f=this.focusNext():u.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():u.equals(14)?f=this.focusFirst():u.equals(13)?f=this.focusLast():u.equals(2)&&p instanceof zs&&p.trapsArrowNavigation?f=this.focusNext():this.isTriggerKeyEvent(u)?this._triggerKeys.keyDown?this.doTrigger(u):this.triggerKeyDown=!0:f=!1,f&&(u.preventDefault(),u.stopPropagation())})),this._register(oe(this.domNode,Le.KEY_UP,h=>{let u=new Kt(h);this.isTriggerKeyEvent(u)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(u)),u.preventDefault(),u.stopPropagation()):(u.equals(2)||u.equals(1024|2))&&this.updateFocusedItem()})),this.focusTracker=this._register(bc(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(Rf()===this.domNode||!Ll(Rf(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}setFocusable(e){if(this.focusable=e,this.focusable){let t=this.viewItems.find(i=>i instanceof zs&&i.isEnabled());t instanceof zs&&t.setFocusable(!0)}else this.viewItems.forEach(t=>{t instanceof zs&&t.setFocusable(!1)})}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach(i=>{t=t||e.equals(i)}),t}updateFocusedItem(){for(let e=0;e<this.actionsList.children.length;e++){let t=this.actionsList.children[e];if(Ll(Rf(),t)){this.focusedItem=e;break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach(t=>t.setActionContext(e))}get actionRunner(){return this._actionRunner}set actionRunner(e){e&&(this._actionRunner=e,this.viewItems.forEach(t=>t.actionRunner=e))}getContainer(){return this.domNode}push(e,t={}){let i=Array.isArray(e)?e:[e],n=_l(t.index)?t.index:null;i.forEach(r=>{let s=document.createElement("li");s.className="action-item",s.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(oe(s,Le.CONTEXT_MENU,l=>{Wt.stop(l,!0)}));let a;this.options.actionViewItemProvider&&(a=this.options.actionViewItemProvider(r)),a||(a=new Qd(this.context,r,t)),a.actionRunner=this._actionRunner,a.setActionContext(this.context),a.render(s),this.focusable&&a instanceof zs&&this.viewItems.length===0&&a.setFocusable(!0),n===null||n<0||n>=this.actionsList.children.length?(this.actionsList.appendChild(s),this.viewItems.push(a),this._actionIds.push(r.id)):(this.actionsList.insertBefore(s,this.actionsList.children[n]),this.viewItems.splice(n,0,a),this._actionIds.splice(n,0,r.id),n++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem)}clear(){ct(this.viewItems),this.viewItems=[],this._actionIds=[],Zi(this.actionsList)}length(){return this.viewItems.length}focus(e){let t=!1,i;if(e===void 0?t=!0:typeof e=="number"?i=e:typeof e=="boolean"&&(t=e),t&&typeof this.focusedItem=="undefined"){let n=this.viewItems.findIndex(r=>r.isEnabled());this.focusedItem=n===-1?void 0:n,this.updateFocus(void 0,void 0,!0)}else i!==void 0&&(this.focusedItem=i),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(e){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;let t=this.focusedItem,i;do{if(!e&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=t,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&this.options.focusOnlyEnabledItems&&!i.isEnabled());return this.updateFocus(),!0}focusPrevious(e){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;let t=this.focusedItem,i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!e&&this.options.preventLoopNavigation)return this.focusedItem=t,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&this.options.focusOnlyEnabledItems&&!i.isEnabled());return this.updateFocus(!0),!0}updateFocus(e,t,i=!1){var n;typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((n=this.viewItems[this.previouslyFocusedItem])===null||n===void 0||n.blur());let r=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(r){let s=!0;ub(r.focus)||(s=!1),this.options.focusOnlyEnabledItems&&ub(r.isEnabled)&&!r.isEnabled()&&(s=!1),s?(i||this.previouslyFocusedItem!==this.focusedItem)&&(r.focus(e),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem=void 0)}}doTrigger(e){if(typeof this.focusedItem=="undefined")return;let t=this.viewItems[this.focusedItem];if(t instanceof zs){let i=t._context===null||t._context===void 0?e:t._context;this.run(t._action,i)}}run(e,t){return lue(this,void 0,void 0,function*(){yield this._actionRunner.run(e,t)})}dispose(){ct(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}};cs();ne();Dt();_o();An();$f();ot();Ws();_t();yi();dt();en();tt();en();Se();xe();fL();Ur();dt();var cue={IconContribution:"base.contributions.icons"},PK=class{constructor(){this._onDidChange=new F,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:g("iconDefintion.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:g("iconDefintion.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${Co.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(e,t,i,n){let r=this.iconsById[e];if(r){if(i&&!r.description){r.description=i,this.iconSchema.properties[e].markdownDescription=`${i} $(${e})`;let l=this.iconReferenceSchema.enum.indexOf(e);l!==-1&&(this.iconReferenceSchema.enumDescriptions[l]=i),this._onDidChange.fire()}return r}let s={id:e,description:i,defaults:t,deprecationMessage:n};this.iconsById[e]=s;let a={$ref:"#/definitions/icons"};return n&&(a.deprecationMessage=n),i&&(a.markdownDescription=`${i}: $(${e})`),this.iconSchema.properties[e]=a,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:e}}getIcons(){return Object.keys(this.iconsById).map(e=>this.iconsById[e])}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}getIconFont(e){return this.iconFontsById[e]}toString(){let e=(r,s)=>r.id.localeCompare(s.id),t=r=>{for(;qt.isThemeIcon(r.defaults);)r=this.iconsById[r.defaults.id];return`codicon codicon-${r?r.id:""}`},i=[];i.push("| preview     | identifier                        | default codicon ID                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");let n=Object.keys(this.iconsById).map(r=>this.iconsById[r]);for(let r of n.filter(s=>!!s.description).sort(e))i.push(`|<i class="${t(r)}"></i>|${r.id}|${qt.isThemeIcon(r.defaults)?r.defaults.id:r.id}|${r.description||""}|`);i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(let r of n.filter(s=>!qt.isThemeIcon(s.defaults)).sort(e))i.push(`|<i class="${t(r)}"></i>|${r.id}|`);return i.join(`
`)}},Wp=new PK;ki.add(cue.IconContribution,Wp);function cn(o,e,t,i){return Wp.registerIcon(o,e,t,i)}function RK(){return Wp}function due(){for(let o of zb.all)Wp.registerIcon(o.id,o.definition,o.description);zb.onDidRegister(o=>Wp.registerIcon(o.id,o.definition,o.description))}due();var MK="vscode://schemas/icons",AK=ki.as(np.JSONContribution);AK.registerSchema(MK,Wp.getIconSchema());var FK=new bt(()=>AK.notifySchemaChanged(MK),200);Wp.onDidChange(()=>{FK.isScheduled()||FK.schedule()});var cI=cn("widget-close",z.close,g("widgetClose","Icon for the close action in widgets.")),w$e=cn("goto-previous-location",z.arrowUp,g("previousChangeIcon","Icon for goto previous editor location.")),C$e=cn("goto-next-location",z.arrowDown,g("nextChangeIcon","Icon for goto next editor location.")),y$e=qt.modify(z.sync,"spin"),S$e=qt.modify(z.loading,"spin");ar();var hue=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},uue=function(o,e){return function(t,i){e(t,i,o)}},fue=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},H4,dI=3,pw=class{constructor(e,t,i,n){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=i,this.modifiedLineEnd=n}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}},hI=class{constructor(e){this.entries=e}},gue=cn("diff-review-insert",z.add,g("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),mue=cn("diff-review-remove",z.remove,g("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),pue=cn("diff-review-close",z.close,g("diffReviewCloseIcon","Icon for 'Close' in diff review.")),Dy=class Up extends ${constructor(e,t){super();this._modeService=t,this._width=0,this._diffEditor=e,this._isVisible=!1,this.shadow=mt(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=mt(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new pr(this.actionBarContainer.domNode)),this._actionBar.push(new yo("diffreview.close",g("label.close","Close"),"close-diff-review "+qt.asClassName(pue),!0,()=>fue(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=mt(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=mt(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new jc(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(e.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(e.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(Ni(this.domNode.domNode,"click",i=>{i.preventDefault();let n=HP(i.target,"diff-review-row");n&&this._goToRow(n)})),this._register(Ni(this.domNode.domNode,"keydown",i=>{(i.equals(18)||i.equals(2048|18)||i.equals(512|18))&&(i.preventDefault(),this._goToRow(this._getNextRow())),(i.equals(16)||i.equals(2048|16)||i.equals(512|16))&&(i.preventDefault(),this._goToRow(this._getPrevRow())),(i.equals(9)||i.equals(2048|9)||i.equals(512|9)||i.equals(1024|9))&&(i.preventDefault(),this.hide()),(i.equals(10)||i.equals(3))&&(i.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let i=-1;for(let n=0,r=this._diffs.length;n<r;n++)if(this._diffs[n]===this._currentDiff){i=n;break}e=this._diffs.length+i-1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;e=e%this._diffs.length;let t=this._diffs[e].entries;this._diffEditor.setPosition(new H(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let i=-1;for(let n=0,r=this._diffs.length;n<r;n++)if(this._diffs[n]===this._currentDiff){i=n;break}e=i+1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;e=e%this._diffs.length;let t=this._diffs[e].entries;this._diffEditor.setPosition(new H(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let e=-1,t=this._getCurrentFocusedRow();if(t){let i=parseInt(t.getAttribute("data-line"),10);isNaN(i)||(e=i)}this.hide(),e!==-1&&(this._diffEditor.setPosition(new H(e,1)),this._diffEditor.revealPosition(new H(e,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()}_getNextRow(){let e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null}_goToRow(e){let t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(e,t,i){this._width=t,this.shadow.setTop(e-6),this.shadow.setWidth(t),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(t),this.domNode.setHeight(i),this._content.setHeight(i),this._content.setWidth(t),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){let e=this._diffEditor.getLineChanges();if(!e||e.length===0)return[];let t=this._diffEditor.getOriginalEditor().getModel(),i=this._diffEditor.getModifiedEditor().getModel();return!t||!i?[]:Up._mergeAdjacent(e,t.getLineCount(),i.getLineCount())}static _mergeAdjacent(e,t,i){if(!e||e.length===0)return[];let n=[],r=0;for(let c=0,d=e.length;c<d;c++){let h=e[c],u=h.originalStartLineNumber,f=h.originalEndLineNumber,p=h.modifiedStartLineNumber,b=h.modifiedEndLineNumber,v=[],y=0;{let w=f===0?u:u-1,S=b===0?p:p-1,x=1,k=1;if(c>0){let N=e[c-1];N.originalEndLineNumber===0?x=N.originalStartLineNumber+1:x=N.originalEndLineNumber+1,N.modifiedEndLineNumber===0?k=N.modifiedStartLineNumber+1:k=N.modifiedEndLineNumber+1}let R=w-dI+1,O=S-dI+1;if(R<x){let N=x-R;R=R+N,O=O+N}if(O<k){let N=k-O;R=R+N,O=O+N}v[y++]=new pw(R,w,O,S)}f!==0&&(v[y++]=new pw(u,f,0,0)),b!==0&&(v[y++]=new pw(0,0,p,b));{let w=f===0?u+1:f+1,S=b===0?p+1:b+1,x=t,k=i;if(c+1<d){let N=e[c+1];N.originalEndLineNumber===0?x=N.originalStartLineNumber:x=N.originalStartLineNumber-1,N.modifiedEndLineNumber===0?k=N.modifiedStartLineNumber:k=N.modifiedStartLineNumber-1}let R=w+dI-1,O=S+dI-1;if(R>x){let N=x-R;R=R+N,O=O+N}if(O>k){let N=k-O;R=R+N,O=O+N}v[y++]=new pw(w,R,S,O)}n[r++]=new hI(v)}let s=n[0].entries,a=[],l=0;for(let c=1,d=n.length;c<d;c++){let h=n[c].entries,u=s[s.length-1],f=h[0];if(u.getType()===0&&f.getType()===0&&f.originalLineStart<=u.originalLineEnd){s[s.length-1]=new pw(u.originalLineStart,f.originalLineEnd,u.modifiedLineStart,f.modifiedLineEnd),s=s.concat(h.slice(1));continue}a[l++]=new hI(s),s=h}return a[l++]=new hI(s),a}_findDiffIndex(e){let t=e.lineNumber;for(let i=0,n=this._diffs.length;i<n;i++){let r=this._diffs[i].entries,s=r[r.length-1].modifiedLineEnd;if(t<=s)return i}return 0}_render(){let e=this._diffEditor.getOriginalEditor().getOptions(),t=this._diffEditor.getModifiedEditor().getOptions(),i=this._diffEditor.getOriginalEditor().getModel(),n=this._diffEditor.getModifiedEditor().getModel(),r=i.getOptions(),s=n.getOptions();if(!this._isVisible||!i||!n){Zi(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});let a=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[a]===this._currentDiff)return;this._currentDiff=this._diffs[a];let l=this._diffs[a].entries,c=document.createElement("div");c.className="diff-review-table",c.setAttribute("role","list"),c.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),fn.applyFontInfoSlow(c,t.get(43));let d=0,h=0,u=0,f=0;for(let O=0,N=l.length;O<N;O++){let W=l[O],G=W.originalLineStart,Y=W.originalLineEnd,te=W.modifiedLineStart,re=W.modifiedLineEnd;G!==0&&(d===0||G<d)&&(d=G),Y!==0&&(h===0||Y>h)&&(h=Y),te!==0&&(u===0||te<u)&&(u=te),re!==0&&(f===0||re>f)&&(f=re)}let p=document.createElement("div");p.className="diff-review-row";let b=document.createElement("div");b.className="diff-review-cell diff-review-summary";let v=h-d+1,y=f-u+1;b.appendChild(document.createTextNode(`${a+1}/${this._diffs.length}: @@ -${d},${v} +${u},${y} @@`)),p.setAttribute("data-line",String(u));let w=O=>O===0?g("no_lines_changed","no lines changed"):O===1?g("one_line_changed","1 line changed"):g("more_lines_changed","{0} lines changed",O),S=w(v),x=w(y);p.setAttribute("aria-label",g({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",a+1,this._diffs.length,d,S,u,x)),p.appendChild(b),p.setAttribute("role","listitem"),c.appendChild(p);let k=t.get(58),R=u;for(let O=0,N=l.length;O<N;O++){let W=l[O];Up._renderSection(c,W,R,k,this._width,e,i,r,t,n,s,this._modeService.languageIdCodec),W.modifiedLineStart!==0&&(R=W.modifiedLineEnd)}Zi(this._content.domNode),this._content.domNode.appendChild(c),this.scrollbar.scanDomNode()}static _renderSection(e,t,i,n,r,s,a,l,c,d,h,u){let f=t.getType(),p="diff-review-row",b="",v="diff-review-spacer",y=null;switch(f){case 1:p="diff-review-row line-insert",b=" char-insert",y=gue;break;case 2:p="diff-review-row line-delete",b=" char-delete",y=mue;break}let w=t.originalLineStart,S=t.originalLineEnd,x=t.modifiedLineStart,k=t.modifiedLineEnd,R=Math.max(k-x,S-w),O=s.get(130),N=O.glyphMarginWidth+O.lineNumbersWidth,W=c.get(130),G=10+W.glyphMarginWidth+W.lineNumbersWidth;for(let Y=0;Y<=R;Y++){let te=w===0?0:w+Y,re=x===0?0:x+Y,Pe=document.createElement("div");Pe.style.minWidth=r+"px",Pe.className=p,Pe.setAttribute("role","listitem"),re!==0&&(i=re),Pe.setAttribute("data-line",String(i));let Ne=document.createElement("div");Ne.className="diff-review-cell",Ne.style.height=`${n}px`,Pe.appendChild(Ne);let Ae=document.createElement("span");Ae.style.width=N+"px",Ae.style.minWidth=N+"px",Ae.className="diff-review-line-number"+b,te!==0?Ae.appendChild(document.createTextNode(String(te))):Ae.innerText="\xA0",Ne.appendChild(Ae);let He=document.createElement("span");He.style.width=G+"px",He.style.minWidth=G+"px",He.style.paddingRight="10px",He.className="diff-review-line-number"+b,re!==0?He.appendChild(document.createTextNode(String(re))):He.innerText="\xA0",Ne.appendChild(He);let We=document.createElement("span");if(We.className=v,y){let gi=document.createElement("span");gi.className=qt.asClassName(y),gi.innerText="\xA0\xA0",We.appendChild(gi)}else We.innerText="\xA0\xA0";Ne.appendChild(We);let Ue;if(re!==0){let gi=this._renderLine(d,c,h.tabSize,re,u);Up._ttPolicy&&(gi=Up._ttPolicy.createHTML(gi)),Ne.insertAdjacentHTML("beforeend",gi),Ue=d.getLineContent(re)}else{let gi=this._renderLine(a,s,l.tabSize,te,u);Up._ttPolicy&&(gi=Up._ttPolicy.createHTML(gi)),Ne.insertAdjacentHTML("beforeend",gi),Ue=a.getLineContent(te)}Ue.length===0&&(Ue=g("blankLine","blank"));let Ie="";switch(f){case 0:te===re?Ie=g({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",Ue,te):Ie=g("equalLine","{0} original line {1} modified line {2}",Ue,te,re);break;case 1:Ie=g("insertLine","+ {0} modified line {1}",Ue,re);break;case 2:Ie=g("deleteLine","- {0} original line {1}",Ue,te);break}Pe.setAttribute("aria-label",Ie),e.appendChild(Pe)}}static _renderLine(e,t,i,n,r){let s=e.getLineContent(n),a=t.get(43),l=hn.createEmpty(s,r),c=hr.isBasicASCII(s,e.mightContainNonBasicASCII()),d=hr.containsRTL(s,c,e.mightContainRTL());return iv(new Va(a.isMonospace&&!t.get(29),a.canUseHalfwidthRightwardsArrow,s,!1,c,d,0,l,[],i,0,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,t.get(104),t.get(87),t.get(82),t.get(44)!==Uo.OFF,null)).html}};Dy._ttPolicy=(H4=window.trustedTypes)===null||H4===void 0?void 0:H4.createPolicy("diffReview",{createHTML:o=>o});Dy=hue([uue(1,Pi)],Dy);gt((o,e)=>{let t=o.getColor(Dk);t&&e.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${t}; }`);let i=o.getColor(Ul);i&&e.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${i} 0 -6px 6px -6px inset; }`)});var BK=class extends _e{constructor(){super({id:"editor.action.diffReview.next",label:g("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:pe.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(e,t){let i=WK(e);i&&i.diffReviewNext()}},jK=class extends _e{constructor(){super({id:"editor.action.diffReview.prev",label:g("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:pe.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1024|65,weight:100}})}run(e,t){let i=WK(e);i&&i.diffReviewPrev()}};function WK(o){let e=o.get(Ot),t=e.listDiffEditors(),i=e.getActiveCodeEditor();if(!i)return null;for(let n=0,r=t.length;n<r;n++){let s=t[n];if(s.getModifiedEditor().getId()===i.getId()||s.getOriginalEditor().getId()===i.getId())return s}return null}le(BK);le(jK);An();ve();zf();k0();Wn();xd();_t();Ge();yi();dt();Ge();var pa=Fe("contextViewService"),Vs=Fe("contextMenuService");xe();Me();cs();ne();ve();en();var $4=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},K4=class extends ${constructor(e,t,i,n,r,s){super();this._viewZoneId=e,this._marginDomNode=t,this.editor=i,this.diff=n,this._contextMenuService=r,this._clipboardService=s,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=z.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";let a=i.getOption(58),l=i.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${a}px`,this._diffActions.style.lineHeight=`${a}px`,this._marginDomNode.appendChild(this._diffActions);let c=[],d=n.modifiedEndLineNumber===0;c.push(new yo("diff.clipboard.copyDeletedContent",d?n.originalEndLineNumber>n.modifiedStartLineNumber?g("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):g("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):n.originalEndLineNumber>n.modifiedStartLineNumber?g("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):g("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>$4(this,void 0,void 0,function*(){let b=new D(n.originalStartLineNumber,1,n.originalEndLineNumber+1,1),v=n.originalModel.getValueInRange(b);yield this._clipboardService.writeText(v)})));let h=0,u;n.originalEndLineNumber>n.modifiedStartLineNumber&&(u=new yo("diff.clipboard.copyDeletedLineContent",d?g("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",n.originalStartLineNumber):g("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",n.originalStartLineNumber),void 0,!0,()=>$4(this,void 0,void 0,function*(){let b=n.originalModel.getLineContent(n.originalStartLineNumber+h);if(b===""){let v=n.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(v===0?`
`:`\r
`)}else yield this._clipboardService.writeText(b)})),c.push(u)),i.getOption(80)||c.push(new yo("diff.inline.revertChange",g("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>$4(this,void 0,void 0,function*(){let b=new D(n.originalStartLineNumber,1,n.originalEndLineNumber,n.originalModel.getLineMaxColumn(n.originalEndLineNumber)),v=n.originalModel.getValueInRange(b);if(n.modifiedEndLineNumber===0){let y=i.getModel().getLineMaxColumn(n.modifiedStartLineNumber);i.executeEdits("diffEditor",[{range:new D(n.modifiedStartLineNumber,y,n.modifiedStartLineNumber,y),text:l+v}])}else{let y=i.getModel().getLineMaxColumn(n.modifiedEndLineNumber);i.executeEdits("diffEditor",[{range:new D(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber,y),text:v}])}})));let p=(b,v)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:b,y:v}),getActions:()=>(u&&(u.label=d?g("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",n.originalStartLineNumber+h):g("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",n.originalStartLineNumber+h)),c),autoSelectFirstItem:!0})};this._register(Ni(this._diffActions,"mousedown",b=>{let{top:v,height:y}=Gi(this._diffActions),w=Math.floor(a/3);b.preventDefault(),p(b.posx,v+y+w)})),this._register(i.onMouseMove(b=>{b.target.type===8||b.target.type===5?b.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,h=this._updateLightBulbPosition(this._marginDomNode,b.event.browserEvent.y,a)):this.visibility=!1:this.visibility=!1})),this._register(i.onMouseDown(b=>{!b.event.rightButton||(b.target.type===8||b.target.type===5)&&b.target.detail.viewZoneId===this._viewZoneId&&(b.event.preventDefault(),h=this._updateLightBulbPosition(this._marginDomNode,b.event.browserEvent.y,a),p(b.event.posx,b.event.posy+a))}))}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,e?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(e,t,i){let{top:n}=Gi(e),r=t-n,s=Math.floor(r/i),a=s*i;if(this._diffActions.style.top=`${a}px`,this.diff.viewLineCounts){let l=0;for(let c=0;c<this.diff.viewLineCounts.length;c++)if(l+=this.diff.viewLineCounts[c],s<l)return c}return s}};Ge();var Hs=Fe("clipboardService");Dt();st();$l();en();var _ue=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},Iu=function(o,e){return function(t,i){e(t,i,o)}},Y4,q4=class{constructor(e,t){this._contextMenuService=e,this._clipboardService=t,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(e){return e.filter(t=>!this._zonesMap[String(t.id)])}clean(e){this._zones.length>0&&e.changeViewZones(t=>{for(let i of this._zones)t.removeZone(i)}),this._zones=[],this._zonesMap={},this._decorations=e.deltaDecorations(this._decorations,[])}apply(e,t,i,n){let r=n?Xa.capture(e):null;e.changeViewZones(s=>{var a;for(let l of this._zones)s.removeZone(l);for(let l of this._inlineDiffMargins)l.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let l=0,c=i.zones.length;l<c;l++){let d=i.zones[l];d.suppressMouseDown=!0;let h=s.addZone(d);this._zones.push(h),this._zonesMap[String(h)]=!0,i.zones[l].diff&&d.marginDomNode&&(d.suppressMouseDown=!1,((a=i.zones[l].diff)===null||a===void 0?void 0:a.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new K4(h,d.marginDomNode,e,i.zones[l].diff,this._contextMenuService,this._clipboardService)))}}),r&&r.restore(e),this._decorations=e.deltaDecorations(this._decorations,i.decorations),t&&t.setZones(i.overviewZones)}},bue=0,vue=cn("diff-insert",z.add,g("diffInsertIcon","Line decoration for inserts in the diff editor.")),UK=cn("diff-remove",z.remove,g("diffRemoveIcon","Line decoration for removals in the diff editor.")),zK=(Y4=window.trustedTypes)===null||Y4===void 0?void 0:Y4.createPolicy("diffEditorWidget",{createHTML:o=>o}),Ou=class _r extends ${constructor(e,t,i,n,r,s,a,l,c,d,h,u){super();this._editorProgressService=u,this._onDidDispose=this._register(new F),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new F),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new F),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=r,this._codeEditorService=l,this._contextKeyService=this._register(s.createScoped(e)),this._instantiationService=a.createChild(new Xd([Ce,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=c,this._notificationService=d,this._id=++bue,this._state=0,this._updatingDiffProgress=null,this._domElement=e,t=t||{},this._options=KK(t,{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),typeof t.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",t.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new bt(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=_r._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=mt(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(Ni(this._overviewDomElement,"mousedown",p=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(p)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new q4(h,n),this._modifiedEditorState=new q4(h,n),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new b1(this._containerDomElement,t.dimension,()=>this._onDidContainerSizeChanged())),t.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(t,i.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(t,i.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=a.createInstance(Dy,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new Jd(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new X4(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(c.onDidColorThemeChange(p=>{this._strategy&&this._strategy.applyColors(p)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=_r._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));let f=Zf.getDiffEditorContributions();for(let p of f)try{this._register(a.createInstance(p.ctor,this))}catch(b){ye(b)}this._codeEditorService.addDiffEditor(this)}_setState(e){this._state!==e&&(this._state=e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(e,t){let i="monaco-diff-editor monaco-editor-background ";return t&&(i+="side-by-side "),i+=up(e.type),i}_recreateOverviewRulers(){!this._options.renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(e,t){let i=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(e),t);this._register(i.onDidScrollChange(r=>{this._isHandlingScrollEvent||!r.scrollTopChanged&&!r.scrollLeftChanged&&!r.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(i.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(i.onDidChangeConfiguration(r=>{!i.getModel()||(r.hasChanged(43)&&this._updateDecorationsRunner.schedule(),r.hasChanged(131)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(i.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(i.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));let n=this._contextKeyService.createKey("isInDiffLeftEditor",i.hasWidgetFocus());return this._register(i.onDidFocusEditorWidget(()=>n.set(!0))),this._register(i.onDidBlurEditorWidget(()=>n.set(!1))),this._register(i.onDidContentSizeChange(r=>{let s=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+_r.ONE_OVERVIEW_WIDTH,a=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:a,contentWidth:s,contentHeightChanged:r.contentHeightChanged,contentWidthChanged:r.contentWidthChanged})})),i}_createRightHandSideEditor(e,t){let i=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(e),t);this._register(i.onDidScrollChange(r=>{this._isHandlingScrollEvent||!r.scrollTopChanged&&!r.scrollLeftChanged&&!r.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(i.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(i.onDidChangeConfiguration(r=>{!i.getModel()||(r.hasChanged(43)&&this._updateDecorationsRunner.schedule(),r.hasChanged(131)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(i.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(i.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(i.onDidChangeModelOptions(r=>{r.tabSize&&this._updateDecorationsRunner.schedule()}));let n=this._contextKeyService.createKey("isInDiffRightEditor",i.hasWidgetFocus());return this._register(i.onDidFocusEditorWidget(()=>n.set(!0))),this._register(i.onDidBlurEditorWidget(()=>n.set(!1))),this._register(i.onDidContentSizeChange(r=>{let s=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+_r.ONE_OVERVIEW_WIDTH,a=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:a,contentWidth:s,contentHeightChanged:r.contentHeightChanged,contentWidthChanged:r.contentWidthChanged})})),i}_createInnerEditor(e,t,i,n){return e.createInstance(Cg,t,i,n)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Bf.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(e){let t=KK(e,this._options),i=Cue(this._options,t);this._options=t;let n=i.ignoreTrimWhitespace||i.renderIndicators,r=this._isVisible&&(i.maxComputationTime||i.maxFileSize);n?this._beginUpdateDecorations():r&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(e)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(e)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),i.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new Jd(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new X4(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=_r._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),i.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(e?e.original:null),this._modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),e&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(e){return this._modifiedEditor.getVisibleColumnFromPosition(e)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(e){this._modifiedEditor.setPosition(e)}revealLine(e,t=0){this._modifiedEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this._modifiedEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this._modifiedEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this._modifiedEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this._modifiedEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this._modifiedEditor.revealPositionNearTop(e,t)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(e){this._modifiedEditor.setSelection(e)}setSelections(e){this._modifiedEditor.setSelections(e)}revealLines(e,t,i=0){this._modifiedEditor.revealLines(e,t,i)}revealLinesInCenter(e,t,i=0){this._modifiedEditor.revealLinesInCenter(e,t,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t,i)}revealLinesNearTop(e,t,i=0){this._modifiedEditor.revealLinesNearTop(e,t,i)}revealRange(e,t=0,i=!1,n=!0){this._modifiedEditor.revealRange(e,t,i,n)}revealRangeInCenter(e,t=0){this._modifiedEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this._modifiedEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this._modifiedEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){let e=this._originalEditor.saveViewState(),t=this._modifiedEditor.saveViewState();return{original:e,modified:t}}restoreViewState(e){if(e&&e.original&&e.modified){let t=e;this._originalEditor.restoreViewState(t.original),this._modifiedEditor.restoreViewState(t.modified)}}layout(e){this._elementSizeObserver.observe(e)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(e,t,i){this._modifiedEditor.trigger(e,t,i)}changeDecorations(e){return this._modifiedEditor.changeDecorations(e)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;let e=this._elementSizeObserver.getHeight(),t=this._getReviewHeight(),i=_r.ENTIRE_DIFF_OVERVIEW_WIDTH-2*_r.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:_r.ONE_OVERVIEW_WIDTH,right:i+_r.ONE_OVERVIEW_WIDTH,height:e-t}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:_r.ONE_OVERVIEW_WIDTH,height:e-t}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),_r.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(e,t){return!e&&!t?!0:!e||!t?!1:e.toString()===t.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;let e=this._originalEditor.getModel(),t=this._modifiedEditor.getModel();if(!e||!t)return;this._diffComputationToken++;let i=this._diffComputationToken,n=this._options.maxFileSize*1024*1024,r=s=>{let a=s.getValueLength();return n===0||a<=n};if(!r(e)||!r(t)){(!_r._equals(e.uri,this._lastOriginalWarning)||!_r._equals(t.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=e.uri,this._lastModifiedWarning=t.uri,this._notificationService.warn(g("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._setState(1),this._editorWorkerService.computeDiff(e.uri,t.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(s=>{i===this._diffComputationToken&&e===this._originalEditor.getModel()&&t===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=s,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},s=>{i===this._diffComputationToken&&e===this._originalEditor.getModel()&&t===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;let e=this._diffComputationResult?this._diffComputationResult.changes:[],t=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),i=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),n=this._strategy.getEditorsDiffDecorations(e,this._options.ignoreTrimWhitespace,this._options.renderIndicators,t,i);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,n.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,n.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(e){let t=Object.assign({},e);return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar=Object.assign({},t.scrollbar||{}),t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=this._options.diffCodeLens,t.fixedOverflowWidgets=!0,t.minimap=Object.assign({},t.minimap||{}),t.minimap.enabled=!1,t}_adjustOptionsForLeftHandSide(e){let t=this._adjustOptionsForSubEditor(e);return this._options.renderSideBySide?t.wordWrapOverride1=this._options.diffWordWrap:t.wordWrapOverride1="off",e.originalAriaLabel&&(t.ariaLabel=e.originalAriaLabel),t.readOnly=!this._options.originalEditable,t.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},t),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(e){let t=this._adjustOptionsForSubEditor(e);return e.modifiedAriaLabel&&(t.ariaLabel=e.modifiedAriaLabel),t.wordWrapOverride1=this._options.diffWordWrap,t.revealHorizontalRightPadding=Jr.revealHorizontalRightPadding.defaultValue+_r.ENTIRE_DIFF_OVERVIEW_WIDTH,t.scrollbar.verticalHasArrows=!1,t.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},t),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){let e=this._elementSizeObserver.getWidth(),t=this._elementSizeObserver.getHeight(),i=this._getReviewHeight(),n=this._strategy.layout();this._originalDomNode.style.width=n+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=e-n+"px",this._modifiedDomNode.style.left=n+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=t-i+"px",this._overviewDomElement.style.width=_r.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=e-_r.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(_r.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:n,height:t-i}),this._modifiedEditor.layout({width:e-n-(this._options.renderOverviewRuler?_r.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:t-i}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(t-i,e,i),this._layoutOverviewViewport()}_layoutOverviewViewport(){let e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){let e=this._modifiedEditor.getLayoutInfo();if(!e)return null;let t=this._modifiedEditor.getScrollTop(),i=this._modifiedEditor.getScrollHeight(),n=Math.max(0,e.height),r=Math.max(0,n-2*0),s=i>0?r/i:0,a=Math.max(0,Math.floor(e.height*s)),l=Math.floor(t*s);return{height:a,top:l}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(e,t){let i=this._diffComputationResult?this._diffComputationResult.changes:[];if(i.length===0||e<t(i[0]))return null;let n=0,r=i.length-1;for(;n<r;){let s=Math.floor((n+r)/2),a=t(i[s]),l=s+1<=r?t(i[s+1]):1073741824;e<a?r=s-1:e>=l?n=s+1:(n=s,r=s)}return i[n]}_getEquivalentLineForOriginalLineNumber(e){let t=this._getLineChangeAtOrBeforeLineNumber(e,l=>l.originalStartLineNumber);if(!t)return e;let i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),r=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,s=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,a=e-i;return a<=r?n+Math.min(a,s):n+s-r+a}_getEquivalentLineForModifiedLineNumber(e){let t=this._getLineChangeAtOrBeforeLineNumber(e,l=>l.modifiedStartLineNumber);if(!t)return e;let i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),r=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,s=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,a=e-n;return a<=s?i+Math.min(a,r):i+r-s+a}getDiffLineInformationForOriginal(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null}getDiffLineInformationForModified(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null}};Ou.ONE_OVERVIEW_WIDTH=15;Ou.ENTIRE_DIFF_OVERVIEW_WIDTH=30;Ou.UPDATE_DIFF_DECORATIONS_DELAY=200;Ou=_ue([Iu(3,Hs),Iu(4,ro),Iu(5,Ce),Iu(6,Ve),Iu(7,Ot),Iu(8,Rt),Iu(9,fi),Iu(10,Vs),Iu(11,Vr)],Ou);var Z4=class extends ${constructor(e){super();this._dataSource=e,this._insertColor=null,this._removeColor=null}applyColors(e){let t=(e.getColor(iA)||ok).transparent(2),i=(e.getColor(nA)||rk).transparent(2),n=!t.equals(this._insertColor)||!i.equals(this._removeColor);return this._insertColor=t,this._removeColor=i,n}getEditorsDiffDecorations(e,t,i,n,r){r=r.sort((c,d)=>c.afterLineNumber-d.afterLineNumber),n=n.sort((c,d)=>c.afterLineNumber-d.afterLineNumber);let s=this._getViewZones(e,n,r,i),a=this._getOriginalEditorDecorations(e,t,i),l=this._getModifiedEditorDecorations(e,t,i);return{original:{decorations:a.decorations,overviewZones:a.overviewZones,zones:s.original},modified:{decorations:l.decorations,overviewZones:l.overviewZones,zones:s.modified}}}},G4=class{constructor(e){this._source=e,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}},Sg=class{constructor(e,t,i,n,r){this._lineChanges=e,this._originalForeignVZ=t,this._modifiedForeignVZ=i,this._originalEditor=n,this._modifiedEditor=r}static _getViewLineCount(e,t,i){let n=e.getModel(),r=e._getViewModel();if(n&&r){let s=Ly(n,r,t,i);return s.endLineNumber-s.startLineNumber+1}return i-t+1}getViewZones(){let e=this._originalEditor.getOption(58),t=this._modifiedEditor.getOption(58),i=this._originalEditor.getOption(131).wrappingColumn!==-1,n=this._modifiedEditor.getOption(131).wrappingColumn!==-1,r=i||n,s=this._originalEditor.getModel(),a=this._originalEditor._getViewModel().coordinatesConverter,l=this._modifiedEditor._getViewModel().coordinatesConverter,c={original:[],modified:[]},d=0,h=0,u=0,f=0,p=0,b=0,v=(R,O)=>R.afterLineNumber-O.afterLineNumber,y=(R,O)=>{if(O.domNode===null&&R.length>0){let N=R[R.length-1];if(N.afterLineNumber===O.afterLineNumber&&N.domNode===null){N.heightInLines+=O.heightInLines;return}}R.push(O)},w=new G4(this._modifiedForeignVZ),S=new G4(this._originalForeignVZ),x=1,k=1;for(let R=0,O=this._lineChanges.length;R<=O;R++){let N=R<O?this._lineChanges[R]:null;N!==null?(u=N.originalStartLineNumber+(N.originalEndLineNumber>0?-1:0),f=N.modifiedStartLineNumber+(N.modifiedEndLineNumber>0?-1:0),h=N.originalEndLineNumber>0?Sg._getViewLineCount(this._originalEditor,N.originalStartLineNumber,N.originalEndLineNumber):0,d=N.modifiedEndLineNumber>0?Sg._getViewLineCount(this._modifiedEditor,N.modifiedStartLineNumber,N.modifiedEndLineNumber):0,p=Math.max(N.originalStartLineNumber,N.originalEndLineNumber),b=Math.max(N.modifiedStartLineNumber,N.modifiedEndLineNumber)):(u+=1e7+h,f+=1e7+d,p=u,b=f);let W=[],G=[];if(r){let re;N?N.originalEndLineNumber>0?re=N.originalStartLineNumber-x:re=N.modifiedStartLineNumber-k:re=s.getLineCount()-x;for(let Pe=0;Pe<re;Pe++){let Ne=x+Pe,Ae=k+Pe,He=a.getModelLineViewLineCount(Ne),We=l.getModelLineViewLineCount(Ae);He<We?W.push({afterLineNumber:Ne,heightInLines:We-He,domNode:null,marginDomNode:null}):He>We&&G.push({afterLineNumber:Ae,heightInLines:He-We,domNode:null,marginDomNode:null})}N&&(x=(N.originalEndLineNumber>0?N.originalEndLineNumber:N.originalStartLineNumber)+1,k=(N.modifiedEndLineNumber>0?N.modifiedEndLineNumber:N.modifiedStartLineNumber)+1)}for(;w.current&&w.current.afterLineNumber<=b;){let re;w.current.afterLineNumber<=f?re=u-f+w.current.afterLineNumber:re=p;let Pe=null;N&&N.modifiedStartLineNumber<=w.current.afterLineNumber&&w.current.afterLineNumber<=N.modifiedEndLineNumber&&(Pe=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),W.push({afterLineNumber:re,heightInLines:w.current.height/t,domNode:null,marginDomNode:Pe}),w.advance()}for(;S.current&&S.current.afterLineNumber<=p;){let re;S.current.afterLineNumber<=u?re=f-u+S.current.afterLineNumber:re=b,G.push({afterLineNumber:re,heightInLines:S.current.height/e,domNode:null}),S.advance()}if(N!==null&&_w(N)){let re=this._produceOriginalFromDiff(N,h,d);re&&W.push(re)}if(N!==null&&bw(N)){let re=this._produceModifiedFromDiff(N,h,d);re&&G.push(re)}let Y=0,te=0;for(W=W.sort(v),G=G.sort(v);Y<W.length&&te<G.length;){let re=W[Y],Pe=G[te],Ne=re.afterLineNumber-u,Ae=Pe.afterLineNumber-f;Ne<Ae?(y(c.original,re),Y++):Ae<Ne?(y(c.modified,Pe),te++):re.shouldNotShrink?(y(c.original,re),Y++):Pe.shouldNotShrink?(y(c.modified,Pe),te++):re.heightInLines>=Pe.heightInLines?(re.heightInLines-=Pe.heightInLines,te++):(Pe.heightInLines-=re.heightInLines,Y++)}for(;Y<W.length;)y(c.original,W[Y]),Y++;for(;te<G.length;)y(c.modified,G[te]),te++}return{original:Sg._ensureDomNodes(c.original),modified:Sg._ensureDomNodes(c.modified)}}static _ensureDomNodes(e){return e.map(t=>(t.domNode||(t.domNode=$K()),t))}};function Tu(o,e,t,i,n){return{range:new D(o,e,t,i),options:n}}var gs={charDelete:Ze.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:Ze.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:Ze.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:Ze.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:Ze.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:Ze.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+qt.asClassName(vue),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:Ze.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:Ze.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+qt.asClassName(UK),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:Ze.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})},Jd=class extends Z4{constructor(e,t){super(e);this._disableSash=t===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new Vn(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(i=>this._onSashDrag(i)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(e){let t=e===!1;this._disableSash!==t&&(this._disableSash=t,this._sash.state=this._disableSash?0:3)}layout(e=this._sashRatio){let i=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Ou.ENTIRE_DIFF_OVERVIEW_WIDTH:0),n=Math.floor((e||.5)*i),r=Math.floor(.5*i);return n=this._disableSash?r:n||r,i>Jd.MINIMUM_EDITOR_WIDTH*2?(n<Jd.MINIMUM_EDITOR_WIDTH&&(n=Jd.MINIMUM_EDITOR_WIDTH),n>i-Jd.MINIMUM_EDITOR_WIDTH&&(n=i-Jd.MINIMUM_EDITOR_WIDTH)):n=r,this._sashPosition!==n&&(this._sashPosition=n,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(e){let i=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Ou.ENTIRE_DIFF_OVERVIEW_WIDTH:0),n=this.layout((this._startSashPosition+(e.currentX-e.startX))/i);this._sashRatio=n/i,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(e){return 0}getVerticalSashLeft(e){return this._sashPosition}getVerticalSashHeight(e){return this._dataSource.getHeight()}_getViewZones(e,t,i){let n=this._dataSource.getOriginalEditor(),r=this._dataSource.getModifiedEditor();return new VK(e,t,i,n,r).getViewZones()}_getOriginalEditorDecorations(e,t,i){let n=this._dataSource.getOriginalEditor(),r=String(this._removeColor),s={decorations:[],overviewZones:[]},a=n.getModel(),l=n._getViewModel();for(let c of e)if(bw(c)){s.decorations.push({range:new D(c.originalStartLineNumber,1,c.originalEndLineNumber,1073741824),options:i?gs.lineDeleteWithSign:gs.lineDelete}),(!_w(c)||!c.charChanges)&&s.decorations.push(Tu(c.originalStartLineNumber,1,c.originalEndLineNumber,1073741824,gs.charDeleteWholeLine));let d=Ly(a,l,c.originalStartLineNumber,c.originalEndLineNumber);if(s.overviewZones.push(new Rp(d.startLineNumber,d.endLineNumber,r)),c.charChanges){for(let h of c.charChanges)if(bw(h))if(t)for(let u=h.originalStartLineNumber;u<=h.originalEndLineNumber;u++){let f,p;u===h.originalStartLineNumber?f=h.originalStartColumn:f=a.getLineFirstNonWhitespaceColumn(u),u===h.originalEndLineNumber?p=h.originalEndColumn:p=a.getLineLastNonWhitespaceColumn(u),s.decorations.push(Tu(u,f,u,p,gs.charDelete))}else s.decorations.push(Tu(h.originalStartLineNumber,h.originalStartColumn,h.originalEndLineNumber,h.originalEndColumn,gs.charDelete))}}return s}_getModifiedEditorDecorations(e,t,i){let n=this._dataSource.getModifiedEditor(),r=String(this._insertColor),s={decorations:[],overviewZones:[]},a=n.getModel(),l=n._getViewModel();for(let c of e)if(_w(c)){s.decorations.push({range:new D(c.modifiedStartLineNumber,1,c.modifiedEndLineNumber,1073741824),options:i?gs.lineInsertWithSign:gs.lineInsert}),(!bw(c)||!c.charChanges)&&s.decorations.push(Tu(c.modifiedStartLineNumber,1,c.modifiedEndLineNumber,1073741824,gs.charInsertWholeLine));let d=Ly(a,l,c.modifiedStartLineNumber,c.modifiedEndLineNumber);if(s.overviewZones.push(new Rp(d.startLineNumber,d.endLineNumber,r)),c.charChanges){for(let h of c.charChanges)if(_w(h))if(t)for(let u=h.modifiedStartLineNumber;u<=h.modifiedEndLineNumber;u++){let f,p;u===h.modifiedStartLineNumber?f=h.modifiedStartColumn:f=a.getLineFirstNonWhitespaceColumn(u),u===h.modifiedEndLineNumber?p=h.modifiedEndColumn:p=a.getLineLastNonWhitespaceColumn(u),s.decorations.push(Tu(u,f,u,p,gs.charInsert))}else s.decorations.push(Tu(h.modifiedStartLineNumber,h.modifiedStartColumn,h.modifiedEndLineNumber,h.modifiedEndColumn,gs.charInsert))}}return s}};Jd.MINIMUM_EDITOR_WIDTH=100;var VK=class extends Sg{constructor(e,t,i,n,r){super(e,t,i,n,r)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(e,t,i){return i>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i-t,domNode:null}:null}_produceModifiedFromDiff(e,t,i){return t>i?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-i,domNode:null}:null}},X4=class extends Z4{constructor(e,t){super(e);this._decorationsLeft=e.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(e.getOriginalEditor().onDidLayoutChange(i=>{this._decorationsLeft!==i.decorationsLeft&&(this._decorationsLeft=i.decorationsLeft,e.relayoutEditors())}))}setEnableSplitViewResizing(e){}_getViewZones(e,t,i,n){let r=this._dataSource.getOriginalEditor(),s=this._dataSource.getModifiedEditor();return new HK(e,t,i,r,s,n).getViewZones()}_getOriginalEditorDecorations(e,t,i){let n=String(this._removeColor),r={decorations:[],overviewZones:[]},s=this._dataSource.getOriginalEditor(),a=s.getModel(),l=s._getViewModel();for(let c of e)if(bw(c)){r.decorations.push({range:new D(c.originalStartLineNumber,1,c.originalEndLineNumber,1073741824),options:gs.lineDeleteMargin});let d=Ly(a,l,c.originalStartLineNumber,c.originalEndLineNumber);r.overviewZones.push(new Rp(d.startLineNumber,d.endLineNumber,n))}return r}_getModifiedEditorDecorations(e,t,i){let n=this._dataSource.getModifiedEditor(),r=String(this._insertColor),s={decorations:[],overviewZones:[]},a=n.getModel(),l=n._getViewModel();for(let c of e)if(_w(c)){s.decorations.push({range:new D(c.modifiedStartLineNumber,1,c.modifiedEndLineNumber,1073741824),options:i?gs.lineInsertWithSign:gs.lineInsert});let d=Ly(a,l,c.modifiedStartLineNumber,c.modifiedEndLineNumber);if(s.overviewZones.push(new Rp(d.startLineNumber,d.endLineNumber,r)),c.charChanges){for(let h of c.charChanges)if(_w(h))if(t)for(let u=h.modifiedStartLineNumber;u<=h.modifiedEndLineNumber;u++){let f,p;u===h.modifiedStartLineNumber?f=h.modifiedStartColumn:f=a.getLineFirstNonWhitespaceColumn(u),u===h.modifiedEndLineNumber?p=h.modifiedEndColumn:p=a.getLineLastNonWhitespaceColumn(u),s.decorations.push(Tu(u,f,u,p,gs.charInsert))}else s.decorations.push(Tu(h.modifiedStartLineNumber,h.modifiedStartColumn,h.modifiedEndLineNumber,h.modifiedEndColumn,gs.charInsert))}else s.decorations.push(Tu(c.modifiedStartLineNumber,1,c.modifiedEndLineNumber,1073741824,gs.charInsertWholeLine))}return s}layout(){return Math.max(5,this._decorationsLeft)}},HK=class extends Sg{constructor(e,t,i,n,r,s){super(e,t,i,n,r);this._originalModel=n.getModel(),this._renderIndicators=s,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){let e=super.getViewZones();return this._finalize(e),e}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){let e=document.createElement("div");return e.className="inline-added-margin-view-zone",e}_produceOriginalFromDiff(e,t,i){let n=document.createElement("div");return n.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i,domNode:document.createElement("div"),marginDomNode:n}}_produceModifiedFromDiff(e,t,i){let n=document.createElement("div");n.className=`view-lines line-delete ${Fc}`;let r=document.createElement("div");r.className="inline-deleted-margin-view-zone";let s={shouldNotShrink:!0,afterLineNumber:e.modifiedEndLineNumber===0?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,minWidthInPx:0,domNode:n,marginDomNode:r,diff:{originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber,modifiedStartLineNumber:e.modifiedStartLineNumber,modifiedEndLineNumber:e.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let a=e.originalStartLineNumber;a<=e.originalEndLineNumber;a++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(a),null,null);return this._pendingLineChange.push(e),this._pendingViewZones.push(s),s}_finalize(e){let t=this._modifiedEditor.getOptions(),i=this._modifiedEditor.getModel().getOptions().tabSize,n=t.get(43),r=t.get(29),s=n.typicalHalfwidthCharacterWidth,a=t.get(92),l=this._originalModel.mightContainNonBasicASCII(),c=this._originalModel.mightContainRTL(),d=t.get(58),u=t.get(130).decorationsWidth,f=t.get(104),p=t.get(87),b=t.get(82),v=t.get(44),y=this._lineBreaksComputer.finalize(),w=0;for(let S=0;S<this._pendingLineChange.length;S++){let x=this._pendingLineChange[S],k=this._pendingViewZones[S],R=k.domNode;fn.applyFontInfoSlow(R,n);let O=k.marginDomNode;fn.applyFontInfoSlow(O,n);let N=[];if(x.charChanges)for(let Ae of x.charChanges)bw(Ae)&&N.push(new Kf(new D(Ae.originalStartLineNumber,Ae.originalStartColumn,Ae.originalEndLineNumber,Ae.originalEndColumn),"char-delete",0));let W=N.length>0,G=Nl(1e4),Y=0,te=0,re=null;for(let Ae=x.originalStartLineNumber;Ae<=x.originalEndLineNumber;Ae++){let He=Ae-x.originalStartLineNumber,We=this._originalModel.getLineTokens(Ae),Ue=We.getLineContent(),Ie=y[w++],gi=dr.filter(N,Ae,1,Ue.length+1);if(Ie){let Si=0;for(let Gt of Ie.breakOffsets){let nn=We.sliceAndInflate(Si,Gt,0),qo=Ue.substring(Si,Gt);Y=Math.max(Y,this._renderOriginalLine(te++,qo,nn,dr.extractWrapped(gi,Si,Gt),W,l,c,n,r,d,u,f,p,b,v,i,G,O)),Si=Gt}for(re||(re=[]);re.length<He;)re[re.length]=1;re[He]=Ie.breakOffsets.length,k.heightInLines+=Ie.breakOffsets.length-1;let Ui=document.createElement("div");Ui.className="line-delete",e.original.push({afterLineNumber:Ae,afterColumn:0,heightInLines:Ie.breakOffsets.length-1,domNode:$K(),marginDomNode:Ui})}else Y=Math.max(Y,this._renderOriginalLine(te++,Ue,We,gi,W,l,c,n,r,d,u,f,p,b,v,i,G,O))}Y+=a;let Pe=G.build(),Ne=zK?zK.createHTML(Pe):Pe;if(R.innerHTML=Ne,k.minWidthInPx=Y*s,re){let Ae=x.originalEndLineNumber-x.originalStartLineNumber;for(;re.length<=Ae;)re[re.length]=1}k.diff.viewLineCounts=re}e.original.sort((S,x)=>S.afterLineNumber-x.afterLineNumber)}_renderOriginalLine(e,t,i,n,r,s,a,l,c,d,h,u,f,p,b,v,y,w){y.appendASCIIString('<div class="view-line'),r||y.appendASCIIString(" char-delete"),y.appendASCIIString('" style="top:'),y.appendASCIIString(String(e*d)),y.appendASCIIString('px;width:1000000px;">');let S=hr.isBasicASCII(t,s),x=hr.containsRTL(t,S,a),k=Jm(new Va(l.isMonospace&&!c,l.canUseHalfwidthRightwardsArrow,t,!1,S,x,0,i,n,v,0,l.spaceWidth,l.middotWidth,l.wsmiddotWidth,u,f,p,b!==Uo.OFF,null),y);if(y.appendASCIIString("</div>"),this._renderIndicators){let R=document.createElement("div");R.className=`delete-sign ${qt.asClassName(UK)}`,R.setAttribute("style",`position:absolute;top:${e*d}px;width:${h}px;height:${d}px;right:0;`),w.appendChild(R)}return k.characterMapping.getAbsoluteOffset(k.characterMapping.length)}};function wue(o,e){return Br(o,e,["off","on","inherit"])}function _w(o){return o.modifiedEndLineNumber>0}function bw(o){return o.originalEndLineNumber>0}function $K(){let o=document.createElement("div");return o.className="diagonal-fill",o}function Ly(o,e,t,i){let n=o.getLineCount();return t=Math.min(n,Math.max(1,t)),i=Math.min(n,Math.max(1,i)),e.coordinatesConverter.convertModelRangeToViewRange(new D(t,o.getLineMinColumn(t),i,o.getLineMaxColumn(i)))}function KK(o,e){return{enableSplitViewResizing:$e(o.enableSplitViewResizing,e.enableSplitViewResizing),renderSideBySide:$e(o.renderSideBySide,e.renderSideBySide),maxComputationTime:yx(o.maxComputationTime,e.maxComputationTime,0,1073741824),maxFileSize:yx(o.maxFileSize,e.maxFileSize,0,1073741824),ignoreTrimWhitespace:$e(o.ignoreTrimWhitespace,e.ignoreTrimWhitespace),renderIndicators:$e(o.renderIndicators,e.renderIndicators),originalEditable:$e(o.originalEditable,e.originalEditable),diffCodeLens:$e(o.diffCodeLens,e.diffCodeLens),renderOverviewRuler:$e(o.renderOverviewRuler,e.renderOverviewRuler),diffWordWrap:wue(o.diffWordWrap,e.diffWordWrap)}}function Cue(o,e){return{enableSplitViewResizing:o.enableSplitViewResizing!==e.enableSplitViewResizing,renderSideBySide:o.renderSideBySide!==e.renderSideBySide,maxComputationTime:o.maxComputationTime!==e.maxComputationTime,maxFileSize:o.maxFileSize!==e.maxFileSize,ignoreTrimWhitespace:o.ignoreTrimWhitespace!==e.ignoreTrimWhitespace,renderIndicators:o.renderIndicators!==e.renderIndicators,originalEditable:o.originalEditable!==e.originalEditable,diffCodeLens:o.diffCodeLens!==e.diffCodeLens,renderOverviewRuler:o.renderOverviewRuler!==e.renderOverviewRuler,diffWordWrap:o.diffWordWrap!==e.diffWordWrap}}gt((o,e)=>{let t=o.getColor(iA);t&&(e.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${t}; }`),e.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${t}; }`),e.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${t}; }`));let i=o.getColor(nA);i&&(e.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${i}; }`),e.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${i}; }`),e.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${i}; }`));let n=o.getColor(nV);n&&e.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${o.type==="hc"?"dashed":"solid"} ${n}; }`);let r=o.getColor(oV);r&&e.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${o.type==="hc"?"dashed":"solid"} ${r}; }`);let s=o.getColor(Ul);s&&e.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${s}; }`);let a=o.getColor(rV);a&&e.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${a}; }`);let l=o.getColor(nu);l&&e.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${l};
			}
		`);let c=o.getColor(ou);c&&e.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${c};
			}
		`);let d=o.getColor(ru);d&&e.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${d};
			}
		`);let h=o.getColor(sV);e.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${h} 12.5%,
			#0000 12.5%, #0000 50%,
			${h} 50%, ${h} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)});xd();Ge();var Eg=Fe("themeService");No();zi();lr();_t();Ge();Ge();var oi=Fe("keybindingService");dt();$l();xr();ar();Me();ns();Se();ne();var Q4=class extends ${constructor(){super();this._onCodeEditorAdd=this._register(new F),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new F),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new F),this._onDiffEditorRemove=this._register(new F),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map(e=>this._codeEditors[e])}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}removeDiffEditor(e){delete this._diffEditors[e.getId()]&&this._onDiffEditorRemove.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map(e=>this._diffEditors[e])}getFocusedCodeEditor(){let e=null,t=this.listCodeEditors();for(let i of t){if(i.hasTextFocus())return i;i.hasWidgetFocus()&&(e=i)}return e}setModelProperty(e,t,i){let n=e.toString(),r;this._modelProperties.has(n)?r=this._modelProperties.get(n):(r=new Map,this._modelProperties.set(n,r)),r.set(t,i)}getModelProperty(e,t){let i=e.toString();if(this._modelProperties.has(i))return this._modelProperties.get(i).get(t)}};dt();var yue=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},Sue=function(o,e){return function(t,i){e(t,i,o)}};var uI=class extends Q4{constructor(e,t){super();this._decorationOptionProviders=new Map,this._globalStyleSheet=e||null,this._themeService=t}removeDecorationType(e){let t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach(i=>i.removeDecorations(e))))}};uI=yue([Sue(1,Rt)],uI);_t();dt();var Eue=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},YK=function(o,e){return function(t,i){e(t,i,o)}},vw=class extends uI{constructor(e,t,i){super(e,i);this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=t.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let e=!1;for(let t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(e,t,i){return t?Promise.resolve(this.doOpenEditor(t,e)):Promise.resolve(null)}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){let r=t.resource.scheme;if(r===nt.http||r===nt.https)return ID(t.resource.toString()),e}return null}let n=t.options?t.options.selection:null;if(n)if(typeof n.endLineNumber=="number"&&typeof n.endColumn=="number")e.setSelection(n),e.revealRangeInCenter(n,1);else{let r={lineNumber:n.startLineNumber,column:n.startColumn};e.setPosition(r),e.revealPositionInCenter(r,1)}return e}findModel(e,t){let i=e.getModel();return i&&i.uri.toString()!==t.toString()?null:i}};vw=Eue([YK(1,Ce),YK(2,Rt)],vw);Yv();var J4=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},tn=function(o,e){return function(t,i){e(t,i,o)}},xue=0,qK=!1;function Due(o){if(!o){if(qK)return;qK=!0}gz(o||document.body)}var fI=class extends Cg{constructor(e,t,i,n,r,s,a,l,c,d){let h=Object.assign({},t);h.ariaLabel=h.ariaLabel||u1.editorViewAccessibleLabel,h.ariaLabel=h.ariaLabel+";"+u1.accessibilityHelpMessage;super(e,h,{},i,n,r,s,l,c,d);a instanceof f1?this._standaloneKeybindingService=a:this._standaloneKeybindingService=null,Due(h.ariaContainerElement)}addCommand(e,t,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let n="DYNAMIC_"+ ++xue,r=pe.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(n,e,t,r),n}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if(typeof e.id!="string"||typeof e.label!="string"||typeof e.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),$.None;let t=e.id,i=e.label,n=pe.and(pe.equals("editorId",this.getId()),pe.deserialize(e.precondition)),r=e.keybindings,s=pe.and(n,pe.deserialize(e.keybindingContext)),a=e.contextMenuGroupId||null,l=e.contextMenuOrder||0,c=(f,...p)=>Promise.resolve(e.run(this,...p)),d=new Q,h=this.getId()+":"+t;if(d.add(rt.registerCommand(h,c)),a){let f={command:{id:h,title:i},when:n,group:a,order:l};d.add(Vo.appendMenuItem(De.EditorContext,f))}if(Array.isArray(r))for(let f of r)d.add(this._standaloneKeybindingService.addDynamicKeybinding(h,f,c,s));let u=new _y(h,i,i,n,c,this._contextKeyService);return this._actions[t]=u,d.add(ze(()=>{delete this._actions[t]})),d}_triggerCommand(e,t){if(this._codeEditorService instanceof vw)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};fI=J4([tn(2,Ve),tn(3,Ot),tn(4,li),tn(5,Ce),tn(6,oi),tn(7,Rt),tn(8,fi),tn(9,Zn)],fI);var gI=class extends fI{constructor(e,t,i,n,r,s,a,l,c,d,h,u,f,p,b){let v=Object.assign({},t);g1(u,v,!1);let y=d.registerEditorContainer(e);typeof v.theme=="string"&&d.setTheme(v.theme),typeof v.autoDetectHighContrast!="undefined"&&d.setAutoDetectHighContrast(Boolean(v.autoDetectHighContrast));let w=v.model;delete v.model;super(e,v,n,r,s,a,l,d,h,f);this._contextViewService=c,this._configurationService=u,this._standaloneThemeService=d,this._register(i),this._register(y);let S;if(typeof w=="undefined"?(S=eF(p,b,v.value||"",v.language||us.text,void 0),this._ownsModel=!0):(S=w,this._ownsModel=!1),this._attachModel(S),S){let x={oldModelUrl:null,newModelUrl:S.uri};this._onDidChangeModel.fire(x)}}dispose(){super.dispose()}updateOptions(e){g1(this._configurationService,e,!1),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_attachModel(e){super._attachModel(e),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};gI=J4([tn(3,Ve),tn(4,Ot),tn(5,li),tn(6,Ce),tn(7,oi),tn(8,pa),tn(9,Eg),tn(10,fi),tn(11,Vt),tn(12,Zn),tn(13,Ci),tn(14,Pi)],gI);var mI=class extends Ou{constructor(e,t,i,n,r,s,a,l,c,d,h,u,f,p,b){let v=Object.assign({},t);g1(u,v,!0);let y=d.registerEditorContainer(e);typeof v.theme=="string"&&d.setTheme(v.theme),typeof v.autoDetectHighContrast!="undefined"&&d.setAutoDetectHighContrast(Boolean(v.autoDetectHighContrast));super(e,v,{},b,l,r,n,c,d,h,f,p);this._contextViewService=a,this._configurationService=u,this._standaloneThemeService=d,this._register(i),this._register(y),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(e){g1(this._configurationService,e,!0),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_createInnerEditor(e,t,i){return e.createInstance(fI,t,i)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};mI=J4([tn(3,Ve),tn(4,Ce),tn(5,oi),tn(6,pa),tn(7,ro),tn(8,Ot),tn(9,Eg),tn(10,fi),tn(11,Vt),tn(12,Vs),tn(13,Vr),tn(14,Hs)],mI);function eF(o,e,t,i,n){if(t=t||"",!i){let r=t.indexOf(`
`),s=t;return r!==-1&&(s=t.substring(0,r)),ZK(o,t,e.createByFilepathOrFirstLine(n||null,s),n)}return ZK(o,t,e.create(i),n)}function ZK(o,e,t,i){return o.createModel(e,t,i)}ne();_o();xd();ar();Se();ne();Uf();st();Se();ne();Yv();je();fw();Uf();rp();Ur();var zp=Object.prototype.hasOwnProperty,GK=class{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(Ol,0),this._register(Gd,1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;let t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||Ol}},Vp=class extends ${constructor(e=!0,t=!1){super();this._onDidChange=this._register(new F),this.onDidChange=this._onDidChange.event,Vp.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new GK,this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(Lu.onDidChangeLanguages(i=>{this._initializeFromRegistry()})))}dispose(){Vp.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},B$();let e=Lu.getLanguages();this._registerLanguages(e)}_registerLanguages(e){for(let t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(t=>{let i=this._languages[t];i.name&&(this._nameMap[i.name]=i.identifier),i.aliases.forEach(n=>{this._lowercaseNameMap[n.toLowerCase()]=i.identifier}),i.mimetypes.forEach(n=>{this._mimeTypesMap[n]=i.identifier})}),ki.as(Ha.Configuration).registerOverrideIdentifiers(Lu.getLanguages().map(t=>t.id)),this._onDidChange.fire()}_registerLanguage(e){let t=e.id,i;zp.call(this._languages,t)?i=this._languages[t]:(this.languageIdCodec.register(t),i={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[t]=i),this._mergeLanguage(i,e)}_mergeLanguage(e,t){let i=t.id,n=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),n=t.mimetypes[0]),n||(n=`text/x-${i}`,e.mimetypes.push(n)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(let a of t.extensions)iy({id:i,mime:n,extension:a},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(let a of t.filenames)iy({id:i,mime:n,filename:a},this._warnOnOverwrite),e.filenames.push(a);if(Array.isArray(t.filenamePatterns))for(let a of t.filenamePatterns)iy({id:i,mime:n,filepattern:a},this._warnOnOverwrite);if(typeof t.firstLine=="string"&&t.firstLine.length>0){let a=t.firstLine;a.charAt(0)!=="^"&&(a="^"+a);try{let l=new RegExp(a);C6(l)||iy({id:i,mime:n,firstline:l},this._warnOnOverwrite)}catch(l){ye(l)}}e.aliases.push(i);let r=null;if(typeof t.aliases!="undefined"&&Array.isArray(t.aliases)&&(t.aliases.length===0?r=[null]:r=t.aliases),r!==null)for(let a of r)!a||a.length===0||e.aliases.push(a);let s=r!==null&&r.length>0;if(!(s&&r[0]===null)){let a=(s?r[0]:null)||i;(s||!e.name)&&(e.name=a)}t.configuration&&e.configurationFiles.push(t.configuration)}isRegisteredMode(e){return zp.call(this._mimeTypesMap,e)?!0:zp.call(this._languages,e)}getModeIdForLanguageNameLowercase(e){return zp.call(this._lowercaseNameMap,e)?this._lowercaseNameMap[e]:null}extractModeIds(e){return e?e.split(",").map(t=>t.trim()).map(t=>zp.call(this._mimeTypesMap,t)?this._mimeTypesMap[t]:t).filter(t=>zp.call(this._languages,t)):[]}validateLanguageId(e){return!e||e===Ol?Ol:zp.call(this._languages,e)?e:null}getModeIdsFromFilepathOrFirstLine(e,t){if(!e&&!t)return[];let i=j$(e,t);return this.extractModeIds(i.join(","))}};Vp.instanceCount=0;Ut();var tF=class{constructor(e,t){this._selector=t,this.languageId=this._selector();let i;this._onDidChange=new F({onFirstListenerAdd:()=>{i=e(()=>this._evaluate())},onLastListenerRemove:()=>{i.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){let e=this._selector();e!==this.languageId&&(this.languageId=e,this._onDidChange.fire(this.languageId))}},Hp=class extends ${constructor(e=!1){super();this._onDidEncounterLanguage=this._register(new F),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onLanguagesMaybeChanged=this._register(new F({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,Hp.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new Vp(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire()))}dispose(){Hp.instanceCount--,super.dispose()}isRegisteredMode(e){return this._registry.isRegisteredMode(e)}getModeIdForLanguageName(e){return this._registry.getModeIdForLanguageNameLowercase(e)}getModeIdByFilepathOrFirstLine(e,t){let i=this._registry.getModeIdsFromFilepathOrFirstLine(e,t);return i0(i,null)}getModeId(e){let t=this._registry.extractModeIds(e);return i0(t,null)}validateLanguageId(e){return this._registry.validateLanguageId(e)}create(e){return new tF(this.onLanguagesMaybeChanged,()=>{let t=this.getModeId(e);return this._createModeAndGetLanguageIdentifier(t)})}createByFilepathOrFirstLine(e,t){return new tF(this.onLanguagesMaybeChanged,()=>{let i=this.getModeIdByFilepathOrFirstLine(e,t);return this._createModeAndGetLanguageIdentifier(i)})}_createModeAndGetLanguageIdentifier(e){let t=this.validateLanguageId(e||"plaintext")||Ol;return this._getOrCreateMode(t),t}triggerMode(e){let t=this.getModeId(e);this._getOrCreateMode(t||"plaintext")}_getOrCreateMode(e){if(!this._encounteredLanguages.has(e)){this._encounteredLanguages.add(e);let t=this.validateLanguageId(e)||Ol;this._onDidEncounterLanguage.fire(t)}}};Hp.instanceCount=0;xr();cF();Y0();Me();Yn();Se();Tt();Yn();var cY=class{constructor(e,t,i,n,r){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=i,this.foreground=n,this.background=r}};function Mue(o){if(!o||!Array.isArray(o))return[];let e=[],t=0;for(let i=0,n=o.length;i<n;i++){let r=o[i],s=-1;if(typeof r.fontStyle=="string"){s=0;let c=r.fontStyle.split(" ");for(let d=0,h=c.length;d<h;d++)switch(c[d]){case"italic":s=s|1;break;case"bold":s=s|2;break;case"underline":s=s|4;break}}let a=null;typeof r.foreground=="string"&&(a=r.foreground);let l=null;typeof r.background=="string"&&(l=r.background),e[t++]=new cY(r.token||"",i,s,a,l)}return e}function Aue(o,e){o.sort((d,h)=>{let u=Wue(d.token,h.token);return u!==0?u:d.index-h.index});let t=0,i="000000",n="ffffff";for(;o.length>=1&&o[0].token==="";){let d=o.shift();d.fontStyle!==-1&&(t=d.fontStyle),d.foreground!==null&&(i=d.foreground),d.background!==null&&(n=d.background)}let r=new dY;for(let d of e)r.getId(d);let s=r.getId(i),a=r.getId(n),l=new yI(t,s,a),c=new SI(l);for(let d=0,h=o.length;d<h;d++){let u=o[d];c.insert(u.token,u.fontStyle,r.getId(u.foreground),r.getId(u.background))}return new CI(r,c)}var Fue=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/,dY=class{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(e===null)return 0;let t=e.match(Fue);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let i=this._color2id.get(e);return i||(i=++this._lastColorId,this._color2id.set(e,i),this._id2color[i]=Z.fromHex("#"+e),i)}getColorMap(){return this._id2color.slice(0)}},CI=class{constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(Mue(e),t)}static createFromParsedTokenTheme(e,t){return Aue(e,t)}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let i=this._cache.get(t);if(typeof i=="undefined"){let n=this._match(t),r=jue(t);i=(n.metadata|r<<8)>>>0,this._cache.set(t,i)}return(i|e<<0)>>>0}},Bue=/\b(comment|string|regex|regexp)\b/;function jue(o){let e=o.match(Bue);if(!e)return 0;switch(e[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}function Wue(o,e){return o<e?-1:o>e?1:0}var yI=class{constructor(e,t,i){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=i,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new yI(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,i){e!==-1&&(this._fontStyle=e),t!==0&&(this._foreground=t),i!==0&&(this._background=i),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}},SI=class{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(e==="")return this._mainRule;let t=e.indexOf("."),i,n;t===-1?(i=e,n=""):(i=e.substring(0,t),n=e.substring(t+1));let r=this._children.get(i);return typeof r!="undefined"?r.match(n):this._mainRule}insert(e,t,i,n){if(e===""){this._mainRule.acceptOverwrite(t,i,n);return}let r=e.indexOf("."),s,a;r===-1?(s=e,a=""):(s=e.substring(0,r),a=e.substring(r+1));let l=this._children.get(s);typeof l=="undefined"&&(l=new SI(this._mainRule.clone()),this._children.set(s,l)),l.insert(a,t,i,n)}};function hY(o){let e=[];for(let t=1,i=o.length;t<i;t++){let n=o[t];e[t]=`.mtk${t} { color: ${n}; }`}return e.push(".mtki { font-style: italic; }"),e.push(".mtkb { font-weight: bold; }"),e.push(".mtku { text-decoration: underline; text-underline-position: under; }"),e.join(`
`)}Ws();yi();var uY={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[Ho]:"#FFFFFE",[zl]:"#000000",[S1]:"#E5EBF1",[Hv]:"#D3D3D3",[$v]:"#939393",[E1]:"#ADD6FF4D"}},fY={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Ho]:"#1E1E1E",[zl]:"#D4D4D4",[S1]:"#3A3D41",[Hv]:"#404040",[$v]:"#707070",[E1]:"#ADD6FF26"}},gY={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Ho]:"#000000",[zl]:"#FFFFFF",[Hv]:"#FFFFFF",[$v]:"#FFFFFF"}};Ur();yi();dt();ne();m1();Me();Se();dt();function mY(){let o=new F,e=RK();return e.onDidChange(()=>o.fire()),{onDidChange:o.event,getCSS(){let t={},i=r=>{let s=r.defaults;for(;qt.isThemeIcon(s);){let l=e.getIcon(s.id);if(!l)return;s=l.defaults}let a=s.fontId;if(a){let l=e.getIconFont(a);if(l)return t[a]=l,`.codicon-${r.id}:before { content: '${s.fontCharacter}'; font-family: ${ZP(a)}; }`}return`.codicon-${r.id}:before { content: '${s.fontCharacter}'; }`},n=[];for(let r of e.getIcons()){let s=i(r);s&&n.push(s)}for(let r in t){let a=t[r].definition.src.map(l=>`${md(l.location)} format('${l.format}')`).join(", ");n.push(`@font-face { src: ${a}; font-family: ${ZP(r)}; font-display: block; }`)}return n.join(`
`)}}}var Kp="vs",EI="vs-dark",ww="hc-black",pY=ki.as(JM.ColorContribution),Uue=ki.as($M.ThemingContribution),dF=class{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;let i=t.base;e.length>0?(xI(e)?this.id=e:this.id=i+" "+e,this.themeName=e):(this.id=i,this.themeName=i),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){let e=new Map;for(let t in this.themeData.colors)e.set(t,Z.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){let t=hF(this.themeData.base);for(let i in t.colors)e.has(i)||e.set(i,Z.fromHex(t.colors[i]))}this.colors=e}return this.colors}getColor(e,t){let i=this.getColors().get(e);if(i)return i;if(t!==!1)return this.getDefault(e)}getDefault(e){let t=this.defaultColors[e];return t||(t=pY.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return Object.prototype.hasOwnProperty.call(this.getColors(),e)}get type(){switch(this.base){case Kp:return As.LIGHT;case ww:return As.HIGH_CONTRAST;default:return As.DARK}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){let r=hF(this.themeData.base);e=r.rules,r.encodedTokensColors&&(t=r.encodedTokensColors)}let i=this.themeData.colors["editor.foreground"],n=this.themeData.colors["editor.background"];if(i||n){let r={token:""};i&&(r.foreground=i),n&&(r.background=n),e.push(r)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=CI.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,i){let r=this.tokenTheme._match([e].concat(t).join(".")).metadata,s=sr.getForeground(r),a=sr.getFontStyle(r);return{foreground:s,italic:Boolean(a&1),bold:Boolean(a&2),underline:Boolean(a&4)}}};function xI(o){return o===Kp||o===EI||o===ww}function hF(o){switch(o){case Kp:return uY;case EI:return fY;case ww:return gY}}function uF(o){let e=hF(o);return new dF(o,e)}var fF=class extends ${constructor(){super();this._onColorThemeChange=this._register(new F),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(Kp,uF(Kp)),this._knownThemes.set(EI,uF(EI)),this._knownThemes.set(ww,uF(ww));let e=mY();this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(Kp),e.onDidChange(()=>{this._codiconCSS=e.getCSS(),this._updateCSS()}),b6("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(e){return Pf(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=no(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),$.None}_registerShadowDomContainer(e){let t=no(e);return t.className="monaco-colors",t.textContent=this._allCSS,this._styleElements.push(t),{dispose:()=>{for(let i=0;i<this._styleElements.length;i++)if(this._styleElements[i]===t){this._styleElements.splice(i,1);return}}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!xI(t.base)&&!xI(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new dF(e,t)),xI(e)&&this._knownThemes.forEach(i=>{i.base===e&&i.notifyBaseUpdated()}),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let t;this._knownThemes.has(e)?t=this._knownThemes.get(e):t=this._knownThemes.get(Kp),this._desiredTheme=t,this._updateActualTheme()}_updateActualTheme(){let e=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(ww):this._desiredTheme;this._theme!==e&&(this._theme=e,this._updateThemeOrColorMap())}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._updateActualTheme()}_updateThemeOrColorMap(){let e=[],t={},i={addRule:s=>{t[s]||(e.push(s),t[s]=!0)}};Uue.getThemingParticipants().forEach(s=>s(this._theme,i,this._environment));let n=[];for(let s of pY.getColors()){let a=this._theme.getColor(s.id,!0);a&&n.push(`${jL(s.id)}: ${a.toString()};`)}i.addRule(`.monaco-editor { ${n.join(`
`)} }`);let r=this._colorMapOverride||this._theme.tokenTheme.getColorMap();i.addRule(hY(r)),this._themeCSS=e.join(`
`),this._updateCSS(),Li.setColorMap(r),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(e=>e.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}};No();zi();lr();Se();Oa();ne();Is();xe();zi();lr();_t();var zue=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},Vue=function(o,e){return function(t,i){e(t,i,o)}},Ty="data-keybinding-context",DI=class{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}setValue(e,t){return this._value[e]!==t?(this._value[e]=t,!0):!1}removeValue(e){return e in this._value?(delete this._value[e],!0):!1}getValue(e){let t=this._value[e];return typeof t=="undefined"&&this._parent?this._parent.getValue(e):t}},Yp=class extends DI{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}};Yp.INSTANCE=new Yp;var Cw=class extends DI{constructor(e,t,i){super(e,null);this._configurationService=t,this._values=vd.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(n=>{if(n.source===6){let r=Array.from(St.map(this._values,([s])=>s));this._values.clear(),i.fire(new mF(r))}else{let r=[];for(let s of n.affectedKeys){let a=`config.${s}`,l=this._values.findSuperstr(a);l!==void 0&&(r.push(...St.map(l,([c])=>c)),this._values.deleteSuperstr(a)),this._values.has(a)&&(r.push(a),this._values.delete(a))}i.fire(new mF(r))}})}dispose(){this._listener.dispose()}getValue(e){if(e.indexOf(Cw._keyPrefix)!==0)return super.getValue(e);if(this._values.has(e))return this._values.get(e);let t=e.substr(Cw._keyPrefix.length),i=this._configurationService.getValue(t),n;switch(typeof i){case"number":case"boolean":case"string":n=i;break;default:Array.isArray(i)?n=JSON.stringify(i):n=i}return this._values.set(e,n),n}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}};Cw._keyPrefix="config.";var _Y=class{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}},gF=class{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}},mF=class{constructor(e){this.keys=e}affectsSome(e){for(let t of this.keys)if(e.has(t))return!0;return!1}},bY=class{constructor(e){this.events=e}affectsSome(e){for(let t of this.events)if(t.affectsSome(e))return!0;return!1}},pF=class{constructor(e){this._onDidChangeContext=new xm({merge:t=>new bY(t)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new _Y(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new vY(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");let t=this.getContextValuesContainer(this._myContextId);return eu.contextMatchesRules(t,e)}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;let i=this.getContextValuesContainer(this._myContextId);!i||i.setValue(e,t)&&this._onDidChangeContext.fire(new gF(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new gF(e))}getContext(e){return this._isDisposed?Yp.INSTANCE:this.getContextValuesContainer(Hue(e))}},LI=class extends pF{constructor(e){super(0);this._contexts=new Map,this._toDispose=new Q,this._lastContextId=0;let t=new Cw(this._myContextId,e,this._onDidChangeContext);this._contexts.set(this._myContextId,t),this._toDispose.add(t)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(e){return this._isDisposed?Yp.INSTANCE:this._contexts.get(e)||Yp.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let t=++this._lastContextId;return this._contexts.set(t,new DI(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};LI=zue([Vue(0,Vt)],LI);var vY=class extends pF{constructor(e,t){super(e.createChildContext());if(this._parentChangeListener=new _n,this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(Ty)){let i="";this._domNode.classList&&(i=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${i?": "+i:""}`)}this._domNode.setAttribute(Ty,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(Ty),this._isDisposed=!0)}getContextValuesContainer(e){return this._isDisposed?Yp.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}};function Hue(o){for(;o;){if(o.hasAttribute(Ty)){let e=o.getAttribute(Ty);return e?parseInt(e,10):NaN}o=o.parentElement}return 0}rt.registerCommand(qU,function(o,e,t){o.get(Ce).createKey(String(e),t)});rt.registerCommand({id:"getContextKeyInfo",handler(){return[...be.all()].sort((o,e)=>o.key.localeCompare(e.key))},description:{description:g("getContextKeyInfo","A command that returns information about context keys"),args:[]}});rt.registerCommand("_generateContextKeyInfo",function(){let o=[],e=new Set;for(let t of be.all())e.has(t.key)||(e.add(t.key),o.push(t));o.sort((t,i)=>t.key.localeCompare(i.key)),console.log(JSON.stringify(o,void 0,2))});_t();Me();Se();ne();gp();dt();Me();Pa();Lo();Me();is();Pa();en();function _F(o){let e=o.definition;for(;e instanceof z;)e=e.definition;return`.codicon-${o.id}:before { content: '${e.fontCharacter}'; }`}vD();Me();ne();wt();var ho;(function(o){function e(r,s){if(r.start>=s.end||s.start>=r.end)return{start:0,end:0};let a=Math.max(r.start,s.start),l=Math.min(r.end,s.end);return l-a<=0?{start:0,end:0}:{start:a,end:l}}o.intersect=e;function t(r){return r.end-r.start<=0}o.isEmpty=t;function i(r,s){return!t(e(r,s))}o.intersects=i;function n(r,s){let a=[],l={start:r.start,end:Math.min(s.start,r.end)},c={start:Math.max(s.end,r.start),end:r.end};return t(l)||a.push(l),t(c)||a.push(c),a}o.relativeComplement=n})(ho||(ho={}));var kg;(function(o){o[o.AVOID=0]="AVOID",o[o.ALIGN=1]="ALIGN"})(kg||(kg={}));function qp(o,e,t){let i=t.mode===kg.ALIGN?t.offset:t.offset+t.size,n=t.mode===kg.ALIGN?t.offset+t.size:t.offset;return t.position===0?e<=o-i?i:e<=n?n-e:Math.max(o-e,0):e<=n?n-e:e<=o-i?i:0}var Ig=class extends ${constructor(e,t){super();this.container=null,this.delegate=null,this.toDisposeOnClean=$.None,this.toDisposeOnSetContainer=$.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=se(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,vo(this.view),this.setContainer(e,t),this._register(ze(()=>this.setContainer(null,1)))}setContainer(e,t){var i;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(i=this.shadowRootHostElement)===null||i===void 0||i.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),e){if(this.container=e,this.useFixedPosition=t!==1,this.useShadowDOM=t===3,this.useShadowDOM){this.shadowRootHostElement=se(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});let r=document.createElement("style");r.textContent=$ue,this.shadowRoot.appendChild(r),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(se("slot"))}else this.container.appendChild(this.view);let n=new Q;Ig.BUBBLE_UP_EVENTS.forEach(r=>{n.add(Ni(this.container,r,s=>{this.onDOMEvent(s,!1)}))}),Ig.BUBBLE_DOWN_EVENTS.forEach(r=>{n.add(Ni(this.container,r,s=>{this.onDOMEvent(s,!0)},!0))}),this.toDisposeOnSetContainer=n}}show(e){this.isVisible()&&this.hide(),Zi(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",ko(this.view),this.toDisposeOnClean=e.render(this.view)||$.None,this.delegate=e,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(Fr&&Om.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let e=this.delegate.getAnchor(),t;if(kD(e)){let h=Gi(e);t={top:h.top,left:h.left,width:h.width,height:h.height}}else t={top:e.y,left:e.x,width:e.width||1,height:e.height||2};let i=Ds(this.view),n=_0(this.view),r=this.delegate.anchorPosition||0,s=this.delegate.anchorAlignment||0,a=this.delegate.anchorAxisAlignment||0,l,c;if(a===0){let h={offset:t.top-window.pageYOffset,size:t.height,position:r===0?0:1},u={offset:t.left,size:t.width,position:s===0?0:1,mode:kg.ALIGN};l=qp(window.innerHeight,n,h)+window.pageYOffset,ho.intersects({start:l,end:l+n},{start:h.offset,end:h.offset+h.size})&&(u.mode=kg.AVOID),c=qp(window.innerWidth,i,u)}else{let h={offset:t.left,size:t.width,position:s===0?0:1},u={offset:t.top,size:t.height,position:r===0?0:1,mode:kg.ALIGN};c=qp(window.innerWidth,i,h),ho.intersects({start:c,end:c+i},{start:h.offset,end:h.offset+h.size})&&(u.mode=kg.AVOID),l=qp(window.innerHeight,n,u)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(r===0?"bottom":"top"),this.view.classList.add(s===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);let d=Gi(this.container);this.view.style.top=`${l-(this.useFixedPosition?Gi(this.view).top:d.top)}px`,this.view.style.left=`${c-(this.useFixedPosition?Gi(this.view).left:d.left)}px`,this.view.style.width="initial"}hide(e){let t=this.delegate;this.delegate=null,(t==null?void 0:t.onHide)&&t.onHide(e),this.toDisposeOnClean.dispose(),vo(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):t&&!Ll(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}};Ig.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"];Ig.BUBBLE_DOWN_EVENTS=["click"];var $ue=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;cs();tt();en();en();Is();je();function wY(...o){return function(e,t){for(let i=0,n=o.length;i<n;i++){let r=o[i](e,t);if(r)return r}return null}}var NZe=CY.bind(void 0,!1),kI=CY.bind(void 0,!0);function CY(o,e,t){if(!t||t.length<e.length)return null;let i;return o?i=Ib(t,e):i=t.indexOf(e)===0,i?e.length>0?[{start:0,end:e.length}]:[]:null}function Kue(o,e){let t=e.toLowerCase().indexOf(o.toLowerCase());return t===-1?null:[{start:t,end:t+o.length}]}function Yue(o,e){return bF(o.toLowerCase(),e.toLowerCase(),0,0)}function bF(o,e,t,i){if(t===o.length)return[];if(i===e.length)return null;if(o[t]===e[i]){let n=null;return(n=bF(o,e,t+1,i+1))?SY({start:i,end:i+1},n):null}return bF(o,e,t,i+1)}function vF(o){return 97<=o&&o<=122}function II(o){return 65<=o&&o<=90}function wF(o){return 48<=o&&o<=57}function que(o){return o===32||o===9||o===10||o===13}var Zue=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(o=>Zue.add(o.charCodeAt(0)));function yY(o){return vF(o)||II(o)||wF(o)}function SY(o,e){return e.length===0?e=[o]:o.end===e[0].start?e[0].start=o.start:e.unshift(o),e}function EY(o,e){for(let t=e;t<o.length;t++){let i=o.charCodeAt(t);if(II(i)||wF(i)||t>0&&!yY(o.charCodeAt(t-1)))return t}return o.length}function CF(o,e,t,i){if(t===o.length)return[];if(i===e.length)return null;if(o[t]!==e[i].toLowerCase())return null;{let n=null,r=i+1;for(n=CF(o,e,t+1,i+1);!n&&(r=EY(e,r))<e.length;)n=CF(o,e,t+1,r),r++;return n===null?null:SY({start:i,end:i+1},n)}}function Gue(o){let e=0,t=0,i=0,n=0,r=0;for(let d=0;d<o.length;d++)r=o.charCodeAt(d),II(r)&&e++,vF(r)&&t++,yY(r)&&i++,wF(r)&&n++;let s=e/o.length,a=t/o.length,l=i/o.length,c=n/o.length;return{upperPercent:s,lowerPercent:a,alphaPercent:l,numericPercent:c}}function Xue(o){let{upperPercent:e,lowerPercent:t}=o;return t===0&&e>.6}function Que(o){let{upperPercent:e,lowerPercent:t,alphaPercent:i,numericPercent:n}=o;return t>.2&&e<.8&&i>.6&&n<.2}function Jue(o){let e=0,t=0,i=0,n=0;for(let r=0;r<o.length;r++)i=o.charCodeAt(r),II(i)&&e++,vF(i)&&t++,que(i)&&n++;return(e===0||t===0)&&n===0?o.length<=30:e<=5}function xY(o,e){if(!e||(e=e.trim(),e.length===0)||!Jue(o)||e.length>60)return null;let t=Gue(e);if(!Que(t)){if(!Xue(t))return null;e=e.toLowerCase()}let i=null,n=0;for(o=o.toLowerCase();n<e.length&&(i=CF(o,e,0,n))===null;)n=EY(e,n+1);return i}var efe=wY(kI,xY,Kue),tfe=wY(kI,xY,Yue),DY=new ks(1e4);function yF(o,e,t=!1){if(typeof o!="string"||typeof e!="string")return null;let i=DY.get(o);i||(i=new RegExp(w6(o),"i"),DY.set(o,i));let n=i.exec(e);return n?[{start:n.index,end:n.index+n[0].length}]:t?tfe(o,e):efe(o,e)}function LY(o,e,t,i,n,r){let s=Math.min(13,o.length);for(;t<s;t++){let a=Zp(o,e,t,i,n,r,!1);if(a)return a}return[0,r]}function Ny(o){if(typeof o=="undefined")return[];let e=[],t=o[1];for(let i=o.length-1;i>1;i--){let n=o[i]+t,r=e[e.length-1];r&&r.end===n?r.end=n+1:e.push({start:n,end:n+1})}return e}var Og=128;function SF(){let o=[],e=[];for(let t=0;t<=Og;t++)e[t]=0;for(let t=0;t<=Og;t++)o.push(e.slice(0));return o}function kY(o){let e=[];for(let t=0;t<=o;t++)e[t]=0;return e}var IY=kY(2*Og),EF=kY(2*Og),th=SF(),Tg=SF(),Py=SF(),ife=!1;function xF(o,e,t,i,n){function r(a,l,c=" "){for(;a.length<l;)a=c+a;return a}let s=` |   |${i.split("").map(a=>r(a,3)).join("|")}
`;for(let a=0;a<=t;a++)a===0?s+=" |":s+=`${e[a-1]}|`,s+=o[a].slice(0,n+1).map(l=>r(l.toString(),3)).join("|")+`
`;return s}function nfe(o,e,t,i){o=o.substr(e),t=t.substr(i),console.log(xF(Tg,o,o.length,t,t.length)),console.log(xF(Py,o,o.length,t,t.length)),console.log(xF(th,o,o.length,t,t.length))}function OI(o,e){if(e<0||e>=o.length)return!1;let t=o.codePointAt(e);switch(t){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!Nb(t)}}function OY(o,e){if(e<0||e>=o.length)return!1;switch(o.charCodeAt(e)){case 32:case 9:return!0;default:return!1}}function TI(o,e,t){return e[o]!==t[o]}function ofe(o,e,t,i,n,r,s=!1){for(;e<t&&n<r;)o[e]===i[n]&&(s&&(IY[e]=n),e+=1),n+=1;return e===t}var $s;(function(o){o.Default=[-100,0];function e(t){return!t||t.length===2&&t[0]===-100&&t[1]===0}o.isDefault=e})($s||($s={}));function Zp(o,e,t,i,n,r,s){let a=o.length>Og?Og:o.length,l=i.length>Og?Og:i.length;if(t>=a||r>=l||a-t>l-r||!ofe(e,t,a,n,r,l,!0))return;rfe(a,l,t,r,e,n);let c=1,d=1,h=t,u=r,f=[!1];for(c=1,h=t;h<a;c++,h++){let w=IY[h],S=EF[h],x=h+1<a?EF[h+1]:l;for(d=w-r+1,u=w;u<x;d++,u++){let k=Number.MIN_SAFE_INTEGER,R=!1;u<=S&&(k=sfe(o,e,h,t,i,n,u,l,r,th[c-1][d-1]===0,f));let O=0;k!==Number.MAX_SAFE_INTEGER&&(R=!0,O=k+Tg[c-1][d-1]);let N=u>w,W=N?Tg[c][d-1]+(th[c][d-1]>0?-5:0):0,G=u>w+1&&th[c][d-1]>0,Y=G?Tg[c][d-2]+(th[c][d-2]>0?-5:0):0;if(G&&(!N||Y>=W)&&(!R||Y>=O))Tg[c][d]=Y,Py[c][d]=3,th[c][d]=0;else if(N&&(!R||W>=O))Tg[c][d]=W,Py[c][d]=2,th[c][d]=0;else if(R)Tg[c][d]=O,Py[c][d]=1,th[c][d]=th[c-1][d-1]+1;else throw new Error("not possible")}}if(ife&&nfe(o,t,i,r),!f[0]&&!s)return;c--,d--;let p=[Tg[c][d],r],b=0,v=0;for(;c>=1;){let w=d;do{let S=Py[c][w];if(S===3)w=w-2;else if(S===2)w=w-1;else break}while(w>=1);b>1&&e[t+c-1]===n[r+d-1]&&!TI(w+r-1,i,n)&&b+1>th[c][w]&&(w=d),w===d?b++:b=1,v||(v=w),c--,d=w-1,p.push(d)}l===a&&(p[0]+=2);let y=v-a;return p[0]-=y,p}function rfe(o,e,t,i,n,r){let s=o-1,a=e-1;for(;s>=t&&a>=i;)n[s]===r[a]&&(EF[s]=a,s--),a--}function sfe(o,e,t,i,n,r,s,a,l,c,d){if(e[t]!==r[s])return Number.MIN_SAFE_INTEGER;let h=1,u=!1;return s===t-i?h=o[t]===n[s]?7:5:TI(s,n,r)&&(s===0||!TI(s-1,n,r))?(h=o[t]===n[s]?7:5,u=!0):OI(r,s)&&(s===0||!OI(r,s-1))?h=5:(OI(r,s-1)||OY(r,s-1))&&(h=5,u=!0),h>1&&t===i&&(d[0]=!0),u||(u=TI(s,n,r)||OI(r,s-1)||OY(r,s-1)),t===i?s>l&&(h-=u?3:5):c?h+=u?2:0:h+=u?0:1,s+1===a&&(h-=u?3:5),h}function TY(o,e,t,i,n,r,s){return afe(o,e,t,i,n,r,!0,s)}function afe(o,e,t,i,n,r,s,a){let l=Zp(o,e,t,i,n,r,a);if(l&&!s)return l;if(o.length>=3){let c=Math.min(7,o.length-1);for(let d=t+1;d<c;d++){let h=lfe(o,d);if(h){let u=Zp(h,h.toLowerCase(),t,i,n,r,a);u&&(u[0]-=3,(!l||u[0]>l[0])&&(l=u))}}}return l}function lfe(o,e){if(e+1>=o.length)return;let t=o[e],i=o[e+1];if(t!==i)return o.slice(0,e)+i+t+o.slice(e+2)}je();var Ry="$(",DF=new RegExp(`\\$\\(${Co.iconNameExpression}(?:${Co.iconModifierExpression})?\\)`,"g"),cfe=new RegExp(Co.iconNameCharacter),dfe=new RegExp(`(\\\\)?${DF.source}`,"g");function NY(o){return o.replace(dfe,(e,t)=>t?e:`\\${e}`)}var hfe=new RegExp(`\\\\${DF.source}`,"g");function PY(o){return o.replace(hfe,e=>`\\${e}`)}var ufe=new RegExp(`(\\s)?(\\\\)?${DF.source}(\\s)?`,"g");function RY(o){return o.indexOf(Ry)===-1?o:o.replace(ufe,(e,t,i,n)=>i?e:t||n||"")}function My(o){let e=o.indexOf(Ry);return e===-1?{text:o}:ffe(o,e)}function ffe(o,e){let t=[],i="";function n(u){if(u){i+=u;for(let f of u)t.push(a)}}let r=-1,s="",a=0,l,c,d=e,h=o.length;for(n(o.substr(0,e));d<h;)l=o[d],c=o[d+1],l===Ry[0]&&c===Ry[1]?(r=d,n(s),s=Ry,d++):l===")"&&r!==-1?(a+=d-r+1,r=-1,s=""):r!==-1?cfe.test(l)?s+=l:(n(s),r=-1,s=""):n(l),d++;return n(s),{text:i,iconOffsets:t}}function Ay(o,e,t=!1){let{text:i,iconOffsets:n}=e;if(!n||n.length===0)return yF(o,i,t);let r=TD(i," "),s=i.length-r.length,a=yF(o,r,t);if(a)for(let l of a){let c=n[l.start+s]+s;l.start+=c,l.end+=c}return a}ne();wt();je();xe();var LF=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,kF=/(&amp;)?(&amp;)([^\s&])/g,NI;(function(o){o[o.Right=0]="Right",o[o.Left=1]="Left"})(NI||(NI={}));var Ng=class extends pr{constructor(e,t,i={}){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");let n=document.createElement("div");n.classList.add("monaco-menu"),n.setAttribute("role","presentation");super(n,{orientation:1,actionViewItemProvider:a=>this.doGetActionViewItem(a,i,r),context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...Xe||rn?[10]:[]],keyDown:!0}});this.menuElement=n,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new Q),this._register(Bt.addTarget(n)),oe(n,Le.KEY_DOWN,a=>{new Kt(a).equals(2)&&a.preventDefault()}),i.enableMnemonics&&this.menuDisposables.add(oe(n,Le.KEY_DOWN,a=>{let l=a.key.toLocaleLowerCase();if(this.mnemonics.has(l)){Wt.stop(a,!0);let c=this.mnemonics.get(l);if(c.length===1&&(c[0]instanceof IF&&c[0].container&&this.focusItemByElement(c[0].container),c[0].onClick(a)),c.length>1){let d=c.shift();d&&d.container&&(this.focusItemByElement(d.container),c.push(d)),this.mnemonics.set(l,c)}}})),rn&&this._register(oe(n,Le.KEY_DOWN,a=>{let l=new Kt(a);l.equals(14)||l.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),Wt.stop(a,!0)):(l.equals(13)||l.equals(12))&&(this.focusedItem=0,this.focusPrevious(),Wt.stop(a,!0))})),this._register(oe(this.domNode,Le.MOUSE_OUT,a=>{let l=a.relatedTarget;Ll(l,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),a.stopPropagation())})),this._register(oe(this.actionsList,Le.MOUSE_OVER,a=>{let l=a.target;if(!(!l||!Ll(l,this.actionsList)||l===this.actionsList)){for(;l.parentElement!==this.actionsList&&l.parentElement!==null;)l=l.parentElement;if(l.classList.contains("action-item")){let c=this.focusedItem;this.setFocusedItem(l),c!==this.focusedItem&&this.updateFocus()}}})),this._register(Bt.addTarget(this.actionsList)),this._register(oe(this.actionsList,ei.Tap,a=>{let l=a.initialTarget;if(!(!l||!Ll(l,this.actionsList)||l===this.actionsList)){for(;l.parentElement!==this.actionsList&&l.parentElement!==null;)l=l.parentElement;if(l.classList.contains("action-item")){let c=this.focusedItem;this.setFocusedItem(l),c!==this.focusedItem&&this.updateFocus()}}}));let r={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new jc(n,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));let s=this.scrollableElement.getDomNode();s.style.position="",this._register(oe(n,ei.Change,a=>{Wt.stop(a,!0);let l=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:l-a.translationY})})),this._register(oe(s,Le.MOUSE_UP,a=>{a.preventDefault()})),n.style.maxHeight=`${Math.max(10,window.innerHeight-e.getBoundingClientRect().top-35)}px`,t=t.filter(a=>{var l;return((l=i.submenuIds)===null||l===void 0?void 0:l.has(a.id))?(console.warn(`Found submenu cycle: ${a.id}`),!1):!0}),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(a=>!(a instanceof RI)).forEach((a,l,c)=>{a.updatePositionInSet(l+1,c.length)})}initializeOrUpdateStyleSheet(e,t){this.styleSheet||(Pf(e)?this.styleSheet=no(e):(Ng.globalStyleSheet||(Ng.globalStyleSheet=no()),this.styleSheet=Ng.globalStyleSheet)),this.styleSheet.textContent=mfe(t)}style(e){let t=this.getContainer();this.initializeOrUpdateStyleSheet(t,e);let i=e.foregroundColor?`${e.foregroundColor}`:"",n=e.backgroundColor?`${e.backgroundColor}`:"",r=e.borderColor?`1px solid ${e.borderColor}`:"",s=e.shadowColor?`0 2px 4px ${e.shadowColor}`:"";t.style.border=r,this.domNode.style.color=i,this.domNode.style.backgroundColor=n,t.style.boxShadow=s,this.viewItems&&this.viewItems.forEach(a=>{(a instanceof PI||a instanceof RI)&&a.style(e)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){let t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++){let i=this.actionsList.children[t];if(e===i){this.focusedItem=t;break}}}updateFocus(e){super.updateFocus(e,!0,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,i){if(e instanceof fr)return new RI(t.context,e,{icon:!0});if(e instanceof iu){let n=new IF(e,e.actions,i,Object.assign(Object.assign({},t),{submenuIds:new Set([...t.submenuIds||[],e.id])}));if(t.enableMnemonics){let r=n.getMnemonic();if(r&&n.isEnabled()){let s=[];this.mnemonics.has(r)&&(s=this.mnemonics.get(r)),s.push(n),this.mnemonics.set(r,s)}}return n}else{let n={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){let s=t.getKeyBinding(e);if(s){let a=s.getLabel();a&&(n.keybinding=a)}}let r=new PI(t.context,e,n);if(t.enableMnemonics){let s=r.getMnemonic();if(s&&r.isEnabled()){let a=[];this.mnemonics.has(s)&&(a=this.mnemonics.get(s)),a.push(r),this.mnemonics.set(s,a)}}return r}}},PI=class extends zs{constructor(e,t,i={}){i.isMenu=!0;super(t,t,i);if(this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass="",this.options.label&&i.enableMnemonics){let n=this.getAction().label;if(n){let r=LF.exec(n);r&&(this.mnemonic=(r[1]?r[1]:r[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new bt(()=>{!this.element||(this._register(oe(this.element,Le.MOUSE_UP,n=>{if(Wt.stop(n,!0),On){if(new bo(n).rightButton)return;this.onClick(n)}else setTimeout(()=>{this.onClick(n)},0)})),this._register(oe(this.element,Le.CONTEXT_MENU,n=>{Wt.stop(n,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),!!this.element&&(this.container=e,this.item=J(this.element,se("a.action-menu-item")),this._action.id===fr.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=J(this.item,se("span.menu-item-check"+z.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=J(this.item,se("span.action-label")),this.options.label&&this.options.keybinding&&(J(this.item,se("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",`${e}`),this.item.setAttribute("aria-setsize",`${t}`))}updateLabel(){if(!!this.label&&this.options.label){Zi(this.label);let e=RY(this.getAction().label);if(e){let t=gfe(e);this.options.enableMnemonics||(e=t),this.label.setAttribute("aria-label",t.replace(/&&/g,"&"));let i=LF.exec(e);if(i){e=Lb(e),kF.lastIndex=0;let n=kF.exec(e);for(;n&&n[1];)n=kF.exec(e);let r=s=>s.replace(/&amp;&amp;/g,"&amp;");n?this.label.append(TD(r(e.substr(0,n.index))," "),se("u",{"aria-hidden":"true"},n[3]),v6(r(e.substr(n.index+n[0].length))," ")):this.label.innerText=r(e).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(i[1]?i[1]:i[3]).toLocaleLowerCase())}else this.label.innerText=e.replace(/&&/g,"&").trim()}}}updateTooltip(){let e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=g({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e&&this.item&&(this.item.title=e)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;let e=this.getAction().checked;this.item.classList.toggle("checked",!!e),e!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",e?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;let e=this.element&&this.element.classList.contains("focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,n=e&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=t?t.toString():"",this.item.style.backgroundColor=i?i.toString():""),this.check&&(this.check.style.color=t?t.toString():""),this.container&&(this.container.style.border=n)}style(e){this.menuStyle=e,this.applyStyle()}},IF=class extends PI{constructor(e,t,i,n){super(e,e,n);this.submenuActions=t,this.parentData=i,this.submenuOptions=n,this.mysubmenu=null,this.submenuDisposables=this._register(new Q),this.mouseOver=!1,this.expandDirection=n&&n.expandDirection!==void 0?n.expandDirection:NI.Right,this.showScheduler=new bt(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new bt(()=>{this.element&&!Ll(Rf(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(e){super.render(e),!!this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=J(this.item,se("span.submenu-indicator"+z.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(oe(this.element,Le.KEY_UP,t=>{let i=new Kt(t);(i.equals(17)||i.equals(3))&&(Wt.stop(t,!0),this.createSubmenu(!0))})),this._register(oe(this.element,Le.KEY_DOWN,t=>{let i=new Kt(t);Rf()===this.item&&(i.equals(17)||i.equals(3))&&Wt.stop(t,!0)})),this._register(oe(this.element,Le.MOUSE_OVER,t=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register(oe(this.element,Le.MOUSE_LEAVE,t=>{this.mouseOver=!1})),this._register(oe(this.element,Le.FOCUS_OUT,t=>{this.element&&!Ll(Rf(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(e){Wt.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,i,n){let r={top:0,left:0};return r.left=qp(e.width,t.width,{position:n===NI.Right?0:1,offset:i.left,size:i.width}),r.left>=i.left&&r.left<i.left+i.width&&(i.left+10+t.width<=e.width&&(r.left=i.left+10),i.top+=10,i.height=0),r.top=qp(e.height,t.height,{position:0,offset:i.top,size:0}),r.top+t.height===i.top&&r.top+i.height+t.height<=e.height&&(r.top+=i.height),r}createSubmenu(e=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=J(this.element,se("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");let t=getComputedStyle(this.parentData.parent.domNode),i=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new Ng(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new _v],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);let n=this.element.getBoundingClientRect(),r={top:n.top-i,left:n.left,height:n.height+2*i,width:n.width},s=this.submenuContainer.getBoundingClientRect(),{top:a,left:l}=this.calculateSubmenuMenuLayout(new hi(window.innerWidth,window.innerHeight),hi.lift(s),r,this.expandDirection);this.submenuContainer.style.left=`${l-s.left}px`,this.submenuContainer.style.top=`${a-s.top}px`,this.submenuDisposables.add(oe(this.submenuContainer,Le.KEY_UP,c=>{new Kt(c).equals(15)&&(Wt.stop(c,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(oe(this.submenuContainer,Le.KEY_DOWN,c=>{new Kt(c).equals(15)&&Wt.stop(c,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){var t;this.item&&((t=this.item)===null||t===void 0||t.setAttribute("aria-expanded",e))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;let t=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=t?`${t}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}},RI=class extends Qd{style(e){this.label&&(this.label.style.borderBottomColor=e.separatorColor?`${e.separatorColor}`:"")}};function gfe(o){let e=LF,t=e.exec(o);if(!t)return o;let i=!t[1];return o.replace(e,i?"$2$3":"").trim()}function mfe(o){let e=`
.monaco-menu {
	font-size: 13px;

}

${_F(z.menuSelection)}
${_F(z.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.4;
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}

/* Arrows */
.monaco-scrollable-element > .scrollbar > .scra {
	cursor: pointer;
	font-size: 11px !important;
}

.monaco-scrollable-element > .visible {
	opacity: 1;

	/* Background rule added for IE9 - to allow clicks on dom node */
	background:rgba(0,0,0,0);

	transition: opacity 100ms linear;
}
.monaco-scrollable-element > .invisible {
	opacity: 0;
	pointer-events: none;
}
.monaco-scrollable-element > .invisible.fade {
	transition: opacity 800ms linear;
}

/* Scrollable Content Inset Shadow */
.monaco-scrollable-element > .shadow {
	position: absolute;
	display: none;
}
.monaco-scrollable-element > .shadow.top {
	display: block;
	top: 0;
	left: 3px;
	height: 3px;
	width: 100%;
}
.monaco-scrollable-element > .shadow.left {
	display: block;
	top: 3px;
	left: 0;
	height: 100%;
	width: 3px;
}
.monaco-scrollable-element > .shadow.top-left-corner {
	display: block;
	top: 0;
	left: 0;
	height: 3px;
	width: 3px;
}
`,t=o.scrollbarShadow;t&&(e+=`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${t} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${t} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${t} 6px 6px 6px -6px inset;
			}
		`);let i=o.scrollbarSliderBackground;i&&(e+=`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${i};
			}
		`);let n=o.scrollbarSliderHoverBackground;n&&(e+=`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${n};
			}
		`);let r=o.scrollbarSliderActiveBackground;return r&&(e+=`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${r};
			}
		`),e}cs();st();ne();yi();function Qa(o,e){let t=Object.create(null);for(let i in e){let n=e[i];n&&(t[i]=jd(n,o))}return t}function OF(o,e,t){function i(){let n=Qa(o.getColorTheme(),e);typeof t=="function"?t(n):t.style(n)}return i(),o.onDidColorThemeChange(i)}function MY(o,e,t){return OF(e,{badgeBackground:(t==null?void 0:t.badgeBackground)||pp,badgeForeground:(t==null?void 0:t.badgeForeground)||_p,badgeBorder:Oi},o)}function Nu(o,e,t){return OF(e,Object.assign(Object.assign({},Fy),t||{}),o)}var Fy={listFocusBackground:aV,listFocusForeground:lV,listFocusOutline:cV,listActiveSelectionBackground:lu,listActiveSelectionForeground:cu,listActiveSelectionIconForeground:x1,listFocusAndSelectionBackground:lu,listFocusAndSelectionForeground:cu,listInactiveSelectionBackground:dV,listInactiveSelectionIconForeground:uV,listInactiveSelectionForeground:hV,listInactiveFocusBackground:fV,listInactiveFocusOutline:gV,listHoverBackground:mV,listHoverForeground:pV,listDropBackground:_V,listSelectionOutline:qn,listHoverOutline:qn,listFilterWidgetBackground:bV,listFilterWidgetOutline:vV,listFilterWidgetNoMatchesOutline:wV,listMatchesShadow:Wl,treeIndentGuidesStroke:CV,tableColumnsBorder:yV,tableOddRowsBackgroundColor:SV},pfe={shadowColor:Wl,borderColor:xV,foregroundColor:DV,backgroundColor:LV,selectionForegroundColor:kV,selectionBackgroundColor:IV,selectionBorderColor:OV,separatorColor:TV,scrollbarShadow:Ul,scrollbarSliderBackground:nu,scrollbarSliderHoverBackground:ou,scrollbarSliderActiveBackground:ru};function AY(o,e,t){return OF(e,Object.assign(Object.assign({},pfe),t),o)}var TF=class{constructor(e,t,i,n,r){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=n,this.themeService=r,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){let t=e.getActions();if(!t.length)return;this.focusToReturn=document.activeElement;let i,n=kD(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:r=>{let s=e.getMenuClassName?e.getMenuClassName():"";s&&(r.className+=" "+s),this.options.blockMouse&&(this.block=r.appendChild(se(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",oe(this.block,Le.MOUSE_DOWN,c=>c.stopPropagation()));let a=new Q,l=e.actionRunner||new Al;return l.onBeforeRun(this.onActionRun,this,a),l.onDidRun(this.onDidActionRun,this,a),i=new Ng(r,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:l,getKeyBinding:e.getKeyBinding?e.getKeyBinding:c=>this.keybindingService.lookupKeybinding(c.id)}),a.add(AY(i,this.themeService)),i.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,a),i.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,a),a.add(oe(window,Le.BLUR,()=>this.contextViewService.hideContextView(!0))),a.add(oe(window,Le.MOUSE_DOWN,c=>{if(c.defaultPrevented)return;let d=new bo(c),h=d.target;if(!d.rightButton){for(;h;){if(h===r)return;h=h.parentElement}this.contextViewService.hideContextView(!0)}})),Ta(a,i)},focus:()=>{i&&i.focus(!!e.autoSelectFirstItem)},onHide:r=>{e.onHide&&e.onHide(!!r),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},n,!!n)}onActionRun(e){this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(e){e.error&&!es(e.error)&&this.notificationService.error(e.error)}};var _fe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},By=function(o,e){return function(t,i){e(t,i,o)}},MI=class extends ${constructor(e,t,i,n,r){super();this._onDidShowContextMenu=new F,this._onDidHideContextMenu=new F,this.contextMenuHandler=new TF(i,e,t,n,r)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},e),{onHide:t=>{e.onHide&&e.onHide(t),this._onDidHideContextMenu.fire()}})),pd.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};MI=_fe([By(0,$a),By(1,fi),By(2,pa),By(3,oi),By(4,Rt)],MI);ne();Ge();var Pg=Fe("layoutService");var bfe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},vfe=function(o,e){return function(t,i){e(t,i,o)}},AI=class extends ${constructor(e){super();this.layoutService=e,this.currentViewDisposable=$.None,this.container=e.container,this.contextView=this._register(new Ig(this.container,1)),this.layout(),this._register(e.onDidLayout(()=>this.layout()))}setContainer(e,t){this.contextView.setContainer(e,t||1)}showContextView(e,t,i){t?t!==this.container&&(this.container=t,this.setContainer(t,i?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(e);let n=ze(()=>{this.currentViewDisposable===n&&this.hideContextView()});return this.currentViewDisposable=n,n}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}};AI=bfe([vfe(0,Pg)],AI);Ge();var yw=Fe("dialogService");Ge();tt();st();WR();var FY=class{constructor(e){this.incoming=new Map,this.outgoing=new Map,this.data=e}},NF=class{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){let e=[];for(let t of this._nodes.values())t.outgoing.size===0&&e.push(t);return e}insertEdge(e,t){let i=this.lookupOrInsertNode(e),n=this.lookupOrInsertNode(t);i.outgoing.set(this._hashFn(t),n),n.incoming.set(this._hashFn(e),i)}removeNode(e){let t=this._hashFn(e);this._nodes.delete(t);for(let i of this._nodes.values())i.outgoing.delete(t),i.incoming.delete(t)}lookupOrInsertNode(e){let t=this._hashFn(e),i=this._nodes.get(t);return i||(i=new FY(e),this._nodes.set(t,i)),i}isEmpty(){return this._nodes.size===0}toString(){let e=[];for(let[t,i]of this._nodes)e.push(`${t}, (incoming)[${[...i.incoming.keys()].join(", ")}], (outgoing)[${[...i.outgoing.keys()].join(",")}]`);return e.join(`
`)}findCycleSlow(){for(let[e,t]of this._nodes){let i=new Set([e]),n=this._findCycle(t,i);if(n)return n}}_findCycle(e,t){for(let[i,n]of e.outgoing){if(t.has(i))return[...t,i].join(" -> ");t.add(i);let r=this._findCycle(n,t);if(r)return r;t.delete(i)}}};Ge();var BY=!1,PF=class extends Error{constructor(e){var t;super("cyclic dependency between services");this.message=(t=e.findCycleSlow())!==null&&t!==void 0?t:`UNABLE to detect cycle, dumping graph: 
${e.toString()}`}},Sw=class{constructor(e=new Xd,t=!1,i){this._activeInstantiations=new Set,this._services=e,this._strict=t,this._parent=i,this._services.set(Ve,this)}createChild(e){return new Sw(e,this._strict,this)}invokeFunction(e,...t){let i=Ks.traceInvocation(e),n=!1;try{return e({get:s=>{if(n)throw Aj("service accessor is only valid during the invocation of its target method");let a=this._getOrCreateServiceInstance(s,i);if(!a)throw new Error(`[invokeFunction] unknown service '${s}'`);return a}},...t)}finally{n=!0,i.stop()}}createInstance(e,...t){let i,n;return e instanceof Lc?(i=Ks.traceCreation(e.ctor),n=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=Ks.traceCreation(e),n=this._createInstance(e,t,i)),i.stop(),n}_createInstance(e,t=[],i){let n=wl.getServiceDependencies(e).sort((a,l)=>a.index-l.index),r=[];for(let a of n){let l=this._getOrCreateServiceInstance(a.id,i);if(!l&&this._strict&&!a.optional)throw new Error(`[createInstance] ${e.name} depends on UNKNOWN service ${a.id}.`);r.push(l)}let s=n.length>0?n[0].index:t.length;if(t.length!==s){console.warn(`[createInstance] First service dependency of ${e.name} at position ${s+1} conflicts with ${t.length} static arguments`);let a=s-t.length;a>0?t=t.concat(new Array(a)):t=t.slice(0,s)}return new e(...[...t,...r])}_setServiceInstance(e,t){if(this._services.get(e)instanceof Lc)this._services.set(e,t);else if(this._parent)this._parent._setServiceInstance(e,t);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(e){let t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){let i=this._getServiceInstanceOrDescriptor(e);return i instanceof Lc?this._safeCreateAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_safeCreateAndCacheServiceInstance(e,t,i){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,i)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,i){let n=new NF(a=>a.id.toString()),r=0,s=[{id:e,desc:t,_trace:i}];for(;s.length;){let a=s.pop();if(n.lookupOrInsertNode(a),r++>1e3)throw new PF(n);for(let l of wl.getServiceDependencies(a.desc.ctor)){let c=this._getServiceInstanceOrDescriptor(l.id);if(!c&&!l.optional&&console.warn(`[createInstance] ${e} depends on ${l.id} which is NOT registered.`),c instanceof Lc){let d={id:l.id,desc:c,_trace:a._trace.branch(l.id,!0)};n.insertEdge(a,d),s.push(d)}}}for(;;){let a=n.roots();if(a.length===0){if(!n.isEmpty())throw new PF(n);break}for(let{data:l}of a){if(this._getServiceInstanceOrDescriptor(l.id)instanceof Lc){let d=this._createServiceInstanceWithOwner(l.id,l.desc.ctor,l.desc.staticArguments,l.desc.supportsDelayedInstantiation,l._trace);this._setServiceInstance(l.id,d)}n.removeNode(l)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,i=[],n,r){if(this._services.get(e)instanceof Lc)return this._createServiceInstance(t,i,n,r);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,n,r);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t=[],i,n){if(i){let r=new pc(()=>this._createInstance(e,t,n));return new Proxy(Object.create(null),{get(s,a){if(a in s)return s[a];let l=r.value,c=l[a];return typeof c!="function"||(c=c.bind(l),s[a]=c),c},set(s,a,l){return r.value[a]=l,!0}})}else return this._createInstance(e,t,n)}},Ks=class{constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}static traceInvocation(e){return BY?new Ks(1,e.name||e.toString().substring(0,42).replace(/\n/g,"")):Ks._None}static traceCreation(e){return BY?new Ks(0,e.name):Ks._None}branch(e,t){let i=new Ks(2,e.toString());return this._dep.push([e,t,i]),i}stop(){let e=Date.now()-this._start;Ks._totals+=e;let t=!1;function i(r,s){let a=[],l=new Array(r+1).join("	");for(let[c,d,h]of s._dep)if(d&&h){t=!0,a.push(`${l}CREATES -> ${c}`);let u=i(r+1,h);u&&a.push(u)}else a.push(`${l}uses -> ${c}`);return a.join(`
`)}let n=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${i(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${Ks._totals.toFixed(2)}ms)`];(e>2||t)&&console.log(n.join(`
`))}};Ks._None=new class extends Ks{constructor(){super(-1,null)}stop(){}branch(){return this}};Ks._totals=0;Ge();var ih=Fe("labelService");Me();Ut();Ei();Se();ne();Me();is();ls();var RF=class{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach(n=>n.splice(e,t,i))}};Ut();tt();Yn();Se();ne();Ub();Wo();wt();di();var Pu=class extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}};Lo();Me();Ut();tt();Se();ne();Wo();function jY(o,e){let t=[];for(let i of e){if(o.start>=i.range.end)continue;if(o.end<i.range.start)break;let n=ho.intersect(o,i.range);ho.isEmpty(n)||t.push({range:n,size:i.size})}return t}function FI({start:o,end:e},t){return{start:o+t,end:e+t}}function wfe(o){let e=[],t=null;for(let i of o){let n=i.range.start,r=i.range.end,s=i.size;if(t&&s===t.size){t.range.end=r;continue}t={range:{start:n,end:r},size:s},e.push(t)}return e}function Cfe(...o){return wfe(o.reduce((e,t)=>e.concat(t),[]))}var BI=class{constructor(){this.groups=[],this._size=0}splice(e,t,i=[]){let n=i.length-t,r=jY({start:0,end:e},this.groups),s=jY({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(l=>({range:FI(l.range,n),size:l.size})),a=i.map((l,c)=>({range:{start:e+c,end:e+c+1},size:l.size}));this.groups=Cfe(r,a,s),this._size=this.groups.reduce((l,c)=>l+c.size*(c.range.end-c.range.start),0)}get count(){let e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;let t=0,i=0;for(let n of this.groups){let r=n.range.end-n.range.start,s=i+r*n.size;if(e<s)return t+Math.floor((e-i)/n.size);t+=r,i=s}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(let n of this.groups){let r=n.range.end-n.range.start,s=i+r;if(e<s)return t+(e-i)*n.size;t+=r*n.size,i=s}return-1}};Me();function yfe(o){try{o.parentElement&&o.parentElement.removeChild(o)}catch{}}var MF=class{constructor(e){this.renderers=e,this.cache=new Map}alloc(e){let t=this.getTemplateCache(e).pop();if(!t){let i=se(".monaco-list-row"),r=this.getRenderer(e).renderTemplate(i);t={domNode:i,templateId:e,templateData:r}}return t}release(e){!e||this.releaseRow(e)}releaseRow(e){let{domNode:t,templateId:i}=e;t&&(t.classList.remove("scrolling"),yfe(t)),this.getTemplateCache(i).push(e)}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach((e,t)=>{for(let i of e)this.getRenderer(t).disposeTemplate(i.templateData),i.templateData=null}),this.cache.clear()}getRenderer(e){let t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}};var Gp=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},nh={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(o){return[o]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0},Rg=class{constructor(e){this.elements=e}update(){}getData(){return this.elements}},WY=class{constructor(e){this.elements=e}update(){}getData(){return this.elements}},UY=class{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){let i=e.files.item(t);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}};function Sfe(o,e){return Array.isArray(o)&&Array.isArray(e)?eo(o,e):o===e}var zY=class{constructor(e){(e==null?void 0:e.getSetSize)?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(t,i,n)=>n,(e==null?void 0:e.getPosInSet)?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(t,i)=>i+1,(e==null?void 0:e.getRole)?this.getRole=e.getRole.bind(e):this.getRole=t=>"listitem",(e==null?void 0:e.isChecked)?this.isChecked=e.isChecked.bind(e):this.isChecked=t=>{}}},Ja=class{constructor(e,t,i,n=nh){if(this.virtualDelegate=t,this.domId=`list_id_${++Ja.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new Wr(50),this.splicing=!1,this.dragOverAnimationStopDisposable=$.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=$.None,this.onDragLeaveTimeout=$.None,this.disposables=new Q,this._onDidChangeContentHeight=new F,this._horizontalScrolling=!1,n.horizontalScrolling&&n.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new BI;for(let s of i)this.renderers.set(s.templateId,s);this.cache=this.disposables.add(new MF(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof n.mouseSupport=="boolean"?n.mouseSupport:!0),this._horizontalScrolling=lc(n,s=>s.horizontalScrolling,nh.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof n.additionalScrollHeight=="undefined"?0:n.additionalScrollHeight,this.accessibilityProvider=new zY(n.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",lc(n,s=>s.transformOptimization,nh.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(Bt.addTarget(this.rowsContainer)),this.scrollable=new xu(lc(n,s=>s.smoothScrolling,!1)?125:0,s=>xs(s)),this.scrollableElement=this.disposables.add(new Op(this.rowsContainer,{alwaysConsumeMouseWheel:lc(n,s=>s.alwaysConsumeMouseWheel,nh.alwaysConsumeMouseWheel),horizontal:1,vertical:lc(n,s=>s.verticalScrollMode,nh.verticalScrollMode),useShadows:lc(n,s=>s.useShadows,nh.useShadows),mouseWheelScrollSensitivity:n.mouseWheelScrollSensitivity,fastScrollSensitivity:n.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(oe(this.rowsContainer,ei.Change,s=>this.onTouchChange(s))),this.disposables.add(oe(this.scrollableElement.getDomNode(),"scroll",s=>s.target.scrollTop=0)),this.disposables.add(oe(this.domNode,"dragover",s=>this.onDragOver(this.toDragEvent(s)))),this.disposables.add(oe(this.domNode,"drop",s=>this.onDrop(this.toDragEvent(s)))),this.disposables.add(oe(this.domNode,"dragleave",s=>this.onDragLeave(this.toDragEvent(s)))),this.disposables.add(oe(this.domNode,"dragend",s=>this.onDragEnd(s))),this.setRowLineHeight=lc(n,s=>s.setRowLineHeight,nh.setRowLineHeight),this.setRowHeight=lc(n,s=>s.setRowHeight,nh.setRowHeight),this.supportDynamicHeights=lc(n,s=>s.supportDynamicHeights,nh.supportDynamicHeights),this.dnd=lc(n,s=>s.dnd,nh.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(let t of this.items)this.measureItemWidth(t);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:LD(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(e){e.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=e.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),e.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),e.horizontalScrolling!==void 0&&(this.horizontalScrolling=e.horizontalScrolling),e.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),e.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:e.fastScrollSensitivity})}splice(e,t,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,i=[]){let n=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),r={start:e,end:e+t},s=ho.intersect(n,r),a=new Map;for(let R=s.start;R<s.end;R++){let O=this.items[R];if(O.dragStartDisposable.dispose(),O.row){let N=a.get(O.templateId);N||(N=[],a.set(O.templateId,N));let W=this.renderers.get(O.templateId);W&&W.disposeElement&&W.disposeElement(O.element,R,O.row.templateData,O.size),N.push(O.row)}O.row=null}let l={start:e+t,end:this.items.length},c=ho.intersect(l,n),d=ho.relativeComplement(l,n),h=i.map(R=>({id:String(this.itemId++),element:R,templateId:this.virtualDelegate.getTemplateId(R),size:this.virtualDelegate.getHeight(R),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(R),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:$.None})),u;e===0&&t>=this.items.length?(this.rangeMap=new BI,this.rangeMap.splice(0,0,h),u=this.items,this.items=h):(this.rangeMap.splice(e,t,h),u=this.items.splice(e,t,...h));let f=i.length-t,p=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),b=FI(c,f),v=ho.intersect(p,b);for(let R=v.start;R<v.end;R++)this.updateItemInDOM(this.items[R],R);let y=ho.relativeComplement(b,p);for(let R of y)for(let O=R.start;O<R.end;O++)this.removeItemFromDOM(O);let w=d.map(R=>FI(R,f)),x=[{start:e,end:e+i.length},...w].map(R=>ho.intersect(p,R)),k=this.getNextToLastElement(x);for(let R of x)for(let O=R.start;O<R.end;O++){let N=this.items[O],W=a.get(N.templateId),G=W==null?void 0:W.pop();this.insertItemInDOM(O,k,G)}for(let R of a.values())for(let O of R)this.cache.release(O);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),u.map(R=>R.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=xs(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(let t of this.items)typeof t.width!="undefined"&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:e===0?0:e+10})}rerender(){if(!!this.supportDynamicHeights){for(let e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(e){return this.items[e].element}domElement(e){let t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){let i={height:typeof e=="number"?e:c6(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),typeof t!="undefined"&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof t=="number"?t:LD(this.domNode)})}render(e,t,i,n,r,s=!1){let a=this.getRenderRange(t,i),l=ho.relativeComplement(a,e),c=ho.relativeComplement(e,a),d=this.getNextToLastElement(l);if(s){let h=ho.intersect(e,a);for(let u=h.start;u<h.end;u++)this.updateItemInDOM(this.items[u],u)}for(let h of l)for(let u=h.start;u<h.end;u++)this.insertItemInDOM(u,d);for(let h of c)for(let u=h.start;u<h.end;u++)this.removeItemFromDOM(u);n!==void 0&&(this.rowsContainer.style.left=`-${n}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&r!==void 0&&(this.rowsContainer.style.width=`${Math.max(r,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t,i){let n=this.items[e];n.row||(n.row=i??this.cache.alloc(n.templateId));let r=this.accessibilityProvider.getRole(n.element)||"listitem";n.row.domNode.setAttribute("role",r);let s=this.accessibilityProvider.isChecked(n.element);typeof s!="undefined"&&n.row.domNode.setAttribute("aria-checked",String(!!s)),n.row.domNode.parentElement||(t?this.rowsContainer.insertBefore(n.row.domNode,t):this.rowsContainer.appendChild(n.row.domNode)),this.updateItemInDOM(n,e);let a=this.renderers.get(n.templateId);if(!a)throw new Error(`No renderer found for template id ${n.templateId}`);a&&a.renderElement(n.element,e,n.row.templateData,n.size);let l=this.dnd.getDragURI(n.element);n.dragStartDisposable.dispose(),n.row.domNode.draggable=!!l,l&&(n.dragStartDisposable=oe(n.row.domNode,"dragstart",c=>this.onDragStart(n.element,l,c))),this.horizontalScrolling&&(this.measureItemWidth(n),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width=On?"-moz-fit-content":"fit-content",e.width=LD(e.row.domNode);let t=window.getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2===0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){let t=this.items[e];if(t.dragStartDisposable.dispose(),t.row){let i=this.renderers.get(t.templateId);i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return we.map(this.disposables.add(new Jt(this.domNode,"click")).event,e=>this.toMouseEvent(e))}get onMouseDblClick(){return we.map(this.disposables.add(new Jt(this.domNode,"dblclick")).event,e=>this.toMouseEvent(e))}get onMouseMiddleClick(){return we.filter(we.map(this.disposables.add(new Jt(this.domNode,"auxclick")).event,e=>this.toMouseEvent(e)),e=>e.browserEvent.button===1)}get onMouseDown(){return we.map(this.disposables.add(new Jt(this.domNode,"mousedown")).event,e=>this.toMouseEvent(e))}get onContextMenu(){return we.any(we.map(this.disposables.add(new Jt(this.domNode,"contextmenu")).event,e=>this.toMouseEvent(e)),we.map(this.disposables.add(new Jt(this.domNode,ei.Contextmenu)).event,e=>this.toGestureEvent(e)))}get onTouchStart(){return we.map(this.disposables.add(new Jt(this.domNode,"touchstart")).event,e=>this.toTouchEvent(e))}get onTap(){return we.map(this.disposables.add(new Jt(this.rowsContainer,ei.Tap)).event,e=>this.toGestureEvent(e))}toMouseEvent(e){let t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t=="undefined"?void 0:this.items[t],n=i&&i.element;return{browserEvent:e,index:t,element:n}}toTouchEvent(e){let t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t=="undefined"?void 0:this.items[t],n=i&&i.element;return{browserEvent:e,index:t,element:n}}toGestureEvent(e){let t=this.getItemIndexFromEventTarget(e.initialTarget||null),i=typeof t=="undefined"?void 0:this.items[t],n=i&&i.element;return{browserEvent:e,index:t,element:n}}toDragEvent(e){let t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t=="undefined"?void 0:this.items[t],n=i&&i.element;return{browserEvent:e,index:t,element:n}}onScroll(e){try{let t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){if(!i.dataTransfer)return;let n=this.dnd.getDragElements(e);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(lI.TEXT,t),i.dataTransfer.setDragImage){let r;this.dnd.getDragLabel&&(r=this.dnd.getDragLabel(n,i)),typeof r=="undefined"&&(r=String(n.length));let s=se(".monaco-drag-image");s.textContent=r,document.body.appendChild(s),i.dataTransfer.setDragImage(s,-10,-10),setTimeout(()=>document.body.removeChild(s),0)}this.currentDragData=new Rg(n),Uc.CurrentDragAndDropData=new WY(n),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,i)}onDragOver(e){if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),Uc.CurrentDragAndDropData&&Uc.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(Uc.CurrentDragAndDropData)this.currentDragData=Uc.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new UY}let t=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.browserEvent);if(this.canDrop=typeof t=="boolean"?t:t.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;e.browserEvent.dataTransfer.dropEffect=typeof t!="boolean"&&t.effect===0?"copy":"move";let i;if(typeof t!="boolean"&&t.feedback?i=t.feedback:typeof e.index=="undefined"?i=[-1]:i=[e.index],i=pl(i).filter(n=>n>=-1&&n<this.length).sort((n,r)=>n-r),i=i[0]===-1?[-1]:i,Sfe(this.currentDragFeedback,i))return!0;if(this.currentDragFeedback=i,this.currentDragFeedbackDisposable.dispose(),i[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=ze(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(let n of i){let r=this.items[n];r.dropTarget=!0,r.row&&r.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=ze(()=>{for(let n of i){let r=this.items[n];r.dropTarget=!1,r.row&&r.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(e){var t,i;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=xl(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((i=(t=this.dnd).onDragLeave)===null||i===void 0||i.call(t,this.currentDragData,e.element,e.index,e.browserEvent))}onDrop(e){if(!this.canDrop)return;let t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,Uc.CurrentDragAndDropData=void 0,!(!t||!e.browserEvent.dataTransfer)&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.browserEvent))}onDragEnd(e){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,Uc.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=$.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){let t=DD(this.domNode).top;this.dragOverAnimationDisposable=_6(this.animateDragAndDropScrollTop.bind(this,t))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=xl(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(this.dragOverMouseY===void 0)return;let t=this.dragOverMouseY-e,i=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(e){let t=this.scrollableElement.getDomNode(),i=e;for(;i instanceof HTMLElement&&i!==this.rowsContainer&&t.contains(i);){let n=i.getAttribute("data-index");if(n){let r=Number(n);if(!isNaN(r))return r}i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,i){let n=this.getRenderRange(e,t),r,s;e===this.elementTop(n.start)?(r=n.start,s=0):n.end-n.start>1&&(r=n.start+1,s=this.elementTop(r)-e);let a=0;for(;;){let l=this.getRenderRange(e,t),c=!1;for(let d=l.start;d<l.end;d++){let h=this.probeDynamicHeight(d);h!==0&&this.rangeMap.splice(d,1,[this.items[d]]),a+=h,c=c||h!==0}if(!c){a!==0&&this.eventuallyUpdateScrollDimensions();let d=ho.relativeComplement(n,l);for(let u of d)for(let f=u.start;f<u.end;f++)this.items[f].row&&this.removeItemFromDOM(f);let h=ho.relativeComplement(l,n);for(let u of h)for(let f=u.start;f<u.end;f++){let p=f+1,b=p<this.items.length?this.items[p].row:null,v=b?b.domNode:null;this.insertItemInDOM(f,v)}for(let u=l.start;u<l.end;u++)this.items[u].row&&this.updateItemInDOM(this.items[u],u);if(typeof r=="number"){let u=this.scrollable.getFutureScrollPosition().scrollTop-e,f=this.elementTop(r)-s+u;this.setScrollTop(f,i)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(e){let t=this.items[e];if(this.virtualDelegate.getDynamicHeight){let s=this.virtualDelegate.getDynamicHeight(t.element);if(s!==null){let a=t.size;return t.size=s,t.lastDynamicHeightWidth=this.renderWidth,s-a}}if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(t.element))return 0;let i=t.size;if(!this.setRowHeight&&t.row){let s=t.row.domNode.offsetHeight;return t.size=s,t.lastDynamicHeightWidth=this.renderWidth,s-i}let n=this.cache.alloc(t.templateId);n.domNode.style.height="",this.rowsContainer.appendChild(n.domNode);let r=this.renderers.get(t.templateId);return r&&(r.renderElement(t.element,e,n.templateData,void 0),r.disposeElement&&r.disposeElement(t.element,e,n.templateData,void 0)),t.size=n.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(n.domNode),this.cache.release(n),t.size-i}getNextToLastElement(e){let t=e[e.length-1];if(!t)return null;let i=this.items[t.end];return!i||!i.row?null:i.row.domNode}getElementDomId(e){return`${this.domId}_${e}`}dispose(){if(this.items){for(let e of this.items)if(e.row){let t=this.renderers.get(e.row.templateId);t&&(t.disposeElement&&t.disposeElement(e.element,-1,e.row.templateData,void 0),t.disposeTemplate(e.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),ct(this.disposables)}};Ja.InstanceCount=0;Gp([gn],Ja.prototype,"onMouseClick",null);Gp([gn],Ja.prototype,"onMouseDblClick",null);Gp([gn],Ja.prototype,"onMouseMiddleClick",null);Gp([gn],Ja.prototype,"onMouseDown",null);Gp([gn],Ja.prototype,"onContextMenu",null);Gp([gn],Ja.prototype,"onTouchStart",null);Gp([gn],Ja.prototype,"onTap",null);var Xp=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},VY=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},HY=class{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(e){return e}renderElement(e,t,i){let n=this.renderedElements.findIndex(r=>r.templateData===i);if(n>=0){let r=this.renderedElements[n];this.trait.unrender(i),r.index=t}else{let r={index:t,templateData:i};this.renderedElements.push(r)}this.trait.renderIndex(t,i)}splice(e,t,i){let n=[];for(let r of this.renderedElements)r.index<e?n.push(r):r.index>=e+t&&n.push({index:r.index+i-t,templateData:r.templateData});this.renderedElements=n}renderIndexes(e){for(let{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){let t=this.renderedElements.findIndex(i=>i.templateData===e);t<0||this.renderedElements.splice(t,1)}},jy=class{constructor(e){this._trait=e,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new F,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new HY(this)}splice(e,t,i){var n;t=Math.max(0,Math.min(t,this.length-e));let r=i.length-t,s=e+t,a=[...this.sortedIndexes.filter(c=>c<e),...i.map((c,d)=>c?d+e:-1).filter(c=>c!==-1),...this.sortedIndexes.filter(c=>c>=s).map(c=>c+r)],l=this.length+r;if(this.sortedIndexes.length>0&&a.length===0&&l>0){let c=(n=this.sortedIndexes.find(d=>d>=e))!==null&&n!==void 0?n:l-1;a.push(Math.min(c,l-1))}this.renderer.splice(e,t,i.length),this._set(a,a),this.length=l}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(ZY),t)}_set(e,t,i){let n=this.indexes,r=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;let s=WF(r,e);return this.renderer.renderIndexes(s),this._onChange.fire({indexes:e,browserEvent:i}),n}get(){return this.indexes}contains(e){return db(this.sortedIndexes,e,ZY)>=0}dispose(){ct(this._onChange)}};Xp([gn],jy.prototype,"renderer",null);var $Y=class extends jy{constructor(e){super("selected");this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}},jI=class{constructor(e,t,i){this.trait=e,this.view=t,this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,i.map(()=>!1));let n=this.trait.get().map(s=>this.identityProvider.getId(this.view.element(s)).toString()),r=i.map(s=>n.indexOf(this.identityProvider.getId(s).toString())>-1);this.trait.splice(e,t,r)}};function Ru(o){return o.tagName==="INPUT"||o.tagName==="TEXTAREA"}function Qp(o){return o.classList.contains("monaco-editor")?!0:o.classList.contains("monaco-list")||!o.parentElement?!1:Qp(o.parentElement)}var AF=class{constructor(e,t,i){this.list=e,this.view=t,this.disposables=new Q,this.multipleSelectionDisposables=new Q,this.onKeyDown.filter(n=>n.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(n=>n.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(n=>n.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(n=>n.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(n=>n.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(n=>n.keyCode===9).on(this.onEscape,this,this.disposables),i.multipleSelectionSupport!==!1&&this.onKeyDown.filter(n=>(Xe?n.metaKey:n.ctrlKey)&&n.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return we.chain(this.disposables.add(new Jt(this.view.domNode,"keydown")).event).filter(e=>!Ru(e.target)).map(e=>new Kt(e))}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),e.multipleSelectionSupport&&this.onKeyDown.filter(t=>(Xe?t.metaKey:t.ctrlKey)&&t.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(mo(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}};Xp([gn],AF.prototype,"onKeyDown",null);var Ew;(function(o){o[o.Idle=0]="Idle",o[o.Typing=1]="Typing"})(Ew||(Ew={}));var FF=new class{mightProducePrintableCharacter(o){return o.ctrlKey||o.metaKey||o.altKey?!1:o.keyCode>=31&&o.keyCode<=56||o.keyCode>=21&&o.keyCode<=30||o.keyCode>=93&&o.keyCode<=102||o.keyCode>=80&&o.keyCode<=90}},KY=class{constructor(e,t,i,n){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=i,this.delegate=n,this.enabled=!1,this.state=Ew.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new Q,this.disposables=new Q,this.updateOptions(e.options)}updateOptions(e){(typeof e.enableKeyboardNavigation=="undefined"?!0:!!e.enableKeyboardNavigation)?this.enable():this.disable(),typeof e.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation)}enable(){if(this.enabled)return;let e=we.chain(this.enabledDisposables.add(new Jt(this.view.domNode,"keydown")).event).filter(n=>!Ru(n.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(n=>new Kt(n)).filter(n=>this.delegate.mightProducePrintableCharacter(n)).forEach(n=>n.preventDefault()).map(n=>n.browserEvent.key).event,t=we.debounce(e,()=>null,800);we.reduce(we.any(e,t),(n,r)=>r===null?null:(n||"")+r)(this.onInput,this,this.enabledDisposables),t(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var e;let t=this.list.getFocus();if(t.length>0&&t[0]===this.previouslyFocused){let i=(e=this.list.options.accessibilityProvider)===null||e===void 0?void 0:e.getAriaLabel(this.list.element(t[0]));i&&un(i)}this.previouslyFocused=-1}onInput(e){if(!e){this.state=Ew.Idle,this.triggered=!1;return}let t=this.list.getFocus(),i=t.length>0?t[0]:0,n=this.state===Ew.Idle?1:0;this.state=Ew.Typing;for(let r=0;r<this.list.length;r++){let s=(i+r+n)%this.list.length,a=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(s)),l=a&&a.toString();if(typeof l=="undefined"||kI(e,l)){this.previouslyFocused=i,this.list.setFocus([s]),this.list.reveal(s);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}},YY=class{constructor(e,t){this.list=e,this.view=t,this.disposables=new Q,we.chain(this.disposables.add(new Jt(t.domNode,"keydown")).event).filter(n=>!Ru(n.target)).map(n=>new Kt(n)).filter(n=>n.keyCode===2&&!n.ctrlKey&&!n.metaKey&&!n.shiftKey&&!n.altKey).on(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;let t=this.list.getFocus();if(t.length===0)return;let i=this.view.domElement(t[0]);if(!i)return;let n=i.querySelector("[tabIndex]");if(!n||!(n instanceof HTMLElement)||n.tabIndex===-1)return;let r=window.getComputedStyle(n);r.visibility==="hidden"||r.display==="none"||(e.preventDefault(),e.stopPropagation(),n.focus())}dispose(){this.disposables.dispose()}};function BF(o){return Xe?o.browserEvent.metaKey:o.browserEvent.ctrlKey}function jF(o){return o.browserEvent.shiftKey}function Efe(o){return o instanceof MouseEvent&&o.button===2}var qY={isSelectionSingleChangeEvent:BF,isSelectionRangeChangeEvent:jF},WI=class{constructor(e){this.list=e,this.disposables=new Q,this._onPointer=new F,this.onPointer=this._onPointer.event,e.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||qY),this.mouseSupport=typeof e.options.mouseSupport=="undefined"||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(Bt.addTarget(e.getHTMLElement()))),we.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||qY))}isSelectionSingleChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):!1}isSelectionRangeChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):!1}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){Qp(e.browserEvent.target)||document.activeElement!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(Qp(e.browserEvent.target))return;let t=typeof e.index=="undefined"?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport||Ru(e.browserEvent.target)||Qp(e.browserEvent.target))return;let t=e.index;if(typeof t=="undefined"){this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(e))return this.changeSelection(e);if(this.isSelectionChangeEvent(e))return this.changeSelection(e);this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),Efe(e.browserEvent)||this.list.setSelection([t],e.browserEvent),this._onPointer.fire(e)}onDoubleClick(e){if(Ru(e.browserEvent.target)||Qp(e.browserEvent.target)||this.isSelectionChangeEvent(e))return;let t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){let t=e.index,i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){if(typeof i=="undefined"){let d=this.list.getFocus()[0];i=d??t,this.list.setAnchor(i)}let n=Math.min(i,t),r=Math.max(i,t),s=mo(n,r+1),a=this.list.getSelection(),l=Lfe(WF(a,[i]),i);if(l.length===0)return;let c=WF(s,kfe(a,l));this.list.setSelection(c,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){let n=this.list.getSelection(),r=n.filter(s=>s!==t);this.list.setFocus([t]),this.list.setAnchor(t),n.length===r.length?this.list.setSelection([...r,t],e.browserEvent):this.list.setSelection(r,e.browserEvent)}}dispose(){this.disposables.dispose()}},UI=class{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){let t=this.selectorSuffix&&`.${this.selectorSuffix}`,i=[];e.listBackground&&(e.listBackground.isOpaque()?i.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`):Xe||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),e.listFocusBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionBackground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }
			`),e.listFocusAndSelectionForeground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }
			`),e.listInactiveFocusForeground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&i.push(`.monaco-list${t} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(i.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&i.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&i.push(`.monaco-list${t}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&i.push(`.monaco-list${t} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`),e.listSelectionOutline&&i.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listFocusOutline&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
			`),e.listInactiveFocusOutline&&i.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&i.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropBackground&&i.push(`
				.monaco-list${t}.drop-target,
				.monaco-list${t} .monaco-list-rows.drop-target,
				.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropBackground} !important; color: inherit !important; }
			`),e.listFilterWidgetBackground&&i.push(`.monaco-list-type-filter { background-color: ${e.listFilterWidgetBackground} }`),e.listFilterWidgetOutline&&i.push(`.monaco-list-type-filter { border: 1px solid ${e.listFilterWidgetOutline}; }`),e.listFilterWidgetNoMatchesOutline&&i.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${e.listFilterWidgetNoMatchesOutline}; }`),e.listMatchesShadow&&i.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${e.listMatchesShadow}; }`),e.tableColumnsBorder&&i.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${e.tableColumnsBorder};
			}`),e.tableOddRowsBackgroundColor&&i.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${e.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=i.join(`
`)}},xfe={listFocusBackground:Z.fromHex("#7FB0D0"),listActiveSelectionBackground:Z.fromHex("#0E639C"),listActiveSelectionForeground:Z.fromHex("#FFFFFF"),listActiveSelectionIconForeground:Z.fromHex("#FFFFFF"),listFocusAndSelectionBackground:Z.fromHex("#094771"),listFocusAndSelectionForeground:Z.fromHex("#FFFFFF"),listInactiveSelectionBackground:Z.fromHex("#3F3F46"),listInactiveSelectionIconForeground:Z.fromHex("#FFFFFF"),listHoverBackground:Z.fromHex("#2A2D2E"),listDropBackground:Z.fromHex("#383B3D"),treeIndentGuidesStroke:Z.fromHex("#a9a9a9"),tableColumnsBorder:Z.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:Z.fromHex("#cccccc").transparent(.04)},Dfe={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function Lfe(o,e){let t=o.indexOf(e);if(t===-1)return[];let i=[],n=t-1;for(;n>=0&&o[n]===e-(t-n);)i.push(o[n--]);for(i.reverse(),n=t;n<o.length&&o[n]===e+(n-t);)i.push(o[n++]);return i}function WF(o,e){let t=[],i=0,n=0;for(;i<o.length||n<e.length;)if(i>=o.length)t.push(e[n++]);else if(n>=e.length)t.push(o[i++]);else if(o[i]===e[n]){t.push(o[i]),i++,n++;continue}else o[i]<e[n]?t.push(o[i++]):t.push(e[n++]);return t}function kfe(o,e){let t=[],i=0,n=0;for(;i<o.length||n<e.length;)if(i>=o.length)t.push(e[n++]);else if(n>=e.length)t.push(o[i++]);else if(o[i]===e[n]){i++,n++;continue}else o[i]<e[n]?t.push(o[i++]):n++;return t}var ZY=(o,e)=>o-e,GY=class{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(t=>t.renderTemplate(e))}renderElement(e,t,i,n){let r=0;for(let s of this.renderers)s.renderElement(e,t,i[r++],n)}disposeElement(e,t,i,n){let r=0;for(let s of this.renderers)s.disposeElement&&s.disposeElement(e,t,i[r],n),r+=1}disposeTemplate(e){let t=0;for(let i of this.renderers)i.disposeTemplate(e[t++])}},XY=class{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return e}renderElement(e,t,i){let n=this.accessibilityProvider.getAriaLabel(e);n?i.setAttribute("aria-label",n):i.removeAttribute("aria-label");let r=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);typeof r=="number"?i.setAttribute("aria-level",`${r}`):i.removeAttribute("aria-level")}disposeTemplate(e){}},QY=class{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){let t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(e,t)}onDragOver(e,t,i,n){return this.dnd.onDragOver(e,t,i,n)}onDragLeave(e,t,i,n){var r,s;(s=(r=this.dnd).onDragLeave)===null||s===void 0||s.call(r,e,t,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}drop(e,t,i,n){this.dnd.drop(e,t,i,n)}},ms=class{constructor(e,t,i,n,r=Dfe){var s;this.user=e,this._options=r,this.focus=new jy("focused"),this.anchor=new jy("anchor"),this.eventBufferer=new Dm,this._ariaLabel="",this.disposables=new Q,this._onDidDispose=new F,this.onDidDispose=this._onDidDispose.event;let a=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(s=this._options.accessibilityProvider)===null||s===void 0?void 0:s.getWidgetRole():"list";this.selection=new $Y(a!=="listbox"),tr(r,xfe,!1);let l=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=r.accessibilityProvider,this.accessibilityProvider&&(l.push(new XY(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),n=n.map(d=>new GY(d.templateId,[...l,d]));let c=Object.assign(Object.assign({},r),{dnd:r.dnd&&new QY(this,r.dnd)});if(this.view=new Ja(t,i,n,c),this.view.domNode.setAttribute("role",a),r.styleController)this.styleController=r.styleController(this.view.domId);else{let d=no(this.view.domNode);this.styleController=new UI(d,this.view.domId)}if(this.spliceable=new RF([new jI(this.focus,this.view,r.identityProvider),new jI(this.selection,this.view,r.identityProvider),new jI(this.anchor,this.view,r.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new YY(this,this.view)),(typeof r.keyboardSupport!="boolean"||r.keyboardSupport)&&(this.keyboardController=new AF(this,this.view,r),this.disposables.add(this.keyboardController)),r.keyboardNavigationLabelProvider){let d=r.keyboardNavigationDelegate||FF;this.typeLabelController=new KY(this,this.view,r.keyboardNavigationLabelProvider,d),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(r),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return we.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e))}get onDidChangeSelection(){return we.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1,t=we.chain(this.disposables.add(new Jt(this.view.domNode,"keydown")).event).map(r=>new Kt(r)).filter(r=>e=r.keyCode===58||r.shiftKey&&r.keyCode===68).map(W4).filter(()=>!1).event,i=we.chain(this.disposables.add(new Jt(this.view.domNode,"keyup")).event).forEach(()=>e=!1).map(r=>new Kt(r)).filter(r=>r.keyCode===58||r.shiftKey&&r.keyCode===68).map(W4).map(({browserEvent:r})=>{let s=this.getFocus(),a=s.length?s[0]:void 0,l=typeof a!="undefined"?this.view.element(a):void 0,c=typeof a!="undefined"?this.view.domElement(a):this.view.domNode;return{index:a,element:l,anchor:c,browserEvent:r}}).event,n=we.chain(this.view.onContextMenu).filter(r=>!e).map(({element:r,index:s,browserEvent:a})=>({element:r,index:s,anchor:{x:a.pageX+1,y:a.pageY},browserEvent:a})).event;return we.any(t,i,n)}get onKeyDown(){return this.disposables.add(new Jt(this.view.domNode,"keydown")).event}get onDidFocus(){return we.signal(this.disposables.add(new Jt(this.view.domNode,"focus",!0)).event)}createMouseController(e){return new WI(this)}updateOptions(e={}){var t;this._options=Object.assign(Object.assign({},this._options),e),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),(t=this.keyboardController)===null||t===void 0||t.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new Pu(this.user,`Invalid start index: ${e}`);if(t<0)throw new Pu(this.user,`Invalid delete count: ${t}`);t===0&&i.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,t,i))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(let i of e)if(i<0||i>=this.length)throw new Pu(this.user,`Invalid index ${i}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setAnchor(e){if(typeof e=="undefined"){this.anchor.set([]);return}if(e<0||e>=this.length)throw new Pu(this.user,`Invalid index ${e}`);this.anchor.set([e])}getAnchor(){return i0(this.anchor.get(),void 0)}getAnchorElement(){let e=this.getAnchor();return typeof e=="undefined"?void 0:this.element(e)}setFocus(e,t){for(let i of e)if(i<0||i>=this.length)throw new Pu(this.user,`Invalid index ${i}`);this.focus.set(e,t)}focusNext(e=1,t=!1,i,n){if(this.length===0)return;let r=this.focus.get(),s=this.findNextIndex(r.length>0?r[0]+e:0,t,n);s>-1&&this.setFocus([s],i)}focusPrevious(e=1,t=!1,i,n){if(this.length===0)return;let r=this.focus.get(),s=this.findPreviousIndex(r.length>0?r[0]-e:0,t,n);s>-1&&this.setFocus([s],i)}focusNextPage(e,t){return VY(this,void 0,void 0,function*(){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=i===0?0:i-1;let n=this.view.element(i),r=this.getFocusedElements()[0];if(r!==n){let s=this.findPreviousIndex(i,!1,t);s>-1&&r!==this.view.element(s)?this.setFocus([s],e):this.setFocus([i],e)}else{let s=this.view.getScrollTop();this.view.setScrollTop(s+this.view.renderHeight-this.view.elementHeight(i)),this.view.getScrollTop()!==s&&(this.setFocus([]),yield El(0),yield this.focusNextPage(e,t))}})}focusPreviousPage(e,t){return VY(this,void 0,void 0,function*(){let i,n=this.view.getScrollTop();n===0?i=this.view.indexAt(n):i=this.view.indexAfter(n-1);let r=this.view.element(i),s=this.getFocusedElements()[0];if(s!==r){let a=this.findNextIndex(i,!1,t);a>-1&&s!==this.view.element(a)?this.setFocus([a],e):this.setFocus([i],e)}else{let a=n;this.view.setScrollTop(n-this.view.renderHeight),this.view.getScrollTop()!==a&&(this.setFocus([]),yield El(0),yield this.focusPreviousPage(e,t))}})}focusLast(e,t){if(this.length===0)return;let i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(this.length===0)return;let n=this.findNextIndex(e,!1,i);n>-1&&this.setFocus([n],t)}findNextIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e>=this.length&&!t)return-1;if(e=e%this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,t){if(e<0||e>=this.length)throw new Pu(this.user,`Invalid index ${e}`);let i=this.view.getScrollTop(),n=this.view.elementTop(e),r=this.view.elementHeight(e);if(_l(t)){let s=r-this.view.renderHeight;this.view.setScrollTop(s*os(t,0,1)+n)}else{let s=n+r,a=i+this.view.renderHeight;n<i&&s>=a||(n<i||s>=a&&r>=this.view.renderHeight?this.view.setScrollTop(n):s>=a&&this.view.setScrollTop(s-this.view.renderHeight))}}getRelativeTop(e){if(e<0||e>=this.length)throw new Pu(this.user,`Invalid index ${e}`);let t=this.view.getScrollTop(),i=this.view.elementTop(e),n=this.view.elementHeight(e);if(i<t||i+n>t+this.view.renderHeight)return null;let r=n-this.view.renderHeight;return Math.abs((t-i)/r)}getHTMLElement(){return this.view.domNode}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map(i=>this.view.element(i)),browserEvent:t}}_onFocusChange(){let e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var e;let t=this.focus.get();if(t.length>0){let i;((e=this.accessibilityProvider)===null||e===void 0?void 0:e.getActiveDescendantId)&&(i=this.accessibilityProvider.getActiveDescendantId(this.view.element(t[0]))),this.view.domNode.setAttribute("aria-activedescendant",i||this.view.getElementDomId(t[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){let e=this.selection.get();this.view.domNode.classList.toggle("selection-none",e.length===0),this.view.domNode.classList.toggle("selection-single",e.length===1),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}};Xp([gn],ms.prototype,"onDidChangeFocus",null);Xp([gn],ms.prototype,"onDidChangeSelection",null);Xp([gn],ms.prototype,"onContextMenu",null);Xp([gn],ms.prototype,"onKeyDown",null);Xp([gn],ms.prototype,"onDidFocus",null);var JY=class{constructor(e,t){this.renderer=e,this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:$.None}}renderElement(e,t,i,n){if(i.disposable&&i.disposable.dispose(),!i.data)return;let r=this.modelProvider();if(r.isResolved(e))return this.renderer.renderElement(r.get(e),e,i.data,n);let s=new sn,a=r.resolve(e,s.token);i.disposable={dispose:()=>s.cancel()},this.renderer.renderPlaceholder(e,i.data),a.then(l=>this.renderer.renderElement(l,e,i.data,n))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}},eq=class{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){let t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}};function Ife(o,e){return Object.assign(Object.assign({},e),{accessibilityProvider:e.accessibilityProvider&&new eq(o,e.accessibilityProvider)})}var UF=class{constructor(e,t,i,n,r={}){let s=()=>this.model,a=n.map(l=>new JY(l,s));this.list=new ms(e,t,i,a,Ife(s,r))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return we.map(this.list.onMouseDblClick,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onPointer(){return we.map(this.list.onPointer,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onDidChangeSelection(){return we.map(this.list.onDidChangeSelection,({elements:e,indexes:t,browserEvent:i})=>({elements:e.map(n=>this._model.get(n)),indexes:t,browserEvent:i}))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,mo(e.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(e=>this.model.get(e))}style(e){this.list.style(e)}dispose(){this.list.dispose()}};Me();Me();Ut();Yn();Se();ne();Ub();di();var Ofe={separatorBorder:Z.transparent},zF=class{constructor(e,t,i,n){this.container=e,this.view=t,this.disposable=n,this._cachedVisibleSize=void 0,typeof i=="number"?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}set size(e){this._size=e}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(e,t){e!==this.visible&&(e?(this.size=os(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof t=="number"?t:this.size,this.size=0),this.container.classList.toggle("visible",e),this.view.setVisible&&this.view.setVisible(e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)}dispose(){return this.disposable.dispose(),this.view}},tq=class extends zF{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}},iq=class extends zF{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}},Mu;(function(o){o[o.Idle=0]="Idle",o[o.Busy=1]="Busy"})(Mu||(Mu={}));var Wy;(function(o){o.Distribute={type:"distribute"};function e(i){return{type:"split",index:i}}o.Split=e;function t(i){return{type:"invisible",cachedVisibleSize:i}}o.Invisible=t})(Wy||(Wy={}));var Uy=class extends ${constructor(e,t={}){var i,n,r,s,a;super();this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=Mu.Idle,this._onDidSashChange=this._register(new F),this._onDidSashReset=this._register(new F),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(i=t.orientation)!==null&&i!==void 0?i:0,this.inverseAltBehavior=(n=t.inverseAltBehavior)!==null&&n!==void 0?n:!1,this.proportionalLayout=(r=t.proportionalLayout)!==null&&r!==void 0?r:!0,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=J(this.el,se(".sash-container")),this.viewContainer=se(".split-view-container"),this.scrollable=new xu(125,xs),this.scrollableElement=this._register(new Op(this.viewContainer,{vertical:this.orientation===0?(s=t.scrollbarVisibility)!==null&&s!==void 0?s:1:2,horizontal:this.orientation===1?(a=t.scrollbarVisibility)!==null&&a!==void 0?a:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(l=>{this.viewContainer.scrollTop=l.scrollTop,this.viewContainer.scrollLeft=l.scrollLeft})),J(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||Ofe),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach((l,c)=>{let d=jo(l.visible)||l.visible?l.size:{type:"invisible",cachedVisibleSize:l.size},h=l.view;this.doAddView(h,d,c,!0)}),this.contentSize=this.viewItems.reduce((l,c)=>l+c.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(e){for(let t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}set orthogonalEndSash(e){for(let t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,n){this.doAddView(e,t,i,n)}layout(e,t){let i=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions)for(let n=0;n<this.viewItems.length;n++){let r=this.viewItems[n];r.size=os(Math.round(this.proportions[n]*e),r.minimumSize,r.maximumSize)}else{let n=mo(this.viewItems.length),r=n.filter(a=>this.viewItems[a].priority===1),s=n.filter(a=>this.viewItems[a].priority===2);this.resize(this.viewItems.length-1,e-i,void 0,r,s)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(e=>e.size/this.contentSize))}onSashStart({sash:e,start:t,alt:i}){for(let a of this.viewItems)a.enabled=!1;let n=this.sashItems.findIndex(a=>a.sash===e),r=Ta(oe(document.body,"keydown",a=>s(this.sashDragState.current,a.altKey)),oe(document.body,"keyup",()=>s(this.sashDragState.current,!1))),s=(a,l)=>{let c=this.viewItems.map(p=>p.size),d=Number.NEGATIVE_INFINITY,h=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(l=!l),l)if(n===this.sashItems.length-1){let b=this.viewItems[n];d=(b.minimumSize-b.size)/2,h=(b.maximumSize-b.size)/2}else{let b=this.viewItems[n+1];d=(b.size-b.maximumSize)/2,h=(b.size-b.minimumSize)/2}let u,f;if(!l){let p=mo(n,-1),b=mo(n+1,this.viewItems.length),v=p.reduce((N,W)=>N+(this.viewItems[W].minimumSize-c[W]),0),y=p.reduce((N,W)=>N+(this.viewItems[W].viewMaximumSize-c[W]),0),w=b.length===0?Number.POSITIVE_INFINITY:b.reduce((N,W)=>N+(c[W]-this.viewItems[W].minimumSize),0),S=b.length===0?Number.NEGATIVE_INFINITY:b.reduce((N,W)=>N+(c[W]-this.viewItems[W].viewMaximumSize),0),x=Math.max(v,S),k=Math.min(w,y),R=this.findFirstSnapIndex(p),O=this.findFirstSnapIndex(b);if(typeof R=="number"){let N=this.viewItems[R],W=Math.floor(N.viewMinimumSize/2);u={index:R,limitDelta:N.visible?x-W:x+W,size:N.size}}if(typeof O=="number"){let N=this.viewItems[O],W=Math.floor(N.viewMinimumSize/2);f={index:O,limitDelta:N.visible?k+W:k-W,size:N.size}}}this.sashDragState={start:a,current:a,index:n,sizes:c,minDelta:d,maxDelta:h,alt:l,snapBefore:u,snapAfter:f,disposable:r}};s(t,i)}onSashChange({current:e}){let{index:t,start:i,sizes:n,alt:r,minDelta:s,maxDelta:a,snapBefore:l,snapAfter:c}=this.sashDragState;this.sashDragState.current=e;let d=e-i,h=this.resize(t,d,n,void 0,void 0,s,a,l,c);if(r){let u=t===this.sashItems.length-1,f=this.viewItems.map(S=>S.size),p=u?t:t+1,b=this.viewItems[p],v=b.size-b.maximumSize,y=b.size-b.minimumSize,w=u?t-1:t+1;this.resize(w,-h,f,void 0,void 0,v,y)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(let t of this.viewItems)t.enabled=!0}onViewChange(e,t){let i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t=typeof t=="number"?t:e.size,t=os(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(this.state!==Mu.Idle)throw new Error("Cant modify splitview");if(this.state=Mu.Busy,e<0||e>=this.viewItems.length)return;let i=mo(this.viewItems.length).filter(a=>a!==e),n=[...i.filter(a=>this.viewItems[a].priority===1),e],r=i.filter(a=>this.viewItems[a].priority===2),s=this.viewItems[e];t=Math.round(t),t=os(t,s.minimumSize,Math.min(s.maximumSize,this.size)),s.size=t,this.relayout(n,r),this.state=Mu.Idle}distributeViewSizes(){let e=[],t=0;for(let a of this.viewItems)a.maximumSize-a.minimumSize>0&&(e.push(a),t+=a.size);let i=Math.floor(t/e.length);for(let a of e)a.size=os(i,a.minimumSize,a.maximumSize);let n=mo(this.viewItems.length),r=n.filter(a=>this.viewItems[a].priority===1),s=n.filter(a=>this.viewItems[a].priority===2);this.relayout(r,s)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,n){if(this.state!==Mu.Idle)throw new Error("Cant modify splitview");this.state=Mu.Busy;let r=se(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(r):this.viewContainer.insertBefore(r,this.viewContainer.children.item(i));let s=e.onDidChange(u=>this.onViewChange(d,u)),a=ze(()=>this.viewContainer.removeChild(r)),l=Ta(s,a),c;typeof t=="number"?c=t:t.type==="split"?c=this.getViewSize(t.index)/2:t.type==="invisible"?c={cachedVisibleSize:t.cachedVisibleSize}:c=e.minimumSize;let d=this.orientation===0?new tq(r,e,c,l):new iq(r,e,c,l);if(this.viewItems.splice(i,0,d),this.viewItems.length>1){let u={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},f=this.orientation===0?new Vn(this.sashContainer,{getHorizontalSashTop:N=>this.getSashPosition(N),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},u),{orientation:1})):new Vn(this.sashContainer,{getVerticalSashLeft:N=>this.getSashPosition(N),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},u),{orientation:0})),p=this.orientation===0?N=>({sash:f,start:N.startY,current:N.currentY,alt:N.altKey}):N=>({sash:f,start:N.startX,current:N.currentX,alt:N.altKey}),v=we.map(f.onDidStart,p)(this.onSashStart,this),w=we.map(f.onDidChange,p)(this.onSashChange,this),x=we.map(f.onDidEnd,()=>this.sashItems.findIndex(N=>N.sash===f))(this.onSashEnd,this),k=f.onDidReset(()=>{let N=this.sashItems.findIndex(re=>re.sash===f),W=mo(N,-1),G=mo(N+1,this.viewItems.length),Y=this.findFirstSnapIndex(W),te=this.findFirstSnapIndex(G);typeof Y=="number"&&!this.viewItems[Y].visible||typeof te=="number"&&!this.viewItems[te].visible||this._onDidSashReset.fire(N)}),R=Ta(v,w,x,k,f),O={sash:f,disposable:R};this.sashItems.splice(i-1,0,O)}r.appendChild(e.element);let h;typeof t!="number"&&t.type==="split"&&(h=[t.index]),n||this.relayout([i],h),this.state=Mu.Idle,!n&&typeof t!="number"&&t.type==="distribute"&&this.distributeViewSizes()}relayout(e,t){let i=this.viewItems.reduce((n,r)=>n+r.size,0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map(d=>d.size),n,r,s=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,l,c){if(e<0||e>=this.viewItems.length)return 0;let d=mo(e,-1),h=mo(e+1,this.viewItems.length);if(r)for(let O of r)px(d,O),px(h,O);if(n)for(let O of n)n0(d,O),n0(h,O);let u=d.map(O=>this.viewItems[O]),f=d.map(O=>i[O]),p=h.map(O=>this.viewItems[O]),b=h.map(O=>i[O]),v=d.reduce((O,N)=>O+(this.viewItems[N].minimumSize-i[N]),0),y=d.reduce((O,N)=>O+(this.viewItems[N].maximumSize-i[N]),0),w=h.length===0?Number.POSITIVE_INFINITY:h.reduce((O,N)=>O+(i[N]-this.viewItems[N].minimumSize),0),S=h.length===0?Number.NEGATIVE_INFINITY:h.reduce((O,N)=>O+(i[N]-this.viewItems[N].maximumSize),0),x=Math.max(v,S,s),k=Math.min(w,y,a),R=!1;if(l){let O=this.viewItems[l.index],N=t>=l.limitDelta;R=N!==O.visible,O.setVisible(N,l.size)}if(!R&&c){let O=this.viewItems[c.index],N=t<c.limitDelta;R=N!==O.visible,O.setVisible(N,c.size)}if(R)return this.resize(e,t,i,n,r,s,a);t=os(t,x,k);for(let O=0,N=t;O<u.length;O++){let W=u[O],G=os(f[O]+N,W.minimumSize,W.maximumSize);N-=G-f[O],W.size=G}for(let O=0,N=t;O<p.length;O++){let W=p[O],G=os(b[O]-N,W.minimumSize,W.maximumSize);N+=G-b[O],W.size=G}return t}distributeEmptySpace(e){let t=this.viewItems.reduce((a,l)=>a+l.size,0),i=this.size-t,n=mo(this.viewItems.length-1,-1),r=n.filter(a=>this.viewItems[a].priority===1),s=n.filter(a=>this.viewItems[a].priority===2);for(let a of s)px(n,a);for(let a of r)n0(n,a);typeof e=="number"&&n0(n,e);for(let a=0;i!==0&&a<n.length;a++){let l=this.viewItems[n[a]],c=os(l.size+i,l.minimumSize,l.maximumSize);i-=c-l.size,l.size=c}}layoutViews(){this.contentSize=this.viewItems.reduce((t,i)=>t+i.size,0);let e=0;for(let t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach(t=>t.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let e=!1,t=this.viewItems.map(l=>e=l.size-l.minimumSize>0||e);e=!1;let i=this.viewItems.map(l=>e=l.maximumSize-l.size>0||e),n=[...this.viewItems].reverse();e=!1;let r=n.map(l=>e=l.size-l.minimumSize>0||e).reverse();e=!1;let s=n.map(l=>e=l.maximumSize-l.size>0||e).reverse(),a=0;for(let l=0;l<this.sashItems.length;l++){let{sash:c}=this.sashItems[l];a+=this.viewItems[l].size;let h=!(t[l]&&s[l+1]),u=!(i[l]&&r[l+1]);if(h&&u){let f=mo(l,-1),p=mo(l+1,this.viewItems.length),b=this.findFirstSnapIndex(f),v=this.findFirstSnapIndex(p),y=typeof b=="number"&&!this.viewItems[b].visible,w=typeof v=="number"&&!this.viewItems[v].visible;y&&r[l]&&(a>0||this.startSnappingEnabled)?c.state=1:w&&t[l]&&(a<this.contentSize||this.endSnappingEnabled)?c.state=2:c.state=0}else h&&!u?c.state=1:!h&&u?c.state=2:c.state=3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(let t of e){let i=this.viewItems[t];if(!!i.visible&&i.snap)return t}for(let t of e){let i=this.viewItems[t];if(i.visible&&i.maximumSize-i.minimumSize>0)return;if(!i.visible&&i.snap)return t}}dispose(){super.dispose(),this.viewItems.forEach(e=>e.dispose()),this.viewItems=[],this.sashItems.forEach(e=>e.disposable.dispose()),this.sashItems=[]}};Se();ne();var xw=class{constructor(e,t,i){this.columns=e,this.getColumnSize=i,this.templateId=xw.TemplateId,this.renderedTemplates=new Set;let n=new Map(t.map(r=>[r.templateId,r]));this.renderers=[];for(let r of e){let s=n.get(r.templateId);if(!s)throw new Error(`Table cell renderer for template id ${r.templateId} not found.`);this.renderers.push(s)}}renderTemplate(e){let t=J(e,se(".monaco-table-tr")),i=[],n=[];for(let s=0;s<this.columns.length;s++){let a=this.renderers[s],l=J(t,se(".monaco-table-td",{"data-col-index":s}));l.style.width=`${this.getColumnSize(s)}px`,i.push(l),n.push(a.renderTemplate(l))}let r={container:e,cellContainers:i,cellTemplateData:n};return this.renderedTemplates.add(r),r}renderElement(e,t,i,n){for(let r=0;r<this.columns.length;r++){let a=this.columns[r].project(e);this.renderers[r].renderElement(a,t,i.cellTemplateData[r],n)}}disposeElement(e,t,i,n){for(let r=0;r<this.columns.length;r++){let s=this.renderers[r];if(s.disposeElement){let l=this.columns[r].project(e);s.disposeElement(l,t,i.cellTemplateData[r],n)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(e.cellTemplateData[t]);Zi(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(let{cellContainers:i}of this.renderedTemplates)i[e].style.width=`${t}px`}};xw.TemplateId="row";function Tfe(o){return{getHeight(e){return o.getHeight(e)},getTemplateId(){return xw.TemplateId}}}var nq=class{constructor(e,t){this.column=e,this.index=t,this._onDidLayout=new F,this.onDidLayout=this._onDidLayout.event,this.element=se(".monaco-table-th",{"data-col-index":t,title:e.tooltip},e.label)}get minimumSize(){var e;return(e=this.column.minimumWidth)!==null&&e!==void 0?e:120}get maximumSize(){var e;return(e=this.column.maximumWidth)!==null&&e!==void 0?e:Number.POSITIVE_INFINITY}get onDidChange(){var e;return(e=this.column.onDidChangeWidthConstraints)!==null&&e!==void 0?e:we.None}layout(e){this._onDidLayout.fire([this.index,e])}},Dw=class{constructor(e,t,i,n,r,s){this.virtualDelegate=i,this.domId=`table_id_${++Dw.InstanceCount}`,this.disposables=new Q,this.cachedWidth=0,this.cachedHeight=0,this.domNode=J(t,se(`.monaco-table.${this.domId}`));let a=n.map((d,h)=>new nq(d,h)),l={size:a.reduce((d,h)=>d+h.column.weight,0),views:a.map(d=>({size:d.column.weight,view:d}))};this.splitview=this.disposables.add(new Uy(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:l})),this.splitview.el.style.height=`${i.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${i.headerRowHeight}px`;let c=new xw(n,r,d=>this.splitview.getViewSize(d));this.list=this.disposables.add(new ms(e,this.domNode,Tfe(i),[c],s)),we.any(...a.map(d=>d.onDidLayout))(([d,h])=>c.layoutColumn(d,h),null,this.disposables),this.splitview.onDidSashReset(d=>{let h=n.reduce((f,p)=>f+p.weight,0),u=n[d].weight/h*this.cachedWidth;this.splitview.resizeView(d,u)},null,this.disposables),this.styleElement=no(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(e){this.list.updateOptions(e)}splice(e,t,i=[]){this.list.splice(e,t,i)}getHTMLElement(){return this.domNode}style(e){let t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=t.join(`
`),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}};Dw.InstanceCount=0;Me();is();var Lw;(function(o){o[o.Unknown=0]="Unknown",o[o.Twistie=1]="Twistie",o[o.Element=2]="Element"})(Lw||(Lw={}));var Ir=class extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}},kw=class{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}};Ut();Se();Oa();function zy(o){return typeof o=="object"&&"visibility"in o&&"data"in o}function Jp(o){switch(o){case!0:return 1;case!1:return 0;default:return o}}function VF(o){return typeof o.collapsible=="boolean"}var HF=class{constructor(e,t,i,n={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new Dm,this._onDidChangeCollapseState=new F,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new F,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new F,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=typeof n.collapseByDefault=="undefined"?!1:n.collapseByDefault,this.filter=n.filter,this.autoExpandSingleChildren=typeof n.autoExpandSingleChildren=="undefined"?!1:n.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,i=St.empty(),n={}){if(e.length===0)throw new Ir(this.user,"Invalid tree location");n.diffIdentityProvider?this.spliceSmart(n.diffIdentityProvider,e,t,i,n):this.spliceSimple(e,t,i,n)}spliceSmart(e,t,i,n,r,s){var a;n===void 0&&(n=St.empty()),s===void 0&&(s=(a=r.diffDepth)!==null&&a!==void 0?a:0);let{parentNode:l}=this.getParentNodeWithListIndex(t);if(!l.lastDiffIds)return this.spliceSimple(t,i,n,r);let c=[...n],d=t[t.length-1],h=new la({getElements:()=>l.lastDiffIds},{getElements:()=>[...l.children.slice(0,d),...c,...l.children.slice(d+i)].map(v=>e.getId(v.element).toString())}).ComputeDiff(!1);if(h.quitEarly)return l.lastDiffIds=void 0,this.spliceSimple(t,i,c,r);let u=t.slice(0,-1),f=(v,y,w)=>{if(s>0)for(let S=0;S<w;S++)v--,y--,this.spliceSmart(e,[...u,v,0],Number.MAX_SAFE_INTEGER,c[y].children,r,s-1)},p=Math.min(l.children.length,d+i),b=c.length;for(let v of h.changes.sort((y,w)=>w.originalStart-y.originalStart))f(p,b,p-(v.originalStart+v.originalLength)),p=v.originalStart,b=v.modifiedStart-d,this.spliceSimple([...u,p],v.originalLength,St.slice(c,b,b+v.modifiedLength),r);f(p,b,p)}spliceSimple(e,t,i=St.empty(),{onDidCreateNode:n,onDidDeleteNode:r,diffIdentityProvider:s}){let{parentNode:a,listIndex:l,revealed:c,visible:d}=this.getParentNodeWithListIndex(e),h=[],u=St.map(i,O=>this.createTreeNode(O,a,a.visible?1:0,c,h,n)),f=e[e.length-1],p=a.children.length>0,b=0;for(let O=f;O>=0&&O<a.children.length;O--){let N=a.children[O];if(N.visible){b=N.visibleChildIndex;break}}let v=[],y=0,w=0;for(let O of u)v.push(O),w+=O.renderNodeCount,O.visible&&(O.visibleChildIndex=b+y++);let S=hP(a.children,f,t,v);s?a.lastDiffIds?hP(a.lastDiffIds,f,t,v.map(O=>s.getId(O.element).toString())):a.lastDiffIds=a.children.map(O=>s.getId(O.element).toString()):a.lastDiffIds=void 0;let x=0;for(let O of S)O.visible&&x++;if(x!==0)for(let O=f+v.length;O<a.children.length;O++){let N=a.children[O];N.visible&&(N.visibleChildIndex-=x)}if(a.visibleChildrenCount+=y-x,c&&d){let O=S.reduce((N,W)=>N+(W.visible?W.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(a,w-O),this.list.splice(l,O,h)}if(S.length>0&&r){let O=N=>{r(N),N.children.forEach(O)};S.forEach(O)}let k=a.children.length>0;p!==k&&this.setCollapsible(e.slice(0,-1),k),this._onDidSplice.fire({insertedNodes:v,deletedNodes:S});let R=a;for(;R;){if(R.visibility===2){this.refilter();break}R=R.parent}}rerender(e){if(e.length===0)throw new Ir(this.user,"Invalid tree location");let{node:t,listIndex:i,revealed:n}=this.getTreeNodeWithListIndex(e);t.visible&&n&&this.list.splice(i,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){let{listIndex:t,visible:i,revealed:n}=this.getTreeNodeWithListIndex(e);return i&&n?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){let i=this.getTreeNode(e);typeof t=="undefined"&&(t=!i.collapsible);let n={collapsible:t};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,n))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){let n=this.getTreeNode(e);typeof t=="undefined"&&(t=!n.collapsed);let r={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,r))}_setCollapseState(e,t){let{node:i,listIndex:n,revealed:r}=this.getTreeNodeWithListIndex(e),s=this._setListNodeCollapseState(i,n,r,t);if(i!==this.root&&this.autoExpandSingleChildren&&s&&!VF(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let a=-1;for(let l=0;l<i.children.length;l++)if(i.children[l].visible)if(a>-1){a=-1;break}else a=l;a>-1&&this._setCollapseState([...e,a],t)}return s}_setListNodeCollapseState(e,t,i,n){let r=this._setNodeCollapseState(e,n,!1);if(!i||!e.visible||!r)return r;let s=e.renderNodeCount,a=this.updateNodeAfterCollapseChange(e),l=s-(t===-1?0:1);return this.list.splice(t+1,l,a.slice(1)),r}_setNodeCollapseState(e,t,i){let n;if(e===this.root?n=!1:(VF(t)?(n=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(n=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):n=!1,n&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!VF(t)&&t.recursive)for(let r of e.children)n=this._setNodeCollapseState(r,t,!0)||n;return n}expandTo(e){this.eventBufferer.bufferEvents(()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})})}refilter(){let e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t)}createTreeNode(e,t,i,n,r,s){let a={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof e.collapsible=="boolean"?e.collapsible:typeof e.collapsed!="undefined",collapsed:typeof e.collapsed=="undefined"?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(a,i);a.visibility=l,n&&r.push(a);let c=e.children||St.empty(),d=n&&l!==0&&!a.collapsed,h=St.map(c,p=>this.createTreeNode(p,a,l,d,r,s)),u=0,f=1;for(let p of h)a.children.push(p),f+=p.renderNodeCount,p.visible&&(p.visibleChildIndex=u++);return a.collapsible=a.collapsible||a.children.length>0,a.visibleChildrenCount=u,a.visible=l===2?u>0:l===1,a.visible?a.collapsed||(a.renderNodeCount=f):(a.renderNodeCount=0,n&&r.pop()),s&&s(a),a}updateNodeAfterCollapseChange(e){let t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(e.visible===!1)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(let i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){let t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,n=!0){let r;if(e!==this.root){if(r=this._filterNode(e,t),r===0)return e.visible=!1,e.renderNodeCount=0,!1;n&&i.push(e)}let s=i.length;e.renderNodeCount=e===this.root?0:1;let a=!1;if(!e.collapsed||r!==0){let l=0;for(let c of e.children)a=this._updateNodeAfterFilterChange(c,r,i,n&&!e.collapsed)||a,c.visible&&(c.visibleChildIndex=l++);e.visibleChildrenCount=l}else e.visibleChildrenCount=0;return e!==this.root&&(e.visible=r===2?a:r===1,e.visibility=r),e.visible?e.collapsed||(e.renderNodeCount+=i.length-s):(e.renderNodeCount=0,n&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(t!==0)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){let i=this.filter?this.filter.filter(e.element,t):1;return typeof i=="boolean"?(e.filterData=void 0,i?1:0):zy(i)?(e.filterData=i.data,Jp(i.visibility)):(e.filterData=void 0,Jp(i))}hasTreeNode(e,t=this.root){if(!e||e.length===0)return!0;let[i,...n]=e;return i<0||i>t.children.length?!1:this.hasTreeNode(n,t.children[i])}getTreeNode(e,t=this.root){if(!e||e.length===0)return t;let[i,...n]=e;if(i<0||i>t.children.length)throw new Ir(this.user,"Invalid tree location");return this.getTreeNode(n,t.children[i])}getTreeNodeWithListIndex(e){if(e.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};let{parentNode:t,listIndex:i,revealed:n,visible:r}=this.getParentNodeWithListIndex(e),s=e[e.length-1];if(s<0||s>t.children.length)throw new Ir(this.user,"Invalid tree location");let a=t.children[s];return{node:a,listIndex:i,revealed:n,visible:r&&a.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,n=!0,r=!0){let[s,...a]=e;if(s<0||s>t.children.length)throw new Ir(this.user,"Invalid tree location");for(let l=0;l<s;l++)i+=t.children[l].renderNodeCount;return n=n&&!t.collapsed,r=r&&t.visible,a.length===0?{parentNode:t,listIndex:i,revealed:n,visible:r}:this.getParentNodeWithListIndex(a,t.children[s],i+1,n,r)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){let t=[],i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){if(e.length!==0)return e.length===1?[]:G9(e)[0]}getFirstElementChild(e){let t=this.getTreeNode(e);if(t.children.length!==0)return t.children[0].element}};Ut();tt();en();Se();ne();Ub();wt();xe();var oq=class extends Rg{constructor(e){super(e.elements.map(t=>t.element));this.data=e}};function $F(o){return o instanceof Rg?new oq(o):o}var rq=class{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=$.None}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart($F(e),t)}onDragOver(e,t,i,n,r=!0){let s=this.dnd.onDragOver($F(e),t&&t.element,i,n),a=this.autoExpandNode!==t;if(a&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),typeof t=="undefined")return s;if(a&&typeof s!="boolean"&&s.autoExpand&&(this.autoExpandDisposable=xl(()=>{let u=this.modelProvider(),f=u.getNodeLocation(t);u.isCollapsed(f)&&u.setCollapsed(f,!1),this.autoExpandNode=void 0},500)),typeof s=="boolean"||!s.accept||typeof s.bubble=="undefined"||s.feedback){if(!r){let u=typeof s=="boolean"?s:s.accept,f=typeof s=="boolean"?void 0:s.effect;return{accept:u,effect:f,feedback:[i]}}return s}if(s.bubble===1){let u=this.modelProvider(),f=u.getNodeLocation(t),p=u.getParentNodeLocation(f),b=u.getNode(p),v=p&&u.getListIndex(p);return this.onDragOver(e,b,v,n,!1)}let l=this.modelProvider(),c=l.getNodeLocation(t),d=l.getListIndex(c),h=l.getListRenderCount(c);return Object.assign(Object.assign({},s),{feedback:mo(d,d+h)})}drop(e,t,i,n){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop($F(e),t&&t.element,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}};function Nfe(o,e){return e&&Object.assign(Object.assign({},e),{identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new rq(o,e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent(t){return e.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))},isSelectionRangeChangeEvent(t){return e.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))}},accessibilityProvider:e.accessibilityProvider&&Object.assign(Object.assign({},e.accessibilityProvider),{getSetSize(t){let i=o(),n=i.getNodeLocation(t),r=i.getParentNodeLocation(n);return i.getNode(r).visibleChildrenCount},getPosInSet(t){return t.visibleChildIndex+1},isChecked:e.accessibilityProvider&&e.accessibilityProvider.isChecked?t=>e.accessibilityProvider.isChecked(t.element):void 0,getRole:e.accessibilityProvider&&e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",getAriaLabel(t){return e.accessibilityProvider.getAriaLabel(t.element)},getWidgetAriaLabel(){return e.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:e.accessibilityProvider&&e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider&&e.accessibilityProvider.getAriaLevel?t=>e.accessibilityProvider.getAriaLevel(t.element):t=>t.depth,getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))}),keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}}),enableKeyboardNavigation:e.simpleKeyboardNavigation})}var Vy=class{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(e.element,t)}},Hy;(function(o){o.None="none",o.OnHover="onHover",o.Always="always"})(Hy||(Hy={}));var sq=class{constructor(e,t=[]){this._elements=t,this.onDidChange=we.forEach(e,i=>this._elements=i)}get elements(){return this._elements}},Iw=class{constructor(e,t,i,n,r={}){this.renderer=e,this.modelProvider=t,this.activeNodes=n,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=Iw.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new xM,this.activeIndentNodes=new Set,this.indentGuidesDisposable=$.None,this.disposables=new Q,this.templateId=e.templateId,this.updateOptions(r),we.map(i,s=>s.node)(this.onDidChangeNodeTwistieState,this,this.disposables),e.onDidChangeTwistieState&&e.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){if(typeof e.indent!="undefined"&&(this.indent=os(e.indent,0,40)),typeof e.renderIndentGuides!="undefined"){let t=e.renderIndentGuides!==Hy.None;if(t!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=t,this.indentGuidesDisposable.dispose(),t)){let i=new Q;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,i),this.indentGuidesDisposable=i,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof e.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){let t=J(e,se(".monaco-tl-row")),i=J(t,se(".monaco-tl-indent")),n=J(t,se(".monaco-tl-twistie")),r=J(t,se(".monaco-tl-contents")),s=this.renderer.renderTemplate(r);return{container:e,indent:i,twistie:n,indentGuidesDisposable:$.None,templateData:s}}renderElement(e,t,i,n){typeof n=="number"&&(this.renderedNodes.set(e,{templateData:i,height:n}),this.renderedElements.set(e.element,e));let r=Iw.DefaultIndent+(e.depth-1)*this.indent;i.twistie.style.paddingLeft=`${r}px`,i.indent.style.width=`${r+this.indent-16}px`,this.renderTwistie(e,i),typeof n=="number"&&this.renderIndentGuides(e,i),this.renderer.renderElement(e,t,i.templateData,n)}disposeElement(e,t,i,n){i.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.templateData,n),typeof n=="number"&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){let t=this.renderedElements.get(e);!t||this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){let t=this.renderedNodes.get(e);!t||(this.renderTwistie(e,t.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(e,t.templateData))}renderTwistie(e,t){t.twistie.classList.remove(...z.treeItemExpanded.classNamesArray);let i=!1;this.renderer.renderTwistie&&(i=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(i||t.twistie.classList.add(...z.treeItemExpanded.classNamesArray),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded")}renderIndentGuides(e,t){if(Zi(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;let i=new Q,n=this.modelProvider(),r=e;for(;;){let s=n.getNodeLocation(r),a=n.getParentNodeLocation(s);if(!a)break;let l=n.getNode(a),c=se(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(l)&&c.classList.add("active"),t.indent.childElementCount===0?t.indent.appendChild(c):t.indent.insertBefore(c,t.indent.firstElementChild),this.renderedIndentGuides.add(l,c),i.add(ze(()=>this.renderedIndentGuides.delete(l,c))),r=l}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;let t=new Set,i=this.modelProvider();e.forEach(n=>{let r=i.getNodeLocation(n);try{let s=i.getParentNodeLocation(r);n.collapsible&&n.children.length>0&&!n.collapsed?t.add(n):s&&t.add(i.getNode(s))}catch{}}),this.activeIndentNodes.forEach(n=>{t.has(n)||this.renderedIndentGuides.forEach(n,r=>r.classList.remove("active"))}),t.forEach(n=>{this.activeIndentNodes.has(n)||this.renderedIndentGuides.forEach(n,r=>r.classList.add("active"))}),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),ct(this.disposables)}};Iw.DefaultIndent=8;var aq=class{constructor(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new Q,e.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()}filter(e,t){if(this._filter){let r=this._filter.filter(e,t);if(this.tree.options.simpleKeyboardNavigation)return r;let s;if(typeof r=="boolean"?s=r?1:0:zy(r)?s=Jp(r.visibility):s=r,s===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:$s.Default,visibility:!0};let i=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),n=Array.isArray(i)?i:[i];for(let r of n){let s=r&&r.toString();if(typeof s=="undefined")return{data:$s.Default,visibility:!0};let a=Zp(this._pattern,this._lowercasePattern,0,s,s.toLowerCase(),0,!0);if(a)return this._matchCount++,n.length===1?{data:a,visibility:!0}:{data:{label:s,score:a},visibility:!0}}return this.tree.options.filterOnType?2:{data:$s.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){ct(this.disposables)}},lq=class{constructor(e,t,i,n,r){this.tree=e,this.view=i,this.filter=n,this.keyboardNavigationDelegate=r,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new F,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new F,this.enabledDisposables=new Q,this.disposables=new Q,this.domNode=se(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add(oe(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=J(i.getHTMLElement(),se(".monaco-list-type-filter-message")),this.labelDomNode=J(this.domNode,se("span.label"));let s=J(this.domNode,se(".controls"));this._filterOnType=!!e.options.filterOnType,this.filterOnTypeDomNode=J(s,se("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add(oe(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=J(s,se("button.clear"+z.treeFilterClear.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=g("clear","Clear"),this.keyboardNavigationEventFilter=e.options.keyboardNavigationEventFilter,t.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(e.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(e){e.simpleKeyboardNavigation?this.disable():this.enable(),typeof e.filterOnType!="undefined"&&(this._filterOnType=!!e.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof e.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;let e=this.enabledDisposables.add(new Jt(this.view.getHTMLElement(),"keydown")),t=we.chain(e.event).filter(n=>!Ru(n.target)||n.target===this.filterOnTypeDomNode).filter(n=>n.key!=="Dead"&&!/^Media/.test(n.key)).map(n=>new Kt(n)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(n=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(n)&&!(n.keyCode===18||n.keyCode===16||n.keyCode===15||n.keyCode===17)||(this.pattern.length>0||this.triggered)&&(n.keyCode===9||n.keyCode===1)&&!n.altKey&&!n.ctrlKey&&!n.metaKey||n.keyCode===1&&(Xe?n.altKey&&!n.metaKey:n.ctrlKey)&&!n.shiftKey).forEach(n=>{n.stopPropagation(),n.preventDefault()}).event,i=this.enabledDisposables.add(new Jt(this.clearDomNode,"click"));we.chain(we.any(t,i.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(e){typeof e=="string"?this.onInput(e):e instanceof MouseEvent||e.keyCode===9||e.keyCode===1&&(Xe?e.altKey:e.ctrlKey)?this.onInput(""):e.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+e.browserEvent.key)}onInput(e){let t=this.view.getHTMLElement();e&&!this.domNode.parentElement?t.append(this.domNode):!e&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,n=>!$s.isDefault(n.filterData));let i=this.tree.getFocus();if(i.length>0){let n=i[0];this.tree.getRelativeTop(n)===null&&this.tree.reveal(n,.5)}this.render(),e||(this.triggered=!1)}onDragStart(){let e=this.view.getHTMLElement(),{left:t}=Gi(e),i=e.clientWidth,n=i/2,r=this.domNode.clientWidth,s=new Q,a=this.positionClassName,l=()=>{switch(a){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${i-r-6}px`;break}},c=h=>{h.preventDefault();let u=h.clientX-t;h.dataTransfer&&(h.dataTransfer.dropEffect="none"),u<n?a="nw":a="ne",l()},d=()=>{this.positionClassName=a,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",ct(s)};l(),this.domNode.classList.remove(a),this.domNode.classList.add("dragging"),s.add(ze(()=>this.domNode.classList.remove("dragging"))),s.add(oe(document,"dragover",h=>c(h))),s.add(oe(this.domNode,"dragend",()=>d())),Uc.CurrentDragAndDropData=new V4("vscode-ui"),s.add(ze(()=>Uc.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...z.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.classList.add(...z.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.title=g("disable filter on type","Disable Filter on Type")):(this.filterOnTypeDomNode.classList.remove(...z.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.classList.add(...z.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.title=g("enable filter on type","Enable Filter on Type"))}render(){let e=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&e?(this.messageDomNode.textContent=g("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",e),this.domNode.title=g("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(e){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!$s.isDefault(e.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),ct(this.disposables)}};function cq(o){let e=Lw.Unknown;return $P(o.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?e=Lw.Twistie:$P(o.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(e=Lw.Element),{browserEvent:o.browserEvent,element:o.element?o.element.element:null,target:e}}function zI(o,e){e(o),o.children.forEach(t=>zI(t,e))}var VI=class{constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new F,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(e,t){var i;!((i=t)===null||i===void 0?void 0:i.__forceEvent)&&eo(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){let n=this;this._onDidChange.fire({get elements(){return n.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map(e=>e.element)),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){let l=this.createNodeSet(),c=d=>l.delete(d);t.forEach(d=>zI(d,c)),this.set([...l.values()]);return}let i=new Set,n=l=>i.add(this.identityProvider.getId(l.element).toString());t.forEach(l=>zI(l,n));let r=new Map,s=l=>r.set(this.identityProvider.getId(l.element).toString(),l);e.forEach(l=>zI(l,s));let a=[];for(let l of this.nodes){let c=this.identityProvider.getId(l.element).toString();if(!i.has(c))a.push(l);else{let h=r.get(c);h&&a.push(h)}}if(this.nodes.length>0&&a.length===0){let l=this.getFirstViewElementWithTrait();l&&a.push(l)}this._set(a,!0)}createNodeSet(){let e=new Set;for(let t of this.nodes)e.add(t);return e}},dq=class extends WI{constructor(e,t){super(e);this.tree=t}onViewPointer(e){if(Ru(e.browserEvent.target)||Qp(e.browserEvent.target))return;let t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);let i=e.browserEvent.target,n=i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&e.browserEvent.offsetX<16,r=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?r=this.tree.expandOnlyOnTwistieClick(t.element):r=!!this.tree.expandOnlyOnTwistieClick,r&&!n&&e.browserEvent.detail!==2)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&e.browserEvent.detail===2)return super.onViewPointer(e);if(t.collapsible){let s=this.tree.model,a=s.getNodeLocation(t),l=e.browserEvent.altKey;if(this.tree.setFocus([a]),s.setCollapsed(a,void 0,l),r&&n)return}super.onViewPointer(e)}onDoubleClick(e){e.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(e)}},hq=class extends ms{constructor(e,t,i,n,r,s,a,l){super(e,t,i,n,l);this.focusTrait=r,this.selectionTrait=s,this.anchorTrait=a}createMouseController(e){return new dq(this,e.tree)}splice(e,t,i=[]){if(super.splice(e,t,i),i.length===0)return;let n=[],r=[],s;i.forEach((a,l)=>{this.focusTrait.has(a)&&n.push(e+l),this.selectionTrait.has(a)&&r.push(e+l),this.anchorTrait.has(a)&&(s=e+l)}),n.length>0&&super.setFocus(pl([...super.getFocus(),...n])),r.length>0&&super.setSelection(pl([...super.getSelection(),...r])),typeof s=="number"&&super.setAnchor(s)}setFocus(e,t,i=!1){super.setFocus(e,t),i||this.focusTrait.set(e.map(n=>this.element(n)),t)}setSelection(e,t,i=!1){super.setSelection(e,t),i||this.selectionTrait.set(e.map(n=>this.element(n)),t)}setAnchor(e,t=!1){super.setAnchor(e),t||(typeof e=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}},$y=class{constructor(e,t,i,n,r={}){this._options=r,this.eventBufferer=new Dm,this.disposables=new Q,this._onWillRefilter=new F,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new F;let s=new Vy(i),a=new Lx,l=new Lx,c=new sq(l.event);this.renderers=n.map(u=>new Iw(u,()=>this.model,a.event,c,r));for(let u of this.renderers)this.disposables.add(u);let d;r.keyboardNavigationLabelProvider&&(d=new aq(this,r.keyboardNavigationLabelProvider,r.filter),r=Object.assign(Object.assign({},r),{filter:d}),this.disposables.add(d)),this.focus=new VI(()=>this.view.getFocusedElements()[0],r.identityProvider),this.selection=new VI(()=>this.view.getSelectedElements()[0],r.identityProvider),this.anchor=new VI(()=>this.view.getAnchorElement(),r.identityProvider),this.view=new hq(e,t,s,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},Nfe(()=>this.model,r)),{tree:this})),this.model=this.createModel(e,this.view,r),a.input=this.model.onDidChangeCollapseState;let h=we.forEach(this.model.onDidSplice,u=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(u),this.selection.onDidModelSplice(u)})});if(h(()=>null,null,this.disposables),l.input=we.chain(we.any(h,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{let u=new Set;for(let f of this.focus.getNodes())u.add(f);for(let f of this.selection.getNodes())u.add(f);return[...u.values()]}).event,r.keyboardSupport!==!1){let u=we.chain(this.view.onKeyDown).filter(f=>!Ru(f.target)).map(f=>new Kt(f));u.filter(f=>f.keyCode===15).on(this.onLeftArrow,this,this.disposables),u.filter(f=>f.keyCode===17).on(this.onRightArrow,this,this.disposables),u.filter(f=>f.keyCode===10).on(this.onSpace,this,this.disposables)}if(r.keyboardNavigationLabelProvider){let u=r.keyboardNavigationDelegate||FF;this.typeFilterController=new lq(this,this.model,this.view,d,u),this.focusNavigationFilter=f=>this.typeFilterController.shouldAllowFocus(f),this.disposables.add(this.typeFilterController)}this.styleElement=no(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Hy.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return we.map(this.view.onMouseDblClick,cq)}get onPointer(){return we.map(this.view.onPointer,cq)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return we.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(e={}){this._options=Object.assign(Object.assign({},this._options),e);for(let t of this.renderers)t.updateOptions(e);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Hy.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}domFocus(){this.view.domFocus()}layout(e,t){this.view.layout(e,t)}style(e){let t=`.${this.view.domId}`,i=[];e.treeIndentGuidesStroke&&(i.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeIndentGuidesStroke.transparent(.4)}; }`),i.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=i.join(`
`),this.view.style(e)}getParentElement(e){let t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}getFirstElementChild(e){return this.model.getFirstElementChild(e)}getNode(e){return this.model.getNode(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){let i=e.map(r=>this.model.getNode(r));this.selection.set(i,t);let n=e.map(r=>this.model.getListIndex(r)).filter(r=>r>-1);this.view.setSelection(n,t,!0)}getSelection(){return this.selection.get()}setFocus(e,t){let i=e.map(r=>this.model.getNode(r));this.focus.set(i,t);let n=e.map(r=>this.model.getListIndex(r)).filter(r=>r>-1);this.view.setFocus(n,t,!0)}focusNext(e=1,t=!1,i,n=this.focusNavigationFilter){this.view.focusNext(e,t,i,n)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);let i=this.model.getListIndex(e);i!==-1&&this.view.reveal(i,t)}getRelativeTop(e){let t=this.model.getListIndex(e);return t===-1?null:this.view.getRelativeTop(t)}onLeftArrow(e){e.preventDefault(),e.stopPropagation();let t=this.view.getFocusedElements();if(t.length===0)return;let i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!0)){let s=this.model.getParentNodeLocation(n);if(!s)return;let a=this.model.getListIndex(s);this.view.reveal(a),this.view.setFocus([a])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();let t=this.view.getFocusedElements();if(t.length===0)return;let i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!1)){if(!i.children.some(l=>l.visible))return;let[s]=this.view.getFocus(),a=s+1;this.view.reveal(a),this.view.setFocus([a])}}onSpace(e){e.preventDefault(),e.stopPropagation();let t=this.view.getFocusedElements();if(t.length===0)return;let i=t[0],n=this.model.getNodeLocation(i),r=e.browserEvent.altKey;this.model.setCollapsed(n,void 0,r)}dispose(){ct(this.disposables),this.view.dispose()}};Oa();var e_=class{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new HF(e,t,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare(n,r){return i.sorter.compare(n.element,r.element)}}),this.identityProvider=i.identityProvider}setChildren(e,t=St.empty(),i={}){let n=this.getElementLocation(e);this._setChildren(n,this.preserveCollapseState(t),i)}_setChildren(e,t=St.empty(),i){let n=new Set,r=new Set,s=l=>{var c;if(l.element===null)return;let d=l;if(n.add(d.element),this.nodes.set(d.element,d),this.identityProvider){let h=this.identityProvider.getId(d.element).toString();r.add(h),this.nodesByIdentity.set(h,d)}(c=i.onDidCreateNode)===null||c===void 0||c.call(i,d)},a=l=>{var c;if(l.element===null)return;let d=l;if(n.has(d.element)||this.nodes.delete(d.element),this.identityProvider){let h=this.identityProvider.getId(d.element).toString();r.has(h)||this.nodesByIdentity.delete(h)}(c=i.onDidDeleteNode)===null||c===void 0||c.call(i,d)};this.model.splice([...e,0],Number.MAX_VALUE,t,Object.assign(Object.assign({},i),{onDidCreateNode:s,onDidDeleteNode:a}))}preserveCollapseState(e=St.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),St.map(e,t=>{let i=this.nodes.get(t.element);if(!i&&this.identityProvider){let s=this.identityProvider.getId(t.element).toString();i=this.nodesByIdentity.get(s)}if(!i)return Object.assign(Object.assign({},t),{children:this.preserveCollapseState(t.children)});let n=typeof t.collapsible=="boolean"?t.collapsible:i.collapsible,r=typeof t.collapsed!="undefined"?t.collapsed:i.collapsed;return Object.assign(Object.assign({},t),{collapsible:n,collapsed:r,children:this.preserveCollapseState(t.children)})})}rerender(e){let t=this.getElementLocation(e);this.model.rerender(t)}getFirstElementChild(e=null){let t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}has(e){return this.nodes.has(e)}getListIndex(e){let t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){let t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){let t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){let i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){let t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){let n=this.getElementLocation(e);return this.model.setCollapsed(n,t,i)}expandTo(e){let t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(e===null)return this.model.getNode(this.model.rootRef);let t=this.nodes.get(e);if(!t)throw new Ir(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(e===null)throw new Ir(this.user,"Invalid getParentNodeLocation call");let t=this.nodes.get(e);if(!t)throw new Ir(this.user,`Tree element not found: ${e}`);let i=this.model.getNodeLocation(t),n=this.model.getParentNodeLocation(i);return this.model.getNode(n).element}getElementLocation(e){if(e===null)return[];let t=this.nodes.get(e);if(!t)throw new Ir(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}};Se();Oa();function HI(o){let e=[o.element],t=o.incompressible||!1;return{element:{elements:e,incompressible:t},children:St.map(St.from(o.children),HI),collapsible:o.collapsible,collapsed:o.collapsed}}function $I(o){let e=[o.element],t=o.incompressible||!1,i,n;for(;[n,i]=St.consume(St.from(o.children),2),!(n.length!==1||n[0].incompressible);)o=n[0],e.push(o.element);return{element:{elements:e,incompressible:t},children:St.map(St.concat(n,i),$I),collapsible:o.collapsible,collapsed:o.collapsed}}function KF(o,e=0){let t;return e<o.element.elements.length-1?t=[KF(o,e+1)]:t=St.map(St.from(o.children),i=>KF(i,0)),e===0&&o.element.incompressible?{element:o.element.elements[e],children:t,incompressible:!0,collapsible:o.collapsible,collapsed:o.collapsed}:{element:o.element.elements[e],children:t,collapsible:o.collapsible,collapsed:o.collapsed}}function uq(o){return KF(o,0)}function fq(o,e,t){return o.element===e?Object.assign(Object.assign({},o),{children:t}):Object.assign(Object.assign({},o),{children:St.map(St.from(o.children),i=>fq(i,e,t))})}var Pfe=o=>({getId(e){return e.elements.map(t=>o.getId(t).toString()).join("\0")}}),gq=class{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new e_(e,t,i),this.enabled=typeof i.compressionEnabled=="undefined"?!0:i.compressionEnabled,this.identityProvider=i.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(e,t=St.empty(),i){let n=i.diffIdentityProvider&&Pfe(i.diffIdentityProvider);if(e===null){let f=St.map(t,this.enabled?$I:HI);this._setChildren(null,f,{diffIdentityProvider:n,diffDepth:1/0});return}let r=this.nodes.get(e);if(!r)throw new Error("Unknown compressed tree node");let s=this.model.getNode(r),a=this.model.getParentNodeLocation(r),l=this.model.getNode(a),c=uq(s),d=fq(c,e,t),h=(this.enabled?$I:HI)(d),u=l.children.map(f=>f===s?h:f);this._setChildren(l.element,u,{diffIdentityProvider:n,diffDepth:s.depth-l.depth})}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;let i=this.model.getNode().children,n=St.map(i,uq),r=St.map(n,e?$I:HI);this._setChildren(null,r,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,i){let n=new Set,r=a=>{for(let l of a.element.elements)n.add(l),this.nodes.set(l,a.element)},s=a=>{for(let l of a.element.elements)n.has(l)||this.nodes.delete(l)};this.model.setChildren(e,t,Object.assign(Object.assign({},i),{onDidCreateNode:r,onDidDeleteNode:s}))}has(e){return this.nodes.has(e)}getListIndex(e){let t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){let t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(typeof e=="undefined")return this.model.getNode();let t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){let t=this.model.getNodeLocation(e);return t===null?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){let t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return i===null?null:i.elements[i.elements.length-1]}getFirstElementChild(e){let t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}isCollapsible(e){let t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){let i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){let t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){let n=this.getCompressedNode(e);return this.model.setCollapsed(n,t,i)}expandTo(e){let t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){let t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(e===null)return null;let t=this.nodes.get(e);if(!t)throw new Ir(this.user,`Tree element not found: ${e}`);return t}},Rfe=o=>o[o.length-1],KI=class{constructor(e,t){this.unwrapper=e,this.node=t}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(e=>new KI(this.unwrapper,e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}};function Mfe(o,e){return{splice(t,i,n){e.splice(t,i,n.map(r=>o.map(r)))},updateElementHeight(t,i){e.updateElementHeight(t,i)}}}function Afe(o,e){return Object.assign(Object.assign({},e),{identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(o(t))}},sorter:e.sorter&&{compare(t,i){return e.sorter.compare(t.elements[0],i.elements[0])}},filter:e.filter&&{filter(t,i){return e.filter.filter(o(t),i)}}})}var YF=class{constructor(e,t,i={}){this.rootRef=null,this.elementMapper=i.elementMapper||Rfe;let n=r=>this.elementMapper(r.elements);this.nodeMapper=new kw(r=>new KI(n,r)),this.model=new gq(e,Mfe(this.nodeMapper,t),Afe(n,i))}get onDidSplice(){return we.map(this.model.onDidSplice,({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map(i=>this.nodeMapper.map(i)),deletedNodes:t.map(i=>this.nodeMapper.map(i))}))}get onDidChangeCollapseState(){return we.map(this.model.onDidChangeCollapseState,({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t}))}get onDidChangeRenderNodeCount(){return we.map(this.model.onDidChangeRenderNodeCount,e=>this.nodeMapper.map(e))}setChildren(e,t=St.empty(),i={}){this.model.setChildren(e,t,i)}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}getFirstElementChild(e){let t=this.model.getFirstElementChild(e);return t===null||typeof t=="undefined"?t:this.elementMapper(t.elements)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}};Oa();var Ffe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},Ow=class extends $y{constructor(e,t,i,n,r={}){super(e,t,i,n,r)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(e,t=St.empty(),i){this.model.setChildren(e,t,i)}rerender(e){if(e===void 0){this.view.rerender();return}this.model.rerender(e)}hasElement(e){return this.model.has(e)}createModel(e,t,i){return new e_(e,t,i)}},qF=class{constructor(e,t){this._compressedTreeNodeProvider=e,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(e){let t=this.renderer.renderTemplate(e);return{compressedTreeNode:void 0,data:t}}renderElement(e,t,i,n){let r=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);r.element.elements.length===1?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,n)):(i.compressedTreeNode=r,this.renderer.renderCompressedElements(r,t,i.data,n))}disposeElement(e,t,i,n){i.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(i.compressedTreeNode,t,i.data,n):this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.data,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(e,t):!1}};Ffe([gn],qF.prototype,"compressedTreeNodeProvider",null);function Bfe(o,e){return e&&Object.assign(Object.assign({},e),{keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let i;try{i=o().getCompressedTreeNode(t)}catch{return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return i.element.elements.length===1?e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(i.element.elements)}}})}var Ky=class extends Ow{constructor(e,t,i,n,r={}){let s=()=>this,a=n.map(l=>new qF(s,l));super(e,t,i,a,Bfe(s,r))}setChildren(e,t=St.empty(),i){this.model.setChildren(e,t,i)}createModel(e,t,i){return new YF(e,t,i)}updateOptions(e={}){super.updateOptions(e),typeof e.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}};tt();en();st();Se();Oa();ne();var Mg=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})};function ZF(o){return Object.assign(Object.assign({},o),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function GF(o,e){return e.parent?e.parent===o?!0:GF(o,e.parent):!1}function jfe(o,e){return o===e||GF(o,e)||GF(e,o)}var YI=class{constructor(e){this.node=e}get element(){return this.node.element.element}get children(){return this.node.children.map(e=>new YI(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}},mq=class{constructor(e,t,i){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?(t.classList.add(...z.treeItemLoading.classNamesArray),!0):(t.classList.remove(...z.treeItemLoading.classNamesArray),!1)}disposeElement(e,t,i,n){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}};function pq(o){return{browserEvent:o.browserEvent,elements:o.elements.map(e=>e.element)}}function _q(o){return{browserEvent:o.browserEvent,element:o.element&&o.element.element,target:o.target}}var bq=class extends Rg{constructor(e){super(e.elements.map(t=>t.element));this.data=e}};function XF(o){return o instanceof Rg?new bq(o):o}var vq=class{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(XF(e),t)}onDragOver(e,t,i,n,r=!0){return this.dnd.onDragOver(XF(e),t&&t.element,i,n)}drop(e,t,i,n){this.dnd.drop(XF(e),t&&t.element,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}};function wq(o){return o&&Object.assign(Object.assign({},o),{collapseByDefault:!0,identityProvider:o.identityProvider&&{getId(e){return o.identityProvider.getId(e.element)}},dnd:o.dnd&&new vq(o.dnd),multipleSelectionController:o.multipleSelectionController&&{isSelectionSingleChangeEvent(e){return o.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},isSelectionRangeChangeEvent(e){return o.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))}},accessibilityProvider:o.accessibilityProvider&&Object.assign(Object.assign({},o.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:o.accessibilityProvider.getRole?e=>o.accessibilityProvider.getRole(e.element):()=>"treeitem",isChecked:o.accessibilityProvider.isChecked?e=>{var t;return!!((t=o.accessibilityProvider)===null||t===void 0?void 0:t.isChecked(e.element))}:void 0,getAriaLabel(e){return o.accessibilityProvider.getAriaLabel(e.element)},getWidgetAriaLabel(){return o.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:o.accessibilityProvider.getWidgetRole?()=>o.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:o.accessibilityProvider.getAriaLevel&&(e=>o.accessibilityProvider.getAriaLevel(e.element)),getActiveDescendantId:o.accessibilityProvider.getActiveDescendantId&&(e=>o.accessibilityProvider.getActiveDescendantId(e.element))}),filter:o.filter&&{filter(e,t){return o.filter.filter(e.element,t)}},keyboardNavigationLabelProvider:o.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},o.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(e){return o.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof o.expandOnlyOnTwistieClick=="undefined"?void 0:typeof o.expandOnlyOnTwistieClick!="function"?o.expandOnlyOnTwistieClick:e=>o.expandOnlyOnTwistieClick(e.element),additionalScrollHeight:o.additionalScrollHeight})}function QF(o,e){e(o),o.children.forEach(t=>QF(t,e))}var qI=class{constructor(e,t,i,n,r,s={}){this.user=e,this.dataSource=r,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new F,this._onDidChangeNodeSlowState=new F,this.nodeMapper=new kw(a=>new YI(a)),this.disposables=new Q,this.identityProvider=s.identityProvider,this.autoExpandSingleChildren=typeof s.autoExpandSingleChildren=="undefined"?!1:s.autoExpandSingleChildren,this.sorter=s.sorter,this.collapseByDefault=s.collapseByDefault,this.tree=this.createTree(e,t,i,n,s),this.root=ZF({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return we.map(this.tree.onDidChangeFocus,pq)}get onDidChangeSelection(){return we.map(this.tree.onDidChangeSelection,pq)}get onMouseDblClick(){return we.map(this.tree.onMouseDblClick,_q)}get onPointer(){return we.map(this.tree.onPointer,_q)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidDispose(){return this.tree.onDidDispose}createTree(e,t,i,n,r){let s=new Vy(i),a=n.map(c=>new mq(c,this.nodeMapper,this._onDidChangeNodeSlowState.event)),l=wq(r)||{};return new Ow(e,t,s,a,l)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}setInput(e,t){return Mg(this,void 0,void 0,function*(){this.refreshPromises.forEach(n=>n.cancel()),this.refreshPromises.clear(),this.root.element=e;let i=t&&{viewState:t,focus:[],selection:[]};yield this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&typeof t.scrollTop=="number"&&(this.scrollTop=t.scrollTop)})}_updateChildren(e=this.root.element,t=!0,i=!1,n,r){return Mg(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new Ir(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield we.toPromise(this._onDidRender.event));let s=this.getDataNode(e);if(yield this.refreshAndRenderNode(s,t,n,r),i)try{this.tree.rerender(s)}catch{}})}rerender(e){if(e===void 0||e===this.root.element){this.tree.rerender();return}let t=this.getDataNode(e);this.tree.rerender(t)}getNode(e=this.root.element){let t=this.getDataNode(e),i=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(i)}collapse(e,t=!1){let i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}expand(e,t=!1){return Mg(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new Ir(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield we.toPromise(this._onDidRender.event));let i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i)||(i.refreshPromise&&(yield this.root.refreshPromise,yield we.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i)))return!1;let n=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(yield this.root.refreshPromise,yield we.toPromise(this._onDidRender.event)),n})}setSelection(e,t){let i=e.map(n=>this.getDataNode(n));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map(t=>t.element)}setFocus(e,t){let i=e.map(n=>this.getDataNode(n));this.tree.setFocus(i,t)}getFocus(){return this.tree.getFocus().map(t=>t.element)}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getParentElement(e){let t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}getFirstElementChild(e=this.root.element){let t=this.getDataNode(e),i=this.tree.getFirstElementChild(t===this.root?null:t);return i&&i.element}getDataNode(e){let t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new Ir(this.user,`Data tree node not found: ${e}`);return t}refreshAndRenderNode(e,t,i,n){return Mg(this,void 0,void 0,function*(){yield this.refreshNode(e,t,i),this.render(e,i,n)})}refreshNode(e,t,i){return Mg(this,void 0,void 0,function*(){let n;return this.subTreeRefreshPromises.forEach((r,s)=>{!n&&jfe(s,e)&&(n=r.then(()=>this.refreshNode(e,t,i)))}),n||this.doRefreshSubTree(e,t,i)})}doRefreshSubTree(e,t,i){return Mg(this,void 0,void 0,function*(){let n;e.refreshPromise=new Promise(r=>n=r),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally(()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)});try{let r=yield this.doRefreshNode(e,t,i);e.stale=!1,yield CD.settled(r.map(s=>this.doRefreshSubTree(s,t,i)))}finally{n()}})}doRefreshNode(e,t,i){return Mg(this,void 0,void 0,function*(){e.hasChildren=!!this.dataSource.hasChildren(e.element);let n;if(!e.hasChildren)n=Promise.resolve(St.empty());else{let r=El(800);r.then(()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)},s=>null),n=this.doGetChildren(e).finally(()=>r.cancel())}try{let r=yield n;return this.setChildren(e,r,t,i)}catch(r){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),es(r))return[];throw r}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}})}doGetChildren(e){let t=this.refreshPromises.get(e);return t||(t=wi(()=>Mg(this,void 0,void 0,function*(){let i=yield this.dataSource.getChildren(e.element);return this.processChildren(i)})),this.refreshPromises.set(e,t),t.finally(()=>{this.refreshPromises.delete(e)}))}_onDidChangeCollapseState({node:e,deep:t}){e.element!==null&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(ye))}setChildren(e,t,i,n){let r=[...t];if(e.children.length===0&&r.length===0)return[];let s=new Map,a=new Map;for(let d of e.children)if(s.set(d.element,d),this.identityProvider){let h=this.tree.isCollapsed(d);a.set(d.id,{node:d,collapsed:h})}let l=[],c=r.map(d=>{let h=!!this.dataSource.hasChildren(d);if(!this.identityProvider){let b=ZF({element:d,parent:e,hasChildren:h});return h&&this.collapseByDefault&&!this.collapseByDefault(d)&&(b.collapsedByDefault=!1,l.push(b)),b}let u=this.identityProvider.getId(d).toString(),f=a.get(u);if(f){let b=f.node;return s.delete(b.element),this.nodes.delete(b.element),this.nodes.set(d,b),b.element=d,b.hasChildren=h,i?f.collapsed?(b.children.forEach(v=>QF(v,y=>this.nodes.delete(y.element))),b.children.splice(0,b.children.length),b.stale=!0):l.push(b):h&&this.collapseByDefault&&!this.collapseByDefault(d)&&(b.collapsedByDefault=!1,l.push(b)),b}let p=ZF({element:d,parent:e,id:u,hasChildren:h});return n&&n.viewState.focus&&n.viewState.focus.indexOf(u)>-1&&n.focus.push(p),n&&n.viewState.selection&&n.viewState.selection.indexOf(u)>-1&&n.selection.push(p),n&&n.viewState.expanded&&n.viewState.expanded.indexOf(u)>-1?l.push(p):h&&this.collapseByDefault&&!this.collapseByDefault(d)&&(p.collapsedByDefault=!1,l.push(p)),p});for(let d of s.values())QF(d,h=>this.nodes.delete(h.element));for(let d of c)this.nodes.set(d.element,d);return e.children.splice(0,e.children.length,...c),e!==this.root&&this.autoExpandSingleChildren&&c.length===1&&l.length===0&&(c[0].collapsedByDefault=!1,l.push(c[0])),l}render(e,t,i){let n=e.children.map(s=>this.asTreeElement(s,t)),r=i&&Object.assign(Object.assign({},i),{diffIdentityProvider:i.diffIdentityProvider&&{getId(s){return i.diffIdentityProvider.getId(s.element)}}});this.tree.setChildren(e===this.root?null:e,n,r),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1?i=!1:i=e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?St.map(e.children,n=>this.asTreeElement(n,t)):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose()}},ZI=class{constructor(e){this.node=e}get element(){return{elements:this.node.element.elements.map(e=>e.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(e=>new ZI(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}},Cq=class{constructor(e,t,i,n){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=i,this.onDidChangeTwistieState=n,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderCompressedElements(e,t,i,n){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?(t.classList.add(...z.treeItemLoading.classNamesArray),!0):(t.classList.remove(...z.treeItemLoading.classNamesArray),!1)}disposeElement(e,t,i,n){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,n)}disposeCompressedElements(e,t,i,n){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=ct(this.disposables)}};function Wfe(o){let e=o&&wq(o);return e&&Object.assign(Object.assign({},e),{keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(t){return o.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map(i=>i.element))}})})}var JF=class extends qI{constructor(e,t,i,n,r,s,a={}){super(e,t,i,r,s,a);this.compressionDelegate=n,this.compressibleNodeMapper=new kw(l=>new ZI(l)),this.filter=a.filter}createTree(e,t,i,n,r){let s=new Vy(i),a=n.map(c=>new Cq(c,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),l=Wfe(r)||{};return new Ky(e,t,s,a,l)}asTreeElement(e,t){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(e.element)},super.asTreeElement(e,t))}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t){if(!this.identityProvider)return super.render(e,t);let i=u=>this.identityProvider.getId(u).toString(),n=u=>{let f=new Set;for(let p of u){let b=this.tree.getCompressedTreeNode(p===this.root?null:p);if(!!b.element)for(let v of b.element.elements)f.add(i(v.element))}return f},r=n(this.tree.getSelection()),s=n(this.tree.getFocus());super.render(e,t);let a=this.getSelection(),l=!1,c=this.getFocus(),d=!1,h=u=>{let f=u.element;if(f)for(let p=0;p<f.elements.length;p++){let b=i(f.elements[p].element),v=f.elements[f.elements.length-1].element;r.has(b)&&a.indexOf(v)===-1&&(a.push(v),l=!0),s.has(b)&&c.indexOf(v)===-1&&(c.push(v),d=!0)}u.children.forEach(h)};h(this.tree.getCompressedTreeNode(e===this.root?null:e)),l&&this.setSelection(a),d&&this.setFocus(c)}processChildren(e){return this.filter&&(e=St.filter(e,t=>{let i=this.filter.filter(t,1),n=Ufe(i);if(n===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return n===1})),super.processChildren(e)}};function Ufe(o){return typeof o=="boolean"?o?1:0:zy(o)?Jp(o.visibility):Jp(o)}var e5=class extends $y{constructor(e,t,i,n,r,s={}){super(e,t,i,n,s);this.user=e,this.dataSource=r,this.identityProvider=s.identityProvider}createModel(e,t,i){return new e_(e,t,i)}};Se();ne();xe();lr();rp();_t();wt();xe();_t();var bJe=new be("isMac",Xe,g("isMac","Whether the operating system is macOS")),vJe=new be("isLinux",rn,g("isLinux","Whether the operating system is Linux")),Yy=new be("isWindows",Mi,g("isWindows","Whether the operating system is Windows")),wJe=new be("isWeb",na,g("isWeb","Whether the platform is a web browser")),CJe=new be("isMacNative",Xe&&!na,g("isMacNative","Whether the operating system is macOS on a non-browser platform")),yJe=new be("isIOS",Fr,g("isIOS","Whether the operating system is IOS")),t5="inputFocus",SJe=new be(t5,!1,g("inputFocus","Whether keyboard focus is inside an input box"));Ge();Ur();dt();var oh=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},jt=function(o,e){return function(t,i){e(t,i,o)}},Ys=Fe("listService"),GI=class{constructor(e){this._themeService=e,this.disposables=new Q,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(e){var t,i;e!==this._lastFocusedWidget&&((t=this._lastFocusedWidget)===null||t===void 0||t.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=e,(i=this._lastFocusedWidget)===null||i===void 0||i.getHTMLElement().classList.add("last-focused"))}register(e,t){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;let n=new UI(no(),"");this.disposables.add(Nu(n,this._themeService))}if(this.lists.some(n=>n.widget===e))throw new Error("Cannot register the same widget multiple times");let i={widget:e,extraContextKeys:t};return this.lists.push(i),e.getHTMLElement()===document.activeElement&&this.setLastFocusedList(e),Ta(e.onDidFocus(()=>this.setLastFocusedList(e)),ze(()=>this.lists.splice(this.lists.indexOf(i),1)),e.onDidDispose(()=>{this.lists=this.lists.filter(n=>n!==i),this._lastFocusedWidget===e&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};GI=oh([jt(0,Rt)],GI);var yq=new be("listFocus",!0),XI=new be("listSupportsMultiselect",!0),i5=pe.and(yq,pe.not(t5)),n5=new be("listHasSelectionOrFocus",!1),o5=new be("listDoubleSelection",!1),r5=new be("listMultiSelection",!1),QI=new be("listSelectionNavigation",!1),zfe=new be("treeElementCanCollapse",!1),Vfe=new be("treeElementHasParent",!1),Hfe=new be("treeElementCanExpand",!1),$fe=new be("treeElementHasChild",!1),Sq="listAutomaticKeyboardNavigation";function JI(o,e){let t=o.createScoped(e.getHTMLElement());return yq.bindTo(t),t}var t_="workbench.list.multiSelectModifier",s5="workbench.list.openMode",el="workbench.list.horizontalScrolling",eO="workbench.list.keyboardNavigation",a5="workbench.list.automaticKeyboardNavigation",qy="workbench.tree.indent",tO="workbench.tree.renderIndentGuides",zc="workbench.list.smoothScrolling",rh="workbench.list.mouseWheelScrollSensitivity",sh="workbench.list.fastScrollSensitivity",iO="workbench.tree.expandMode";function ah(o){return o.getValue(t_)==="alt"}var Eq=class extends ${constructor(e){super();this.configurationService=e,this.useAltAsMultipleSelectionModifier=ah(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(t_)&&(this.useAltAsMultipleSelectionModifier=ah(this.configurationService))}))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:BF(e)}isSelectionRangeChangeEvent(e){return jF(e)}};function nO(o,e,t){var i;let n=new Q;return[Object.assign(Object.assign({},o),{keyboardNavigationDelegate:{mightProducePrintableCharacter(s){return t.mightProducePrintableCharacter(s)}},smoothScrolling:Boolean(e.getValue(zc)),mouseWheelScrollSensitivity:e.getValue(rh),fastScrollSensitivity:e.getValue(sh),multipleSelectionController:(i=o.multipleSelectionController)!==null&&i!==void 0?i:n.add(new Eq(e))}),n]}var oO=class extends ms{constructor(e,t,i,n,r,s,a,l,c,d){let h=typeof r.horizontalScrolling!="undefined"?r.horizontalScrolling:Boolean(c.getValue(el)),[u,f]=nO(r,c,d);super(e,t,i,n,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},Qa(l.getColorTheme(),Fy)),u),{horizontalScrolling:h}));this.disposables.add(f),this.contextKeyService=JI(s,this),this.themeService=l,this.listSupportsMultiSelect=XI.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(r.multipleSelectionSupport!==!1),QI.bindTo(this.contextKeyService).set(Boolean(r.selectionNavigation)),this.listHasSelectionOrFocus=n5.bindTo(this.contextKeyService),this.listDoubleSelection=o5.bindTo(this.contextKeyService),this.listMultiSelection=r5.bindTo(this.contextKeyService),this.horizontalScrolling=r.horizontalScrolling,this._useAltAsMultipleSelectionModifier=ah(c),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),r.overrideStyles&&this.updateStyles(r.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{let b=this.getSelection(),v=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(b.length>0||v.length>0),this.listMultiSelection.set(b.length>1),this.listDoubleSelection.set(b.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{let b=this.getSelection(),v=this.getFocus();this.listHasSelectionOrFocus.set(b.length>0||v.length>0)})),this.disposables.add(c.onDidChangeConfiguration(b=>{b.affectsConfiguration(t_)&&(this._useAltAsMultipleSelectionModifier=ah(c));let v={};if(b.affectsConfiguration(el)&&this.horizontalScrolling===void 0){let y=Boolean(c.getValue(el));v=Object.assign(Object.assign({},v),{horizontalScrolling:y})}if(b.affectsConfiguration(zc)){let y=Boolean(c.getValue(zc));v=Object.assign(Object.assign({},v),{smoothScrolling:y})}if(b.affectsConfiguration(rh)){let y=c.getValue(rh);v=Object.assign(Object.assign({},v),{mouseWheelScrollSensitivity:y})}if(b.affectsConfiguration(sh)){let y=c.getValue(sh);v=Object.assign(Object.assign({},v),{fastScrollSensitivity:y})}Object.keys(v).length>0&&this.updateOptions(v)})),this.navigator=new l5(this,Object.assign({configurationService:c},r)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;(t=this._styler)===null||t===void 0||t.dispose(),this._styler=Nu(this,this.themeService,e)}dispose(){var e;(e=this._styler)===null||e===void 0||e.dispose(),super.dispose()}};oO=oh([jt(5,Ce),jt(6,Ys),jt(7,Rt),jt(8,Vt),jt(9,oi)],oO);var xq=class extends UF{constructor(e,t,i,n,r,s,a,l,c,d){let h=typeof r.horizontalScrolling!="undefined"?r.horizontalScrolling:Boolean(c.getValue(el)),[u,f]=nO(r,c,d);super(e,t,i,n,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},Qa(l.getColorTheme(),Fy)),u),{horizontalScrolling:h}));this.disposables=new Q,this.disposables.add(f),this.contextKeyService=JI(s,this),this.themeService=l,this.horizontalScrolling=r.horizontalScrolling,this.listSupportsMultiSelect=XI.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(r.multipleSelectionSupport!==!1),QI.bindTo(this.contextKeyService).set(Boolean(r.selectionNavigation)),this._useAltAsMultipleSelectionModifier=ah(c),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),r.overrideStyles&&this.updateStyles(r.overrideStyles),r.overrideStyles&&this.disposables.add(Nu(this,l,r.overrideStyles)),this.disposables.add(c.onDidChangeConfiguration(b=>{b.affectsConfiguration(t_)&&(this._useAltAsMultipleSelectionModifier=ah(c));let v={};if(b.affectsConfiguration(el)&&this.horizontalScrolling===void 0){let y=Boolean(c.getValue(el));v=Object.assign(Object.assign({},v),{horizontalScrolling:y})}if(b.affectsConfiguration(zc)){let y=Boolean(c.getValue(zc));v=Object.assign(Object.assign({},v),{smoothScrolling:y})}if(b.affectsConfiguration(rh)){let y=c.getValue(rh);v=Object.assign(Object.assign({},v),{mouseWheelScrollSensitivity:y})}if(b.affectsConfiguration(sh)){let y=c.getValue(sh);v=Object.assign(Object.assign({},v),{fastScrollSensitivity:y})}Object.keys(v).length>0&&this.updateOptions(v)})),this.navigator=new l5(this,Object.assign({configurationService:c},r)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;(t=this._styler)===null||t===void 0||t.dispose(),this._styler=Nu(this,this.themeService,e)}dispose(){var e;(e=this._styler)===null||e===void 0||e.dispose(),this.disposables.dispose(),super.dispose()}};xq=oh([jt(5,Ce),jt(6,Ys),jt(7,Rt),jt(8,Vt),jt(9,oi)],xq);var Dq=class extends Dw{constructor(e,t,i,n,r,s,a,l,c,d,h){let u=typeof s.horizontalScrolling!="undefined"?s.horizontalScrolling:Boolean(d.getValue(el)),[f,p]=nO(s,d,h);super(e,t,i,n,r,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},Qa(c.getColorTheme(),Fy)),f),{horizontalScrolling:u}));this.disposables.add(p),this.contextKeyService=JI(a,this),this.themeService=c,this.listSupportsMultiSelect=XI.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(s.multipleSelectionSupport!==!1),QI.bindTo(this.contextKeyService).set(Boolean(s.selectionNavigation)),this.listHasSelectionOrFocus=n5.bindTo(this.contextKeyService),this.listDoubleSelection=o5.bindTo(this.contextKeyService),this.listMultiSelection=r5.bindTo(this.contextKeyService),this.horizontalScrolling=s.horizontalScrolling,this._useAltAsMultipleSelectionModifier=ah(d),this.disposables.add(this.contextKeyService),this.disposables.add(l.register(this)),s.overrideStyles&&this.updateStyles(s.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{let v=this.getSelection(),y=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(v.length>0||y.length>0),this.listMultiSelection.set(v.length>1),this.listDoubleSelection.set(v.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{let v=this.getSelection(),y=this.getFocus();this.listHasSelectionOrFocus.set(v.length>0||y.length>0)})),this.disposables.add(d.onDidChangeConfiguration(v=>{v.affectsConfiguration(t_)&&(this._useAltAsMultipleSelectionModifier=ah(d));let y={};if(v.affectsConfiguration(el)&&this.horizontalScrolling===void 0){let w=Boolean(d.getValue(el));y=Object.assign(Object.assign({},y),{horizontalScrolling:w})}if(v.affectsConfiguration(zc)){let w=Boolean(d.getValue(zc));y=Object.assign(Object.assign({},y),{smoothScrolling:w})}if(v.affectsConfiguration(rh)){let w=d.getValue(rh);y=Object.assign(Object.assign({},y),{mouseWheelScrollSensitivity:w})}if(v.affectsConfiguration(sh)){let w=d.getValue(sh);y=Object.assign(Object.assign({},y),{fastScrollSensitivity:w})}Object.keys(y).length>0&&this.updateOptions(y)})),this.navigator=new Lq(this,Object.assign({configurationService:d},s)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;(t=this._styler)===null||t===void 0||t.dispose(),this._styler=Nu(this,this.themeService,e)}dispose(){var e;(e=this._styler)===null||e===void 0||e.dispose(),this.disposables.dispose(),super.dispose()}};Dq=oh([jt(6,Ce),jt(7,Ys),jt(8,Rt),jt(9,Vt),jt(10,oi)],Dq);var rO=class extends ${constructor(e,t){var i;super();this.widget=e,this._onDidOpen=this._register(new F),this.onDidOpen=this._onDidOpen.event,this._register(we.filter(this.widget.onDidChangeSelection,n=>n.browserEvent instanceof KeyboardEvent)(n=>this.onSelectionFromKeyboard(n))),this._register(this.widget.onPointer(n=>this.onPointer(n.element,n.browserEvent))),this._register(this.widget.onMouseDblClick(n=>this.onMouseDblClick(n.element,n.browserEvent))),typeof(t==null?void 0:t.openOnSingleClick)!="boolean"&&(t==null?void 0:t.configurationService)?(this.openOnSingleClick=(t==null?void 0:t.configurationService.getValue(s5))!=="doubleClick",this._register(t==null?void 0:t.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(t==null?void 0:t.configurationService.getValue(s5))!=="doubleClick"}))):this.openOnSingleClick=(i=t==null?void 0:t.openOnSingleClick)!==null&&i!==void 0?i:!0}onSelectionFromKeyboard(e){if(e.elements.length!==1)return;let t=e.browserEvent,i=typeof t.preserveFocus=="boolean"?t.preserveFocus:!0,n=typeof t.pinned=="boolean"?t.pinned:!i,r=!1;this._open(this.getSelectedElement(),i,n,r,e.browserEvent)}onPointer(e,t){if(!this.openOnSingleClick||t.detail===2)return;let n=t.button===1,r=!0,s=n,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,r,s,a,t)}onMouseDblClick(e,t){if(!t)return;let i=t.target;if(i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&t.offsetX<16)return;let r=!1,s=!0,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,r,s,a,t)}_open(e,t,i,n,r){!e||this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:i,revealIfVisible:!0},sideBySide:n,element:e,browserEvent:r})}},l5=class extends rO{constructor(e,t){super(e,t);this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}},Lq=class extends rO{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}},kq=class extends rO{constructor(e,t){super(e,t)}getSelectedElement(){var e;return(e=this.widget.getSelection()[0])!==null&&e!==void 0?e:void 0}};function Kfe(o,e){let t=!1;return i=>{if(t)return t=!1,!1;let n=e.softDispatch(i,o);return n&&n.enterChord?(t=!0,!1):(t=!1,!0)}}var Iq=class extends Ow{constructor(e,t,i,n,r,s,a,l,c,d,h){let{options:u,getAutomaticKeyboardNavigation:f,disposable:p}=Zy(t,r,s,c,d,h);super(e,t,i,n,u);this.disposables.add(p),this.internals=new i_(this,r,f,r.overrideStyles,s,a,l,c,h),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};Iq=oh([jt(5,Ce),jt(6,Ys),jt(7,Rt),jt(8,Vt),jt(9,oi),jt(10,Zn)],Iq);var Oq=class extends Ky{constructor(e,t,i,n,r,s,a,l,c,d,h){let{options:u,getAutomaticKeyboardNavigation:f,disposable:p}=Zy(t,r,s,c,d,h);super(e,t,i,n,u);this.disposables.add(p),this.internals=new i_(this,r,f,r.overrideStyles,s,a,l,c,h),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};Oq=oh([jt(5,Ce),jt(6,Ys),jt(7,Rt),jt(8,Vt),jt(9,oi),jt(10,Zn)],Oq);var Tq=class extends e5{constructor(e,t,i,n,r,s,a,l,c,d,h,u){let{options:f,getAutomaticKeyboardNavigation:p,disposable:b}=Zy(t,s,a,d,h,u);super(e,t,i,n,r,f);this.disposables.add(b),this.internals=new i_(this,s,p,s.overrideStyles,a,l,c,d,u),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};Tq=oh([jt(6,Ce),jt(7,Ys),jt(8,Rt),jt(9,Vt),jt(10,oi),jt(11,Zn)],Tq);var sO=class extends qI{constructor(e,t,i,n,r,s,a,l,c,d,h,u){let{options:f,getAutomaticKeyboardNavigation:p,disposable:b}=Zy(t,s,a,d,h,u);super(e,t,i,n,r,f);this.disposables.add(b),this.internals=new i_(this,s,p,s.overrideStyles,a,l,c,d,u),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};sO=oh([jt(6,Ce),jt(7,Ys),jt(8,Rt),jt(9,Vt),jt(10,oi),jt(11,Zn)],sO);var Nq=class extends JF{constructor(e,t,i,n,r,s,a,l,c,d,h,u,f){let{options:p,getAutomaticKeyboardNavigation:b,disposable:v}=Zy(t,a,l,h,u,f);super(e,t,i,n,r,s,p);this.disposables.add(v),this.internals=new i_(this,a,b,a.overrideStyles,l,c,d,h,f),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};Nq=oh([jt(7,Ce),jt(8,Ys),jt(9,Rt),jt(10,Vt),jt(11,oi),jt(12,Zn)],Nq);function Zy(o,e,t,i,n,r){var s;let a=()=>{let p=Boolean(t.getContextKeyValue(Sq));return p&&(p=Boolean(i.getValue(a5))),p},l=r.isScreenReaderOptimized(),c=e.simpleKeyboardNavigation||l?"simple":i.getValue(eO),d=e.horizontalScrolling!==void 0?e.horizontalScrolling:Boolean(i.getValue(el)),[h,u]=nO(e,i,n),f=e.additionalScrollHeight;return{getAutomaticKeyboardNavigation:a,disposable:u,options:Object.assign(Object.assign({keyboardSupport:!1},h),{indent:typeof i.getValue(qy)=="number"?i.getValue(qy):void 0,renderIndentGuides:i.getValue(tO),smoothScrolling:Boolean(i.getValue(zc)),automaticKeyboardNavigation:a(),simpleKeyboardNavigation:c==="simple",filterOnType:c==="filter",horizontalScrolling:d,keyboardNavigationEventFilter:Kfe(o,n),additionalScrollHeight:f,hideTwistiesOfChildlessElements:e.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(s=e.expandOnlyOnTwistieClick)!==null&&s!==void 0?s:i.getValue(iO)==="doubleClick"})}}var i_=class{constructor(e,t,i,n,r,s,a,l,c){this.tree=e,this.themeService=a,this.disposables=[],this.contextKeyService=JI(r,e),this.listSupportsMultiSelect=XI.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(t.multipleSelectionSupport!==!1),QI.bindTo(this.contextKeyService).set(Boolean(t.selectionNavigation)),this.hasSelectionOrFocus=n5.bindTo(this.contextKeyService),this.hasDoubleSelection=o5.bindTo(this.contextKeyService),this.hasMultiSelection=r5.bindTo(this.contextKeyService),this.treeElementCanCollapse=zfe.bindTo(this.contextKeyService),this.treeElementHasParent=Vfe.bindTo(this.contextKeyService),this.treeElementCanExpand=Hfe.bindTo(this.contextKeyService),this.treeElementHasChild=$fe.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=ah(l);let h=new Set;h.add(Sq);let u=()=>{let b=c.isScreenReaderOptimized()?"simple":l.getValue(eO);e.updateOptions({simpleKeyboardNavigation:b==="simple",filterOnType:b==="filter"})};this.updateStyleOverrides(n);let f=()=>{let p=e.getFocus()[0];if(!p)return;let b=e.getNode(p);this.treeElementCanCollapse.set(b.collapsible&&!b.collapsed),this.treeElementHasParent.set(!!e.getParentElement(p)),this.treeElementCanExpand.set(b.collapsible&&b.collapsed),this.treeElementHasChild.set(!!e.getFirstElementChild(p))};this.disposables.push(this.contextKeyService,s.register(e),e.onDidChangeSelection(()=>{let p=e.getSelection(),b=e.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(p.length>0||b.length>0),this.hasMultiSelection.set(p.length>1),this.hasDoubleSelection.set(p.length===2)})}),e.onDidChangeFocus(()=>{let p=e.getSelection(),b=e.getFocus();this.hasSelectionOrFocus.set(p.length>0||b.length>0),f()}),e.onDidChangeCollapseState(f),e.onDidChangeModel(f),l.onDidChangeConfiguration(p=>{let b={};if(p.affectsConfiguration(t_)&&(this._useAltAsMultipleSelectionModifier=ah(l)),p.affectsConfiguration(qy)){let v=l.getValue(qy);b=Object.assign(Object.assign({},b),{indent:v})}if(p.affectsConfiguration(tO)){let v=l.getValue(tO);b=Object.assign(Object.assign({},b),{renderIndentGuides:v})}if(p.affectsConfiguration(zc)){let v=Boolean(l.getValue(zc));b=Object.assign(Object.assign({},b),{smoothScrolling:v})}if(p.affectsConfiguration(eO)&&u(),p.affectsConfiguration(a5)&&(b=Object.assign(Object.assign({},b),{automaticKeyboardNavigation:i()})),p.affectsConfiguration(el)&&t.horizontalScrolling===void 0){let v=Boolean(l.getValue(el));b=Object.assign(Object.assign({},b),{horizontalScrolling:v})}if(p.affectsConfiguration(iO)&&t.expandOnlyOnTwistieClick===void 0&&(b=Object.assign(Object.assign({},b),{expandOnlyOnTwistieClick:l.getValue(iO)==="doubleClick"})),p.affectsConfiguration(rh)){let v=l.getValue(rh);b=Object.assign(Object.assign({},b),{mouseWheelScrollSensitivity:v})}if(p.affectsConfiguration(sh)){let v=l.getValue(sh);b=Object.assign(Object.assign({},b),{fastScrollSensitivity:v})}Object.keys(b).length>0&&e.updateOptions(b)}),this.contextKeyService.onDidChangeContext(p=>{p.affectsSome(h)&&e.updateOptions({automaticKeyboardNavigation:i()})}),c.onDidChangeScreenReaderOptimized(()=>u())),this.navigator=new kq(e,Object.assign({configurationService:l},t)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(e){e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){ct(this.styler),this.styler=e?Nu(this.tree,this.themeService,e):$.None}dispose(){this.disposables=ct(this.disposables),ct(this.styler),this.styler=void 0}};i_=oh([jt(4,Ce),jt(5,Ys),jt(6,Rt),jt(7,Vt),jt(8,Zn)],i_);var Yfe=ki.as(Ha.Configuration);Yfe.registerConfiguration({id:"workbench",order:7,title:g("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[t_]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[g("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),g("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:g({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[s5]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:g({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[el]:{type:"boolean",default:!1,description:g("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[qy]:{type:"number",default:8,minimum:0,maximum:40,description:g("tree indent setting","Controls tree indentation in pixels.")},[tO]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:g("render tree indent guides","Controls whether the tree should render indent guides.")},[zc]:{type:"boolean",default:!1,description:g("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[rh]:{type:"number",default:1,description:g("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[sh]:{type:"number",default:5,description:g("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[eO]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[g("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),g("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),g("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:g("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},[a5]:{type:"boolean",default:!0,markdownDescription:g("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},[iO]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:g("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}});Td();Ut();Se();Oa();Is();ns();Ai();xe();Ge();var Wi;(function(o){o[o.Hint=1]="Hint",o[o.Info=2]="Info",o[o.Warning=4]="Warning",o[o.Error=8]="Error"})(Wi||(Wi={}));(function(o){function e(s,a){return a-s}o.compare=e;let t=Object.create(null);t[o.Error]=g("sev.error","Error"),t[o.Warning]=g("sev.warning","Warning"),t[o.Info]=g("sev.info","Info");function i(s){return t[s]||""}o.toString=i;function n(s){switch(s){case Vi.Error:return o.Error;case Vi.Warning:return o.Warning;case Vi.Info:return o.Info;case Vi.Ignore:return o.Hint}}o.fromSeverity=n;function r(s){switch(s){case o.Error:return Vi.Error;case o.Warning:return Vi.Warning;case o.Info:return Vi.Info;case o.Hint:return Vi.Ignore}}o.toSeverity=r})(Wi||(Wi={}));var Gy;(function(o){let e="";function t(n){return i(n,!0)}o.makeKey=t;function i(n,r){let s=[e];return n.source?s.push(n.source.replace("\xA6","\\\xA6")):s.push(e),n.code?typeof n.code=="string"?s.push(n.code.replace("\xA6","\\\xA6")):s.push(n.code.value.replace("\xA6","\\\xA6")):s.push(e),n.severity!==void 0&&n.severity!==null?s.push(Wi.toString(n.severity)):s.push(e),n.message&&r?s.push(n.message.replace("\xA6","\\\xA6")):s.push(e),n.startLineNumber!==void 0&&n.startLineNumber!==null?s.push(n.startLineNumber.toString()):s.push(e),n.startColumn!==void 0&&n.startColumn!==null?s.push(n.startColumn.toString()):s.push(e),n.endLineNumber!==void 0&&n.endLineNumber!==null?s.push(n.endLineNumber.toString()):s.push(e),n.endColumn!==void 0&&n.endColumn!==null?s.push(n.endColumn.toString()):s.push(e),s.push(e),s.join("\xA6")}o.makeKeyOptionalMessage=i})(Gy||(Gy={}));var Au=Fe("markerService");var Pq=class{constructor(){this._byResource=new Fn,this._byOwner=new Map}set(e,t,i){let n=this._byResource.get(e);n||(n=new Map,this._byResource.set(e,n)),n.set(t,i);let r=this._byOwner.get(t);r||(r=new Fn,this._byOwner.set(t,r)),r.set(e,i)}get(e,t){let i=this._byResource.get(e);return i==null?void 0:i.get(t)}delete(e,t){let i=!1,n=!1,r=this._byResource.get(e);r&&(i=r.delete(t));let s=this._byOwner.get(t);if(s&&(n=s.delete(e)),i!==n)throw new Error("illegal state");return i&&n}values(e){var t,i,n,r;return typeof e=="string"?(i=(t=this._byOwner.get(e))===null||t===void 0?void 0:t.values())!==null&&i!==void 0?i:St.empty():Ee.isUri(e)?(r=(n=this._byResource.get(e))===null||n===void 0?void 0:n.values())!==null&&r!==void 0?r:St.empty():St.map(St.concat(...this._byOwner.values()),s=>s[1])}},Rq=class{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Fn,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(let t of e){let i=this._data.get(t);i&&this._substract(i);let n=this._resourceStats(t);this._add(n),this._data.set(t,n)}}_resourceStats(e){let t={errors:0,warnings:0,infos:0,unknowns:0};if(e.scheme===nt.inMemory||e.scheme===nt.walkThrough||e.scheme===nt.walkThroughSnippet)return t;for(let{severity:i}of this._service.read({resource:e}))i===Wi.Error?t.errors+=1:i===Wi.Warning?t.warnings+=1:i===Wi.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}},Fu=class{constructor(){this._onMarkerChanged=new bP({delay:0,merge:Fu._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new Pq,this._stats=new Rq(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(e,t){for(let i of t||[])this.changeOne(e,i,[])}changeOne(e,t,i){if(gx(i))this._data.delete(t,e)&&this._onMarkerChanged.fire([t]);else{let n=[];for(let r of i){let s=Fu._toMarker(e,t,r);s&&n.push(s)}this._data.set(t,e,n),this._onMarkerChanged.fire([t])}}static _toMarker(e,t,i){let{code:n,severity:r,message:s,source:a,startLineNumber:l,startColumn:c,endLineNumber:d,endColumn:h,relatedInformation:u,tags:f}=i;if(!!s)return l=l>0?l:1,c=c>0?c:1,d=d>=l?d:l,h=h>0?h:c,{resource:t,owner:e,code:n,severity:r,message:s,source:a,startLineNumber:l,startColumn:c,endLineNumber:d,endColumn:h,relatedInformation:u,tags:f}}read(e=Object.create(null)){let{owner:t,resource:i,severities:n,take:r}=e;if((!r||r<0)&&(r=-1),t&&i){let s=this._data.get(i,t);if(s){let a=[];for(let l of s)if(Fu._accept(l,n)){let c=a.push(l);if(r>0&&c===r)break}return a}else return[]}else if(!t&&!i){let s=[];for(let a of this._data.values())for(let l of a)if(Fu._accept(l,n)){let c=s.push(l);if(r>0&&c===r)return s}return s}else{let s=this._data.values(i??t),a=[];for(let l of s)for(let c of l)if(Fu._accept(c,n)){let d=a.push(c);if(r>0&&d===r)return a}return a}}static _accept(e,t){return t===void 0||(t&e.severity)===e.severity}static _merge(e){let t=new Fn;for(let i of e)for(let n of i)t.set(n,!0);return Array.from(t.keys())}};$l();Se();ne();di();tt();Se();ne();di();var Xy=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},Tw;(function(o){o[o.None=0]="None",o[o.Initialized=1]="Initialized",o[o.Closed=2]="Closed"})(Tw||(Tw={}));var n_=class extends ${constructor(e,t=Object.create(null)){super();this.database=e,this.options=t,this._onDidChangeStorage=this._register(new F),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=Tw.None,this.cache=new Map,this.flushDelayer=new FP(n_.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(e=>this.onDidChangeItemsExternal(e)))}onDidChangeItemsExternal(e){var t,i;(t=e.changed)===null||t===void 0||t.forEach((n,r)=>this.accept(r,n)),(i=e.deleted)===null||i===void 0||i.forEach(n=>this.accept(n,void 0))}accept(e,t){if(this.state===Tw.Closed)return;let i=!1;er(t)?i=this.cache.delete(e):this.cache.get(e)!==t&&(this.cache.set(e,t),i=!0),i&&this._onDidChangeStorage.fire(e)}get(e,t){let i=this.cache.get(e);return er(i)?t:i}getBoolean(e,t){let i=this.get(e);return er(i)?t:i==="true"}getNumber(e,t){let i=this.get(e);return er(i)?t:parseInt(i,10)}set(e,t){return Xy(this,void 0,void 0,function*(){if(this.state===Tw.Closed)return;if(er(t))return this.delete(e);let i=String(t);if(this.cache.get(e)!==i)return this.cache.set(e,i),this.pendingInserts.set(e,i),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire(e),this.doFlush()})}delete(e){return Xy(this,void 0,void 0,function*(){if(!(this.state===Tw.Closed||!this.cache.delete(e)))return this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire(e),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return Xy(this,void 0,void 0,function*(){if(!this.hasPending)return;let e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally(()=>{var t;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(t=this.whenFlushedCallbacks.pop())===null||t===void 0||t()})})}doFlush(e){return Xy(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),e)})}dispose(){this.flushDelayer.dispose(),super.dispose()}};n_.DEFAULT_FLUSH_DELAY=100;var aO=class{constructor(){this.onDidChangeItemsExternal=we.None,this.items=new Map}updateItems(e){return Xy(this,void 0,void 0,function*(){e.insert&&e.insert.forEach((t,i)=>this.items.set(i,t)),e.delete&&e.delete.forEach(t=>this.items.delete(t))})}};Ge();var lO="__$__targetStorageMarker",qs=Fe("storageService"),Nw;(function(o){o[o.NONE=0]="NONE",o[o.SHUTDOWN=1]="SHUTDOWN"})(Nw||(Nw={}));var Qy=class extends ${constructor(e={flushInterval:Qy.DEFAULT_FLUSH_INTERVAL}){super();this.options=e,this._onDidChangeValue=this._register(new xm),this._onDidChangeTarget=this._register(new xm),this._onWillSaveState=this._register(new F),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(e,t){t===lO?(e===0?this._globalKeyTargets=void 0:e===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:e})):this._onDidChangeValue.fire({scope:e,key:t,target:this.getKeyTargets(e)[t]})}get(e,t,i){var n;return(n=this.getStorage(t))===null||n===void 0?void 0:n.get(e,i)}getBoolean(e,t,i){var n;return(n=this.getStorage(t))===null||n===void 0?void 0:n.getBoolean(e,i)}getNumber(e,t,i){var n;return(n=this.getStorage(t))===null||n===void 0?void 0:n.getNumber(e,i)}store(e,t,i,n){if(er(t)){this.remove(e,i);return}this.withPausedEmitters(()=>{var r;this.updateKeyTarget(e,i,n),(r=this.getStorage(i))===null||r===void 0||r.set(e,t)})}remove(e,t){this.withPausedEmitters(()=>{var i;this.updateKeyTarget(e,t,void 0),(i=this.getStorage(t))===null||i===void 0||i.delete(e)})}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(e,t,i){var n,r;let s=this.getKeyTargets(t);typeof i=="number"?s[e]!==i&&(s[e]=i,(n=this.getStorage(t))===null||n===void 0||n.set(lO,JSON.stringify(s))):typeof s[e]=="number"&&(delete s[e],(r=this.getStorage(t))===null||r===void 0||r.set(lO,JSON.stringify(s)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(e){return e===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(e){let t=this.get(lO,e);if(t)try{return JSON.parse(t)}catch{}return Object.create(null)}};Qy.DEFAULT_FLUSH_INTERVAL=60*1e3;var c5=class extends Qy{constructor(){super();this.globalStorage=this._register(new n_(new aO)),this.workspaceStorage=this._register(new n_(new aO)),this._register(this.workspaceStorage.onDidChangeStorage(e=>this.emitDidChangeValue(1,e))),this._register(this.globalStorage.onDidChangeStorage(e=>this.emitDidChangeValue(0,e)))}getStorage(e){return e===0?this.globalStorage:this.workspaceStorage}};gp();dt();tt();Se();ne();No();zi();_t();var Mq=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},cO=function(o,e){return function(t,i){e(t,i,o)}},dO=class{constructor(e){this._commandService=e}createMenu(e,t,i){return new d5(e,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},i),this._commandService,t,this)}};dO=Mq([cO(0,li)],dO);var d5=class Pw{constructor(e,t,i,n,r){this._id=e,this._options=t,this._commandService=i,this._contextKeyService=n,this._menuService=r,this._disposables=new Q,this._menuGroups=[],this._contextKeys=new Set,this._build();let s=new bt(()=>{this._build(),this._onDidChange.fire(this)},t.eventDebounceDelay);this._disposables.add(s),this._disposables.add(Vo.onDidChangeMenu(c=>{c.has(e)&&s.schedule()}));let a=this._disposables.add(new Q),l=()=>{let c=new bt(()=>this._onDidChange.fire(this),t.eventDebounceDelay);a.add(c),a.add(n.onDidChangeContext(d=>{d.affectsSome(this._contextKeys)&&c.schedule()}))};this._onDidChange=new F({onFirstListenerAdd:l,onLastListenerRemove:a.clear.bind(a)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();let e=Vo.getMenuItems(this._id),t;e.sort(Pw._compareMenuItems);for(let i of e){let n=i.group||"";(!t||t[0]!==n)&&(t=[n,[]],this._menuGroups.push(t)),t[1].push(i),this._collectContextKeys(i)}}_collectContextKeys(e){if(Pw._fillInKbExprKeys(e.when,this._contextKeys),bv(e)){if(e.command.precondition&&Pw._fillInKbExprKeys(e.command.precondition,this._contextKeys),e.command.toggled){let t=e.command.toggled.condition||e.command.toggled;Pw._fillInKbExprKeys(t,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&Vo.getMenuItems(e.submenu).forEach(this._collectContextKeys,this)}getActions(e){let t=[];for(let i of this._menuGroups){let[n,r]=i,s=[];for(let a of r)if(this._contextKeyService.contextMatchesRules(a.when)){let l=bv(a)?new Fl(a.command,a.alt,e,this._contextKeyService,this._commandService):new fp(a,this._menuService,this._contextKeyService,e);s.push(l)}s.length>0&&t.push([n,s])}return t}static _fillInKbExprKeys(e,t){if(e)for(let i of e.keys())t.add(i)}static _compareMenuItems(e,t){let i=e.group,n=t.group;if(i!==n){if(i){if(!n)return-1}else return 1;if(i==="navigation")return-1;if(n==="navigation")return 1;let a=i.localeCompare(n);if(a!==0)return a}let r=e.order||0,s=t.order||0;return r<s?-1:r>s?1:Pw._compareTitles(bv(e)?e.command.title:e.title,bv(t)?t.command.title:t.title)}static _compareTitles(e,t){let i=typeof e=="string"?e:e.original,n=typeof t=="string"?t:t.original;return i.localeCompare(n)}};d5=Mq([cO(2,li),cO(3,Ce),cO(4,da)],d5);ne();Os();dt();Ws();xr();ve();ns();Se();yi();Is();var qfe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},Aq=function(o,e){return function(t,i){e(t,i,o)}},Fq=class extends ${constructor(e){super();this.model=e,this._markersData=new Map,this._register(ze(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(e,t){let i=[...this._markersData.keys()];this._markersData.clear();let n=this.model.deltaDecorations(i,t);for(let r=0;r<n.length;r++)this._markersData.set(n[r],e[r]);return i.length!==0||n.length!==0}getMarker(e){return this._markersData.get(e.id)}},hO=class extends ${constructor(e,t){super();this._markerService=t,this._onDidChangeMarker=this._register(new F),this._markerDecorations=new Fn,e.getModels().forEach(i=>this._onModelAdded(i)),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(e=>e.dispose()),this._markerDecorations.clear()}getMarker(e,t){let i=this._markerDecorations.get(e);return i&&i.getMarker(t)||null}_handleMarkerChange(e){e.forEach(t=>{let i=this._markerDecorations.get(t);i&&this._updateDecorations(i)})}_onModelAdded(e){let t=new Fq(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){let t=this._markerDecorations.get(e.uri);t&&(t.dispose(),this._markerDecorations.delete(e.uri)),(e.uri.scheme===nt.inMemory||e.uri.scheme===nt.internal||e.uri.scheme===nt.vscode)&&this._markerService&&this._markerService.read({resource:e.uri}).map(i=>i.owner).forEach(i=>this._markerService.remove(i,[e.uri]))}_updateDecorations(e){let t=this._markerService.read({resource:e.model.uri,take:500}),i=t.map(n=>({range:this._createDecorationRange(e.model,n),options:this._createDecorationOption(n)}));e.update(t,i)&&this._onDidChangeMarker.fire(e.model)}_createDecorationRange(e,t){let i=D.lift(t);return t.severity===Wi.Hint&&!this._hasMarkerTag(t,1)&&!this._hasMarkerTag(t,2)&&(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),e.validateRange(i)}_createDecorationOption(e){let t,i,n,r,s;switch(e.severity){case Wi.Hint:this._hasMarkerTag(e,2)?t=void 0:this._hasMarkerTag(e,1)?t="squiggly-unnecessary":t="squiggly-hint",n=0;break;case Wi.Warning:t="squiggly-warning",i=Ii(l$),n=20,s={color:Ii(BV),position:To.Inline};break;case Wi.Info:t="squiggly-info",i=Ii(c$),n=10;break;case Wi.Error:default:t="squiggly-error",i=Ii(a$),n=30,s={color:Ii(FV),position:To.Inline};break}return e.tags&&(e.tags.indexOf(1)!==-1&&(r="squiggly-inline-unnecessary"),e.tags.indexOf(2)!==-1&&(r="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:i,position:Oo.Right},minimap:s,zIndex:n,inlineClassName:r}}_hasMarkerTag(e,t){return e.tags?e.tags.indexOf(t)>=0:!1}};hO=qfe([Aq(0,Ci),Aq(1,Au)],hO);Dd();Se();ne();lr();_t();var Zfe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},Bq=function(o,e){return function(t,i){e(t,i,o)}},uO=class extends ${constructor(e,t){super();this._contextKeyService=e,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new F,this._accessibilityModeEnabledContext=Bp.bindTo(this._contextKeyService);let i=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(n=>{n.affectsConfiguration("editor.accessibilitySupport")&&(i(),this._onDidChangeScreenReaderOptimized.fire())})),i(),this.onDidChangeScreenReaderOptimized(()=>i())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){let e=this._configurationService.getValue("editor.accessibilitySupport");return e==="on"||e==="auto"&&this._accessibilitySupport===2}getAccessibilitySupport(){return this._accessibilitySupport}};uO=Zfe([Bq(0,Ce),Bq(1,Vt)],uO);Me();var fO=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},h5=class{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(e,t){return fO(this,void 0,void 0,function*(){if(t){this.mapTextToType.set(t,e);return}try{return yield navigator.clipboard.writeText(e)}catch(r){console.error(r)}let i=document.activeElement,n=document.body.appendChild(se("textarea",{"aria-hidden":!0}));n.style.height="1px",n.style.width="1px",n.style.position="absolute",n.value=e,n.focus(),n.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(n)})}readText(e){return fO(this,void 0,void 0,function*(){if(e)return this.mapTextToType.get(e)||"";try{return yield navigator.clipboard.readText()}catch(t){return console.error(t),""}})}readFindText(){return fO(this,void 0,void 0,function*(){return this.findText})}writeFindText(e){return fO(this,void 0,void 0,function*(){this.findText=e})}};jv();st();ne();ns();xe();Dd();jv();var Gfe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},jq=function(o,e){return function(t,i){e(t,i,o)}},gO=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},Rw=!1;function mO(o){return o.scheme===nt.file?o.fsPath:o.path}var Wq=0,Jy=class{constructor(e,t,i,n,r,s,a){this.id=++Wq,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=i,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=n,this.groupOrder=r,this.sourceId=s,this.sourceOrder=a,this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}},u5=class{constructor(e,t){this.resourceLabel=e,this.reason=t}},f5=class{constructor(){this.elements=new Map}createMessage(){let e=[],t=[];for(let[,n]of this.elements)(n.reason===0?e:t).push(n.resourceLabel);let i=[];return e.length>0&&i.push(g({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&i.push(g({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",t.join(", "))),i.join(`
`)}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}},Uq=class{constructor(e,t,i,n,r,s,a){this.id=++Wq,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=i,this.groupId=n,this.groupOrder=r,this.sourceId=s,this.sourceOrder=a,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(e,t,i){this.removedResources||(this.removedResources=new f5),this.removedResources.has(t)||this.removedResources.set(t,new u5(e,i))}setValid(e,t,i){i?this.invalidatedResources&&(this.invalidatedResources.delete(t),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new f5),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new u5(e,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}},g5=class{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(let e of this._past)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);for(let e of this._future)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push(`   * [UNDO] ${this._past[t]}`);for(let t=this._future.length-1;t>=0;t--)e.push(`   * [REDO] ${this._future[t]}`);return e.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){e.type===1?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(let i of this._past)t(i.actual)&&this._setElementValidFlag(i,e);for(let i of this._future)t(i.actual)&&this._setElementValidFlag(i,e)}pushElement(e){for(let t of this._future)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){let t=[];for(let i=0,n=this._past.length;i<n;i++)t.push(this._past[i].id);for(let i=this._future.length-1;i>=0;i--)t.push(this._future[i].id);return new _k(e,t)}restoreSnapshot(e){let t=e.elements.length,i=!0,n=0,r=-1;for(let a=0,l=this._past.length;a<l;a++,n++){let c=this._past[a];i&&(n>=t||c.id!==e.elements[n])&&(i=!1,r=0),!i&&c.type===1&&c.removeResource(this.resourceLabel,this.strResource,0)}let s=-1;for(let a=this._future.length-1;a>=0;a--,n++){let l=this._future[a];i&&(n>=t||l.id!==e.elements[n])&&(i=!1,s=a),!i&&l.type===1&&l.removeResource(this.resourceLabel,this.strResource,0)}r!==-1&&(this._past=this._past.slice(0,r)),s!==-1&&(this._future=this._future.slice(s+1)),this.versionId++}getElements(){let e=[],t=[];for(let i of this._past)e.push(i.actual);for(let i of this._future)t.push(i.actual);return{past:e,future:t}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let i=this._past.length-1;i>=0;i--)if(this._past[i]===e){t.has(this.strResource)?this._past[i]=t.get(this.strResource):this._past.splice(i,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let i=this._future.length-1;i>=0;i--)if(this._future[i]===e){t.has(this.strResource)?this._future[i]=t.get(this.strResource):this._future.splice(i,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}},pO=class{constructor(e){this.editStacks=e,this._versionIds=[];for(let t=0,i=this.editStacks.length;t<i;t++)this._versionIds[t]=this.editStacks[t].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}},zq=new g5("","");zq.locked=!0;var eS=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(let t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);let t=[];for(let i of this._editStacks)t.push(i[1].toString());console.log(t.join(`
`))}pushElement(e,t=sg.None,i=Vl.None){if(e.type===0){let n=mO(e.resource),r=this.getUriComparisonKey(e.resource);this._pushElement(new Jy(e,n,r,t.id,t.nextOrder(),i.id,i.nextOrder()))}else{let n=new Set,r=[],s=[];for(let a of e.resources){let l=mO(a),c=this.getUriComparisonKey(a);n.has(c)||(n.add(c),r.push(l),s.push(c))}r.length===1?this._pushElement(new Jy(e,r[0],s[0],t.id,t.nextOrder(),i.id,i.nextOrder())):this._pushElement(new Uq(e,r,s,t.id,t.nextOrder(),i.id,i.nextOrder()))}Rw&&this._print("pushElement")}_pushElement(e){for(let t=0,i=e.strResources.length;t<i;t++){let n=e.resourceLabels[t],r=e.strResources[t],s;this._editStacks.has(r)?s=this._editStacks.get(r):(s=new g5(n,r),this._editStacks.set(r,s)),s.pushElement(e)}}getLastElement(e){let t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){let i=this._editStacks.get(t);if(i.hasFutureElements())return null;let n=i.getClosestPastElement();return n?n.actual:null}return null}_splitPastWorkspaceElement(e,t){let i=e.actual.split(),n=new Map;for(let r of i){let s=mO(r.resource),a=this.getUriComparisonKey(r.resource),l=new Jy(r,s,a,0,0,0,0);n.set(l.strResource,l)}for(let r of e.strResources){if(t&&t.has(r))continue;this._editStacks.get(r).splitPastWorkspaceElement(e,n)}}_splitFutureWorkspaceElement(e,t){let i=e.actual.split(),n=new Map;for(let r of i){let s=mO(r.resource),a=this.getUriComparisonKey(r.resource),l=new Jy(r,s,a,0,0,0,0);n.set(l.strResource,l)}for(let r of e.strResources){if(t&&t.has(r))continue;this._editStacks.get(r).splitFutureWorkspaceElement(e,n)}}removeElements(e){let t=typeof e=="string"?e:this.getUriComparisonKey(e);this._editStacks.has(t)&&(this._editStacks.get(t).dispose(),this._editStacks.delete(t)),Rw&&this._print("removeElements")}setElementsValidFlag(e,t,i){let n=this.getUriComparisonKey(e);this._editStacks.has(n)&&this._editStacks.get(n).setElementsValidFlag(t,i),Rw&&this._print("setElementsValidFlag")}createSnapshot(e){let t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).createSnapshot(e):new _k(e,[])}restoreSnapshot(e){let t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){let i=this._editStacks.get(t);i.restoreSnapshot(e),!i.hasPastElements()&&!i.hasFutureElements()&&(i.dispose(),this._editStacks.delete(t))}Rw&&this._print("restoreSnapshot")}getElements(e){let t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(let[n,r]of this._editStacks){let s=r.getClosestPastElement();!s||s.sourceId===e&&(!t||s.sourceOrder>t.sourceOrder)&&(t=s,i=n)}return[t,i]}canUndo(e){if(e instanceof Vl){let[,i]=this._findClosestUndoElementWithSource(e.id);return!!i}let t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasPastElements():!1}_onError(e,t){ye(e);for(let i of t.strResources)this.removeElements(i);this._notificationService.error(e)}_acquireLocks(e){for(let t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(let t of e.editStacks)t.locked=!0;return()=>{for(let t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,i,n,r){let s=this._acquireLocks(i),a;try{a=t()}catch(l){return s(),n.dispose(),this._onError(l,e)}return a?a.then(()=>(s(),n.dispose(),r()),l=>(s(),n.dispose(),this._onError(l,e))):(s(),n.dispose(),r())}_invokeWorkspacePrepare(e){return gO(this,void 0,void 0,function*(){if(typeof e.actual.prepareUndoRedo=="undefined")return $.None;let t=e.actual.prepareUndoRedo();return typeof t=="undefined"?$.None:t})}_invokeResourcePrepare(e,t){if(e.actual.type!==1||typeof e.actual.prepareUndoRedo=="undefined")return t($.None);let i=e.actual.prepareUndoRedo();return i?pb(i)?t(i):i.then(n=>t(n)):t($.None)}_getAffectedEditStacks(e){let t=[];for(let i of e.strResources)t.push(this._editStacks.get(i)||zq);return new pO(t)}_tryToSplitAndUndo(e,t,i,n){if(t.canSplit())return this._splitPastWorkspaceElement(t,i),this._notificationService.warn(n),new tS(this._undo(e,0,!0));for(let r of t.strResources)this.removeElements(r);return this._notificationService.warn(n),new tS}_checkWorkspaceUndo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,g({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,g({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));let r=[];for(let a of i.editStacks)a.getClosestPastElement()!==t&&r.push(a.resourceLabel);if(r.length>0)return this._tryToSplitAndUndo(e,t,null,g({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",t.label,r.join(", ")));let s=[];for(let a of i.editStacks)a.locked&&s.push(a.resourceLabel);return s.length>0?this._tryToSplitAndUndo(e,t,null,g({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,s.join(", "))):i.isValid()?null:this._tryToSplitAndUndo(e,t,null,g({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t,i){let n=this._getAffectedEditStacks(t),r=this._checkWorkspaceUndo(e,t,n,!1);return r?r.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,n,i)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(let[,t]of this._editStacks){let i=t.getClosestPastElement();if(!!i){if(i===e){let n=t.getSecondClosestPastElement();if(n&&n.groupId===e.groupId)return!0}if(i.groupId===e.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(e,t,i,n){return gO(this,void 0,void 0,function*(){if(t.canSplit()&&!this._isPartOfUndoGroup(t)){let a=yield this._dialogService.show(Vi.Info,g("confirmWorkspace","Would you like to undo '{0}' across all files?",t.label),[g({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",i.editStacks.length),g("nok","Undo this File"),g("cancel","Cancel")],{cancelId:2});if(a.choice===2)return;if(a.choice===1)return this._splitPastWorkspaceElement(t,null),this._undo(e,0,!0);let l=this._checkWorkspaceUndo(e,t,i,!1);if(l)return l.returnValue;n=!0}let r;try{r=yield this._invokeWorkspacePrepare(t)}catch(a){return this._onError(a,t)}let s=this._checkWorkspaceUndo(e,t,i,!0);if(s)return r.dispose(),s.returnValue;for(let a of i.editStacks)a.moveBackward(t);return this._safeInvokeWithLocks(t,()=>t.actual.undo(),i,r,()=>this._continueUndoInGroup(t.groupId,n))})}_resourceUndo(e,t,i){if(!t.isValid){e.flushAllElements();return}if(e.locked){let n=g({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(n);return}return this._invokeResourcePrepare(t,n=>(e.moveBackward(t),this._safeInvokeWithLocks(t,()=>t.actual.undo(),new pO([e]),n,()=>this._continueUndoInGroup(t.groupId,i))))}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(let[n,r]of this._editStacks){let s=r.getClosestPastElement();!s||s.groupId===e&&(!t||s.groupOrder>t.groupOrder)&&(t=s,i=n)}return[t,i]}_continueUndoInGroup(e,t){if(!e)return;let[,i]=this._findClosestUndoElementInGroup(e);if(i)return this._undo(i,0,t)}undo(e){if(e instanceof Vl){let[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return typeof e=="string"?this._undo(e,0,!1):this._undo(this.getUriComparisonKey(e),0,!1)}_undo(e,t=0,i){if(!this._editStacks.has(e))return;let n=this._editStacks.get(e),r=n.getClosestPastElement();if(!r)return;if(r.groupId){let[a,l]=this._findClosestUndoElementInGroup(r.groupId);if(r!==a&&l)return this._undo(l,t,i)}if((r.sourceId!==t||r.confirmBeforeUndo)&&!i)return this._confirmAndContinueUndo(e,t,r);try{return r.type===1?this._workspaceUndo(e,r,i):this._resourceUndo(n,r,i)}finally{Rw&&this._print("undo")}}_confirmAndContinueUndo(e,t,i){return gO(this,void 0,void 0,function*(){if((yield this._dialogService.show(Vi.Info,g("confirmDifferentSource","Would you like to undo '{0}'?",i.label),[g("confirmDifferentSource.yes","Yes"),g("cancel","Cancel")],{cancelId:1})).choice!==1)return this._undo(e,t,!0)})}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(let[n,r]of this._editStacks){let s=r.getClosestFutureElement();!s||s.sourceId===e&&(!t||s.sourceOrder<t.sourceOrder)&&(t=s,i=n)}return[t,i]}canRedo(e){if(e instanceof Vl){let[,i]=this._findClosestRedoElementWithSource(e.id);return!!i}let t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasFutureElements():!1}_tryToSplitAndRedo(e,t,i,n){if(t.canSplit())return this._splitFutureWorkspaceElement(t,i),this._notificationService.warn(n),new tS(this._redo(e));for(let r of t.strResources)this.removeElements(r);return this._notificationService.warn(n),new tS}_checkWorkspaceRedo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,g({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,g({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));let r=[];for(let a of i.editStacks)a.getClosestFutureElement()!==t&&r.push(a.resourceLabel);if(r.length>0)return this._tryToSplitAndRedo(e,t,null,g({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",t.label,r.join(", ")));let s=[];for(let a of i.editStacks)a.locked&&s.push(a.resourceLabel);return s.length>0?this._tryToSplitAndRedo(e,t,null,g({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,s.join(", "))):i.isValid()?null:this._tryToSplitAndRedo(e,t,null,g({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){let i=this._getAffectedEditStacks(t),n=this._checkWorkspaceRedo(e,t,i,!1);return n?n.returnValue:this._executeWorkspaceRedo(e,t,i)}_executeWorkspaceRedo(e,t,i){return gO(this,void 0,void 0,function*(){let n;try{n=yield this._invokeWorkspacePrepare(t)}catch(s){return this._onError(s,t)}let r=this._checkWorkspaceRedo(e,t,i,!0);if(r)return n.dispose(),r.returnValue;for(let s of i.editStacks)s.moveForward(t);return this._safeInvokeWithLocks(t,()=>t.actual.redo(),i,n,()=>this._continueRedoInGroup(t.groupId))})}_resourceRedo(e,t){if(!t.isValid){e.flushAllElements();return}if(e.locked){let i=g({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(i);return}return this._invokeResourcePrepare(t,i=>(e.moveForward(t),this._safeInvokeWithLocks(t,()=>t.actual.redo(),new pO([e]),i,()=>this._continueRedoInGroup(t.groupId))))}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(let[n,r]of this._editStacks){let s=r.getClosestFutureElement();!s||s.groupId===e&&(!t||s.groupOrder<t.groupOrder)&&(t=s,i=n)}return[t,i]}_continueRedoInGroup(e){if(!e)return;let[,t]=this._findClosestRedoElementInGroup(e);if(t)return this._redo(t)}redo(e){if(e instanceof Vl){let[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return typeof e=="string"?this._redo(e):this._redo(this.getUriComparisonKey(e))}_redo(e){if(!this._editStacks.has(e))return;let t=this._editStacks.get(e),i=t.getClosestFutureElement();if(!!i){if(i.groupId){let[n,r]=this._findClosestRedoElementInGroup(i.groupId);if(i!==n&&r)return this._redo(r)}try{return i.type===1?this._workspaceRedo(e,i):this._resourceRedo(t,i)}finally{Rw&&this._print("redo")}}}};eS=Gfe([jq(0,yw),jq(1,fi)],eS);var tS=class{constructor(e){this.returnValue=e}};as(Hd,eS);Dt();dt();Ei();Ge();_t();_o();Ei();Me();is();Me();is();Me();en();var Xfe=new RegExp(`(\\\\)?\\$\\((${Co.iconNameExpression}(?:${Co.iconModifierExpression})?)\\)`,"g");function Kl(o){let e=new Array,t,i=0,n=0;for(;(t=Xfe.exec(o))!==null;){n=t.index||0,e.push(o.substring(i,n)),i=(t.index||0)+t[0].length;let[,r,s]=t;e.push(r?`$(${s})`:Qfe({id:s}))}return i<o.length&&e.push(o.substring(i)),e}function Qfe(o){let e=se("span");return e.classList.add(...Co.asClassNameArray(o)),e}Yn();Se();ne();Wo();var Jfe={buttonBackground:Z.fromHex("#0E639C"),buttonHoverBackground:Z.fromHex("#006BB3"),buttonForeground:Z.white},_O=class extends ${constructor(e,t){super();this._onDidClick=this._register(new F),this.options=t||Object.create(null),tr(this.options,Jfe,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),e.appendChild(this._element),this._register(Bt.addTarget(this._element)),[Le.CLICK,ei.Tap].forEach(i=>{this._register(oe(this._element,i,n=>{if(!this.enabled){Wt.stop(n);return}this._onDidClick.fire(n)}))}),this._register(oe(this._element,Le.KEY_DOWN,i=>{let n=new Kt(i),r=!1;this.enabled&&(n.equals(3)||n.equals(10))?(this._onDidClick.fire(i),r=!0):n.equals(9)&&(this._element.blur(),r=!0),r&&Wt.stop(n,!0)})),this._register(oe(this._element,Le.MOUSE_OVER,i=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register(oe(this._element,Le.MOUSE_OUT,i=>{this.applyStyles()})),this.focusTracker=this._register(bc(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let e;this.options.secondary?e=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:e=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,e&&(this._element.style.backgroundColor=e)}style(e){this.buttonForeground=e.buttonForeground,this.buttonBackground=e.buttonBackground,this.buttonHoverBackground=e.buttonHoverBackground,this.buttonSecondaryForeground=e.buttonSecondaryForeground,this.buttonSecondaryBackground=e.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=e.buttonSecondaryHoverBackground,this.buttonBorder=e.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let e,t;this.options.secondary?(t=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",e=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(t=this.buttonForeground?this.buttonForeground.toString():"",e=this.buttonBackground?this.buttonBackground.toString():"");let i=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=t,this._element.style.backgroundColor=e,this._element.style.borderWidth=i?"1px":"",this._element.style.borderStyle=i?"solid":"",this._element.style.borderColor=i}}get element(){return this._element}set label(e){this._element.classList.add("monaco-text-button"),this.options.supportIcons?kl(this._element,...Kl(e)):this._element.textContent=e,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=e)}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}};Me();Yn();Wo();je();var ege={badgeBackground:Z.fromHex("#4D4D4D"),badgeForeground:Z.fromHex("#FFFFFF")},Mw=class{constructor(e,t){this.count=0,this.options=t||Object.create(null),tr(this.options,ege,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=J(e,se(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){this.element.textContent=vc(this.countFormat,this.count),this.element.title=vc(this.titleFormat,this.count),this.applyStyles()}style(e){this.badgeBackground=e.badgeBackground,this.badgeForeground=e.badgeForeground,this.badgeBorder=e.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){let e=this.badgeBackground?this.badgeBackground.toString():"",t=this.badgeForeground?this.badgeForeground.toString():"",i=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}}};Me();tt();Yn();ne();Wo();var Vq="done",Hq="active",m5="infinite",$q="discrete",tge={progressBarBackground:Z.fromHex("#0E70C0")},p5=class extends ${constructor(e,t){super();this.options=t||Object.create(null),tr(this.options,tge,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new bt(()=>ko(this.element),0)),this.create(e)}create(e){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(Hq,m5,$q),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add(Vq),this.element.classList.contains(m5)?(this.bit.style.opacity="0",e?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",e?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove($q,Vq),this.element.classList.add(Hq,m5),this}getContainer(){return this.element}style(e){this.progressBarBackground=e.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){let e=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=e}}};cs();Ut();tt();Ei();en();Se();ne();wt();di();Me();var Aw=class{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}},bO=new Aw("id#");var _5={},ige=new Aw("quick-input-button-icon-");function iS(o){if(!o)return;let e,t=o.dark.toString();return _5[t]?e=_5[t]:(e=ige.nextId(),b0(`.${e}`,`background-image: ${md(o.light||o.dark)}`),b0(`.vs-dark .${e}, .hc-black .${e}`,`background-image: ${md(o.dark)}`),_5[t]=e),e}var Kq={ctrlCmd:!1,alt:!1},Fw;(function(o){o[o.Blur=1]="Blur",o[o.Gesture=2]="Gesture",o[o.Other=3]="Other"})(Fw||(Fw={}));var tl;(function(o){o[o.NONE=0]="NONE",o[o.FIRST=1]="FIRST",o[o.SECOND=2]="SECOND",o[o.LAST=3]="LAST"})(tl||(tl={}));xe();Me();is();Pa();Me();Me();function Yq(o,e={}){let t=vO(e);return t.textContent=o,t}function qq(o,e={}){let t=vO(e);return Gq(t,nge(o,!!e.renderCodeSegments),e.actionHandler,e.renderCodeSegments),t}function vO(o){let e=o.inline?"span":"div",t=document.createElement(e);return o.className&&(t.className=o.className),t}var Zq=class{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){let e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}};function Gq(o,e,t,i){let n;if(e.type===2)n=document.createTextNode(e.content||"");else if(e.type===3)n=document.createElement("b");else if(e.type===4)n=document.createElement("i");else if(e.type===7&&i)n=document.createElement("code");else if(e.type===5&&t){let r=document.createElement("a");r.href="#",t.disposables.add(Ni(r,"click",s=>{t.callback(String(e.index),s)})),n=r}else e.type===8?n=document.createElement("br"):e.type===1&&(n=o);n&&o!==n&&o.appendChild(n),n&&Array.isArray(e.children)&&e.children.forEach(r=>{Gq(n,r,t,i)})}function nge(o,e){let t={type:1,children:[]},i=0,n=t,r=[],s=new Zq(o);for(;!s.eos();){let a=s.next(),l=a==="\\"&&b5(s.peek(),e)!==0;if(l&&(a=s.next()),!l&&oge(a,e)&&a===s.peek()){s.advance(),n.type===2&&(n=r.pop());let c=b5(a,e);if(n.type===c||n.type===5&&c===6)n=r.pop();else{let d={type:c,children:[]};c===5&&(d.index=i,i++),n.children.push(d),r.push(n),n=d}}else if(a===`
`)n.type===2&&(n=r.pop()),n.children.push({type:8});else if(n.type!==2){let c={type:2,content:a};n.children.push(c),r.push(n),n=c}else n.content+=a}return n.type===2&&(n=r.pop()),r.length,t}function oge(o,e){return b5(o,e)!==0}function b5(o,e){switch(o){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return e?7:0;default:return 0}}ls();Yn();Se();var v5=class{constructor(e,t=0,i=e.length,n=t-1){this.items=e,this.start=t,this.end=i,this.index=n}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}};var w5=class{constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}getHistory(){return this._elements}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(e){return this._history.has(e)}_onChange(){this._reduceToLimit();let e=this._elements;this._navigator=new v5(e,0,e.length,e.length)}_reduceToLimit(){let e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){let e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(let t of e)this._history.add(t)}get _elements(){let e=[];return this._history.forEach(t=>e.push(t)),e}};Wo();xe();var nS=se,rge={inputBackground:Z.fromHex("#3C3C3C"),inputForeground:Z.fromHex("#CCCCCC"),inputValidationInfoBorder:Z.fromHex("#55AAFF"),inputValidationInfoBackground:Z.fromHex("#063B49"),inputValidationWarningBorder:Z.fromHex("#B89500"),inputValidationWarningBackground:Z.fromHex("#352A05"),inputValidationErrorBorder:Z.fromHex("#BE1100"),inputValidationErrorBackground:Z.fromHex("#5A1D1D")},wO=class extends Nn{constructor(e,t,i){var n;super();this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new F),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new F),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=i||Object.create(null),tr(this.options,rge,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(n=this.options.tooltip)!==null&&n!==void 0?n:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=J(e,nS(".monaco-inputbox.idle"));let r=this.options.flexibleHeight?"textarea":"input",s=J(this.element,nS(".ibwrapper"));if(this.input=J(s,nS(r+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=J(s,nS("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new iw(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),J(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(c=>this.input.scrollTop=c.scrollTop));let a=this._register(new Jt(document,"selectionchange")),l=we.filter(a.event,()=>{let c=document.getSelection();return(c==null?void 0:c.anchorNode)===s});this._register(l(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new pr(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.input.title=e}setAriaLabel(e){this.ariaLabel=e,e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:_0(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return Ds(this.input)}set width(e){if(this.options.flexibleHeight&&this.options.flexibleWidth){let t=0;if(this.mirror){let i=parseFloat(this.mirror.style.paddingLeft||"")||0,n=parseFloat(this.mirror.style.paddingRight||"")||0;t=i+n}this.input.style.width=e-t+"px"}else this.input.style.width=e+"px";this.mirror&&(this.mirror.style.width=e+"px")}set paddingRight(e){this.input.style.width=`calc(100% - ${e}px)`,this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;let e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i})}showMessage(e,t){this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));let i=this.stylesForType(this.message.type);this.element.style.border=i.border?`1px solid ${i.border}`:"",(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),e==null?void 0:e.type}stylesForType(e){switch(e){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e,t=()=>e.style.width=Ds(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:n=>{if(!this.message)return null;e=J(n,nS(".monaco-inputbox-container")),t();let r={inline:!0,className:"monaco-inputbox-message"},s=this.message.formatContent?qq(this.message.content,r):Yq(this.message.content,r);s.classList.add(this.classForType(this.message.type));let a=this.stylesForType(this.message.type);return s.style.backgroundColor=a.background?a.background.toString():"",s.style.color=a.foreground?a.foreground.toString():"",s.style.border=a.border?`1px solid ${a.border}`:"",J(e,s),null},onHide:()=>{this.state="closed"},layout:t});let i;this.message.type===3?i=g("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?i=g("alertWarningMessage","Warning: {0}",this.message.content):i=g("alertInfoMessage","Info: {0}",this.message.content),un(i),this.state="open"}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;let e=this.value,i=e.charCodeAt(e.length-1)===10?" ":"";(e+i).replace(/\u000c/g,"")?this.mirror.textContent=e+i:this.mirror.innerText="\xA0",this.layout()}style(e){this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){let e=this.inputBackground?this.inputBackground.toString():"",t=this.inputForeground?this.inputForeground.toString():"",i=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.input.style.backgroundColor="inherit",this.input.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}layout(){if(!this.mirror)return;let e=this.cachedContentHeight;this.cachedContentHeight=_0(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){let t=this.inputElement,i=t.selectionStart,n=t.selectionEnd,r=t.value;i!==null&&n!==null&&(this.value=r.substr(0,i)+e+r.substr(n),t.setSelectionRange(i+1,i+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}},oS=class extends wO{constructor(e,t,i){let n=g({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21C5 plus a single space, then used as a hint where input field keeps history"]},"for history"),r=` or \u21C5 ${n}`,s=` (\u21C5 ${n})`;super(e,t,i);this.history=new w5(i.history,100);let a=()=>{if(i.showHistoryHint&&i.showHistoryHint()&&!this.placeholder.endsWith(r)&&!this.placeholder.endsWith(s)&&this.history.getHistory().length){let l=this.placeholder.endsWith(")")?r:s,c=this.placeholder+l;i.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=c:this.setPlaceHolder(c)}};this.observer=new MutationObserver((l,c)=>{l.forEach(d=>{d.target.textContent||a()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>a()),this.onblur(this.input,()=>{let l=c=>{if(this.placeholder.endsWith(c)){let d=this.placeholder.slice(0,this.placeholder.length-c.length);return i.showPlaceholderOnFocus?this.placeholder=d:this.setPlaceHolder(d),!0}else return!1};l(s)||l(r)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),e&&(this.value=e,hp(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,hp(this.value))}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}};ne();var sge=se,C5=class extends ${constructor(e){super();this.parent=e,this.onKeyDown=t=>oe(this.inputBox.inputElement,Le.KEY_DOWN,i=>{t(new Kt(i))}),this.onMouseDown=t=>oe(this.inputBox.inputElement,Le.MOUSE_DOWN,i=>{t(new bo(i))}),this.onDidChange=t=>this.inputBox.onDidChange(t),this.container=J(this.parent,sge(".quick-input-box")),this.inputBox=this._register(new wO(this.container,void 0))}get value(){return this.inputBox.value}set value(e){this.inputBox.value=e}select(e=null){this.inputBox.select(e)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.inputBox.setPlaceHolder(e)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(e){this.inputBox.setAriaLabel(e)}get password(){return this.inputBox.inputElement.type==="password"}set password(e){this.inputBox.inputElement.type=e?"password":"text"}setAttribute(e,t){this.inputBox.inputElement.setAttribute(e,t)}removeAttribute(e){this.inputBox.inputElement.removeAttribute(e)}showDecoration(e){e===Vi.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:e===Vi.Info?1:e===Vi.Warning?2:3,content:""})}stylesForType(e){return this.inputBox.stylesForType(e===Vi.Info?1:e===Vi.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(e){this.inputBox.style(e)}};Me();is();Me();Me();Wo();var lh=class{constructor(e,t){var i;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(i=t==null?void 0:t.supportIcons)!==null&&i!==void 0?i:!1,this.domNode=J(e,se("span.monaco-highlighted-label"))}get element(){return this.domNode}set(e,t=[],i="",n){e||(e=""),n&&(e=lh.escapeNewLines(e,t)),!(this.didEverRender&&this.text===e&&this.title===i&&ir(this.highlights,t))&&(this.text=e,this.title=i,this.highlights=t,this.render())}render(){let e=[],t=0;for(let i of this.highlights){if(i.end===i.start)continue;if(t<i.start){let s=this.text.substring(t,i.start);e.push(se("span",void 0,...this.supportIcons?Kl(s):[s])),t=i.end}let n=this.text.substring(i.start,i.end),r=se("span.highlight",void 0,...this.supportIcons?Kl(n):[n]);i.extraClasses&&r.classList.add(...i.extraClasses),e.push(r),t=i.end}if(t<this.text.length){let i=this.text.substring(t);e.push(se("span",void 0,...this.supportIcons?Kl(i):[i]))}kl(this.domNode,...e),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(e,t){let i=0,n=0;return e.replace(/\r\n|\r|\n/g,(r,s)=>{n=r===`\r
`?-1:0,s+=i;for(let a of t)a.end<=s||(a.start>=s&&(a.start+=n),a.end>=s&&(a.end+=n));return i+=n,"\u23CE"})}};Me();tt();Ei();st();var ps=class{constructor(e="",t=!1){var i,n,r;if(this.value=e,typeof this.value!="string")throw jr("value");typeof t=="boolean"?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(i=t.isTrusted)!==null&&i!==void 0?i:void 0,this.supportThemeIcons=(n=t.supportThemeIcons)!==null&&n!==void 0?n:!1,this.supportHtml=(r=t.supportHtml)!==null&&r!==void 0?r:!1)}appendText(e,t=0){return this.value+=age(this.supportThemeIcons?NY(e):e).replace(/([ \t]+)/g,(i,n)=>"&nbsp;".repeat(n.length)).replace(/\>/gm,"\\>").replace(/\n/g,t===1?`\\
`:`

`),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+="\n```",this.value+=e,this.value+=`
`,this.value+=t,this.value+="\n```\n",this}};function o_(o){return y5(o)?!o.value:Array.isArray(o)?o.every(o_):!0}function y5(o){return o instanceof ps?!0:o&&typeof o=="object"?typeof o.value=="string"&&(typeof o.isTrusted=="boolean"||o.isTrusted===void 0)&&(typeof o.supportThemeIcons=="boolean"||o.supportThemeIcons===void 0):!1}function age(o){return o.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}function CO(o){return o&&o.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function Xq(o){let e=[],t=o.split("|").map(n=>n.trim());o=t[0];let i=t[1];if(i){let n=/height=(\d+)/.exec(i),r=/width=(\d+)/.exec(i),s=n?n[1]:"",a=r?r[1]:"",l=isFinite(parseInt(a)),c=isFinite(parseInt(s));l&&e.push(`width="${a}"`),c&&e.push(`height="${s}"`)}return{href:o,dimensions:e}}ne();di();xe();var S5=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})};function Qq(o,e){Cr(e)?o.title=e:(e==null?void 0:e.markdownNotSupportedFallback)?o.title=e.markdownNotSupportedFallback:o.removeAttribute("title")}var Jq=class{constructor(e,t,i){this.hoverDelegate=e,this.target=t,this.fadeInAnimation=i}update(e,t){var i;return S5(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let n;if(e===void 0||Cr(e)||e instanceof HTMLElement)n=e;else if(!ub(e.markdown))n=(i=e.markdown)!==null&&i!==void 0?i:e.markdownNotSupportedFallback;else{this._hoverWidget||this.show(g("iconLabel.loading","Loading..."),t),this._cancellationTokenSource=new sn;let r=this._cancellationTokenSource.token;if(n=yield e.markdown(r),this.isDisposed||r.isCancellationRequested)return}this.show(n,t)})}show(e,t){let i=this._hoverWidget;if(this.hasContent(e)){let n={content:e,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!i};this._hoverWidget=this.hoverDelegate.showHover(n,t)}i==null||i.dispose()}hasContent(e){return e?y5(e)?!!e.value:!0:!1}get isDisposed(){var e;return(e=this._hoverWidget)===null||e===void 0?void 0:e.isDisposed}dispose(){var e,t;(e=this._hoverWidget)===null||e===void 0||e.dispose(),(t=this._cancellationTokenSource)===null||t===void 0||t.dispose(!0),this._cancellationTokenSource=void 0}};function eZ(o,e,t){let i,n,r=(d,h)=>{var u;d&&(n==null||n.dispose(),n=void 0),h&&(i==null||i.dispose(),i=void 0),(u=o.onDidHideHover)===null||u===void 0||u.call(o)},s=(d,h,u)=>new Fi(()=>S5(this,void 0,void 0,function*(){(!n||n.isDisposed)&&(n=new Jq(o,u||e,d>0),yield n.update(t,h))}),d),a=()=>{if(i)return;let d=new Q,h=p=>r(!1,p.fromElement===e);d.add(oe(e,Le.MOUSE_LEAVE,h,!0));let u=()=>r(!0,!0);d.add(oe(e,Le.MOUSE_DOWN,u,!0));let f={targetElements:[e],dispose:()=>{}};if(o.placement===void 0||o.placement==="mouse"){let p=b=>f.x=b.x+10;d.add(oe(e,Le.MOUSE_MOVE,p,!0))}d.add(s(o.delay,!1,f)),i=d},l=oe(e,Le.MOUSE_OVER,a,!0);return{show:d=>{r(!1,!0),s(0,d)},hide:()=>{r(!0,!0)},update:d=>S5(this,void 0,void 0,function*(){t=d,yield n==null?void 0:n.update(t)}),dispose:()=>{l.dispose(),r(!0,!0)}}}ne();Wo();var yO=class{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set className(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}},Ag=class extends ${constructor(e,t){super();this.customHovers=new Map,this.domNode=this._register(new yO(J(e,se(".monaco-icon-label")))),this.labelContainer=J(this.domNode.element,se(".monaco-icon-label-container"));let i=J(this.labelContainer,se("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new yO(J(this.labelContainer,se("span.monaco-icon-description-container")))),(t==null?void 0:t.supportHighlights)||(t==null?void 0:t.supportIcons)?this.nameNode=new iZ(i,!!t.supportIcons):this.nameNode=new tZ(i),(t==null?void 0:t.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new lh(J(this.descriptionContainer.element,se("span.label-description")),{supportIcons:!!t.supportIcons}):this.descriptionNodeFactory=()=>this._register(new yO(J(this.descriptionContainer.element,se("span.label-description")))),this.hoverDelegate=t==null?void 0:t.hoverDelegate}get element(){return this.domNode.element}setLabel(e,t,i){let n=["monaco-icon-label"];i&&(i.extraClasses&&n.push(...i.extraClasses),i.italic&&n.push("italic"),i.strikethrough&&n.push("strikethrough")),this.domNode.className=n.join(" "),this.setupHover((i==null?void 0:i.descriptionTitle)?this.labelContainer:this.element,i==null?void 0:i.title),this.nameNode.setLabel(e,i),(t||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof lh?(this.descriptionNode.set(t||"",i?i.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,i==null?void 0:i.descriptionTitle)):(this.descriptionNode.textContent=t||"",this.setupHover(this.descriptionNode.element,(i==null?void 0:i.descriptionTitle)||""),this.descriptionNode.empty=!t))}setupHover(e,t){let i=this.customHovers.get(e);if(i&&(i.dispose(),this.customHovers.delete(e)),!t){e.removeAttribute("title");return}if(!this.hoverDelegate)Qq(e,t);else{let n=eZ(this.hoverDelegate,e,t);n&&this.customHovers.set(e,n)}}dispose(){super.dispose();for(let e of this.customHovers.values())e.dispose();this.customHovers.clear()}},tZ=class{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&ir(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=J(this.container,se("a.label-name",{id:t==null?void 0:t.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let i=0;i<e.length;i++){let n=e[i],r=(t==null?void 0:t.domId)&&`${t==null?void 0:t.domId}_${i}`;J(this.container,se("a.label-name",{id:r,"data-icon-label-count":e.length,"data-icon-label-index":i,role:"treeitem"},n)),i<e.length-1&&J(this.container,se("span.label-separator",void 0,(t==null?void 0:t.separator)||"/"))}}}};function lge(o,e,t){if(!t)return;let i=0;return o.map(n=>{let r={start:i,end:i+n.length},s=t.map(a=>ho.intersect(r,a)).filter(a=>!ho.isEmpty(a)).map(({start:a,end:l})=>({start:a-i,end:l-i}));return i=r.end+e.length,s})}var iZ=class{constructor(e,t){this.container=e,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&ir(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new lh(J(this.container,se("a.label-name",{id:t==null?void 0:t.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(e,t==null?void 0:t.matches,void 0,t==null?void 0:t.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;let i=(t==null?void 0:t.separator)||"/",n=lge(e,i,t==null?void 0:t.matches);for(let r=0;r<e.length;r++){let s=e[r],a=n?n[r]:void 0,l=(t==null?void 0:t.domId)&&`${t==null?void 0:t.domId}_${r}`,c=se("a.label-name",{id:l,"data-icon-label-count":e.length,"data-icon-label-index":r,role:"treeitem"});new lh(J(this.container,c),{supportIcons:this.supportIcons}).set(s,a,void 0,t==null?void 0:t.labelEscapeNewLines),r<e.length-1&&J(c,se("span.label-separator",void 0,i))}}}};Me();Wo();xe();var SO=se,rS=class{constructor(e,t,i){this.os=t,this.keyElements=new Set,this.options=i||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=J(e,SO(".monaco-keybinding")),this.didEverRender=!1,e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t){this.didEverRender&&this.keybinding===e&&rS.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){if(this.clear(),this.keybinding){let[e,t]=this.keybinding.getParts();e&&this.renderPart(this.domNode,e,this.matches?this.matches.firstPart:null),t&&(J(this.domNode,SO("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,t,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){Zi(this.domNode),this.keyElements.clear()}renderPart(e,t,i){let n=uv.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,n.ctrlKey,Boolean(i==null?void 0:i.ctrlKey),n.separator),t.shiftKey&&this.renderKey(e,n.shiftKey,Boolean(i==null?void 0:i.shiftKey),n.separator),t.altKey&&this.renderKey(e,n.altKey,Boolean(i==null?void 0:i.altKey),n.separator),t.metaKey&&this.renderKey(e,n.metaKey,Boolean(i==null?void 0:i.metaKey),n.separator);let r=t.keyLabel;r&&this.renderKey(e,r,Boolean(i==null?void 0:i.keyCode),"")}renderKey(e,t,i,n){J(e,this.createKeyElement(t,i?".highlight":"")),n&&J(e,SO("span.monaco-keybinding-key-separator",void 0,n))}renderUnbound(e){J(e,this.createKeyElement(g("unbound","Unbound")))}createKeyElement(e,t=""){let i=SO("span.monaco-keybinding-key"+t,void 0,e);return this.keyElements.add(i),i}style(e){this.labelBackground=e.keybindingLabelBackground,this.labelForeground=e.keybindingLabelForeground,this.labelBorder=e.keybindingLabelBorder,this.labelBottomBorder=e.keybindingLabelBottomBorder,this.labelShadow=e.keybindingLabelShadow,this.applyStyles()}applyStyles(){var e;if(this.element){for(let t of this.keyElements)this.labelBackground&&(t.style.backgroundColor=(e=this.labelBackground)===null||e===void 0?void 0:e.toString()),this.labelBorder&&(t.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(t.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(t.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(e,t){return e===t||!e&&!t?!0:!!e&&!!t&&ir(e.firstPart,t.firstPart)&&ir(e.chordPart,t.chordPart)}};cs();Ut();en();tt();var nZ=new pc(()=>{let o=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:o,collatorIsNumeric:o.resolvedOptions().numeric}});function cge(o,e,t=!1){let i=o||"",n=e||"",r=nZ.value.collator.compare(i,n);return nZ.value.collatorIsNumeric&&r===0&&i!==n?i<n?-1:1:r}function oZ(o,e,t){let i=o.toLowerCase(),n=e.toLowerCase(),r=dge(o,e,t);if(r)return r;let s=i.endsWith(t),a=n.endsWith(t);if(s!==a)return s?-1:1;let l=cge(i,n);return l!==0?l:i.localeCompare(n)}function dge(o,e,t){let i=o.toLowerCase(),n=e.toLowerCase(),r=i.startsWith(t),s=n.startsWith(t);if(r!==s)return r?-1:1;if(r&&s){if(i.length<n.length)return-1;if(i.length>n.length)return 1}return 0}Se();ne();wt();di();xe();var rZ=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},hge=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},ch=se,sZ=class{constructor(e){this.hidden=!1,this._onChecked=new F,this.onChecked=this._onChecked.event,Object.assign(this,e)}get checked(){return!!this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire(e))}dispose(){this._onChecked.dispose()}},Bw=class{get templateId(){return Bw.ID}renderTemplate(e){let t=Object.create(null);t.toDisposeElement=[],t.toDisposeTemplate=[],t.entry=J(e,ch(".quick-input-list-entry"));let i=J(t.entry,ch("label.quick-input-list-label"));t.toDisposeTemplate.push(Ni(i,Le.CLICK,c=>{t.checkbox.offsetParent||c.preventDefault()})),t.checkbox=J(i,ch("input.quick-input-list-checkbox")),t.checkbox.type="checkbox",t.toDisposeTemplate.push(Ni(t.checkbox,Le.CHANGE,c=>{t.element.checked=t.checkbox.checked}));let n=J(i,ch(".quick-input-list-rows")),r=J(n,ch(".quick-input-list-row")),s=J(n,ch(".quick-input-list-row"));t.label=new Ag(r,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});let a=J(r,ch(".quick-input-list-entry-keybinding"));t.keybinding=new rS(a,Jo);let l=J(s,ch(".quick-input-list-label-meta"));return t.detail=new Ag(l,{supportHighlights:!0,supportIcons:!0}),t.separator=J(t.entry,ch(".quick-input-list-separator")),t.actionBar=new pr(t.entry),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.push(t.actionBar),t}renderElement(e,t,i){i.toDisposeElement=ct(i.toDisposeElement),i.element=e,i.checkbox.checked=e.checked,i.toDisposeElement.push(e.onChecked(c=>i.checkbox.checked=c));let{labelHighlights:n,descriptionHighlights:r,detailHighlights:s}=e,a=Object.create(null);a.matches=n||[],a.descriptionTitle=e.saneDescription,a.descriptionMatches=r||[],a.extraClasses=e.item.iconClasses,a.italic=e.item.italic,a.strikethrough=e.item.strikethrough,i.label.setLabel(e.saneLabel,e.saneDescription,a),i.keybinding.set(e.item.keybinding),e.saneDetail&&i.detail.setLabel(e.saneDetail,void 0,{matches:s,title:e.saneDetail}),e.separator&&e.separator.label?(i.separator.textContent=e.separator.label,i.separator.style.display=""):i.separator.style.display="none",i.entry.classList.toggle("quick-input-list-separator-border",!!e.separator),i.actionBar.clear();let l=e.item.buttons;l&&l.length?(i.actionBar.push(l.map((c,d)=>{let h=c.iconClass||(c.iconPath?iS(c.iconPath):void 0);c.alwaysVisible&&(h=h?`${h} always-visible`:"always-visible");let u=new yo(`id-${d}`,"",h,!0,()=>hge(this,void 0,void 0,function*(){e.fireButtonTriggered({button:c,item:e.item})}));return u.tooltip=c.tooltip||"",u}),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions")}disposeElement(e,t,i){i.toDisposeElement=ct(i.toDisposeElement)}disposeTemplate(e){e.toDisposeElement=ct(e.toDisposeElement),e.toDisposeTemplate=ct(e.toDisposeTemplate)}};Bw.ID="listelement";var aZ=class{getHeight(e){return e.saneDetail?44:22}getTemplateId(e){return Bw.ID}},Ln;(function(o){o[o.First=1]="First",o[o.Second=2]="Second",o[o.Last=3]="Last",o[o.Next=4]="Next",o[o.Previous=5]="Previous",o[o.NextPage=6]="NextPage",o[o.PreviousPage=7]="PreviousPage"})(Ln||(Ln={}));var sS=class{constructor(e,t,i){this.parent=e,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new F,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new F,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new F,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new F,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new F,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new F,this.onKeyDown=this._onKeyDown.event,this._onLeave=new F,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=t,this.container=J(this.parent,ch(".quick-input-list"));let n=new aZ,r=new lZ;this.list=i.createList("QuickInput",this.container,n,[new Bw],{identityProvider:{getId:s=>s.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:r}),this.list.getHTMLElement().id=t,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(s=>{let a=new Kt(s);switch(a.keyCode){case 10:this.toggleCheckbox();break;case 31:(Xe?s.metaKey:s.ctrlKey)&&this.list.setFocus(mo(this.list.length));break;case 16:let l=this.list.getFocus();l.length===1&&l[0]===0&&this._onLeave.fire();break;case 18:let c=this.list.getFocus();c.length===1&&c[0]===this.list.length-1&&this._onLeave.fire();break}this._onKeyDown.fire(a)})),this.disposables.push(this.list.onMouseDown(s=>{s.browserEvent.button!==2&&s.browserEvent.preventDefault()})),this.disposables.push(oe(this.container,Le.CLICK,s=>{(s.x||s.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(s=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(s=>{typeof s.index=="number"&&(s.browserEvent.preventDefault(),this.list.setSelection([s.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return we.map(this.list.onDidChangeFocus,e=>e.elements.map(t=>t.item))}get onDidChangeSelection(){return we.map(this.list.onDidChangeSelection,e=>({items:e.elements.map(t=>t.item),event:e.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(e,t=!0){for(let i=0,n=e.length;i<n;i++){let r=e[i];if(!r.hidden)if(r.checked)t=!0;else return!1}return t}getCheckedCount(){let e=0,t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].checked&&e++;return e}getVisibleCount(){let e=0,t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].hidden||e++;return e}setAllVisibleChecked(e){try{this._fireCheckedEvents=!1,this.elements.forEach(t=>{t.hidden||(t.checked=e)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(e){this.elementDisposables=ct(this.elementDisposables);let t=i=>this.fireButtonTriggered(i);this.inputElements=e,this.elements=e.reduce((i,n,r)=>{var s,a,l;if(n.type!=="separator"){let c=r&&e[r-1],d=n.label&&n.label.replace(/\r?\n/g," "),h=n.meta&&n.meta.replace(/\r?\n/g," "),u=n.description&&n.description.replace(/\r?\n/g," "),f=n.detail&&n.detail.replace(/\r?\n/g," "),p=n.ariaLabel||[d,u,f].map(b=>_W(b)).filter(b=>!!b).join(", ");i.push(new sZ({index:r,item:n,saneLabel:d,saneMeta:h,saneAriaLabel:p,saneDescription:u,saneDetail:f,labelHighlights:(s=n.highlights)===null||s===void 0?void 0:s.label,descriptionHighlights:(a=n.highlights)===null||a===void 0?void 0:a.description,detailHighlights:(l=n.highlights)===null||l===void 0?void 0:l.detail,checked:!1,separator:c&&c.type==="separator"?c:void 0,fireButtonTriggered:t}))}return i},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(i=>i.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((i,n,r)=>(i.set(n.item,r),i),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(e=>e.item)}setFocusedElements(e){if(this.list.setFocus(e.filter(t=>this.elementsToIndexes.has(t)).map(t=>this.elementsToIndexes.get(t))),e.length>0){let t=this.list.getFocus()[0];typeof t=="number"&&this.list.reveal(t)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){this.list.setSelection(e.filter(t=>this.elementsToIndexes.has(t)).map(t=>this.elementsToIndexes.get(t)))}getCheckedElements(){return this.elements.filter(e=>e.checked).map(e=>e.item)}setCheckedElements(e){try{this._fireCheckedEvents=!1;let t=new Set;for(let i of e)t.add(i);for(let i of this.elements)i.checked=t.has(i.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(e){this.list.getHTMLElement().style.pointerEvents=e?"":"none"}focus(e){if(!this.list.length)return;switch(e===Ln.Next&&this.list.getFocus()[0]===this.list.length-1&&(e=Ln.First),e===Ln.Previous&&this.list.getFocus()[0]===0&&(e=Ln.Last),e===Ln.Second&&this.list.length<2&&(e=Ln.First),e){case Ln.First:this.list.focusFirst();break;case Ln.Second:this.list.focusNth(1);break;case Ln.Last:this.list.focusLast();break;case Ln.Next:this.list.focusNext();break;case Ln.Previous:this.list.focusPrevious();break;case Ln.NextPage:this.list.focusNextPage();break;case Ln.PreviousPage:this.list.focusPreviousPage();break}let t=this.list.getFocus()[0];typeof t=="number"&&this.list.reveal(t)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(e){this.list.getHTMLElement().style.maxHeight=e?`calc(${Math.floor(e/44)*44}px)`:"",this.list.layout()}filter(e){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(e=e.trim(),!e||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(i=>{i.labelHighlights=void 0,i.descriptionHighlights=void 0,i.detailHighlights=void 0,i.hidden=!1;let n=i.index&&this.inputElements[i.index-1];i.separator=n&&n.type==="separator"?n:void 0});else{let i;this.elements.forEach(n=>{let r=this.matchOnLabel?Ia(Ay(e,My(n.saneLabel))):void 0,s=this.matchOnDescription?Ia(Ay(e,My(n.saneDescription||""))):void 0,a=this.matchOnDetail?Ia(Ay(e,My(n.saneDetail||""))):void 0,l=this.matchOnMeta?Ia(Ay(e,My(n.saneMeta||""))):void 0;if(r||s||a||l?(n.labelHighlights=r,n.descriptionHighlights=s,n.detailHighlights=a,n.hidden=!1):(n.labelHighlights=void 0,n.descriptionHighlights=void 0,n.detailHighlights=void 0,n.hidden=!n.item.alwaysShow),n.separator=void 0,!this.sortByLabel){let c=n.index&&this.inputElements[n.index-1];i=c&&c.type==="separator"?c:i,i&&!n.hidden&&(n.separator=i,i=void 0)}})}let t=this.elements.filter(i=>!i.hidden);if(this.sortByLabel&&e){let i=e.toLowerCase();t.sort((n,r)=>uge(n,r,i))}return this.elementsToIndexes=t.reduce((i,n,r)=>(i.set(n.item,r),i),new Map),this.list.splice(0,this.list.length,t),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(t.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;let e=this.list.getFocusedElements(),t=this.allVisibleChecked(e);for(let i of e)i.checked=!t}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(e){this.container.style.display=e?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=ct(this.elementDisposables),this.disposables=ct(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(e){this._onButtonTriggered.fire(e)}style(e){this.list.style(e)}};rZ([gn],sS.prototype,"onDidChangeFocus",null);rZ([gn],sS.prototype,"onDidChangeSelection",null);function uge(o,e,t){let i=o.labelHighlights||[],n=e.labelHighlights||[];return i.length&&!n.length?-1:!i.length&&n.length?1:i.length===0&&n.length===0?0:oZ(o.saneLabel,e.saneLabel,t)}var lZ=class{getWidgetAriaLabel(){return g("quickInput","Quick Input")}getAriaLabel(e){return e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}};var cZ=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},_a=se,E5={iconClass:z.quickInputBack.classNames,tooltip:g("quickInput.back","Back"),handle:-1},aS=class extends ${constructor(e){super();this.ui=e,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=aS.noPromptMessage,this._severity=Vi.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new F),this.onDidHideEmitter=this._register(new F),this.onDisposeEmitter=this._register(new F),this.visibleDisposables=this._register(new Q),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){let t=this._ignoreFocusOut!==e&&!Fr;this._ignoreFocusOut=e&&!Fr,t&&this.update()}get buttons(){return this._buttons}set buttons(e){this._buttons=e,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(e=>{this.buttons.indexOf(e)!==-1&&this.onDidTriggerButtonEmitter.fire(e)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(e=Fw.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}update(){if(!this.visible)return;let e=this.getTitle();e&&this.ui.title.textContent!==e?this.ui.title.textContent=e:!e&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");let t=this.getDescription();if(this.ui.description1.textContent!==t&&(this.ui.description1.textContent=t),this.ui.description2.textContent!==t&&(this.ui.description2.textContent=t),this.busy&&!this.busyDelay&&(this.busyDelay=new Fi,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();let n=this.buttons.filter(s=>s===E5);this.ui.leftActionBar.push(n.map((s,a)=>{let l=new yo(`id-${a}`,"",s.iconClass||iS(s.iconPath),!0,()=>cZ(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(s)}));return l.tooltip=s.tooltip||"",l}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();let r=this.buttons.filter(s=>s!==E5);this.ui.rightActionBar.push(r.map((s,a)=>{let l=new yo(`id-${a}`,"",s.iconClass||iS(s.iconPath),!0,()=>cZ(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(s)}));return l.tooltip=s.tooltip||"",l}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);let i=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==i&&(this._lastValidationMessage=i,kl(this.ui.message,...Kl(i))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?g("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e!==Vi.Ignore){let t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?`${t.foreground}`:"",this.ui.message.style.backgroundColor=t.background?`${t.background}`:"",this.ui.message.style.border=t.border?`1px solid ${t.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}};aS.noPromptMessage=g("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");var jw=class extends aS{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new F),this.onWillAcceptEmitter=this._register(new F),this.onDidAcceptEmitter=this._register(new F),this.onDidCustomEmitter=this._register(new F),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?tl.NONE:tl.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new F),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new F),this.onDidTriggerItemButtonEmitter=this._register(new F),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e||"",this.update(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(e){this.ui.list.scrollTop=e}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(e){this._autoFocusOnList=e,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?Kq:this.ui.keyMods}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Ln.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{if(e===this.value)return;this._value=e,this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(e)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(e=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(e=>{switch(e.keyCode){case 18:this.ui.list.focus(Ln.Next),this.canSelectMany&&this.ui.list.domFocus(),Wt.stop(e,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Ln.Previous):this.ui.list.focus(Ln.Last),this.canSelectMany&&this.ui.list.domFocus(),Wt.stop(e,!0);break;case 12:this.ui.list.focus(Ln.NextPage),this.canSelectMany&&this.ui.list.domFocus(),Wt.stop(e,!0);break;case 11:this.ui.list.focus(Ln.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),Wt.stop(e,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(e.ctrlKey||e.metaKey)&&!e.shiftKey&&!e.altKey&&(this.ui.list.focus(Ln.First),Wt.stop(e,!0));break;case 13:(e.ctrlKey||e.metaKey)&&!e.shiftKey&&!e.altKey&&(this.ui.list.focus(Ln.Last),Wt.stop(e,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&eo(e,this._activeItems,(t,i)=>t===i)||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:e,event:t})=>{if(this.canSelectMany){e.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&eo(e,this._selectedItems,(i,n)=>i===n)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(t instanceof MouseEvent&&t.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(e=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&eo(e,this._selectedItems,(t,i)=>t===i)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(e=>this.onDidTriggerItemButtonEmitter.fire(e))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return oe(this.ui.container,Le.KEY_UP,e=>{if(this.canSelectMany||!this._quickNavigate)return;let t=new Kt(e),i=t.keyCode;this._quickNavigate.keybindings.some(s=>{let[a,l]=s.getParts();return l?!1:a.shiftKey&&i===4?!(t.ctrlKey||t.altKey||t.metaKey):!!(a.altKey&&i===6||a.ctrlKey&&i===5||a.metaKey&&i===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;let e=this.keepScrollPosition?this.scrollTop:0,t=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",t&&!this.description);let i={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!t,progressBar:!t,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(i),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let n=this.ariaLabel||this.placeholder||jw.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==n&&(this.ui.inputBox.ariaLabel=n),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case tl.NONE:this._itemActivation=tl.FIRST;break;case tl.SECOND:this.ui.list.focus(Ln.Second),this._itemActivation=tl.FIRST;break;case tl.LAST:this.ui.list.focus(Ln.Last),this._itemActivation=tl.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),i.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Ln.First)),this.keepScrollPosition&&(this.scrollTop=e)}};jw.DEFAULT_ARIA_LABEL=g("quickInputBox.ariaLabel","Type to narrow down results.");var Ww=class extends ${constructor(e){super();this.options=e,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new F),this.onDidCustomEmitter=this._register(new F),this.onDidTriggerButtonEmitter=this._register(new F),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new F),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new F),this.onHide=this.onHideEmitter.event,this.idPrefix=e.idPrefix,this.parentElement=e.container,this.styles=e.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){let e=t=>{this.keyMods.ctrlCmd=t.ctrlKey||t.metaKey,this.keyMods.alt=t.altKey};this._register(oe(window,Le.KEY_DOWN,e,!0)),this._register(oe(window,Le.KEY_UP,e,!0)),this._register(oe(window,Le.MOUSE_DOWN,e,!0))}getUI(){if(this.ui)return this.ui;let e=J(this.parentElement,_a(".quick-input-widget.show-file-icons"));e.tabIndex=-1,e.style.display="none";let t=no(e),i=J(e,_a(".quick-input-titlebar")),n=this._register(new pr(i));n.domNode.classList.add("quick-input-left-action-bar");let r=J(i,_a(".quick-input-title")),s=this._register(new pr(i));s.domNode.classList.add("quick-input-right-action-bar");let a=J(e,_a(".quick-input-description")),l=J(e,_a(".quick-input-header")),c=J(l,_a("input.quick-input-check-all"));c.type="checkbox",this._register(Ni(c,Le.CHANGE,G=>{let Y=c.checked;O.setAllVisibleChecked(Y)})),this._register(oe(c,Le.CLICK,G=>{(G.x||G.y)&&f.setFocus()}));let d=J(l,_a(".quick-input-description")),h=J(l,_a(".quick-input-and-message")),u=J(h,_a(".quick-input-filter")),f=this._register(new C5(u));f.setAttribute("aria-describedby",`${this.idPrefix}message`);let p=J(u,_a(".quick-input-visible-count"));p.setAttribute("aria-live","polite"),p.setAttribute("aria-atomic","true");let b=new Mw(p,{countFormat:g({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),v=J(u,_a(".quick-input-count"));v.setAttribute("aria-live","polite");let y=new Mw(v,{countFormat:g({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),w=J(l,_a(".quick-input-action")),S=new _O(w);S.label=g("ok","OK"),this._register(S.onDidClick(G=>{this.onDidAcceptEmitter.fire()}));let x=J(l,_a(".quick-input-action")),k=new _O(x);k.label=g("custom","Custom"),this._register(k.onDidClick(G=>{this.onDidCustomEmitter.fire()}));let R=J(h,_a(`#${this.idPrefix}message.quick-input-message`)),O=this._register(new sS(e,this.idPrefix+"list",this.options));this._register(O.onChangedAllVisibleChecked(G=>{c.checked=G})),this._register(O.onChangedVisibleCount(G=>{b.setCount(G)})),this._register(O.onChangedCheckedCount(G=>{y.setCount(G)})),this._register(O.onLeave(()=>{setTimeout(()=>{f.setFocus(),this.controller instanceof jw&&this.controller.canSelectMany&&O.clearFocus()},0)})),this._register(O.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));let N=new p5(e);N.getContainer().classList.add("quick-input-progress");let W=bc(e);return this._register(W),this._register(oe(e,Le.FOCUS,G=>{this.previousFocusElement=G.relatedTarget instanceof HTMLElement?G.relatedTarget:void 0},!0)),this._register(W.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(Fw.Blur),this.previousFocusElement=void 0})),this._register(oe(e,Le.FOCUS,G=>{f.setFocus()})),this._register(oe(e,Le.KEY_DOWN,G=>{let Y=new Kt(G);switch(Y.keyCode){case 3:Wt.stop(G,!0),this.onDidAcceptEmitter.fire();break;case 9:Wt.stop(G,!0),this.hide(Fw.Gesture);break;case 2:if(!Y.altKey&&!Y.ctrlKey&&!Y.metaKey){let te=[".action-label.codicon"];e.classList.contains("show-checkboxes")?te.push("input"):te.push("input[type=text]"),this.getUI().list.isDisplayed()&&te.push(".monaco-list");let re=e.querySelectorAll(te.join(", "));Y.shiftKey&&Y.target===re[0]?(Wt.stop(G,!0),re[re.length-1].focus()):!Y.shiftKey&&Y.target===re[re.length-1]&&(Wt.stop(G,!0),re[0].focus())}break}})),this.ui={container:e,styleSheet:t,leftActionBar:n,titleBar:i,title:r,description1:a,description2:d,rightActionBar:s,checkAll:c,filterContainer:u,inputBox:f,visibleCountContainer:p,visibleCount:b,countContainer:v,count:y,okContainer:w,ok:S,message:R,customButtonContainer:x,customButton:k,list:O,progressBar:N,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:G=>this.show(G),hide:()=>this.hide(),setVisibilities:G=>this.setVisibilities(G),setComboboxAccessibility:G=>this.setComboboxAccessibility(G),setEnabled:G=>this.setEnabled(G),setContextKey:G=>this.options.setContextKey(G)},this.updateStyles(),this.ui}pick(e,t={},i=qe.None){return new Promise((n,r)=>{let s=d=>{s=n,t.onKeyMods&&t.onKeyMods(a.keyMods),n(d)};if(i.isCancellationRequested){s(void 0);return}let a=this.createQuickPick(),l,c=[a,a.onDidAccept(()=>{if(a.canSelectMany)s(a.selectedItems.slice()),a.hide();else{let d=a.activeItems[0];d&&(s(d),a.hide())}}),a.onDidChangeActive(d=>{let h=d[0];h&&t.onDidFocus&&t.onDidFocus(h)}),a.onDidChangeSelection(d=>{if(!a.canSelectMany){let h=d[0];h&&(s(h),a.hide())}}),a.onDidTriggerItemButton(d=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton(Object.assign(Object.assign({},d),{removeItem:()=>{let h=a.items.indexOf(d.item);if(h!==-1){let u=a.items.slice(),f=u.splice(h,1),p=a.activeItems.filter(v=>v!==f[0]),b=a.keepScrollPosition;a.keepScrollPosition=!0,a.items=u,p&&(a.activeItems=p),a.keepScrollPosition=b}}}))),a.onDidChangeValue(d=>{l&&!d&&(a.activeItems.length!==1||a.activeItems[0]!==l)&&(a.activeItems=[l])}),i.onCancellationRequested(()=>{a.hide()}),a.onDidHide(()=>{ct(c),s(void 0)})];a.title=t.title,a.canSelectMany=!!t.canPickMany,a.placeholder=t.placeHolder,a.ignoreFocusOut=!!t.ignoreFocusLost,a.matchOnDescription=!!t.matchOnDescription,a.matchOnDetail=!!t.matchOnDetail,a.matchOnLabel=t.matchOnLabel===void 0||t.matchOnLabel,a.autoFocusOnList=t.autoFocusOnList===void 0||t.autoFocusOnList,a.quickNavigate=t.quickNavigate,a.contextKey=t.contextKey,a.busy=!0,Promise.all([e,t.activeItem]).then(([d,h])=>{l=h,a.busy=!1,a.items=d,a.canSelectMany&&(a.selectedItems=d.filter(u=>u.type!=="separator"&&u.picked)),l&&(a.activeItems=[l])}),a.show(),Promise.resolve(e).then(void 0,d=>{r(d),a.hide()})})}createQuickPick(){let e=this.getUI();return new jw(e)}show(e){let t=this.getUI();this.onShowEmitter.fire();let i=this.controller;this.controller=e,i&&i.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description1.textContent="",t.description2.textContent="",t.rightActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(Vi.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),kl(t.message),t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),t.inputBox.ariaLabel="";let n=this.options.backKeybindingLabel();E5.tooltip=n?g("quickInput.backWithKeybinding","Back ({0})",n):g("quickInput.back","Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus()}setVisibilities(e){let t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=e.description&&!(e.inputBox||e.checkAll)?"":"none",t.checkAll.style.display=e.checkAll?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.display(!!e.list),t.container.classList[e.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(e){if(e!==this.comboboxAccessibility){let t=this.getUI();this.comboboxAccessibility=e,this.comboboxAccessibility?(t.inputBox.setAttribute("role","combobox"),t.inputBox.setAttribute("aria-haspopup","true"),t.inputBox.setAttribute("aria-autocomplete","list"),t.inputBox.setAttribute("aria-activedescendant",t.list.getActiveDescendant()||"")):(t.inputBox.removeAttribute("role"),t.inputBox.removeAttribute("aria-haspopup"),t.inputBox.removeAttribute("aria-autocomplete"),t.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(let t of this.getUI().leftActionBar.viewItems)t.getAction().enabled=e;for(let t of this.getUI().rightActionBar.viewItems)t.getAction().enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(e){var t;let i=this.controller;if(i){let n=!((t=this.ui)===null||t===void 0?void 0:t.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!n){let r=this.previousFocusElement;for(;r&&!r.offsetParent;)r=Ia(r.parentElement);(r==null?void 0:r.offsetParent)?(r.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}i.didHide(e)}}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;let e=this.ui.container.style,t=Math.min(this.dimension.width*.62,Ww.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){let{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:i,contrastBorder:n,widgetShadow:r}=this.styles.widget;this.ui.titleBar.style.backgroundColor=e?e.toString():"",this.ui.container.style.backgroundColor=t?t.toString():"",this.ui.container.style.color=i?i.toString():"",this.ui.container.style.border=n?`1px solid ${n}`:"",this.ui.container.style.boxShadow=r?`0 0 8px 2px ${r}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);let s=[];this.styles.list.pickerGroupBorder&&s.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&s.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(s.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&s.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&s.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&s.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&s.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&s.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),s.push("}"));let a=s.join(`
`);a!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=a)}}};Ww.MAX_WIDTH=600;_t();Ge();tt();Ei();Em();ne();Ge();Ut();ne();Ur();var EO;(function(o){o[o.PRESERVE=0]="PRESERVE",o[o.LAST=1]="LAST"})(EO||(EO={}));var x5={Quickaccess:"workbench.contributions.quickaccess"},dZ=class{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return e.prefix.length===0?this.defaultProvider=e:this.providers.push(e),this.providers.sort((t,i)=>i.prefix.length-t.prefix.length),ze(()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return hd([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find(i=>e.startsWith(i.prefix))||void 0||this.defaultProvider}};ki.add(x5.Quickaccess,new dZ);Ge();var dh=Fe("quickInputService");Ur();var fge=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},hZ=function(o,e){return function(t,i){e(t,i,o)}},xO=class extends ${constructor(e,t){super();this.quickInputService=e,this.instantiationService=t,this.registry=ki.as(x5.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,i){var n;let[r,s]=this.getOrInstantiateProvider(e),a=this.visibleQuickAccess,l=a==null?void 0:a.descriptor;if(a&&s&&l===s){e!==s.prefix&&!(i==null?void 0:i.preserveValue)&&(a.picker.value=e),this.adjustValueSelection(a.picker,s,i);return}if(s&&!(i==null?void 0:i.preserveValue)){let f;if(a&&l&&l!==s){let p=a.value.substr(l.prefix.length);p&&(f=`${s.prefix}${p}`)}if(!f){let p=r==null?void 0:r.defaultFilterValue;p===EO.LAST?f=this.lastAcceptedPickerValues.get(s):typeof p=="string"&&(f=`${s.prefix}${p}`)}typeof f=="string"&&(e=f)}let c=new Q,d=c.add(this.quickInputService.createQuickPick());d.value=e,this.adjustValueSelection(d,s,i),d.placeholder=s==null?void 0:s.placeholder,d.quickNavigate=i==null?void 0:i.quickNavigateConfiguration,d.hideInput=!!d.quickNavigate&&!a,(typeof(i==null?void 0:i.itemActivation)=="number"||(i==null?void 0:i.quickNavigateConfiguration))&&(d.itemActivation=(n=i==null?void 0:i.itemActivation)!==null&&n!==void 0?n:tl.SECOND),d.contextKey=s==null?void 0:s.contextKey,d.filterValue=f=>f.substring(s?s.prefix.length:0),(s==null?void 0:s.placeholder)&&(d.ariaLabel=s==null?void 0:s.placeholder);let h;t&&(h=new BP,c.add(ra(d.onWillAccept)(f=>{f.veto(),d.hide()}))),c.add(this.registerPickerListeners(d,r,s,e));let u=c.add(new sn);if(r&&c.add(r.provide(d,u.token)),ra(d.onDidHide)(()=>{d.selectedItems.length===0&&u.cancel(),c.dispose(),h==null||h.complete(d.selectedItems.slice(0))}),d.show(),t)return h==null?void 0:h.p}adjustValueSelection(e,t,i){var n;let r;(i==null?void 0:i.preserveValue)?r=[e.value.length,e.value.length]:r=[(n=t==null?void 0:t.prefix.length)!==null&&n!==void 0?n:0,e.value.length],e.valueSelection=r}registerPickerListeners(e,t,i,n){let r=new Q,s=this.visibleQuickAccess={picker:e,descriptor:i,value:n};return r.add(ze(()=>{s===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),r.add(e.onDidChangeValue(a=>{let[l]=this.getOrInstantiateProvider(a);l!==t?this.show(a,{preserveValue:!0}):s.value=a})),i&&r.add(e.onDidAccept(()=>{this.lastAcceptedPickerValues.set(i,e.value)})),r}getOrInstantiateProvider(e){let t=this.registry.getQuickAccessProvider(e);if(!t)return[void 0,void 0];let i=this.mapProviderToDescriptor.get(t);return i||(i=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,i)),[i,t]}};xO=fge([hZ(0,dh),hZ(1,Ve)],xO);yi();dt();var gge=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},lS=function(o,e){return function(t,i){e(t,i,o)}},DO=class extends KM{constructor(e,t,i,n,r){super(i);this.instantiationService=e,this.contextKeyService=t,this.accessibilityService=n,this.layoutService=r,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(xO))),this._quickAccess}createController(e=this.layoutService,t){var i,n;let r={idPrefix:"quickInput_",container:e.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:a=>this.setContextKey(a),returnFocus:()=>e.focus(),createList:(a,l,c,d,h)=>this.instantiationService.createInstance(oO,a,l,c,d,h),styles:this.computeStyles()},s=this._register(new Ww(Object.assign(Object.assign({},r),t)));return s.layout(e.dimension,(n=(i=e.offset)===null||i===void 0?void 0:i.top)!==null&&n!==void 0?n:0),this._register(e.onDidLayout(a=>{var l,c;return s.layout(a,(c=(l=e.offset)===null||l===void 0?void 0:l.top)!==null&&c!==void 0?c:0)})),this._register(s.onShow(()=>this.resetContextKeys())),this._register(s.onHide(()=>this.resetContextKeys())),s}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new be(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),!(t&&t.get())&&(this.resetContextKeys(),t&&t.set(!0))}resetContextKeys(){this.contexts.forEach(e=>{e.get()&&e.reset()})}pick(e,t={},i=qe.None){return this.controller.pick(e,t,i)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},Qa(this.theme,{quickInputBackground:tA,quickInputForeground:Mz,quickInputTitleBackground:Az,contrastBorder:Oi,widgetShadow:Wl})),inputBox:Qa(this.theme,{inputForeground:Cv,inputBackground:wv,inputBorder:yv,inputValidationInfoBackground:VL,inputValidationInfoForeground:HL,inputValidationInfoBorder:$L,inputValidationWarningBackground:KL,inputValidationWarningForeground:YL,inputValidationWarningBorder:qL,inputValidationErrorBackground:ZL,inputValidationErrorForeground:XL,inputValidationErrorBorder:QL}),countBadge:Qa(this.theme,{badgeBackground:pp,badgeForeground:_p,badgeBorder:Oi}),button:Qa(this.theme,{buttonForeground:xz,buttonBackground:JL,buttonHoverBackground:Dz,buttonBorder:Oi}),progressBar:Qa(this.theme,{progressBarBackground:kz}),keybindingLabel:Qa(this.theme,{keybindingLabelBackground:jz,keybindingLabelForeground:Wz,keybindingLabelBorder:Uz,keybindingLabelBottomBorder:zz,keybindingLabelShadow:Wl}),list:Qa(this.theme,{listBackground:tA,listInactiveFocusForeground:Ev,listInactiveSelectionIconForeground:xv,listInactiveFocusBackground:Dv,listFocusOutline:qn,listInactiveFocusOutline:qn,pickerGroupBorder:Bz,pickerGroupForeground:Fz})}}};DO=gge([lS(0,Ve),lS(1,Ce),lS(2,Rt),lS(3,Zn),lS(4,Pg)],DO);Em();var uZ=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},r_=function(o,e){return function(t,i){e(t,i,o)}},D5=class extends DO{constructor(e,t,i,n,r,s){super(t,i,n,r,s);this.host=void 0;let a=s_.get(e);this.host={_serviceBrand:void 0,get container(){return a.widget.getDomNode()},get dimension(){return e.getLayoutInfo()},get onDidLayout(){return e.onDidLayoutChange},focus:()=>e.focus()}}createController(){return super.createController(this.host)}};D5=uZ([r_(1,Ve),r_(2,Ce),r_(3,Rt),r_(4,Zn),r_(5,Pg)],D5);var LO=class{constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}get activeService(){let e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){let i=t=this.instantiationService.createInstance(D5,e);this.mapEditorToService.set(e,t),ra(e.onDidDispose)(()=>{i.dispose(),this.mapEditorToService.delete(e)})}return t}get quickAccess(){return this.activeService.quickAccess}pick(e,t={},i=qe.None){return this.activeService.pick(e,t,i)}createQuickPick(){return this.activeService.createQuickPick()}};LO=uZ([r_(0,Ve),r_(1,Ot)],LO);var s_=class{constructor(e){this.editor=e,this.widget=new cS(this.editor)}static get(e){return e.getContribution(s_.ID)}dispose(){this.widget.dispose()}};s_.ID="editor.controller.quickInput";var cS=class{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return cS.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}};cS.ID="editor.contrib.quickInputWidget";Qe(s_.ID,s_);zo();Ge();var kO=Fe("workspaceTrustManagementService");var ri;(function(o){let e=new Xd;class t{constructor(l,c){this._serviceId=l,this._factory=c,this._value=null}get id(){return this._serviceId}get(l){if(!this._value){if(l&&(this._value=l[this._serviceId.toString()]),this._value||(this._value=this._factory(l)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");e.set(this._serviceId,this._value)}return this._value}}o.LazyStaticService=t;let i=[];function n(a,l){let c=new t(a,l);return i.push(c),c}function r(a){let l=new Xd;for(let[d,h]of ZW())l.set(d,h);for(let d in a)a.hasOwnProperty(d)&&l.set(Fe(d),a[d]);i.forEach(d=>l.set(d.id,d.get(a)));let c=new Sw(l,!0);return l.set(Ve,c),[l,c]}o.init=r,o.instantiationService=n(Ve,()=>new Sw(e,!0));let s=new IL;o.configurationService=n(Vt,()=>s),o.resourceConfigurationService=n(tv,()=>new MM(s)),o.resourcePropertiesService=n(nL,()=>new OL(s)),o.contextService=n(DL,()=>new mv),o.labelService=n(ih,()=>new BM),o.telemetryService=n($a,()=>new AM),o.dialogService=n(yw,()=>new PM),o.notificationService=n(fi,()=>new gv),o.markerService=n(Au,()=>new Fu),o.modeService=n(Pi,a=>new Hp),o.standaloneThemeService=n(Eg,()=>new fF),o.logService=n(cr,()=>new oM(new nM)),o.undoRedoService=n(Hd,a=>new eS(o.dialogService.get(a),o.notificationService.get(a))),o.languageConfigurationService=n(qh,a=>new U0(o.configurationService.get(a),o.modeService.get(a))),o.modelService=n(Ci,a=>new Iy(o.configurationService.get(a),o.resourcePropertiesService.get(a),o.standaloneThemeService.get(a),o.logService.get(a),o.undoRedoService.get(a),o.modeService.get(a),o.languageConfigurationService.get(a))),o.markerDecorationsService=n(pv,a=>new hO(o.modelService.get(a),o.markerService.get(a))),o.contextKeyService=n(Ce,a=>new LI(o.configurationService.get(a))),o.codeEditorService=n(Ot,a=>new vw(null,o.contextKeyService.get(a),o.standaloneThemeService.get(a))),o.editorProgressService=n(Vr,()=>new fv),o.storageService=n(qs,()=>new c5),o.editorWorkerService=n(ro,a=>new oL(o.modelService.get(a),o.resourceConfigurationService.get(a),o.logService.get(a)))})(ri||(ri={}));var L5=class extends ${constructor(e,t){super();let[i,n]=ri.init(t);this._serviceCollection=i,this._instantiationService=n;let r=this.get(Vt),s=this.get(fi),a=this.get($a),l=this.get(Rt),c=this.get(cr),d=this.get(Ce),h=(v,y)=>{let w=null;return t&&(w=t[v.toString()]),w||(w=y()),this._serviceCollection.set(v,w),w};h(Zn,()=>new uO(d,r)),h(Ys,()=>new GI(l));let u=h(li,()=>new RM(this._instantiationService)),f=h(oi,()=>this._register(new f1(d,u,a,s,c,e))),p=h(Pg,()=>new jM(ri.codeEditorService.get(Ot),e));h(dh,()=>new LO(n,ri.codeEditorService.get(Ot)));let b=h(pa,()=>this._register(new AI(p)));h(Hs,()=>new h5),h(Vs,()=>{let v=new MI(a,s,b,f,l);return v.configure({blockMouse:!1}),this._register(v)}),h(da,()=>new dO(u)),h(lv,()=>new FM(ri.modelService.get(Ci))),h(kO,()=>new WM)}get(e){let t=this._serviceCollection.get(e);if(!t)throw new Error("Missing service "+e);return t}set(e,t){this._serviceCollection.set(e,t)}has(e){return this._serviceCollection.has(e)}};zi();lr();_t();Ge();$l();je();xr();function fZ(o,e,t){let i=new L5(o,e),n=null;i.has(Kn)||(n=new kL(ri.modelService.get()),i.set(Kn,n)),i.has(oo)||i.set(oo,new VD(i.get(Ot),i.get(li)));let r=t(i);return n&&n.setEditor(r),r}function mge(o,e,t){return fZ(o,t||{},i=>new gI(o,e,i,i.get(Ve),i.get(Ot),i.get(li),i.get(Ce),i.get(oi),i.get(pa),i.get(Eg),i.get(fi),i.get(Vt),i.get(Zn),i.get(Ci),i.get(Pi)))}function pge(o){return ri.codeEditorService.get().onCodeEditorAdd(e=>{o(e)})}function _ge(o,e,t){return fZ(o,t||{},i=>new mI(o,e,i,i.get(Ve),i.get(Ce),i.get(oi),i.get(pa),i.get(ro),i.get(Ot),i.get(Eg),i.get(fi),i.get(Vt),i.get(Vs),i.get(Vr),i.get(Hs)))}function bge(o,e){return new uR(o,e)}function vge(o,e,t){return eF(ri.modelService.get(),ri.modeService.get(),o,e,t)}function wge(o,e){ri.modelService.get().setMode(o,ri.modeService.get().create(e))}function Cge(o,e,t){o&&ri.markerService.get().changeOne(e,o.uri,t)}function yge(o){return ri.markerService.get().read(o)}function Sge(o){return ri.markerService.get().onMarkerChanged(o)}function Ege(o){return ri.modelService.get().getModel(o)}function xge(){return ri.modelService.get().getModels()}function Dge(o){return ri.modelService.get().onModelAdded(o)}function Lge(o){return ri.modelService.get().onModelRemoved(o)}function kge(o){return ri.modelService.get().onModelModeChanged(e=>{o({model:e.model,oldLanguage:e.oldModeId})})}function Ige(o){return bU(ri.modelService.get(),o)}function Oge(o,e){let t=ri.standaloneThemeService.get();return t.registerEditorContainer(o),e1.colorizeElement(t,ri.modeService.get(),o,e)}function Tge(o,e,t){return ri.standaloneThemeService.get().registerEditorContainer(document.body),e1.colorize(ri.modeService.get(),o,e,t)}function Nge(o,e,t=4){return ri.standaloneThemeService.get().registerEditorContainer(document.body),e1.colorizeModelLine(o,e,t)}function Pge(o){let e=Li.get(o);return e||{getInitialState:()=>Hm,tokenize:(t,i,n,r)=>yW(o,t,n,r)}}function Rge(o,e){ri.modeService.get().triggerMode(e);let i=Pge(e),n=rr(o),r=[],s=i.getInitialState();for(let a=0,l=n.length;a<l;a++){let c=n[a],d=i.tokenize(c,!0,s,0);r[a]=d.tokens,s=d.endState}return r}function Mge(o,e){ri.standaloneThemeService.get().defineTheme(o,e)}function Age(o){ri.standaloneThemeService.get().setTheme(o)}function Fge(){yz()}function Bge(o,e){return rt.registerCommand({id:o,handler:e})}function gZ(){return{create:mge,onDidCreateEditor:pge,createDiffEditor:_ge,createDiffNavigator:bge,createModel:vge,setModelLanguage:wge,setModelMarkers:Cge,getModelMarkers:yge,onDidChangeMarkers:Sge,getModels:xge,getModel:Ege,onDidCreateModel:Dge,onWillDisposeModel:Lge,onDidChangeModelLanguage:kge,createWebWorker:Ige,colorizeElement:Oge,colorize:Tge,colorizeModelLine:Nge,tokenize:Rge,defineTheme:Mge,setTheme:Age,remeasureFonts:Fge,registerCommand:Bge,AccessibilitySupport:Fx,ContentWidgetPositionPreference:zx,CursorChangeReason:Vx,DefaultEndOfLine:Hx,EditorAutoIndentStrategy:Kx,EditorOption:Yx,EndOfLinePreference:qx,EndOfLineSequence:Zx,MinimapPosition:iD,MouseTargetType:nD,OverlayWidgetPositionPreference:oD,OverviewRulerLane:rD,RenderLineNumbersType:sD,RenderMinimap:aD,ScrollbarVisibility:cD,ScrollType:lD,TextEditorCursorBlinkingStyle:gD,TextEditorCursorStyle:mD,TrackedRangeStickiness:pD,WrappingIndent:_D,ConfigurationChangedEvent:r0,BareFontInfo:Cd,FontInfo:Fb,TextModelResolvedOptions:Am,FindMatch:Wh,ApplyUpdateResult:ym,EditorType:Bf,EditorOptions:Jr}}Yn();ve();c0();Tt();zo();fw();function jge(o,e){if(!e||!Array.isArray(e))return!1;for(let t of e)if(!o(t))return!1;return!0}function IO(o,e){return typeof o=="boolean"?o:e}function mZ(o,e){return typeof o=="string"?o:e}function Wge(o){let e={};for(let t of o)e[t]=!0;return e}function pZ(o,e=!1){e&&(o=o.map(function(i){return i.toLowerCase()}));let t=Wge(o);return e?function(i){return t[i.toLowerCase()]!==void 0&&t.hasOwnProperty(i.toLowerCase())}:function(i){return t[i]!==void 0&&t.hasOwnProperty(i)}}function k5(o,e){e=e.replace(/@@/g,"");let t=0,i;do i=!1,e=e.replace(/@(\w+)/g,function(r,s){i=!0;let a="";if(typeof o[s]=="string")a=o[s];else if(o[s]&&o[s]instanceof RegExp)a=o[s].source;else throw o[s]===void 0?Ri(o,"language definition does not contain attribute '"+s+"', used at: "+e):Ri(o,"attribute reference '"+s+"' must be a string, used at: "+e);return ep(a)?"":"(?:"+a+")"}),t++;while(i&&t<5);e=e.replace(/\x01/g,"@");let n=(o.ignoreCase?"i":"")+(o.unicode?"u":"");return new RegExp(e,n)}function Uge(o,e,t,i){if(i<0)return o;if(i<e.length)return e[i];if(i>=100){i=i-100;let n=t.split(".");if(n.unshift(t),i<n.length)return n[i]}return null}function zge(o,e,t,i){let n=-1,r=t,s=t.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);s&&(s[3]&&(n=parseInt(s[3]),s[2]&&(n=n+100)),r=s[4]);let a="~",l=r;!r||r.length===0?(a="!=",l=""):/^\w*$/.test(l)?a="==":(s=r.match(/^(@|!@|~|!~|==|!=)(.*)$/),s&&(a=s[1],l=s[2]));let c;if((a==="~"||a==="!~")&&/^(\w|\|)*$/.test(l)){let d=pZ(l.split("|"),o.ignoreCase);c=function(h){return a==="~"?d(h):!d(h)}}else if(a==="@"||a==="!@"){let d=o[l];if(!d)throw Ri(o,"the @ match target '"+l+"' is not defined, in rule: "+e);if(!jge(function(u){return typeof u=="string"},d))throw Ri(o,"the @ match target '"+l+"' must be an array of strings, in rule: "+e);let h=pZ(d,o.ignoreCase);c=function(u){return a==="@"?h(u):!h(u)}}else if(a==="~"||a==="!~")if(l.indexOf("$")<0){let d=k5(o,"^"+l+"$");c=function(h){return a==="~"?d.test(h):!d.test(h)}}else c=function(d,h,u,f){return k5(o,"^"+Pd(o,l,h,u,f)+"$").test(d)};else if(l.indexOf("$")<0){let d=Nd(o,l);c=function(h){return a==="=="?h===d:h!==d}}else{let d=Nd(o,l);c=function(h,u,f,p,b){let v=Pd(o,d,u,f,p);return a==="=="?h===v:h!==v}}return n===-1?{name:t,value:i,test:function(d,h,u,f){return c(d,d,h,u,f)}}:{name:t,value:i,test:function(d,h,u,f){let p=Uge(d,h,u,n);return c(p||"",d,h,u,f)}}}function I5(o,e,t){if(t){if(typeof t=="string")return t;if(t.token||t.token===""){if(typeof t.token!="string")throw Ri(o,"a 'token' attribute must be of type string, in rule: "+e);{let i={token:t.token};if(t.token.indexOf("$")>=0&&(i.tokenSubst=!0),typeof t.bracket=="string")if(t.bracket==="@open")i.bracket=1;else if(t.bracket==="@close")i.bracket=-1;else throw Ri(o,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+e);if(t.next){if(typeof t.next!="string")throw Ri(o,"the next state must be a string value in rule: "+e);{let n=t.next;if(!/^(@pop|@push|@popall)$/.test(n)&&(n[0]==="@"&&(n=n.substr(1)),n.indexOf("$")<0&&!xU(o,Pd(o,n,"",[],""))))throw Ri(o,"the next state '"+t.next+"' is not defined in rule: "+e);i.next=n}}return typeof t.goBack=="number"&&(i.goBack=t.goBack),typeof t.switchTo=="string"&&(i.switchTo=t.switchTo),typeof t.log=="string"&&(i.log=t.log),typeof t.nextEmbedded=="string"&&(i.nextEmbedded=t.nextEmbedded,o.usesEmbedded=!0),i}}else if(Array.isArray(t)){let i=[];for(let n=0,r=t.length;n<r;n++)i[n]=I5(o,e,t[n]);return{group:i}}else if(t.cases){let i=[];for(let r in t.cases)if(t.cases.hasOwnProperty(r)){let s=I5(o,e,t.cases[r]);r==="@default"||r==="@"||r===""?i.push({test:void 0,value:s,name:r}):r==="@eos"?i.push({test:function(a,l,c,d){return d},value:s,name:r}):i.push(zge(o,e,r,s))}let n=o.defaultToken;return{test:function(r,s,a,l){for(let c of i)if(!c.test||c.test(r,s,a,l))return c.value;return n}}}else throw Ri(o,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+e)}else return{token:""}}var _Z=class{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let i;if(typeof t=="string")i=t;else if(t instanceof RegExp)i=t.source;else throw Ri(e,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=i.length>0&&i[0]==="^",this.name=this.name+": "+i,this.regex=k5(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")}setAction(e,t){this.action=I5(e,this.name,t)}};function bZ(o,e){if(!e||typeof e!="object")throw new Error("Monarch: expecting a language definition object");let t={};t.languageId=o,t.includeLF=IO(e.includeLF,!1),t.noThrow=!1,t.maxStack=100,t.start=typeof e.start=="string"?e.start:null,t.ignoreCase=IO(e.ignoreCase,!1),t.unicode=IO(e.unicode,!1),t.tokenPostfix=mZ(e.tokenPostfix,"."+t.languageId),t.defaultToken=mZ(e.defaultToken,"source"),t.usesEmbedded=!1;let i=e;i.languageId=o,i.includeLF=t.includeLF,i.ignoreCase=t.ignoreCase,i.unicode=t.unicode,i.noThrow=t.noThrow,i.usesEmbedded=t.usesEmbedded,i.stateNames=e.tokenizer,i.defaultToken=t.defaultToken;function n(s,a,l){for(let c of l){let d=c.include;if(d){if(typeof d!="string")throw Ri(t,"an 'include' attribute must be a string at: "+s);if(d[0]==="@"&&(d=d.substr(1)),!e.tokenizer[d])throw Ri(t,"include target '"+d+"' is not defined at: "+s);n(s+"."+d,a,e.tokenizer[d])}else{let h=new _Z(s);if(Array.isArray(c)&&c.length>=1&&c.length<=3)if(h.setRegex(i,c[0]),c.length>=3)if(typeof c[1]=="string")h.setAction(i,{token:c[1],next:c[2]});else if(typeof c[1]=="object"){let u=c[1];u.next=c[2],h.setAction(i,u)}else throw Ri(t,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+s);else h.setAction(i,c[1]);else{if(!c.regex)throw Ri(t,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+s);c.name&&typeof c.name=="string"&&(h.name=c.name),c.matchOnlyAtStart&&(h.matchOnlyAtLineStart=IO(c.matchOnlyAtLineStart,!1)),h.setRegex(i,c.regex),h.setAction(i,c.action)}a.push(h)}}}if(!e.tokenizer||typeof e.tokenizer!="object")throw Ri(t,"a language definition must define the 'tokenizer' attribute as an object");t.tokenizer=[];for(let s in e.tokenizer)if(e.tokenizer.hasOwnProperty(s)){t.start||(t.start=s);let a=e.tokenizer[s];t.tokenizer[s]=new Array,n("tokenizer."+s,t.tokenizer[s],a)}if(t.usesEmbedded=i.usesEmbedded,e.brackets){if(!Array.isArray(e.brackets))throw Ri(t,"the 'brackets' attribute must be defined as an array")}else e.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let r=[];for(let s of e.brackets){let a=s;if(a&&Array.isArray(a)&&a.length===3&&(a={token:a[2],open:a[0],close:a[1]}),a.open===a.close)throw Ri(t,"open and close brackets in a 'brackets' attribute must be different: "+a.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof a.open=="string"&&typeof a.token=="string"&&typeof a.close=="string")r.push({token:a.token+t.tokenPostfix,open:Nd(t,a.open),close:Nd(t,a.close)});else throw Ri(t,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return t.brackets=r,t.noThrow=!0,t}function Vge(o){Lu.registerLanguage(o)}function Hge(){let o=[];return o=o.concat(Lu.getLanguages()),o}function $ge(o){return ri.modeService.get().languageIdCodec.encodeLanguageId(o)}function Kge(o,e){let t=ri.modeService.get().onDidEncounterLanguage(i=>{i===o&&(t.dispose(),e())});return t}function Yge(o,e){let t=ri.modeService.get().validateLanguageId(o);if(!t)throw new Error(`Cannot set configuration for unknown language ${o}`);return xt.register(t,e,100)}var vZ=class{constructor(e,t){this._languageId=e,this._actual=t}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,i,n){if(typeof this._actual.tokenize=="function")return Uw.adaptTokenize(this._languageId,this._actual,e,i,n);throw new Error("Not supported!")}tokenize2(e,t,i){let n=this._actual.tokenizeEncoded(e,i);return new If(n.tokens,n.endState)}},Uw=class{constructor(e,t,i,n){this._languageId=e,this._actual=t,this._modeService=i,this._standaloneThemeService=n}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t,i){let n=[],r=0;for(let s=0,a=e.length;s<a;s++){let l=e[s],c=l.startIndex;s===0?c=0:c<r&&(c=r),n[s]=new Ah(c+i,l.scopes,t),r=c}return n}static adaptTokenize(e,t,i,n,r){let s=t.tokenize(i,n),a=Uw._toClassicTokens(s.tokens,e,r),l;return s.endState.equals(n)?l=n:l=s.endState,new km(a,l)}tokenize(e,t,i,n){return Uw.adaptTokenize(this._languageId,this._actual,e,i,n)}_toBinaryTokens(e,t,i){let n=e.encodeLanguageId(this._languageId),r=this._standaloneThemeService.getColorTheme().tokenTheme,s=[],a=0,l=0;for(let d=0,h=t.length;d<h;d++){let u=t[d],f=r.match(n,u.scopes);if(a>0&&s[a-1]===f)continue;let p=u.startIndex;d===0?p=0:p<l&&(p=l),s[a++]=p+i,s[a++]=f,l=p}let c=new Uint32Array(a);for(let d=0;d<a;d++)c[d]=s[d];return c}tokenize2(e,t,i,n){let r=this._actual.tokenize(e,i),s=this._toBinaryTokens(this._modeService.languageIdCodec,r.tokens,n),a;return r.endState.equals(i)?a=i:a=r.endState,new If(s,a)}};function qge(o){return"tokenizeEncoded"in o}function wZ(o){return o&&typeof o.then=="function"}function Zge(o){if(o){let e=[null];for(let t=1,i=o.length;t<i;t++)e[t]=Z.fromHex(o[t]);ri.standaloneThemeService.get().setColorMapOverride(e)}else ri.standaloneThemeService.get().setColorMapOverride(null)}function Gge(o,e){let t=ri.modeService.get().validateLanguageId(o);if(!t)throw new Error(`Cannot set tokens provider for unknown language ${o}`);let i=n=>qge(n)?new vZ(t,n):new Uw(t,n,ri.modeService.get(),ri.standaloneThemeService.get());return wZ(e)?Li.registerPromise(o,e.then(n=>i(n))):Li.register(o,i(e))}function Xge(o,e){let t=i=>IU(ri.modeService.get(),ri.standaloneThemeService.get(),o,bZ(o,i));return wZ(e)?Li.registerPromise(o,e.then(i=>t(i))):Li.register(o,t(e))}function Qge(o,e){return Fm.register(o,e)}function Jge(o,e){return Bm.register(o,e)}function eme(o,e){return yc.register(o,e)}function tme(o,e){return Vh.register(o,{provideHover:(t,i,n)=>{let r=t.getWordAtPosition(i);return Promise.resolve(e.provideHover(t,i,n)).then(s=>{if(!!s)return!s.range&&r&&(s.range=new D(i.lineNumber,r.startColumn,i.lineNumber,r.endColumn)),s.range||(s.range=new D(i.lineNumber,i.column,i.lineNumber,i.column)),s})}})}function ime(o,e){return Sc.register(o,e)}function nme(o,e){return Ed.register(o,e)}function ome(o,e){return Hb.register(o,e)}function rme(o,e){return Hh.register(o,e)}function sme(o,e){return Wm.register(o,e)}function ame(o,e){return Um.register(o,e)}function lme(o,e){return za.register(o,e)}function cme(o,e,t){return Ts.register(o,{providedCodeActionKinds:t==null?void 0:t.providedCodeActionKinds,provideCodeActions:(i,n,r,s)=>{let a=ri.markerService.get().read({resource:i.uri}).filter(l=>D.areIntersectingOrTouching(l,n));return e.provideCodeActions(i,n,{markers:a,only:r.only},s)},resolveCodeAction:e.resolveCodeAction})}function dme(o,e){return Wf.register(o,e)}function hme(o,e){return Ns.register(o,e)}function ume(o,e){return zm.register(o,e)}function fme(o,e){return $h.register(o,e)}function gme(o,e){return ss.register(o,e)}function mme(o,e){return Kh.register(o,e)}function pme(o,e){return M0.register(o,e)}function _me(o,e){return jm.register(o,e)}function bme(o,e){return $b.register(o,e)}function vme(o,e){return Yh.register(o,e)}function wme(o,e){return Vm.register(o,e)}function Cme(o,e){return R0.register(o,e)}function yme(o,e){return Ec.register(o,e)}function CZ(){return{register:Vge,getLanguages:Hge,onLanguage:Kge,getEncodedLanguageId:$ge,setLanguageConfiguration:Yge,setColorMap:Zge,setTokensProvider:Gge,setMonarchTokensProvider:Xge,registerReferenceProvider:Qge,registerRenameProvider:Jge,registerCompletionItemProvider:gme,registerSignatureHelpProvider:eme,registerHoverProvider:tme,registerDocumentSymbolProvider:ime,registerDocumentHighlightProvider:nme,registerLinkedEditingRangeProvider:ome,registerDefinitionProvider:rme,registerImplementationProvider:sme,registerTypeDefinitionProvider:ame,registerCodeLensProvider:lme,registerCodeActionProvider:cme,registerDocumentFormattingEditProvider:dme,registerDocumentRangeFormattingEditProvider:hme,registerOnTypeFormattingEditProvider:ume,registerLinkProvider:fme,registerColorProvider:mme,registerFoldingRangeProvider:pme,registerDeclarationProvider:_me,registerSelectionRangeProvider:bme,registerDocumentSemanticTokensProvider:vme,registerDocumentRangeSemanticTokensProvider:wme,registerInlineCompletionsProvider:Cme,registerInlayHintsProvider:yme,DocumentHighlightKind:$x,CompletionItemKind:jx,CompletionItemTag:Wx,CompletionItemInsertTextRule:Bx,SymbolKind:uD,SymbolTag:fD,IndentAction:Gx,CompletionTriggerKind:Ux,SignatureHelpTriggerKind:hD,InlayHintKind:Xx,InlineCompletionTriggerKind:Qx,FoldingRangeKind:aa}}wt();P5();var R5;Jr.wrappingIndent.defaultValue=0;Jr.glyphMargin.defaultValue=!1;Jr.autoIndent.defaultValue=3;Jr.overviewRulerLanes.defaultValue=2;ju.setFormatterSelector((o,e,t)=>Promise.resolve(o[0]));var Hr=bD();Hr.editor=gZ();Hr.languages=CZ();var Lme=Hr.CancellationTokenSource,kme=Hr.Emitter,M5=Hr.KeyCode,A5=Hr.KeyMod,Ime=Hr.Position,Ome=Hr.Range,Tme=Hr.Selection,Nme=Hr.SelectionDirection,Pme=Hr.MarkerSeverity,Rme=Hr.MarkerTag,Mme=Hr.Uri,Ame=Hr.Token,TO=Hr.editor,Fme=Hr.languages;(((R5=vi.MonacoEnvironment)===null||R5===void 0?void 0:R5.globalAPI)||typeof define=="function"&&define.amd)&&(self.monaco=Hr);typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});ls();Na();Dt();ai();Yi();xe();_t();var Bme=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},jme=function(o,e){return function(t,i){e(t,i,o)}},PO=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},RO=new be("selectionAnchorSet",!1),Wu=class xZ{constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=RO.bindTo(t),this.modelChangeListener=e.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(e){return e.getContribution(xZ.ID)}setSelectionAnchor(){if(this.editor.hasModel()){let e=this.editor.getPosition(),t=this.decorationId?[this.decorationId]:[],i=this.editor.deltaDecorations(t,[{range:de.fromPositions(e,e),options:{description:"selection-anchor",stickiness:1,hoverMessage:new ps().appendText(g("selectionAnchor","Selection Anchor")),className:"selection-anchor"}}]);this.decorationId=i[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),un(g("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){let e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){let e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){let t=this.editor.getPosition();this.editor.setSelection(de.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};Wu.ID="editor.contrib.selectionAnchorController";Wu=Bme([jme(1,Ce)],Wu);var DZ=class extends _e{constructor(){super({id:"editor.action.setSelectionAnchor",label:g("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:A.editorTextFocus,primary:Ji(2048|41,2048|32),weight:100}})}run(e,t){return PO(this,void 0,void 0,function*(){Wu.get(t).setSelectionAnchor()})}},LZ=class extends _e{constructor(){super({id:"editor.action.goToSelectionAnchor",label:g("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:RO})}run(e,t){return PO(this,void 0,void 0,function*(){Wu.get(t).goToSelectionAnchor()})}},kZ=class extends _e{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:g("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:RO,kbOpts:{kbExpr:A.editorTextFocus,primary:Ji(2048|41,2048|41),weight:100}})}run(e,t){return PO(this,void 0,void 0,function*(){Wu.get(t).selectFromAnchorToCursor()})}},IZ=class extends _e{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:g("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:RO,kbOpts:{kbExpr:A.editorTextFocus,primary:9,weight:100}})}run(e,t){return PO(this,void 0,void 0,function*(){Wu.get(t).cancelSelectionAnchor()})}};Qe(Wu.ID,Wu);le(DZ);le(LZ);le(kZ);le(IZ);tt();ne();Dt();ot();ve();ai();Yi();Os();Wn();Ws();xe();No();yi();dt();var Wme=j("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},g("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets.")),OZ=class extends _e{constructor(){super({id:"editor.action.jumpToBracket",label:g("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:A.editorTextFocus,primary:2048|1024|88,weight:100}})}run(e,t){let i=Yl.get(t);!i||i.jumpToBracket()}},TZ=class extends _e{constructor(){super({id:"editor.action.selectToBracket",label:g("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,i){let n=Yl.get(t);if(!n)return;let r=!0;i&&i.selectBrackets===!1&&(r=!1),n.selectToBracket(r)}},NZ=class{constructor(e,t,i){this.position=e,this.brackets=t,this.options=i}},Yl=class extends ${constructor(e){super();this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new bt(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(63),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition(t=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelContent(t=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModel(t=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelLanguageConfiguration(t=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(63)&&(this._matchBrackets=this._editor.getOption(63),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(e.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(e){return e.getContribution(Yl.ID)}jumpToBracket(){if(!this._editor.hasModel())return;let e=this._editor.getModel(),t=this._editor.getSelections().map(i=>{let n=i.getStartPosition(),r=e.bracketPairs.matchBracket(n),s=null;if(r)r[0].containsPosition(n)?s=r[1].getStartPosition():r[1].containsPosition(n)&&(s=r[0].getStartPosition());else{let a=e.bracketPairs.findEnclosingBrackets(n);if(a)s=a[0].getStartPosition();else{let l=e.bracketPairs.findNextBracket(n);l&&l.range&&(s=l.range.getStartPosition())}}return s?new de(s.lineNumber,s.column,s.lineNumber,s.column):new de(n.lineNumber,n.column,n.lineNumber,n.column)});this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;let t=this._editor.getModel(),i=[];this._editor.getSelections().forEach(n=>{let r=n.getStartPosition(),s=t.bracketPairs.matchBracket(r);if(!s&&(s=t.bracketPairs.findEnclosingBrackets(r),!s)){let c=t.bracketPairs.findNextBracket(r);c&&c.range&&(s=t.bracketPairs.matchBracket(c.range.getStartPosition()))}let a=null,l=null;if(s){s.sort(D.compareRangesUsingStarts);let[c,d]=s;if(a=e?c.getStartPosition():c.getEndPosition(),l=e?d.getEndPosition():d.getStartPosition(),d.containsPosition(r)){let h=a;a=l,l=h}}a&&l&&i.push(new de(a.lineNumber,a.column,l.lineNumber,l.column))}),i.length>0&&(this._editor.setSelections(i),this._editor.revealRange(i[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();let e=[],t=0;for(let i of this._lastBracketsData){let n=i.brackets;n&&(e[t++]={range:n[0],options:i.options},e[t++]={range:n[1],options:i.options})}this._decorations=this._editor.deltaDecorations(this._decorations,e)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}let e=this._editor.getSelections();if(e.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}let t=this._editor.getModel(),i=t.getVersionId(),n=[];this._lastVersionId===i&&(n=this._lastBracketsData);let r=[],s=0;for(let h=0,u=e.length;h<u;h++){let f=e[h];f.isEmpty()&&(r[s++]=f.getStartPosition())}r.length>1&&r.sort(H.compare);let a=[],l=0,c=0,d=n.length;for(let h=0,u=r.length;h<u;h++){let f=r[h];for(;c<d&&n[c].position.isBefore(f);)c++;if(c<d&&n[c].position.equals(f))a[l++]=n[c];else{let p=t.bracketPairs.matchBracket(f),b=Yl._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!p&&this._matchBrackets==="always"&&(p=t.bracketPairs.findEnclosingBrackets(f,20),b=Yl._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),a[l++]=new NZ(f,p,b)}}this._lastBracketsData=a,this._lastVersionId=i}};Yl.ID="editor.contrib.bracketMatchingController";Yl._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=Ze.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:Ii(Wme),position:Oo.Center}});Yl._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=Ze.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"});Qe(Yl.ID,Yl);le(TZ);le(OZ);gt((o,e)=>{let t=o.getColor(JH);t&&e.addRule(`.monaco-editor .bracket-match { background-color: ${t}; }`);let i=o.getColor(Lk);i&&e.addRule(`.monaco-editor .bracket-match { border: 1px solid ${i}; }`)});Vo.appendMenuItem(De.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:g({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});Dt();Yi();ve();ai();var F5=class{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;let i=this._selection.startLineNumber,n=this._selection.startColumn,r=this._selection.endColumn;if(!(this._isMovingLeft&&n===1)&&!(!this._isMovingLeft&&r===e.getLineMaxColumn(i)))if(this._isMovingLeft){let s=new D(i,n-1,i,n),a=e.getValueInRange(s);t.addEditOperation(s,null),t.addEditOperation(new D(i,r,i,r),a)}else{let s=new D(i,r,i,r+1),a=e.getValueInRange(s);t.addEditOperation(s,null),t.addEditOperation(new D(i,n,i,n),a)}}computeCursorState(e,t){return this._isMovingLeft?new de(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new de(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}};xe();var B5=class extends _e{constructor(e,t){super(t);this.left=e}run(e,t){if(!t.hasModel())return;let i=[],n=t.getSelections();for(let r of n)i.push(new F5(r,this.left));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}},PZ=class extends B5{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:g("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:A.writable})}},RZ=class extends B5{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:g("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:A.writable})}};le(PZ);le(RZ);Dt();ve();Yi();xe();var MZ=class extends _e{constructor(){super({id:"editor.action.transposeLetters",label:g("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:A.writable,kbOpts:{kbExpr:A.textInputFocus,primary:0,mac:{primary:256|50},weight:100}})}run(e,t){if(!t.hasModel())return;let i=t.getModel(),n=[],r=t.getSelections();for(let s of r){if(!s.isEmpty())continue;let a=s.startLineNumber,l=s.startColumn,c=i.getLineMaxColumn(a);if(a===1&&(l===1||l===2&&c===2))continue;let d=l===c?s.getPosition():Zt.rightPosition(i,s.getPosition().lineNumber,s.getPosition().column),h=Zt.leftPosition(i,d),u=Zt.leftPosition(i,h),f=i.getValueInRange(D.fromPositions(u,h)),p=i.getValueInRange(D.fromPositions(h,d)),b=D.fromPositions(u,d);n.push(new Dn(b,p+f))}n.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop())}};le(MZ);Lo();wt();Dt();_o();Yi();xe();No();var Ume=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},a_="9_cutcopypaste",zme=Xr||document.queryCommandSupported("cut"),AZ=Xr||document.queryCommandSupported("copy"),Vme=typeof navigator.clipboard=="undefined"||On?document.queryCommandSupported("paste"):!0;function j5(o){return o.register(),o}var Hme=zme?j5(new qf({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:Xr?{primary:2048|54,win:{primary:2048|54,secondary:[1024|20]},weight:100}:void 0,menuOpts:[{menuId:De.MenubarEditMenu,group:"2_ccp",title:g({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:De.EditorContext,group:a_,title:g("actions.clipboard.cutLabel","Cut"),when:A.writable,order:1},{menuId:De.CommandPalette,group:"",title:g("actions.clipboard.cutLabel","Cut"),order:1},{menuId:De.SimpleEditorContext,group:a_,title:g("actions.clipboard.cutLabel","Cut"),when:A.writable,order:1}]})):void 0,$me=AZ?j5(new qf({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:Xr?{primary:2048|33,win:{primary:2048|33,secondary:[2048|19]},weight:100}:void 0,menuOpts:[{menuId:De.MenubarEditMenu,group:"2_ccp",title:g({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:De.EditorContext,group:a_,title:g("actions.clipboard.copyLabel","Copy"),order:2},{menuId:De.CommandPalette,group:"",title:g("actions.clipboard.copyLabel","Copy"),order:1},{menuId:De.SimpleEditorContext,group:a_,title:g("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;Vo.appendMenuItem(De.MenubarEditMenu,{submenu:De.MenubarCopy,title:{value:g("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3});Vo.appendMenuItem(De.EditorContext,{submenu:De.EditorContextCopy,title:{value:g("copy as","Copy As"),original:"Copy As"},group:a_,order:3});var W5=Vme?j5(new qf({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:Xr?{primary:2048|52,win:{primary:2048|52,secondary:[1024|19]},linux:{primary:2048|52,secondary:[1024|19]},weight:100}:void 0,menuOpts:[{menuId:De.MenubarEditMenu,group:"2_ccp",title:g({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:De.EditorContext,group:a_,title:g("actions.clipboard.pasteLabel","Paste"),when:A.writable,order:4},{menuId:De.CommandPalette,group:"",title:g("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:De.SimpleEditorContext,group:a_,title:g("actions.clipboard.pasteLabel","Paste"),when:A.writable,order:4}]})):void 0,FZ=class extends _e{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:g("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:A.textInputFocus,primary:0,weight:100}})}run(e,t){!t.hasModel()||!t.getOption(32)&&t.getSelection().isEmpty()||(oy.forceCopyWithSyntaxHighlighting=!0,t.focus(),document.execCommand("copy"),oy.forceCopyWithSyntaxHighlighting=!1)}};function BZ(o,e){!o||(o.addImplementation(1e4,"code-editor",(t,i)=>{let n=t.get(Ot).getFocusedCodeEditor();if(n&&n.hasTextFocus()){let r=n.getOption(32),s=n.getSelection();return s&&s.isEmpty()&&!r||document.execCommand(e),!0}return!1}),o.addImplementation(0,"generic-dom",(t,i)=>(document.execCommand(e),!0)))}BZ(Hme,"cut");BZ($me,"copy");W5&&(W5.addImplementation(1e4,"code-editor",(o,e)=>{let t=o.get(Ot),i=o.get(Hs),n=t.getFocusedCodeEditor();return n&&n.hasTextFocus()?!document.execCommand("paste")&&na?(()=>Ume(void 0,void 0,void 0,function*(){let s=yield i.readText();if(s!==""){let a=xp.INSTANCE.get(s),l=!1,c=null,d=null;a&&(l=n.getOption(32)&&!!a.isFromEmptySelection,c=typeof a.multicursorText!="undefined"?a.multicursorText:null,d=a.mode),n.trigger("keyboard","paste",{text:s,pasteOnNewLine:l,multicursorText:c,mode:d})}}))():!0:!1}),W5.addImplementation(0,"generic-dom",(o,e)=>(document.execCommand("paste"),!0)));AZ&&le(FZ);Dt();Ei();var Fg=class{constructor(e){this.executor=e,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};ne();je();Dt();Yi();Ut();Ei();st();ne();Ai();Wc();ve();ai();Tt();xr();zi();$l();var Pt=class{constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||this.value===""||e.value.startsWith(this.value+Pt.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(e){return new Pt(this.value+Pt.sep+e)}};Pt.sep=".";Pt.None=new Pt("@@none@@");Pt.Empty=new Pt("");Pt.QuickFix=new Pt("quickfix");Pt.Refactor=new Pt("refactor");Pt.Source=new Pt("source");Pt.SourceOrganizeImports=Pt.Source.append("organizeImports");Pt.SourceFixAll=Pt.Source.append("fixAll");function jZ(o,e){return!(o.include&&!o.include.intersects(e)||o.excludes&&o.excludes.some(t=>UZ(e,t,o.include))||!o.includeSourceActions&&Pt.Source.contains(e))}function WZ(o,e){let t=e.kind?new Pt(e.kind):void 0;return!(o.include&&(!t||!o.include.contains(t))||o.excludes&&t&&o.excludes.some(i=>UZ(t,i,o.include))||!o.includeSourceActions&&t&&Pt.Source.contains(t)||o.onlyIncludePreferredActions&&!e.isPreferred)}function UZ(o,e,t){return!(!e.contains(o)||t&&e.contains(t))}var il=class{constructor(e,t,i){this.kind=e,this.apply=t,this.preferred=i}static fromUser(e,t){return!e||typeof e!="object"?new il(t.kind,t.apply,!1):new il(il.getKindFromUser(e,t.kind),il.getApplyFromUser(e,t.apply),il.getPreferredUser(e))}static getApplyFromUser(e,t){switch(typeof e.apply=="string"?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return typeof e.kind=="string"?new Pt(e.kind):t}static getPreferredUser(e){return typeof e.preferred=="boolean"?e.preferred:!1}};var U5=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},MO="editor.action.codeAction",AO="editor.action.refactor",FO="editor.action.sourceAction",hS="editor.action.organizeImports",uS="editor.action.fixAll",BO=class{constructor(e,t){this.action=e,this.provider=t}resolve(e){var t;return U5(this,void 0,void 0,function*(){if(((t=this.provider)===null||t===void 0?void 0:t.resolveCodeAction)&&!this.action.edit){let i;try{i=yield this.provider.resolveCodeAction(this.action,e)}catch(n){Di(n)}i&&(this.action.edit=i.edit)}return this})}},jO=class extends ${constructor(e,t,i){super();this.documentation=t,this._register(i),this.allActions=[...e].sort(jO.codeActionsComparator),this.validActions=this.allActions.filter(({action:n})=>!n.disabled)}static codeActionsComparator({action:e},{action:t}){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:kn(e.diagnostics)?kn(t.diagnostics)?e.diagnostics[0].message.localeCompare(t.diagnostics[0].message):-1:kn(t.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:e})=>!!e.kind&&Pt.QuickFix.contains(new Pt(e.kind))&&!!e.isPreferred)}},zZ={actions:[],documentation:void 0};function fS(o,e,t,i,n){var r;let s=t.filter||{},a={only:(r=s.include)===null||r===void 0?void 0:r.value,trigger:t.type},l=new mw(o,n),c=Kme(o,s),d=new Q,h=c.map(f=>U5(this,void 0,void 0,function*(){try{i.report(f);let p=yield f.provideCodeActions(o,e,a,l.token);if(p&&d.add(p),l.token.isCancellationRequested)return zZ;let b=((p==null?void 0:p.actions)||[]).filter(y=>y&&WZ(s,y)),v=Yme(f,b,s.include);return{actions:b.map(y=>new BO(y,f)),documentation:v}}catch(p){if(es(p))throw p;return Di(p),zZ}})),u=Ts.onDidChange(()=>{let f=Ts.all(o);eo(f,c)||l.cancel()});return Promise.all(h).then(f=>{let p=mx(f.map(v=>v.actions)),b=hd(f.map(v=>v.documentation));return new jO(p,b,d)}).finally(()=>{u.dispose(),l.dispose()})}function Kme(o,e){return Ts.all(o).filter(t=>t.providedCodeActionKinds?t.providedCodeActionKinds.some(i=>jZ(e,new Pt(i))):!0)}function Yme(o,e,t){if(!o.documentation)return;let i=o.documentation.map(n=>({kind:new Pt(n.kind),command:n.command}));if(t){let n;for(let r of i)r.kind.contains(t)&&(n?n.kind.contains(r.kind)&&(n=r):n=r);if(n)return n==null?void 0:n.command}for(let n of e)if(!!n.kind){for(let r of i)if(r.kind.contains(new Pt(n.kind)))return r.command}}rt.registerCommand("_executeCodeActionProvider",function(o,e,t,i,n){return U5(this,void 0,void 0,function*(){if(!(e instanceof Ee))throw jr();let r=o.get(Ci).getModel(e);if(!r)throw jr();let s=de.isISelection(t)?de.liftSelection(t):D.isIRange(t)?r.validateRange(t):void 0;if(!s)throw jr();let a=typeof i=="string"?new Pt(i):void 0,l=yield fS(r,s,{type:1,filter:{includeSourceActions:!0,include:a}},Hl.None,qe.None),c=[],d=Math.min(l.validActions.length,typeof n=="number"?n:0);for(let h=0;h<d;h++)c.push(l.validActions[h].resolve(qe.None));try{return yield Promise.all(c),l.validActions.map(h=>h.action)}finally{setTimeout(()=>l.dispose(),100)}})});st();ne();ls();tt();ne();Dt();ve();xe();_t();var qme=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},Zme=function(o,e){return function(t,i){e(t,i,o)}},Or=class z5{constructor(e,t){this._messageWidget=new _n,this._messageListeners=new Q,this._editor=e,this._visible=z5.MESSAGE_VISIBLE.bindTo(t),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(e){return e.getContribution(z5.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){un(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new V5(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new Fi(()=>this.closeMessage(),3e3));let i;this._messageListeners.add(this._editor.onMouseMove(n=>{!n.target.position||(i?i.containsPosition(n.target.position)||this.closeMessage():i=new D(t.lineNumber-3,1,n.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(V5.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(g("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}};Or.ID="editor.contrib.messageController";Or.MESSAGE_VISIBLE=new be("messageVisible",!1,g("messageVisible","Whether the editor is currently showing an inline message"));Or=qme([Zme(1,Ce)],Or);var Gme=Hi.bindToContribution(Or.get);ue(new Gme({id:"leaveEditorMessage",precondition:Or.MESSAGE_VISIBLE,handler:o=>o.closeMessage(),kbOpts:{weight:100+30,primary:9}}));var V5=class{constructor(e,{lineNumber:t,column:i},n){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:i-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");let r=document.createElement("div");r.classList.add("anchor","top"),this._domNode.appendChild(r);let s=document.createElement("div");s.classList.add("message"),s.textContent=n,this._domNode.appendChild(s);let a=document.createElement("div");a.classList.add("anchor","below"),this._domNode.appendChild(a),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(e){let t,i=()=>{e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",i)};return t=setTimeout(i,110),e.getDomNode().addEventListener("animationend",i),e.getDomNode().classList.add("fadeOut"),{dispose:i}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(e){this._domNode.classList.toggle("below",e===2)}};Qe(Or.ID,Or);Ge();Me();cs();st();ne();ot();Tt();var Xme=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},VZ=function(o,e){return function(t,i){e(t,i,o)}},Qme=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},H5=class extends yo{constructor(e,t){super(e.command?e.command.id:e.title,Jme(e.title),void 0,!e.disabled,t);this.action=e}};function Jme(o){return o.replace(/\r\n|\r|\n/g," ")}var WO=class extends ${constructor(e,t,i,n){super();this._editor=e,this._delegate=t,this._contextMenuService=i,this._visible=!1,this._showingActions=this._register(new _n),this._keybindingResolver=new gS({getKeybindings:()=>n.getKeybindings()})}get isVisible(){return this._visible}show(e,t,i,n){return Qme(this,void 0,void 0,function*(){let r=n.includeDisabledActions?t.allActions:t.validActions;if(!r.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,fc();this._visible=!0,this._showingActions.value=t;let s=this.getMenuActions(e,r,t.documentation),a=H.isIPosition(i)?this._toCoords(i):i||{x:0,y:0},l=this._keybindingResolver.getResolver(),c=this._editor.getOption(114);this._contextMenuService.showContextMenu({domForShadowRoot:c?this._editor.getDomNode():void 0,getAnchor:()=>a,getActions:()=>s,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:d=>d instanceof H5?l(d.action):void 0})})}getMenuActions(e,t,i){var n,r;let s=d=>new H5(d.action,()=>this._delegate.onSelectCodeAction(d)),a=t.map(s),l=[...i],c=this._editor.getModel();if(c&&a.length)for(let d of Ts.all(c))d._getAdditionalMenuItems&&l.push(...d._getAdditionalMenuItems({trigger:e.type,only:(r=(n=e.filter)===null||n===void 0?void 0:n.include)===null||r===void 0?void 0:r.value},t.map(h=>h.action)));return l.length&&a.push(new fr,...l.map(d=>s(new BO({title:d.title,command:d},void 0)))),a}_toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();let t=this._editor.getScrolledVisiblePosition(e),i=Gi(this._editor.getDomNode()),n=i.left+t.left,r=i.top+t.top+t.height;return{x:n,y:r}}};WO=Xme([VZ(2,Vs),VZ(3,oi)],WO);var gS=class{constructor(e){this._keybindingProvider=e}getResolver(){let e=new Fg(()=>this._keybindingProvider.getKeybindings().filter(t=>gS.codeActionCommands.indexOf(t.command)>=0).filter(t=>t.resolvedKeybinding).map(t=>{let i=t.commandArgs;return t.command===hS?i={kind:Pt.SourceOrganizeImports.value}:t.command===uS&&(i={kind:Pt.SourceFixAll.value}),Object.assign({resolvedKeybinding:t.resolvedKeybinding},il.fromUser(i,{kind:Pt.None,apply:"never"}))}));return t=>{if(t.kind){let i=this.bestKeybindingForCodeAction(t,e.getValue());return i==null?void 0:i.resolvedKeybinding}}}bestKeybindingForCodeAction(e,t){if(!e.kind)return;let i=new Pt(e.kind);return t.filter(n=>n.kind.contains(i)).filter(n=>n.preferred?e.isPreferred:!0).reduceRight((n,r)=>n?n.kind.contains(r.kind)?r:n:r,void 0)}};gS.codeActionCommands=[AO,MO,FO,hS,uS];Me();en();Se();ne();Wn();xe();yi();dt();var epe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},tpe=function(o,e){return function(t,i){e(t,i,o)}},mS;(function(o){o.Hidden={type:0};class e{constructor(i,n,r,s){this.actions=i,this.trigger=n,this.editorPosition=r,this.widgetPosition=s,this.type=1}}o.Showing=e})(mS||(mS={}));var pS=class HZ extends ${constructor(e,t,i,n){super();this._editor=e,this._quickFixActionId=t,this._preferredFixActionId=i,this._keybindingService=n,this._onClick=this._register(new F),this.onClick=this._onClick.event,this._state=mS.Hidden,this._domNode=document.createElement("div"),this._domNode.className=z.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(r=>{let s=this._editor.getModel();(this.state.type!==1||!s||this.state.editorPosition.lineNumber>=s.getLineCount())&&this.hide()})),Bt.ignoreTarget(this._domNode),this._register(r6(this._domNode,r=>{if(this.state.type!==1)return;this._editor.focus(),r.preventDefault();let{top:s,height:a}=Gi(this._domNode),l=this._editor.getOption(58),c=Math.floor(l/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(c+=l),this._onClick.fire({x:r.posx,y:s+a+c,actions:this.state.actions,trigger:this.state.trigger})})),this._register(oe(this._domNode,"mouseenter",r=>{if((r.buttons&1)!==1)return;this.hide();let s=new ua;s.startMonitoring(r.target,r.buttons,Oc,()=>{},()=>{s.dispose()})})),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(56)&&!this._editor.getOption(56).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(e,t,i){if(e.validActions.length<=0)return this.hide();let n=this._editor.getOptions();if(!n.get(56).enabled)return this.hide();let r=this._editor.getModel();if(!r)return this.hide();let{lineNumber:s,column:a}=r.validatePosition(i),l=r.getOptions().tabSize,c=n.get(43),d=r.getLineContent(s),h=Po.computeIndentLevel(d,l),u=c.spaceWidth*h>22,f=b=>b>2&&this._editor.getTopForLineNumber(b)===this._editor.getTopForLineNumber(b-1),p=s;if(!u){if(s>1&&!f(s-1))p-=1;else if(!f(s+1))p+=1;else if(a*c.spaceWidth<22)return this.hide()}this.state=new mS.Showing(e,t,i,{position:{lineNumber:p,column:1},preference:HZ._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=mS.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...z.lightBulb.classNamesArray),this._domNode.classList.add(...z.lightbulbAutofix.classNamesArray);let t=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(t){this.title=g("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",t.getLabel());return}}this._domNode.classList.remove(...z.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...z.lightBulb.classNamesArray);let e=this._keybindingService.lookupKeybinding(this._quickFixActionId);e?this.title=g("codeActionWithKb","Show Code Actions ({0})",e.getLabel()):this.title=g("codeAction","Show Code Actions")}set title(e){this._domNode.title=e}};pS._posPref=[0];pS=epe([tpe(3,oi)],pS);gt((o,e)=>{var t;let i=(t=o.getColor(Ho))===null||t===void 0?void 0:t.transparent(.7),n=o.getColor(tV);n&&e.addRule(`
		.monaco-editor .contentWidgets ${z.lightBulb.cssSelector} {
			color: ${n};
			background-color: ${i};
		}`);let r=o.getColor(iV);r&&e.addRule(`
		.monaco-editor .contentWidgets ${z.lightbulbAutofix.cssSelector} {
			color: ${r};
			background-color: ${i};
		}`)});var ipe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},npe=function(o,e){return function(t,i){e(t,i,o)}},$5=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},ope=function(o,e,t,i,n){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?o!==e||!n:!e.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?n.call(o,t):n?n.value=t:e.set(o,t),t},rpe=function(o,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?o!==e||!i:!e.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(o):i?i.value:e.get(o)},UO,zO=class extends ${constructor(e,t,i,n,r){super();this._editor=e,this.delegate=n,this._activeCodeActions=this._register(new _n),UO.set(this,!1),this._codeActionWidget=new Fg(()=>this._register(r.createInstance(WO,this._editor,{onSelectCodeAction:s=>$5(this,void 0,void 0,function*(){this.delegate.applyCodeAction(s,!0)})}))),this._lightBulbWidget=new Fg(()=>{let s=this._register(r.createInstance(pS,this._editor,t,i));return this._register(s.onClick(a=>this.showCodeActionList(a.trigger,a.actions,a,{includeDisabledActions:!1}))),s})}dispose(){ope(this,UO,!0,"f"),super.dispose()}update(e){var t,i,n;return $5(this,void 0,void 0,function*(){if(e.type!==1){(t=this._lightBulbWidget.rawValue)===null||t===void 0||t.hide();return}let r;try{r=yield e.actions}catch(s){ye(s);return}if(!rpe(this,UO,"f"))if(this._lightBulbWidget.getValue().update(r,e.trigger,e.position),e.trigger.type===1){if((i=e.trigger.filter)===null||i===void 0?void 0:i.include){let a=this.tryGetValidActionToApply(e.trigger,r);if(a){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(a,!1)}finally{r.dispose()}return}if(e.trigger.context){let l=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,r);if(l&&l.action.disabled){Or.get(this._editor).showMessage(l.action.disabled,e.trigger.context.position),r.dispose();return}}}let s=!!((n=e.trigger.filter)===null||n===void 0?void 0:n.include);if(e.trigger.context&&(!r.allActions.length||!s&&!r.validActions.length)){Or.get(this._editor).showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=r,r.dispose();return}this._activeCodeActions.value=r,this._codeActionWidget.getValue().show(e.trigger,r,e.position,{includeDisabledActions:s})}else this._codeActionWidget.getValue().isVisible?r.dispose():this._activeCodeActions.value=r})}getInvalidActionThatWouldHaveBeenApplied(e,t){if(!!t.allActions.length&&(e.autoApply==="first"&&t.validActions.length===0||e.autoApply==="ifSingle"&&t.allActions.length===1))return t.allActions.find(({action:i})=>i.disabled)}tryGetValidActionToApply(e,t){if(!!t.validActions.length&&(e.autoApply==="first"&&t.validActions.length>0||e.autoApply==="ifSingle"&&t.validActions.length===1))return t.validActions[0]}showCodeActionList(e,t,i,n){return $5(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(e,t,i,n)})}};UO=new WeakMap;zO=ipe([npe(4,Ve)],zO);xe();zi();_t();Ge();$l();gp();tt();st();Se();ne();Er();ve();Tt();_t();$l();var K5=function(o,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?o!==e||!i:!e.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(o):i?i.value:e.get(o)},spe=function(o,e,t,i,n){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?o!==e||!n:!e.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?n.call(o,t):n?n.value=t:e.set(o,t),t},zw,Y5=new be("supportedCodeAction",""),$Z=class extends ${constructor(e,t,i,n=250){super();this._editor=e,this._markerService=t,this._signalChange=i,this._delay=n,this._autoTriggerTimer=this._register(new Fi),this._register(this._markerService.onMarkerChanged(r=>this._onMarkerChanges(r))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(e){let t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);return this._createEventAndSignalChange(e,t)}_onMarkerChanges(e){let t=this._editor.getModel();!t||e.some(i=>WD(i,t.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(e){let t=this._editor.getModel();if(!!t)for(let i of this._markerService.read({resource:t.uri})){let n=t.validateRange(i);if(D.intersectRanges(n,e))return D.lift(n)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(!this._editor.hasModel())return;let t=this._editor.getModel(),i=this._editor.getSelection();if(i.isEmpty()&&e.type===2){let{lineNumber:n,column:r}=i.getPosition(),s=t.getLineContent(n);if(s.length===0)return;if(r===1){if(/\s/.test(s[0]))return}else if(r===t.getLineMaxColumn(n)){if(/\s/.test(s[s.length-1]))return}else if(/\s/.test(s[r-2])&&/\s/.test(s[r-1]))return}return i}_createEventAndSignalChange(e,t){let i=this._editor.getModel();if(!t||!i){this._signalChange(void 0);return}let n=this._getRangeOfMarker(t),r=n?n.getStartPosition():t.getStartPosition(),s={trigger:e,selection:t,position:r};return this._signalChange(s),s}},l_;(function(o){o.Empty={type:0};class e{constructor(i,n,r,s){this.trigger=i,this.rangeOrSelection=n,this.position=r,this._cancellablePromise=s,this.type=1,this.actions=s.catch(a=>{if(es(a))return ape;throw a})}cancel(){this._cancellablePromise.cancel()}}o.Triggered=e})(l_||(l_={}));var ape={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1},q5=class extends ${constructor(e,t,i,n){super();this._editor=e,this._markerService=t,this._progressService=n,this._codeActionOracle=this._register(new _n),this._state=l_.Empty,this._onDidChangeState=this._register(new F),this.onDidChangeState=this._onDidChangeState.event,zw.set(this,!1),this._supportedCodeActions=Y5.bindTo(i),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(Ts.onDidChange(()=>this._update())),this._update()}dispose(){K5(this,zw,"f")||(spe(this,zw,!0,"f"),super.dispose(),this.setState(l_.Empty,!0))}_update(){if(K5(this,zw,"f"))return;this._codeActionOracle.value=void 0,this.setState(l_.Empty);let e=this._editor.getModel();if(e&&Ts.has(e)&&!this._editor.getOption(80)){let t=[];for(let i of Ts.all(e))Array.isArray(i.providedCodeActionKinds)&&t.push(...i.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new $Z(this._editor,this._markerService,i=>{var n;if(!i){this.setState(l_.Empty);return}let r=wi(s=>fS(e,i.selection,i.trigger,Hl.None,s));i.trigger.type===1&&((n=this._progressService)===null||n===void 0||n.showWhile(r,250)),this.setState(new l_.Triggered(i.trigger,i.selection,i.position,r))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(e){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(e)}setState(e,t){e!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=e,!t&&!K5(this,zw,"f")&&this._onDidChangeState.fire(e))}};zw=new WeakMap;var lpe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},VO=function(o,e){return function(t,i){e(t,i,o)}},KZ=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})};function _S(o){return pe.regex(Y5.keys()[0],new RegExp("(\\s|^)"+wo(o.value)+"\\b"))}var Z5={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:g("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:g("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[g("args.schema.apply.first","Always apply the first returned code action."),g("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),g("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:g("args.schema.preferred","Controls if only preferred code actions should be returned.")}}},Uu=class YZ extends ${constructor(e,t,i,n,r){super();this._instantiationService=r,this._editor=e,this._model=this._register(new q5(this._editor,t,i,n)),this._register(this._model.onDidChangeState(s=>this.update(s))),this._ui=new Fg(()=>this._register(new zO(e,zu.Id,d_.Id,{applyCodeAction:(s,a)=>KZ(this,void 0,void 0,function*(){try{yield this._applyCodeAction(s)}finally{a&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(e){return e.getContribution(YZ.ID)}update(e){this._ui.getValue().update(e)}showCodeActions(e,t,i){return this._ui.getValue().showCodeActionList(e,t,i,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(e,t,i){if(!this._editor.hasModel())return;Or.get(this._editor).closeMessage();let n=this._editor.getPosition();this._trigger({type:1,filter:t,autoApply:i,context:{notAvailableMessage:e,position:n}})}_trigger(e){return this._model.trigger(e)}_applyCodeAction(e){return this._instantiationService.invokeFunction(cpe,e,this._editor)}};Uu.ID="editor.contrib.quickFixController";Uu=lpe([VO(1,Au),VO(2,Ce),VO(3,Vr),VO(4,Ve)],Uu);function cpe(o,e,t){return KZ(this,void 0,void 0,function*(){let i=o.get(lv),n=o.get(li),r=o.get($a),s=o.get(fi);if(r.publicLog2("codeAction.applyCodeAction",{codeActionTitle:e.action.title,codeActionKind:e.action.kind,codeActionIsPreferred:!!e.action.isPreferred}),yield e.resolve(qe.None),e.action.edit&&(yield i.apply(ip.convert(e.action.edit),{editor:t,label:e.action.title})),e.action.command)try{yield n.executeCommand(e.action.command.id,...e.action.command.arguments||[])}catch(a){let l=dpe(a);s.error(typeof l=="string"?l:g("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function dpe(o){return typeof o=="string"?o:o instanceof Error&&typeof o.message=="string"?o.message:void 0}function c_(o,e,t,i){if(o.hasModel()){let n=Uu.get(o);n&&n.manualTriggerAtCurrentPosition(e,t,i)}}var zu=class extends _e{constructor(){super({id:zu.Id,label:g("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:pe.and(A.writable,A.hasCodeActionsProvider),kbOpts:{kbExpr:A.editorTextFocus,primary:2048|84,weight:100}})}run(e,t){return c_(t,g("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}};zu.Id="editor.action.quickFix";var G5=class extends Hi{constructor(){super({id:MO,precondition:pe.and(A.writable,A.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:Z5}]}})}runEditorCommand(e,t,i){let n=il.fromUser(i,{kind:Pt.Empty,apply:"ifSingle"});return c_(t,typeof(i==null?void 0:i.kind)=="string"?n.preferred?g("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",i.kind):g("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",i.kind):n.preferred?g("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):g("editor.action.codeAction.noneMessage","No code actions available"),{include:n.kind,includeSourceActions:!0,onlyIncludePreferredActions:n.preferred},n.apply)}},X5=class extends _e{constructor(){super({id:AO,label:g("refactor.label","Refactor..."),alias:"Refactor...",precondition:pe.and(A.writable,A.hasCodeActionsProvider),kbOpts:{kbExpr:A.editorTextFocus,primary:2048|1024|48,mac:{primary:256|1024|48},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:pe.and(A.writable,_S(Pt.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:Z5}]}})}run(e,t,i){let n=il.fromUser(i,{kind:Pt.Refactor,apply:"never"});return c_(t,typeof(i==null?void 0:i.kind)=="string"?n.preferred?g("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",i.kind):g("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",i.kind):n.preferred?g("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):g("editor.action.refactor.noneMessage","No refactorings available"),{include:Pt.Refactor.contains(n.kind)?n.kind:Pt.None,onlyIncludePreferredActions:n.preferred},n.apply)}},Q5=class extends _e{constructor(){super({id:FO,label:g("source.label","Source Action..."),alias:"Source Action...",precondition:pe.and(A.writable,A.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:pe.and(A.writable,_S(Pt.Source))},description:{description:"Source Action...",args:[{name:"args",schema:Z5}]}})}run(e,t,i){let n=il.fromUser(i,{kind:Pt.Source,apply:"never"});return c_(t,typeof(i==null?void 0:i.kind)=="string"?n.preferred?g("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",i.kind):g("editor.action.source.noneMessage.kind","No source actions for '{0}' available",i.kind):n.preferred?g("editor.action.source.noneMessage.preferred","No preferred source actions available"):g("editor.action.source.noneMessage","No source actions available"),{include:Pt.Source.contains(n.kind)?n.kind:Pt.None,includeSourceActions:!0,onlyIncludePreferredActions:n.preferred},n.apply)}},J5=class extends _e{constructor(){super({id:hS,label:g("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:pe.and(A.writable,_S(Pt.SourceOrganizeImports)),kbOpts:{kbExpr:A.editorTextFocus,primary:1024|512|45,weight:100}})}run(e,t){return c_(t,g("editor.action.organize.noneMessage","No organize imports action available"),{include:Pt.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}},e3=class extends _e{constructor(){super({id:uS,label:g("fixAll.label","Fix All"),alias:"Fix All",precondition:pe.and(A.writable,_S(Pt.SourceFixAll))})}run(e,t){return c_(t,g("fixAll.noneMessage","No fix all action available"),{include:Pt.SourceFixAll,includeSourceActions:!0},"ifSingle")}},d_=class extends _e{constructor(){super({id:d_.Id,label:g("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:pe.and(A.writable,_S(Pt.QuickFix)),kbOpts:{kbExpr:A.editorTextFocus,primary:512|1024|84,mac:{primary:2048|512|84},weight:100}})}run(e,t){return c_(t,g("editor.action.autoFix.noneMessage","No auto fixes available"),{include:Pt.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}};d_.Id="editor.action.autoFix";Qe(Uu.ID,Uu);le(zu);le(X5);le(Q5);le(J5);le(d_);le(e3);ue(new G5);Me();tt();st();Wb();ne();Wc();Dt();An();Yi();Tt();N0();Ei();st();ne();di();Ai();Tt();xr();zi();var qZ=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},bS=class{constructor(){this.lenses=[],this._disposables=new Q}dispose(){this._disposables.dispose()}add(e,t){this._disposables.add(e);for(let i of e.lenses)this.lenses.push({symbol:i,provider:t})}};function t3(o,e){return qZ(this,void 0,void 0,function*(){let t=za.ordered(o),i=new Map,n=new bS,r=t.map((s,a)=>qZ(this,void 0,void 0,function*(){i.set(s,a);try{let l=yield Promise.resolve(s.provideCodeLenses(o,e));l&&n.add(l,s)}catch(l){Di(l)}}));return yield Promise.all(r),n.lenses=n.lenses.sort((s,a)=>s.symbol.range.startLineNumber<a.symbol.range.startLineNumber?-1:s.symbol.range.startLineNumber>a.symbol.range.startLineNumber?1:i.get(s.provider)<i.get(a.provider)?-1:i.get(s.provider)>i.get(a.provider)?1:s.symbol.range.startColumn<a.symbol.range.startColumn?-1:s.symbol.range.startColumn>a.symbol.range.startColumn?1:0),n})}rt.registerCommand("_executeCodeLensProvider",function(o,...e){let[t,i]=e;$t(Ee.isUri(t)),$t(typeof i=="number"||!i);let n=o.get(Ci).getModel(t);if(!n)throw jr();let r=[],s=new Q;return t3(n,qe.None).then(a=>{s.add(a);let l=[];for(let c of a.lenses)i==null||Boolean(c.symbol.command)?r.push(c.symbol):i-- >0&&c.provider.resolveCodeLens&&l.push(Promise.resolve(c.provider.resolveCodeLens(n,c.symbol,qe.None)).then(d=>r.push(d||c.symbol)));return Promise.all(l)}).then(()=>r).finally(()=>{setTimeout(()=>s.dispose(),100)})});tt();Em();Is();ve();Dd();Ge();var hpe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},upe=function(o,e){return function(t,i){e(t,i,o)}},i3=Fe("ICodeLensCache"),n3=class{constructor(e,t){this.lineCount=e,this.data=t}},o3=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new ks(20,.75);let t="codelens/cache";m0(()=>e.remove(t,1));let i="codelens/cache2",n=e.get(i,1,"{}");this._deserialize(n),ra(e.onWillSaveState)(r=>{r.reason===Nw.SHUTDOWN&&e.store(i,this._serialize(),1,1)})}put(e,t){let i=t.lenses.map(s=>{var a;return{range:s.symbol.range,command:s.symbol.command&&{id:"",title:(a=s.symbol.command)===null||a===void 0?void 0:a.title}}}),n=new bS;n.add({lenses:i,dispose:()=>{}},this._fakeProvider);let r=new n3(e.getLineCount(),n);this._cache.set(e.uri.toString(),r)}get(e){let t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){let e=Object.create(null);for(let[t,i]of this._cache){let n=new Set;for(let r of i.data.lenses)n.add(r.symbol.range.startLineNumber);e[t]={lineCount:i.lineCount,lines:[...n.values()]}}return JSON.stringify(e)}_deserialize(e){try{let t=JSON.parse(e);for(let i in t){let n=t[i],r=[];for(let a of n.lines)r.push({range:new D(a,1,a,11)});let s=new bS;s.add({lenses:r,dispose(){}},this._fakeProvider),this._cache.set(i,new n3(n.lineCount,s))}}catch{}}};o3=hpe([upe(0,qs)],o3);as(i3,o3);Me();ve();Wn();var ZZ=class{constructor(e,t,i){this.afterLineNumber=e,this.heightInPx=t,this._onHeight=i,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){this._lastHeight===void 0?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}},vS=class{constructor(e,t,i){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id=`codelens.widget-${vS._idPool++}`,this.updatePosition(i),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${t}`}withCommands(e,t){this._commands.clear();let i=[],n=!1;for(let r=0;r<e.length;r++){let s=e[r];if(!!s&&(n=!0,s.command)){let a=Kl(s.command.title.trim());s.command.id?(i.push(se("a",{id:String(r),title:s.command.tooltip},...a)),this._commands.set(String(r),s.command)):i.push(se("span",{title:s.command.tooltip},...a)),r+1<e.length&&i.push(se("span",void 0,"\xA0|\xA0"))}}n?(kl(this._domNode,...i),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):kl(this._domNode,se("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){let t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}};vS._idPool=0;var wS=class{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){let t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let i=0,n=t.length;i<n;i++)this._addDecorationsCallbacks[i](t[i])}},HO=class{constructor(e,t,i,n,r,s,a){this._isDisposed=!1,this._editor=t,this._className=i,this._data=e,this._decorationIds=[];let l,c=[];this._data.forEach((d,h)=>{d.symbol.command&&c.push(d.symbol),n.addDecoration({range:d.symbol.range,options:Ze.EMPTY},u=>this._decorationIds[h]=u),l?l=D.plusRange(l,d.symbol.range):l=D.lift(d.symbol.range)}),this._viewZone=new ZZ(l.startLineNumber-1,s,a),this._viewZoneId=r.addZone(this._viewZone),c.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(c,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new vS(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t&&t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((e,t)=>{let i=this._editor.getModel().getDecorationRange(e),n=this._data[t].symbol;return!!(i&&D.isEmpty(n.range)===i.isEmpty())})}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach((i,n)=>{t.addDecoration({range:i.symbol.range,options:Ze.EMPTY},r=>this._decorationIds[n]=r)})}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){let i=e.getDecorationRange(this._decorationIds[t]);i&&(this._data[t].symbol.range=i)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){let i=e[t];if(i){let{symbol:n}=this._data[t];n.command=i.command||n.command}}}getCommand(e){var t;return(t=this._contentWidget)===null||t===void 0?void 0:t.getCommand(e)}getLineNumber(){let e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){let t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}};xe();zi();var fpe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},r3=function(o,e){return function(t,i){e(t,i,o)}},gpe=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},Vw=class{constructor(e,t,i,n){this._editor=e,this._commandService=t,this._notificationService=i,this._codeLensCache=n,this._disposables=new Q,this._localToDispose=new Q,this._lenses=[],this._getCodeLensModelDelays=new jf(za,250,2500),this._oldCodeLensModels=new Q,this._resolveCodeLensesDelays=new jf(za,250,2500),this._resolveCodeLensesScheduler=new bt(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(r=>{(r.hasChanged(43)||r.hasChanged(16)||r.hasChanged(15))&&this._updateLensStyle(),r.hasChanged(14)&&this._onModelChange()})),this._disposables.add(za.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+HD(this._editor.getId()).toString(16),this._styleElement=no(Pf(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(e=this._currentCodeLensModel)===null||e===void 0||e.dispose(),this._styleElement.remove()}_getLayoutInfo(){let e=this._editor.getOption(16),t;return!e||e<5?(e=this._editor.getOption(45)*.9|0,t=this._editor.getOption(58)):t=e*Math.max(1.3,this._editor.getOption(58)/this._editor.getOption(45))|0,{codeLensHeight:t,fontSize:e}}_updateLensStyle(){let{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),i=this._editor.getOption(15),n=this._editor.getOption(43),r=`--codelens-font-family${this._styleClassName}`,s=`--codelens-font-features${this._styleClassName}`,a=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${e}px; font-size: ${t}px; padding-right: ${Math.round(t*.5)}px; font-feature-settings: var(${s}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${e}px; font-size: ${t}px; }
		`;i&&(a+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${r}), ${In.fontFamily}}`),this._styleElement.textContent=a,this._editor.getContainerDomNode().style.setProperty(r,i??"inherit"),this._editor.getContainerDomNode().style.setProperty(s,n.fontFeatureSettings),this._editor.changeViewZones(l=>{for(let c of this._lenses)c.updateHeight(e,l)})}_localDispose(){var e,t,i;(e=this._getCodeLensModelPromise)===null||e===void 0||e.cancel(),this._getCodeLensModelPromise=void 0,(t=this._resolveCodeLensesPromise)===null||t===void 0||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(i=this._currentCodeLensModel)===null||i===void 0||i.dispose()}_onModelChange(){this._localDispose();let e=this._editor.getModel();if(!e||!this._editor.getOption(14))return;let t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!za.has(e)){t&&this._localToDispose.add(xl(()=>{let n=this._codeLensCache.get(e);t===n&&(this._codeLensCache.delete(e),this._onModelChange())},30*1e3));return}for(let n of za.all(e))if(typeof n.onDidChange=="function"){let r=n.onDidChange(()=>i.schedule());this._localToDispose.add(r)}let i=new bt(()=>{var n;let r=Date.now();(n=this._getCodeLensModelPromise)===null||n===void 0||n.cancel(),this._getCodeLensModelPromise=wi(s=>t3(e,s)),this._getCodeLensModelPromise.then(s=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=s,this._codeLensCache.put(e,s);let a=this._getCodeLensModelDelays.update(e,Date.now()-r);i.delay=a,this._renderCodeLensSymbols(s),this._resolveCodeLensesInViewportSoon()},ye)},this._getCodeLensModelDelays.get(e));this._localToDispose.add(i),this._localToDispose.add(ze(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(n=>{this._editor.changeViewZones(r=>{let s=[],a=-1;this._lenses.forEach(c=>{!c.isValid()||a===c.getLineNumber()?s.push(c):(c.update(r),a=c.getLineNumber())});let l=new wS;s.forEach(c=>{c.dispose(l,r),this._lenses.splice(this._lenses.indexOf(c),1)}),l.commit(n)})}),i.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{i.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(n=>{n.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(ze(()=>{if(this._editor.getModel()){let n=Xa.capture(this._editor);this._editor.changeDecorations(r=>{this._editor.changeViewZones(s=>{this._disposeAllLenses(r,s)})}),n.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(n=>{if(n.target.type!==9)return;let r=n.target.element;if((r==null?void 0:r.tagName)==="SPAN"&&(r=r.parentElement),(r==null?void 0:r.tagName)==="A")for(let s of this._lenses){let a=s.getCommand(r);if(a){this._commandService.executeCommand(a.id,...a.arguments||[]).catch(l=>this._notificationService.error(l));break}}})),i.schedule()}_disposeAllLenses(e,t){let i=new wS;for(let n of this._lenses)n.dispose(i,t);e&&i.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){if(!this._editor.hasModel())return;let t=this._editor.getModel().getLineCount(),i=[],n;for(let a of e.lenses){let l=a.symbol.range.startLineNumber;l<1||l>t||(n&&n[n.length-1].symbol.range.startLineNumber===l?n.push(a):(n=[a],i.push(n)))}let r=Xa.capture(this._editor),s=this._getLayoutInfo();this._editor.changeDecorations(a=>{this._editor.changeViewZones(l=>{let c=new wS,d=0,h=0;for(;h<i.length&&d<this._lenses.length;){let u=i[h][0].symbol.range.startLineNumber,f=this._lenses[d].getLineNumber();f<u?(this._lenses[d].dispose(c,l),this._lenses.splice(d,1)):f===u?(this._lenses[d].updateCodeLensSymbols(i[h],c),h++,d++):(this._lenses.splice(d,0,new HO(i[h],this._editor,this._styleClassName,c,l,s.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),d++,h++)}for(;d<this._lenses.length;)this._lenses[d].dispose(c,l),this._lenses.splice(d,1);for(;h<i.length;)this._lenses.push(new HO(i[h],this._editor,this._styleClassName,c,l,s.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),h++;c.commit(a)})}),r.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var e;(e=this._resolveCodeLensesPromise)===null||e===void 0||e.cancel(),this._resolveCodeLensesPromise=void 0;let t=this._editor.getModel();if(!t)return;let i=[],n=[];if(this._lenses.forEach(a=>{let l=a.computeIfNecessary(t);l&&(i.push(l),n.push(a))}),i.length===0)return;let r=Date.now(),s=wi(a=>{let l=i.map((c,d)=>{let h=new Array(c.length),u=c.map((f,p)=>!f.symbol.command&&typeof f.provider.resolveCodeLens=="function"?Promise.resolve(f.provider.resolveCodeLens(t,f.symbol,a)).then(b=>{h[p]=b},Di):(h[p]=f.symbol,Promise.resolve(void 0)));return Promise.all(u).then(()=>{!a.isCancellationRequested&&!n[d].isDisposed()&&n[d].updateCommands(h)})});return Promise.all(l)});this._resolveCodeLensesPromise=s,this._resolveCodeLensesPromise.then(()=>{let a=this._resolveCodeLensesDelays.update(t,Date.now()-r);this._resolveCodeLensesScheduler.delay=a,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),s===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},a=>{ye(a),s===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getLenses(){return this._lenses}};Vw.ID="css.editor.codeLens";Vw=fpe([r3(1,li),r3(2,fi),r3(3,i3)],Vw);Qe(Vw.ID,Vw);le(class extends _e{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:A.hasCodeLensProvider,label:g("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(e,t){return gpe(this,void 0,void 0,function*(){if(!t.hasModel())return;let i=e.get(dh),n=e.get(li),r=e.get(fi),s=t.getSelection().positionLineNumber,a=t.getContribution(Vw.ID),l=[];for(let d of a.getLenses())if(d.getLineNumber()===s)for(let h of d.getItems()){let{command:u}=h.symbol;u&&l.push({label:u.title,command:u})}if(l.length===0)return;let c=yield i.pick(l,{canPickMany:!1});if(!!c)try{yield n.executeCommand(c.command.id,...c.command.arguments||[])}catch(d){r.error(d)}})}});ne();Dt();ve();tt();Yn();st();ne();je();Dt();ve();Wn();Tt();Ei();st();Ai();ve();Tt();xr();zi();function GZ(o,e){let t=[],n=Kh.ordered(o).reverse().map(r=>Promise.resolve(r.provideDocumentColors(o,e)).then(s=>{if(Array.isArray(s))for(let a of s)t.push({colorInfo:a,provider:r})}));return Promise.all(n).then(()=>t)}function s3(o,e,t,i){return Promise.resolve(t.provideColorPresentations(o,e,i))}rt.registerCommand("_executeDocumentColorProvider",function(o,...e){let[t]=e;if(!(t instanceof Ee))throw jr();let i=o.get(Ci).getModel(t);if(!i)throw jr();let n=[],s=Kh.ordered(i).reverse().map(a=>Promise.resolve(a.provideDocumentColors(i,qe.None)).then(l=>{if(Array.isArray(l))for(let c of l)n.push({range:c.range,color:[c.color.red,c.color.green,c.color.blue,c.color.alpha]})}));return Promise.all(s).then(()=>n)});rt.registerCommand("_executeColorPresentationProvider",function(o,...e){let[t,i]=e,{uri:n,range:r}=i;if(!(n instanceof Ee)||!Array.isArray(t)||t.length!==4||!D.isIRange(r))throw jr();let[s,a,l,c]=t,d=o.get(Ci).getModel(n);if(!d)throw jr();let h={range:r,color:{red:s,green:a,blue:l,alpha:c}},u=[],p=Kh.ordered(d).reverse().map(b=>Promise.resolve(b.provideColorPresentations(d,h,qe.None)).then(v=>{Array.isArray(v)&&u.push(...v)}));return Promise.all(p).then(()=>u)});lr();var mpe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},ppe=function(o,e){return function(t,i){e(t,i,o)}},_pe=500,Bg=class XZ extends ${constructor(e,t){super();this._editor=e,this._configurationService=t,this._localToDispose=this._register(new Q),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=new Set,this._ruleFactory=new O1(this._editor),this._colorDecorationClassRefs=this._register(new Q),this._register(e.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(e.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(Kh.onDidChange(()=>this.onModelChanged())),this._register(e.onDidChangeConfiguration(()=>{let i=this._isEnabled;this._isEnabled=this.isEnabled(),i!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){let e=this._editor.getModel();if(!e)return!1;let t=e.getLanguageId(),i=this._configurationService.getValue(t);if(i&&typeof i=="object"){let n=i.colorDecorators;if(n&&n.enable!==void 0&&!n.enable)return n.enable}return this._editor.getOption(17)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;let e=this._editor.getModel();!e||!Kh.has(e)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new Fi,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},XZ.RECOMPUTE_TIME))})),this.beginCompute())}beginCompute(){this._computePromise=wi(e=>{let t=this._editor.getModel();return t?GZ(t,e):Promise.resolve([])}),this._computePromise.then(e=>{this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null},ye)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){let t=e.map(i=>({range:{startLineNumber:i.colorInfo.range.startLineNumber,startColumn:i.colorInfo.range.startColumn,endLineNumber:i.colorInfo.range.endLineNumber,endColumn:i.colorInfo.range.endColumn},options:Ze.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach((i,n)=>this._colorDatas.set(i,e[n]))}updateColorDecorators(e){this._colorDecorationClassRefs.clear();let t=[];for(let i=0;i<e.length&&t.length<_pe;i++){let{red:n,green:r,blue:s,alpha:a}=e[i].colorInfo.color,l=new Nt(Math.round(n*255),Math.round(r*255),Math.round(s*255),a),c=`rgba(${l.r}, ${l.g}, ${l.b}, ${l.a})`,d=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:c}));t.push({range:{startLineNumber:e[i].colorInfo.range.startLineNumber,startColumn:e[i].colorInfo.range.startColumn,endLineNumber:e[i].colorInfo.range.endLineNumber,endColumn:e[i].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:k6,inlineClassName:`${d.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0}}})}this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],t))}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],[])),this._colorDecorationClassRefs.clear()}getColorData(e){let t=this._editor.getModel();if(!t)return null;let i=t.getDecorationsInRange(D.fromPositions(e,e)).filter(n=>this._colorDatas.has(n.id));return i.length===0?null:this._colorDatas.get(i[0].id)}isColorDecorationId(e){return this._colorDecoratorIds.has(e)}};Bg.ID="editor.contrib.colorDetector";Bg.RECOMPUTE_TIME=1e3;Bg=mpe([ppe(1,Vt)],Bg);Qe(Bg.ID,Bg);Na();ne();Dt();ve();Yi();ar();tt();st();ne();di();Wc();Dt();ot();ve();Tt();ar();Dc();Se();ne();wt();function a3(o,e){return!!o[e]}var $O=class{constructor(e,t){this.target=e.target,this.hasTriggerModifier=a3(e.event,t.triggerModifier),this.hasSideBySideModifier=a3(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=e.event.detail<=1}},l3=class{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=a3(e,t.triggerModifier)}},CS=class{constructor(e,t,i,n){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=i,this.triggerSideBySideModifier=n}equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}};function QZ(o){return o==="altKey"?Xe?new CS(57,"metaKey",6,"altKey"):new CS(5,"ctrlKey",6,"altKey"):Xe?new CS(6,"altKey",57,"metaKey"):new CS(6,"altKey",5,"ctrlKey")}var yS=class extends ${constructor(e){super();this._onMouseMoveOrRelevantKeyDown=this._register(new F),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new F),this.onExecute=this._onExecute.event,this._onCancel=this._register(new F),this.onCancel=this._onCancel.event,this._editor=e,this._opts=QZ(this._editor.getOption(69)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(t=>{if(t.hasChanged(69)){let i=QZ(this._editor.getOption(69));if(this._opts.equals(i))return;this._opts=i,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(t=>this._onEditorMouseMove(new $O(t,this._opts)))),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(new $O(t,this._opts)))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(new $O(t,this._opts)))),this._register(this._editor.onKeyDown(t=>this._onEditorKeyDown(new l3(t,this._opts)))),this._register(this._editor.onKeyUp(t=>this._onEditorKeyUp(new l3(t,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(t=>this._onDidChangeCursorSelection(t))),this._register(this._editor.onDidChangeModel(t=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(t=>{(t.scrollTopChanged||t.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=e.target.position?e.target.position.lineNumber:0}_onEditorMouseUp(e){let t=e.target.position?e.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}};Me();cs();en();Yn();Se();Wo();Dt();_o();Wo();_o();zi();_t();Ge();dt();var bpe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},h_=function(o,e){return function(t,i){e(t,i,o)}},Hc=class extends Cg{constructor(e,t,i,n,r,s,a,l,c,d){super(e,Object.assign(Object.assign({},i.getRawOptions()),{overflowWidgetsDomNode:i.getOverflowWidgetsDomNode()}),{},n,r,s,a,l,c,d);this._parentEditor=i,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(i.onDidChangeConfiguration(h=>this._onParentConfigurationChanged(h)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){tr(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};Hc=bpe([h_(3,Ve),h_(4,Ot),h_(5,li),h_(6,Ce),h_(7,Rt),h_(8,fi),h_(9,Zn)],Hc);Me();Yn();ne();Wo();ve();Wn();var JZ=new Z(new Nt(0,122,204)),vpe={showArrow:!0,showFrame:!0,className:"",frameColor:JZ,arrowColor:JZ,keepEditorSelection:!1},wpe="vs.editor.contrib.zoneWidget",eG=class{constructor(e,t,i,n,r,s){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=i,this.heightInLines=n,this._onDomNodeTop=r,this._onComputedHeight=s}onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}},tG=class{constructor(e,t){this._id=e,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}},SS=class{constructor(e){this._editor=e,this._ruleName=SS._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),YP(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){YP(this._ruleName),b0(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(e){e.column===1&&(e={lineNumber:e.lineNumber,column:2}),this._decorations=this._editor.deltaDecorations(this._decorations,[{range:D.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}};SS._IdGenerator=new Aw(".arrow-decoration-");var c3=class{constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new Q,this.container=null,this._isShowing=!1,this.editor=e,this.options=vl(t),tr(this.options,vpe,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(i=>{let n=this._getWidth(i);this.domNode.style.width=n+"px",this.domNode.style.left=this._getLeft(i)+"px",this._onWidth(n)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new SS(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){let e=this.options.arrowColor.toString();this._arrow.color=e}}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return e.minimap.minimapWidth>0&&e.minimap.minimapLeft===0?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){if(this.domNode.style.height=`${e}px`,this.container){let t=e-this._decoratingElementsHeight();this.container.style.height=`${t}px`;let i=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(i))}this._resizeSash&&this._resizeSash.layout()}get position(){let[e]=this._positionMarkerId;if(!e)return;let t=this.editor.getModel();if(!t)return;let i=t.getDecorationRange(e);if(!!i)return i.getStartPosition()}show(e,t){let i=D.isIRange(e)?D.lift(e):D.fromPositions(e);this._isShowing=!0,this._showImpl(i,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:i,options:Ze.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let e=this.editor.getOption(58),t=0;if(this.options.showArrow){let i=Math.round(e/3);t+=2*i}if(this.options.showFrame){let i=Math.round(e/9);t+=2*i}return t}_showImpl(e,t){let i=e.getStartPosition(),n=this.editor.getLayoutInfo(),r=this._getWidth(n);this.domNode.style.width=`${r}px`,this.domNode.style.left=this._getLeft(n)+"px";let s=document.createElement("div");s.style.overflow="hidden";let a=this.editor.getOption(58),l=Math.max(12,this.editor.getLayoutInfo().height/a*.8);t=Math.min(t,l);let c=0,d=0;if(this._arrow&&this.options.showArrow&&(c=Math.round(a/3),this._arrow.height=c,this._arrow.show(i)),this.options.showFrame&&(d=Math.round(a/9)),this.editor.changeViewZones(f=>{this._viewZone&&f.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new eG(s,i.lineNumber,i.column,t,p=>this._onViewZoneTop(p),p=>this._onViewZoneHeight(p)),this._viewZone.id=f.addZone(this._viewZone),this._overlayWidget=new tG(wpe+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){let f=this.options.frameWidth?this.options.frameWidth:d;this.container.style.borderTopWidth=f+"px",this.container.style.borderBottomWidth=f+"px"}let h=t*a-this._decoratingElementsHeight();this.container&&(this.container.style.top=c+"px",this.container.style.height=h+"px",this.container.style.overflow="hidden"),this._doLayout(h,r),this.options.keepEditorSelection||this.editor.setSelection(e);let u=this.editor.getModel();if(u){let f=e.endLineNumber+1;f<=u.getLineCount()?this.revealLine(f,!1):this.revealLine(u.getLineCount(),!0)}}revealLine(e,t){t?this.editor.revealLineInCenter(e,0):this.editor.revealLine(e,0)}setCssClass(e,t){!this.container||(t&&this.container.classList.remove(t),this.container.classList.add(e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new Vn(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let e;this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{e=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{if(e){let i=(t.currentY-e.startY)/this.editor.getOption(58),n=i<0?Math.ceil(i):Math.floor(i),r=e.heightInLines+n;r>5&&r<35&&this._relayout(r)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){let e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}};xe();Me();is();Me();Me();is();cs();Se();var iG=class extends Al{constructor(e,t){super();this._onDidChangeVisibility=this._register(new F),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=J(e,se(".monaco-dropdown")),this._label=J(this._element,se(".dropdown-label"));let i=t.labelRenderer;i||(i=r=>(r.textContent=t.label||"",null));for(let r of[Le.CLICK,Le.MOUSE_DOWN,ei.Tap])this._register(oe(this.element,r,s=>Wt.stop(s,!0)));for(let r of[Le.MOUSE_DOWN,ei.Tap])this._register(oe(this._label,r,s=>{s instanceof MouseEvent&&s.detail>1||(this.visible?this.hide():this.show())}));this._register(oe(this._label,Le.KEY_UP,r=>{let s=new Kt(r);(s.equals(3)||s.equals(10))&&(Wt.stop(r,!0),this.visible?this.hide():this.show())}));let n=i(this._label);n&&this._register(n),this._register(Bt.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}},d3=class extends iG{constructor(e,t){super(e,t);this._actions=[],this._contextMenuProvider=t.contextMenuProvider,this.actions=t.actions||[],this.actionProvider=t.actionProvider,this.menuClassName=t.menuClassName||"",this.menuAsChild=!!t.menuAsChild}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:e=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}};Se();var KO=class extends zs{constructor(e,t,i,n=Object.create(null)){super(null,e,n);this.actionItem=null,this._onDidChangeVisibility=this._register(new F),this.menuActionsOrProvider=t,this.contextMenuProvider=i,this.options=n,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;let t=r=>{this.element=J(r,se("a.action-label"));let s=[];return typeof this.options.classNames=="string"?s=this.options.classNames.split(/\s+/g).filter(a=>!!a):this.options.classNames&&(s=this.options.classNames),s.find(a=>a==="icon")||s.push("codicon"),this.element.classList.add(...s),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},i=Array.isArray(this.menuActionsOrProvider),n={contextMenuProvider:this.contextMenuProvider,labelRenderer:t,menuAsChild:this.options.menuAsChild,actions:i?this.menuActionsOrProvider:void 0,actionProvider:i?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new d3(e,n)),this._register(this.dropdownMenu.onDidChangeVisibility(r=>{var s;(s=this.element)===null||s===void 0||s.setAttribute("aria-expanded",`${r}`),this._onDidChangeVisibility.fire(r)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){let r=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return r.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}updateEnabled(){var e,t;let i=!this.getAction().enabled;(e=this.actionItem)===null||e===void 0||e.classList.toggle("disabled",i),(t=this.element)===null||t===void 0||t.classList.toggle("disabled",i)}};cs();ne();wt();xe();No();_t();Ge();dt();var h3=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},hh=function(o,e){return function(t,i){e(t,i,o)}},nG=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})};function oG(o,e,t,i,n,r,s){let a=o.getActions(e);return ype(a,t,!1,typeof i=="string"?c=>c===i:i,n,r,s),Cpe(a)}function Cpe(o){let e=new Q;for(let[,t]of o)for(let i of t)e.add(i);return e}function ype(o,e,t,i=a=>a==="navigation",n=Number.MAX_SAFE_INTEGER,r=()=>!1,s=!1){let a,l;Array.isArray(e)?(a=e,l=e):(a=e.primary,l=e.secondary);let c=new Set;for(let[d,h]of o){let u;i(d)?(u=a,u.length>0&&s&&u.push(new fr)):(u=l,u.length>0&&u.push(new fr));for(let f of h){t&&(f=f instanceof Fl&&f.alt?f.alt:f);let p=u.push(f);f instanceof iu&&c.add({group:d,action:f,index:p-1})}}for(let{group:d,action:h,index:u}of c){let f=i(d)?a:l,p=h.actions;(p.length<=1||f.length+p.length-2<=n)&&r(h,d,f.length)&&f.splice(u,1,...p)}if(a!==l&&a.length>n){let d=a.splice(n,a.length-n);l.unshift(...d,new fr)}}var u_=class extends Qd{constructor(e,t,i,n,r){super(void 0,e,{icon:!!(e.class||e.item.icon),label:!e.class&&!e.item.icon,draggable:t==null?void 0:t.draggable});this._keybindingService=i,this._notificationService=n,this._contextKeyService=r,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new _n),this._altKey=pd.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(e){return nG(this,void 0,void 0,function*(){e.preventDefault(),e.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(t){this._notificationService.error(t)}})}render(e){super.render(e),e.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let t=!1,i=this._altKey.keyStatus.altKey||(Mi||rn)&&this._altKey.keyStatus.shiftKey,n=()=>{let r=t&&i;r!==this._wantsAltCommand&&(this._wantsAltCommand=r,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(r=>{i=r.altKey||(Mi||rn)&&r.shiftKey,n()})),this._register(oe(e,"mouseleave",r=>{t=!1,n()})),this._register(oe(e,"mouseenter",r=>{t=!0,n()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){let e=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),t=e&&e.getLabel(),i=this._commandAction.tooltip||this._commandAction.label,n=t?g("titleAndKb","{0} ({1})",i,t):i;if(!this._wantsAltCommand&&this._menuItemAction.alt){let r=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,s=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),a=s&&s.getLabel(),l=a?g("titleAndKb","{0} ({1})",r,a):r;n+=`
[${uv.modifierLabels[Jo].altKey}] ${l}`}this.label.title=n}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){var t;this._itemClassDispose.value=void 0;let{element:i,label:n}=this;if(!i||!n)return;let r=this._commandAction.checked&&((t=e.toggled)===null||t===void 0?void 0:t.icon)?e.toggled.icon:e.icon;if(!!r)if(qt.isThemeIcon(r)){let s=qt.asClassNameArray(r);n.classList.add(...s),this._itemClassDispose.value=ze(()=>{n.classList.remove(...s)})}else r.light&&n.style.setProperty("--menu-entry-icon-light",md(r.light)),r.dark&&n.style.setProperty("--menu-entry-icon-dark",md(r.dark)),n.classList.add("icon"),this._itemClassDispose.value=ze(()=>{n.classList.remove("icon"),n.style.removeProperty("--menu-entry-icon-light"),n.style.removeProperty("--menu-entry-icon-dark")})}};u_=h3([hh(2,oi),hh(3,fi),hh(4,Ce)],u_);var u3=class extends KO{constructor(e,t,i){var n,r;let s=Object.assign({},t??Object.create(null),{menuAsChild:(n=t==null?void 0:t.menuAsChild)!==null&&n!==void 0?n:!1,classNames:(r=t==null?void 0:t.classNames)!==null&&r!==void 0?r:qt.isThemeIcon(e.item.icon)?qt.asClassName(e.item.icon):void 0});super(e,{getActions:()=>e.actions},i,s)}render(e){if(super.render(e),this.element){e.classList.add("menu-entry");let{icon:t}=this._action.item;t&&!qt.isThemeIcon(t)&&(this.element.classList.add("icon"),t.light&&this.element.style.setProperty("--menu-entry-icon-light",md(t.light)),t.dark&&this.element.style.setProperty("--menu-entry-icon-dark",md(t.dark)))}}};u3=h3([hh(2,Vs)],u3);var f3=class extends zs{constructor(e,t,i,n,r,s,a,l){var c,d,h;super(null,e);this._keybindingService=i,this._notificationService=n,this._contextMenuService=r,this._menuService=s,this._instaService=a,this._storageService=l,this._container=null,this._storageKey=`${e.item.submenu._debugName}_lastActionId`;let u,f=l.get(this._storageKey,1);f&&(u=e.actions.find(b=>f===b.id)),u||(u=e.actions[0]),this._defaultAction=this._instaService.createInstance(u_,u,void 0);let p=Object.assign({},t??Object.create(null),{menuAsChild:(c=t==null?void 0:t.menuAsChild)!==null&&c!==void 0?c:!0,classNames:(d=t==null?void 0:t.classNames)!==null&&d!==void 0?d:["codicon","codicon-chevron-down"],actionRunner:(h=t==null?void 0:t.actionRunner)!==null&&h!==void 0?h:new Al});this._dropdown=new KO(e,e.actions,this._contextMenuService,p),this._dropdown.actionRunner.onDidRun(b=>{b.action instanceof Fl&&this.update(b.action)})}update(e){this._storageService.store(this._storageKey,e.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(u_,e,void 0),this._defaultAction.actionRunner=new class extends Al{runAction(t,i){return nG(this,void 0,void 0,function*(){yield t.run(void 0)})}},this._container&&this._defaultAction.render(g6(this._container,se(".action-container")))}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");let t=se(".action-container");this._defaultAction.render(J(this._container,t)),this._register(oe(t,Le.KEY_DOWN,n=>{let r=new Kt(n);r.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),r.stopPropagation())}));let i=se(".dropdown-action-container");this._dropdown.render(J(this._container,i)),this._register(oe(i,Le.KEY_DOWN,n=>{var r;let s=new Kt(n);s.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(r=this._defaultAction.element)===null||r===void 0||r.focus(),s.stopPropagation())}))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};f3=h3([hh(2,oi),hh(3,fi),hh(4,Vs),hh(5,da),hh(6,Ve),hh(7,qs)],f3);function rG(o,e,t){return e instanceof Fl?o.createInstance(u_,e,void 0):e instanceof fp?e.item.rememberDefaultAction?o.createInstance(f3,e,t):o.createInstance(u3,e,t):void 0}_t();Dd();Ge();yi();var sG=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},aG=function(o,e){return function(t,i){e(t,i,o)}},g3=Fe("IPeekViewService");as(g3,class{constructor(){this._widgets=new Map}addExclusiveWidget(o,e){let t=this._widgets.get(o);t&&(t.listener.dispose(),t.widget.dispose());let i=()=>{let n=this._widgets.get(o);n&&n.widget===e&&(n.listener.dispose(),this._widgets.delete(o))};this._widgets.set(o,{widget:e,listener:e.onDidClose(i)})}});var Tr;(function(o){o.inPeekEditor=new be("inReferenceSearchEditor",!0,g("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),o.notInPeekEditor=o.inPeekEditor.toNegated()})(Tr||(Tr={}));var ES=class{constructor(e,t){e instanceof Hc&&Tr.inPeekEditor.bindTo(t)}dispose(){}};ES.ID="editor.contrib.referenceController";ES=sG([aG(1,Ce)],ES);Qe(ES.ID,ES);function lG(o){let e=o.get(Ot).getFocusedCodeEditor();return e instanceof Hc?e.getParentEditor():e}var Spe={headerBackgroundColor:Z.white,primaryHeadingColor:Z.fromHex("#333333"),secondaryHeadingColor:Z.fromHex("#6c6c6cb3")},Hw=class extends c3{constructor(e,t,i){super(e,t);this.instantiationService=i,this._onDidClose=new F,this.onDidClose=this._onDidClose.event,tr(this.options,Spe,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){let t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();let e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=se(".head"),this._bodyElement=se(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){let i=se(".peekview-title");this.options.supportOnTitleClick&&(i.classList.add("clickable"),Ni(i,"click",s=>this._onTitleClick(s))),J(this._headElement,i),this._fillTitleIcon(i),this._primaryHeading=se("span.filename"),this._secondaryHeading=se("span.dirname"),this._metaHeading=se("span.meta"),J(i,this._primaryHeading,this._secondaryHeading,this._metaHeading);let n=se(".peekview-actions");J(this._headElement,n);let r=this._getActionBarOptions();this._actionbarWidget=new pr(n,r),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new yo("peekview.close",g("label.close","Close"),z.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:rG.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:Zi(this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,ko(this._metaHeading)):vo(this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0){this.dispose();return}let i=Math.ceil(this.editor.getOption(58)*1.2),n=Math.round(e-(i+2));this._doLayoutHead(i,t),this._doLayoutBody(n,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=`${e}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=`${e}px`)}};Hw=sG([aG(2,Ve)],Hw);var cG=j("peekViewTitle.background",{dark:Je(Lr,.1),light:Je(Lr,.1),hc:null},g("peekViewTitleBackground","Background color of the peek view title area.")),YO=j("peekViewTitleLabel.foreground",{dark:Z.white,light:Z.black,hc:Z.white},g("peekViewTitleForeground","Color of the peek view title.")),qO=j("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hc:"#FFFFFF99"},g("peekViewTitleInfoForeground","Color of the peek view title info.")),dG=j("peekView.border",{dark:Lr,light:Lr,hc:Oi},g("peekViewBorder","Color of the peek view borders and arrow.")),hG=j("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:Z.black},g("peekViewResultsBackground","Background color of the peek view result list.")),_ut=j("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:Z.white},g("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),but=j("peekViewResult.fileForeground",{dark:Z.white,light:"#1E1E1E",hc:Z.white},g("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),vut=j("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},g("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),wut=j("peekViewResult.selectionForeground",{dark:Z.white,light:"#6C6C6C",hc:Z.white},g("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),m3=j("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:Z.black},g("peekViewEditorBackground","Background color of the peek view editor.")),Cut=j("peekViewEditorGutter.background",{dark:m3,light:m3,hc:m3},g("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),yut=j("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},g("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),Sut=j("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},g("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),Eut=j("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:qn},g("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));xe();_t();yi();dt();Lo();ls();tt();Na();wt();di();Ai();Wc();dL();Dt();_o();ot();ve();Yi();Tt();tt();st();Na();ne();_o();ot();ve();xe();zi();lr();_t();Ge();tu();st();Se();ne();Is();Er();je();ve();xe();var xpe=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},ql=class{constructor(e,t,i,n){this.isProviderFirst=e,this.parent=t,this.link=i,this._rangeCallback=n,this.id=bO.nextId()}get uri(){return this.link.uri}get range(){var e,t;return(t=(e=this._range)!==null&&e!==void 0?e:this.link.targetSelectionRange)!==null&&t!==void 0?t:this.link.range}set range(e){this._range=e,this._rangeCallback(this)}get ariaMessage(){var e;let t=(e=this.parent.getPreview(this))===null||e===void 0?void 0:e.preview(this.range);return t?g({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",Io(this.uri),this.range.startLineNumber,this.range.startColumn,t.value):g("aria.oneReference","symbol in {0} on line {1} at column {2}",Io(this.uri),this.range.startLineNumber,this.range.startColumn)}},uG=class{constructor(e){this._modelReference=e}dispose(){this._modelReference.dispose()}preview(e,t=8){let i=this._modelReference.object.textEditorModel;if(!i)return;let{startLineNumber:n,startColumn:r,endLineNumber:s,endColumn:a}=e,l=i.getWordUntilPosition({lineNumber:n,column:r-t}),c=new D(n,l.startColumn,n,r),d=new D(s,a,s,1073741824),h=i.getValueInRange(c).replace(/^\s+/,""),u=i.getValueInRange(e),f=i.getValueInRange(d).replace(/\s+$/,"");return{value:h+u+f,highlight:{start:h.length,end:h.length+u.length}}}},jg=class{constructor(e,t){this.parent=e,this.uri=t,this.children=[],this._previews=new Fn}dispose(){ct(this._previews.values()),this._previews.clear()}getPreview(e){return this._previews.get(e.uri)}get ariaMessage(){let e=this.children.length;return e===1?g("aria.fileReferences.1","1 symbol in {0}, full path {1}",Io(this.uri),this.uri.fsPath):g("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,Io(this.uri),this.uri.fsPath)}resolve(e){return xpe(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let t of this.children)if(!this._previews.has(t.uri))try{let i=yield e.createModelReference(t.uri);this._previews.set(t.uri,new uG(i))}catch(i){ye(i)}return this})}},br=class{constructor(e,t){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new F,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;let[i]=e;e.sort(br._compareReferences);let n;for(let r of e)if((!n||!Bi.isEqual(n.uri,r.uri,!0))&&(n=new jg(this,r.uri),this.groups.push(n)),n.children.length===0||br._compareReferences(r,n.children[n.children.length-1])!==0){let s=new ql(i===r,n,r,a=>this._onDidChangeReferenceRange.fire(a));this.references.push(s),n.children.push(s)}}dispose(){ct(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new br(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?g("aria.result.0","No results found"):this.references.length===1?g("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?g("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):g("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(e,t){let{parent:i}=e,n=i.children.indexOf(e),r=i.children.length,s=i.parent.groups.length;return s===1||t&&n+1<r||!t&&n>0?(t?n=(n+1)%r:n=(n+r-1)%r,i.children[n]):(n=i.parent.groups.indexOf(i),t?(n=(n+1)%s,i.parent.groups[n].children[0]):(n=(n+s-1)%s,i.parent.groups[n].children[i.parent.groups[n].children.length-1]))}nearestReference(e,t){let i=this.references.map((n,r)=>({idx:r,prefixLen:wc(n.uri.toString(),e.toString()),offsetDist:Math.abs(n.range.startLineNumber-t.lineNumber)*100+Math.abs(n.range.startColumn-t.column)})).sort((n,r)=>n.prefixLen>r.prefixLen?-1:n.prefixLen<r.prefixLen?1:n.offsetDist<r.offsetDist?-1:n.offsetDist>r.offsetDist?1:0)[0];if(i)return this.references[i.idx]}referenceAt(e,t){for(let i of this.references)if(i.uri.toString()===e.toString()&&D.containsPosition(i.range,t))return i}firstReference(){for(let e of this.references)if(e.isProviderFirst)return e;return this.references[0]}static _compareReferences(e,t){return Bi.compare(e.uri,t.uri)||D.compareRangesUsingStarts(e.range,t.range)}};Me();Yn();Se();ne();ns();Er();ve();Wn();zo();ar();Dc();Me();jD();ns();wt();Er();Ai();function ZO(o){if(!o)return;typeof o=="string"&&(o=Ee.file(o));let e=Io(o)||(o.scheme===nt.file?o.fsPath:o.path);return Mi&&z6(e)?GO(e):e}function GO(o,e){return oR(o,e)?o.charAt(0).toUpperCase()+o.slice(1):o}ne();Er();Dc();xe();Ge();dt();var XO=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},xS=function(o,e){return function(t,i){e(t,i,o)}},QO=class{constructor(e){this._resolverService=e}hasChildren(e){return e instanceof br||e instanceof jg}getChildren(e){if(e instanceof br)return e.groups;if(e instanceof jg)return e.resolve(this._resolverService).then(t=>t.children);throw new Error("bad tree")}};QO=XO([xS(0,Kn)],QO);var p3=class{getHeight(){return 23}getTemplateId(e){return e instanceof jg?$w.id:f_.id}},JO=class{constructor(e){this._keybindingService=e}getKeyboardNavigationLabel(e){var t;if(e instanceof ql){let i=(t=e.parent.getPreview(e))===null||t===void 0?void 0:t.preview(e.range);if(i)return i.value}return Io(e.uri)}};JO=XO([xS(0,oi)],JO);var _3=class{getId(e){return e instanceof ql?e.id:e.uri}},b3=class extends ${constructor(e,t,i){super();this._uriLabel=t;let n=document.createElement("div");n.classList.add("reference-file"),this.file=this._register(new Ag(n,{supportHighlights:!0})),this.badge=new Mw(J(n,se(".count"))),this._register(MY(this.badge,i)),e.appendChild(n)}set(e,t){let i=Mb(e.uri);this.file.setLabel(ZO(e.uri),this._uriLabel.getUriLabel(i,{relative:!0}),{title:this._uriLabel.getUriLabel(e.uri),matches:t});let n=e.children.length;this.badge.setCount(n),n>1?this.badge.setTitleFormat(g("referencesCount","{0} references",n)):this.badge.setTitleFormat(g("referenceCount","{0} reference",n))}};b3=XO([xS(1,ih),xS(2,Rt)],b3);var $w=class fG{constructor(e){this._instantiationService=e,this.templateId=fG.id}renderTemplate(e){return this._instantiationService.createInstance(b3,e)}renderElement(e,t,i){i.set(e.element,Ny(e.filterData))}disposeTemplate(e){e.dispose()}};$w.id="FileReferencesRenderer";$w=XO([xS(0,Ve)],$w);var gG=class{constructor(e){this.label=new lh(e)}set(e,t){var i;let n=(i=e.parent.getPreview(e))===null||i===void 0?void 0:i.preview(e.range);if(!n||!n.value)this.label.set(`${Io(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`);else{let{value:r,highlight:s}=n;t&&!$s.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(r,Ny(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(r,[s]))}}},f_=class{constructor(){this.templateId=f_.id}renderTemplate(e){return new gG(e)}renderElement(e,t,i){i.set(e.element,e.filterData)}disposeTemplate(){}};f_.id="OneReferenceRenderer";var v3=class{getWidgetAriaLabel(){return g("treeAriaLabel","References")}getAriaLabel(e){return e.ariaMessage}};xe();Ge();dt();jv();var Dpe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},Vu=function(o,e){return function(t,i){e(t,i,o)}},mG=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},DS=class{constructor(e,t){this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new Q,this._callOnModelChange=new Q,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();let e=this._editor.getModel();if(!!e){for(let t of this._model.references)if(t.uri.toString()===e.uri.toString()){this._addDecorations(t.parent);return}}}_addDecorations(e){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));let t=[],i=[];for(let r=0,s=e.children.length;r<s;r++){let a=e.children[r];this._decorationIgnoreSet.has(a.id)||a.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:a.range,options:DS.DecorationOptions}),i.push(r))}let n=this._editor.deltaDecorations([],t);for(let r=0;r<n.length;r++)this._decorations.set(n[r],e.children[i[r]])}_onDecorationChanged(){let e=[],t=this._editor.getModel();if(!!t){for(let[i,n]of this._decorations){let r=t.getDecorationRange(i);if(!r)continue;let s=!1;if(!D.equalsRange(r,n.range)){if(D.spansMultipleLines(r))s=!0;else{let a=n.range.endColumn-n.range.startColumn,l=r.endColumn-r.startColumn;a!==l&&(s=!0)}s?(this._decorationIgnoreSet.add(n.id),e.push(i)):n.range=r}}for(let i=0,n=e.length;i<n;i++)this._decorations.delete(e[i]);this._editor.deltaDecorations(e,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}};DS.DecorationOptions=Ze.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});var w3=class{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(e){let t,i;try{let n=JSON.parse(e);t=n.ratio,i=n.heightInLines}catch{}return{ratio:t||.7,heightInLines:i||18}}},pG=class extends sO{},eT=class extends Hw{constructor(e,t,i,n,r,s,a,l,c,d,h,u){super(e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},s);this._defaultTreeKeyboardSupport=t,this.layoutData=i,this._textModelResolverService=r,this._instantiationService=s,this._peekViewService=a,this._uriLabel=l,this._undoRedoService=c,this._keybindingService=d,this._modeService=h,this._languageConfigurationService=u,this._disposeOnNewModel=new Q,this._callOnDispose=new Q,this._onDidSelectReference=new F,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new hi(0,0),this._applyTheme(n.getColorTheme()),this._callOnDispose.add(n.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(e,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),ct(this._preview),ct(this._previewNotAvailableMessage),ct(this._tree),ct(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(e){let t=e.getColor(dG)||Z.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(cG)||Z.transparent,primaryHeadingColor:e.getColor(YO),secondaryHeadingColor:e.getColor(qO)})}show(e){this.editor.revealRangeInCenterIfOutsideViewport(e,0),super.show(e,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(e){this.setCssClass("reference-zone-widget"),this._messageContainer=J(e,se("div.messages")),vo(this._messageContainer),this._splitView=new Uy(e,{orientation:1}),this._previewContainer=J(e,se("div.preview.inline"));let t={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(Hc,this._previewContainer,t,this.editor),vo(this._previewContainer),this._previewNotAvailableMessage=new Po(g("missingPreviewMessage","no preview available"),Po.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService,this._modeService,this._languageConfigurationService),this._treeContainer=J(e,se("div.ref-tree.inline"));let i={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new v3,keyboardNavigationLabelProvider:this._instantiationService.createInstance(JO),identityProvider:new _3,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:hG}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(Ni(this._treeContainer,"keydown",r=>{r.equals(9)&&(this._keybindingService.dispatchEvent(r,r.target),r.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(pG,"ReferencesWidget",this._treeContainer,new p3,[this._instantiationService.createInstance($w),this._instantiationService.createInstance(f_)],this._instantiationService.createInstance(QO),i),this._splitView.addView({onDidChange:we.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:r=>{this._preview.layout({height:this._dim.height,width:r})}},Wy.Distribute),this._splitView.addView({onDidChange:we.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:r=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${r}px`,this._tree.layout(this._dim.height,r)}},Wy.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let n=(r,s)=>{r instanceof ql&&(s==="show"&&this._revealReference(r,!1),this._onDidSelectReference.fire({element:r,kind:s,source:"tree"}))};this._tree.onDidOpen(r=>{r.sideBySide?n(r.element,"side"):r.editorOptions.pinned?n(r.element,"goto"):n(r.element,"show")}),vo(this._treeContainer)}_onWidth(e){this._dim&&this._doLayoutBody(this._dim.height,e)}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._dim=new hi(t,e),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}setSelection(e){return this._revealReference(e,!0).then(()=>{!this._model||(this._tree.setSelection([e]),this._tree.setFocus([e]))})}setModel(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=g("noResults","No results"),ko(this._messageContainer),Promise.resolve(void 0)):(vo(this._messageContainer),this._decorationsManager=new DS(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(e=>this._tree.rerender(e))),this._disposeOnNewModel.add(this._preview.onMouseDown(e=>{let{event:t,target:i}=e;if(t.detail!==2)return;let n=this._getFocusedReference();!n||this._onDidSelectReference.fire({element:{uri:n.uri,range:i.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),ko(this._treeContainer),ko(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){let[e]=this._tree.getFocus();if(e instanceof ql)return e;if(e instanceof jg&&e.children.length>0)return e.children[0]}revealReference(e){return mG(this,void 0,void 0,function*(){yield this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})})}_revealReference(e,t){return mG(this,void 0,void 0,function*(){if(this._revealedReference===e)return;this._revealedReference=e,e.uri.scheme!==nt.inMemory?this.setTitle(UD(e.uri),this._uriLabel.getUriLabel(Mb(e.uri))):this.setTitle(g("peekView.alternateTitle","References"));let i=this._textModelResolverService.createModelReference(e.uri);this._tree.getInput()===e.parent?this._tree.reveal(e):(t&&this._tree.reveal(e.parent),yield this._tree.expand(e.parent),this._tree.reveal(e));let n=yield i;if(!this._model){n.dispose();return}ct(this._previewModelReference);let r=n.object;if(r){let s=this._preview.getModel()===r.textEditorModel?0:1,a=D.lift(e.range).collapseToStart();this._previewModelReference=n,this._preview.setModel(r.textEditorModel),this._preview.setSelection(a),this._preview.revealRangeInCenter(a,s)}else this._preview.setModel(this._previewNotAvailableMessage),n.dispose()})}};eT=Dpe([Vu(3,Rt),Vu(4,Kn),Vu(5,Ve),Vu(6,g3),Vu(7,ih),Vu(8,Hd),Vu(9,oi),Vu(10,Pi),Vu(11,qh)],eT);var Lpe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},Kw=function(o,e){return function(t,i){e(t,i,o)}},_G=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},g_=new be("referenceSearchVisible",!1,g("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'")),m_=class C3{constructor(e,t,i,n,r,s,a,l){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=n,this._notificationService=r,this._instantiationService=s,this._storageService=a,this._configurationService=l,this._disposables=new Q,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=g_.bindTo(i)}static get(e){return e.getContribution(C3.ID)}dispose(){var e,t;this._referenceSearchVisible.reset(),this._disposables.dispose(),(e=this._widget)===null||e===void 0||e.dispose(),(t=this._model)===null||t===void 0||t.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,t,i){let n;if(this._widget&&(n=this._widget.position),this.closeWidget(),!!n&&e.containsPosition(n))return;this._peekMode=i,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));let r="peekViewLayout",s=w3.fromJSON(this._storageService.get(r,0,"{}"));this._widget=this._instantiationService.createInstance(eT,this._editor,this._defaultTreeKeyboardSupport,s),this._widget.setTitle(g("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(()=>{t.cancel(),this._widget&&(this._storageService.store(r,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(l=>{let{element:c,kind:d}=l;if(!!c)switch(d){case"open":(l.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(c,!1,!1);break;case"side":this.openReference(c,!0,!1);break;case"goto":i?this._gotoReference(c):this.openReference(c,!1,!0);break}}));let a=++this._requestIdPool;t.then(l=>{var c;if(a!==this._requestIdPool||!this._widget){l.dispose();return}return(c=this._model)===null||c===void 0||c.dispose(),this._model=l,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(g("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let d=this._editor.getModel().uri,h=new H(e.startLineNumber,e.startColumn),u=this._model.nearestReference(d,h);if(u)return this._widget.setSelection(u).then(()=>{this._widget&&this._editor.getOption(76)==="editor"&&this._widget.focusOnPreviewEditor()})}})},l=>{this._notificationService.error(l)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(e){return _G(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;let t=this._widget.position;if(!t)return;let i=this._model.nearestReference(this._editor.getModel().uri,t);if(!i)return;let n=this._model.nextOrPreviousReference(i,e),r=this._editor.hasTextFocus(),s=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(n),yield this._gotoReference(n),r?this._editor.focus():this._widget&&s&&this._widget.focusOnPreviewEditor()})}revealReference(e){return _G(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(e))})}closeWidget(e=!0){var t,i;(t=this._widget)===null||t===void 0||t.dispose(),(i=this._model)===null||i===void 0||i.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(e){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;let t=D.lift(e.range).collapseToStart();return this._editorService.openCodeEditor({resource:e.uri,options:{selection:t}},this._editor).then(i=>{var n;if(this._ignoreModelChangeEvent=!1,!i||!this._widget){this.closeWidget();return}if(this._editor===i)this._widget.show(t),this._widget.focusOnReferenceTree();else{let r=C3.get(i),s=this._model.clone();this.closeWidget(),i.focus(),r.toggleWidget(t,wi(a=>Promise.resolve(s)),(n=this._peekMode)!==null&&n!==void 0?n:!1)}},i=>{this._ignoreModelChangeEvent=!1,ye(i)})}openReference(e,t,i){t||this.closeWidget();let{uri:n,range:r}=e;this._editorService.openCodeEditor({resource:n,options:{selection:r,pinned:i}},this._editor,t)}};m_.ID="editor.contrib.referencesController";m_=Lpe([Kw(2,Ce),Kw(3,Ot),Kw(4,fi),Kw(5,Ve),Kw(6,qs),Kw(7,Vt)],m_);function p_(o,e){let t=lG(o);if(!t)return;let i=m_.get(t);i&&e(i)}Bn.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:Ji(2048|41,60),when:pe.or(g_,Tr.inPeekEditor),handler(o){p_(o,e=>{e.changeFocusBetweenPreviewAndReferences()})}});Bn.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:pe.or(g_,Tr.inPeekEditor),handler(o){p_(o,e=>{e.goToNextOrPreviousReference(!0)})}});Bn.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1024|62,secondary:[1024|70],when:pe.or(g_,Tr.inPeekEditor),handler(o){p_(o,e=>{e.goToNextOrPreviousReference(!1)})}});rt.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference");rt.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference");rt.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch");rt.registerCommand("closeReferenceSearch",o=>p_(o,e=>e.closeWidget()));Bn.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1024|9],when:pe.and(Tr.inPeekEditor,pe.not("config.editor.stablePeek"))});Bn.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1024|9],when:pe.and(g_,pe.not("config.editor.stablePeek"))});Bn.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2048|18]},when:pe.and(g_,i5),handler(o){var e;let i=(e=o.get(Ys).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof ql&&p_(o,n=>n.revealReference(i[0]))}});Bn.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2048|3,mac:{primary:256|3},when:pe.and(g_,i5),handler(o){var e;let i=(e=o.get(Ys).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof ql&&p_(o,n=>n.openReference(i[0],!0,!0))}});rt.registerCommand("openReference",o=>{var e;let i=(e=o.get(Ys).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof ql&&p_(o,n=>n.openReference(i[0],!1,!0))});Se();ne();Er();Dt();_o();ve();xe();_t();Dd();Ge();tu();var bG=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},LS=function(o,e){return function(t,i){e(t,i,o)}},y3=new be("hasSymbols",!1,g("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),kS=Fe("ISymbolNavigationService"),S3=class{constructor(e,t,i,n){this._editorService=t,this._notificationService=i,this._keybindingService=n,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=y3.bindTo(e)}reset(){var e,t;this._ctxHasSymbols.reset(),(e=this._currentState)===null||e===void 0||e.dispose(),(t=this._currentMessage)===null||t===void 0||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(e){let t=e.parent.parent;if(t.references.length<=1){this.reset();return}this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();let i=new E3(this._editorService),n=i.onDidChange(r=>{if(this._ignoreEditorChange)return;let s=this._editorService.getActiveCodeEditor();if(!s)return;let a=s.getModel(),l=s.getPosition();if(!a||!l)return;let c=!1,d=!1;for(let h of t.references)if(WD(h.uri,a.uri))c=!0,d=d||D.containsPosition(h.range,l);else if(c)break;(!c||!d)&&this.reset()});this._currentState=Ta(i,n)}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;let t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:D.collapseToStart(t.range),selectionRevealType:3}},e).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var e;(e=this._currentMessage)===null||e===void 0||e.dispose();let t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),i=t?g("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,t.getLabel()):g("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(i)}};S3=bG([LS(0,Ce),LS(1,Ot),LS(2,fi),LS(3,oi)],S3);as(kS,S3,!0);ue(new class extends Hi{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:y3,kbOpts:{weight:100,primary:70}})}runEditorCommand(o,e){return o.get(kS).revealNext(e)}});Bn.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:y3,primary:9,handler(o){o.get(kS).reset()}});var E3=class{constructor(e){this._listener=new Map,this._disposables=new Q,this._onDidChange=new F,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),ct(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,Ta(e.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:e})),e.onDidChangeModelContent(t=>this._onDidChange.fire({editor:e}))))}_onDidRemoveEditor(e){var t;(t=this._listener.get(e))===null||t===void 0||t.dispose(),this._listener.delete(e)}};E3=bG([LS(0,Ot)],E3);xe();No();zi();_t();Ge();$l();Ei();st();Dt();Tt();var vG=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})};function IS(o,e,t,i){let r=t.ordered(o).map(s=>Promise.resolve(i(s,o,e)).then(void 0,a=>{Di(a)}));return Promise.all(r).then(s=>{let a=[];for(let l of s)Array.isArray(l)?a.push(...l):l&&a.push(l);return a})}function OS(o,e,t){return IS(o,e,Hh,(i,n,r)=>i.provideDefinition(n,r,t))}function x3(o,e,t){return IS(o,e,jm,(i,n,r)=>i.provideDeclaration(n,r,t))}function D3(o,e,t){return IS(o,e,Wm,(i,n,r)=>i.provideImplementation(n,r,t))}function L3(o,e,t){return IS(o,e,Um,(i,n,r)=>i.provideTypeDefinition(n,r,t))}function TS(o,e,t,i){return IS(o,e,Fm,(n,r,s)=>vG(this,void 0,void 0,function*(){let a=yield n.provideReferences(r,s,{includeDeclaration:!0},i);if(!t||!a||a.length!==2)return a;let l=yield n.provideReferences(r,s,{includeDeclaration:!1},i);return l&&l.length===1?l:a}))}function NS(o){return vG(this,void 0,void 0,function*(){let e=yield o(),t=new br(e,""),i=t.references.map(n=>n.link);return t.dispose(),i})}Fs("_executeDefinitionProvider",(o,e)=>NS(()=>OS(o,e,qe.None)));Fs("_executeDeclarationProvider",(o,e)=>NS(()=>x3(o,e,qe.None)));Fs("_executeImplementationProvider",(o,e)=>NS(()=>D3(o,e,qe.None)));Fs("_executeTypeDefinitionProvider",(o,e)=>NS(()=>L3(o,e,qe.None)));Fs("_executeReferenceProvider",(o,e)=>NS(()=>TS(o,e,!1,qe.None)));var Zl=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},k3,I3,O3,T3,N3,P3,R3,M3;Vo.appendMenuItem(De.EditorContext,{submenu:De.EditorContextPeek,title:g("peek.submenu","Peek"),group:"navigation",order:100});var wG=new Set;function $c(o){let e=new o;return AL(e),wG.add(e.id),e}var __=class extends _e{constructor(e,t){super(t);this._configuration=e}run(e,t){if(!t.hasModel())return Promise.resolve(void 0);let i=e.get(fi),n=e.get(Ot),r=e.get(Vr),s=e.get(kS),a=t.getModel(),l=t.getPosition(),c=new ku(t,1|4),d=Sb(this._getLocationModel(a,l,c.token),c.token).then(h=>Zl(this,void 0,void 0,function*(){if(!h||c.token.isCancellationRequested)return;un(h.ariaMessage);let u;if(h.referenceAt(a.uri,l)){let p=this._getAlternativeCommand(t);p!==this.id&&wG.has(p)&&(u=t.getAction(p))}let f=h.references.length;if(f===0){if(!this._configuration.muteMessage){let p=a.getWordAtPosition(l);Or.get(t).showMessage(this._getNoResultFoundMessage(p),l)}}else if(f===1&&u)u.run();else return this._onResult(n,s,t,h)}),h=>{i.error(h)}).finally(()=>{c.dispose()});return r.showWhile(d,250),d}_onResult(e,t,i,n){return Zl(this,void 0,void 0,function*(){let r=this._getGoToPreference(i);if(!(i instanceof Hc)&&(this._configuration.openInPeek||r==="peek"&&n.references.length>1))this._openInPeek(i,n);else{let s=n.firstReference(),a=n.references.length>1&&r==="gotoAndPeek",l=yield this._openReference(i,e,s,this._configuration.openToSide,!a);a&&l?this._openInPeek(l,n):n.dispose(),r==="goto"&&t.put(s)}})}_openReference(e,t,i,n,r){return Zl(this,void 0,void 0,function*(){let s;if(vW(i)&&(s=i.targetSelectionRange),s||(s=i.range),!s)return;let a=yield t.openCodeEditor({resource:i.uri,options:{selection:D.collapseToStart(s),selectionRevealType:3}},e,n);if(!!a){if(r){let l=a.getModel(),c=a.deltaDecorations([],[{range:s,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{a.getModel()===l&&a.deltaDecorations(c,[])},350)}return a}})}_openInPeek(e,t){let i=m_.get(e);i&&e.hasModel()?i.toggleWidget(e.getSelection(),wi(n=>Promise.resolve(t)),this._configuration.openInPeek):t.dispose()}},Yw=class extends __{_getLocationModel(e,t,i){return Zl(this,void 0,void 0,function*(){return new br(yield OS(e,t,i),g("def.title","Definitions"))})}_getNoResultFoundMessage(e){return e&&e.word?g("noResultWord","No definition found for '{0}'",e.word):g("generic.noResults","No definition found")}_getAlternativeCommand(e){return e.getOption(50).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(50).multipleDefinitions}},CG=na&&!u0?2048|70:70;$c((k3=class A3 extends Yw{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:A3.id,label:g("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:pe.and(A.hasDefinitionProvider,A.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:A.editorTextFocus,primary:CG,weight:100},contextMenuOpts:{group:"navigation",order:1.1}});rt.registerCommandAlias("editor.action.goToDeclaration",A3.id)}},k3.id="editor.action.revealDefinition",k3));$c((I3=class F3 extends Yw{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:F3.id,label:g("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:pe.and(A.hasDefinitionProvider,A.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:A.editorTextFocus,primary:Ji(2048|41,CG),weight:100}});rt.registerCommandAlias("editor.action.openDeclarationToTheSide",F3.id)}},I3.id="editor.action.revealDefinitionAside",I3));$c((O3=class B3 extends Yw{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:B3.id,label:g("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:pe.and(A.hasDefinitionProvider,Tr.notInPeekEditor,A.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:A.editorTextFocus,primary:512|70,linux:{primary:2048|1024|68},weight:100},contextMenuOpts:{menuId:De.EditorContextPeek,group:"peek",order:2}});rt.registerCommandAlias("editor.action.previewDeclaration",B3.id)}},O3.id="editor.action.peekDefinition",O3));var j3=class extends __{_getLocationModel(e,t,i){return Zl(this,void 0,void 0,function*(){return new br(yield x3(e,t,i),g("decl.title","Declarations"))})}_getNoResultFoundMessage(e){return e&&e.word?g("decl.noResultWord","No declaration found for '{0}'",e.word):g("decl.generic.noResults","No declaration found")}_getAlternativeCommand(e){return e.getOption(50).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(50).multipleDeclarations}};$c((T3=class yG extends j3{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:yG.id,label:g("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:pe.and(A.hasDeclarationProvider,A.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(e){return e&&e.word?g("decl.noResultWord","No declaration found for '{0}'",e.word):g("decl.generic.noResults","No declaration found")}},T3.id="editor.action.revealDeclaration",T3));$c(class extends j3{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:g("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:pe.and(A.hasDeclarationProvider,Tr.notInPeekEditor,A.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:De.EditorContextPeek,group:"peek",order:3}})}});var W3=class extends __{_getLocationModel(e,t,i){return Zl(this,void 0,void 0,function*(){return new br(yield L3(e,t,i),g("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(e){return e&&e.word?g("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):g("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(e){return e.getOption(50).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(50).multipleTypeDefinitions}};$c((N3=class SG extends W3{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:SG.ID,label:g("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:pe.and(A.hasTypeDefinitionProvider,A.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:A.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},N3.ID="editor.action.goToTypeDefinition",N3));$c((P3=class EG extends W3{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:EG.ID,label:g("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:pe.and(A.hasTypeDefinitionProvider,Tr.notInPeekEditor,A.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:De.EditorContextPeek,group:"peek",order:4}})}},P3.ID="editor.action.peekTypeDefinition",P3));var U3=class extends __{_getLocationModel(e,t,i){return Zl(this,void 0,void 0,function*(){return new br(yield D3(e,t,i),g("impl.title","Implementations"))})}_getNoResultFoundMessage(e){return e&&e.word?g("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):g("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(e){return e.getOption(50).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(50).multipleImplementations}};$c((R3=class xG extends U3{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:xG.ID,label:g("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:pe.and(A.hasImplementationProvider,A.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:A.editorTextFocus,primary:2048|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},R3.ID="editor.action.goToImplementation",R3));$c((M3=class DG extends U3{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:DG.ID,label:g("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:pe.and(A.hasImplementationProvider,Tr.notInPeekEditor,A.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:A.editorTextFocus,primary:2048|1024|70,weight:100},contextMenuOpts:{menuId:De.EditorContextPeek,group:"peek",order:5}})}},M3.ID="editor.action.peekImplementation",M3));var z3=class extends __{_getNoResultFoundMessage(e){return e?g("references.no","No references found for '{0}'",e.word):g("references.noGeneric","No references found")}_getAlternativeCommand(e){return e.getOption(50).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(50).multipleReferences}};$c(class extends z3{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:g("goToReferences.label","Go to References"),alias:"Go to References",precondition:pe.and(A.hasReferenceProvider,Tr.notInPeekEditor,A.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:A.editorTextFocus,primary:1024|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(e,t,i){return Zl(this,void 0,void 0,function*(){return new br(yield TS(e,t,!0,i),g("ref.title","References"))})}});$c(class extends z3{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:g("references.action.label","Peek References"),alias:"Peek References",precondition:pe.and(A.hasReferenceProvider,Tr.notInPeekEditor,A.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:De.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(e,t,i){return Zl(this,void 0,void 0,function*(){return new br(yield TS(e,t,!1,i),g("ref.title","References"))})}});var LG=class extends __{constructor(e,t,i){super(e,{id:"editor.action.goToLocation",label:g("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:pe.and(Tr.notInPeekEditor,A.isInWalkThroughSnippet.toNegated())});this._references=t,this._gotoMultipleBehaviour=i}_getLocationModel(e,t,i){return Zl(this,void 0,void 0,function*(){return new br(this._references,g("generic.title","Locations"))})}_getNoResultFoundMessage(e){return e&&g("generic.noResult","No results for '{0}'",e.word)||""}_getGoToPreference(e){var t;return(t=this._gotoMultipleBehaviour)!==null&&t!==void 0?t:e.getOption(50).multipleReferences}_getAlternativeCommand(){return""}};rt.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Ee},{name:"position",description:"The position at which to start",constraint:H.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(o,e,t,i,n,r,s)=>Zl(void 0,void 0,void 0,function*(){$t(Ee.isUri(e)),$t(H.isIPosition(t)),$t(Array.isArray(i)),$t(typeof n=="undefined"||typeof n=="string"),$t(typeof s=="undefined"||typeof s=="boolean");let a=o.get(Ot),l=yield a.openCodeEditor({resource:e},a.getFocusedCodeEditor());if(Rl(l))return l.setPosition(t),l.revealPositionInCenterIfOutsideViewport(t,0),l.invokeWithinContext(c=>{let d=new class extends LG{_getNoResultFoundMessage(h){return r||super._getNoResultFoundMessage(h)}}({muteMessage:!Boolean(r),openInPeek:Boolean(s),openToSide:!1},i,n);c.get(Ve).invokeFunction(d.run.bind(d),l)})})});rt.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Ee},{name:"position",description:"The position at which to start",constraint:H.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(o,e,t,i,n)=>Zl(void 0,void 0,void 0,function*(){o.get(li).executeCommand("editor.action.goToLocations",e,t,i,n,void 0,!0)})});rt.registerCommand({id:"editor.action.findReferences",handler:(o,e,t)=>{$t(Ee.isUri(e)),$t(H.isIPosition(t));let i=o.get(Ot);return i.openCodeEditor({resource:e},i.getFocusedCodeEditor()).then(n=>{if(!Rl(n)||!n.hasModel())return;let r=m_.get(n);if(!r)return;let s=wi(l=>TS(n.getModel(),H.lift(t),!1,l).then(c=>new br(c,g("ref.title","References")))),a=new D(t.lineNumber,t.column,t.lineNumber,t.column);return Promise.resolve(r.toggleWidget(a,s,!1))})}});rt.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");Vo.appendMenuItems([{id:De.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:g({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:De.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:g({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:De.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:g({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:De.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:g({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:De.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:g({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}]);var kpe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},kG=function(o,e){return function(t,i){e(t,i,o)}},Wg=class PS{constructor(e,t,i){this.textModelResolverService=t,this.modeService=i,this.toUnhook=new Q,this.toUnhookForKeyboard=new Q,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e;let n=new yS(e);this.toUnhook.add(n),this.toUnhook.add(n.onMouseMoveOrRelevantKeyDown(([r,s])=>{this.startFindDefinitionFromMouse(r,Ia(s))})),this.toUnhook.add(n.onExecute(r=>{this.isEnabled(r)&&this.gotoDefinition(r.target.position,r.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},s=>{this.removeLinkDecorations(),ye(s)})})),this.toUnhook.add(n.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(e){return e.getContribution(PS.ID)}startFindDefinitionFromCursor(e){return this.startFindDefinition(e).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(t=>{t&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(e,t){if(e.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,t)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}let i=e.target.position;this.startFindDefinition(i)}startFindDefinition(e){var t;this.toUnhookForKeyboard.clear();let i=e?(t=this.editor.getModel())===null||t===void 0?void 0:t.getWordAtPosition(e):null;if(!i)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===i.startColumn&&this.currentWordAtPosition.endColumn===i.endColumn&&this.currentWordAtPosition.word===i.word)return Promise.resolve(0);this.currentWordAtPosition=i;let n=new yg(this.editor,4|1|2|8);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=wi(r=>this.findDefinition(e,r)),this.previousPromise.then(r=>{if(!r||!r.length||!n.validate(this.editor)){this.removeLinkDecorations();return}if(r.length>1)this.addDecoration(new D(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn),new ps().appendText(g("multipleResults","Click to show {0} definitions.",r.length)));else{let s=r[0];if(!s.uri)return;this.textModelResolverService.createModelReference(s.uri).then(a=>{if(!a.object||!a.object.textEditorModel){a.dispose();return}let{object:{textEditorModel:l}}=a,{startLineNumber:c}=s.range;if(c<1||c>l.getLineCount()){a.dispose();return}let d=this.getPreviewValue(l,c,s),h;s.originSelectionRange?h=D.lift(s.originSelectionRange):h=new D(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn);let u=this.modeService.getModeIdByFilepathOrFirstLine(l.uri);this.addDecoration(h,new ps().appendCodeblock(u||"",d)),a.dispose()})}}).then(void 0,ye)}getPreviewValue(e,t,i){let n=i.targetSelectionRange?i.range:this.getPreviewRangeBasedOnBrackets(e,t);return n.endLineNumber-n.startLineNumber>=PS.MAX_SOURCE_PREVIEW_LINES&&(n=this.getPreviewRangeBasedOnIndentation(e,t)),this.stripIndentationFromPreviewRange(e,t,n)}stripIndentationFromPreviewRange(e,t,i){let r=e.getLineFirstNonWhitespaceColumn(t);for(let a=t+1;a<i.endLineNumber;a++){let l=e.getLineFirstNonWhitespaceColumn(a);r=Math.min(r,l)}return e.getValueInRange(i).replace(new RegExp(`^\\s{${r-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(e,t){let i=e.getLineFirstNonWhitespaceColumn(t),n=Math.min(e.getLineCount(),t+PS.MAX_SOURCE_PREVIEW_LINES),r=t+1;for(;r<n;r++){let s=e.getLineFirstNonWhitespaceColumn(r);if(i===s)break}return new D(t,1,r+1,1)}getPreviewRangeBasedOnBrackets(e,t){let i=Math.min(e.getLineCount(),t+PS.MAX_SOURCE_PREVIEW_LINES),n=[],r=!0,s=e.bracketPairs.findNextBracket(new H(t,1));for(;s!==null;){if(n.length===0)n.push(s);else{let d=n[n.length-1];if(d.open[0]===s.open[0]&&d.isOpen&&!s.isOpen?n.pop():n.push(s),n.length===0)if(r)r=!1;else return new D(t,1,s.range.endLineNumber+1,1)}let a=e.getLineMaxColumn(t),l=s.range.endLineNumber,c=s.range.endColumn;if(a===s.range.endColumn&&(l++,c=1),l>i)return new D(t,1,i+1,1);s=e.bracketPairs.findNextBracket(new H(l,c))}return new D(t,1,i+1,1)}addDecoration(e,t){let i={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[i])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&e.target.type===6&&(e.hasTriggerModifier||(t?t.keyCodeIsTriggerKey:!1))&&Hh.has(this.editor.getModel())}findDefinition(e,t){let i=this.editor.getModel();return i?OS(i,e,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext(i=>{let n=!t&&this.editor.getOption(77)&&!this.isInPeekEditor(i);return new Yw({openToSide:t,openInPeek:n,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(i,this.editor)})}isInPeekEditor(e){let t=e.get(Ce);return Tr.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose()}};Wg.ID="editor.contrib.gotodefinitionatposition";Wg.MAX_SOURCE_PREVIEW_LINES=8;Wg=kpe([kG(1,Kn),kG(2,Pi)],Wg);Qe(Wg.ID,Wg);gt((o,e)=>{let t=o.getColor(nk);t&&e.addRule(`.monaco-editor .goto-definition-link { color: ${t} !important; }`)});Me();Me();ne();var tT=se,RS=class extends ${constructor(){super();this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new jc(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}},MS=class extends ${constructor(e,t,i){super();this.actionContainer=J(e,tT("div.action-container")),this.action=J(this.actionContainer,tT("a.action")),this.action.setAttribute("role","button"),t.iconClass&&J(this.action,tT(`span.icon.${t.iconClass}`));let n=J(this.action,tT("span"));n.textContent=i?`${t.label} (${i})`:t.label,this._register(oe(this.actionContainer,Le.MOUSE_DOWN,r=>{r.stopPropagation(),r.preventDefault(),t.run(this.actionContainer)})),this.setEnabled(!0)}static render(e,t,i){return new MS(e,t,i)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}};Ut();ne();ot();ve();Wn();Tt();tt();Ei();Yn();ne();ve();Se();var V3=class{constructor(e,t,i){this.presentationIndex=i,this._onColorFlushed=new F,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new F,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new F,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){for(let i=0;i<this.colorPresentations.length;i++)if(t.toLowerCase()===this.colorPresentations[i].label){this.presentationIndex=i,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}};Lo();Me();Yn();Se();ne();xe();yi();dt();var Kc=se,IG=class extends ${constructor(e,t,i){super();this.model=t,this.domNode=Kc(".colorpicker-header"),J(e,this.domNode),this.pickedColorNode=J(this.domNode,Kc(".picked-color"));let n=g("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",n);let r=J(this.domNode,Kc(".original-color"));r.style.backgroundColor=Z.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=i.getColorTheme().getColor(au)||Z.white,this._register(gt((s,a)=>{this.backgroundColor=s.getColor(au)||Z.white})),this._register(oe(this.pickedColorNode,Le.CLICK,()=>this.model.selectNextColorPresentation())),this._register(oe(r,Le.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this._register(t.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=Z.Format.CSS.format(t.color)||"",this.pickedColorNode.classList.toggle("light",t.color.rgba.a<.5?this.backgroundColor.isLighter():t.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){this.pickedColorNode.style.backgroundColor=Z.Format.CSS.format(e)||"",this.pickedColorNode.classList.toggle("light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(Kc(".codicon.codicon-color-mode"))}},OG=class extends ${constructor(e,t,i){super();this.model=t,this.pixelRatio=i,this.domNode=Kc(".colorpicker-body"),J(e,this.domNode),this.saturationBox=new TG(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new NG(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new PG(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){let i=this.model.color.hsva;this.model.color=new Z(new jl(i.h,e,t,i.a))}onDidOpacityChange(e){let t=this.model.color.hsva;this.model.color=new Z(new jl(t.h,t.s,t.v,e))}onDidHueChange(e){let t=this.model.color.hsva,i=(1-e)*360;this.model.color=new Z(new jl(i===360?0:i,t.s,t.v,t.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}},TG=class extends ${constructor(e,t,i){super();this.model=t,this.pixelRatio=i,this._onDidChange=new F,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new F,this.onColorFlushed=this._onColorFlushed.event,this.domNode=Kc(".saturation-wrap"),J(e,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",J(this.domNode,this.canvas),this.selection=Kc(".saturation-selection"),J(this.domNode,this.selection),this.layout(),this._register(SD(this.domNode,n=>this.onMouseDown(n))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(e){this.monitor=this._register(new ua);let t=Gi(this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.buttons,Oc,n=>this.onDidChangePosition(n.posx-t.left,n.posy-t.top),()=>null);let i=UP(document,()=>{this._onColorFlushed.fire(),i.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(e,t){let i=Math.max(0,Math.min(1,e/this.width)),n=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(i,n),this._onDidChange.fire({s:i,v:n})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();let e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){let e=this.model.color.hsva,t=new Z(new jl(e.h,1,1,1)),i=this.canvas.getContext("2d"),n=i.createLinearGradient(0,0,this.canvas.width,0);n.addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),n.addColorStop(1,"rgba(255, 255, 255, 0)");let r=i.createLinearGradient(0,0,0,this.canvas.height);r.addColorStop(0,"rgba(0, 0, 0, 0)"),r.addColorStop(1,"rgba(0, 0, 0, 1)"),i.rect(0,0,this.canvas.width,this.canvas.height),i.fillStyle=Z.Format.CSS.format(t),i.fill(),i.fillStyle=n,i.fill(),i.fillStyle=r,i.fill()}paintSelection(e,t){this.selection.style.left=`${e*this.width}px`,this.selection.style.top=`${this.height-t*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}},H3=class extends ${constructor(e,t){super();this.model=t,this._onDidChange=new F,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new F,this.onColorFlushed=this._onColorFlushed.event,this.domNode=J(e,Kc(".strip")),this.overlay=J(this.domNode,Kc(".overlay")),this.slider=J(this.domNode,Kc(".slider")),this.slider.style.top="0px",this._register(SD(this.domNode,i=>this.onMouseDown(i))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;let e=this.getValue(this.model.color);this.updateSliderPosition(e)}onMouseDown(e){let t=this._register(new ua),i=Gi(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.buttons,Oc,r=>this.onDidChangeTop(r.posy-i.top),()=>null);let n=UP(document,()=>{this._onColorFlushed.fire(),n.dispose(),t.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(e){let t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}updateSliderPosition(e){this.slider.style.top=`${(1-e)*this.height}px`}},NG=class extends H3{constructor(e,t){super(e,t);this.domNode.classList.add("opacity-strip"),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){let{r:t,g:i,b:n}=e.rgba,r=new Z(new Nt(t,i,n,1)),s=new Z(new Nt(t,i,n,0));this.overlay.style.background=`linear-gradient(to bottom, ${r} 0%, ${s} 100%)`}getValue(e){return e.hsva.a}},PG=class extends H3{constructor(e,t){super(e,t);this.domNode.classList.add("hue-strip")}getValue(e){return 1-e.hsva.h/360}},$3=class extends Nn{constructor(e,t,i,n){super();this.model=t,this.pixelRatio=i,this._register(h0(()=>this.layout()));let r=Kc(".colorpicker-widget");e.appendChild(r);let s=new IG(r,this.model,n);this.body=new OG(r,this.model,this.pixelRatio),this._register(s),this._register(this.body)}layout(){this.body.layout()}};dt();var Ipe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},Ope=function(o,e){return function(t,i){e(t,i,o)}},RG=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},MG=class{constructor(e,t,i,n){this.owner=e,this.range=t,this.model=i,this.provider=n,this.forceShowAtRange=!0}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}},iT=class{constructor(e,t,i){this._editor=e,this._hover=t,this._themeService=i}computeSync(e,t){return[]}computeAsync(e,t,i){return Sn.fromPromise(this._computeAsync(e,t,i))}_computeAsync(e,t,i){return RG(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];let n=Bg.get(this._editor);for(let r of t){if(!n.isColorDecorationId(r.id))continue;let s=n.getColorData(r.range.getStartPosition());if(s)return[yield this._createColorHover(this._editor.getModel(),s.colorInfo,s.provider)]}return[]})}_createColorHover(e,t,i){return RG(this,void 0,void 0,function*(){let n=e.getValueInRange(t.range),{red:r,green:s,blue:a,alpha:l}=t.color,c=new Nt(Math.round(r*255),Math.round(s*255),Math.round(a*255),l),d=new Z(c),h=yield s3(e,t,i,qe.None),u=new V3(d,[],0);return u.colorPresentations=h||[],u.guessColorPresentation(d,n),new MG(this,D.lift(t.range),u,i)})}renderHoverParts(e,t,i){if(e.length===0||!this._editor.hasModel())return $.None;let n=new Q,r=e[0],s=this._editor.getModel(),a=r.model,l=n.add(new $3(t,a,this._editor.getOption(128),this._themeService)),c=new D(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn),d=()=>{let u,f;if(a.presentation.textEdit){u=[a.presentation.textEdit],f=new D(a.presentation.textEdit.range.startLineNumber,a.presentation.textEdit.range.startColumn,a.presentation.textEdit.range.endLineNumber,a.presentation.textEdit.range.endColumn);let p=this._editor.getModel()._setTrackedRange(null,f,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",u),f=this._editor.getModel()._getTrackedRange(p)||f}else u=[{identifier:null,range:c,text:a.presentation.label,forceMoveMarkers:!1}],f=c.setEndPosition(c.endLineNumber,c.startColumn+a.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",u);a.presentation.additionalTextEdits&&(u=[...a.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",u),this._hover.hide()),this._editor.pushUndoStop(),c=f},h=u=>s3(s,{range:c,color:{red:u.rgba.r/255,green:u.rgba.g/255,blue:u.rgba.b/255,alpha:u.rgba.a}},r.provider,qe.None).then(f=>{a.colorPresentations=f||[]});return n.add(a.onColorFlushed(u=>{h(u).then(d)})),n.add(a.onDidChangeColor(h)),this._hover.setColorPicker(l),n}};iT=Ipe([Ope(2,Rt)],iT);tt();st();var Tpe=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},Npe=function(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=o[Symbol.asyncIterator],t;return e?e.call(o):(o=typeof __values=="function"?__values(o):o[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=o[r]&&function(s){return new Promise(function(a,l){s=o[r](s),n(a,l,s.done,s.value)})}}function n(r,s,a,l){Promise.resolve(l).then(function(c){r({value:c,done:a})},s)}},AS=class{constructor(e,t,i,n,r){this._computer=e,this._state=0,this._hoverTime=r,this._firstWaitScheduler=new bt(()=>this._triggerAsyncComputation(),0),this._secondWaitScheduler=new bt(()=>this._triggerSyncComputation(),0),this._loadingMessageScheduler=new bt(()=>this._showLoadingMessage(),0),this._asyncIterable=null,this._asyncIterableDone=!1,this._completeCallback=t,this._errorCallback=i,this._progressCallback=n}setHoverTime(e){this._hoverTime=e}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=i6(e=>this._computer.computeAsync(e)),Tpe(this,void 0,void 0,function*(){var e,t;try{try{for(var i=Npe(this._asyncIterable),n;n=yield i.next(),!n.done;){let r=n.value;r&&(this._computer.onResult([r],!1),this._onProgress())}}catch(r){e={error:r}}finally{try{n&&!n.done&&(t=i.return)&&(yield t.call(i))}finally{if(e)throw e.error}}this._asyncIterableDone=!0,this._withAsyncResult()}catch(r){this._onError(r)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncIterableDone?(this._state=0,this._onComplete()):(this._state=3,this._onProgress())}_showLoadingMessage(){this._state===3&&(this._state=4,this._onProgress())}_withAsyncResult(){(this._state===3||this._state===4)&&(this._state=0,this._onComplete())}_onComplete(){this._completeCallback(this._computer.getResult())}_onError(e){this._errorCallback?this._errorCallback(e):ye(e)}_onProgress(){this._state===4?this._progressCallback(this._computer.getResultWithLoadingMessage()):this._progressCallback(this._computer.getResult())}start(e){if(e===0)this._state===0&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._state=0}};var nT=class{constructor(e,t){this.priority=e,this.range=t,this.type=1}equals(e){return e.type===1&&this.range.equalsRange(e.range)}canAdoptVisibleHover(e,t){return e.type===1&&t.lineNumber===this.range.startLineNumber}},FS=class{constructor(e,t,i){this.priority=e,this.owner=t,this.range=i,this.type=2}equals(e){return e.type===2&&this.owner===e.owner}canAdoptVisibleHover(e,t){return e.type===2&&this.owner===e.owner}};Me();Ut();tt();ne();Me();function Ppe(o){if(Array.isArray(o)){for(var e=0,t=Array(o.length);e<o.length;e++)t[e]=o[e];return t}else return Array.from(o)}var Rpe=Object.hasOwnProperty,AG=Object.setPrototypeOf,Mpe=Object.isFrozen,Ape=Object.getPrototypeOf,Fpe=Object.getOwnPropertyDescriptor,Zs=Object.freeze,Hu=Object.seal,Bpe=Object.create,FG=typeof Reflect!="undefined"&&Reflect,oT=FG.apply,K3=FG.construct;oT||(oT=function(e,t,i){return e.apply(t,i)});Zs||(Zs=function(e){return e});Hu||(Hu=function(e){return e});K3||(K3=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(Ppe(t))))});var jpe=Yc(Array.prototype.forEach),BG=Yc(Array.prototype.pop),BS=Yc(Array.prototype.push),b_=Yc(String.prototype.toLowerCase),jG=Yc(String.prototype.match),Ug=Yc(String.prototype.replace),Wpe=Yc(String.prototype.indexOf),Upe=Yc(String.prototype.trim),$u=Yc(RegExp.prototype.test),WG=zpe(TypeError);function Yc(o){return function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return oT(o,e,i)}}function zpe(o){return function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return K3(o,t)}}function xi(o,e){AG&&AG(o,null);for(var t=e.length;t--;){var i=e[t];if(typeof i=="string"){var n=b_(i);n!==i&&(Mpe(e)||(e[t]=n),i=n)}o[i]=!0}return o}function v_(o){var e=Bpe(null),t=void 0;for(t in o)oT(Rpe,o,[t])&&(e[t]=o[t]);return e}function rT(o,e){for(;o!==null;){var t=Fpe(o,e);if(t){if(t.get)return Yc(t.get);if(typeof t.value=="function")return Yc(t.value)}o=Ape(o)}function i(n){return console.warn("fallback value for",n),null}return i}var UG=Zs(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Y3=Zs(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),q3=Zs(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Vpe=Zs(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Z3=Zs(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Hpe=Zs(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),zG=Zs(["#text"]),VG=Zs(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),G3=Zs(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),HG=Zs(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),sT=Zs(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),$pe=Hu(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Kpe=Hu(/<%[\s\S]*|[\s\S]*%>/gm),Ype=Hu(/^data-[\-\w.\u00B7-\uFFFF]/),qpe=Hu(/^aria-[\-\w]+$/),Zpe=Hu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Gpe=Hu(/^(?:\w+script|data):/i),Xpe=Hu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),jS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function uh(o){if(Array.isArray(o)){for(var e=0,t=Array(o.length);e<o.length;e++)t[e]=o[e];return t}else return Array.from(o)}var Qpe=function(){return typeof window=="undefined"?null:window},Jpe=function(e,t){if((typeof e=="undefined"?"undefined":jS(e))!=="object"||typeof e.createPolicy!="function")return null;var i=null,n="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(n)&&(i=t.currentScript.getAttribute(n));var r="dompurify"+(i?"#"+i:"");try{return e.createPolicy(r,{createHTML:function(a){return a}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}};function $G(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Qpe(),e=function(P){return $G(P)};if(e.version="2.3.1",e.removed=[],!o||!o.document||o.document.nodeType!==9)return e.isSupported=!1,e;var t=o.document,i=o.document,n=o.DocumentFragment,r=o.HTMLTemplateElement,s=o.Node,a=o.Element,l=o.NodeFilter,c=o.NamedNodeMap,d=c===void 0?o.NamedNodeMap||o.MozNamedAttrMap:c,h=o.Text,u=o.Comment,f=o.DOMParser,p=o.trustedTypes,b=a.prototype,v=rT(b,"cloneNode"),y=rT(b,"nextSibling"),w=rT(b,"childNodes"),S=rT(b,"parentNode");if(typeof r=="function"){var x=i.createElement("template");x.content&&x.content.ownerDocument&&(i=x.content.ownerDocument)}var k=Jpe(p,t),R=k&&tc?k.createHTML(""):"",O=i,N=O.implementation,W=O.createNodeIterator,G=O.createDocumentFragment,Y=O.getElementsByTagName,te=t.importNode,re={};try{re=v_(i).documentMode?i.documentMode:{}}catch{}var Pe={};e.isSupported=typeof S=="function"&&N&&typeof N.createHTMLDocument!="undefined"&&re!==9;var Ne=$pe,Ae=Kpe,He=Ype,We=qpe,Ue=Gpe,Ie=Xpe,gi=Zpe,Si=null,Ui=xi({},[].concat(uh(UG),uh(Y3),uh(q3),uh(Z3),uh(zG))),Gt=null,nn=xi({},[].concat(uh(VG),uh(G3),uh(HG),uh(sT))),qo=null,Zo=null,Gn=!0,mi=!0,Ca=!1,kt=!1,et=!1,ec=!1,id=!1,Pn=!1,Ao=!1,ya=!0,tc=!1,vt=!0,fo=!0,Qs=!1,Sa={},Js=null,bs=xi({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ll=null,ti=xi({},["audio","video","img","source","image","track"]),cl=null,vs=xi({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),yh="http://www.w3.org/1998/Math/MathML",af="http://www.w3.org/2000/svg",dl="http://www.w3.org/1999/xhtml",Sh=dl,Eh=!1,ws=null,xh=i.createElement("form"),nd=function(P){ws&&ws===P||((!P||(typeof P=="undefined"?"undefined":jS(P))!=="object")&&(P={}),P=v_(P),Si="ALLOWED_TAGS"in P?xi({},P.ALLOWED_TAGS):Ui,Gt="ALLOWED_ATTR"in P?xi({},P.ALLOWED_ATTR):nn,cl="ADD_URI_SAFE_ATTR"in P?xi(v_(vs),P.ADD_URI_SAFE_ATTR):vs,ll="ADD_DATA_URI_TAGS"in P?xi(v_(ti),P.ADD_DATA_URI_TAGS):ti,Js="FORBID_CONTENTS"in P?xi({},P.FORBID_CONTENTS):bs,qo="FORBID_TAGS"in P?xi({},P.FORBID_TAGS):{},Zo="FORBID_ATTR"in P?xi({},P.FORBID_ATTR):{},Sa="USE_PROFILES"in P?P.USE_PROFILES:!1,Gn=P.ALLOW_ARIA_ATTR!==!1,mi=P.ALLOW_DATA_ATTR!==!1,Ca=P.ALLOW_UNKNOWN_PROTOCOLS||!1,kt=P.SAFE_FOR_TEMPLATES||!1,et=P.WHOLE_DOCUMENT||!1,Pn=P.RETURN_DOM||!1,Ao=P.RETURN_DOM_FRAGMENT||!1,ya=P.RETURN_DOM_IMPORT!==!1,tc=P.RETURN_TRUSTED_TYPE||!1,id=P.FORCE_BODY||!1,vt=P.SANITIZE_DOM!==!1,fo=P.KEEP_CONTENT!==!1,Qs=P.IN_PLACE||!1,gi=P.ALLOWED_URI_REGEXP||gi,Sh=P.NAMESPACE||dl,kt&&(mi=!1),Ao&&(Pn=!0),Sa&&(Si=xi({},[].concat(uh(zG))),Gt=[],Sa.html===!0&&(xi(Si,UG),xi(Gt,VG)),Sa.svg===!0&&(xi(Si,Y3),xi(Gt,G3),xi(Gt,sT)),Sa.svgFilters===!0&&(xi(Si,q3),xi(Gt,G3),xi(Gt,sT)),Sa.mathMl===!0&&(xi(Si,Z3),xi(Gt,HG),xi(Gt,sT))),P.ADD_TAGS&&(Si===Ui&&(Si=v_(Si)),xi(Si,P.ADD_TAGS)),P.ADD_ATTR&&(Gt===nn&&(Gt=v_(Gt)),xi(Gt,P.ADD_ATTR)),P.ADD_URI_SAFE_ATTR&&xi(cl,P.ADD_URI_SAFE_ATTR),P.FORBID_CONTENTS&&(Js===bs&&(Js=v_(Js)),xi(Js,P.FORBID_CONTENTS)),fo&&(Si["#text"]=!0),et&&xi(Si,["html","head","body"]),Si.table&&(xi(Si,["tbody"]),delete qo.tbody),Zs&&Zs(P),ws=P)},Jg=xi({},["mi","mo","mn","ms","mtext"]),K_=xi({},["foreignobject","desc","title","annotation-xml"]),lf=xi({},Y3);xi(lf,q3),xi(lf,Vpe);var od=xi({},Z3);xi(od,Hpe);var Y_=function(P){var q=S(P);(!q||!q.tagName)&&(q={namespaceURI:dl,tagName:"template"});var L=b_(P.tagName),ce=b_(q.tagName);if(P.namespaceURI===af)return q.namespaceURI===dl?L==="svg":q.namespaceURI===yh?L==="svg"&&(ce==="annotation-xml"||Jg[ce]):Boolean(lf[L]);if(P.namespaceURI===yh)return q.namespaceURI===dl?L==="math":q.namespaceURI===af?L==="math"&&K_[ce]:Boolean(od[L]);if(P.namespaceURI===dl){if(q.namespaceURI===af&&!K_[ce]||q.namespaceURI===yh&&!Jg[ce])return!1;var Re=xi({},["title","style","font","a","script"]);return!od[L]&&(Re[L]||!lf[L])}return!1},ea=function(P){BS(e.removed,{element:P});try{P.parentNode.removeChild(P)}catch{try{P.outerHTML=R}catch{P.remove()}}},q_=function(P,q){try{BS(e.removed,{attribute:q.getAttributeNode(P),from:q})}catch{BS(e.removed,{attribute:null,from:q})}if(q.removeAttribute(P),P==="is"&&!Gt[P])if(Pn||Ao)try{ea(q)}catch{}else try{q.setAttribute(P,"")}catch{}},Z_=function(P){var q=void 0,L=void 0;if(id)P="<remove></remove>"+P;else{var ce=jG(P,/^[\r\n\t ]+/);L=ce&&ce[0]}var Re=k?k.createHTML(P):P;if(Sh===dl)try{q=new f().parseFromString(Re,"text/html")}catch{}if(!q||!q.documentElement){q=N.createDocument(Sh,"template",null);try{q.documentElement.innerHTML=Eh?"":Re}catch{}}var ht=q.body||q.documentElement;return P&&L&&ht.insertBefore(i.createTextNode(L),ht.childNodes[0]||null),Sh===dl?Y.call(q,et?"html":"body")[0]:et?q.documentElement:ht},Ea=function(P){return W.call(P.ownerDocument||P,P,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},Ft=function(P){return P instanceof h||P instanceof u?!1:typeof P.nodeName!="string"||typeof P.textContent!="string"||typeof P.removeChild!="function"||!(P.attributes instanceof d)||typeof P.removeAttribute!="function"||typeof P.setAttribute!="function"||typeof P.namespaceURI!="string"||typeof P.insertBefore!="function"},xa=function(P){return(typeof s=="undefined"?"undefined":jS(s))==="object"?P instanceof s:P&&(typeof P=="undefined"?"undefined":jS(P))==="object"&&typeof P.nodeType=="number"&&typeof P.nodeName=="string"},ae=function(P,q,L){!Pe[P]||jpe(Pe[P],function(ce){ce.call(e,q,L,ws)})},ee=function(P){var q=void 0;if(ae("beforeSanitizeElements",P,null),Ft(P)||jG(P.nodeName,/[\u0080-\uFFFF]/))return ea(P),!0;var L=b_(P.nodeName);if(ae("uponSanitizeElement",P,{tagName:L,allowedTags:Si}),!xa(P.firstElementChild)&&(!xa(P.content)||!xa(P.content.firstElementChild))&&$u(/<[/\w]/g,P.innerHTML)&&$u(/<[/\w]/g,P.textContent)||L==="select"&&$u(/<template/i,P.innerHTML))return ea(P),!0;if(!Si[L]||qo[L]){if(fo&&!Js[L]){var ce=S(P)||P.parentNode,Re=w(P)||P.childNodes;if(Re&&ce)for(var ht=Re.length,yt=ht-1;yt>=0;--yt)ce.insertBefore(v(Re[yt],!0),y(P))}return ea(P),!0}return P instanceof a&&!Y_(P)||(L==="noscript"||L==="noembed")&&$u(/<\/no(script|embed)/i,P.innerHTML)?(ea(P),!0):(kt&&P.nodeType===3&&(q=P.textContent,q=Ug(q,Ne," "),q=Ug(q,Ae," "),P.textContent!==q&&(BS(e.removed,{element:P.cloneNode()}),P.textContent=q)),ae("afterSanitizeElements",P,null),!1)},ie=function(P,q,L){if(vt&&(q==="id"||q==="name")&&(L in i||L in xh))return!1;if(!(mi&&!Zo[q]&&$u(He,q))){if(!(Gn&&$u(We,q))){if(!Gt[q]||Zo[q])return!1;if(!cl[q]){if(!$u(gi,Ug(L,Ie,""))){if(!((q==="src"||q==="xlink:href"||q==="href")&&P!=="script"&&Wpe(L,"data:")===0&&ll[P])){if(!(Ca&&!$u(Ue,Ug(L,Ie,"")))){if(L)return!1}}}}}}return!0},B=function(P){var q=void 0,L=void 0,ce=void 0,Re=void 0;ae("beforeSanitizeAttributes",P,null);var ht=P.attributes;if(!!ht){var yt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Gt};for(Re=ht.length;Re--;){q=ht[Re];var ut=q,It=ut.name,it=ut.namespaceURI;if(L=Upe(q.value),ce=b_(It),yt.attrName=ce,yt.attrValue=L,yt.keepAttr=!0,yt.forceKeepAttr=void 0,ae("uponSanitizeAttribute",P,yt),L=yt.attrValue,!yt.forceKeepAttr&&(q_(It,P),!!yt.keepAttr)){if($u(/\/>/i,L)){q_(It,P);continue}kt&&(L=Ug(L,Ne," "),L=Ug(L,Ae," "));var Xn=P.nodeName.toLowerCase();if(!!ie(Xn,ce,L))try{it?P.setAttributeNS(it,It,L):P.setAttribute(It,L),BG(e.removed)}catch{}}}ae("afterSanitizeAttributes",P,null)}},m=function V(P){var q=void 0,L=Ea(P);for(ae("beforeSanitizeShadowDOM",P,null);q=L.nextNode();)ae("uponSanitizeShadowNode",q,null),!ee(q)&&(q.content instanceof n&&V(q.content),B(q));ae("afterSanitizeShadowDOM",P,null)};return e.sanitize=function(V,P){var q=void 0,L=void 0,ce=void 0,Re=void 0,ht=void 0;if(Eh=!V,Eh&&(V="<!-->"),typeof V!="string"&&!xa(V)){if(typeof V.toString!="function")throw WG("toString is not a function");if(V=V.toString(),typeof V!="string")throw WG("dirty is not a string, aborting")}if(!e.isSupported){if(jS(o.toStaticHTML)==="object"||typeof o.toStaticHTML=="function"){if(typeof V=="string")return o.toStaticHTML(V);if(xa(V))return o.toStaticHTML(V.outerHTML)}return V}if(ec||nd(P),e.removed=[],typeof V=="string"&&(Qs=!1),!Qs)if(V instanceof s)q=Z_("<!---->"),L=q.ownerDocument.importNode(V,!0),L.nodeType===1&&L.nodeName==="BODY"||L.nodeName==="HTML"?q=L:q.appendChild(L);else{if(!Pn&&!kt&&!et&&V.indexOf("<")===-1)return k&&tc?k.createHTML(V):V;if(q=Z_(V),!q)return Pn?null:R}q&&id&&ea(q.firstChild);for(var yt=Ea(Qs?V:q);ce=yt.nextNode();)ce.nodeType===3&&ce===Re||ee(ce)||(ce.content instanceof n&&m(ce.content),B(ce),Re=ce);if(Re=null,Qs)return V;if(Pn){if(Ao)for(ht=G.call(q.ownerDocument);q.firstChild;)ht.appendChild(q.firstChild);else ht=q;return ya&&(ht=te.call(t,ht,!0)),ht}var ut=et?q.outerHTML:q.innerHTML;return kt&&(ut=Ug(ut,Ne," "),ut=Ug(ut,Ae," ")),k&&tc?k.createHTML(ut):ut},e.setConfig=function(V){nd(V),ec=!0},e.clearConfig=function(){ws=null,ec=!1},e.isValidAttribute=function(V,P,q){ws||nd({});var L=b_(V),ce=b_(P);return ie(L,ce,q)},e.addHook=function(V,P){typeof P=="function"&&(Pe[V]=Pe[V]||[],BS(Pe[V],P))},e.removeHook=function(V){Pe[V]&&BG(Pe[V])},e.removeHooks=function(V){Pe[V]&&(Pe[V]=[])},e.removeAllHooks=function(){Pe={}},e}var fh=$G();var Qmt=fh.version,Jmt=fh.isSupported,KG=fh.sanitize,ept=fh.setConfig,tpt=fh.clearConfig,ipt=fh.isValidAttribute,X3=fh.addHook,Q3=fh.removeHook,npt=fh.removeHooks,opt=fh.removeAllHooks;Pa();tt();Ei();st();Se();ne();var qc;(function(){function o(e){qc=e()}o.amd=!0,function(e,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof o=="function"&&o.amd?o(t):(e=typeof globalThis!="undefined"?globalThis:e||self,e.marked=t())}(this,function(){"use strict";function e(ae,ee){for(var ie=0;ie<ee.length;ie++){var B=ee[ie];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(ae,B.key,B)}}function t(ae,ee,ie){return ee&&e(ae.prototype,ee),ie&&e(ae,ie),ae}function i(ae,ee){if(!!ae){if(typeof ae=="string")return n(ae,ee);var ie=Object.prototype.toString.call(ae).slice(8,-1);if(ie==="Object"&&ae.constructor&&(ie=ae.constructor.name),ie==="Map"||ie==="Set")return Array.from(ae);if(ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ie))return n(ae,ee)}}function n(ae,ee){(ee==null||ee>ae.length)&&(ee=ae.length);for(var ie=0,B=new Array(ee);ie<ee;ie++)B[ie]=ae[ie];return B}function r(ae,ee){var ie=typeof Symbol!="undefined"&&ae[Symbol.iterator]||ae["@@iterator"];if(ie)return(ie=ie.call(ae)).next.bind(ie);if(Array.isArray(ae)||(ie=i(ae))||ee&&ae&&typeof ae.length=="number"){ie&&(ae=ie);var B=0;return function(){return B>=ae.length?{done:!0}:{done:!1,value:ae[B++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s={exports:{}};function a(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function l(ae){s.exports.defaults=ae}s.exports={defaults:a(),getDefaults:a,changeDefaults:l};var c=/[&<>"']/,d=/[&<>"']/g,h=/[<>"']|&(?!#?\w+;)/,u=/[<>"']|&(?!#?\w+;)/g,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},p=function(ee){return f[ee]};function b(ae,ee){if(ee){if(c.test(ae))return ae.replace(d,p)}else if(h.test(ae))return ae.replace(u,p);return ae}var v=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function y(ae){return ae.replace(v,function(ee,ie){return ie=ie.toLowerCase(),ie==="colon"?":":ie.charAt(0)==="#"?ie.charAt(1)==="x"?String.fromCharCode(parseInt(ie.substring(2),16)):String.fromCharCode(+ie.substring(1)):""})}var w=/(^|[^\[])\^/g;function S(ae,ee){ae=ae.source||ae,ee=ee||"";var ie={replace:function(m,V){return V=V.source||V,V=V.replace(w,"$1"),ae=ae.replace(m,V),ie},getRegex:function(){return new RegExp(ae,ee)}};return ie}var x=/[^\w:]/g,k=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function R(ae,ee,ie){if(ae){var B;try{B=decodeURIComponent(y(ie)).replace(x,"").toLowerCase()}catch{return null}if(B.indexOf("javascript:")===0||B.indexOf("vbscript:")===0||B.indexOf("data:")===0)return null}ee&&!k.test(ie)&&(ie=Y(ee,ie));try{ie=encodeURI(ie).replace(/%25/g,"%")}catch{return null}return ie}var O={},N=/^[^:]+:\/*[^/]*$/,W=/^([^:]+:)[\s\S]*$/,G=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Y(ae,ee){O[" "+ae]||(N.test(ae)?O[" "+ae]=ae+"/":O[" "+ae]=Ne(ae,"/",!0)),ae=O[" "+ae];var ie=ae.indexOf(":")===-1;return ee.substring(0,2)==="//"?ie?ee:ae.replace(W,"$1")+ee:ee.charAt(0)==="/"?ie?ee:ae.replace(G,"$1")+ee:ae+ee}var te={exec:function(){}};function re(ae){for(var ee=1,ie,B;ee<arguments.length;ee++){ie=arguments[ee];for(B in ie)Object.prototype.hasOwnProperty.call(ie,B)&&(ae[B]=ie[B])}return ae}function Pe(ae,ee){var ie=ae.replace(/\|/g,function(V,P,q){for(var L=!1,ce=P;--ce>=0&&q[ce]==="\\";)L=!L;return L?"|":" |"}),B=ie.split(/ \|/),m=0;if(B[0].trim()||B.shift(),B[B.length-1].trim()||B.pop(),B.length>ee)B.splice(ee);else for(;B.length<ee;)B.push("");for(;m<B.length;m++)B[m]=B[m].trim().replace(/\\\|/g,"|");return B}function Ne(ae,ee,ie){var B=ae.length;if(B===0)return"";for(var m=0;m<B;){var V=ae.charAt(B-m-1);if(V===ee&&!ie)m++;else if(V!==ee&&ie)m++;else break}return ae.substr(0,B-m)}function Ae(ae,ee){if(ae.indexOf(ee[1])===-1)return-1;for(var ie=ae.length,B=0,m=0;m<ie;m++)if(ae[m]==="\\")m++;else if(ae[m]===ee[0])B++;else if(ae[m]===ee[1]&&(B--,B<0))return m;return-1}function He(ae){ae&&ae.sanitize&&!ae.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function We(ae,ee){if(ee<1)return"";for(var ie="";ee>1;)ee&1&&(ie+=ae),ee>>=1,ae+=ae;return ie+ae}var Ue={escape:b,unescape:y,edit:S,cleanUrl:R,resolveUrl:Y,noopTest:te,merge:re,splitCells:Pe,rtrim:Ne,findClosingBracket:Ae,checkSanitizeDeprecation:He,repeatString:We},Ie=s.exports.defaults,gi=Ue.rtrim,Si=Ue.splitCells,Ui=Ue.escape,Gt=Ue.findClosingBracket;function nn(ae,ee,ie,B){var m=ee.href,V=ee.title?Ui(ee.title):null,P=ae[1].replace(/\\([\[\]])/g,"$1");if(ae[0].charAt(0)!=="!"){B.state.inLink=!0;var q={type:"link",raw:ie,href:m,title:V,text:P,tokens:B.inlineTokens(P,[])};return B.state.inLink=!1,q}else return{type:"image",raw:ie,href:m,title:V,text:Ui(P)}}function qo(ae,ee){var ie=ae.match(/^(\s+)(?:```)/);if(ie===null)return ee;var B=ie[1];return ee.split(`
`).map(function(m){var V=m.match(/^\s+/);if(V===null)return m;var P=V[0];return P.length>=B.length?m.slice(B.length):m}).join(`
`)}var Zo=function(){function ae(ie){this.options=ie||Ie}var ee=ae.prototype;return ee.space=function(B){var m=this.rules.block.newline.exec(B);if(m)return m[0].length>1?{type:"space",raw:m[0]}:{raw:`
`}},ee.code=function(B){var m=this.rules.block.code.exec(B);if(m){var V=m[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:m[0],codeBlockStyle:"indented",text:this.options.pedantic?V:gi(V,`
`)}}},ee.fences=function(B){var m=this.rules.block.fences.exec(B);if(m){var V=m[0],P=qo(V,m[3]||"");return{type:"code",raw:V,lang:m[2]?m[2].trim():m[2],text:P}}},ee.heading=function(B){var m=this.rules.block.heading.exec(B);if(m){var V=m[2].trim();if(/#$/.test(V)){var P=gi(V,"#");(this.options.pedantic||!P||/ $/.test(P))&&(V=P.trim())}var q={type:"heading",raw:m[0],depth:m[1].length,text:V,tokens:[]};return this.lexer.inline(q.text,q.tokens),q}},ee.hr=function(B){var m=this.rules.block.hr.exec(B);if(m)return{type:"hr",raw:m[0]}},ee.blockquote=function(B){var m=this.rules.block.blockquote.exec(B);if(m){var V=m[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:m[0],tokens:this.lexer.blockTokens(V,[]),text:V}}},ee.list=function(B){var m=this.rules.block.list.exec(B);if(m){var V,P,q,L,ce,Re,ht,yt,ut,It,it=m[1].trim(),Xn=it.length>1,ci={type:"list",raw:"",ordered:Xn,start:Xn?+it.slice(0,-1):"",loose:!1,items:[]};it=Xn?"\\d{1,9}\\"+it.slice(-1):"\\"+it,this.options.pedantic&&(it=Xn?it:"[*+-]");for(var Rr=new RegExp("^( {0,3}"+it+")((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))");B&&!(this.rules.block.hr.test(B)||!(m=Rr.exec(B)));){ut=m[2].split(`
`),this.options.pedantic?(L=2,It=ut[0].trimLeft()):(L=m[2].search(/[^ ]/),L=m[1].length+(L>4?1:L),It=ut[0].slice(L-m[1].length)),Re=!1,V=m[0],!ut[0]&&/^ *$/.test(ut[1])&&(V=m[1]+ut.slice(0,2).join(`
`)+`
`,ci.loose=!0,ut=[]);var cf=new RegExp("^ {0,"+Math.min(3,L-1)+"}(?:[*+-]|\\d{1,9}[.)])");for(ce=1;ce<ut.length;ce++){if(yt=ut[ce],this.options.pedantic&&(yt=yt.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),cf.test(yt)){V=m[1]+ut.slice(0,ce).join(`
`)+`
`;break}if(!Re){yt.trim()||(Re=!0),yt.search(/[^ ]/)>=L?It+=`
`+yt.slice(L):It+=`
`+yt;continue}if(yt.search(/[^ ]/)>=L||!yt.trim()){It+=`
`+yt.slice(L);continue}else{V=m[1]+ut.slice(0,ce).join(`
`)+`
`;break}}ci.loose||(ht?ci.loose=!0:/\n *\n *$/.test(V)&&(ht=!0)),this.options.gfm&&(P=/^\[[ xX]\] /.exec(It),P&&(q=P[0]!=="[ ] ",It=It.replace(/^\[[ xX]\] +/,""))),ci.items.push({type:"list_item",raw:V,task:!!P,checked:q,loose:!1,text:It}),ci.raw+=V,B=B.slice(V.length)}ci.items[ci.items.length-1].raw=V.trimRight(),ci.items[ci.items.length-1].text=It.trimRight(),ci.raw=ci.raw.trimRight();var Go=ci.items.length;for(ce=0;ce<Go;ce++)this.lexer.state.top=!1,ci.items[ce].tokens=this.lexer.blockTokens(ci.items[ce].text,[]),ci.items[ce].tokens.some(function(ic){return ic.type==="space"})&&(ci.loose=!0,ci.items[ce].loose=!0);return ci}},ee.html=function(B){var m=this.rules.block.html.exec(B);if(m){var V={type:"html",raw:m[0],pre:!this.options.sanitizer&&(m[1]==="pre"||m[1]==="script"||m[1]==="style"),text:m[0]};return this.options.sanitize&&(V.type="paragraph",V.text=this.options.sanitizer?this.options.sanitizer(m[0]):Ui(m[0]),V.tokens=[],this.lexer.inline(V.text,V.tokens)),V}},ee.def=function(B){var m=this.rules.block.def.exec(B);if(m){m[3]&&(m[3]=m[3].substring(1,m[3].length-1));var V=m[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:V,raw:m[0],href:m[2],title:m[3]}}},ee.table=function(B){var m=this.rules.block.table.exec(B);if(m){var V={type:"table",header:Si(m[1]).map(function(ht){return{text:ht}}),align:m[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:m[3]?m[3].replace(/\n$/,"").split(`
`):[]};if(V.header.length===V.align.length){V.raw=m[0];var P=V.align.length,q,L,ce,Re;for(q=0;q<P;q++)/^ *-+: *$/.test(V.align[q])?V.align[q]="right":/^ *:-+: *$/.test(V.align[q])?V.align[q]="center":/^ *:-+ *$/.test(V.align[q])?V.align[q]="left":V.align[q]=null;for(P=V.rows.length,q=0;q<P;q++)V.rows[q]=Si(V.rows[q],V.header.length).map(function(ht){return{text:ht}});for(P=V.header.length,L=0;L<P;L++)V.header[L].tokens=[],this.lexer.inlineTokens(V.header[L].text,V.header[L].tokens);for(P=V.rows.length,L=0;L<P;L++)for(Re=V.rows[L],ce=0;ce<Re.length;ce++)Re[ce].tokens=[],this.lexer.inlineTokens(Re[ce].text,Re[ce].tokens);return V}}},ee.lheading=function(B){var m=this.rules.block.lheading.exec(B);if(m){var V={type:"heading",raw:m[0],depth:m[2].charAt(0)==="="?1:2,text:m[1],tokens:[]};return this.lexer.inline(V.text,V.tokens),V}},ee.paragraph=function(B){var m=this.rules.block.paragraph.exec(B);if(m){var V={type:"paragraph",raw:m[0],text:m[1].charAt(m[1].length-1)===`
`?m[1].slice(0,-1):m[1],tokens:[]};return this.lexer.inline(V.text,V.tokens),V}},ee.text=function(B){var m=this.rules.block.text.exec(B);if(m){var V={type:"text",raw:m[0],text:m[0],tokens:[]};return this.lexer.inline(V.text,V.tokens),V}},ee.escape=function(B){var m=this.rules.inline.escape.exec(B);if(m)return{type:"escape",raw:m[0],text:Ui(m[1])}},ee.tag=function(B){var m=this.rules.inline.tag.exec(B);if(m)return!this.lexer.state.inLink&&/^<a /i.test(m[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(m[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(m[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(m[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:m[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(m[0]):Ui(m[0]):m[0]}},ee.link=function(B){var m=this.rules.inline.link.exec(B);if(m){var V=m[2].trim();if(!this.options.pedantic&&/^</.test(V)){if(!/>$/.test(V))return;var P=gi(V.slice(0,-1),"\\");if((V.length-P.length)%2===0)return}else{var q=Gt(m[2],"()");if(q>-1){var L=m[0].indexOf("!")===0?5:4,ce=L+m[1].length+q;m[2]=m[2].substring(0,q),m[0]=m[0].substring(0,ce).trim(),m[3]=""}}var Re=m[2],ht="";if(this.options.pedantic){var yt=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Re);yt&&(Re=yt[1],ht=yt[3])}else ht=m[3]?m[3].slice(1,-1):"";return Re=Re.trim(),/^</.test(Re)&&(this.options.pedantic&&!/>$/.test(V)?Re=Re.slice(1):Re=Re.slice(1,-1)),nn(m,{href:Re&&Re.replace(this.rules.inline._escapes,"$1"),title:ht&&ht.replace(this.rules.inline._escapes,"$1")},m[0],this.lexer)}},ee.reflink=function(B,m){var V;if((V=this.rules.inline.reflink.exec(B))||(V=this.rules.inline.nolink.exec(B))){var P=(V[2]||V[1]).replace(/\s+/g," ");if(P=m[P.toLowerCase()],!P||!P.href){var q=V[0].charAt(0);return{type:"text",raw:q,text:q}}return nn(V,P,V[0],this.lexer)}},ee.emStrong=function(B,m,V){V===void 0&&(V="");var P=this.rules.inline.emStrong.lDelim.exec(B);if(!!P&&!(P[3]&&V.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var q=P[1]||P[2]||"";if(!q||q&&(V===""||this.rules.inline.punctuation.exec(V))){var L=P[0].length-1,ce,Re,ht=L,yt=0,ut=P[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(ut.lastIndex=0,m=m.slice(-1*B.length+L);(P=ut.exec(m))!=null;)if(ce=P[1]||P[2]||P[3]||P[4]||P[5]||P[6],!!ce){if(Re=ce.length,P[3]||P[4]){ht+=Re;continue}else if((P[5]||P[6])&&L%3&&!((L+Re)%3)){yt+=Re;continue}if(ht-=Re,!(ht>0)){if(Re=Math.min(Re,Re+ht+yt),Math.min(L,Re)%2){var It=B.slice(1,L+P.index+Re);return{type:"em",raw:B.slice(0,L+P.index+Re+1),text:It,tokens:this.lexer.inlineTokens(It,[])}}var it=B.slice(2,L+P.index+Re-1);return{type:"strong",raw:B.slice(0,L+P.index+Re+1),text:it,tokens:this.lexer.inlineTokens(it,[])}}}}}},ee.codespan=function(B){var m=this.rules.inline.code.exec(B);if(m){var V=m[2].replace(/\n/g," "),P=/[^ ]/.test(V),q=/^ /.test(V)&&/ $/.test(V);return P&&q&&(V=V.substring(1,V.length-1)),V=Ui(V,!0),{type:"codespan",raw:m[0],text:V}}},ee.br=function(B){var m=this.rules.inline.br.exec(B);if(m)return{type:"br",raw:m[0]}},ee.del=function(B){var m=this.rules.inline.del.exec(B);if(m)return{type:"del",raw:m[0],text:m[2],tokens:this.lexer.inlineTokens(m[2],[])}},ee.autolink=function(B,m){var V=this.rules.inline.autolink.exec(B);if(V){var P,q;return V[2]==="@"?(P=Ui(this.options.mangle?m(V[1]):V[1]),q="mailto:"+P):(P=Ui(V[1]),q=P),{type:"link",raw:V[0],text:P,href:q,tokens:[{type:"text",raw:P,text:P}]}}},ee.url=function(B,m){var V;if(V=this.rules.inline.url.exec(B)){var P,q;if(V[2]==="@")P=Ui(this.options.mangle?m(V[0]):V[0]),q="mailto:"+P;else{var L;do L=V[0],V[0]=this.rules.inline._backpedal.exec(V[0])[0];while(L!==V[0]);P=Ui(V[0]),V[1]==="www."?q="http://"+P:q=P}return{type:"link",raw:V[0],text:P,href:q,tokens:[{type:"text",raw:P,text:P}]}}},ee.inlineText=function(B,m){var V=this.rules.inline.text.exec(B);if(V){var P;return this.lexer.state.inRawBlock?P=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(V[0]):Ui(V[0]):V[0]:P=Ui(this.options.smartypants?m(V[0]):V[0]),{type:"text",raw:V[0],text:P}}},ae}(),Gn=Ue.noopTest,mi=Ue.edit,Ca=Ue.merge,kt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:Gn,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/};kt._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,kt._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,kt.def=mi(kt.def).replace("label",kt._label).replace("title",kt._title).getRegex(),kt.bullet=/(?:[*+-]|\d{1,9}[.)])/,kt.listItemStart=mi(/^( *)(bull) */).replace("bull",kt.bullet).getRegex(),kt.list=mi(kt.list).replace(/bull/g,kt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+kt.def.source+")").getRegex(),kt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",kt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,kt.html=mi(kt.html,"i").replace("comment",kt._comment).replace("tag",kt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),kt.paragraph=mi(kt._paragraph).replace("hr",kt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",kt._tag).getRegex(),kt.blockquote=mi(kt.blockquote).replace("paragraph",kt.paragraph).getRegex(),kt.normal=Ca({},kt),kt.gfm=Ca({},kt.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)\\|?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),kt.gfm.table=mi(kt.gfm.table).replace("hr",kt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",kt._tag).getRegex(),kt.pedantic=Ca({},kt.normal,{html:mi(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",kt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Gn,paragraph:mi(kt.normal._paragraph).replace("hr",kt.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",kt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var et={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Gn,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Gn,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};et._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",et.punctuation=mi(et.punctuation).replace(/punctuation/g,et._punctuation).getRegex(),et.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,et.escapedEmSt=/\\\*|\\_/g,et._comment=mi(kt._comment).replace("(?:-->|$)","-->").getRegex(),et.emStrong.lDelim=mi(et.emStrong.lDelim).replace(/punct/g,et._punctuation).getRegex(),et.emStrong.rDelimAst=mi(et.emStrong.rDelimAst,"g").replace(/punct/g,et._punctuation).getRegex(),et.emStrong.rDelimUnd=mi(et.emStrong.rDelimUnd,"g").replace(/punct/g,et._punctuation).getRegex(),et._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,et._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,et._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,et.autolink=mi(et.autolink).replace("scheme",et._scheme).replace("email",et._email).getRegex(),et._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,et.tag=mi(et.tag).replace("comment",et._comment).replace("attribute",et._attribute).getRegex(),et._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,et._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,et._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,et.link=mi(et.link).replace("label",et._label).replace("href",et._href).replace("title",et._title).getRegex(),et.reflink=mi(et.reflink).replace("label",et._label).getRegex(),et.reflinkSearch=mi(et.reflinkSearch,"g").replace("reflink",et.reflink).replace("nolink",et.nolink).getRegex(),et.normal=Ca({},et),et.pedantic=Ca({},et.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:mi(/^!?\[(label)\]\((.*?)\)/).replace("label",et._label).getRegex(),reflink:mi(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",et._label).getRegex()}),et.gfm=Ca({},et.normal,{escape:mi(et.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),et.gfm.url=mi(et.gfm.url,"i").replace("email",et.gfm._extended_email).getRegex(),et.breaks=Ca({},et.gfm,{br:mi(et.br).replace("{2,}","*").getRegex(),text:mi(et.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var ec={block:kt,inline:et},id=Zo,Pn=s.exports.defaults,Ao=ec.block,ya=ec.inline,tc=Ue.repeatString;function vt(ae){return ae.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function fo(ae){var ee="",ie,B,m=ae.length;for(ie=0;ie<m;ie++)B=ae.charCodeAt(ie),Math.random()>.5&&(B="x"+B.toString(16)),ee+="&#"+B+";";return ee}var Qs=function(){function ae(ie){this.tokens=[],this.tokens.links=Object.create(null),this.options=ie||Pn,this.options.tokenizer=this.options.tokenizer||new id,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var B={block:Ao.normal,inline:ya.normal};this.options.pedantic?(B.block=Ao.pedantic,B.inline=ya.pedantic):this.options.gfm&&(B.block=Ao.gfm,this.options.breaks?B.inline=ya.breaks:B.inline=ya.gfm),this.tokenizer.rules=B}ae.lex=function(B,m){var V=new ae(m);return V.lex(B)},ae.lexInline=function(B,m){var V=new ae(m);return V.inlineTokens(B)};var ee=ae.prototype;return ee.lex=function(B){B=B.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(B,this.tokens);for(var m;m=this.inlineQueue.shift();)this.inlineTokens(m.src,m.tokens);return this.tokens},ee.blockTokens=function(B,m){var V=this;m===void 0&&(m=[]),this.options.pedantic&&(B=B.replace(/^ +$/gm,""));for(var P,q,L,ce;B;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(ht){return(P=ht.call({lexer:V},B,m))?(B=B.substring(P.raw.length),m.push(P),!0):!1}))){if(P=this.tokenizer.space(B)){B=B.substring(P.raw.length),P.type&&m.push(P);continue}if(P=this.tokenizer.code(B)){B=B.substring(P.raw.length),q=m[m.length-1],q&&(q.type==="paragraph"||q.type==="text")?(q.raw+=`
`+P.raw,q.text+=`
`+P.text,this.inlineQueue[this.inlineQueue.length-1].src=q.text):m.push(P);continue}if(P=this.tokenizer.fences(B)){B=B.substring(P.raw.length),m.push(P);continue}if(P=this.tokenizer.heading(B)){B=B.substring(P.raw.length),m.push(P);continue}if(P=this.tokenizer.hr(B)){B=B.substring(P.raw.length),m.push(P);continue}if(P=this.tokenizer.blockquote(B)){B=B.substring(P.raw.length),m.push(P);continue}if(P=this.tokenizer.list(B)){B=B.substring(P.raw.length),m.push(P);continue}if(P=this.tokenizer.html(B)){B=B.substring(P.raw.length),m.push(P);continue}if(P=this.tokenizer.def(B)){B=B.substring(P.raw.length),q=m[m.length-1],q&&(q.type==="paragraph"||q.type==="text")?(q.raw+=`
`+P.raw,q.text+=`
`+P.raw,this.inlineQueue[this.inlineQueue.length-1].src=q.text):this.tokens.links[P.tag]||(this.tokens.links[P.tag]={href:P.href,title:P.title});continue}if(P=this.tokenizer.table(B)){B=B.substring(P.raw.length),m.push(P);continue}if(P=this.tokenizer.lheading(B)){B=B.substring(P.raw.length),m.push(P);continue}if(L=B,this.options.extensions&&this.options.extensions.startBlock&&function(){var ht=1/0,yt=B.slice(1),ut=void 0;V.options.extensions.startBlock.forEach(function(It){ut=It.call({lexer:this},yt),typeof ut=="number"&&ut>=0&&(ht=Math.min(ht,ut))}),ht<1/0&&ht>=0&&(L=B.substring(0,ht+1))}(),this.state.top&&(P=this.tokenizer.paragraph(L))){q=m[m.length-1],ce&&q.type==="paragraph"?(q.raw+=`
`+P.raw,q.text+=`
`+P.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=q.text):m.push(P),ce=L.length!==B.length,B=B.substring(P.raw.length);continue}if(P=this.tokenizer.text(B)){B=B.substring(P.raw.length),q=m[m.length-1],q&&q.type==="text"?(q.raw+=`
`+P.raw,q.text+=`
`+P.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=q.text):m.push(P);continue}if(B){var Re="Infinite loop on byte: "+B.charCodeAt(0);if(this.options.silent){console.error(Re);break}else throw new Error(Re)}}return this.state.top=!0,m},ee.inline=function(B,m){this.inlineQueue.push({src:B,tokens:m})},ee.inlineTokens=function(B,m){var V=this;m===void 0&&(m=[]);var P,q,L,ce=B,Re,ht,yt;if(this.tokens.links){var ut=Object.keys(this.tokens.links);if(ut.length>0)for(;(Re=this.tokenizer.rules.inline.reflinkSearch.exec(ce))!=null;)ut.includes(Re[0].slice(Re[0].lastIndexOf("[")+1,-1))&&(ce=ce.slice(0,Re.index)+"["+tc("a",Re[0].length-2)+"]"+ce.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Re=this.tokenizer.rules.inline.blockSkip.exec(ce))!=null;)ce=ce.slice(0,Re.index)+"["+tc("a",Re[0].length-2)+"]"+ce.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Re=this.tokenizer.rules.inline.escapedEmSt.exec(ce))!=null;)ce=ce.slice(0,Re.index)+"++"+ce.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;B;)if(ht||(yt=""),ht=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(it){return(P=it.call({lexer:V},B,m))?(B=B.substring(P.raw.length),m.push(P),!0):!1}))){if(P=this.tokenizer.escape(B)){B=B.substring(P.raw.length),m.push(P);continue}if(P=this.tokenizer.tag(B)){B=B.substring(P.raw.length),q=m[m.length-1],q&&P.type==="text"&&q.type==="text"?(q.raw+=P.raw,q.text+=P.text):m.push(P);continue}if(P=this.tokenizer.link(B)){B=B.substring(P.raw.length),m.push(P);continue}if(P=this.tokenizer.reflink(B,this.tokens.links)){B=B.substring(P.raw.length),q=m[m.length-1],q&&P.type==="text"&&q.type==="text"?(q.raw+=P.raw,q.text+=P.text):m.push(P);continue}if(P=this.tokenizer.emStrong(B,ce,yt)){B=B.substring(P.raw.length),m.push(P);continue}if(P=this.tokenizer.codespan(B)){B=B.substring(P.raw.length),m.push(P);continue}if(P=this.tokenizer.br(B)){B=B.substring(P.raw.length),m.push(P);continue}if(P=this.tokenizer.del(B)){B=B.substring(P.raw.length),m.push(P);continue}if(P=this.tokenizer.autolink(B,fo)){B=B.substring(P.raw.length),m.push(P);continue}if(!this.state.inLink&&(P=this.tokenizer.url(B,fo))){B=B.substring(P.raw.length),m.push(P);continue}if(L=B,this.options.extensions&&this.options.extensions.startInline&&function(){var it=1/0,Xn=B.slice(1),ci=void 0;V.options.extensions.startInline.forEach(function(Rr){ci=Rr.call({lexer:this},Xn),typeof ci=="number"&&ci>=0&&(it=Math.min(it,ci))}),it<1/0&&it>=0&&(L=B.substring(0,it+1))}(),P=this.tokenizer.inlineText(L,vt)){B=B.substring(P.raw.length),P.raw.slice(-1)!=="_"&&(yt=P.raw.slice(-1)),ht=!0,q=m[m.length-1],q&&q.type==="text"?(q.raw+=P.raw,q.text+=P.text):m.push(P);continue}if(B){var It="Infinite loop on byte: "+B.charCodeAt(0);if(this.options.silent){console.error(It);break}else throw new Error(It)}}return m},t(ae,null,[{key:"rules",get:function(){return{block:Ao,inline:ya}}}]),ae}(),Sa=s.exports.defaults,Js=Ue.cleanUrl,bs=Ue.escape,ll=function(){function ae(ie){this.options=ie||Sa}var ee=ae.prototype;return ee.code=function(B,m,V){var P=(m||"").match(/\S*/)[0];if(this.options.highlight){var q=this.options.highlight(B,P);q!=null&&q!==B&&(V=!0,B=q)}return B=B.replace(/\n$/,"")+`
`,P?'<pre><code class="'+this.options.langPrefix+bs(P,!0)+'">'+(V?B:bs(B,!0))+`</code></pre>
`:"<pre><code>"+(V?B:bs(B,!0))+`</code></pre>
`},ee.blockquote=function(B){return`<blockquote>
`+B+`</blockquote>
`},ee.html=function(B){return B},ee.heading=function(B,m,V,P){return this.options.headerIds?"<h"+m+' id="'+this.options.headerPrefix+P.slug(V)+'">'+B+"</h"+m+`>
`:"<h"+m+">"+B+"</h"+m+`>
`},ee.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ee.list=function(B,m,V){var P=m?"ol":"ul",q=m&&V!==1?' start="'+V+'"':"";return"<"+P+q+`>
`+B+"</"+P+`>
`},ee.listitem=function(B){return"<li>"+B+`</li>
`},ee.checkbox=function(B){return"<input "+(B?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ee.paragraph=function(B){return"<p>"+B+`</p>
`},ee.table=function(B,m){return m&&(m="<tbody>"+m+"</tbody>"),`<table>
<thead>
`+B+`</thead>
`+m+`</table>
`},ee.tablerow=function(B){return`<tr>
`+B+`</tr>
`},ee.tablecell=function(B,m){var V=m.header?"th":"td",P=m.align?"<"+V+' align="'+m.align+'">':"<"+V+">";return P+B+"</"+V+`>
`},ee.strong=function(B){return"<strong>"+B+"</strong>"},ee.em=function(B){return"<em>"+B+"</em>"},ee.codespan=function(B){return"<code>"+B+"</code>"},ee.br=function(){return this.options.xhtml?"<br/>":"<br>"},ee.del=function(B){return"<del>"+B+"</del>"},ee.link=function(B,m,V){if(B=Js(this.options.sanitize,this.options.baseUrl,B),B===null)return V;var P='<a href="'+bs(B)+'"';return m&&(P+=' title="'+m+'"'),P+=">"+V+"</a>",P},ee.image=function(B,m,V){if(B=Js(this.options.sanitize,this.options.baseUrl,B),B===null)return V;var P='<img src="'+B+'" alt="'+V+'"';return m&&(P+=' title="'+m+'"'),P+=this.options.xhtml?"/>":">",P},ee.text=function(B){return B},ae}(),ti=function(){function ae(){}var ee=ae.prototype;return ee.strong=function(B){return B},ee.em=function(B){return B},ee.codespan=function(B){return B},ee.del=function(B){return B},ee.html=function(B){return B},ee.text=function(B){return B},ee.link=function(B,m,V){return""+V},ee.image=function(B,m,V){return""+V},ee.br=function(){return""},ae}(),cl=function(){function ae(){this.seen={}}var ee=ae.prototype;return ee.serialize=function(B){return B.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ee.getNextSafeSlug=function(B,m){var V=B,P=0;if(this.seen.hasOwnProperty(V)){P=this.seen[B];do P++,V=B+"-"+P;while(this.seen.hasOwnProperty(V))}return m||(this.seen[B]=P,this.seen[V]=0),V},ee.slug=function(B,m){m===void 0&&(m={});var V=this.serialize(B);return this.getNextSafeSlug(V,m.dryrun)},ae}(),vs=ll,yh=ti,af=cl,dl=s.exports.defaults,Sh=Ue.unescape,Eh=function(){function ae(ie){this.options=ie||dl,this.options.renderer=this.options.renderer||new vs,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new yh,this.slugger=new af}ae.parse=function(B,m){var V=new ae(m);return V.parse(B)},ae.parseInline=function(B,m){var V=new ae(m);return V.parseInline(B)};var ee=ae.prototype;return ee.parse=function(B,m){m===void 0&&(m=!0);var V="",P,q,L,ce,Re,ht,yt,ut,It,it,Xn,ci,Rr,cf,Go,ic,em,Dh,SC,EC=B.length;for(P=0;P<EC;P++){if(it=B[P],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[it.type]&&(SC=this.options.extensions.renderers[it.type].call({parser:this},it),SC!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(it.type))){V+=SC||"";continue}switch(it.type){case"space":continue;case"hr":{V+=this.renderer.hr();continue}case"heading":{V+=this.renderer.heading(this.parseInline(it.tokens),it.depth,Sh(this.parseInline(it.tokens,this.textRenderer)),this.slugger);continue}case"code":{V+=this.renderer.code(it.text,it.lang,it.escaped);continue}case"table":{for(ut="",yt="",ce=it.header.length,q=0;q<ce;q++)yt+=this.renderer.tablecell(this.parseInline(it.header[q].tokens),{header:!0,align:it.align[q]});for(ut+=this.renderer.tablerow(yt),It="",ce=it.rows.length,q=0;q<ce;q++){for(ht=it.rows[q],yt="",Re=ht.length,L=0;L<Re;L++)yt+=this.renderer.tablecell(this.parseInline(ht[L].tokens),{header:!1,align:it.align[L]});It+=this.renderer.tablerow(yt)}V+=this.renderer.table(ut,It);continue}case"blockquote":{It=this.parse(it.tokens),V+=this.renderer.blockquote(It);continue}case"list":{for(Xn=it.ordered,ci=it.start,Rr=it.loose,ce=it.items.length,It="",q=0;q<ce;q++)Go=it.items[q],ic=Go.checked,em=Go.task,cf="",Go.task&&(Dh=this.renderer.checkbox(ic),Rr?Go.tokens.length>0&&Go.tokens[0].type==="paragraph"?(Go.tokens[0].text=Dh+" "+Go.tokens[0].text,Go.tokens[0].tokens&&Go.tokens[0].tokens.length>0&&Go.tokens[0].tokens[0].type==="text"&&(Go.tokens[0].tokens[0].text=Dh+" "+Go.tokens[0].tokens[0].text)):Go.tokens.unshift({type:"text",text:Dh}):cf+=Dh),cf+=this.parse(Go.tokens,Rr),It+=this.renderer.listitem(cf,em,ic);V+=this.renderer.list(It,Xn,ci);continue}case"html":{V+=this.renderer.html(it.text);continue}case"paragraph":{V+=this.renderer.paragraph(this.parseInline(it.tokens));continue}case"text":{for(It=it.tokens?this.parseInline(it.tokens):it.text;P+1<EC&&B[P+1].type==="text";)it=B[++P],It+=`
`+(it.tokens?this.parseInline(it.tokens):it.text);V+=m?this.renderer.paragraph(It):It;continue}default:{var OE='Token with "'+it.type+'" type was not found.';if(this.options.silent){console.error(OE);return}else throw new Error(OE)}}}return V},ee.parseInline=function(B,m){m=m||this.renderer;var V="",P,q,L,ce=B.length;for(P=0;P<ce;P++){if(q=B[P],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[q.type]&&(L=this.options.extensions.renderers[q.type].call({parser:this},q),L!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(q.type))){V+=L||"";continue}switch(q.type){case"escape":{V+=m.text(q.text);break}case"html":{V+=m.html(q.text);break}case"link":{V+=m.link(q.href,q.title,this.parseInline(q.tokens,m));break}case"image":{V+=m.image(q.href,q.title,q.text);break}case"strong":{V+=m.strong(this.parseInline(q.tokens,m));break}case"em":{V+=m.em(this.parseInline(q.tokens,m));break}case"codespan":{V+=m.codespan(q.text);break}case"br":{V+=m.br();break}case"del":{V+=m.del(this.parseInline(q.tokens,m));break}case"text":{V+=m.text(q.text);break}default:{var Re='Token with "'+q.type+'" type was not found.';if(this.options.silent){console.error(Re);return}else throw new Error(Re)}}}return V},ae}(),ws=Qs,xh=Eh,nd=Zo,Jg=ll,K_=ti,lf=cl,od=Ue.merge,Y_=Ue.checkSanitizeDeprecation,ea=Ue.escape,q_=s.exports.getDefaults,Z_=s.exports.changeDefaults,Ea=s.exports.defaults;function Ft(ae,ee,ie){if(typeof ae=="undefined"||ae===null)throw new Error("marked(): input parameter is undefined or null");if(typeof ae!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ae)+", string expected");if(typeof ee=="function"&&(ie=ee,ee=null),ee=od({},Ft.defaults,ee||{}),Y_(ee),ie){var B=ee.highlight,m;try{m=ws.lex(ae,ee)}catch(L){return ie(L)}var V=function(ce){var Re;if(!ce)try{ee.walkTokens&&Ft.walkTokens(m,ee.walkTokens),Re=xh.parse(m,ee)}catch(ht){ce=ht}return ee.highlight=B,ce?ie(ce):ie(null,Re)};if(!B||B.length<3||(delete ee.highlight,!m.length))return V();var P=0;Ft.walkTokens(m,function(L){L.type==="code"&&(P++,setTimeout(function(){B(L.text,L.lang,function(ce,Re){if(ce)return V(ce);Re!=null&&Re!==L.text&&(L.text=Re,L.escaped=!0),P--,P===0&&V()})},0))}),P===0&&V();return}try{var q=ws.lex(ae,ee);return ee.walkTokens&&Ft.walkTokens(q,ee.walkTokens),xh.parse(q,ee)}catch(L){if(L.message+=`
Please report this to https://github.com/markedjs/marked.`,ee.silent)return"<p>An error occurred:</p><pre>"+ea(L.message+"",!0)+"</pre>";throw L}}Ft.options=Ft.setOptions=function(ae){return od(Ft.defaults,ae),Z_(Ft.defaults),Ft},Ft.getDefaults=q_,Ft.defaults=Ea,Ft.use=function(){for(var ae=this,ee=arguments.length,ie=new Array(ee),B=0;B<ee;B++)ie[B]=arguments[B];var m=od.apply(void 0,[{}].concat(ie)),V=Ft.defaults.extensions||{renderers:{},childTokens:{}},P;ie.forEach(function(q){if(q.extensions&&(P=!0,q.extensions.forEach(function(ce){if(!ce.name)throw new Error("extension name required");if(ce.renderer){var Re=V.renderers?V.renderers[ce.name]:null;Re?V.renderers[ce.name]=function(){for(var ht=arguments.length,yt=new Array(ht),ut=0;ut<ht;ut++)yt[ut]=arguments[ut];var It=ce.renderer.apply(this,yt);return It===!1&&(It=Re.apply(this,yt)),It}:V.renderers[ce.name]=ce.renderer}if(ce.tokenizer){if(!ce.level||ce.level!=="block"&&ce.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");V[ce.level]?V[ce.level].unshift(ce.tokenizer):V[ce.level]=[ce.tokenizer],ce.start&&(ce.level==="block"?V.startBlock?V.startBlock.push(ce.start):V.startBlock=[ce.start]:ce.level==="inline"&&(V.startInline?V.startInline.push(ce.start):V.startInline=[ce.start]))}ce.childTokens&&(V.childTokens[ce.name]=ce.childTokens)})),q.renderer&&function(){var ce=Ft.defaults.renderer||new Jg,Re=function(ut){var It=ce[ut];ce[ut]=function(){for(var it=arguments.length,Xn=new Array(it),ci=0;ci<it;ci++)Xn[ci]=arguments[ci];var Rr=q.renderer[ut].apply(ce,Xn);return Rr===!1&&(Rr=It.apply(ce,Xn)),Rr}};for(var ht in q.renderer)Re(ht);m.renderer=ce}(),q.tokenizer&&function(){var ce=Ft.defaults.tokenizer||new nd,Re=function(ut){var It=ce[ut];ce[ut]=function(){for(var it=arguments.length,Xn=new Array(it),ci=0;ci<it;ci++)Xn[ci]=arguments[ci];var Rr=q.tokenizer[ut].apply(ce,Xn);return Rr===!1&&(Rr=It.apply(ce,Xn)),Rr}};for(var ht in q.tokenizer)Re(ht);m.tokenizer=ce}(),q.walkTokens){var L=Ft.defaults.walkTokens;m.walkTokens=function(ce){q.walkTokens.call(ae,ce),L&&L(ce)}}P&&(m.extensions=V),Ft.setOptions(m)})},Ft.walkTokens=function(ae,ee){for(var ie=function(){var P=m.value;switch(ee(P),P.type){case"table":{for(var q=r(P.header),L;!(L=q()).done;){var ce=L.value;Ft.walkTokens(ce.tokens,ee)}for(var Re=r(P.rows),ht;!(ht=Re()).done;)for(var yt=ht.value,ut=r(yt),It;!(It=ut()).done;){var it=It.value;Ft.walkTokens(it.tokens,ee)}break}case"list":{Ft.walkTokens(P.items,ee);break}default:Ft.defaults.extensions&&Ft.defaults.extensions.childTokens&&Ft.defaults.extensions.childTokens[P.type]?Ft.defaults.extensions.childTokens[P.type].forEach(function(Xn){Ft.walkTokens(P[Xn],ee)}):P.tokens&&Ft.walkTokens(P.tokens,ee)}},B=r(ae),m;!(m=B()).done;)ie()},Ft.parseInline=function(ae,ee){if(typeof ae=="undefined"||ae===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof ae!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ae)+", string expected");ee=od({},Ft.defaults,ee||{}),Y_(ee);try{var ie=ws.lexInline(ae,ee);return ee.walkTokens&&Ft.walkTokens(ie,ee.walkTokens),xh.parseInline(ie,ee)}catch(B){if(B.message+=`
Please report this to https://github.com/markedjs/marked.`,ee.silent)return"<p>An error occurred:</p><pre>"+ea(B.message+"",!0)+"</pre>";throw B}},Ft.Parser=xh,Ft.parser=xh.parse,Ft.Renderer=Jg,Ft.TextRenderer=K_,Ft.Lexer=ws,Ft.lexer=ws.lex,Ft.Tokenizer=nd,Ft.Slugger=lf,Ft.parse=Ft;var xa=Ft;return xa})})();var rpt=qc||exports,spt=(qc||exports).Parser,apt=(qc||exports).parser,YG=(qc||exports).Renderer,lpt=(qc||exports).TextRenderer,cpt=(qc||exports).Lexer,dpt=(qc||exports).lexer,hpt=(qc||exports).Tokenizer,upt=(qc||exports).Slugger,qG=(qc||exports).parse;ns();Wo();Er();je();Ai();function ZG(o,e={},t={}){var i;let n=new Q,r=!1,s=n.add(new sn),a=vO(e),l=function(y){let w;try{w=x0(decodeURIComponent(y))}catch{}return w?(w=oj(w,S=>{if(o.uris&&o.uris[S])return Ee.revive(o.uris[S])}),encodeURIComponent(JSON.stringify(w))):y},c=function(y,w){let S=o.uris&&o.uris[y],x=Ee.revive(S);return w?y.startsWith(nt.data+":")?y:(x||(x=Ee.parse(y)),yD.asBrowserUri(x).toString(!0)):!x||Ee.parse(y).toString()===x.toString()?y:(x.query&&(x=x.with({query:l(x.query)})),x.toString())},d,h=new Promise(y=>d=y),u=new YG;if(u.image=(y,w,S)=>{let x=[],k=[];return y&&({href:y,dimensions:x}=Xq(y),k.push(`src="${y}"`)),S&&k.push(`alt="${S}"`),w&&k.push(`title="${w}"`),x.length&&(k=k.concat(x)),"<img "+k.join(" ")+">"},u.link=(y,w,S)=>(y===S&&(S=CO(S)),y=c(y,!1),e.baseUrl&&(/^\w[\w\d+.-]*:/.test(y)||(y=rR(e.baseUrl,y).toString())),w=CO(w),y=CO(y),!y||y.match(/^data:|javascript:/i)||y.match(/^command:/i)&&!o.isTrusted||y.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?S:(y=y.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="#" data-href="${y}" title="${w||y}">${S}</a>`)),u.paragraph=y=>`<p>${y}</p>`,e.codeBlockRenderer&&(u.code=(y,w)=>{let S=e.codeBlockRenderer(w,y),x=bO.nextId();return Sb(Promise.all([S,h]),s.token).then(k=>{var R;if(!r&&k){let O=a.querySelector(`div[data-code="${x}"]`);O&&kl(O,k[0]),(R=e.asyncRenderCallback)===null||R===void 0||R.call(e)}}).catch(()=>{}),`<div class="code" data-code="${x}">${Lb(y)}</div>`}),e.actionHandler){let y=e.actionHandler.disposables.add(new Jt(a,"click")),w=e.actionHandler.disposables.add(new Jt(a,"auxclick"));e.actionHandler.disposables.add(we.any(y.event,w.event)(S=>{let x=new bo(S);if(!x.leftButton&&!x.middleButton)return;let k=x.target;if(!(k.tagName!=="A"&&(k=k.parentElement,!k||k.tagName!=="A")))try{let R=k.dataset.href;R&&e.actionHandler.callback(R,x)}catch(R){ye(R)}finally{x.preventDefault()}}))}o.supportHtml||(t.sanitizer=y=>(o.isTrusted?y.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?y:"",t.sanitize=!0,t.silent=!0),t.renderer=u;let f=(i=o.value)!==null&&i!==void 0?i:"";f.length>1e5&&(f=`${f.substr(0,1e5)}\u2026`),o.supportThemeIcons&&(f=PY(f));let p=qG(f,t);o.supportThemeIcons&&(p=Kl(p).map(w=>typeof w=="string"?w:w.outerHTML).join(""));let v=new DOMParser().parseFromString(GG(o,p),"text/html");if(v.body.querySelectorAll("img").forEach(y=>{if(y.src){let w=c(y.src,!0);try{let S=Ee.parse(w);e.baseUrl&&S.scheme===nt.file&&(w=rR(e.baseUrl,w).toString())}catch{}y.src=w}}),a.innerHTML=GG(o,v.body.innerHTML),d(),e.asyncRenderCallback)for(let y of a.getElementsByTagName("img")){let w=n.add(oe(y,"load",()=>{w.dispose(),e.asyncRenderCallback()}))}return{element:a,dispose:()=>{r=!0,s.cancel(),n.dispose()}}}function GG(o,e){let{config:t,allowedSchemes:i}=i_e(o);X3("uponSanitizeAttribute",(r,s)=>{if(s.attrName==="style"||s.attrName==="class"){if(r.tagName==="SPAN"){if(s.attrName==="style"){s.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(s.attrValue);return}else if(s.attrName==="class"){s.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(s.attrValue);return}}s.keepAttr=!1;return}});let n=document.createElement("a");X3("afterSanitizeAttributes",r=>{for(let s of["href","src"])r.hasAttribute(s)&&(n.href=r.getAttribute(s),i.includes(n.protocol.replace(/:$/,""))||r.removeAttribute(s))});try{return KG(e,Object.assign(Object.assign({},t),{RETURN_TRUSTED_TYPE:!0}))}finally{Q3("uponSanitizeAttribute"),Q3("afterSanitizeAttributes")}}function i_e(o){let e=[nt.http,nt.https,nt.mailto,nt.data,nt.file,nt.vscodeFileResource,nt.vscodeRemote,nt.vscodeRemoteResource];return o.isTrusted&&e.push(nt.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:e}}ar();st();Se();ne();Tt();var n_e=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},XG=function(o,e){return function(t,i){e(t,i,o)}},o_e=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},J3,Gs=class QG{constructor(e,t,i){this._options=e,this._modeService=t,this._openerService=i,this._onDidRenderAsync=new F,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(e,t,i){if(!e)return{element:document.createElement("span"),dispose:()=>{}};let n=new Q;return{element:n.add(ZG(e,Object.assign(Object.assign({},this._getRenderOptions(e,n)),t),i)).element,dispose:()=>n.dispose()}}_getRenderOptions(e,t){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(i,n)=>o_e(this,void 0,void 0,function*(){var r,s,a,l;let c;i?c=this._modeService.getModeIdForLanguageName(i):this._options.editor&&(c=(r=this._options.editor.getModel())===null||r===void 0?void 0:r.getLanguageId()),c||(c="plaintext"),this._modeService.triggerMode(c);let d=(s=yield Li.getPromise(c))!==null&&s!==void 0?s:void 0,h=document.createElement("span");if(h.innerHTML=(l=(a=QG._ttpTokenizer)===null||a===void 0?void 0:a.createHTML(n,this._modeService.languageIdCodec,d))!==null&&l!==void 0?l:y4(n,this._modeService.languageIdCodec,d),this._options.editor){let u=this._options.editor.getOption(43);fn.applyFontInfoSlow(h,u)}else this._options.codeBlockFontFamily&&(h.style.fontFamily=this._options.codeBlockFontFamily);return h}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:i=>this._openerService.open(i,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:e.isTrusted}).catch(ye),disposables:t}}}};Gs._ttpTokenizer=(J3=window.trustedTypes)===null||J3===void 0?void 0:J3.createPolicy("tokenizeToString",{createHTML(o,e,t){return y4(o,e,t)}});Gs=n_e([XG(1,Pi),XG(2,oo)],Gs);ot();ve();Tt();ar();tt();Ei();st();Dt();Tt();var r_e=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},JG=class{constructor(e,t,i){this.provider=e,this.hover=t,this.ordinal=i}};function s_e(o,e,t,i,n){return r_e(this,void 0,void 0,function*(){try{let r=yield Promise.resolve(o.provideHover(t,i,n));if(r&&l_e(r))return new JG(o,r,e)}catch(r){Di(r)}})}function e8(o,e,t){let n=Vh.ordered(o).map((r,s)=>s_e(r,s,o,e,t));return Sn.fromPromises(n).coalesce()}function a_e(o,e,t){return e8(o,e,t).map(i=>i.hover).toPromise()}Fs("_executeHoverProvider",(o,e)=>a_e(o,e,qe.None));function l_e(o){let e=typeof o.range!="undefined",t=typeof o.contents!="undefined"&&o.contents&&o.contents.length>0;return e&&t}xe();lr();var c_e=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},t8=function(o,e){return function(t,i){e(t,i,o)}},eX=se,w_=class{constructor(e,t,i,n){this.owner=e,this.range=t,this.contents=i,this.ordinal=n}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}},aT=class{constructor(e,t,i,n,r){this._editor=e,this._hover=t,this._modeService=i,this._openerService=n,this._configurationService=r}createLoadingMessage(e){return new w_(this,e.range,[new ps().appendText(g("modesContentHover.loading","Loading..."))],2e3)}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];let i=this._editor.getModel(),n=e.range.startLineNumber,r=i.getLineMaxColumn(n),s=[],a=1e3,l=i.getLineLength(n),c=i.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),d=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:c});typeof d=="number"&&l>=d&&s.push(new w_(this,e.range,[{value:g("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],a++));for(let h of t){let u=h.range.startLineNumber===n?h.range.startColumn:1,f=h.range.endLineNumber===n?h.range.endColumn:r,p=h.options.hoverMessage;if(!p||o_(p))continue;let b=new D(e.range.startLineNumber,u,e.range.startLineNumber,f);s.push(new w_(this,b,hb(p),a++))}return s}computeAsync(e,t,i){if(!this._editor.hasModel()||e.type!==1)return Sn.EMPTY;let n=this._editor.getModel();if(!Vh.has(n))return Sn.EMPTY;let r=new H(e.range.startLineNumber,e.range.startColumn);return e8(n,r,i).filter(s=>!o_(s.hover.contents)).map(s=>{let a=s.hover.range?D.lift(s.hover.range):e.range;return new w_(this,a,s.hover.contents,s.ordinal)})}renderHoverParts(e,t,i){return i8(e,t,this._editor,this._hover,this._modeService,this._openerService)}};aT=c_e([t8(2,Pi),t8(3,oo),t8(4,Vt)],aT);function i8(o,e,t,i,n,r){o.sort((a,l)=>a.ordinal-l.ordinal);let s=new Q;for(let a of o)for(let l of a.contents){if(o_(l))continue;let c=eX("div.hover-row.markdown-hover"),d=J(c,eX("div.hover-contents")),h=s.add(new Gs({editor:t},n,r));s.add(h.onDidRenderAsync(()=>{d.className="hover-contents code-hover-contents",i.onContentsChanged()}));let u=s.add(h.render(l));d.appendChild(u.element),e.appendChild(c)}return s}Me();Ut();tt();st();ne();Er();ve();en();ne();Dt();_o();ot();ve();Yi();Ut();Se();ne();Rh();je();Ai();ve();Dd();Ge();lr();var tX=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},lT=function(o,e){return function(t,i){e(t,i,o)}},n8=class{constructor(e,t,i){this.marker=e,this.index=t,this.total=i}},o8=class{constructor(e,t,i){this._markerService=t,this._configService=i,this._onDidChange=new F,this.onDidChange=this._onDidChange.event,this._dispoables=new Q,this._markers=[],this._nextIdx=-1,Ee.isUri(e)?this._resourceFilter=a=>a.toString()===e.toString():e&&(this._resourceFilter=e);let n=this._configService.getValue("problems.sortOrder"),r=(a,l)=>{let c=Mf(a.resource.toString(),l.resource.toString());return n==="position"?c=D.compareRangesUsingStarts(a,l)||Wi.compare(a.severity,l.severity):c=Wi.compare(a.severity,l.severity)||D.compareRangesUsingStarts(a,l),c},s=()=>{this._markers=this._markerService.read({resource:Ee.isUri(e)?e:void 0,severities:Wi.Error|Wi.Warning|Wi.Info}),typeof e=="function"&&(this._markers=this._markers.filter(a=>this._resourceFilter(a.resource))),this._markers.sort(r)};s(),this._dispoables.add(t.onMarkerChanged(a=>{(!this._resourceFilter||a.some(l=>this._resourceFilter(l)))&&(s(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e?!0:!this._resourceFilter||!e?!1:this._resourceFilter(e)}get selected(){let e=this._markers[this._nextIdx];return e&&new n8(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,i){let n=!1,r=this._markers.findIndex(s=>s.resource.toString()===e.uri.toString());r<0&&(r=db(this._markers,{resource:e.uri},(s,a)=>Mf(s.resource.toString(),a.resource.toString())),r<0&&(r=~r));for(let s=r;s<this._markers.length;s++){let a=D.lift(this._markers[s]);if(a.isEmpty()){let l=e.getWordAtPosition(a.getStartPosition());l&&(a=new D(a.startLineNumber,l.startColumn,a.startLineNumber,l.endColumn))}if(t&&(a.containsPosition(t)||t.isBeforeOrEqual(a.getStartPosition()))){this._nextIdx=s,n=!0;break}if(this._markers[s].resource.toString()!==e.uri.toString())break}n||(this._nextIdx=i?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,i){if(this._markers.length===0)return!1;let n=this._nextIdx;return this._nextIdx===-1?this._initIdx(t,i,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),n!==this._nextIdx}find(e,t){let i=this._markers.findIndex(n=>n.resource.toString()===e.toString());if(!(i<0)){for(;i<this._markers.length;i++)if(D.containsPosition(this._markers[i],t))return new n8(this._markers[i],i+1,this._markers.length)}}};o8=tX([lT(1,Au),lT(2,Vt)],o8);var r8=Fe("IMarkerNavigationService"),s8=class{constructor(e,t){this._markerService=e,this._configService=t,this._provider=new io}getMarkerList(e){for(let t of this._provider){let i=t.getMarkerList(e);if(i)return i}return new o8(e,this._markerService,this._configService)}};s8=tX([lT(0,Au),lT(1,Vt)],s8);as(r8,s8,!0);xe();No();_t();Ge();Me();Ut();Yn();Se();ne();Er();je();ve();xe();No();_t();Ge();en();yi();dt();var cT;(function(o){function e(t){switch(t){case Vi.Ignore:return"severity-ignore "+z.info.classNames;case Vi.Info:return z.info.classNames;case Vi.Warning:return z.warning.classNames;case Vi.Error:return z.error.classNames;default:return""}}o.className=e})(cT||(cT={}));gt((o,e)=>{let t=o.getColor($V);if(t){let r=z.error.cssSelector;e.addRule(`
			.monaco-editor .zone-widget ${r},
			.markers-panel .marker-icon${r},
			.text-search-provider-messages .providerMessage ${r},
			.extensions-viewlet > .extensions ${r} {
				color: ${t};
			}
		`)}let i=o.getColor(KV);if(i){let r=z.warning.cssSelector;e.addRule(`
			.monaco-editor .zone-widget ${r},
			.markers-panel .marker-icon${r},
			.extensions-viewlet > .extensions ${r},
			.extension-editor ${r},
			.text-search-provider-messages .providerMessage ${r},
			.preferences-editor ${r} {
				color: ${i};
			}
		`)}let n=o.getColor(YV);if(n){let r=z.info.cssSelector;e.addRule(`
			.monaco-editor .zone-widget ${r},
			.markers-panel .marker-icon${r},
			.extensions-viewlet > .extensions ${r},
			.text-search-provider-messages .providerMessage ${r},
			.extension-editor ${r} {
				color: ${n};
			}
		`)}});yi();dt();var d_e=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},qw=function(o,e){return function(t,i){e(t,i,o)}},iX=class{constructor(e,t,i,n,r){this._openerService=n,this._labelService=r,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new Q,this._editor=t;let s=document.createElement("div");s.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),s.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),s.appendChild(this._relatedBlock),this._disposables.add(Ni(this._relatedBlock,"click",a=>{a.preventDefault();let l=this._relatedDiagnostics.get(a.target);l&&i(l)})),this._scrollable=new iw(s,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(a=>{s.style.left=`-${a.scrollLeft}px`,s.style.top=`-${a.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){ct(this._disposables)}update(e){let{source:t,message:i,relatedInformation:n,code:r}=e,s=((t==null?void 0:t.length)||0)+"()".length;r&&(typeof r=="string"?s+=r.length:s+=r.value.length);let a=rr(i);this._lines=a.length,this._longestLineLength=0;for(let u of a)this._longestLineLength=Math.max(u.length+s,this._longestLineLength);Zi(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let l=this._messageBlock;for(let u of a)l=document.createElement("div"),l.innerText=u,u===""&&(l.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(l);if(t||r){let u=document.createElement("span");if(u.classList.add("details"),l.appendChild(u),t){let f=document.createElement("span");f.innerText=t,f.classList.add("source"),u.appendChild(f)}if(r)if(typeof r=="string"){let f=document.createElement("span");f.innerText=`(${r})`,f.classList.add("code"),u.appendChild(f)}else{this._codeLink=se("a.code-link"),this._codeLink.setAttribute("href",`${r.target.toString()}`),this._codeLink.onclick=p=>{this._openerService.open(r.target,{allowCommands:!0}),p.preventDefault(),p.stopPropagation()};let f=J(this._codeLink,se("span"));f.innerText=r.value,u.appendChild(this._codeLink)}}if(Zi(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),kn(n)){let u=this._relatedBlock.appendChild(document.createElement("div"));u.style.paddingTop=`${Math.floor(this._editor.getOption(58)*.66)}px`,this._lines+=1;for(let f of n){let p=document.createElement("div"),b=document.createElement("a");b.classList.add("filename"),b.innerText=`${ZO(f.resource)}(${f.startLineNumber}, ${f.startColumn}): `,b.title=this._labelService.getUriLabel(f.resource),this._relatedDiagnostics.set(b,f);let v=document.createElement("span");v.innerText=f.message,p.appendChild(b),p.appendChild(v),this._lines+=1,u.appendChild(p)}}let c=this._editor.getOption(43),d=Math.ceil(c.typicalFullwidthCharacterWidth*this._longestLineLength*.75),h=c.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:d,scrollHeight:h})}layout(e,t){this._scrollable.getDomNode().style.height=`${e}px`,this._scrollable.getDomNode().style.width=`${t}px`,this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case Wi.Error:t=g("Error","Error");break;case Wi.Warning:t=g("Warning","Warning");break;case Wi.Info:t=g("Info","Info");break;case Wi.Hint:t=g("Hint","Hint");break}let i=g("marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn),n=this._editor.getModel();return n&&e.startLineNumber<=n.getLineCount()&&e.startLineNumber>=1&&(i=`${n.getLineContent(e.startLineNumber)}, ${i}`),i}},C_=class nX extends Hw{constructor(e,t,i,n,r,s,a){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},r);this._themeService=t,this._openerService=i,this._menuService=n,this._contextKeyService=s,this._labelService=a,this._callOnDispose=new Q,this._onDidSelectRelatedInformation=new F,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=Wi.Warning,this._backgroundColor=Z.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor(g_e);let t=a8,i=h_e;this._severity===Wi.Warning?(t=l8,i=u_e):this._severity===Wi.Info&&(t=c8,i=f_e);let n=e.getColor(t),r=e.getColor(i);this.style({arrowColor:n,frameColor:n,headerBackgroundColor:r,primaryHeadingColor:e.getColor(YO),secondaryHeadingColor:e.getColor(qO)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(e){super._fillHead(e),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(n=>this.editor.focus()));let t=[],i=this._menuService.createMenu(nX.TitleMenu,this._contextKeyService);oG(i,void 0,t),this._actionbarWidget.push(t,{label:!1,icon:!0,index:0}),i.dispose()}_fillTitleIcon(e){this._icon=J(e,se(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new iX(this._container,this.editor,t=>this._onDidSelectRelatedInformation.fire(t),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,t,i){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());let n=D.lift(e),r=this.editor.getPosition(),s=r&&n.containsPosition(r)?r:n.getStartPosition();super.show(s,this.computeRequiredHeight());let a=this.editor.getModel();if(a){let l=i>1?g("problems","{0} of {1} problems",t,i):g("change","{0} of {1} problem",t,i);this.setTitle(Io(a.uri),l)}this._icon.className=`codicon ${cT.className(Wi.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(s,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=`${e}px`}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};C_.TitleMenu=new De("gotoErrorTitleMenu");C_=d_e([qw(1,Rt),qw(2,oo),qw(3,da),qw(4,Ve),qw(5,Ce),qw(6,ih)],C_);var oX=Tv(Md,ek),rX=Tv(Bs,bp),sX=Tv(Lr,Sv),a8=j("editorMarkerNavigationError.background",{dark:oX,light:oX,hc:Oi},g("editorMarkerNavigationError","Editor marker navigation widget error color.")),h_e=j("editorMarkerNavigationError.headerBackground",{dark:Je(a8,.1),light:Je(a8,.1),hc:null},g("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),l8=j("editorMarkerNavigationWarning.background",{dark:rX,light:rX,hc:Oi},g("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),u_e=j("editorMarkerNavigationWarning.headerBackground",{dark:Je(l8,.1),light:Je(l8,.1),hc:"#0C141F"},g("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),c8=j("editorMarkerNavigationInfo.background",{dark:sX,light:sX,hc:Oi},g("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),f_e=j("editorMarkerNavigationInfo.headerBackground",{dark:Je(c8,.1),light:Je(c8,.1),hc:null},g("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),g_e=j("editorMarkerNavigation.background",{dark:Ho,light:Ho,hc:Ho},g("editorMarkerNavigationBackground","Editor marker navigation widget background."));var m_e=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},dT=function(o,e){return function(t,i){e(t,i,o)}},aX=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},Ku=class hT{constructor(e,t,i,n,r){this._markerNavigationService=t,this._contextKeyService=i,this._editorService=n,this._instantiationService=r,this._sessionDispoables=new Q,this._editor=e,this._widgetVisible=dX.bindTo(this._contextKeyService)}static get(e){return e.getContribution(hT.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(C_,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(i=>{var n,r,s;(!((n=this._model)===null||n===void 0?void 0:n.selected)||!D.containsPosition((r=this._model)===null||r===void 0?void 0:r.selected.marker,i.position))&&((s=this._model)===null||s===void 0||s.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;let i=this._model.find(this._editor.getModel().uri,this._widget.position);i?this._widget.updateMarker(i.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(i=>{this._editorService.openCodeEditor({resource:i.resource,options:{pinned:!0,revealIfOpened:!0,selection:D.lift(i).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){let t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new H(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}nagivate(e,t){return aX(this,void 0,void 0,function*(){if(this._editor.hasModel()){let i=this._getOrCreateModel(t?void 0:this._editor.getModel().uri);if(i.move(e,this._editor.getModel(),this._editor.getPosition()),!i.selected)return;if(i.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();let n=yield this._editorService.openCodeEditor({resource:i.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:i.selected.marker}},this._editor);n&&(hT.get(n).close(),hT.get(n).nagivate(e,t))}else this._widget.showAtMarker(i.selected.marker,i.selected.index,i.selected.total)}})}};Ku.ID="editor.contrib.markerController";Ku=m_e([dT(1,r8),dT(2,Ce),dT(3,Ot),dT(4,Ve)],Ku);var WS=class extends _e{constructor(e,t,i){super(i);this._next=e,this._multiFile=t}run(e,t){return aX(this,void 0,void 0,function*(){t.hasModel()&&Ku.get(t).nagivate(this._next,this._multiFile)})}},Zc=class extends WS{constructor(){super(!0,!1,{id:Zc.ID,label:Zc.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:A.focus,primary:512|66,weight:100},menuOpts:{menuId:C_.TitleMenu,title:Zc.LABEL,icon:cn("marker-navigation-next",z.arrowDown,g("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}};Zc.ID="editor.action.marker.next";Zc.LABEL=g("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");var y_=class extends WS{constructor(){super(!1,!1,{id:y_.ID,label:y_.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:A.focus,primary:1024|512|66,weight:100},menuOpts:{menuId:C_.TitleMenu,title:Zc.LABEL,icon:cn("marker-navigation-previous",z.arrowUp,g("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}};y_.ID="editor.action.marker.prev";y_.LABEL=g("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");var lX=class extends WS{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:g("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:A.focus,primary:66,weight:100},menuOpts:{menuId:De.MenubarGoMenu,title:g({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}},cX=class extends WS{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:g("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:A.focus,primary:1024|66,weight:100},menuOpts:{menuId:De.MenubarGoMenu,title:g({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}};Qe(Ku.ID,Ku);le(Zc);le(y_);le(lX);le(cX);var dX=new be("markersNavigationVisible",!1),p_e=Hi.bindToContribution(Ku.get);ue(new p_e({id:"closeMarkersNavigation",precondition:dX,handler:o=>o.close(),kbOpts:{weight:100+50,kbExpr:A.focus,primary:9,secondary:[1024|9]}}));xe();$l();yi();dt();var __e=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},hX=function(o,e){return function(t,i){e(t,i,o)}},Gl=se,uX=class{constructor(e,t,i){this.owner=e,this.range=t,this.marker=i}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}},fX={type:1,filter:{include:Pt.QuickFix}},uT=class{constructor(e,t,i,n){this._editor=e,this._hover=t,this._markerDecorationsService=i,this._openerService=n,this.recentMarkerCodeActionsInfo=void 0}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];let i=this._editor.getModel(),n=e.range.startLineNumber,r=i.getLineMaxColumn(n),s=[];for(let a of t){let l=a.range.startLineNumber===n?a.range.startColumn:1,c=a.range.endLineNumber===n?a.range.endColumn:r,d=this._markerDecorationsService.getMarker(i.uri,a);if(!d)continue;let h=new D(e.range.startLineNumber,l,e.range.startLineNumber,c);s.push(new uX(this,h,d))}return s}renderHoverParts(e,t,i){if(!e.length)return $.None;let n=new Q;e.forEach(s=>t.appendChild(this.renderMarkerHover(s,n)));let r=e.length===1?e[0]:e.sort((s,a)=>Wi.compare(s.marker.severity,a.marker.severity))[0];return this.renderMarkerStatusbar(r,i,n),n}renderMarkerHover(e,t){let i=Gl("div.hover-row"),n=J(i,Gl("div.marker.hover-contents")),{source:r,message:s,code:a,relatedInformation:l}=e.marker;this._editor.applyFontInfo(n);let c=J(n,Gl("span"));if(c.style.whiteSpace="pre-wrap",c.innerText=s,r||a)if(a&&typeof a!="string"){let d=Gl("span");if(r){let p=J(d,Gl("span"));p.innerText=r}let h=J(d,Gl("a.code-link"));h.setAttribute("href",a.target.toString()),t.add(oe(h,"click",p=>{this._openerService.open(a.target,{allowCommands:!0}),p.preventDefault(),p.stopPropagation()}));let u=J(h,Gl("span"));u.innerText=a.value;let f=J(n,d);f.style.opacity="0.6",f.style.paddingLeft="6px"}else{let d=J(n,Gl("span"));d.style.opacity="0.6",d.style.paddingLeft="6px",d.innerText=r&&a?`${r}(${a})`:r||`(${a})`}if(kn(l))for(let{message:d,resource:h,startLineNumber:u,startColumn:f}of l){let p=J(n,Gl("div"));p.style.marginTop="8px";let b=J(p,Gl("a"));b.innerText=`${Io(h)}(${u}, ${f}): `,b.style.cursor="pointer",t.add(oe(b,"click",y=>{y.stopPropagation(),y.preventDefault(),this._openerService&&this._openerService.open(h,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:u,startColumn:f}}}).catch(ye)}));let v=J(p,Gl("span"));v.innerText=d,this._editor.applyFontInfo(v)}return i}renderMarkerStatusbar(e,t,i){if((e.marker.severity===Wi.Error||e.marker.severity===Wi.Warning||e.marker.severity===Wi.Info)&&t.addAction({label:g("view problem","View Problem"),commandId:Zc.ID,run:()=>{this._hover.hide(),Ku.get(this._editor).showAtMarker(e.marker),this._editor.focus()}}),!this._editor.getOption(80)){let n=t.append(Gl("div"));this.recentMarkerCodeActionsInfo&&(Gy.makeKey(this.recentMarkerCodeActionsInfo.marker)===Gy.makeKey(e.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(n.textContent=g("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);let r=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?$.None:i.add(xl(()=>n.textContent=g("checkingForQuickFixes","Checking for quick fixes..."),200));n.textContent||(n.textContent=String.fromCharCode(160));let s=this.getCodeActions(e.marker);i.add(ze(()=>s.cancel())),s.then(a=>{if(r.dispose(),this.recentMarkerCodeActionsInfo={marker:e.marker,hasCodeActions:a.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){a.dispose(),n.textContent=g("noQuickFixes","No quick fixes available");return}n.style.display="none";let l=!1;i.add(ze(()=>{l||a.dispose()})),t.addAction({label:g("quick fixes","Quick Fix..."),commandId:zu.Id,run:c=>{l=!0;let d=Uu.get(this._editor),h=Gi(c);this._hover.hide(),d.showCodeActions(fX,a,{x:h.left+6,y:h.top+h.height+6})}})},ye)}}getCodeActions(e){return wi(t=>fS(this._editor.getModel(),new D(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),fX,Hl.None,t))}};uT=__e([hX(2,pv),hX(3,oo)],uT);gt((o,e)=>{let t=o.getColor(Qf);t&&e.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${t}; }`);let i=o.getColor(Jf);i&&e.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${i}; }`)});Me();ne();ve();ar();ne();je();Dt();Y1();Yi();var fT="editor.action.inlineSuggest.commit";Se();ne();ot();Tt();tt();Ei();st();Se();ne();je();Ml();ve();Tt();Se();ne();ve();var US=class{constructor(e,t,i=0){this.lineNumber=e,this.parts=t,this.additionalReservedLineCount=i}renderForScreenReader(e){if(this.parts.length===0)return"";let t=this.parts[this.parts.length-1],i=e.substr(0,t.column-1);return b_e(i,this.parts.map(r=>({range:{startLineNumber:1,endLineNumber:1,startColumn:r.column,endColumn:r.column},text:r.lines.join(`
`)}))).substring(this.parts[0].column-1)}},gX=class{constructor(e){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)e.charAt(t)===`
`&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}};function b_e(o,e){let t=new gX(o),i=e.map(n=>{let r=D.lift(n.range);return{startOffset:t.getOffset(r.getStartPosition()),endOffset:t.getOffset(r.getEndPosition()),text:n.text}});i.sort((n,r)=>r.startOffset-n.startOffset);for(let n of i)o=o.substring(0,n.startOffset)+n.text+o.substring(n.endOffset);return o}var gT=class{constructor(e,t,i){this.column=e,this.lines=t,this.preview=i}},zS=class extends ${constructor(e){super();this.editor=e,this._expanded=void 0,this.onDidChangeEmitter=new F,this.onDidChange=this.onDidChangeEmitter.event,this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(105)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(e){this._expanded=!0,this.onDidChangeEmitter.fire()}};zi();je();ve();function mX(o,e){return o===e?!0:!o||!e?!1:o.range.equalsRange(e.range)&&o.text===e.text&&o.command===e.command}function mT(o,e,t,i,n=0){if(o.range.startLineNumber!==o.range.endLineNumber)return;let r=e.getLineContent(o.range.startLineNumber),s=Qt(r).length;if(o.range.startColumn-1<=s){let f=Qt(o.text).length,p=r.substring(o.range.startColumn-1,s),b=D.fromPositions(o.range.getStartPosition().delta(0,p.length),o.range.getEndPosition()),v=o.text.startsWith(p)?o.text.substring(p.length):o.text.substring(f);o={range:b,text:v,command:o.command}}let l=e.getValueInRange(o.range),c=v_e(l,o.text);if(!c)return;let d=o.range.startLineNumber,h=new Array;if(t==="prefix"){let f=c.filter(p=>p.originalLength===0);if(f.length>1||f.length===1&&f[0].originalStart!==l.length)return}let u=o.text.length-n;for(let f of c){let p=o.range.startColumn+f.originalStart+f.originalLength;if(t==="subwordSmart"&&i&&i.lineNumber===o.range.startLineNumber&&p<i.column||f.originalLength>0)return;if(f.modifiedLength===0)continue;let b=f.modifiedStart+f.modifiedLength,v=Math.max(f.modifiedStart,Math.min(b,u)),y=o.text.substring(f.modifiedStart,v),w=o.text.substring(v,Math.max(f.modifiedStart,b));if(y.length>0){let S=rr(y);h.push(new gT(p,S,!1))}if(w.length>0){let S=rr(w);h.push(new gT(p,S,!0))}}return new US(d,h,0)}var gh;function v_e(o,e){if((gh==null?void 0:gh.originalValue)===o&&(gh==null?void 0:gh.newValue)===e)return gh==null?void 0:gh.changes;{let t=w_e(o,e);return gh={originalValue:o,newValue:e,changes:t},t}}function w_e(o,e){if(o.length>5e3||e.length>5e3)return;function t(l){let c=0;for(let d=0,h=l.length;d<h;d++){let u=l.charCodeAt(d);u>c&&(c=u)}return c}let i=Math.max(t(o),t(e));function n(l){if(l<0)throw new Error("unexpected");return i+l+1}function r(l){let c=0,d=0,h=new Int32Array(l.length);for(let u=0,f=l.length;u<f;u++){let p=d*100+c;l[u]==="("?(h[u]=n(2*p),c++):l[u]===")"?(h[u]=n(2*p+1),c===1&&d++,c=Math.max(c-1,0)):h[u]=l.charCodeAt(u)}return h}let s=r(o),a=r(e);return new la({getElements:()=>s},{getElements:()=>a}).ComputeDiff(!1).changes}var C_e=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},y_e=function(o,e){return function(t,i){e(t,i,o)}},Yu=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},pT=class extends ${constructor(e,t,i){super();this.editor=e,this.cache=t,this.commandService=i,this.onDidChangeEmitter=new F,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new _n),this.active=!1,this.disposed=!1,this._register(i.onDidExecuteCommand(n=>{new Set([mg.Tab.id,mg.DeleteLeft.id,mg.DeleteRight.id,fT,"acceptSelectedSuggestion"]).has(n.commandId)&&e.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(n=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(n=>{this.session&&!this.session.isValid&&this.hide()})),this._register(ze(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var e;return(e=this.session)===null||e===void 0?void 0:e.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(e){var t;(t=this.session)===null||t===void 0||t.setExpanded(e)}setActive(e){var t;this.active=e,e&&((t=this.session)===null||t===void 0||t.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(54).enabled||this.session&&this.session.isValid||this.trigger(rs.Automatic)}trigger(e){if(this.completionSession.value){e===rs.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new pX(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,e),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var e;(e=this.session)===null||e===void 0||e.commitCurrentCompletion()}showNext(){var e;(e=this.session)===null||e===void 0||e.showNextInlineCompletion()}showPrevious(){var e;(e=this.session)===null||e===void 0||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return Yu(this,void 0,void 0,function*(){let t=yield(e=this.session)===null||e===void 0?void 0:e.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};pT=C_e([y_e(2,li)],pT);var pX=class extends zS{constructor(e,t,i,n,r,s){super(e);this.triggerPosition=t,this.shouldUpdate=i,this.commandService=n,this.cache=r,this.initialTriggerKind=s,this.minReservedLineCount=0,this.updateOperation=this._register(new _n),this.updateSoon=this._register(new bt(()=>{let l=this.initialTriggerKind;return this.initialTriggerKind=rs.Automatic,this.update(l)},50)),this.currentlySelectedCompletionId=void 0;let a;this._register(this.onDidChange(()=>{let l=this.currentCompletion;if(l&&l.sourceInlineCompletion!==a){a=l.sourceInlineCompletion;let c=l.sourceProvider;c.handleItemDidShow&&c.handleItemDidShow(l.sourceInlineCompletions,a)}})),this._register(ze(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(l=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(l=>{this.scheduleAutomaticUpdate()})),this._register(R0.onDidChange(()=>{this.updateSoon.schedule()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;let e=this.cache.value.completions.findIndex(t=>t.semanticId===this.currentlySelectedCompletionId);return e===-1?(this.currentlySelectedCompletionId=void 0,0):e}get currentCachedCompletion(){if(!!this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var e;return Yu(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();let t=((e=this.cache.value)===null||e===void 0?void 0:e.completions)||[];if(t.length>0){let i=(this.fixAndGetIndexOfCurrentSelection()+1)%t.length;this.currentlySelectedCompletionId=t[i].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){var e;return Yu(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();let t=((e=this.cache.value)===null||e===void 0?void 0:e.completions)||[];if(t.length>0){let i=(this.fixAndGetIndexOfCurrentSelection()+t.length-1)%t.length;this.currentlySelectedCompletionId=t[i].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var e;return Yu(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===rs.Explicit?yield this.updateOperation.value.promise:yield this.update(rs.Explicit):((e=this.cache.value)===null||e===void 0?void 0:e.triggerKind)!==rs.Explicit&&(yield this.update(rs.Explicit))})}hasMultipleInlineCompletions(){var e;return Yu(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((e=this.cache.value)===null||e===void 0?void 0:e.completions.length)||0)>1})}get ghostText(){let e=this.currentCompletion,t=this.editor.getOptions().get(54).mode;return e?mT(e,this.editor.getModel(),t,this.editor.getPosition()):void 0}get currentCompletion(){let e=this.currentCachedCompletion;if(!!e)return e.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(e){return Yu(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;let t=this.editor.getPosition(),i=wi(r=>Yu(this,void 0,void 0,function*(){let s;try{s=yield h8(t,this.editor.getModel(),{triggerKind:e,selectedSuggestionInfo:void 0},r)}catch(a){ye(a);return}r.isCancellationRequested||(this.cache.setValue(this.editor,s,e),this.onDidChangeEmitter.fire())})),n=new _T(i,e);this.updateOperation.value=n,yield i,this.updateOperation.value===n&&this.updateOperation.clear()})}takeOwnership(e){this._register(e)}commitCurrentCompletion(){if(!this.ghostText)return;let e=this.currentCompletion;e&&this.commit(e)}commit(e){let t=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[ui.replaceMove(e.range,e.text)]),e.command?this.commandService.executeCommand(e.command.id,...e.command.arguments||[]).finally(()=>{t==null||t.dispose()}).then(void 0,Di):t==null||t.dispose(),this.onDidChangeEmitter.fire()}},_T=class{constructor(e,t){this.promise=e,this.triggerKind=t}dispose(){this.promise.cancel()}},d8=class extends ${constructor(e,t,i,n){super();this.triggerKind=n;let r=e.deltaDecorations([],t.items.map(s=>({range:s.range,options:{description:"inline-completion-tracking-range"}})));this._register(ze(()=>{e.deltaDecorations(r,[])})),this.completions=t.items.map((s,a)=>new _X(s,r[a])),this._register(e.onDidChangeModelContent(()=>{let s=!1,a=e.getModel();for(let l of this.completions){let c=a.getDecorationRange(l.decorationId);if(!c){ye(new Error("Decoration has no range"));continue}l.synchronizedRange.equalsRange(c)||(s=!0,l.synchronizedRange=c)}s&&i()})),this._register(t)}},_X=class{constructor(e,t){this.inlineCompletion=e,this.decorationId=t,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=e.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}};function S_e(o,e){let t=e.getWordAtPosition(o),i=e.getLineMaxColumn(o.lineNumber);return t?new D(o.lineNumber,t.startColumn,o.lineNumber,i):D.fromPositions(o,o.with(void 0,i))}function h8(o,e,t,i=qe.None){return Yu(this,void 0,void 0,function*(){let n=S_e(o,e),r=R0.all(e),s=yield Promise.all(r.map(l=>Yu(this,void 0,void 0,function*(){let c=yield l.provideInlineCompletions(e,o,t,i);return{completions:c,provider:l,dispose:()=>{c&&l.freeInlineCompletions(c)}}}))),a=new Map;for(let l of s){let c=l.completions;if(c)for(let d of c.items.map(h=>({text:h.text,range:h.range?D.lift(h.range):n,command:h.command,sourceProvider:l.provider,sourceInlineCompletions:c,sourceInlineCompletion:h})))d.range.startLineNumber===d.range.endLineNumber&&a.set(JSON.stringify({text:d.text,range:d.range}),d)}return{items:[...a.values()],dispose:()=>{for(let l of s)l.dispose()}}})}function Zw(o,e){if(!e)return e;let t=o.getValueInRange(e.range),i=wc(t,e.text),n=o.getOffsetAt(e.range.getStartPosition())+i,r=o.getPositionAt(n),s=t.substr(i),a=Nm(s,e.text),l=o.getPositionAt(Math.max(n,o.getOffsetAt(e.range.getEndPosition())-a));return{range:D.fromPositions(r,l),text:e.text.substr(i,e.text.length-i-a)}}tt();st();ne();Tt();tt();Se();ne();ot();ve();var nl=class{constructor(){this.value="",this.pos=0}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return e===95||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let e=this.pos,t=0,i=this.value.charCodeAt(e),n;if(n=nl._table[i],typeof n=="number")return this.pos+=1,{type:n,pos:e,len:1};if(nl.isDigitCharacter(i)){n=8;do t+=1,i=this.value.charCodeAt(e+t);while(nl.isDigitCharacter(i));return this.pos+=t,{type:n,pos:e,len:t}}if(nl.isVariableCharacter(i)){n=9;do i=this.value.charCodeAt(e+ ++t);while(nl.isVariableCharacter(i)||nl.isDigitCharacter(i));return this.pos+=t,{type:n,pos:e,len:t}}n=10;do t+=1,i=this.value.charCodeAt(e+t);while(!isNaN(i)&&typeof nl._table[i]=="undefined"&&!nl.isDigitCharacter(i)&&!nl.isVariableCharacter(i));return this.pos+=t,{type:n,pos:e,len:t}}};nl._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};var S_=class{constructor(){this._children=[]}appendChild(e){return e instanceof Nr&&this._children[this._children.length-1]instanceof Nr?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){let{parent:i}=e,n=i.children.indexOf(e),r=i.children.slice(0);r.splice(n,1,...t),i._children=r,function s(a,l){for(let c of a)c.parent=l,s(c.children,c)}(t,i)}get children(){return this._children}get snippet(){let e=this;for(;;){if(!e)return;if(e instanceof VS)return e;e=e.parent}}toString(){return this.children.reduce((e,t)=>e+t.toString(),"")}len(){return 0}},Nr=class extends S_{constructor(e){super();this.value=e}toString(){return this.value}len(){return this.value.length}clone(){return new Nr(this.value)}},u8=class extends S_{},ba=class extends u8{constructor(e){super();this.index=e}static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof E_?this._children[0]:void 0}clone(){let e=new ba(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}},E_=class extends S_{constructor(){super(...arguments);this.options=[]}appendChild(e){return e instanceof Nr&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let e=new E_;return this.options.forEach(e.appendChild,e),e}},bT=class extends S_{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(e){let t=this,i=!1,n=e.replace(this.regexp,function(){return i=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))});return!i&&this._children.some(r=>r instanceof Xl&&Boolean(r.elseValue))&&(n=this._replace([])),n}_replace(e){let t="";for(let i of this._children)if(i instanceof Xl){let n=e[i.index]||"";n=i.resolve(n),t+=n}else t+=i.toString();return t}toString(){return""}clone(){let e=new bT;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map(t=>t.clone()),e}},Xl=class extends S_{constructor(e,t,i,n){super();this.index=e,this.shorthandName=t,this.ifValue=i,this.elseValue=n}resolve(e){return this.shorthandName==="upcase"?e?e.toLocaleUpperCase():"":this.shorthandName==="downcase"?e?e.toLocaleLowerCase():"":this.shorthandName==="capitalize"?e?e[0].toLocaleUpperCase()+e.substr(1):"":this.shorthandName==="pascalcase"?e?this._toPascalCase(e):"":this.shorthandName==="camelcase"?e?this._toCamelCase(e):"":Boolean(e)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(e)&&typeof this.elseValue=="string"?this.elseValue:e||""}_toPascalCase(e){let t=e.match(/[a-z0-9]+/gi);return t?t.map(i=>i.charAt(0).toUpperCase()+i.substr(1).toLowerCase()).join(""):e}_toCamelCase(e){let t=e.match(/[a-z0-9]+/gi);return t?t.map((i,n)=>n===0?i.toLowerCase():i.charAt(0).toUpperCase()+i.substr(1).toLowerCase()).join(""):e}clone(){return new Xl(this.index,this.shorthandName,this.ifValue,this.elseValue)}},Gw=class extends u8{constructor(e){super();this.name=e}resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),t!==void 0?(this._children=[new Nr(t)],!0):!1}clone(){let e=new Gw(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}};function bX(o,e){let t=[...o];for(;t.length>0;){let i=t.shift();if(!e(i))break;t.unshift(...i.children)}}var VS=class extends S_{get placeholderInfo(){if(!this._placeholders){let e=[],t;this.walk(function(i){return i instanceof ba&&(e.push(i),t=!t||t.index<i.index?i:t),!0}),this._placeholders={all:e,last:t}}return this._placeholders}get placeholders(){let{all:e}=this.placeholderInfo;return e}offset(e){let t=0,i=!1;return this.walk(n=>n===e?(i=!0,!1):(t+=n.len(),!0)),i?t:-1}fullLen(e){let t=0;return bX([e],i=>(t+=i.len(),!0)),t}enclosingPlaceholders(e){let t=[],{parent:i}=e;for(;i;)i instanceof ba&&t.push(i),i=i.parent;return t}resolveVariables(e){return this.walk(t=>(t instanceof Gw&&t.resolve(e)&&(this._placeholders=void 0),!0)),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){let e=new VS;return this._children=this.children.map(t=>t.clone()),e}walk(e){bX(this.children,e)}},qu=class{constructor(){this._scanner=new nl,this._token={type:14,pos:0,len:0}}static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,i){this._scanner.text(e),this._token=this._scanner.next();let n=new VS;for(;this._parse(n););let r=new Map,s=[],a=0;n.walk(l=>(l instanceof ba&&(a+=1,l.isFinalTabstop?r.set(0,void 0):!r.has(l.index)&&l.children.length>0?r.set(l.index,l.children):s.push(l)),!0));for(let l of s){let c=r.get(l.index);if(c){let d=new ba(l.index);d.transform=l.transform;for(let h of c)d.appendChild(h.clone());n.replace(l,[d])}}return i||(i=a>0&&t),!r.has(0)&&i&&n.appendChild(new ba(0)),n}_accept(e,t){if(e===void 0||this._token.type===e){let i=t?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),i}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){let t=this._token;for(;this._token.type!==e;){if(this._token.type===14)return!1;if(this._token.type===5){let n=this._scanner.next();if(n.type!==0&&n.type!==4&&n.type!==5)return!1}this._token=this._scanner.next()}let i=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),i}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return(t=this._accept(5,!0))?(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new Nr(t)),!0):!1}_parseTabstopOrVariableName(e){let t,i=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new ba(Number(t)):new Gw(t)),!0):this._backTo(i)}_parseComplexPlaceholder(e){let t,i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(i);let r=new ba(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(r),!0;if(!this._parse(r))return e.appendChild(new Nr("${"+t+":")),r.children.forEach(e.appendChild,e),!0}else if(r.index>0&&this._accept(7)){let s=new E_;for(;;){if(this._parseChoiceElement(s)){if(this._accept(2))continue;if(this._accept(7)&&(r.appendChild(s),this._accept(4)))return e.appendChild(r),!0}return this._backTo(i),!1}}else return this._accept(6)?this._parseTransform(r)?(e.appendChild(r),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(r),!0):this._backTo(i)}_parseChoiceElement(e){let t=this._token,i=[];for(;!(this._token.type===2||this._token.type===7);){let n;if((n=this._accept(5,!0))?n=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||n:n=this._accept(void 0,!0),!n)return this._backTo(t),!1;i.push(n)}return i.length===0?(this._backTo(t),!1):(e.appendChild(new Nr(i.join(""))),!0)}_parseComplexVariable(e){let t,i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(i);let r=new Gw(t);if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(r),!0;if(!this._parse(r))return e.appendChild(new Nr("${"+t+":")),r.children.forEach(e.appendChild,e),!0}else return this._accept(6)?this._parseTransform(r)?(e.appendChild(r),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(r),!0):this._backTo(i)}_parseTransform(e){let t=new bT,i="",n="";for(;!this._accept(6);){let r;if(r=this._accept(5,!0)){r=this._accept(6,!0)||r,i+=r;continue}if(this._token.type!==14){i+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let r;if(r=this._accept(5,!0)){r=this._accept(5,!0)||this._accept(6,!0)||r,t.appendChild(new Nr(r));continue}if(!(this._parseFormatString(t)||this._parseAnything(t)))return!1}for(;!this._accept(4);){if(this._token.type!==14){n+=this._accept(void 0,!0);continue}return!1}try{t.regexp=new RegExp(i,n)}catch{return!1}return e.transform=t,!0}_parseFormatString(e){let t=this._token;if(!this._accept(0))return!1;let i=!1;this._accept(3)&&(i=!0);let n=this._accept(8,!0);if(n)if(i){if(this._accept(4))return e.appendChild(new Xl(Number(n))),!0;if(!this._accept(1))return this._backTo(t),!1}else return e.appendChild(new Xl(Number(n))),!0;else return this._backTo(t),!1;if(this._accept(6)){let r=this._accept(9,!0);return!r||!this._accept(4)?(this._backTo(t),!1):(e.appendChild(new Xl(Number(n),r)),!0)}else if(this._accept(11)){let r=this._until(4);if(r)return e.appendChild(new Xl(Number(n),void 0,r,void 0)),!0}else if(this._accept(12)){let r=this._until(4);if(r)return e.appendChild(new Xl(Number(n),void 0,void 0,r)),!0}else if(this._accept(13)){let r=this._until(1);if(r){let s=this._until(4);if(s)return e.appendChild(new Xl(Number(n),void 0,r,s)),!0}}else{let r=this._until(4);if(r)return e.appendChild(new Xl(Number(n),void 0,void 0,r)),!0}return this._backTo(t),!1}_parseAnything(e){return this._token.type!==14?(e.appendChild(new Nr(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}};Ut();ne();je();Ml();ve();ai();Wn();kf();Er();je();var Mo=new Uint8Array(16),$r=[];for(let o=0;o<256;o++)$r.push(o.toString(16).padStart(2,"0"));var f8;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?f8=crypto.getRandomValues.bind(crypto):f8=function(o){for(let e=0;e<o.length;e++)o[e]=Math.floor(Math.random()*256);return o};function vX(){f8(Mo),Mo[6]=Mo[6]&15|64,Mo[8]=Mo[8]&63|128;let o=0,e="";return e+=$r[Mo[o++]],e+=$r[Mo[o++]],e+=$r[Mo[o++]],e+=$r[Mo[o++]],e+="-",e+=$r[Mo[o++]],e+=$r[Mo[o++]],e+="-",e+=$r[Mo[o++]],e+=$r[Mo[o++]],e+="-",e+=$r[Mo[o++]],e+=$r[Mo[o++]],e+="-",e+=$r[Mo[o++]],e+=$r[Mo[o++]],e+=$r[Mo[o++]],e+=$r[Mo[o++]],e+=$r[Mo[o++]],e+=$r[Mo[o++]],e}zo();xe();Ai();xe();var vT="code-workspace",svt=[{name:g("codeWorkspace","Code Workspace"),extensions:[vT]}];function g8(o){let e=o;return typeof(e==null?void 0:e.id)=="string"&&Ee.isUri(e.uri)}function wX(o){if(o.configuration)return{id:o.id,configPath:o.configuration};if(o.folders.length===1)return{id:o.id,uri:o.folders[0].uri}}var mvt=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0}),m8=class{constructor(e){this._delegates=e}resolve(e){for(let t of this._delegates){let i=t.resolve(e);if(i!==void 0)return i}}},p8=class{constructor(e,t,i,n){this._model=e,this._selection=t,this._selectionIdx=i,this._overtypingCapturer=n}resolve(e){let{name:t}=e;if(t==="SELECTION"||t==="TM_SELECTED_TEXT"){let i=this._model.getValueInRange(this._selection)||void 0,n=this._selection.startLineNumber!==this._selection.endLineNumber;if(!i&&this._overtypingCapturer){let r=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);r&&(i=r.value,n=r.multiline)}if(i&&n&&e.snippet){let r=this._model.getLineContent(this._selection.startLineNumber),s=Qt(r,0,this._selection.startColumn-1),a=s;e.snippet.walk(c=>c===e?!1:(c instanceof Nr&&(a=Qt(rr(c.value).pop())),!0));let l=wc(a,s);i=i.replace(/(\r\n|\r|\n)(.*)/g,(c,d,h)=>`${d}${a.substr(l)}${h}`)}return i}else{if(t==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(t==="TM_CURRENT_WORD"){let i=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return i&&i.word||void 0}else{if(t==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(t==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}},_8=class{constructor(e,t){this._labelService=e,this._model=t}resolve(e){let{name:t}=e;if(t==="TM_FILENAME")return ud(this._model.uri.fsPath);if(t==="TM_FILENAME_BASE"){let i=ud(this._model.uri.fsPath),n=i.lastIndexOf(".");return n<=0?i:i.slice(0,n)}else{if(t==="TM_DIRECTORY")return Rx(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(Mb(this._model.uri));if(t==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(t==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}},b8=class{constructor(e,t,i,n){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=i,this._spread=n}resolve(e){if(e.name!=="CLIPBOARD")return;let t=this._readClipboardText();if(!!t){if(this._spread){let i=t.split(/\r\n|\n|\r/).filter(n=>!OD(n));if(i.length===this._selectionCount)return i[this._selectionIdx]}return t}}},v8=class{constructor(e,t){this._model=e,this._selection=t}resolve(e){let{name:t}=e,i=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),n=xt.getComments(i);if(!!n){if(t==="LINE_COMMENT")return n.lineCommentToken||void 0;if(t==="BLOCK_COMMENT_START")return n.blockCommentStartToken||void 0;if(t==="BLOCK_COMMENT_END")return n.blockCommentEndToken||void 0}}},Ql=class{constructor(){this._date=new Date}resolve(e){let{name:t}=e;if(t==="CURRENT_YEAR")return String(this._date.getFullYear());if(t==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(t==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(t==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(t==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(t==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(t==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(t==="CURRENT_DAY_NAME")return Ql.dayNames[this._date.getDay()];if(t==="CURRENT_DAY_NAME_SHORT")return Ql.dayNamesShort[this._date.getDay()];if(t==="CURRENT_MONTH_NAME")return Ql.monthNames[this._date.getMonth()];if(t==="CURRENT_MONTH_NAME_SHORT")return Ql.monthNamesShort[this._date.getMonth()];if(t==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}};Ql.dayNames=[g("Sunday","Sunday"),g("Monday","Monday"),g("Tuesday","Tuesday"),g("Wednesday","Wednesday"),g("Thursday","Thursday"),g("Friday","Friday"),g("Saturday","Saturday")];Ql.dayNamesShort=[g("SundayShort","Sun"),g("MondayShort","Mon"),g("TuesdayShort","Tue"),g("WednesdayShort","Wed"),g("ThursdayShort","Thu"),g("FridayShort","Fri"),g("SaturdayShort","Sat")];Ql.monthNames=[g("January","January"),g("February","February"),g("March","March"),g("April","April"),g("May","May"),g("June","June"),g("July","July"),g("August","August"),g("September","September"),g("October","October"),g("November","November"),g("December","December")];Ql.monthNamesShort=[g("JanuaryShort","Jan"),g("FebruaryShort","Feb"),g("MarchShort","Mar"),g("AprilShort","Apr"),g("MayShort","May"),g("JuneShort","Jun"),g("JulyShort","Jul"),g("AugustShort","Aug"),g("SeptemberShort","Sep"),g("OctoberShort","Oct"),g("NovemberShort","Nov"),g("DecemberShort","Dec")];var w8=class{constructor(e){this._workspaceService=e}resolve(e){if(!this._workspaceService)return;let t=wX(this._workspaceService.getWorkspace());if(!!t){if(e.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(t);if(e.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(t)}}_resolveWorkspaceName(e){if(g8(e))return ud(e.uri.path);let t=ud(e.configPath.path);return t.endsWith(vT)&&(t=t.substr(0,t.length-vT.length-1)),t}_resoveWorkspacePath(e){if(g8(e))return GO(e.uri.fsPath);let t=ud(e.configPath.path),i=e.configPath.fsPath;return i.endsWith(t)&&(i=i.substr(0,i.length-t.length-1)),i?GO(i):"/"}},C8=class{resolve(e){let{name:t}=e;if(t==="RANDOM")return Math.random().toString().slice(-6);if(t==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(t==="UUID")return vX()}};var ol=class{constructor(e,t,i,n){this._editor=e,this._snippet=t,this._offset=i,this._snippetLineLeadingWhitespace=n,this._nestingLevel=1,this._placeholderGroups=dP(t.placeholders,ba.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;let e=this._editor.getModel();this._editor.changeDecorations(t=>{for(let i of this._snippet.placeholders){let n=this._snippet.offset(i),r=this._snippet.fullLen(i),s=D.fromPositions(e.getPositionAt(this._offset+n),e.getPositionAt(this._offset+n+r)),a=i.isFinalTabstop?ol._decor.inactiveFinal:ol._decor.inactive,l=t.addDecoration(s,a);this._placeholderDecorations.set(i,l)}})}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let n=[];for(let r of this._placeholderGroups[this._placeholderGroupsIdx])if(r.transform){let s=this._placeholderDecorations.get(r),a=this._editor.getModel().getDecorationRange(s),l=this._editor.getModel().getValueInRange(a),c=r.transform.resolve(l).split(/\r\n|\r|\n/);for(let d=1;d<c.length;d++)c[d]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+c[d]);n.push(ui.replace(a,c.join(this._editor.getModel().getEOL())))}n.length>0&&this._editor.executeEdits("snippet.placeholderTransform",n)}let t=!1;e===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,t=!0):e===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,t=!0);let i=this._editor.getModel().changeDecorations(n=>{let r=new Set,s=[];for(let a of this._placeholderGroups[this._placeholderGroupsIdx]){let l=this._placeholderDecorations.get(a),c=this._editor.getModel().getDecorationRange(l);s.push(new de(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn)),t=t&&this._hasPlaceholderBeenCollapsed(a),n.changeDecorationOptions(l,a.isFinalTabstop?ol._decor.activeFinal:ol._decor.active),r.add(a);for(let d of this._snippet.enclosingPlaceholders(a)){let h=this._placeholderDecorations.get(d);n.changeDecorationOptions(h,d.isFinalTabstop?ol._decor.activeFinal:ol._decor.active),r.add(d)}}for(let[a,l]of this._placeholderDecorations)r.has(a)||n.changeDecorationOptions(l,a.isFinalTabstop?ol._decor.inactiveFinal:ol._decor.inactive);return s});return t?this.move(e):i??[]}_hasPlaceholderBeenCollapsed(e){let t=e;for(;t;){if(t instanceof ba){let i=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(i).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){let e=new Map;for(let t of this._placeholderGroups){let i;for(let n of t){if(n.isFinalTabstop)break;i||(i=[],e.set(n.index,i));let r=this._placeholderDecorations.get(n),s=this._editor.getModel().getDecorationRange(r);if(!s){e.delete(n.index);break}i.push(s)}}return e}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(e){let t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(i=>{for(let n of this._placeholderGroups[this._placeholderGroupsIdx]){let r=e.shift();console.assert(!r._placeholderDecorations);let s=r._snippet.placeholderInfo.last.index;for(let l of r._snippet.placeholderInfo.all)l.isFinalTabstop?l.index=n.index+(s+1)/this._nestingLevel:l.index=n.index+l.index/this._nestingLevel;this._snippet.replace(n,r._snippet.children);let a=this._placeholderDecorations.get(n);i.removeDecoration(a),this._placeholderDecorations.delete(n);for(let l of r._snippet.placeholders){let c=r._snippet.offset(l),d=r._snippet.fullLen(l),h=D.fromPositions(t.getPositionAt(r._offset+c),t.getPositionAt(r._offset+c+d)),u=i.addDecoration(h,ol._decor.inactive);this._placeholderDecorations.set(l,u)}}this._placeholderGroups=dP(this._snippet.placeholders,ba.compareByIndex)})}};ol._decor={active:Ze.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:Ze.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:Ze.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:Ze.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};var CX={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},rl=class{constructor(e,t,i=CX){this._templateMerges=[],this._snippets=[],this._editor=e,this._template=t,this._options=i}static adjustWhitespace(e,t,i,n,r){let s=e.getLineContent(t.lineNumber),a=Qt(s,0,t.column-1),l;return i.walk(c=>{if(!(c instanceof Nr)||c.parent instanceof E_)return!0;let d=c.value.split(/\r\n|\r|\n/);if(n){let u=i.offset(c);if(u===0)d[0]=e.normalizeIndentation(d[0]);else{l=l??i.toString();let f=l.charCodeAt(u-1);(f===10||f===13)&&(d[0]=e.normalizeIndentation(a+d[0]))}for(let f=1;f<d.length;f++)d[f]=e.normalizeIndentation(a+d[f])}let h=d.join(e.getEOL());return h!==c.value&&(c.parent.replace(c,[new Nr(h)]),l=void 0),!0}),a}static adjustSelection(e,t,i,n){if(i!==0||n!==0){let{positionLineNumber:r,positionColumn:s}=t,a=s-i,l=s+n,c=e.validateRange({startLineNumber:r,startColumn:a,endLineNumber:r,endColumn:l});t=de.createWithDirection(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn,t.getDirection())}return t}static createEditsAndSnippets(e,t,i,n,r,s,a,l){let c=[],d=[];if(!e.hasModel())return{edits:c,snippets:d};let h=e.getModel(),u=e.invokeWithinContext(x=>x.get(DL)),f=e.invokeWithinContext(x=>new _8(x.get(ih),h)),p=()=>a,b=0,v=h.getValueInRange(rl.adjustSelection(h,e.getSelection(),i,0)),y=h.getValueInRange(rl.adjustSelection(h,e.getSelection(),0,n)),w=h.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber),S=e.getSelections().map((x,k)=>({selection:x,idx:k})).sort((x,k)=>D.compareRangesUsingStarts(x.selection,k.selection));for(let{selection:x,idx:k}of S){let R=rl.adjustSelection(h,x,i,0),O=rl.adjustSelection(h,x,0,n);v!==h.getValueInRange(R)&&(R=x),y!==h.getValueInRange(O)&&(O=x);let N=x.setStartPosition(R.startLineNumber,R.startColumn).setEndPosition(O.endLineNumber,O.endColumn),W=new qu().parse(t,!0,r),G=N.getStartPosition(),Y=rl.adjustWhitespace(h,G,W,s||k>0&&w!==h.getLineFirstNonWhitespaceColumn(x.positionLineNumber),!0);W.resolveVariables(new m8([f,new b8(p,k,S.length,e.getOption(70)==="spread"),new p8(h,x,k,l),new v8(h,x),new Ql,new w8(u),new C8]));let te=h.getOffsetAt(G)+b;b+=W.toString().length-h.getValueLengthInRange(N),c[k]=ui.replace(N,W.toString()),c[k].identifier={major:k,minor:0},d[k]=new ol(e,W,te,Y)}return{edits:c,snippets:d}}dispose(){ct(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;let{edits:e,snippets:t}=rl.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=t,this._editor.executeEdits("snippet",e,i=>this._snippets[0].hasPlaceholder?this._move(!0):i.filter(n=>!!n.identifier).map(n=>de.fromPositions(n.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(e,t=CX){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);let{edits:i,snippets:n}=rl.createEditsAndSnippets(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer);this._editor.executeEdits("snippet",i,r=>{for(let s of this._snippets)s.merge(n);return console.assert(n.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):r.filter(s=>!!s.identifier).map(s=>de.fromPositions(s.range.getEndPosition()))})}next(){let e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){let e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){let t=[];for(let i of this._snippets){let n=i.move(e);t.push(...n)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;let e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;let t=new Map;for(let i of this._snippets){let n=i.computePossibleSelections();if(t.size===0)for(let[r,s]of n){s.sort(D.compareRangesUsingStarts);for(let a of e)if(s[0].containsRange(a)){t.set(r,[]);break}}if(t.size===0)return!1;t.forEach((r,s)=>{r.push(...n.get(s))})}e.sort(D.compareRangesUsingStarts);for(let[i,n]of t){if(n.length!==e.length){t.delete(i);continue}n.sort(D.compareRangesUsingStarts);for(let r=0;r<n.length;r++)if(!n[r].containsRange(e[r])){t.delete(i);continue}}return t.size>0}};ls();Ut();tt();Ei();st();Se();Tm();ne();wt();Sf();di();Wc();Dt();Ml();ot();ve();Yi();ne();Dt();ve();ai();Yi();Ei();st();ne();Sf();di();Ai();ot();ve();Tt();Dc();xe();No();zi();_t();var HS=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},Mt={Visible:new be("suggestWidgetVisible",!1,g("suggestWidgetVisible","Whether suggestion are visible")),DetailsVisible:new be("suggestWidgetDetailsVisible",!1,g("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new be("suggestWidgetMultipleSuggestions",!1,g("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new be("suggestionMakesTextEdit",!0,g("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new be("acceptSuggestionOnEnter",!0,g("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new be("suggestionHasInsertAndReplaceRange",!1,g("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new be("suggestionInsertMode",void 0,{type:"string",description:g("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new be("suggestionCanResolve",!1,g("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},mh=new De("suggestWidgetStatusBar"),yX=class{constructor(e,t,i,n){this.position=e,this.completion=t,this.container=i,this.provider=n,this.isInvalid=!1,this.score=$s.Default,this.distance=0,this.textLabel=typeof t.label=="string"?t.label:t.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),D.isIRange(t.range)?(this.editStart=new H(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new H(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new H(t.range.endLineNumber,t.range.endColumn),this.isInvalid=this.isInvalid||D.spansMultipleLines(t.range)||t.range.startLineNumber!==e.lineNumber):(this.editStart=new H(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new H(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new H(t.range.replace.endLineNumber,t.range.replace.endColumn),this.isInvalid=this.isInvalid||D.spansMultipleLines(t.range.insert)||D.spansMultipleLines(t.range.replace)||t.range.insert.startLineNumber!==e.lineNumber||t.range.replace.startLineNumber!==e.lineNumber||t.range.insert.startColumn!==t.range.replace.startColumn),typeof n.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(e){return HS(this,void 0,void 0,function*(){if(!this._resolveCache){let t=e.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then(i=>{Object.assign(this.completion,i),this._isResolved=!0,t.dispose()},i=>{es(i)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}},Xw=class{constructor(e=2,t=new Set,i=new Set,n=!0){this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=i,this.showDeprecated=n}};Xw.default=new Xw;var $S;function SX(){return $S}var EX=class{constructor(e,t,i,n){this.items=e,this.needsClipboard=t,this.durations=i,this.disposable=n}};function y8(o,e,t=Xw.default,i={triggerKind:0},n=qe.None){return HS(this,void 0,void 0,function*(){let r=new nr(!0);e=e.clone();let s=o.getWordAtPosition(e),a=s?new D(e.lineNumber,s.startColumn,e.lineNumber,s.endColumn):D.fromPositions(e),l={replace:a,insert:a.setEndPosition(e.lineNumber,e.column)},c=[],d=new Q,h=[],u=!1,f=(b,v,y)=>{var w,S,x;if(!!v){for(let k of v.suggestions)if(!t.kindFilter.has(k.kind)){if(!t.showDeprecated&&((w=k==null?void 0:k.tags)===null||w===void 0?void 0:w.includes(1)))continue;k.range||(k.range=l),k.sortText||(k.sortText=typeof k.label=="string"?k.label:k.label.label),!u&&k.insertTextRules&&k.insertTextRules&4&&(u=qu.guessNeedsClipboard(k.insertText)),c.push(new yX(e,k,v,b))}pb(v)&&d.add(v),h.push({providerName:(S=b._debugDisplayName)!==null&&S!==void 0?S:"unkown_provider",elapsedProvider:(x=v.duration)!==null&&x!==void 0?x:-1,elapsedOverall:y.elapsed()})}},p=(()=>HS(this,void 0,void 0,function*(){if(!$S||t.kindFilter.has(27)||t.providerFilter.size>0&&!t.providerFilter.has($S))return;let b=new nr(!0),v=yield $S.provideCompletionItems(o,e,i,n);f($S,v,b)}))();for(let b of ss.orderedGroups(o)){let v=c.length;if(yield Promise.all(b.map(y=>HS(this,void 0,void 0,function*(){if(!(t.providerFilter.size>0&&!t.providerFilter.has(y)))try{let w=new nr(!0),S=yield y.provideCompletionItems(o,e,i,n);f(y,S,w)}catch(w){Di(w)}}))),v!==c.length||n.isCancellationRequested)break}return yield p,n.isCancellationRequested?(d.dispose(),Promise.reject(fc())):new EX(c.sort(E8(t.snippetSortOrder)),u,{entries:h,elapsed:r.elapsed()},d)})}function S8(o,e){if(o.sortTextLow&&e.sortTextLow){if(o.sortTextLow<e.sortTextLow)return-1;if(o.sortTextLow>e.sortTextLow)return 1}return o.completion.label<e.completion.label?-1:o.completion.label>e.completion.label?1:o.completion.kind-e.completion.kind}function E_e(o,e){if(o.completion.kind!==e.completion.kind){if(o.completion.kind===27)return-1;if(e.completion.kind===27)return 1}return S8(o,e)}function x_e(o,e){if(o.completion.kind!==e.completion.kind){if(o.completion.kind===27)return 1;if(e.completion.kind===27)return-1}return S8(o,e)}var wT=new Map;wT.set(0,E_e);wT.set(2,x_e);wT.set(1,S8);function E8(o){return wT.get(o)}rt.registerCommand("_executeCompletionItemProvider",(o,...e)=>HS(void 0,void 0,void 0,function*(){let[t,i,n,r]=e;$t(Ee.isUri(t)),$t(H.isIPosition(i)),$t(typeof n=="string"||!n),$t(typeof r=="number"||!r);let s=yield o.get(Kn).createModelReference(t);try{let a={incomplete:!1,suggestions:[]},l=[],c=yield y8(s.object.textEditorModel,H.lift(i),void 0,{triggerCharacter:n,triggerKind:n?1:0});for(let d of c.items)l.length<(r??0)&&l.push(d.resolve(qe.None)),a.incomplete=a.incomplete||d.container.incomplete,a.suggestions.push(d.completion);try{return yield Promise.all(l),a}finally{setTimeout(()=>c.disposable.dispose(),100)}}finally{s.dispose()}}));var x8=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let e={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,e}};ss.register("*",x8);function xX(o,e){setTimeout(()=>{x8.onlyOnceSuggestions.push(...e),o.getContribution("editor.contrib.suggestController").triggerSuggest(new Set().add(x8))},0)}xe();_t();Td();var D_e=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},DX=function(o,e){return function(t,i){e(t,i,o)}},LX={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},So=class KS{constructor(e,t,i){this._editor=e,this._logService=t,this._snippetListener=new Q,this._modelVersionId=-1,this._inSnippet=KS.InSnippetMode.bindTo(i),this._hasNextTabstop=KS.HasNextTabstop.bindTo(i),this._hasPrevTabstop=KS.HasPrevTabstop.bindTo(i)}static get(e){return e.getContribution(KS.ID)}dispose(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(e=this._session)===null||e===void 0||e.dispose(),this._snippetListener.dispose()}insert(e,t){try{this._doInsert(e,typeof t=="undefined"?LX:Object.assign(Object.assign({},LX),t))}catch(i){this.cancel(),this._logService.error(i),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){!this._editor.hasModel()||(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(e,t):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new rl(this._editor,e,t),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(i=>i.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}let{choice:e}=this._session;if(!e){this._currentChoice=void 0;return}if(this._currentChoice!==e){this._currentChoice=e,this._editor.setSelections(this._editor.getSelections().map(i=>de.fromPositions(i.getStartPosition())));let[t]=e.options;xX(this._editor,e.options.map((i,n)=>({kind:13,label:i.value,insertText:i.value,sortText:"a".repeat(n+1),range:D.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,t.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(e=!1){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(t=this._session)===null||t===void 0||t.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};So.ID="snippetController2";So.InSnippetMode=new be("inSnippetMode",!1,g("inSnippetMode","Whether the editor in current in snippet mode"));So.HasNextTabstop=new be("hasNextTabstop",!1,g("hasNextTabstop","Whether there is a next tab stop when in snippet mode"));So.HasPrevTabstop=new be("hasPrevTabstop",!1,g("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode"));So=D_e([DX(1,cr),DX(2,Ce)],So);Qe(So.ID,So);var CT=Hi.bindToContribution(So.get);ue(new CT({id:"jumpToNextSnippetPlaceholder",precondition:pe.and(So.InSnippetMode,So.HasNextTabstop),handler:o=>o.next(),kbOpts:{weight:100+30,kbExpr:A.editorTextFocus,primary:2}}));ue(new CT({id:"jumpToPrevSnippetPlaceholder",precondition:pe.and(So.InSnippetMode,So.HasPrevTabstop),handler:o=>o.prev(),kbOpts:{weight:100+30,kbExpr:A.editorTextFocus,primary:1024|2}}));ue(new CT({id:"leaveSnippet",precondition:So.InSnippetMode,handler:o=>o.cancel(!0),kbOpts:{weight:100+30,kbExpr:A.editorTextFocus,primary:9,secondary:[1024|9]}}));ue(new CT({id:"acceptSnippet",precondition:So.InSnippetMode,handler:o=>o.finish()}));tt();ne();Is();Tt();lr();Dd();Ge();var L_e=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},kX=function(o,e){return function(t,i){e(t,i,o)}},yT=class{constructor(e){this.name=e}select(e,t,i){if(i.length===0)return 0;let n=i[0].score[0];for(let r=0;r<i.length;r++){let{score:s,completion:a}=i[r];if(s[0]!==n)break;if(a.preselect)return r}return 0}},D8=class extends yT{constructor(){super("first")}memorize(e,t,i){}toJSON(){}fromJSON(){}},IX=class extends yT{constructor(){super("recentlyUsed");this._cache=new ks(300,.66),this._seq=0}memorize(e,t,i){let n=`${e.getLanguageId()}/${i.textLabel}`;this._cache.set(n,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})}select(e,t,i){if(i.length===0)return 0;let n=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(n))return super.select(e,t,i);let r=i[0].score[0],s=-1,a=-1,l=-1;for(let c=0;c<i.length&&i[c].score[0]===r;c++){let d=`${e.getLanguageId()}/${i[c].textLabel}`,h=this._cache.peek(d);if(h&&h.touch>l&&h.type===i[c].completion.kind&&h.insertText===i[c].completion.insertText&&(l=h.touch,a=c),i[c].completion.preselect&&s===-1)return s=c}return a!==-1?a:s!==-1?s:0}toJSON(){return this._cache.toJSON()}fromJSON(e){this._cache.clear();let t=0;for(let[i,n]of e)n.touch=t,n.type=typeof n.type=="number"?n.type:xR(n.type),this._cache.set(i,n);this._seq=this._cache.size}},OX=class extends yT{constructor(){super("recentlyUsedByPrefix");this._trie=vd.forStrings(),this._seq=0}memorize(e,t,i){let{word:n}=e.getWordUntilPosition(t),r=`${e.getLanguageId()}/${n}`;this._trie.set(r,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})}select(e,t,i){let{word:n}=e.getWordUntilPosition(t);if(!n)return super.select(e,t,i);let r=`${e.getLanguageId()}/${n}`,s=this._trie.get(r);if(s||(s=this._trie.findSubstr(r)),s)for(let a=0;a<i.length;a++){let{kind:l,insertText:c}=i[a].completion;if(l===s.type&&c===s.insertText)return a}return super.select(e,t,i)}toJSON(){let e=[];return this._trie.forEach((t,i)=>e.push([i,t])),e.sort((t,i)=>-(t[1].touch-i[1].touch)).forEach((t,i)=>t[1].touch=i),e.slice(0,200)}fromJSON(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(let[t,i]of e)i.type=typeof i.type=="number"?i.type:xR(i.type),this._trie.set(t,i)}}},YS=class ST{constructor(e,t){this._storageService=e,this._configService=t,this._disposables=new Q,this._persistSoon=new bt(()=>this._saveState(),500),this._disposables.add(e.onWillSaveState(i=>{i.reason===Nw.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(e,t,i){this._withStrategy(e,t).memorize(e,t,i),this._persistSoon.schedule()}select(e,t,i){return this._withStrategy(e,t).select(e,t,i)}_withStrategy(e,t){var i;let n=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:e.getLanguageIdAtPosition(t.lineNumber,t.column),resource:e.uri});if(((i=this._strategy)===null||i===void 0?void 0:i.name)!==n){this._saveState();let r=ST._strategyCtors.get(n)||D8;this._strategy=new r;try{let a=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,l=this._storageService.get(`${ST._storagePrefix}/${n}`,a);l&&this._strategy.fromJSON(JSON.parse(l))}catch{}}return this._strategy}_saveState(){if(this._strategy){let t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,i=JSON.stringify(this._strategy);this._storageService.store(`${ST._storagePrefix}/${this._strategy.name}`,i,t,1)}}};YS._strategyCtors=new Map([["recentlyUsedByPrefix",OX],["recentlyUsed",IX],["first",D8]]);YS._storagePrefix="suggest/memories";YS=L_e([kX(0,qs),kX(1,Vt)],YS);var L8=Fe("ISuggestMemories");as(L8,YS,!0);_t();var k_e=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},I_e=function(o,e){return function(t,i){e(t,i,o)}},Qw=class TX{constructor(e,t){this._editor=e,this._enabled=!1,this._ckAtEnd=TX.AtEnd.bindTo(t),this._configListener=this._editor.onDidChangeConfiguration(i=>i.hasChanged(110)&&this._update()),this._update()}dispose(){var e;this._configListener.dispose(),(e=this._selectionListener)===null||e===void 0||e.dispose(),this._ckAtEnd.reset()}_update(){let e=this._editor.getOption(110)==="on";if(this._enabled!==e)if(this._enabled=e,this._enabled){let t=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}let i=this._editor.getModel(),n=this._editor.getSelection(),r=i.getWordAtPosition(n.getStartPosition());if(!r){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(r.endColumn===n.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(t),t()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};Qw.AtEnd=new be("atEndOfWord",!1);Qw=k_e([I_e(1,Ce)],Qw);xe();No();zi();_t();Ge();tu();Td();_t();var O_e=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},T_e=function(o,e){return function(t,i){e(t,i,o)}},zg=class ET{constructor(e,t){this._editor=e,this._index=0,this._ckOtherSuggestions=ET.OtherSuggestions.bindTo(t)}dispose(){this.reset()}reset(){var e;this._ckOtherSuggestions.reset(),(e=this._listener)===null||e===void 0||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:e,index:t},i){if(e.items.length===0){this.reset();return}if(ET._moveIndex(!0,e,t)===t){this.reset();return}this._acceptNext=i,this._model=e,this._index=t,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(e,t,i){let n=i;for(;n=(n+t.items.length+(e?1:-1))%t.items.length,!(n===i||!t.items[n].completion.additionalTextEdits););return n}next(){this._move(!0)}prev(){this._move(!1)}_move(e){if(!!this._model)try{this._ignore=!0,this._index=ET._moveIndex(e,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};zg.OtherSuggestions=new be("hasOtherSuggestions",!1);zg=O_e([T_e(1,Ce)],zg);Ut();ne();Gm();var k8=class{constructor(e,t,i){this._disposables=new Q,this._disposables.add(t.onDidShow(()=>this._onItem(t.getFocusedItem()))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType(n=>{if(this._active&&!t.isFrozen()){let r=n.charCodeAt(n.length-1);this._active.acceptCharacters.has(r)&&e.getOption(0)&&i(this._active.item)}}))}_onItem(e){if(!e||!kn(e.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===e.item)return;let t=new Id;for(let i of e.item.completion.commitCharacters)i.length>0&&t.add(i.charCodeAt(0));this._active={acceptCharacters:t,item:e}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}};tt();Ei();st();Se();ne();je();ai();Tt();xd();Ut();ve();Rh();ot();ve();var N_e=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},Kr=class{provideSelectionRanges(e,t){return N_e(this,void 0,void 0,function*(){let i=[];for(let n of t){let r=[];i.push(r);let s=new Map;yield new Promise(a=>Kr._bracketsRightYield(a,0,e,n,s)),yield new Promise(a=>Kr._bracketsLeftYield(a,0,e,n,s,r))}return i})}static _bracketsRightYield(e,t,i,n,r){let s=new Map,a=Date.now();for(;;){if(t>=Kr._maxRounds){e();break}if(!n){e();break}let l=i.bracketPairs.findNextBracket(n);if(!l){e();break}if(Date.now()-a>Kr._maxDuration){setTimeout(()=>Kr._bracketsRightYield(e,t+1,i,n,r));break}let d=l.close[0];if(l.isOpen){let h=s.has(d)?s.get(d):0;s.set(d,h+1)}else{let h=s.has(d)?s.get(d):0;if(h-=1,s.set(d,Math.max(0,h)),h<0){let u=r.get(d);u||(u=new io,r.set(d,u)),u.push(l.range)}}n=l.range.getEndPosition()}}static _bracketsLeftYield(e,t,i,n,r,s){let a=new Map,l=Date.now();for(;;){if(t>=Kr._maxRounds&&r.size===0){e();break}if(!n){e();break}let c=i.bracketPairs.findPrevBracket(n);if(!c){e();break}if(Date.now()-l>Kr._maxDuration){setTimeout(()=>Kr._bracketsLeftYield(e,t+1,i,n,r,s));break}let h=c.close[0];if(c.isOpen){let u=a.has(h)?a.get(h):0;if(u-=1,a.set(h,Math.max(0,u)),u<0){let f=r.get(h);if(f){let p=f.shift();f.size===0&&r.delete(h);let b=D.fromPositions(c.range.getEndPosition(),p.getStartPosition()),v=D.fromPositions(c.range.getStartPosition(),p.getEndPosition());s.push({range:b}),s.push({range:v}),Kr._addBracketLeading(i,v,s)}}}else{let u=a.has(h)?a.get(h):0;a.set(h,u+1)}n=c.range.getStartPosition()}}static _addBracketLeading(e,t,i){if(t.startLineNumber===t.endLineNumber)return;let n=t.startLineNumber,r=e.getLineFirstNonWhitespaceColumn(n);r!==0&&r!==t.startColumn&&(i.push({range:D.fromPositions(new H(n,r),t.getEndPosition())}),i.push({range:D.fromPositions(new H(n,1),t.getEndPosition())}));let s=n-1;if(s>0){let a=e.getLineFirstNonWhitespaceColumn(s);a===t.startColumn&&a!==e.getLineLastNonWhitespaceColumn(s)&&(i.push({range:D.fromPositions(new H(s,a),t.getEndPosition())}),i.push({range:D.fromPositions(new H(s,1),t.getEndPosition())}))}}};Kr._maxDuration=30;Kr._maxRounds=2;var P_e=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},Jl=class{static create(e,t){return P_e(this,void 0,void 0,function*(){if(!t.getOption(105).localityBonus||!t.hasModel())return Jl.None;let i=t.getModel(),n=t.getPosition();if(!e.canComputeWordRanges(i.uri))return Jl.None;let[r]=yield new Kr().provideSelectionRanges(i,[n]);if(r.length===0)return Jl.None;let s=yield e.computeWordRanges(i.uri,r[0].range);if(!s)return Jl.None;let a=i.getWordUntilPosition(n);return delete s[a.word],new class extends Jl{distance(l,c){if(!n.equals(t.getPosition()))return 0;if(c.kind===17)return 2<<20;let d=typeof c.label=="string"?c.label:c.label.label,h=s[d];if(gx(h))return 2<<20;let u=db(h,D.fromPositions(l),D.compareRangesUsingStarts),f=u>=0?h[u]:h[Math.max(0,~u-1)],p=r.length;for(let b of r){if(!D.containsRange(b.range,f))break;p-=1}return p}}})}};Jl.None=new class extends Jl{distance(){return 0}};lr();_t();Td();gp();Ut();je();var Zu=class{constructor(e,t,i,n,r,s,a){this.clipboardText=a,this._snippetCompareFn=Zu._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=n,this._options=r,this._refilterKind=1,this._lineContext=i,s==="top"?this._snippetCompareFn=Zu._compareCompletionItemsSnippetsUp:s==="bottom"&&(this._snippetCompareFn=Zu._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){(this._lineContext.leadingLineContent!==e.leadingLineContent||this._lineContext.characterCountDelta!==e.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();let e=new Set;for(let[t,i]of this._providerInfo)i&&e.add(t);return e}adopt(e){let t=[];for(let i=0;i<this._items.length;)e.has(this._items[i].provider)?i++:(t.push(this._items[i]),this._items[i]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;let e=[],{leadingLineContent:t,characterCountDelta:i}=this._lineContext,n="",r="",s=this._refilterKind===1?this._items:this._filteredItems,a=[],l=!this._options.filterGraceful||s.length>2e3?Zp:TY;for(let c=0;c<s.length;c++){let d=s[c];if(d.isInvalid)continue;this._providerInfo.set(d.provider,Boolean(d.container.incomplete));let h=d.position.column-d.editStart.column,u=h+i-(d.position.column-this._column);if(n.length!==u&&(n=u===0?"":t.slice(-u),r=n.toLowerCase()),d.word=n,u===0)d.score=$s.Default;else{let f=0;for(;f<h;){let p=n.charCodeAt(f);if(p===32||p===9)f+=1;else break}if(f>=u)d.score=$s.Default;else if(typeof d.completion.filterText=="string"){let p=l(n,r,f,d.completion.filterText,d.filterTextLow,0,!1);if(!p)continue;C0(d.completion.filterText,d.textLabel)===0?d.score=p:(d.score=LY(n,r,f,d.textLabel,d.labelLow,0),d.score[0]=p[0])}else{let p=l(n,r,f,d.textLabel,d.labelLow,0,!1);if(!p)continue;d.score=p}}d.idx=c,d.distance=this._wordDistance.distance(d.position,d.completion),a.push(d),e.push(d.textLabel.length)}this._filteredItems=a.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?fx(e.length-.85,e,(c,d)=>c-d):0}}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return 1;if(t.completion.kind===27)return-1}return Zu._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return-1;if(t.completion.kind===27)return 1}return Zu._compareCompletionItems(e,t)}};var R_e=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},Jw=function(o,e){return function(t,i){e(t,i,o)}},M_e=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},x_=class{constructor(e,t,i,n){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.auto=i,this.shy=n}static shouldAutoTrigger(e){if(!e.hasModel())return!1;let t=e.getModel(),i=e.getPosition();t.tokenizeIfCheap(i.lineNumber);let n=t.getWordAtPosition(i);return!(!n||n.endColumn!==i.column||!isNaN(Number(n.word)))}};function A_e(o,e,t){if(!Boolean(e.getContextKeyValue("inlineSuggestionVisible")))return!0;let i=t.getValue("editor.inlineSuggest.allowQuickSuggestions");return i!==void 0?Boolean(i):!1}function F_e(o,e,t){if(!Boolean(e.getContextKeyValue("inlineSuggestionVisible")))return!0;let i=t.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return i!==void 0?Boolean(i):!1}var xT=class NX{constructor(e,t,i,n,r,s,a){this._editor=e,this._editorWorkerService=t,this._clipboardService=i,this._telemetryService=n,this._logService=r,this._contextKeyService=s,this._configurationService=a,this._toDispose=new Q,this._quickSuggestDelay=10,this._triggerCharacterListener=new Q,this._triggerQuickSuggest=new Fi,this._state=0,this._completionDisposables=new Q,this._onDidCancel=new F,this._onDidTrigger=new F,this._onDidSuggest=new F,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new de(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(ss.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(c=>{this._onCursorChange(c)}));let l=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{l=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{l=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{l||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){ct(this._triggerCharacterListener),ct([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(79),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(80)||!this._editor.hasModel()||!this._editor.getOption(108))return;let e=new Map;for(let i of ss.all(this._editor.getModel()))for(let n of i.triggerCharacters||[]){let r=e.get(n);r||(r=new Set,r.add(SX()),e.set(n,r)),r.add(i)}let t=i=>{if(!F_e(this._editor,this._contextKeyService,this._configurationService)||x_.shouldAutoTrigger(this._editor))return;if(!i){let s=this._editor.getPosition();i=this._editor.getModel().getLineContent(s.lineNumber).substr(0,s.column-1)}let n="";Bh(i.charCodeAt(i.length-1))?Xi(i.charCodeAt(i.length-2))&&(n=i.substr(i.length-2)):n=i.charAt(i.length-1);let r=e.get(n);if(r){let s=this._completionModel?{items:this._completionModel.adopt(r),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:n},Boolean(this._completionModel),r,s)}};this._triggerCharacterListener.add(this._editor.onDidType(t)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(t))}get state(){return this._state}cancel(e=!1){var t;this._state!==0&&(this._triggerQuickSuggest.cancel(),(t=this._requestToken)===null||t===void 0||t.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!ss.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(e){if(!this._editor.hasModel())return;let t=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||e.reason!==0&&e.reason!==3||e.source!=="keyboard"&&e.source!=="deleteLeft"){this.cancel();return}this._state===0&&e.reason===0?(t.containsRange(this._currentSelection)||t.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&e.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){this._editor.getOption(78)!==!1&&(this._editor.getOption(105).snippetsPreventQuickSuggestions&&So.get(this._editor).isInSnippet()||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!x_.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;let e=this._editor.getModel(),t=this._editor.getPosition(),i=this._editor.getOption(78);if(i!==!1){if(i!==!0){e.tokenizeIfCheap(t.lineNumber);let n=e.getLineTokens(t.lineNumber),r=n.getStandardTokenType(n.findTokenIndexAtOffset(Math.max(t.column-1-1,0)));if(!(i.other&&r===0||i.comments&&r===1||i.strings&&r===2))return}!A_e(this._editor,this._contextKeyService,this._configurationService)||!ss.has(e)||this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;let e=this._editor.getModel(),t=this._editor.getPosition(),i=new x_(e,t,this._state===2,!1);this._onNewContext(i)})}trigger(e,t=!1,i,n){var r;if(!this._editor.hasModel())return;let s=this._editor.getModel(),a=e.auto,l=new x_(s,this._editor.getPosition(),a,e.shy);this.cancel(t),this._state=a?2:1,this._onDidTrigger.fire({auto:a,shy:e.shy,position:this._editor.getPosition()}),this._context=l;let c={triggerKind:(r=e.triggerKind)!==null&&r!==void 0?r:0};e.triggerCharacter&&(c={triggerKind:1,triggerCharacter:e.triggerCharacter}),this._requestToken=new sn;let d=this._editor.getOption(100),h=1;switch(d){case"top":h=0;break;case"bottom":h=2;break}let{itemKind:u,showDeprecated:f}=NX._createSuggestFilter(this._editor),p=Jl.create(this._editorWorkerService,this._editor),b=y8(s,this._editor.getPosition(),new Xw(h,u,i,f),c,this._requestToken.token);Promise.all([b,p]).then(([v,y])=>M_e(this,void 0,void 0,function*(){var w;if((w=this._requestToken)===null||w===void 0||w.dispose(),!this._editor.hasModel())return;let S=n==null?void 0:n.clipboardText;if(!S&&v.needsClipboard&&(S=yield this._clipboardService.readText()),this._state===0)return;let x=this._editor.getModel(),k=v.items;if(n){let O=E8(h);k=k.concat(n.items).sort(O)}let R=new x_(x,this._editor.getPosition(),a,e.shy);this._completionModel=new Zu(k,this._context.column,{leadingLineContent:R.leadingLineContent,characterCountDelta:R.column-this._context.column},y,this._editor.getOption(105),this._editor.getOption(100),S),this._completionDisposables.add(v.disposable),this._onNewContext(R),this._reportDurationsTelemetry(v.durations)})).catch(ye)}_reportDurationsTelemetry(e){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),this._logService.debug("suggest.durations.json",e)})}static _createSuggestFilter(e){let t=new Set;e.getOption(100)==="none"&&t.add(27);let n=e.getOption(105);return n.showMethods||t.add(0),n.showFunctions||t.add(1),n.showConstructors||t.add(2),n.showFields||t.add(3),n.showVariables||t.add(4),n.showClasses||t.add(5),n.showStructs||t.add(6),n.showInterfaces||t.add(7),n.showModules||t.add(8),n.showProperties||t.add(9),n.showEvents||t.add(10),n.showOperators||t.add(11),n.showUnits||t.add(12),n.showValues||t.add(13),n.showConstants||t.add(14),n.showEnums||t.add(15),n.showEnumMembers||t.add(16),n.showKeywords||t.add(17),n.showWords||t.add(18),n.showColors||t.add(19),n.showFiles||t.add(20),n.showReferences||t.add(21),n.showColors||t.add(22),n.showFolders||t.add(23),n.showTypeParameters||t.add(24),n.showSnippets||t.add(27),n.showUsers||t.add(25),n.showIssues||t.add(26),{itemKind:t,showDeprecated:n.showDeprecated}}_onNewContext(e){if(!!this._context){if(e.lineNumber!==this._context.lineNumber){this.cancel();return}if(Qt(e.leadingLineContent)!==Qt(this._context.leadingLineContent)){this.cancel();return}if(e.column<this._context.column){e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(!!this._completionModel){if(e.leadingWord.word.length!==0&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){let t=new Set(ss.all(this._editor.getModel()));for(let n of this._completionModel.allProvider)t.delete(n);let i=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,t,{items:i,clipboardText:this._completionModel.clipboardText});return}if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&e.leadingWord.word.length!==0){let{incomplete:t}=this._completionModel,i=this._completionModel.adopt(t);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,t,{items:i,clipboardText:this._completionModel.clipboardText})}else{let t=this._completionModel.lineContext,i=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},this._completionModel.items.length===0){if(x_.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=t,i=this._completionModel.items.length>0,i&&e.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:i})}}}}};xT=R_e([Jw(1,ro),Jw(2,Hs),Jw(3,$a),Jw(4,cr),Jw(5,Ce),Jw(6,Vt)],xT);ne();var eC=class{constructor(e,t){this._disposables=new Q,this._lastOvertyped=[],this._empty=!0,this._disposables.add(e.onWillType(()=>{if(!this._empty||!e.hasModel())return;let i=e.getSelections(),n=i.length,r=!1;for(let a=0;a<n;a++)if(!i[a].isEmpty()){r=!0;break}if(!r)return;this._lastOvertyped=[];let s=e.getModel();for(let a=0;a<n;a++){let l=i[a];if(s.getValueLengthInRange(l)>eC._maxSelectionLength)return;this._lastOvertyped[a]={value:s.getValueInRange(l),multiline:l.startLineNumber!==l.endLineNumber}}this._empty=!1})),this._disposables.add(t.onDidCancel(i=>{!this._empty&&!i.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(e){if(!this._empty&&e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}};eC._maxSelectionLength=51200;Me();tt();st();Se();ne();Ub();je();Me();ne();xe();No();_t();Ge();var B_e=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},I8=function(o,e){return function(t,i){e(t,i,o)}},DT=class extends u_{updateLabel(){let e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();this.label&&(this.label.textContent=g("ddd","{0} ({1})",this._action.label,DT.symbolPrintEnter(e)))}static symbolPrintEnter(e){var t;return(t=e.getLabel())===null||t===void 0?void 0:t.replace(/\benter\b/gi,"\u23CE")}},LT=class{constructor(e,t,i,n){this._menuService=i,this._contextKeyService=n,this._menuDisposables=new Q,this.element=J(e,se(".suggest-status-bar"));let r=s=>s instanceof Fl?t.createInstance(DT,s,void 0):void 0;this._leftActions=new pr(this.element,{actionViewItemProvider:r}),this._rightActions=new pr(this.element,{actionViewItemProvider:r}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){let e=this._menuService.createMenu(mh,this._contextKeyService),t=()=>{let i=[],n=[];for(let[r,s]of e.getActions())r==="left"?i.push(...s):n.push(...s);this._leftActions.clear(),this._leftActions.push(i),this._rightActions.clear(),this._rightActions.push(n)};this._menuDisposables.add(e.onDidChange(()=>t())),this._menuDisposables.add(e)}hide(){this._menuDisposables.clear()}};LT=B_e([I8(1,Ve),I8(2,da),I8(3,Ce)],LT);en();xe();yi();dt();var j_e=j("symbolIcon.arrayForeground",{dark:ke,light:ke,hc:ke},g("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),W_e=j("symbolIcon.booleanForeground",{dark:ke,light:ke,hc:ke},g("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),U_e=j("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},g("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),z_e=j("symbolIcon.colorForeground",{dark:ke,light:ke,hc:ke},g("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),V_e=j("symbolIcon.constantForeground",{dark:ke,light:ke,hc:ke},g("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),H_e=j("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},g("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$_e=j("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},g("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),K_e=j("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},g("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Y_e=j("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},g("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),q_e=j("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},g("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Z_e=j("symbolIcon.fileForeground",{dark:ke,light:ke,hc:ke},g("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),G_e=j("symbolIcon.folderForeground",{dark:ke,light:ke,hc:ke},g("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),X_e=j("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},g("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Q_e=j("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},g("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),J_e=j("symbolIcon.keyForeground",{dark:ke,light:ke,hc:ke},g("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ebe=j("symbolIcon.keywordForeground",{dark:ke,light:ke,hc:ke},g("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),tbe=j("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},g("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ibe=j("symbolIcon.moduleForeground",{dark:ke,light:ke,hc:ke},g("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),nbe=j("symbolIcon.namespaceForeground",{dark:ke,light:ke,hc:ke},g("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),obe=j("symbolIcon.nullForeground",{dark:ke,light:ke,hc:ke},g("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),rbe=j("symbolIcon.numberForeground",{dark:ke,light:ke,hc:ke},g("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),sbe=j("symbolIcon.objectForeground",{dark:ke,light:ke,hc:ke},g("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),abe=j("symbolIcon.operatorForeground",{dark:ke,light:ke,hc:ke},g("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),lbe=j("symbolIcon.packageForeground",{dark:ke,light:ke,hc:ke},g("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),cbe=j("symbolIcon.propertyForeground",{dark:ke,light:ke,hc:ke},g("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),dbe=j("symbolIcon.referenceForeground",{dark:ke,light:ke,hc:ke},g("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),hbe=j("symbolIcon.snippetForeground",{dark:ke,light:ke,hc:ke},g("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ube=j("symbolIcon.stringForeground",{dark:ke,light:ke,hc:ke},g("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fbe=j("symbolIcon.structForeground",{dark:ke,light:ke,hc:ke},g("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),gbe=j("symbolIcon.textForeground",{dark:ke,light:ke,hc:ke},g("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),mbe=j("symbolIcon.typeParameterForeground",{dark:ke,light:ke,hc:ke},g("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),pbe=j("symbolIcon.unitForeground",{dark:ke,light:ke,hc:ke},g("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_be=j("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},g("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));gt((o,e)=>{let t=o.getColor(j_e);t&&e.addRule(`${z.symbolArray.cssSelector} { color: ${t}; }`);let i=o.getColor(W_e);i&&e.addRule(`${z.symbolBoolean.cssSelector} { color: ${i}; }`);let n=o.getColor(U_e);n&&e.addRule(`${z.symbolClass.cssSelector} { color: ${n}; }`);let r=o.getColor(tbe);r&&e.addRule(`${z.symbolMethod.cssSelector} { color: ${r}; }`);let s=o.getColor(z_e);s&&e.addRule(`${z.symbolColor.cssSelector} { color: ${s}; }`);let a=o.getColor(V_e);a&&e.addRule(`${z.symbolConstant.cssSelector} { color: ${a}; }`);let l=o.getColor(H_e);l&&e.addRule(`${z.symbolConstructor.cssSelector} { color: ${l}; }`);let c=o.getColor($_e);c&&e.addRule(`
			${z.symbolValue.cssSelector},${z.symbolEnum.cssSelector} { color: ${c}; }`);let d=o.getColor(K_e);d&&e.addRule(`${z.symbolEnumMember.cssSelector} { color: ${d}; }`);let h=o.getColor(Y_e);h&&e.addRule(`${z.symbolEvent.cssSelector} { color: ${h}; }`);let u=o.getColor(q_e);u&&e.addRule(`${z.symbolField.cssSelector} { color: ${u}; }`);let f=o.getColor(Z_e);f&&e.addRule(`${z.symbolFile.cssSelector} { color: ${f}; }`);let p=o.getColor(G_e);p&&e.addRule(`${z.symbolFolder.cssSelector} { color: ${p}; }`);let b=o.getColor(X_e);b&&e.addRule(`${z.symbolFunction.cssSelector} { color: ${b}; }`);let v=o.getColor(Q_e);v&&e.addRule(`${z.symbolInterface.cssSelector} { color: ${v}; }`);let y=o.getColor(J_e);y&&e.addRule(`${z.symbolKey.cssSelector} { color: ${y}; }`);let w=o.getColor(ebe);w&&e.addRule(`${z.symbolKeyword.cssSelector} { color: ${w}; }`);let S=o.getColor(ibe);S&&e.addRule(`${z.symbolModule.cssSelector} { color: ${S}; }`);let x=o.getColor(nbe);x&&e.addRule(`${z.symbolNamespace.cssSelector} { color: ${x}; }`);let k=o.getColor(obe);k&&e.addRule(`${z.symbolNull.cssSelector} { color: ${k}; }`);let R=o.getColor(rbe);R&&e.addRule(`${z.symbolNumber.cssSelector} { color: ${R}; }`);let O=o.getColor(sbe);O&&e.addRule(`${z.symbolObject.cssSelector} { color: ${O}; }`);let N=o.getColor(abe);N&&e.addRule(`${z.symbolOperator.cssSelector} { color: ${N}; }`);let W=o.getColor(lbe);W&&e.addRule(`${z.symbolPackage.cssSelector} { color: ${W}; }`);let G=o.getColor(cbe);G&&e.addRule(`${z.symbolProperty.cssSelector} { color: ${G}; }`);let Y=o.getColor(dbe);Y&&e.addRule(`${z.symbolReference.cssSelector} { color: ${Y}; }`);let te=o.getColor(hbe);te&&e.addRule(`${z.symbolSnippet.cssSelector} { color: ${te}; }`);let re=o.getColor(ube);re&&e.addRule(`${z.symbolString.cssSelector} { color: ${re}; }`);let Pe=o.getColor(fbe);Pe&&e.addRule(`${z.symbolStruct.cssSelector} { color: ${Pe}; }`);let Ne=o.getColor(gbe);Ne&&e.addRule(`${z.symbolText.cssSelector} { color: ${Ne}; }`);let Ae=o.getColor(mbe);Ae&&e.addRule(`${z.symbolTypeParameter.cssSelector} { color: ${Ae}; }`);let He=o.getColor(pbe);He&&e.addRule(`${z.symbolUnit.cssSelector} { color: ${He}; }`);let We=o.getColor(_be);We&&e.addRule(`${z.symbolVariable.cssSelector} { color: ${We}; }`)});xe();_t();Ge();yi();dt();Me();Se();ne();var qS=class{constructor(){this._onDidWillResize=new F,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new F,this.onDidResize=this._onDidResize.event,this._sashListener=new Q,this._size=new hi(0,0),this._minSize=new hi(0,0),this._maxSize=new hi(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new Vn(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new Vn(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new Vn(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:Ey.North}),this._southSash=new Vn(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:Ey.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let e,t=0,i=0;this._sashListener.add(we.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{e===void 0&&(this._onDidWillResize.fire(),e=this._size,t=0,i=0)})),this._sashListener.add(we.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{e!==void 0&&(e=void 0,t=0,i=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(n=>{e&&(i=n.currentX-n.startX,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(n=>{e&&(i=-(n.currentX-n.startX),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(n=>{e&&(t=-(n.currentY-n.startY),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(n=>{e&&(t=n.currentY-n.startY,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(we.any(this._eastSash.onDidReset,this._westSash.onDidReset)(n=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(we.any(this._northSash.onDidReset,this._southSash.onDidReset)(n=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,i,n){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=i?3:0,this._westSash.state=n?3:0}layout(e=this.size.height,t=this.size.width){let{height:i,width:n}=this._minSize,{height:r,width:s}=this._maxSize;e=Math.max(i,Math.min(r,e)),t=Math.max(n,Math.min(s,t));let a=new hi(t,e);hi.equals(a,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=a,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}};Lo();Me();en();Se();ne();An();xe();Ge();var bbe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},vbe=function(o,e){return function(t,i){e(t,i,o)}};function ZS(o){return!!o&&Boolean(o.completion.documentation||o.completion.detail&&o.completion.detail!==o.completion.label)}var kT=class{constructor(e,t){this._editor=e,this._onDidClose=new F,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new F,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new Q,this._renderDisposeable=new Q,this._borderWidth=1,this._size=new hi(330,0),this.domNode=se(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=t.createInstance(Gs,{editor:e}),this._body=se(".body"),this._scrollbar=new jc(this._body,{}),J(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=J(this._body,se(".header")),this._close=J(this._header,se("span"+z.close.cssSelector)),this._close.title=g("details.close","Close"),this._type=J(this._header,se("p.type")),this._docs=J(this._body,se("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(43)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){let e=this._editor.getOptions(),t=e.get(43),i=t.getMassagedFontFamily(or?In.fontFamily:null),n=e.get(106)||t.fontSize,r=e.get(107)||t.lineHeight,s=t.fontWeight,a=`${n}px`,l=`${r}px`;this.domNode.style.fontSize=a,this.domNode.style.lineHeight=`${r/n}`,this.domNode.style.fontWeight=s,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=i,this._close.style.height=l,this._close.style.width=l}getLayoutInfo(){let e=this._editor.getOption(107)||this._editor.getOption(43).lineHeight,t=this._borderWidth,i=t*2;return{lineHeight:e,borderWidth:t,borderHeight:i,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=g("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(e,t){var i,n;this._renderDisposeable.clear();let{detail:r,documentation:s}=e.completion;if(t){let a="";a+=`score: ${e.score[0]}
`,a+=`prefix: ${(i=e.word)!==null&&i!==void 0?i:"(no prefix)"}
`,a+=`word: ${e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel}
`,a+=`distance: ${e.distance} (localityBonus-setting)
`,a+=`index: ${e.idx}, based on ${e.completion.sortText&&`sortText: "${e.completion.sortText}"`||"label"}
`,a+=`commit_chars: ${(n=e.completion.commitCharacters)===null||n===void 0?void 0:n.join("")}
`,s=new ps().appendCodeblock("empty",a),r=`Provider: ${e.provider._debugDisplayName}`}if(!t&&!ZS(e)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),r){let a=r.length>1e5?`${r.substr(0,1e5)}\u2026`:r;this._type.textContent=a,this._type.title=a,ko(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(a))}else Zi(this._type),this._type.title="",vo(this._type),this.domNode.classList.add("no-type");if(Zi(this._docs),typeof s=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=s;else if(s){this._docs.classList.add("markdown-docs"),Zi(this._docs);let a=this._markdownRenderer.render(s);this._docs.appendChild(a.element),this._renderDisposeable.add(a),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=a=>{a.preventDefault(),a.stopPropagation()},this._close.onclick=a=>{a.preventDefault(),a.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(e,t){let i=new hi(e,t);hi.equals(i,this._size)||(this._size=i,l6(this.domNode,e,t)),this._scrollbar.scanDomNode()}scrollDown(e=8){this._body.scrollTop+=e}scrollUp(e=8){this._body.scrollTop-=e}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(e){this._borderWidth=e}get borderWidth(){return this._borderWidth}};kT=bbe([vbe(1,Ve)],kT);var O8=class{constructor(e,t){this.widget=e,this._editor=t,this._disposables=new Q,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new qS,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(e.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let i,n,r=0,s=0;this._disposables.add(this._resizable.onDidWillResize(()=>{i=this._topLeft,n=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(a=>{if(i&&n){this.widget.layout(a.dimension.width,a.dimension.height);let l=!1;a.west&&(s=n.width-a.dimension.width,l=!0),a.north&&(r=n.height-a.dimension.height,l=!0),l&&this._applyTopLeft({top:i.top+r,left:i.left+s})}a.done&&(i=void 0,n=void 0,r=0,s=0,this._userSize=a.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var a;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(a=this._userSize)!==null&&a!==void 0?a:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(e=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(e,t){var i;let n=e.getBoundingClientRect();this._anchorBox=n,this._preferAlignAtTop=t,this._placeAtAnchor(this._anchorBox,(i=this._userSize)!==null&&i!==void 0?i:this.widget.size,t)}_placeAtAnchor(e,t,i){var n;let r=Nf(document.body),s=this.widget.getLayoutInfo(),a=new hi(220,2*s.lineHeight),l=e.top,c=function(){let S=r.width-(e.left+e.width+s.borderWidth+s.horizontalPadding),x=-s.borderWidth+e.left+e.width,k=new hi(S,r.height-e.top-s.borderHeight-s.verticalPadding),R=k.with(void 0,e.top+e.height-s.borderHeight-s.verticalPadding);return{top:l,left:x,fit:S-t.width,maxSizeTop:k,maxSizeBottom:R,minSize:a.with(Math.min(S,a.width))}}(),d=function(){let S=e.left-s.borderWidth-s.horizontalPadding,x=Math.max(s.horizontalPadding,e.left-t.width-s.borderWidth),k=new hi(S,r.height-e.top-s.borderHeight-s.verticalPadding),R=k.with(void 0,e.top+e.height-s.borderHeight-s.verticalPadding);return{top:l,left:x,fit:S-t.width,maxSizeTop:k,maxSizeBottom:R,minSize:a.with(Math.min(S,a.width))}}(),h=function(){let S=e.left,x=-s.borderWidth+e.top+e.height,k=new hi(e.width-s.borderHeight,r.height-e.top-e.height-s.verticalPadding);return{top:x,left:S,fit:k.height-t.height,maxSizeBottom:k,maxSizeTop:k,minSize:a.with(k.width)}}(),u=[c,d,h],f=(n=u.find(S=>S.fit>=0))!==null&&n!==void 0?n:u.sort((S,x)=>x.fit-S.fit)[0],p=e.top+e.height-s.borderHeight,b,v=t.height,y=Math.max(f.maxSizeTop.height,f.maxSizeBottom.height);v>y&&(v=y);let w;i?v<=f.maxSizeTop.height?(b=!0,w=f.maxSizeTop):(b=!1,w=f.maxSizeBottom):v<=f.maxSizeBottom.height?(b=!1,w=f.maxSizeBottom):(b=!0,w=f.maxSizeTop),this._applyTopLeft({left:f.left,top:b?f.top:p-v}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!b,f===c,b,f!==c),this._resizable.minSize=f.minSize,this._resizable.maxSize=w,this._resizable.layout(v,Math.min(w.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(e){this._topLeft=e,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}};Lo();Me();Ut();en();Se();ne();Ai();An();Tt();ns();Er();fw();var Gc;(function(o){o[o.FILE=0]="FILE",o[o.FOLDER=1]="FOLDER",o[o.ROOT_FOLDER=2]="ROOT_FOLDER"})(Gc||(Gc={}));function GS(o,e,t,i){let n=i===Gc.ROOT_FOLDER?["rootfolder-icon"]:i===Gc.FOLDER?["folder-icon"]:["file-icon"];if(t){let r;if(t.scheme===nt.data?r=wd.parseMetaData(t).get(wd.META_DATA_LABEL):r=PX(UD(t).toLowerCase()),i===Gc.FOLDER)n.push(`${r}-name-folder-icon`);else{if(r){if(n.push(`${r}-name-file-icon`),r.length<=255){let a=r.split(".");for(let l=1;l<a.length;l++)n.push(`${a.slice(l).join(".")}-ext-file-icon`)}n.push("ext-file-icon")}let s=wbe(o,e,t);s&&n.push(`${PX(s)}-lang-file-icon`)}}return n}function wbe(o,e,t){if(!t)return null;let i=null;if(t.scheme===nt.data){let r=wd.parseMetaData(t).get(wd.META_DATA_MIME);r&&(i=e.getModeId(r))}else{let n=o.getModel(t);n&&(i=n.getLanguageId())}return i&&i!==Gd?i:e.getModeIdByFilepathOrFirstLine(t)}function PX(o){return o.replace(/[\11\12\14\15\40]/g,"/")}xr();ar();xe();dt();var Cbe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},T8=function(o,e){return function(t,i){e(t,i,o)}},XS;function N8(o){return`suggest-aria-id:${o}`}var ybe=cn("suggest-more-info",z.chevronRight,g("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),Sbe=new(XS=class IT{extract(e,t){if(e.textLabel.match(IT._regexStrict))return t[0]=e.textLabel,!0;if(e.completion.detail&&e.completion.detail.match(IT._regexStrict))return t[0]=e.completion.detail,!0;if(typeof e.completion.documentation=="string"){let i=IT._regexRelaxed.exec(e.completion.documentation);if(i&&(i.index===0||i.index+i[0].length===e.completion.documentation.length))return t[0]=i[0],!0}return!1}},XS._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,XS._regexStrict=new RegExp(`^${XS._regexRelaxed.source}$`,"i"),XS),OT=class{constructor(e,t,i,n){this._editor=e,this._modelService=t,this._modeService=i,this._themeService=n,this._onDidToggleDetails=new F,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(e){let t=Object.create(null);t.disposables=new Q,t.root=e,t.root.classList.add("show-file-icons"),t.icon=J(e,se(".icon")),t.colorspan=J(t.icon,se("span.colorspan"));let i=J(e,se(".contents")),n=J(i,se(".main"));t.iconContainer=J(n,se(".icon-label.codicon")),t.left=J(n,se("span.left")),t.right=J(n,se("span.right")),t.iconLabel=new Ag(t.left,{supportHighlights:!0,supportIcons:!0}),t.disposables.add(t.iconLabel),t.parametersLabel=J(t.left,se("span.signature-label")),t.qualifierLabel=J(t.left,se("span.qualifier-label")),t.detailsLabel=J(t.right,se("span.details-label")),t.readMore=J(t.right,se("span.readMore"+qt.asCSSSelector(ybe))),t.readMore.title=g("readMore","Read More");let r=()=>{let s=this._editor.getOptions(),a=s.get(43),l=a.getMassagedFontFamily(or?In.fontFamily:null),c=a.fontFeatureSettings,d=s.get(106)||a.fontSize,h=s.get(107)||a.lineHeight,u=a.fontWeight,f=`${d}px`,p=`${h}px`;t.root.style.fontSize=f,t.root.style.fontWeight=u,n.style.fontFamily=l,n.style.fontFeatureSettings=c,n.style.lineHeight=p,t.icon.style.height=p,t.icon.style.width=p,t.readMore.style.height=p,t.readMore.style.width=p};return r(),t.disposables.add(this._editor.onDidChangeConfiguration(s=>{(s.hasChanged(43)||s.hasChanged(106)||s.hasChanged(107))&&r()})),t}renderElement(e,t,i){let{completion:n}=e;i.root.id=N8(t),i.colorspan.style.backgroundColor="";let r={labelEscapeNewLines:!0,matches:Ny(e.score)},s=[];if(n.kind===19&&Sbe.extract(e,s))i.icon.className="icon customcolor",i.iconContainer.className="icon hide",i.colorspan.style.backgroundColor=s[0];else if(n.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){i.icon.className="icon hide",i.iconContainer.className="icon hide";let a=GS(this._modelService,this._modeService,Ee.from({scheme:"fake",path:e.textLabel}),Gc.FILE),l=GS(this._modelService,this._modeService,Ee.from({scheme:"fake",path:n.detail}),Gc.FILE);r.extraClasses=a.length>l.length?a:l}else n.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(i.icon.className="icon hide",i.iconContainer.className="icon hide",r.extraClasses=mx([GS(this._modelService,this._modeService,Ee.from({scheme:"fake",path:e.textLabel}),Gc.FOLDER),GS(this._modelService,this._modeService,Ee.from({scheme:"fake",path:n.detail}),Gc.FOLDER)])):(i.icon.className="icon hide",i.iconContainer.className="",i.iconContainer.classList.add("suggest-icon",...bW(n.kind).split(" ")));n.tags&&n.tags.indexOf(1)>=0&&(r.extraClasses=(r.extraClasses||[]).concat(["deprecated"]),r.matches=[]),i.iconLabel.setLabel(e.textLabel,void 0,r),typeof n.label=="string"?(i.parametersLabel.textContent="",i.detailsLabel.textContent=P8(n.detail||""),i.root.classList.add("string-label")):(i.parametersLabel.textContent=P8(n.label.detail||""),i.detailsLabel.textContent=P8(n.label.description||""),i.root.classList.remove("string-label")),this._editor.getOption(105).showInlineDetails?ko(i.detailsLabel):vo(i.detailsLabel),ZS(e)?(i.right.classList.add("can-expand-details"),ko(i.readMore),i.readMore.onmousedown=a=>{a.stopPropagation(),a.preventDefault()},i.readMore.onclick=a=>{a.stopPropagation(),a.preventDefault(),this._onDidToggleDetails.fire()}):(i.right.classList.remove("can-expand-details"),vo(i.readMore),i.readMore.onmousedown=null,i.readMore.onclick=null)}disposeTemplate(e){e.disposables.dispose()}};OT=Cbe([T8(1,Ci),T8(2,Pi),T8(3,Rt)],OT);function P8(o){return o.replace(/\r\n|\r|\n/g,"")}var Ebe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},TT=function(o,e){return function(t,i){e(t,i,o)}},xbe=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},D0t=j("editorSuggestWidget.background",{dark:$o,light:$o,hc:$o},g("editorSuggestWidgetBackground","Background color of the suggest widget.")),L0t=j("editorSuggestWidget.border",{dark:su,light:su,hc:su},g("editorSuggestWidgetBorder","Border color of the suggest widget.")),R8=j("editorSuggestWidget.foreground",{dark:zl,light:zl,hc:zl},g("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),k0t=j("editorSuggestWidget.selectedForeground",{dark:Ev,light:Ev,hc:Ev},g("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),I0t=j("editorSuggestWidget.selectedIconForeground",{dark:xv,light:xv,hc:xv},g("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),Dbe=j("editorSuggestWidget.selectedBackground",{dark:Dv,light:Dv,hc:Dv},g("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),O0t=j("editorSuggestWidget.highlightForeground",{dark:Nc,light:Nc,hc:Nc},g("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),T0t=j("editorSuggestWidget.focusHighlightForeground",{dark:sk,light:sk,hc:sk},g("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),N0t=j("editorSuggestWidgetStatus.foreground",{dark:Je(R8,.5),light:Je(R8,.5),hc:Je(R8,.5)},g("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status.")),RX=class{constructor(e,t){this._service=e,this._key=`suggestWidget.size/${t.getEditorType()}/${t instanceof Hc}`}restore(){var e;let t=(e=this._service.get(this._key,0))!==null&&e!==void 0?e:"";try{let i=JSON.parse(t);if(hi.is(i))return hi.lift(i)}catch{}}store(e){this._service.store(this._key,JSON.stringify(e),0,1)}reset(){this._service.remove(this._key,0)}},tC=class M8{constructor(e,t,i,n,r){this.editor=e,this._storageService=t,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new Fi,this._disposables=new Q,this._onDidSelect=new F,this._onDidFocus=new F,this._onDidHide=new F,this._onDidShow=new F,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new F,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new qS,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new MX(this,e),this._persistedSize=new RX(t,e);class s{constructor(f,p,b=!1,v=!1){this.persistedSize=f,this.currentSize=p,this.persistHeight=b,this.persistWidth=v}}let a;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),a=new s(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(u=>{var f,p,b,v;if(this._resize(u.dimension.width,u.dimension.height),a&&(a.persistHeight=a.persistHeight||!!u.north||!!u.south,a.persistWidth=a.persistWidth||!!u.east||!!u.west),!!u.done){if(a){let{itemHeight:y,defaultSize:w}=this.getLayoutInfo(),S=Math.round(y/2),{width:x,height:k}=this.element.size;(!a.persistHeight||Math.abs(a.currentSize.height-k)<=S)&&(k=(p=(f=a.persistedSize)===null||f===void 0?void 0:f.height)!==null&&p!==void 0?p:w.height),(!a.persistWidth||Math.abs(a.currentSize.width-x)<=S)&&(x=(v=(b=a.persistedSize)===null||b===void 0?void 0:b.width)!==null&&v!==void 0?v:w.width),this._persistedSize.store(new hi(x,k))}this._contentWidget.unlockPreference(),a=void 0}})),this._messageElement=J(this.element.domNode,se(".message")),this._listElement=J(this.element.domNode,se(".tree"));let l=r.createInstance(kT,this.editor);l.onDidClose(this.toggleDetails,this,this._disposables),this._details=new O8(l,this.editor);let c=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(105).showIcons);c();let d=r.createInstance(OT,this.editor);this._disposables.add(d),this._disposables.add(d.onDidToggleDetails(()=>this.toggleDetails())),this._list=new ms("SuggestWidget",this._listElement,{getHeight:u=>this.getLayoutInfo().itemHeight,getTemplateId:u=>"suggestion"},[d],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:u=>{if(u.isResolved&&this._isDetailsVisible()){let{documentation:f,detail:p}=u.completion,b=vc("{0}{1}",p||"",f?typeof f=="string"?f:f.value:"");return g("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",u.textLabel,b)}else return u.textLabel},getWidgetAriaLabel:()=>g("suggest","Suggest"),getWidgetRole:()=>"listbox"}}),this._status=r.createInstance(LT,this.element.domNode);let h=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(105).showStatusBar);h(),this._disposables.add(Nu(this._list,n,{listInactiveFocusBackground:Dbe,listInactiveFocusOutline:qn})),this._disposables.add(n.onDidColorThemeChange(u=>this._onThemeChange(u))),this._onThemeChange(n.getColorTheme()),this._disposables.add(this._list.onMouseDown(u=>this._onListMouseDownOrTap(u))),this._disposables.add(this._list.onTap(u=>this._onListMouseDownOrTap(u))),this._disposables.add(this._list.onDidChangeSelection(u=>this._onListSelection(u))),this._disposables.add(this._list.onDidChangeFocus(u=>this._onListFocus(u))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(u=>{u.hasChanged(105)&&(h(),c())})),this._ctxSuggestWidgetVisible=Mt.Visible.bindTo(i),this._ctxSuggestWidgetDetailsVisible=Mt.DetailsVisible.bindTo(i),this._ctxSuggestWidgetMultipleSuggestions=Mt.MultipleSuggestions.bindTo(i),this._disposables.add(Ni(this._details.widget.domNode,"keydown",u=>{this._onDetailsKeydown.fire(u)})),this._disposables.add(this.editor.onMouseDown(u=>this._onEditorMouseDown(u)))}dispose(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(e){typeof e.element=="undefined"||typeof e.index=="undefined"||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}_onListSelection(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}_select(e,t){let i=this._completionModel;i&&(this._onDidSelect.fire({item:e,index:t,model:i}),this.editor.focus())}_onThemeChange(e){this._details.widget.borderWidth=e.type==="hc"?2:1}_onListFocus(e){var t;if(this._ignoreFocusEvents)return;if(!e.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this._completionModel)return;let i=e.elements[0],n=e.indexes[0];i!==this._focusedItem&&((t=this._currentSuggestionDetails)===null||t===void 0||t.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=i,this._list.reveal(n),this._currentSuggestionDetails=wi(r=>xbe(this,void 0,void 0,function*(){let s=xl(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);r.onCancellationRequested(()=>s.dispose());let a=yield i.resolve(r);return s.dispose(),a})),this._currentSuggestionDetails.then(()=>{n>=this._list.length||i!==this._list.element(n)||(this._ignoreFocusEvents=!0,this._list.splice(n,1,[i]),this._list.setFocus([n]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:N8(n)}))}).catch(ye)),this._onDidFocus.fire({item:i,index:n,model:this._completionModel})}_setState(e){if(this._state!==e)switch(this._state=e,this.element.domNode.classList.toggle("frozen",e===4),this.element.domNode.classList.remove("message"),e){case 0:vo(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=M8.LOADING_MESSAGE,vo(this._listElement,this._status.element),ko(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=M8.NO_SUGGESTIONS_MESSAGE,vo(this._listElement,this._status.element),ko(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:vo(this._messageElement),ko(this._listElement,this._status.element),this._show();break;case 4:vo(this._messageElement),ko(this._listElement,this._status.element),this._show();break;case 5:vo(this._messageElement),ko(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(e,t){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=xl(()=>this._setState(1),t)))}showSuggestions(e,t,i,n){var r,s;if(this._contentWidget.setPosition(this.editor.getPosition()),(r=this._loadingTimeout)===null||r===void 0||r.dispose(),(s=this._currentSuggestionDetails)===null||s===void 0||s.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),i&&this._state!==2&&this._state!==0){this._setState(4);return}let a=this._completionModel.items.length,l=a===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(a>1),l){this._setState(n?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(i?4:3),this._list.reveal(t,0),this._list.setFocus([t]),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(ZS(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(e){this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var e;(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();let t=this._persistedSize.restore(),i=Math.ceil(this.getLayoutInfo().itemHeight*4.3);t&&t.height<i&&this._persistedSize.store(t.with(void 0,i))}isFrozen(){return this._state===4}_afterRender(e){if(e===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(e){var t,i,n;if(!this.editor.hasModel()||!this.editor.getDomNode())return;let r=Nf(document.body),s=this.getLayoutInfo();e||(e=s.defaultSize);let a=e.height,l=e.width;if(this._status.element.style.lineHeight=`${s.itemHeight}px`,this._state===2||this._state===1)a=s.itemHeight+s.borderHeight,l=s.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new hi(l,a),this._contentWidget.setPreference(2);else{let c=r.width-s.borderHeight-2*s.horizontalPadding;l>c&&(l=c);let d=this._completionModel?this._completionModel.stats.pLabelLen*s.typicalHalfwidthCharacterWidth:l,h=s.statusBarHeight+this._list.contentHeight+s.borderHeight,u=s.itemHeight+s.statusBarHeight,f=Gi(this.editor.getDomNode()),p=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),b=f.top+p.top+p.height,v=Math.min(r.height-b-s.verticalPadding,h),y=f.top+p.top-s.verticalPadding,w=Math.min(y,h),S=Math.min(Math.max(w,v)+s.borderHeight,h);a===((t=this._cappedHeight)===null||t===void 0?void 0:t.capped)&&(a=this._cappedHeight.wanted),a<u&&(a=u),a>S&&(a=S);let x=150;a>v||this._forceRenderingAbove&&y>x?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),S=w):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),S=v),this.element.preferredSize=new hi(d,s.defaultSize.height),this.element.maxSize=new hi(c,S),this.element.minSize=new hi(220,u),this._cappedHeight=a===h?{wanted:(n=(i=this._cappedHeight)===null||i===void 0?void 0:i.wanted)!==null&&n!==void 0?n:e.height,capped:a}:void 0}this._resize(l,a)}_resize(e,t){let{width:i,height:n}=this.element.maxSize;e=Math.min(i,e),t=Math.min(n,t);let{statusBarHeight:r}=this.getLayoutInfo();this._list.layout(t-r,e),this._listElement.style.height=`${t-r}px`,this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var e;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((e=this._contentWidget.getPosition())===null||e===void 0?void 0:e.preference[0])===2)}getLayoutInfo(){let e=this.editor.getOption(43),t=os(this.editor.getOption(107)||e.lineHeight,8,1e3),i=!this.editor.getOption(105).showStatusBar||this._state===2||this._state===1?0:t,n=this._details.widget.borderWidth,r=2*n;return{itemHeight:t,statusBarHeight:i,borderWidth:n,borderHeight:r,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new hi(430,i+12*t+r)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(e){this._storageService.store("expandSuggestionDocs",e,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};tC.LOADING_MESSAGE=g("suggestWidget.loading","Loading...");tC.NO_SUGGESTIONS_MESSAGE=g("suggestWidget.noSuggestions","No suggestions.");tC=Ebe([TT(1,qs),TT(2,Ce),TT(3,Rt),TT(4,Ve)],tC);var MX=class{constructor(e,t){this._widget=e,this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){let{height:e,width:t}=this._widget.element.size,{borderWidth:i,horizontalPadding:n}=this._widget.getLayoutInfo();return new hi(t+2*i+n,e+2*i)}afterRender(e){this._widget._afterRender(e)}setPreference(e){this._preferenceLocked||(this._preference=e)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(e){this._position=e}};gp();Er();Wb();var Lbe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},iC=function(o,e){return function(t,i){e(t,i,o)}},kbe=!1,AX=class{constructor(e,t){if(this._model=e,this._position=t,e.getLineMaxColumn(t.lineNumber)!==t.column){let n=e.getOffsetAt(t),r=e.getPositionAt(n+1);this._marker=e.deltaDecorations([],[{range:D.fromPositions(t,r),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){let t=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}else return this._model.getLineMaxColumn(e.lineNumber)-e.column}},sl=class FX{constructor(e,t,i,n,r,s,a){this._memoryService=t,this._commandService=i,this._contextKeyService=n,this._instantiationService=r,this._logService=s,this._telemetryService=a,this._lineSuffix=new _n,this._toDispose=new Q,this._selectors=new BX(h=>h.priority),this._telemetryGate=0,this.editor=e,this.model=r.createInstance(xT,this.editor);let l=Mt.InsertMode.bindTo(n);l.set(e.getOption(105).insertMode),this.model.onDidTrigger(()=>l.set(e.getOption(105).insertMode)),this.widget=this._toDispose.add(new pc(()=>{let h=this._instantiationService.createInstance(tC,this.editor);this._toDispose.add(h),this._toDispose.add(h.onDidSelect(v=>this._insertSuggestion(v,0),this));let u=new k8(this.editor,h,v=>this._insertSuggestion(v,2));this._toDispose.add(u),this._toDispose.add(this.model.onDidSuggest(v=>{v.completionModel.items.length===0&&u.reset()}));let f=Mt.MakesTextEdit.bindTo(this._contextKeyService),p=Mt.HasInsertAndReplaceRange.bindTo(this._contextKeyService),b=Mt.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(ze(()=>{f.reset(),p.reset(),b.reset()})),this._toDispose.add(h.onDidFocus(({item:v})=>{let y=this.editor.getPosition(),w=v.editStart.column,S=y.column,x=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!v.completion.additionalTextEdits&&!(v.completion.insertTextRules&4)&&S-w===v.completion.insertText.length&&(x=this.editor.getModel().getValueInRange({startLineNumber:y.lineNumber,startColumn:w,endLineNumber:y.lineNumber,endColumn:S})!==v.completion.insertText),f.set(x),p.set(!H.equals(v.editInsertEnd,v.editReplaceEnd)),b.set(Boolean(v.provider.resolveCompletionItem)||Boolean(v.completion.documentation)||v.completion.detail!==v.completion.label)})),this._toDispose.add(h.onDetailsKeyDown(v=>{if(v.toKeybinding().equals(new Sl(!0,!1,!1,!1,33))||Xe&&v.toKeybinding().equals(new Sl(!1,!1,!1,!0,33))){v.stopPropagation();return}v.toKeybinding().isModifierKey()||this.editor.focus()})),h})),this._overtypingCapturer=this._toDispose.add(new pc(()=>this._toDispose.add(new eC(this.editor,this.model)))),this._alternatives=this._toDispose.add(new pc(()=>this._toDispose.add(new zg(this.editor,this._contextKeyService)))),this._toDispose.add(r.createInstance(Qw,e)),this._toDispose.add(this.model.onDidTrigger(h=>{this.widget.value.showTriggered(h.auto,h.shy?250:50),this._lineSuffix.value=new AX(this.editor.getModel(),h.position)})),this._toDispose.add(this.model.onDidSuggest(h=>{if(!h.shy){let u=-1;for(let f of this._selectors.itemsOrderedByPriorityDesc)if(u=f.select(this.editor.getModel(),this.editor.getPosition(),h.completionModel.items),u!==-1)break;u===-1&&(u=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),h.completionModel.items)),this.widget.value.showSuggestions(h.completionModel,u,h.isFrozen,h.auto)}})),this._toDispose.add(this.model.onDidCancel(h=>{h.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{kbe||(this.model.cancel(),this.model.clear())}));let c=Mt.AcceptSuggestionsOnEnter.bindTo(n),d=()=>{let h=this.editor.getOption(1);c.set(h==="on"||h==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>d())),d()}static get(e){return e.getContribution(FX.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(e,t){if(!e||!e.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;let i=this.editor.getModel(),n=i.getAlternativeVersionId(),{item:r}=e,s=[],a=new sn;t&1||this.editor.pushUndoStop();let l=this.getOverwriteInfo(r,Boolean(t&8));if(this._memoryService.memorize(i,this.editor.getPosition(),r),Array.isArray(r.completion.additionalTextEdits)){let d=Xa.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",r.completion.additionalTextEdits.map(h=>ui.replace(D.lift(h.range),h.text))),d.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!r.isResolved){let d=new nr(!0),h,u=i.onDidChangeContent(v=>{if(v.isFlush){a.cancel(),u.dispose();return}for(let y of v.changes){let w=D.getEndPosition(y.range);(!h||H.isBefore(w,h))&&(h=w)}}),f=t;t|=2;let p=!1,b=this.editor.onWillType(()=>{b.dispose(),p=!0,f&2||this.editor.pushUndoStop()});s.push(r.resolve(a.token).then(()=>{if(!r.completion.additionalTextEdits||a.token.isCancellationRequested||h&&r.completion.additionalTextEdits.some(y=>H.isBefore(h,D.getStartPosition(y.range))))return!1;p&&this.editor.pushUndoStop();let v=Xa.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",r.completion.additionalTextEdits.map(y=>ui.replace(D.lift(y.range),y.text))),v.restoreRelativeVerticalPositionOfCursor(this.editor),(p||!(f&2))&&this.editor.pushUndoStop(),!0}).then(v=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",d.elapsed(),v),u.dispose(),b.dispose()}))}let{insertText:c}=r.completion;r.completion.insertTextRules&4||(c=qu.escape(c)),So.get(this.editor).insert(c,{overwriteBefore:l.overwriteBefore,overwriteAfter:l.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(r.completion.insertTextRules&1),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),t&2||this.editor.pushUndoStop(),r.completion.command?r.completion.command.id===nC.id?this.model.trigger({auto:!0,shy:!1},!0):(s.push(this._commandService.executeCommand(r.completion.command.id,...r.completion.command.arguments?[...r.completion.command.arguments]:[]).catch(ye)),this.model.cancel()):this.model.cancel(),t&4&&this._alternatives.value.set(e,d=>{for(a.cancel();i.canUndo();){n!==i.getAlternativeVersionId()&&i.undo(),this._insertSuggestion(d,1|2|(t&8?8:0));break}}),this._alertCompletionItem(r),Promise.all(s).finally(()=>{this._reportSuggestionAcceptedTelemetry(i,e),this.model.clear(),a.dispose()})}_reportSuggestionAcceptedTelemetry(e,t){var i;if(this._telemetryGate++%100!==0)return;let n=((i=t.item.provider._debugDisplayName)!==null&&i!==void 0?i:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:n,basenameHash:HD(Io(e.uri)).toString(16),languageId:e.getLanguageId(),fileExtension:$6(e.uri)})}getOverwriteInfo(e,t){$t(this.editor.hasModel());let i=this.editor.getOption(105).insertMode==="replace";t&&(i=!i);let n=e.position.column-e.editStart.column,r=(i?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column,s=this.editor.getPosition().column-e.position.column,a=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:n+s,overwriteAfter:r+a}}_alertCompletionItem(e){if(kn(e.completion.additionalTextEdits)){let t=g("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);un(t)}}triggerSuggest(e,t){this.editor.hasModel()&&(this.model.trigger({auto:t??!1,shy:!1},!1,e),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;let t=this.editor.getPosition(),i=()=>{t.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},n=r=>{if(r.completion.insertTextRules&4||r.completion.additionalTextEdits)return!0;let s=this.editor.getPosition(),a=r.editStart.column,l=s.column;return l-a!==r.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:s.lineNumber,startColumn:a,endLineNumber:s.lineNumber,endColumn:l})!==r.completion.insertText};we.once(this.model.onDidTrigger)(r=>{let s=[];we.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{ct(s),i()},void 0,s),this.model.onDidSuggest(({completionModel:a})=>{if(ct(s),a.items.length===0){i();return}let l=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),a.items),c=a.items[l];if(!n(c)){i();return}this.editor.pushUndoStop(),this._insertSuggestion({index:l,item:c,model:a},4|1|2)},void 0,s)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(t,0),this.editor.focus()}acceptSelectedSuggestion(e,t){let i=this.widget.value.getFocusedItem(),n=0;e&&(n|=4),t&&(n|=8),this._insertSuggestion(i,n)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(e){return this._selectors.register(e)}};sl.ID="editor.contrib.suggestController";sl=Lbe([iC(1,L8),iC(2,li),iC(3,Ce),iC(4,Ve),iC(5,cr),iC(6,$a)],sl);var BX=class{constructor(e){this.prioritySelector=e,this._items=new Array}register(e){if(this._items.indexOf(e)!==-1)throw new Error("Value is already registered");return this._items.push(e),this._items.sort((t,i)=>this.prioritySelector(i)-this.prioritySelector(t)),{dispose:()=>{let t=this._items.indexOf(e);t>=0&&this._items.splice(t,1)}}}get itemsOrderedByPriorityDesc(){return this._items}},nC=class extends _e{constructor(){super({id:nC.id,label:g("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:pe.and(A.writable,A.hasCompletionItemProvider),kbOpts:{kbExpr:A.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[512|9,2048|39]},weight:100}})}run(e,t,i){let n=sl.get(t);if(!n)return;let r;i&&typeof i=="object"&&i.auto===!0&&(r=!0),n.triggerSuggest(void 0,r)}};nC.id="editor.action.triggerSuggest";Qe(sl.ID,sl);le(nC);var al=100+90,Xs=Hi.bindToContribution(sl.get);ue(new Xs({id:"acceptSelectedSuggestion",precondition:Mt.Visible,handler(o){o.acceptSelectedSuggestion(!0,!1)}}));Bn.registerKeybindingRule({id:"acceptSelectedSuggestion",when:pe.and(Mt.Visible,A.textInputFocus),primary:2,weight:al});Bn.registerKeybindingRule({id:"acceptSelectedSuggestion",when:pe.and(Mt.Visible,A.textInputFocus,Mt.AcceptSuggestionsOnEnter,Mt.MakesTextEdit),primary:3,weight:al});Vo.appendMenuItem(mh,{command:{id:"acceptSelectedSuggestion",title:g("accept.insert","Insert")},group:"left",order:1,when:Mt.HasInsertAndReplaceRange.toNegated()});Vo.appendMenuItem(mh,{command:{id:"acceptSelectedSuggestion",title:g("accept.insert","Insert")},group:"left",order:1,when:pe.and(Mt.HasInsertAndReplaceRange,Mt.InsertMode.isEqualTo("insert"))});Vo.appendMenuItem(mh,{command:{id:"acceptSelectedSuggestion",title:g("accept.replace","Replace")},group:"left",order:1,when:pe.and(Mt.HasInsertAndReplaceRange,Mt.InsertMode.isEqualTo("replace"))});ue(new Xs({id:"acceptAlternativeSelectedSuggestion",precondition:pe.and(Mt.Visible,A.textInputFocus),kbOpts:{weight:al,kbExpr:A.textInputFocus,primary:1024|3,secondary:[1024|2]},handler(o){o.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:mh,group:"left",order:2,when:pe.and(Mt.HasInsertAndReplaceRange,Mt.InsertMode.isEqualTo("insert")),title:g("accept.replace","Replace")},{menuId:mh,group:"left",order:2,when:pe.and(Mt.HasInsertAndReplaceRange,Mt.InsertMode.isEqualTo("replace")),title:g("accept.insert","Insert")}]}));rt.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion");ue(new Xs({id:"hideSuggestWidget",precondition:Mt.Visible,handler:o=>o.cancelSuggestWidget(),kbOpts:{weight:al,kbExpr:A.textInputFocus,primary:9,secondary:[1024|9]}}));ue(new Xs({id:"selectNextSuggestion",precondition:pe.and(Mt.Visible,Mt.MultipleSuggestions),handler:o=>o.selectNextSuggestion(),kbOpts:{weight:al,kbExpr:A.textInputFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}}));ue(new Xs({id:"selectNextPageSuggestion",precondition:pe.and(Mt.Visible,Mt.MultipleSuggestions),handler:o=>o.selectNextPageSuggestion(),kbOpts:{weight:al,kbExpr:A.textInputFocus,primary:12,secondary:[2048|12]}}));ue(new Xs({id:"selectLastSuggestion",precondition:pe.and(Mt.Visible,Mt.MultipleSuggestions),handler:o=>o.selectLastSuggestion()}));ue(new Xs({id:"selectPrevSuggestion",precondition:pe.and(Mt.Visible,Mt.MultipleSuggestions),handler:o=>o.selectPrevSuggestion(),kbOpts:{weight:al,kbExpr:A.textInputFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}}));ue(new Xs({id:"selectPrevPageSuggestion",precondition:pe.and(Mt.Visible,Mt.MultipleSuggestions),handler:o=>o.selectPrevPageSuggestion(),kbOpts:{weight:al,kbExpr:A.textInputFocus,primary:11,secondary:[2048|11]}}));ue(new Xs({id:"selectFirstSuggestion",precondition:pe.and(Mt.Visible,Mt.MultipleSuggestions),handler:o=>o.selectFirstSuggestion()}));ue(new Xs({id:"toggleSuggestionDetails",precondition:Mt.Visible,handler:o=>o.toggleSuggestionDetails(),kbOpts:{weight:al,kbExpr:A.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[2048|39]}},menuOpts:[{menuId:mh,group:"right",order:1,when:pe.and(Mt.DetailsVisible,Mt.CanResolve),title:g("detail.more","show less")},{menuId:mh,group:"right",order:1,when:pe.and(Mt.DetailsVisible.toNegated(),Mt.CanResolve),title:g("detail.less","show more")}]}));ue(new Xs({id:"toggleExplainMode",precondition:Mt.Visible,handler:o=>o.toggleExplainMode(),kbOpts:{weight:100,primary:2048|85}}));ue(new Xs({id:"toggleSuggestionFocus",precondition:Mt.Visible,handler:o=>o.toggleSuggestionFocus(),kbOpts:{weight:al,kbExpr:A.textInputFocus,primary:2048|512|10,mac:{primary:256|512|10}}}));ue(new Xs({id:"insertBestCompletion",precondition:pe.and(A.textInputFocus,pe.equals("config.editor.tabCompletion","on"),Qw.AtEnd,Mt.Visible.toNegated(),zg.OtherSuggestions.toNegated(),So.InSnippetMode.toNegated()),handler:(o,e)=>{o.triggerSuggestAndAcceptBest(Hn(e)?Object.assign({fallback:"tab"},e):{fallback:"tab"})},kbOpts:{weight:al,primary:2}}));ue(new Xs({id:"insertNextSuggestion",precondition:pe.and(A.textInputFocus,pe.equals("config.editor.tabCompletion","on"),zg.OtherSuggestions,Mt.Visible.toNegated(),So.InSnippetMode.toNegated()),handler:o=>o.acceptNextSuggestion(),kbOpts:{weight:al,kbExpr:A.textInputFocus,primary:2}}));ue(new Xs({id:"insertPrevSuggestion",precondition:pe.and(A.textInputFocus,pe.equals("config.editor.tabCompletion","on"),zg.OtherSuggestions,Mt.Visible.toNegated(),So.InSnippetMode.toNegated()),handler:o=>o.acceptPrevSuggestion(),kbOpts:{weight:al,kbExpr:A.textInputFocus,primary:1024|2}}));le(class extends _e{constructor(){super({id:"editor.action.resetSuggestSize",label:g("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(o,e){sl.get(e).resetWidgetSize()}});function jX(o,e){return{object:o,dispose:()=>e==null?void 0:e.dispose()}}function WX(o,e){return(t,i)=>e(o(t),o(i))}function UX(){return(o,e)=>o-e}function zX(o,e){let t;for(let i of o)(t===void 0||e(i,t)>0)&&(t=i);return t}var A8=class extends ${constructor(e,t){super();this.editor=e,this.suggestControllerPreselector=t,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new F,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new bt(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(e.onKeyDown(n=>{n.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(e.onKeyUp(n=>{n.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));let i=sl.get(this.editor);if(i){this._register(i.registerSelector({priority:100,select:(s,a,l)=>{let c=this.editor.getModel(),d=Zw(c,this.suggestControllerPreselector());if(!d)return-1;let h=H.lift(a),u=l.map((p,b)=>{let v=VX(i,h,p,this.isShiftKeyPressed),y=Zw(c,v==null?void 0:v.normalizedInlineCompletion);if(!y)return;let w=Ibe(d.range,y.range)&&d.text.startsWith(y.text);return{index:b,valid:w,prefixLength:y.text.length,suggestItem:p}}).filter(p=>p&&p.valid),f=zX(u,WX(p=>p.prefixLength,UX()));return f?f.index:-1}}));let n=!1,r=()=>{n||(n=!0,this._register(i.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(i.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(i.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(we.once(i.model.onDidTrigger)(s=>{r()}))}this.update(this._isActive)}get state(){if(!!this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(e){let t=this.getSuggestItemInfo(),i=!1;Obe(this._currentSuggestItemInfo,t)||(this._currentSuggestItemInfo=t,i=!0),this._isActive!==e&&(this._isActive=e,i=!0),i&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){let e=sl.get(this.editor);if(!e||!this.isSuggestWidgetVisible)return;let t=e.widget.value.getFocusedItem();if(!!t)return VX(e,this.editor.getPosition(),t.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){let e=sl.get(this.editor);e&&e.stopForceRenderingAbove()}forceRenderingAbove(){let e=sl.get(this.editor);e&&e.forceRenderingAbove()}};function Ibe(o,e){return e.startLineNumber===o.startLineNumber&&e.startColumn===o.startColumn&&(e.endLineNumber<o.endLineNumber||e.endLineNumber===o.endLineNumber&&e.endColumn<=o.endColumn)}function Obe(o,e){return o===e?!0:!o||!e?!1:o.completionItemKind===e.completionItemKind&&o.isSnippetText===e.isSnippetText&&mX(o.normalizedInlineCompletion,e.normalizedInlineCompletion)}function VX(o,e,t,i){if(Array.isArray(t.completion.additionalTextEdits)&&t.completion.additionalTextEdits.length>0)return{completionItemKind:t.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:D.fromPositions(e,e),text:""}};let{insertText:n}=t.completion,r=!1;if(t.completion.insertTextRules&4){let a=new qu().parse(n),l=o.editor.getModel();if(a.children.length>100)return;rl.adjustWhitespace(l,e,a,!0,!0),n=a.toString(),r=!0}let s=o.getOverwriteInfo(t,i);return{isSnippetText:r,completionItemKind:t.completion.kind,normalizedInlineCompletion:{text:n,range:D.fromPositions(e.delta(0,-s.overwriteBefore),e.delta(0,Math.max(s.overwriteAfter,0)))}}}var HX=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},F8=class extends zS{constructor(e,t){super(e);this.cache=t,this.suggestionInlineCompletionSource=this._register(new A8(this.editor,()=>{var i,n;return(n=(i=this.cache.value)===null||i===void 0?void 0:i.completions[0])===null||n===void 0?void 0:n.toLiveInlineCompletion()})),this.updateOperation=this._register(new _n),this.updateCacheSoon=this._register(new bt(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);let n=this.ghostText;n&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,Tbe(n.parts.map(r=>r.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(i=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register(ze(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(105).preview}updateCache(){return HX(this,void 0,void 0,function*(){let e=this.suggestionInlineCompletionSource.state;if(!e||!e.selectedItem)return;let t={text:e.selectedItem.normalizedInlineCompletion.text,range:e.selectedItem.normalizedInlineCompletion.range,isSnippetText:e.selectedItem.isSnippetText,completionKind:e.selectedItem.completionItemKind},i=this.editor.getPosition(),n=wi(s=>HX(this,void 0,void 0,function*(){let a;try{a=yield h8(i,this.editor.getModel(),{triggerKind:rs.Automatic,selectedSuggestionInfo:t},s)}catch(l){ye(l);return}s.isCancellationRequested||(this.cache.setValue(this.editor,a,rs.Automatic),this.onDidChangeEmitter.fire())})),r=new _T(n,rs.Automatic);this.updateOperation.value=r,yield n,this.updateOperation.value===r&&this.updateOperation.clear()})}get ghostText(){var e,t,i;let n=this.isSuggestionPreviewEnabled(),r=Zw(this.editor.getModel(),(t=(e=this.cache.value)===null||e===void 0?void 0:e.completions[0])===null||t===void 0?void 0:t.toLiveInlineCompletion()),s=this.suggestionInlineCompletionSource.state,a=Zw(this.editor.getModel(),(i=s==null?void 0:s.selectedItem)===null||i===void 0?void 0:i.normalizedInlineCompletion),l=r&&a&&r.text.startsWith(a.text)&&r.range.equalsRange(a.range);if(!n&&!l)return;let c=l?r:a||r,d=l?c.text.length-a.text.length:0;return this.toGhostText(c,d)}toGhostText(e,t){let i=this.editor.getOptions().get(105).previewMode;return e?mT(e,this.editor.getModel(),i,this.editor.getPosition(),t)||new US(e.range.endLineNumber,[],this.minReservedLineCount):void 0}};function Tbe(o){return o.reduce((e,t)=>e+t,0)}zi();var Nbe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},Pbe=function(o,e){return function(t,i){e(t,i,o)}},Rbe=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},$X=class extends ${constructor(){super(...arguments);this.onDidChangeEmitter=new F,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new _n)}get targetModel(){var e;return(e=this.currentModelRef.value)===null||e===void 0?void 0:e.object}setTargetModel(e){var t;((t=this.currentModelRef.value)===null||t===void 0?void 0:t.object)!==e&&(this.currentModelRef.clear(),this.currentModelRef.value=e?jX(e,e.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var e,t;return this.hasCachedGhostText||(this.cachedGhostText=(t=(e=this.currentModelRef.value)===null||e===void 0?void 0:e.object)===null||t===void 0?void 0:t.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(e){var t;(t=this.targetModel)===null||t===void 0||t.setExpanded(e)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}},NT=class extends $X{constructor(e,t){super();this.editor=e,this.commandService=t,this.sharedCache=this._register(new KX),this.suggestWidgetAdapterModel=this._register(new F8(this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(new pT(this.editor,this.sharedCache,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(e){var t;let i=(t=this.activeInlineCompletionsModel)===null||t===void 0?void 0:t.ghostText;return i?i.parts.some(n=>e.containsPosition(new H(i.lineNumber,n.column))):!1}triggerInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.trigger(rs.Explicit)}commitInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.commitCurrentSuggestion()}hideInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.hide()}showNextInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.showNext()}showPreviousInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.showPrevious()}hasMultipleInlineCompletions(){var e;return Rbe(this,void 0,void 0,function*(){let t=yield(e=this.activeInlineCompletionsModel)===null||e===void 0?void 0:e.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};NT=Nbe([Pbe(1,li)],NT);var KX=class extends ${constructor(){super(...arguments);this.onDidChangeEmitter=new F,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new _n)}get value(){return this.cache.value}setValue(e,t,i){this.cache.value=new d8(e,t,()=>this.onDidChangeEmitter.fire(),i)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}};Me();ne();je();An();$f();ot();ve();zf();ar();Ws();Ge();dt();var Mbe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},YX=function(o,e){return function(t,i){e(t,i,o)}},B8,qX=(B8=window.trustedTypes)===null||B8===void 0?void 0:B8.createPolicy("editorGhostText",{createHTML:o=>o}),PT=class extends ${constructor(e,t,i,n){super();this.editor=e,this.model=t,this.instantiationService=i,this.modeService=n,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(ZX,this.editor)),this.additionalLinesWidget=this._register(new GX(this.editor,this.modeService.languageIdCodec)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(r=>{(r.hasChanged(29)||r.hasChanged(104)||r.hasChanged(87)||r.hasChanged(82)||r.hasChanged(44)||r.hasChanged(43)||r.hasChanged(58))&&this.update()})),this._register(ze(()=>{var r;this.disposed=!0,this.update(),(r=this.viewMoreContentWidget)===null||r===void 0||r.dispose(),this.viewMoreContentWidget=void 0})),this._register(t.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(e){return this.additionalLinesWidget.viewZoneId===e}update(){var e;let t=this.model.ghostText;if(!this.editor.hasModel()||!t||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear();return}let i=new Array,n=new Array;function r(c,d){if(n.length>0){let h=n[n.length-1];d&&h.decorations.push(new dr(h.content.length+1,h.content.length+1+c[0].length,d,0)),h.content+=c[0],c=c.slice(1)}for(let h of c)n.push({content:h,decorations:d?[new dr(1,h.length+1,d,0)]:[]})}let s=this.editor.getModel().getLineContent(t.lineNumber);this.editor.getModel().getLineTokens(t.lineNumber);let a,l=0;for(let c of t.parts){let d=c.lines;a===void 0?(i.push({column:c.column,text:d[0],preview:c.preview}),d=d.slice(1)):r([s.substring(l,c.column-1)],void 0),d.length>0&&(r(d,"ghost-text"),a===void 0&&c.column<=s.length&&(a=c.column)),l=c.column-1}a!==void 0&&r([s.substring(l)],void 0),this.partsWidget.setParts(t.lineNumber,i,a!==void 0?{column:a,length:s.length+1-a}:void 0),this.additionalLinesWidget.updateLines(t.lineNumber,n,t.additionalReservedLineCount),t.parts.some(c=>c.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new H(t.lineNumber,this.editor.getModel().getLineMaxColumn(t.lineNumber)),"",0):((e=this.viewMoreContentWidget)===null||e===void 0||e.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(e,t,i){let n=this.editor.getOption(43),r=document.createElement("div");r.className="suggest-preview-additional-widget",fn.applyFontInfoSlow(r,n);let s=document.createElement("span");s.className="content-spacer",s.append(t),r.append(s);let a=document.createElement("span");a.className="content-newline suggest-preview-text",a.append("\u23CE  "),r.append(a);let l=new Q,c=document.createElement("div");return c.className="button suggest-preview-text",c.append(`+${i} lines\u2026`),l.add(Ni(c,"mousedown",d=>{var h;(h=this.model)===null||h===void 0||h.setExpanded(!0),d.preventDefault(),this.editor.focus()})),r.append(c),new XX(this.editor,e,r,l)}};PT=Mbe([YX(2,Ve),YX(3,Pi)],PT);var ZX=class{constructor(e){this.editor=e,this.decorationIds=[],this.disposableStore=new Q}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(e,t,i){if(this.disposableStore.clear(),!this.editor.getModel())return;let r=new Array;i&&r.push({range:D.fromPositions(new H(e,i.column),new H(e,i.column+i.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,t.map(s=>({range:D.fromPositions(new H(e,s.column)),options:{description:"ghost-text",after:{content:s.text,inlineClassName:s.preview?"ghost-text-decoration-preview":"ghost-text-decoration"},showIfCollapsed:!0}})).concat(r))}},GX=class{constructor(e,t){this.editor=e,this.languageIdCodec=t,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(e,t,i){let n=this.editor.getModel();if(!n)return;let{tabSize:r}=n.getOptions();this.editor.changeViewZones(s=>{this._viewZoneId&&(s.removeZone(this._viewZoneId),this._viewZoneId=void 0);let a=Math.max(t.length,i);if(a>0){let l=document.createElement("div");Abe(l,r,t,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=s.addZone({afterLineNumber:e,heightInLines:a,domNode:l})}})}};function Abe(o,e,t,i,n){let r=i.get(29),s=i.get(104),a="none",l=i.get(82),c=i.get(44),d=i.get(43),h=i.get(58),u=Nl(1e4);u.appendASCIIString('<div class="suggest-preview-text">');for(let b=0,v=t.length;b<v;b++){let y=t[b],w=y.content;u.appendASCIIString('<div class="view-line'),u.appendASCIIString('" style="top:'),u.appendASCIIString(String(b*h)),u.appendASCIIString('px;width:1000000px;">');let S=Tb(w),x=Af(w),k=hn.createEmpty(w,n);Jm(new Va(d.isMonospace&&!r,d.canUseHalfwidthRightwardsArrow,w,!1,S,x,0,k,y.decorations,e,0,d.spaceWidth,d.middotWidth,d.wsmiddotWidth,s,a,l,c!==Uo.OFF,null),u),u.appendASCIIString("</div>")}u.appendASCIIString("</div>"),fn.applyFontInfoSlow(o,d);let f=u.build(),p=qX?qX.createHTML(f):f;o.innerHTML=p}var XX=class extends ${constructor(e,t,i,n){super();this.editor=e,this.position=t,this.domNode=i,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(n),this._register(ze(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}};gt((o,e)=>{let t=o.getColor(r$);t&&(e.addRule(`.monaco-editor .ghost-text-decoration { color: ${t.toString()} !important; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${t.toString()} !important; }`),e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${t.toString()} !important; }`));let i=o.getColor(s$);i&&(e.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${i.toString()}; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${i.toString()}; }`),e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${i.toString()}; }`));let n=o.getColor(o$);n&&(e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${n}; }`),e.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${n}; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${n}; }`))});xe();_t();Ge();tu();var QX=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},j8=function(o,e){return function(t,i){e(t,i,o)}},RT=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},uo=class JX extends ${constructor(e,t){super();this.editor=e,this.instantiationService=t,this.triggeredExplicitly=!1,this.activeController=this._register(new _n),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(i=>{i.hasChanged(105)&&this.updateModelController(),i.hasChanged(54)&&this.updateModelController()})),this.updateModelController()}static get(e){return e.getContribution(JX.ID)}get activeModel(){var e;return(e=this.activeController.value)===null||e===void 0?void 0:e.model}updateModelController(){let e=this.editor.getOption(105),t=this.editor.getOption(54);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(e.preview||t.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(W8,this.editor):void 0}shouldShowHoverAt(e){var t;return((t=this.activeModel)===null||t===void 0?void 0:t.shouldShowHoverAt(e))||!1}shouldShowHoverAtViewZone(e){var t,i;return((i=(t=this.activeController.value)===null||t===void 0?void 0:t.widget)===null||i===void 0?void 0:i.shouldShowHoverAtViewZone(e))||!1}trigger(){var e;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(e=this.activeModel)===null||e===void 0||e.triggerInlineCompletion()}commit(){var e;(e=this.activeModel)===null||e===void 0||e.commitInlineCompletion()}hide(){var e;(e=this.activeModel)===null||e===void 0||e.hideInlineCompletion()}showNextInlineCompletion(){var e;(e=this.activeModel)===null||e===void 0||e.showNextInlineCompletion()}showPreviousInlineCompletion(){var e;(e=this.activeModel)===null||e===void 0||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return RT(this,void 0,void 0,function*(){let t=yield(e=this.activeModel)===null||e===void 0?void 0:e.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};uo.inlineSuggestionVisible=new be("inlineSuggestionVisible",!1,g("inlineSuggestionVisible","Whether an inline suggestion is visible"));uo.inlineSuggestionHasIndentation=new be("inlineSuggestionHasIndentation",!1,g("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace"));uo.inlineSuggestionHasIndentationLessThanTabSize=new be("inlineSuggestionHasIndentationLessThanTabSize",!0,g("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab"));uo.ID="editor.contrib.ghostTextController";uo=QX([j8(1,Ve)],uo);var eQ=class{constructor(e){this.contextKeyService=e,this.inlineCompletionVisible=uo.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=uo.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=uo.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}},W8=class extends ${constructor(e,t,i){super();this.editor=e,this.instantiationService=t,this.contextKeyService=i,this.contextKeys=new eQ(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(NT,this.editor)),this.widget=this._register(this.instantiationService.createInstance(PT,this.editor,this.model)),this._register(ze(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var e;this.contextKeys.inlineCompletionVisible.set(((e=this.model.activeInlineCompletionsModel)===null||e===void 0?void 0:e.ghostText)!==void 0);let t=!1,i=!0,n=this.model.inlineCompletionsModel.ghostText;if(!!this.model.activeInlineCompletionsModel&&n&&n.parts.length>0){let{column:r,lines:s}=n.parts[0],a=s[0],l=this.editor.getModel().getLineIndentColumn(n.lineNumber);if(r<=l){let d=wn(a);d===-1&&(d=a.length-1),t=d>0;let h=this.editor.getModel().getOptions().tabSize;i=Yt.visibleColumnFromColumn(a,d+1,h)<h}}this.contextKeys.inlineCompletionSuggestsIndentation.set(t),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(i)}};W8=QX([j8(1,Ve),j8(2,Ce)],W8);var tQ=Hi.bindToContribution(uo.get),oC=new tQ({id:fT,precondition:uo.inlineSuggestionVisible,handler(o){o.commit(),o.editor.focus()}});ue(oC);Bn.registerKeybindingRule({primary:2,weight:200,id:oC.id,when:pe.and(oC.precondition,A.tabMovesFocus.toNegated(),uo.inlineSuggestionHasIndentationLessThanTabSize)});ue(new tQ({id:"editor.action.inlineSuggest.hide",precondition:uo.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(o){o.hide()}}));var Vg=class extends _e{constructor(){super({id:Vg.ID,label:g("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:pe.and(A.writable,uo.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|89}})}run(e,t){return RT(this,void 0,void 0,function*(){let i=uo.get(t);i&&(i.showNextInlineCompletion(),t.focus())})}};Vg.ID="editor.action.inlineSuggest.showNext";var Hg=class extends _e{constructor(){super({id:Hg.ID,label:g("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:pe.and(A.writable,uo.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|87}})}run(e,t){return RT(this,void 0,void 0,function*(){let i=uo.get(t);i&&(i.showPreviousInlineCompletion(),t.focus())})}};Hg.ID="editor.action.inlineSuggest.showPrevious";var iQ=class extends _e{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:g("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:A.writable})}run(e,t){return RT(this,void 0,void 0,function*(){let i=uo.get(t);i&&i.trigger()})}};Qe(uo.ID,uo);le(iQ);le(Vg);le(Hg);xe();No();zi();_t();var Fbe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},rC=function(o,e){return function(t,i){e(t,i,o)}},nQ=class{constructor(e,t,i){this.owner=e,this.range=t,this.controller=i}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}},MT=class{constructor(e,t,i,n,r,s,a,l){this._editor=e,this._hover=t,this._commandService=i,this._menuService=n,this._contextKeyService=r,this._modeService=s,this._openerService=a,this.accessibilityService=l}suggestHoverAnchor(e){let t=uo.get(this._editor);if(!t)return null;if(e.target.type===8){let i=e.target.detail;if(t.shouldShowHoverAtViewZone(i.viewZoneId))return new FS(1e3,this,D.fromPositions(i.positionBefore||i.position,i.positionBefore||i.position))}return e.target.type===7&&e.target.range&&t.shouldShowHoverAt(e.target.range)?new FS(1e3,this,e.target.range):e.target.type===6&&e.target.range&&e.target.detail&&e.target.detail.mightBeForeignElement&&t.shouldShowHoverAt(e.target.range)?new FS(1e3,this,e.target.range):null}computeSync(e,t){let i=uo.get(this._editor);return i&&i.shouldShowHoverAt(e.range)?[new nQ(this,e.range,i)]:[]}renderHoverParts(e,t,i){let n=new Q,r=e[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(r,t,n);let s=n.add(this._menuService.createMenu(De.InlineCompletionsActions,this._contextKeyService)),a=i.addAction({label:g("showNextInlineSuggestion","Next"),commandId:Vg.ID,run:()=>this._commandService.executeCommand(Vg.ID)}),l=i.addAction({label:g("showPreviousInlineSuggestion","Previous"),commandId:Hg.ID,run:()=>this._commandService.executeCommand(Hg.ID)});i.addAction({label:g("acceptInlineSuggestion","Accept"),commandId:oC.id,run:()=>this._commandService.executeCommand(oC.id)});let c=[a,l];for(let d of c)d.setEnabled(!1);r.hasMultipleSuggestions().then(d=>{for(let h of c)h.setEnabled(d)});for(let[d,h]of s.getActions())for(let u of h)u instanceof Fl&&i.addAction({label:u.label,commandId:u.item.id,run:()=>this._commandService.executeCommand(u.item.id)});return n}renderScreenReaderText(e,t,i){var n,r;let s=se,a=s("div.hover-row.markdown-hover"),l=J(a,s("div.hover-contents")),c=i.add(new Gs({editor:this._editor},this._modeService,this._openerService)),d=u=>{i.add(c.onDidRenderAsync(()=>{l.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));let f=g("inlineSuggestionFollows","Suggestion:"),p=i.add(c.render(new ps().appendText(f).appendCodeblock("text",u)));l.replaceChildren(p.element)},h=(r=(n=e.controller.activeModel)===null||n===void 0?void 0:n.inlineCompletionsModel)===null||r===void 0?void 0:r.ghostText;if(h){let u=this._editor.getModel().getLineContent(h.lineNumber);d(h.renderForScreenReader(u))}t.appendChild(a)}};MT=Fbe([rC(2,li),rC(3,da),rC(4,Ce),rC(5,Pi),rC(6,oo),rC(7,Zn)],MT);_t();Ge();tt();en();ne();je();Dt();An();Os();Wn();xd();ar();Me();cs();ne();Ge();Me();is();Se();ne();yi();dt();var Bbe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},jbe=function(o,e){return function(t,i){e(t,i,o)}},AT=class extends ${constructor(e,t,i={},n){var r;super();this._link=t,this._enabled=!0,this.el=J(e,se("a.monaco-link",{tabIndex:(r=t.tabIndex)!==null&&r!==void 0?r:0,href:t.href,title:t.title},t.label)),this.el.setAttribute("role","button");let s=this._register(new Jt(this.el,"click")),a=this._register(new Jt(this.el,"keypress")),l=we.chain(a.event).map(h=>new Kt(h)).filter(h=>h.keyCode===3).event,c=this._register(new Jt(this.el,ei.Tap)).event;this._register(Bt.addTarget(this.el));let d=we.any(s.event,l,c);this._register(d(h=>{!this.enabled||(Wt.stop(h,!0),(i==null?void 0:i.opener)?i.opener(this._link.href):n.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(e){e?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=e}};AT=Bbe([jbe(3,oo)],AT);gt((o,e)=>{let t=o.getColor(Qf);t&&e.addRule(`.monaco-link { color: ${t}; }`);let i=o.getColor(Jf);i&&e.addRule(`.monaco-link:hover { color: ${i}; }`)});dt();var oQ=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},rQ=function(o,e){return function(t,i){e(t,i,o)}},Wbe=26,FT=class extends ${constructor(e,t){super();this._editor=e,this.instantiationService=t,this.banner=this._register(this.instantiationService.createInstance(U8))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(e){this.banner.show(Object.assign(Object.assign({},e),{onClose:()=>{this.hide(),e.onClose&&e.onClose()}})),this._editor.setBanner(this.banner.element,Wbe)}};FT=oQ([rQ(1,Ve)],FT);var U8=class extends ${constructor(e){super();this.instantiationService=e,this.markdownRenderer=this.instantiationService.createInstance(Gs,{}),this.element=se("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(e){if(e.ariaLabel)return e.ariaLabel;if(typeof e.message=="string")return e.message}getBannerMessage(e){if(typeof e=="string"){let t=se("span");return t.innerText=e,t}return this.markdownRenderer.render(e).element}clear(){Zi(this.element)}show(e){Zi(this.element);let t=this.getAriaLabel(e);t&&this.element.setAttribute("aria-label",t);let i=J(this.element,se("div.icon-container"));i.setAttribute("aria-hidden","true"),e.icon&&i.appendChild(se(`div${qt.asCSSSelector(e.icon)}`));let n=J(this.element,se("div.message-container"));if(n.setAttribute("aria-hidden","true"),n.appendChild(this.getBannerMessage(e.message)),this.messageActionsContainer=J(this.element,se("div.message-actions-container")),e.actions)for(let s of e.actions)this._register(this.instantiationService.createInstance(AT,this.messageActionsContainer,Object.assign(Object.assign({},s),{tabIndex:-1}),{}));let r=J(this.element,se("div.action-container"));this.actionBar=this._register(new pr(r)),this.actionBar.push(this._register(new yo("banner.close","Close Banner",qt.asClassName(cI),!0,()=>{typeof e.onClose=="function"&&e.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};U8=oQ([rQ(0,Ve)],U8);xe();lr();Ge();yi();dt();var z8=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},sC=function(o,e){return function(t,i){e(t,i,o)}},Xc=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},Ube=cn("extensions-warning-message",z.warning,g("warningIcon","Icon shown with a warning message in the extensions editor.")),aC=class extends ${constructor(e,t,i,n){super();this._editor=e,this._editorWorkerService=t,this._workspaceTrustService=i,this._highlighter=null,this._bannerClosed=!1,this._updateState=r=>{if(r&&r.hasMore){if(this._bannerClosed)return;let s=Math.max(r.ambiguousCharacterCount,r.nonBasicAsciiCharacterCount,r.invisibleCharacterCount),a;if(r.nonBasicAsciiCharacterCount>=s)a={message:g("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new k_};else if(r.ambiguousCharacterCount>=s)a={message:g("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new D_};else if(r.invisibleCharacterCount>=s)a={message:g("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new L_};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:a.message,icon:Ube,actions:[{label:a.command.shortLabel,href:`command:${a.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(n.createInstance(FT,e)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=e.getOption(112),this._register(i.onDidChangeTrust(r=>{this._updateHighlighter()})),this._register(e.onDidChangeConfiguration(r=>{r.hasChanged(112)&&(this._options=e.getOption(112),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;let e=zbe(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([e.nonBasicASCII,e.ambiguousCharacters,e.invisibleCharacters].every(i=>i===!1))return;let t={nonBasicASCII:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments,allowedCodePoints:Object.keys(e.allowedCharacters).map(i=>i.codePointAt(0))};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new V8(this._editor,t,this._updateState,this._editorWorkerService):this._highlighter=new sQ(this._editor,t,this._updateState)}getDecorationInfo(e){return this._highlighter?this._highlighter.getDecorationInfo(e):null}};aC.ID="editor.contrib.unicodeHighlighter";aC=z8([sC(1,ro),sC(2,kO),sC(3,Ve)],aC);function zbe(o,e){var t;return{nonBasicASCII:e.nonBasicASCII===hc?!o:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments===hc?!o:e.includeComments,allowedCharacters:(t=e.allowedCharacters)!==null&&t!==void 0?t:{}}}var V8=class extends ${constructor(e,t,i,n){super();this._editor=e,this._options=t,this._updateState=i,this._editorWorkerService=n,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new bt(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(!this._model.mightContainNonBasicASCII()){this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[]));return}let e=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(t=>{if(this._model.getVersionId()!==e)return;this._updateState(t);let i=[];if(!t.hasMore)for(let n of t.ranges)i.push({range:n,options:this._options.includeComments?WT:jT});this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),i))})}getDecorationInfo(e){if(!this._decorationIds.has(e))return null;let t=this._editor.getModel(),i=t.getDecorationRange(e);if(!oI(t,{range:i,options:this._options.includeComments?WT:jT,id:e,ownerId:0}))return null;let n=t.getValueInRange(i);return{reason:aQ(n,this._options)}}};V8=z8([sC(3,ro)],V8);var sQ=class extends ${constructor(e,t,i){super();this._editor=e,this._options=t,this._updateState=i,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new bt(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(!this._model.mightContainNonBasicASCII()){this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[]));return}let e=this._editor.getVisibleRanges(),t=[],i={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(let n of e){let r=ev.computeUnicodeHighlights(this._model,this._options,n);for(let s of r.ranges)i.ranges.push(s);i.ambiguousCharacterCount+=i.ambiguousCharacterCount,i.invisibleCharacterCount+=i.invisibleCharacterCount,i.nonBasicAsciiCharacterCount+=i.nonBasicAsciiCharacterCount,i.hasMore=i.hasMore||r.hasMore}if(!i.hasMore)for(let n of i.ranges)t.push({range:n,options:this._options.includeComments?WT:jT});this._updateState(i),this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),t))}getDecorationInfo(e){if(!this._decorationIds.has(e))return null;let t=this._editor.getModel(),i=t.getDecorationRange(e),n=t.getValueInRange(i);return oI(t,{range:i,options:this._options.includeComments?WT:jT,id:e,ownerId:0})?{reason:aQ(n,this._options)}:null}},BT=class{constructor(e,t,i,n){this._editor=e,this._hover=t,this._modeService=i,this._openerService=n}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];let i=this._editor.getModel(),n=this._editor.getContribution(aC.ID),r=[],s=300;for(let a of t){let h=function(y){let w=`\`U+${y.toString(16).padStart(4,"0")}\``;return Il.isInvisibleCharacter(y)||(w+=` "${`${Vbe(y)}`}"`),w},l=n.getDecorationInfo(a.id);if(!l)continue;let d=i.getValueInRange(a.range).codePointAt(0),u=h(d),f;switch(l.reason.kind){case 0:f=g("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",u,h(l.reason.confusableWith.codePointAt(0)));break;case 1:f=g("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",u);break;case 2:f=g("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",u);break}let p={codePoint:d,reason:l.reason.kind},b=g("unicodeHighlight.adjustSettings","Adjust settings"),v=[{value:`${f} [${b}](command:${lC.ID}?${encodeURIComponent(JSON.stringify(p))})`,isTrusted:!0}];r.push(new w_(this,a.range,v,s++))}return r}renderHoverParts(e,t,i){return i8(e,t,this._editor,this._hover,this._modeService,this._openerService)}};BT=z8([sC(2,Pi),sC(3,oo)],BT);function Vbe(o){return o===96?"`` ` ``":"`"+String.fromCodePoint(o)+"`"}function aQ(o,e){return ev.computeUnicodeHighlightReason(o,e)}var jT=Ze.register({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:{color:Ii(AV),position:Oo.Center},minimap:{color:Ii(UV),position:To.Inline},hideInCommentTokens:!0}),WT=Ze.register({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:{color:Ii(kv),position:Oo.Center},minimap:{color:Ii(ig),position:To.Inline}}),D_=class extends _e{constructor(){super({id:D_.ID,label:g("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0});this.shortLabel=g("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(e,t,i){return Xc(this,void 0,void 0,function*(){let n=e==null?void 0:e.get(Vt);n&&this.runAction(n)})}runAction(e){return Xc(this,void 0,void 0,function*(){yield e.updateValue(uc.ambiguousCharacters,!1,1)})}};D_.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";var L_=class extends _e{constructor(){super({id:L_.ID,label:g("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0});this.shortLabel=g("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(e,t,i){return Xc(this,void 0,void 0,function*(){let n=e==null?void 0:e.get(Vt);n&&this.runAction(n)})}runAction(e){return Xc(this,void 0,void 0,function*(){yield e.updateValue(uc.invisibleCharacters,!1,1)})}};L_.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";var k_=class extends _e{constructor(){super({id:k_.ID,label:g("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0});this.shortLabel=g("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(e,t,i){return Xc(this,void 0,void 0,function*(){let n=e==null?void 0:e.get(Vt);n&&this.runAction(n)})}runAction(e){return Xc(this,void 0,void 0,function*(){yield e.updateValue(uc.nonBasicASCII,!1,1)})}};k_.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";var lC=class extends _e{constructor(){super({id:lC.ID,label:g("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(e,t,i){return Xc(this,void 0,void 0,function*(){let{codePoint:n,reason:r}=i,s=String.fromCodePoint(n),a=e.get(dh),l=e.get(Vt);function c(u){return Il.isInvisibleCharacter(u)?g("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",`U+${u.toString(16)}`):g("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`U+${u.toString(16)} "${s}"`)}let d=[{label:c(n),run:()=>Hbe(l,[n])}];if(r===0){let u=new D_;d.push({label:u.label,run:()=>Xc(this,void 0,void 0,function*(){return u.runAction(l)})})}else if(r===1){let u=new L_;d.push({label:u.label,run:()=>Xc(this,void 0,void 0,function*(){return u.runAction(l)})})}else if(r===2){let u=new k_;d.push({label:u.label,run:()=>Xc(this,void 0,void 0,function*(){return u.runAction(l)})})}else $be(r);let h=yield a.pick(d,{title:g("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});h&&(yield h.run())})}};lC.ID="editor.action.unicodeHighlight.showExcludeOptions";function Hbe(o,e){return Xc(this,void 0,void 0,function*(){let t=o.getValue(uc.allowedCharacters),i;typeof t=="object"&&t?i=t:i={};for(let n of e)i[String.fromCodePoint(n)]=!0;yield o.updateValue(uc.allowedCharacters,i,1)})}function $be(o){throw new Error(`Unexpected value: ${o}`)}le(D_);le(L_);le(k_);le(lC);Qe(aC.ID,aC);tt();var lQ=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},UT=function(o,e){return function(t,i){e(t,i,o)}},cQ=se,H8=class extends ${constructor(e){super();this._keybindingService=e,this._hasContent=!1,this.hoverElement=cQ("div.hover-row.status-bar"),this.actionsElement=J(this.hoverElement,cQ("div.actions"))}get hasContent(){return this._hasContent}addAction(e){let t=this._keybindingService.lookupKeybinding(e.commandId),i=t?t.getLabel():null;return this._hasContent=!0,this._register(MS.render(this.actionsElement,e,i))}append(e){let t=J(this.actionsElement,e);return this._hasContent=!0,t}};H8=lQ([UT(0,oi)],H8);var QS=class{constructor(e,t){this._participants=t,this._editor=e,this._result=[],this._anchor=null}setAnchor(e){this._anchor=e,this._result=[]}clearResult(){this._result=[]}static _getLineDecorations(e,t){if(t.type!==1)return[];let i=e.getModel(),n=t.range.startLineNumber,r=i.getLineMaxColumn(n);return e.getLineDecorations(n).filter(s=>{if(s.options.isWholeLine)return!0;let a=s.range.startLineNumber===n?s.range.startColumn:1,l=s.range.endLineNumber===n?s.range.endColumn:r;if(s.options.showIfCollapsed){if(a>t.range.startColumn+1||t.range.endColumn-1>l)return!1}else if(a>t.range.startColumn||t.range.endColumn>l)return!1;return!0})}computeAsync(e){let t=this._anchor;if(!this._editor.hasModel()||!t)return Sn.EMPTY;let i=QS._getLineDecorations(this._editor,t);return Sn.merge(this._participants.map(n=>this._computeAsync(n,i,t,e)))}_computeAsync(e,t,i,n){return e.computeAsync?e.computeAsync(i,t,n):Sn.EMPTY}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];let e=QS._getLineDecorations(this._editor,this._anchor),t=[];for(let i of this._participants)t=t.concat(i.computeSync(this._anchor,e));return hd(t)}onResult(e,t){t?this._result=e.concat(this._result):this._result=this._result.concat(e)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._anchor){for(let e of this._participants)if(e.createLoadingMessage){let t=e.createLoadingMessage(this._anchor);if(t)return this._result.slice(0).concat([t])}}return this._result.slice(0)}},Gu=class $8 extends Nn{constructor(e,t,i,n,r){super();this._hoverVisibleKey=t,this._keybindingService=n,this._contextKeyService=r,this.allowEditorOverflow=!0,this._participants=[i.createInstance(iT,e,this),i.createInstance(aT,e,this),i.createInstance(MT,e,this),i.createInstance(BT,e,this),i.createInstance(uT,e,this)],this._editor=e,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this._hover=this._register(new RS),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this.onkeydown(this._hover.containerDomNode,s=>{s.equals(9)&&this.hide()}),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(43)&&this._updateFont()})),this._editor.onDidLayoutChange(()=>this.layout()),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._messagesAreComplete=!1,this._lastAnchor=null,this._computer=new QS(this._editor,this._participants),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._preferAbove=this._editor.getOption(52).above,this._hoverOperation=new AS(this._computer,s=>this._withResult(s,!0),null,s=>this._withResult(s,!1),this._editor.getOption(52).delay),this._register(Ni(this.getDomNode(),Le.FOCUS,()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")})),this._register(Ni(this.getDomNode(),Le.BLUR,()=>{this.getDomNode().classList.remove("colorpicker-hover")})),this._register(e.onDidChangeConfiguration(()=>{this._hoverOperation.setHoverTime(this._editor.getOption(52).delay),this._preferAbove=this._editor.getOption(52).above})),this._register(Li.onDidChange(()=>{this._isVisible&&this._lastAnchor&&this._messages.length>0&&(this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastAnchor,this._messages))}))}dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return $8.ID}getDomNode(){return this._hover.containerDomNode}_shouldShowAt(e){let t=e.target.type;if(t===6)return!0;if(t===7){let i=this._editor.getOption(43).typicalHalfwidthCharacterWidth/2,n=e.target.detail;if(n&&!n.isAfterLines&&typeof n.horizontalDistanceToText=="number"&&n.horizontalDistanceToText<i)return!0}return!1}maybeShowAt(e){var t;let i=[];for(let n of this._participants)if(typeof n.suggestHoverAnchor=="function"){let r=n.suggestHoverAnchor(e);r&&i.push(r)}if(this._shouldShowAt(e)&&e.target.range){let r=[...((t=e.target.element)===null||t===void 0?void 0:t.classList.values())||[]].find(s=>s.startsWith("ced-colorBox"))&&e.target.range.endColumn-e.target.range.startColumn===1?new D(e.target.range.startLineNumber,e.target.range.startColumn+1,e.target.range.endLineNumber,e.target.range.endColumn+1):e.target.range;i.push(new nT(0,r))}return i.length===0?!1:(i.sort((n,r)=>r.priority-n.priority),this._startShowingAt(i[0],0,!1),!0)}_showAt(e,t,i){this._showAtPosition=e,this._showAtRange=t,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=i,i&&this._hover.containerDomNode.focus()}getPosition(){if(this._isVisible){let e=this._preferAbove;return!e&&this._contextKeyService.getContextKeyValue(Mt.Visible.key)&&(e=!0),{position:this._showAtPosition,range:this._showAtRange,preference:e?[1,2]:[2,1]}}return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){let e=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:t,lineHeight:i}=this._editor.getOption(43);this._hover.contentsDomNode.style.fontSize=`${t}px`,this._hover.contentsDomNode.style.lineHeight=`${i/t}`,this._hover.contentsDomNode.style.maxHeight=`${e}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAtRange(e,t,i){this._startShowingAt(new nT(0,e),t,i)}_startShowingAt(e,t,i){if(!(this._lastAnchor&&this._lastAnchor.equals(e))){if(this._hoverOperation.cancel(),this._isVisible)if(!this._showAtPosition||!this._lastAnchor||!e.canAdoptVisibleHover(this._lastAnchor,this._showAtPosition))this.hide();else{let n=this._messages.filter(r=>r.isValidForHoverAnchor(e));if(n.length===0)this.hide();else{if(n.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(e,n)}}this._lastAnchor=e,this._computer.setAnchor(e),this._shouldFocus=i,this._hoverOperation.start(t)}}hide(){this._lastAnchor=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout(()=>{this._isVisible||this._hoverVisibleKey.set(!1)},0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}setColorPicker(e){this._colorPicker=e}onContentsChanged(){this._hover.onContentsChanged()}_withResult(e,t){this._messages=e,this._messagesAreComplete=t,this._lastAnchor&&this._messages.length>0?this._renderMessages(this._lastAnchor,this._messages):t&&this.hide()}_renderMessages(e,t){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let i=1073741824,n=t[0].range,r=null,s=document.createDocumentFragment(),a=new Q,l=new Map;for(let d of t)i=Math.min(i,d.range.startColumn),n=D.plusRange(n,d.range),d.forceShowAtRange&&(r=d.range),l.has(d.owner)||l.set(d.owner,[]),l.get(d.owner).push(d);let c=a.add(new H8(this._keybindingService));for(let d of this._participants)if(l.has(d)){let h=l.get(d);a.add(d.renderHoverParts(h,s,c))}c.hasContent&&s.appendChild(c.hoverElement),this._renderDisposable=a,s.hasChildNodes()&&(r?this._showAt(r.getStartPosition(),r,this._shouldFocus):this._showAt(new H(e.range.startLineNumber,i),n,this._shouldFocus),this._updateContents(s)),this._colorPicker&&this._colorPicker.layout(),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,n?[{range:n,options:$8._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}};Gu.ID="editor.contrib.modesContentHoverWidget";Gu._DECORATION_OPTIONS=Ze.register({description:"content-hover-highlight",className:"hoverHighlight"});Gu=lQ([UT(2,Ve),UT(3,oi),UT(4,Ce)],Gu);Me();Ut();ne();var dQ=se,hQ=class{constructor(e){this._editor=e,this._lineNumber=-1,this._result=[]}setLineNumber(e){this._lineNumber=e,this._result=[]}clearResult(){this._result=[]}computeSync(){let e=n=>({value:n}),t=this._editor.getLineDecorations(this._lineNumber),i=[];if(!t)return i;for(let n of t){if(!n.options.glyphMarginClassName)continue;let r=n.options.glyphMarginHoverMessage;!r||o_(r)||i.push(...hb(r).map(e))}return i}onResult(e,t){this._result=this._result.concat(e)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}},Xu=class extends Nn{constructor(e,t,i=X6){super();this._renderDisposeables=this._register(new Q),this._editor=e,this._isVisible=!1,this._messages=[],this._lastLineNumber=-1,this._hover=this._register(new RS),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new Gs({editor:this._editor},t,i)),this._computer=new hQ(this._editor),this._hoverOperation=new AS(this._computer,n=>this._withResult(n),void 0,n=>this._withResult(n),300),this._register(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(43)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._hoverOperation.cancel(),this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Xu.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_showAt(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));let t=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(e),n=this._editor.getScrollTop(),r=this._editor.getOption(58),s=this._hover.containerDomNode.clientHeight,a=i-n-(s-r)/2;this._hover.containerDomNode.style.left=`${t.glyphMarginLeft+t.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(a),0)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(e){this._lastLineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=e,this._computer.setLineNumber(e),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),!!this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(e,t){this._renderDisposeables.clear();let i=document.createDocumentFragment();for(let n of t){let r=dQ("div.hover-row.markdown-hover"),s=J(r,dQ("div.hover-contents")),a=this._renderDisposeables.add(this._markdownRenderer.render(n.value));s.appendChild(a.element),i.appendChild(r)}this._updateContents(i),this._showAt(e)}};Xu.ID="editor.contrib.modesGlyphHoverWidget";xe();_t();Ge();yi();dt();var Kbe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},zT=function(o,e){return function(t,i){e(t,i,o)}},Qu=class uQ{constructor(e,t,i,n,r){this._editor=e,this._instantiationService=t,this._openerService=i,this._modeService=n,this._toUnhook=new Q,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(s=>{s.hasChanged(52)&&(this._unhookEvents(),this._hookEvents())}),this._hoverVisibleKey=A.hoverVisible.bindTo(r)}static get(e){return e.getContribution(uQ.ID)}_hookEvents(){let e=()=>this._hideWidgets(),t=this._editor.getOption(52);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(i=>this._onEditorMouseDown(i))),this._toUnhook.add(this._editor.onMouseUp(i=>this._onEditorMouseUp(i))),this._toUnhook.add(this._editor.onMouseMove(i=>this._onEditorMouseMove(i))),this._toUnhook.add(this._editor.onKeyDown(i=>this._onKeyDown(i))),this._toUnhook.add(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged()))):(this._toUnhook.add(this._editor.onMouseMove(i=>this._onEditorMouseMove(i))),this._toUnhook.add(this._editor.onKeyDown(i=>this._onKeyDown(i)))),this._toUnhook.add(this._editor.onMouseLeave(e)),this._toUnhook.add(this._editor.onDidChangeModel(e)),this._toUnhook.add(this._editor.onDidScrollChange(i=>this._onEditorScrollChanged(i)))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){var e,t;(e=this._contentWidget)===null||e===void 0||e.onModelDecorationsChanged(),(t=this._glyphWidget)===null||t===void 0||t.onModelDecorationsChanged()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){this._isMouseDown=!0;let t=e.target.type;if(t===9&&e.target.detail===Gu.ID){this._hoverClicked=!0;return}t===12&&e.target.detail===Xu.ID||(t!==12&&e.target.detail!==Xu.ID&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(e){this._isMouseDown=!1}_onEditorMouseMove(e){var t,i,n,r,s;let a=e.target.type;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&a===9&&e.target.detail===Gu.ID||this._isHoverSticky&&!((i=(t=e.event.browserEvent.view)===null||t===void 0?void 0:t.getSelection())===null||i===void 0?void 0:i.isCollapsed)||!this._isHoverSticky&&a===9&&e.target.detail===Gu.ID&&((n=this._contentWidget)===null||n===void 0?void 0:n.isColorPickerVisible())||this._isHoverSticky&&a===12&&e.target.detail===Xu.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(e)){(r=this._glyphWidget)===null||r===void 0||r.hide();return}if(a===2&&e.target.position){(s=this._contentWidget)===null||s===void 0||s.hide(),this._glyphWidget||(this._glyphWidget=new Xu(this._editor,this._modeService,this._openerService)),this._glyphWidget.startShowingAt(e.target.position.lineNumber);return}this._hideWidgets()}_onKeyDown(e){e.keyCode!==5&&e.keyCode!==6&&e.keyCode!==57&&e.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var e,t,i;this._isMouseDown&&this._hoverClicked&&((e=this._contentWidget)===null||e===void 0?void 0:e.isColorPickerVisible())||(this._hoverClicked=!1,(t=this._glyphWidget)===null||t===void 0||t.hide(),(i=this._contentWidget)===null||i===void 0||i.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(Gu,this._editor,this._hoverVisibleKey)),this._contentWidget}isColorPickerVisible(){var e;return((e=this._contentWidget)===null||e===void 0?void 0:e.isColorPickerVisible())||!1}showContentHover(e,t,i){this._getOrCreateContentWidget().startShowingAtRange(e,t,i)}dispose(){var e,t;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(e=this._glyphWidget)===null||e===void 0||e.dispose(),(t=this._contentWidget)===null||t===void 0||t.dispose()}};Qu.ID="editor.contrib.hover";Qu=Kbe([zT(1,Ve),zT(2,oo),zT(3,Pi),zT(4,Ce)],Qu);var fQ=class extends _e{constructor(){super({id:"editor.action.showHover",label:g({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:A.editorTextFocus,primary:Ji(2048|41,2048|39),weight:100}})}run(e,t){if(!t.hasModel())return;let i=Qu.get(t);if(!i)return;let n=t.getPosition(),r=new D(n.lineNumber,n.column,n.lineNumber,n.column),s=t.getOption(2)===2;i.showContentHover(r,1,s)}},gQ=class extends _e{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:g({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(e,t){let i=Qu.get(t);if(!i)return;let n=t.getPosition();if(!n)return;let r=new D(n.lineNumber,n.column,n.lineNumber,n.column);Wg.get(t).startFindDefinitionFromCursor(n).then(()=>{i.showContentHover(r,1,!0)})}};Qe(Qu.ID,Qu);le(fQ);le(gQ);gt((o,e)=>{let t=o.getColor(Zz);t&&e.addRule(`.monaco-editor .hoverHighlight { background-color: ${t}; }`);let i=o.getColor(au);i&&e.addRule(`.monaco-editor .monaco-hover { background-color: ${i}; }`);let n=o.getColor(ik);n&&(e.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${n}; }`),e.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${n.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${n.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${n.transparent(.5)}; }`));let r=o.getColor(Qf);r&&e.addRule(`.monaco-editor .monaco-hover a { color: ${r}; }`);let s=o.getColor(Jf);s&&e.addRule(`.monaco-editor .monaco-hover a:hover { color: ${s}; }`);let a=o.getColor(tk);a&&e.addRule(`.monaco-editor .monaco-hover { color: ${a}; }`);let l=o.getColor(Gz);l&&e.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${l}; }`);let c=o.getColor(zL);c&&e.addRule(`.monaco-editor .monaco-hover code { background-color: ${c}; }`)});var VT=class extends ${constructor(e){super();this._editor=e,this._register(e.onMouseDown(t=>this.onMouseDown(t)))}dispose(){super.dispose()}onMouseDown(e){var t;if(e.target.type!==6||![...((t=e.target.element)===null||t===void 0?void 0:t.classList.values())||[]].find(s=>s.startsWith("ced-colorBox"))||!e.target.range)return;let r=this._editor.getContribution(Qu.ID);if(!r.isColorPickerVisible()){let s=new D(e.target.range.startLineNumber,e.target.range.startColumn+1,e.target.range.endLineNumber,e.target.range.endColumn+1);r.showContentHover(s,0,!1)}}};VT.ID="editor.contrib.colorContribution";Qe(VT.ID,VT);Na();Dt();ve();Yi();Ml();ot();ve();ai();zo();var Qc=class{constructor(e,t){this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,i){if(i<0)return!1;let n=t.length,r=e.length;if(i+n>r)return!1;for(let s=0;s<n;s++){let a=e.charCodeAt(i+s),l=t.charCodeAt(s);if(a!==l&&!(a>=65&&a<=90&&a+32===l)&&!(l>=65&&l<=90&&l+32===a))return!1}return!0}_createOperationsForBlockComment(e,t,i,n,r,s){let a=e.startLineNumber,l=e.startColumn,c=e.endLineNumber,d=e.endColumn,h=r.getLineContent(a),u=r.getLineContent(c),f=h.lastIndexOf(t,l-1+t.length),p=u.indexOf(i,d-1-i.length);if(f!==-1&&p!==-1)if(a===c)h.substring(f+t.length,p).indexOf(i)>=0&&(f=-1,p=-1);else{let v=h.substring(f+t.length),y=u.substring(0,p);(v.indexOf(i)>=0||y.indexOf(i)>=0)&&(f=-1,p=-1)}let b;f!==-1&&p!==-1?(n&&f+t.length<h.length&&h.charCodeAt(f+t.length)===32&&(t=t+" "),n&&p>0&&u.charCodeAt(p-1)===32&&(i=" "+i,p-=1),b=Qc._createRemoveBlockCommentOperations(new D(a,f+t.length+1,c,p+1),t,i)):(b=Qc._createAddBlockCommentOperations(e,t,i,this._insertSpace),this._usedEndToken=b.length===1?i:null);for(let v of b)s.addTrackedEditOperation(v.range,v.text)}static _createRemoveBlockCommentOperations(e,t,i){let n=[];return D.isEmpty(e)?n.push(ui.delete(new D(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+i.length))):(n.push(ui.delete(new D(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),n.push(ui.delete(new D(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+i.length)))),n}static _createAddBlockCommentOperations(e,t,i,n){let r=[];return D.isEmpty(e)?r.push(ui.replace(new D(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+i)):(r.push(ui.insert(new H(e.startLineNumber,e.startColumn),t+(n?" ":""))),r.push(ui.insert(new H(e.endLineNumber,e.endColumn),(n?" ":"")+i))),r}getEditOperations(e,t){let i=this._selection.startLineNumber,n=this._selection.startColumn;e.tokenizeIfCheap(i);let r=e.getLanguageIdAtPosition(i,n),s=xt.getComments(r);!s||!s.blockCommentStartToken||!s.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,s.blockCommentStartToken,s.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){let i=t.getInverseEditOperations();if(i.length===2){let n=i[0],r=i[1];return new de(n.range.endLineNumber,n.range.endColumn,r.range.startLineNumber,r.range.startColumn)}else{let n=i[0].range,r=this._usedEndToken?-this._usedEndToken.length-1:0;return new de(n.endLineNumber,n.endColumn+r,n.endLineNumber,n.endColumn+r)}}};je();Ml();ot();ve();ai();zo();var Jc=class{constructor(e,t,i,n,r,s){this._selection=e,this._tabSize=t,this._type=i,this._insertSpace=n,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=r,this._ignoreFirstLine=s||!1}static _gatherPreflightCommentStrings(e,t,i){e.tokenizeIfCheap(t);let n=e.getLanguageIdAtPosition(t,1),r=xt.getComments(n),s=r?r.lineCommentToken:null;if(!s)return null;let a=[];for(let l=0,c=i-t+1;l<c;l++)a[l]={ignore:!1,commentStr:s,commentStrOffset:0,commentStrLength:s.length};return a}static _analyzeLines(e,t,i,n,r,s,a){let l=!0,c;e===0?c=!0:e===1?c=!1:c=!0;for(let d=0,h=n.length;d<h;d++){let u=n[d],f=r+d;if(f===r&&a){u.ignore=!0;continue}let p=i.getLineContent(f),b=wn(p);if(b===-1){u.ignore=s,u.commentStrOffset=p.length;continue}if(l=!1,u.ignore=!1,u.commentStrOffset=b,c&&!Qc._haystackHasNeedleAtOffset(p,u.commentStr,b)&&(e===0?c=!1:e===1||(u.ignore=!0)),c&&t){let v=b+u.commentStrLength;v<p.length&&p.charCodeAt(v)===32&&(u.commentStrLength+=1)}}if(e===0&&l){c=!1;for(let d=0,h=n.length;d<h;d++)n[d].ignore=!1}return{supported:!0,shouldRemoveComments:c,lines:n}}static _gatherPreflightData(e,t,i,n,r,s,a){let l=Jc._gatherPreflightCommentStrings(i,n,r);return l===null?{supported:!1}:Jc._analyzeLines(e,t,i,l,n,s,a)}_executeLineComments(e,t,i,n){let r;i.shouldRemoveComments?r=Jc._createRemoveLineCommentsOperations(i.lines,n.startLineNumber):(Jc._normalizeInsertionPoint(e,i.lines,n.startLineNumber,this._tabSize),r=this._createAddLineCommentsOperations(i.lines,n.startLineNumber));let s=new H(n.positionLineNumber,n.positionColumn);for(let a=0,l=r.length;a<l;a++)t.addEditOperation(r[a].range,r[a].text),D.isEmpty(r[a].range)&&D.getStartPosition(r[a].range).equals(s)&&e.getLineContent(s.lineNumber).length+1===s.column&&(this._deltaColumn=(r[a].text||"").length);this._selectionId=t.trackSelection(n)}_attemptRemoveBlockComment(e,t,i,n){let r=t.startLineNumber,s=t.endLineNumber,a=n.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),l=e.getLineContent(r).lastIndexOf(i,a-1),c=e.getLineContent(s).indexOf(n,t.endColumn-1-i.length);return l!==-1&&c===-1&&(c=e.getLineContent(r).indexOf(n,l+i.length),s=r),l===-1&&c!==-1&&(l=e.getLineContent(s).lastIndexOf(i,c),r=s),t.isEmpty()&&(l===-1||c===-1)&&(l=e.getLineContent(r).indexOf(i),l!==-1&&(c=e.getLineContent(r).indexOf(n,l+i.length))),l!==-1&&e.getLineContent(r).charCodeAt(l+i.length)===32&&(i+=" "),c!==-1&&e.getLineContent(s).charCodeAt(c-1)===32&&(n=" "+n,c-=1),l!==-1&&c!==-1?Qc._createRemoveBlockCommentOperations(new D(r,l+i.length+1,s,c+1),i,n):null}_executeBlockComment(e,t,i){e.tokenizeIfCheap(i.startLineNumber);let n=e.getLanguageIdAtPosition(i.startLineNumber,1),r=xt.getComments(n);if(!r||!r.blockCommentStartToken||!r.blockCommentEndToken)return;let s=r.blockCommentStartToken,a=r.blockCommentEndToken,l=this._attemptRemoveBlockComment(e,i,s,a);if(!l){if(i.isEmpty()){let c=e.getLineContent(i.startLineNumber),d=wn(c);d===-1&&(d=c.length),l=Qc._createAddBlockCommentOperations(new D(i.startLineNumber,d+1,i.startLineNumber,c.length+1),s,a,this._insertSpace)}else l=Qc._createAddBlockCommentOperations(new D(i.startLineNumber,e.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),s,a,this._insertSpace);l.length===1&&(this._deltaColumn=s.length+1)}this._selectionId=t.trackSelection(i);for(let c of l)t.addEditOperation(c.range,c.text)}getEditOperations(e,t){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine){t.addEditOperation(new D(i.startLineNumber,e.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===e.getLineCount()?"":`
`),this._selectionId=t.trackSelection(i);return}i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));let n=Jc._gatherPreflightData(this._type,this._insertSpace,e,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return n.supported?this._executeLineComments(e,t,n,i):this._executeBlockComment(e,t,i)}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new de(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){let i=[];for(let n=0,r=e.length;n<r;n++){let s=e[n];s.ignore||i.push(ui.delete(new D(t+n,s.commentStrOffset+1,t+n,s.commentStrOffset+s.commentStrLength+1)))}return i}_createAddLineCommentsOperations(e,t){let i=[],n=this._insertSpace?" ":"";for(let r=0,s=e.length;r<s;r++){let a=e[r];a.ignore||i.push(ui.insert(new H(t+r,a.commentStrOffset+1),a.commentStr+n))}return i}static nextVisibleColumn(e,t,i,n){return i?e+(t-e%t):e+n}static _normalizeInsertionPoint(e,t,i,n){let r=1073741824,s,a;for(let l=0,c=t.length;l<c;l++){if(t[l].ignore)continue;let d=e.getLineContent(i+l),h=0;for(let u=0,f=t[l].commentStrOffset;h<r&&u<f;u++)h=Jc.nextVisibleColumn(h,n,d.charCodeAt(u)===9,1);h<r&&(r=h)}r=Math.floor(r/n)*n;for(let l=0,c=t.length;l<c;l++){if(t[l].ignore)continue;let d=e.getLineContent(i+l),h=0;for(s=0,a=t[l].commentStrOffset;h<r&&s<a;s++)h=Jc.nextVisibleColumn(h,n,d.charCodeAt(s)===9,1);h>r?t[l].commentStrOffset=s-1:t[l].commentStrOffset=s}}};xe();No();var HT=class extends _e{constructor(e,t){super(t);this._type=e}run(e,t){if(!t.hasModel())return;let i=t.getModel(),n=[],r=i.getOptions(),s=t.getOption(19),a=t.getSelections().map((c,d)=>({selection:c,index:d,ignoreFirstLine:!1}));a.sort((c,d)=>D.compareRangesUsingStarts(c.selection,d.selection));let l=a[0];for(let c=1;c<a.length;c++){let d=a[c];l.selection.endLineNumber===d.selection.startLineNumber&&(l.index<d.index?d.ignoreFirstLine=!0:(l.ignoreFirstLine=!0,l=d))}for(let c of a)n.push(new Jc(c.selection,r.tabSize,this._type,s.insertSpace,s.ignoreEmptyLines,c.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}},mQ=class extends HT{constructor(){super(0,{id:"editor.action.commentLine",label:g("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:A.writable,kbOpts:{kbExpr:A.editorTextFocus,primary:2048|85,weight:100},menuOpts:{menuId:De.MenubarEditMenu,group:"5_insert",title:g({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}},pQ=class extends HT{constructor(){super(1,{id:"editor.action.addCommentLine",label:g("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:A.writable,kbOpts:{kbExpr:A.editorTextFocus,primary:Ji(2048|41,2048|33),weight:100}})}},_Q=class extends HT{constructor(){super(2,{id:"editor.action.removeCommentLine",label:g("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:A.writable,kbOpts:{kbExpr:A.editorTextFocus,primary:Ji(2048|41,2048|51),weight:100}})}},bQ=class extends _e{constructor(){super({id:"editor.action.blockComment",label:g("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:A.writable,kbOpts:{kbExpr:A.editorTextFocus,primary:1024|512|31,linux:{primary:2048|1024|31},weight:100},menuOpts:{menuId:De.MenubarEditMenu,group:"5_insert",title:g({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(e,t){if(!t.hasModel())return;let i=t.getOption(19),n=[],r=t.getSelections();for(let s of r)n.push(new Qc(s,i.insertSpace));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}};le(mQ);le(pQ);le(_Q);le(bQ);Me();cs();ne();wt();Dt();Yi();xe();No();_t();var Ybe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},JS=function(o,e){return function(t,i){e(t,i,o)}},cC=class vQ{constructor(e,t,i,n,r,s){this._contextMenuService=t,this._contextViewService=i,this._contextKeyService=n,this._keybindingService=r,this._menuService=s,this._toDispose=new Q,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu(a=>this._onContextMenu(a))),this._toDispose.add(this._editor.onMouseWheel(a=>{if(this._contextMenuIsBeingShownCount>0){let l=this._contextViewService.getContextViewElement(),c=a.srcElement;c.shadowRoot&&Ma(l)===c.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(a=>{a.keyCode===58&&(a.preventDefault(),a.stopPropagation(),this.showContextMenu())}))}static get(e){return e.getContribution(vQ.ID)}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(20)){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);return}if(e.target.type===12||(e.event.preventDefault(),e.event.stopPropagation(),e.target.type!==6&&e.target.type!==7&&e.target.type!==1))return;if(this._editor.focus(),e.target.position){let i=!1;for(let n of this._editor.getSelections())if(n.containsPosition(e.target.position)){i=!0;break}i||this._editor.setPosition(e.target.position)}let t=null;e.target.type!==1&&(t={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(t)}showContextMenu(e){if(!this._editor.getOption(20)||!this._editor.hasModel())return;if(!this._contextMenuService){this._editor.focus();return}let t=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?De.SimpleEditorContext:De.EditorContext);t.length>0&&this._doShowContextMenu(t,e)}_getMenuActions(e,t){let i=[],n=this._menuService.createMenu(t,this._contextKeyService),r=n.getActions({arg:e.uri});n.dispose();for(let s of r){let[,a]=s,l=0;for(let c of a)if(c instanceof fp){let d=this._getMenuActions(e,c.item.submenu);d.length>0&&(i.push(new iu(c.id,c.label,d)),l++)}else i.push(c),l++;l&&i.push(new fr)}return i.length&&i.pop(),i}_doShowContextMenu(e,t=null){if(!this._editor.hasModel())return;let i=this._editor.getOption(52);if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();let r=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),s=Gi(this._editor.getDomNode()),a=s.left+r.left,l=s.top+r.top+r.height;t={x:a,y:l}}let n=this._editor.getOption(114)&&!Fr;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:n?this._editor.getDomNode():void 0,getAnchor:()=>t,getActions:()=>e,getActionViewItem:r=>{let s=this._keybindingFor(r);if(s)return new Qd(r,r,{label:!0,keybinding:s.getLabel(),isMenu:!0});let a=r;return typeof a.getActionViewItem=="function"?a.getActionViewItem():new Qd(r,r,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:r=>this._keybindingFor(r),onHide:r=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:i})}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};cC.ID="editor.contrib.contextmenu";cC=Ybe([JS(1,Vs),JS(2,pa),JS(3,Ce),JS(4,oi),JS(5,da)],cC);var wQ=class extends _e{constructor(){super({id:"editor.action.showContextMenu",label:g("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:A.textInputFocus,primary:1024|68,weight:100}})}run(e,t){cC.get(t).showContextMenu()}};Qe(cC.ID,cC);le(wQ);ne();Dt();Yi();xe();var $T=class{constructor(e){this.selections=e}equals(e){let t=this.selections.length,i=e.selections.length;if(t!==i)return!1;for(let n=0;n<t;n++)if(!this.selections[n].equalsSelection(e.selections[n]))return!1;return!0}},KT=class{constructor(e,t,i){this.cursorState=e,this.scrollTop=t,this.scrollLeft=i}},$g=class extends ${constructor(e){super();this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeModelContent(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeCursorSelection(t=>{if(this._isCursorUndoRedo||!t.oldSelections||t.oldModelVersionId!==t.modelVersionId)return;let i=new $T(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(i)||(this._undoStack.push(new KT(i,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(e){return e.getContribution($g.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new KT(new $T(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new KT(new $T(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}};$g.ID="editor.contrib.cursorUndoRedoController";var CQ=class extends _e{constructor(){super({id:"cursorUndo",label:g("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:A.textInputFocus,primary:2048|51,weight:100}})}run(e,t,i){$g.get(t).cursorUndo()}},yQ=class extends _e{constructor(){super({id:"cursorRedo",label:g("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(e,t,i){$g.get(t).cursorRedo()}};Qe($g.ID,$g);le(CQ);le(yQ);ne();wt();Dt();ot();ve();ai();Wn();ve();ai();var K8=class{constructor(e,t,i){this.selection=e,this.targetPosition=t,this.copy=i,this.targetSelection=null}getEditOperations(e,t){let i=e.getValueInRange(this.selection);if(this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new D(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new de(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new de(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new de(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new de(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new de(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(e,t){return this.targetSelection}};function dC(o){return Xe?o.altKey:o.ctrlKey}var ph=class extends ${constructor(e){super();this._editor=e,this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(t))),this._register(this._editor.onMouseDrag(t=>this._onEditorMouseDrag(t))),this._register(this._editor.onMouseDrop(t=>this._onEditorMouseDrop(t))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(t=>this.onEditorKeyDown(t))),this._register(this._editor.onKeyUp(t=>this.onEditorKeyUp(t))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){!this._editor.getOption(31)||this._editor.getOption(18)||(dC(e)&&(this._modifierPressed=!0),this._mouseDown&&dC(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){!this._editor.getOption(31)||this._editor.getOption(18)||(dC(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===ph.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){let t=e.target;if(this._dragSelection===null){let n=(this._editor.getSelections()||[]).filter(r=>t.position&&r.containsPosition(t.position));if(n.length===1)this._dragSelection=n[0];else return}dC(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){let t=new H(e.target.position.lineNumber,e.target.position.column);if(this._dragSelection===null){let i=null;if(e.event.shiftKey){let n=this._editor.getSelection();if(n){let{selectionStartLineNumber:r,selectionStartColumn:s}=n;i=[new de(r,s,t.lineNumber,t.column)]}}else i=(this._editor.getSelections()||[]).map(n=>n.containsPosition(t)?new de(t.lineNumber,t.column,t.lineNumber,t.column):n);this._editor.setSelections(i||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(dC(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(ph.ID,new K8(this._dragSelection,t,dC(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){let t=[{range:new D(e.lineNumber,e.column,e.lineNumber,e.column),options:ph._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,t),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(e){return e.type===6||e.type===7}_hitMargin(e){return e.type===2||e.type===3||e.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}};ph.ID="editor.contrib.dragAndDrop";ph.TRIGGER_KEY_VALUE=Xe?6:5;ph._DECORATION_OPTIONS=Ze.register({description:"dnd-target",className:"dnd-target"});Qe(ph.ID,ph);tt();ne();je();Dt();Yi();Ut();tt();ne();ot();ve();ai();K0();ve();Os();Wn();yi();dt();var Yo=class{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){let e=this._findScopeDecorationIds.map(t=>this._editor.getModel().getDecorationRange(t)).filter(t=>!!t);if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){let t=this._decorations.indexOf(e);return t>=0?t+1:1}getCurrentMatchesPosition(e){let t=this._editor.getModel().getDecorationsInRange(e);for(let i of t){let n=i.options;if(n===Yo._FIND_MATCH_DECORATION||n===Yo._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(i.id)}return 0}setCurrentFindMatch(e){let t=null,i=0;if(e)for(let n=0,r=this._decorations.length;n<r;n++){let s=this._editor.getModel().getDecorationRange(this._decorations[n]);if(e.equalsRange(s)){t=this._decorations[n],i=n+1;break}}return(this._highlightedDecorationId!==null||t!==null)&&this._editor.changeDecorations(n=>{if(this._highlightedDecorationId!==null&&(n.changeDecorationOptions(this._highlightedDecorationId,Yo._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),t!==null&&(this._highlightedDecorationId=t,n.changeDecorationOptions(this._highlightedDecorationId,Yo._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(n.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),t!==null){let r=this._editor.getModel().getDecorationRange(t);if(r.startLineNumber!==r.endLineNumber&&r.endColumn===1){let s=r.endLineNumber-1,a=this._editor.getModel().getLineMaxColumn(s);r=new D(r.startLineNumber,r.startColumn,s,a)}this._rangeHighlightDecorationId=n.addDecoration(r,Yo._RANGE_HIGHLIGHT_DECORATION)}}),i}set(e,t){this._editor.changeDecorations(i=>{let n=Yo._FIND_MATCH_DECORATION,r=[];if(e.length>1e3){n=Yo._FIND_MATCH_NO_OVERVIEW_DECORATION;let a=this._editor.getModel().getLineCount(),c=this._editor.getLayoutInfo().height/a,d=Math.max(2,Math.ceil(3/c)),h=e[0].range.startLineNumber,u=e[0].range.endLineNumber;for(let f=1,p=e.length;f<p;f++){let b=e[f].range;u+d>=b.startLineNumber?b.endLineNumber>u&&(u=b.endLineNumber):(r.push({range:new D(h,1,u,1),options:Yo._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),h=b.startLineNumber,u=b.endLineNumber)}r.push({range:new D(h,1,u,1),options:Yo._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let s=new Array(e.length);for(let a=0,l=e.length;a<l;a++)s[a]={range:e[a].range,options:n};this._decorations=i.deltaDecorations(this._decorations,s),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,r),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(a=>i.removeDecoration(a)),this._findScopeDecorationIds=[]),(t==null?void 0:t.length)&&(this._findScopeDecorationIds=t.map(a=>i.addDecoration(a,Yo._FIND_SCOPE_DECORATION)))})}matchBeforePosition(e){if(this._decorations.length===0)return null;for(let t=this._decorations.length-1;t>=0;t--){let i=this._decorations[t],n=this._editor.getModel().getDecorationRange(i);if(!(!n||n.endLineNumber>e.lineNumber)){if(n.endLineNumber<e.lineNumber)return n;if(!(n.endColumn>e.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(this._decorations.length===0)return null;for(let t=0,i=this._decorations.length;t<i;t++){let n=this._decorations[t],r=this._editor.getModel().getDecorationRange(n);if(!(!r||r.startLineNumber<e.lineNumber)){if(r.startLineNumber>e.lineNumber)return r;if(!(r.startColumn<e.column))return r}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}};Yo._CURRENT_FIND_MATCH_DECORATION=Ze.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:Ii(kv),position:Oo.Center},minimap:{color:Ii(ig),position:To.Inline}});Yo._FIND_MATCH_DECORATION=Ze.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:Ii(kv),position:Oo.Center},minimap:{color:Ii(ig),position:To.Inline}});Yo._FIND_MATCH_NO_OVERVIEW_DECORATION=Ze.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0});Yo._FIND_MATCH_ONLY_OVERVIEW_DECORATION=Ze.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:Ii(kv),position:Oo.Center}});Yo._RANGE_HIGHLIGHT_DECORATION=Ze.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0});Yo._FIND_SCOPE_DECORATION=Ze.register({description:"find-scope",className:"findScope",isWholeLine:!0});ve();var Y8=class{constructor(e,t,i){this._editorSelection=e,this._ranges=t,this._replaceStrings=i,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){let i=[];for(let s=0;s<this._ranges.length;s++)i.push({range:this._ranges[s],text:this._replaceStrings[s]});i.sort((s,a)=>D.compareRangesUsingStarts(s.range,a.range));let n=[],r=i[0];for(let s=1;s<i.length;s++)r.range.endLineNumber===i[s].range.startLineNumber&&r.range.endColumn===i[s].range.startColumn?(r.range=r.range.plusRange(i[s].range),r.text=r.text+i[s].text):(n.push(r),r=i[s]);n.push(r);for(let s of n)t.addEditOperation(s.range,s.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}};je();function q8(o,e){if(o&&o[0]!==""){let t=SQ(o,e,"-"),i=SQ(o,e,"_");return t&&!i?EQ(o,e,"-"):!t&&i?EQ(o,e,"_"):o[0].toUpperCase()===o[0]?e.toUpperCase():o[0].toLowerCase()===o[0]?e.toLowerCase():D6(o[0][0])&&e.length>0?e[0].toUpperCase()+e.substr(1):o[0][0].toUpperCase()!==o[0][0]&&e.length>0?e[0].toLowerCase()+e.substr(1):e}else return e}function SQ(o,e,t){return o[0].indexOf(t)!==-1&&e.indexOf(t)!==-1&&o[0].split(t).length===e.split(t).length}function EQ(o,e,t){let i=e.split(t),n=o[0].split(t),r="";return i.forEach((s,a)=>{r+=q8([n[a]],s)+t}),r.slice(0,-1)}var Z8=class{constructor(e){this.staticValue=e,this.kind=0}},xQ=class{constructor(e){this.pieces=e,this.kind=1}},Kg=class{constructor(e){!e||e.length===0?this._state=new Z8(""):e.length===1&&e[0].staticValue!==null?this._state=new Z8(e[0].staticValue):this._state=new xQ(e)}static fromStaticValue(e){return new Kg([Yg.staticValue(e)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(e,t){if(this._state.kind===0)return t?q8(e,this._state.staticValue):this._state.staticValue;let i="";for(let n=0,r=this._state.pieces.length;n<r;n++){let s=this._state.pieces[n];if(s.staticValue!==null){i+=s.staticValue;continue}let a=Kg._substitute(s.matchIndex,e);if(s.caseOps!==null&&s.caseOps.length>0){let l=[],c=s.caseOps.length,d=0;for(let h=0,u=a.length;h<u;h++){if(d>=c){l.push(a.slice(h));break}switch(s.caseOps[d]){case"U":l.push(a[h].toUpperCase());break;case"u":l.push(a[h].toUpperCase()),d++;break;case"L":l.push(a[h].toLowerCase());break;case"l":l.push(a[h].toLowerCase()),d++;break;default:l.push(a[h])}}a=l.join("")}i+=a}return i}static _substitute(e,t){if(t===null)return"";if(e===0)return t[0];let i="";for(;e>0;){if(e<t.length)return(t[e]||"")+i;i=String(e%10)+i,e=Math.floor(e/10)}return"$"+i}},Yg=class{constructor(e,t,i){this.staticValue=e,this.matchIndex=t,!i||i.length===0?this.caseOps=null:this.caseOps=i.slice(0)}static staticValue(e){return new Yg(e,-1,null)}static caseOps(e,t){return new Yg(null,e,t)}},DQ=class{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){e.length!==0&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,i){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=Yg.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=Yg.caseOps(e,i),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=Yg.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new Kg(this._result)}};function LQ(o){if(!o||o.length===0)return new Kg(null);let e=[],t=new DQ(o);for(let i=0,n=o.length;i<n;i++){let r=o.charCodeAt(i);if(r===92){if(i++,i>=n)break;let s=o.charCodeAt(i);switch(s){case 92:t.emitUnchanged(i-1),t.emitStatic("\\",i+1);break;case 110:t.emitUnchanged(i-1),t.emitStatic(`
`,i+1);break;case 116:t.emitUnchanged(i-1),t.emitStatic("	",i+1);break;case 117:case 85:case 108:case 76:t.emitUnchanged(i-1),t.emitStatic("",i+1),e.push(String.fromCharCode(s));break}continue}if(r===36){if(i++,i>=n)break;let s=o.charCodeAt(i);if(s===36){t.emitUnchanged(i-1),t.emitStatic("$",i+1);continue}if(s===48||s===38){t.emitUnchanged(i-1),t.emitMatchIndex(0,i+1,e),e.length=0;continue}if(49<=s&&s<=57){let a=s-48;if(i+1<n){let l=o.charCodeAt(i+1);if(48<=l&&l<=57){i++,a=a*10+(l-48),t.emitUnchanged(i-2),t.emitMatchIndex(a,i+1,e),e.length=0;continue}}t.emitUnchanged(i-1),t.emitMatchIndex(a,i+1,e),e.length=0;continue}}}return t.finalize()}_t();var Ju=new be("findWidgetVisible",!1),nDt=Ju.toNegated(),hC=new be("findInputFocussed",!1),eE=new be("replaceInputFocussed",!1),tE={primary:512|33,mac:{primary:2048|512|33}},iE={primary:512|53,mac:{primary:2048|512|53}},nE={primary:512|48,mac:{primary:2048|512|48}},oE={primary:512|42,mac:{primary:2048|512|42}},rE={primary:512|46,mac:{primary:2048|512|46}},Ti={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},_h=19999,qbe=240,I_=class{constructor(e,t){this._toDispose=new Q,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new Fi,this._decorations=new Yo(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new bt(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(i=>{(i.reason===3||i.reason===5||i.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(i=>{this._ignoreModelContentChanged||(i.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(i=>this._onStateChanged(i))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,ct(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){this._isDisposed||!this._editor.hasModel()||(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)},qbe)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let i=null;typeof t!="undefined"?t!==null&&(Array.isArray(t)?i=t:i=[t]):i=this._decorations.getFindScopes(),i!==null&&(i=i.map(a=>{if(a.startLineNumber!==a.endLineNumber){let l=a.endLineNumber;return a.endColumn===1&&(l=l-1),new D(a.startLineNumber,1,l,this._editor.getModel().getLineMaxColumn(l))}return a}));let n=this._findMatches(i,!1,_h);this._decorations.set(n,i);let r=this._editor.getSelection(),s=this._decorations.getCurrentMatchesPosition(r);if(s===0&&n.length>0){let a=ux(n.map(l=>l.range),l=>D.compareRangesUsingStarts(l,r)>=0);s=a>0?a-1+1:s}this._state.changeMatchInfo(s,this._decorations.getCount(),void 0),e&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){let t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:n}=e,r=this._editor.getModel();return t||n===1?(i===1?i=r.getLineCount():i--,n=r.getLineMaxColumn(i)):n--,new H(i,n)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){let d=this._decorations.matchAfterPosition(e);d&&this._setCurrentFindMatch(d);return}if(this._decorations.getCount()<_h){let d=this._decorations.matchBeforePosition(e);d&&d.isEmpty()&&d.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),d=this._decorations.matchBeforePosition(e)),d&&this._setCurrentFindMatch(d);return}if(this._cannotFind())return;let i=this._decorations.getFindScope(),n=I_._getSearchRange(this._editor.getModel(),i);n.getEndPosition().isBefore(e)&&(e=n.getEndPosition()),e.isBefore(n.getStartPosition())&&(e=n.getEndPosition());let{lineNumber:r,column:s}=e,a=this._editor.getModel(),l=new H(r,s),c=a.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,!1);if(c&&c.range.isEmpty()&&c.range.getStartPosition().equals(l)&&(l=this._prevSearchPosition(l),c=a.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,!1)),!!c){if(!t&&!n.containsRange(c.range))return this._moveToPrevMatch(c.range.getStartPosition(),!0);this._setCurrentFindMatch(c.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:n}=e,r=this._editor.getModel();return t||n===r.getLineMaxColumn(i)?(i===r.getLineCount()?i=1:i++,n=1):n++,new H(i,n)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){let i=this._decorations.matchBeforePosition(e);i&&this._setCurrentFindMatch(i);return}if(this._decorations.getCount()<_h){let i=this._decorations.matchAfterPosition(e);i&&i.isEmpty()&&i.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),i=this._decorations.matchAfterPosition(e)),i&&this._setCurrentFindMatch(i);return}let t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,i,n=!1){if(this._cannotFind())return null;let r=this._decorations.getFindScope(),s=I_._getSearchRange(this._editor.getModel(),r);s.getEndPosition().isBefore(e)&&(e=s.getStartPosition()),e.isBefore(s.getStartPosition())&&(e=s.getStartPosition());let{lineNumber:a,column:l}=e,c=this._editor.getModel(),d=new H(a,l),h=c.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,t);return i&&h&&h.range.isEmpty()&&h.range.getStartPosition().equals(d)&&(d=this._nextSearchPosition(d),h=c.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,t)),h?!n&&!s.containsRange(h.range)?this._getNextMatch(h.range.getEndPosition(),t,i,!0):h:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?LQ(this._state.replaceString):Kg.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let e=this._getReplacePattern(),t=this._editor.getSelection(),i=this._getNextMatch(t.getStartPosition(),!0,!1);if(i)if(t.equalsRange(i.range)){let n=e.buildReplaceString(i.matches,this._state.preserveCase),r=new Dn(t,n);this._executeEditorCommand("replace",r),this._decorations.setStartPosition(new H(t.startLineNumber,t.startColumn+n.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}_findMatches(e,t,i){let n=(e||[null]).map(r=>I_._getSearchRange(this._editor.getModel(),r));return this._editor.getModel().findMatches(this._state.searchString,n,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,t,i)}replaceAll(){if(!this._hasMatches())return;let e=this._decorations.getFindScopes();e===null&&this._state.matchesCount>=_h?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){let t=new Od(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null).parseSearchRequest();if(!t)return;let i=t.regex;if(!i.multiline){let h="mu";i.ignoreCase&&(h+="i"),i.global&&(h+="g"),i=new RegExp(i.source,h)}let n=this._editor.getModel(),r=n.getValue(1),s=n.getFullModelRange(),a=this._getReplacePattern(),l,c=this._state.preserveCase;a.hasReplacementPatterns||c?l=r.replace(i,function(){return a.buildReplaceString(arguments,c)}):l=r.replace(i,a.buildReplaceString(null,c));let d=new Dp(s,l,this._editor.getSelection());this._executeEditorCommand("replaceAll",d)}_regularReplaceAll(e){let t=this._getReplacePattern(),i=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),n=[];for(let s=0,a=i.length;s<a;s++)n[s]=t.buildReplaceString(i[s].matches,this._state.preserveCase);let r=new Y8(this._editor.getSelection(),i.map(s=>s.range),n);this._executeEditorCommand("replaceAll",r)}selectAllMatches(){if(!this._hasMatches())return;let e=this._decorations.getFindScopes(),i=this._findMatches(e,!1,1073741824).map(r=>new de(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn)),n=this._editor.getSelection();for(let r=0,s=i.length;r<s;r++)if(i[r].equalsRange(n)){i=[n].concat(i.slice(0,r)).concat(i.slice(r+1));break}this._editor.setSelections(i)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}};Me();en();Yn();Se();var Zbe={inputActiveOptionBorder:Z.fromHex("#007ACC00"),inputActiveOptionForeground:Z.fromHex("#FFFFFF"),inputActiveOptionBackground:Z.fromHex("#0E639C50")},ef=class extends Nn{constructor(e){super();this._onChange=this._register(new F),this.onChange=this._onChange.event,this._onKeyDown=this._register(new F),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},Zbe),e),this._checked=this._opts.isChecked;let t=["monaco-custom-checkbox"];this._opts.icon&&t.push(...Co.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,i=>{this.checked=!this._checked,this._onChange.fire(!1),i.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,i=>{if(i.keyCode===10||i.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),i.preventDefault();return}this._onKeyDown.fire(i)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(e){e.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=e.inputActiveOptionBorder),e.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=e.inputActiveOptionForeground),e.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=e.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}};en();xe();var Gbe=g("caseDescription","Match Case"),Xbe=g("wordsDescription","Match Whole Word"),Qbe=g("regexDescription","Use Regular Expression"),sE=class extends ef{constructor(e){super({icon:z.caseSensitive,title:Gbe+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},aE=class extends ef{constructor(e){super({icon:z.wholeWord,title:Xbe+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},lE=class extends ef{constructor(e){super({icon:z.regex,title:Qbe+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}};tt();yi();dt();var uC=class extends Nn{constructor(e,t,i,n){super();this._hideSoon=this._register(new bt(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");let r=n.getColorTheme().getColor(v1),s=n.getColorTheme().getColor(C1),a=n.getColorTheme().getColor(w1);this.caseSensitive=this._register(new sE({appendTitle:this._keybindingLabelFor(Ti.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:r,inputActiveOptionForeground:s,inputActiveOptionBackground:a})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new aE({appendTitle:this._keybindingLabelFor(Ti.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:r,inputActiveOptionForeground:s,inputActiveOptionBackground:a})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new lE({appendTitle:this._keybindingLabelFor(Ti.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:r,inputActiveOptionForeground:s,inputActiveOptionBackground:a})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(l=>{let c=!1;l.isRegex&&(this.regex.checked=this._state.isRegex,c=!0),l.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,c=!0),l.matchCase&&(this.caseSensitive.checked=this._state.matchCase,c=!0),!this._state.isRevealed&&c&&this._revealTemporarily()})),this._register(Db(this._domNode,l=>this._onMouseOut())),this._register(oe(this._domNode,"mouseover",l=>this._onMouseOver())),this._applyTheme(n.getColorTheme()),this._register(n.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return uC.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(v1),inputActiveOptionForeground:e.getColor(C1),inputActiveOptionBackground:e.getColor(w1)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)}};uC.ID="editor.contrib.findOptionsWidget";gt((o,e)=>{let t=o.getColor($o);t&&e.addRule(`.monaco-editor .findOptionsWidget { background-color: ${t}; }`);let i=o.getColor(Ad);i&&e.addRule(`.monaco-editor .findOptionsWidget { color: ${i}; }`);let n=o.getColor(Wl);n&&e.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${n}; }`);let r=o.getColor(Oi);r&&e.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${r}; }`)});Se();ne();ve();function YT(o,e){return o===1?!0:o===2?!1:e}var G8=class extends ${constructor(){super();this._onFindReplaceStateChange=this._register(new F),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return YT(this._isRegexOverride,this._isRegex)}get wholeWord(){return YT(this._wholeWordOverride,this._wholeWord)}get matchCase(){return YT(this._matchCaseOverride,this._matchCase)}get preserveCase(){return YT(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(e,t,i){let n={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},r=!1;t===0&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,n.matchesPosition=!0,r=!0),this._matchesCount!==t&&(this._matchesCount=t,n.matchesCount=!0,r=!0),typeof i!="undefined"&&(D.equalsRange(this._currentMatch,i)||(this._currentMatch=i,n.currentMatch=!0,r=!0)),r&&this._onFindReplaceStateChange.fire(n)}change(e,t,i=!0){var n;let r={moveCursor:t,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},s=!1,a=this.isRegex,l=this.wholeWord,c=this.matchCase,d=this.preserveCase;typeof e.searchString!="undefined"&&this._searchString!==e.searchString&&(this._searchString=e.searchString,r.searchString=!0,s=!0),typeof e.replaceString!="undefined"&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,r.replaceString=!0,s=!0),typeof e.isRevealed!="undefined"&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,r.isRevealed=!0,s=!0),typeof e.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,r.isReplaceRevealed=!0,s=!0),typeof e.isRegex!="undefined"&&(this._isRegex=e.isRegex),typeof e.wholeWord!="undefined"&&(this._wholeWord=e.wholeWord),typeof e.matchCase!="undefined"&&(this._matchCase=e.matchCase),typeof e.preserveCase!="undefined"&&(this._preserveCase=e.preserveCase),typeof e.searchScope!="undefined"&&(((n=e.searchScope)===null||n===void 0?void 0:n.every(h=>{var u;return(u=this._searchScope)===null||u===void 0?void 0:u.some(f=>!D.equalsRange(f,h))}))||(this._searchScope=e.searchScope,r.searchScope=!0,s=!0)),typeof e.loop!="undefined"&&this._loop!==e.loop&&(this._loop=e.loop,r.loop=!0,s=!0),this._isRegexOverride=typeof e.isRegexOverride!="undefined"?e.isRegexOverride:0,this._wholeWordOverride=typeof e.wholeWordOverride!="undefined"?e.wholeWordOverride:0,this._matchCaseOverride=typeof e.matchCaseOverride!="undefined"?e.matchCaseOverride:0,this._preserveCaseOverride=typeof e.preserveCaseOverride!="undefined"?e.preserveCaseOverride:0,a!==this.isRegex&&(s=!0,r.isRegex=!0),l!==this.wholeWord&&(s=!0,r.wholeWord=!0),c!==this.matchCase&&(s=!0,r.matchCase=!0),d!==this.preserveCase&&(s=!0,r.preserveCase=!0),s&&this._onFindReplaceStateChange.fire(r)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=_h}};Me();ls();tt();en();st();ne();wt();je();ve();xe();Me();Se();xe();var Jbe=g("defaultLabel","input"),X8=class extends Nn{constructor(e,t,i,n){super();this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new F),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new F),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new F),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new F),this._onKeyUp=this._register(new F),this._onCaseSensitiveKeyDown=this._register(new F),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new F),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=t,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||Jbe,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;let r=n.appendCaseSensitiveLabel||"",s=n.appendWholeWordsLabel||"",a=n.appendRegexLabel||"",l=n.history||[],c=!!n.flexibleHeight,d=!!n.flexibleWidth,h=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new oS(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:l,showHistoryHint:n.showHistoryHint,flexibleHeight:c,flexibleWidth:d,flexibleMaxHeight:h})),this.regex=this._register(new lE({appendTitle:a,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(p=>{this._onDidOptionChange.fire(p),!p&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(p=>{this._onRegexKeyDown.fire(p)})),this.wholeWords=this._register(new aE({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(p=>{this._onDidOptionChange.fire(p),!p&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new sE({appendTitle:r,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(p=>{this._onDidOptionChange.fire(p),!p&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(p=>{this._onCaseSensitiveKeyDown.fire(p)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let u=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,p=>{if(p.equals(15)||p.equals(17)||p.equals(9)){let b=u.indexOf(document.activeElement);if(b>=0){let v=-1;p.equals(17)?v=(b+1)%u.length:p.equals(15)&&(b===0?v=u.length-1:v=b-1),p.equals(9)?(u[b].blur(),this.inputBox.focus()):v>=0&&u[v].focus(),Wt.stop(p,!0)}}});let f=document.createElement("div");f.className="controls",f.style.display=this._showOptionButtons?"block":"none",f.appendChild(this.caseSensitive.domNode),f.appendChild(this.wholeWords.domNode),f.appendChild(this.regex.domNode),this.domNode.appendChild(f),e&&e.appendChild(this.domNode),this._register(oe(this.inputBox.inputElement,"compositionstart",p=>{this.imeSessionInProgress=!0})),this._register(oe(this.inputBox.inputElement,"compositionend",p=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,p=>this._onKeyDown.fire(p)),this.onkeyup(this.inputBox.inputElement,p=>this._onKeyUp.fire(p)),this.oninput(this.inputBox.inputElement,p=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,p=>this._onMouseDown.fire(p))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){let e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(e),this.wholeWords.style(e),this.caseSensitive.style(e);let t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(e){this.caseSensitive.checked=e}getWholeWords(){return this.wholeWords.checked}setWholeWords(e){this.wholeWords.checked=e}getRegex(){return this.regex.checked}setRegex(e){this.regex.checked=e,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}};Me();en();Se();xe();var eve=g("defaultLabel","input"),tve=g("label.preserveCaseCheckbox","Preserve Case"),kQ=class extends ef{constructor(e){super({icon:z.preserveCase,title:tve+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},Q8=class extends Nn{constructor(e,t,i,n){super();this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new F),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new F),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new F),this._onInput=this._register(new F),this._onKeyUp=this._register(new F),this._onPreserveCaseKeyDown=this._register(new F),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||eve,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;let r=n.appendPreserveCaseLabel||"",s=n.history||[],a=!!n.flexibleHeight,l=!!n.flexibleWidth,c=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new oS(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:s,showHistoryHint:n.showHistoryHint,flexibleHeight:a,flexibleWidth:l,flexibleMaxHeight:c})),this.preserveCase=this._register(new kQ({appendTitle:r,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(u=>{this._onDidOptionChange.fire(u),!u&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(u=>{this._onPreserveCaseKeyDown.fire(u)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let d=[this.preserveCase.domNode];this.onkeydown(this.domNode,u=>{if(u.equals(15)||u.equals(17)||u.equals(9)){let f=d.indexOf(document.activeElement);if(f>=0){let p=-1;u.equals(17)?p=(f+1)%d.length:u.equals(15)&&(f===0?p=d.length-1:p=f-1),u.equals(9)?(d[f].blur(),this.inputBox.focus()):p>=0&&d[p].focus(),Wt.stop(u,!0)}}});let h=document.createElement("div");h.className="controls",h.style.display=this._showOptionButtons?"block":"none",h.appendChild(this.preserveCase.domNode),this.domNode.appendChild(h),e&&e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,u=>this._onKeyDown.fire(u)),this.onkeyup(this.inputBox.inputElement,u=>this._onKeyUp.fire(u)),this.oninput(this.inputBox.inputElement,u=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,u=>this._onMouseDown.fire(u))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){let e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(e);let t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=e,this.domNode.style.width=e+"px"}dispose(){super.dispose()}};_t();tu();var IQ=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},OQ=function(o,e){return function(t,i){e(t,i,o)}},cE="historyNavigationWidget",TQ="historyNavigationForwardsEnabled",NQ="historyNavigationBackwardsEnabled";function ive(o,e,t){new be(t,e).bindTo(o)}function nve(o,e){return o.createScoped(e.target)}function PQ(o,e){return o.getContext(document.activeElement).getValue(e)}function RQ(o,e){let t=nve(o,e);ive(t,e,cE);let i=new be(TQ,!0).bindTo(t),n=new be(NQ,!0).bindTo(t);return{scopedContextKeyService:t,historyNavigationForwardsEnablement:i,historyNavigationBackwardsEnablement:n}}var qT=class extends X8{constructor(e,t,i,n,r=!1){super(e,t,r,i);this._register(RQ(n,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};qT=IQ([OQ(3,Ce)],qT);var ZT=class extends Q8{constructor(e,t,i,n,r=!1){super(e,t,r,i);this._register(RQ(n,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};ZT=IQ([OQ(3,Ce)],ZT);Bn.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:pe.and(pe.has(cE),pe.equals(NQ,!0),Mt.Visible.isEqualTo(!1)),primary:16,secondary:[512|16],handler:o=>{let e=PQ(o.get(Ce),cE);e&&e.historyNavigator.showPreviousValue()}});Bn.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:pe.and(pe.has(cE),pe.equals(TQ,!0),Mt.Visible.isEqualTo(!1)),primary:18,secondary:[512|18],handler:o=>{let e=PQ(o.get(Ce),cE);e&&e.historyNavigator.showNextValue()}});function J8(o){var e,t;return((e=o.lookupKeybinding("history.showPrevious"))===null||e===void 0?void 0:e.getElectronAccelerator())==="Up"&&((t=o.lookupKeybinding("history.showNext"))===null||t===void 0?void 0:t.getElectronAccelerator())==="Down"}yi();dt();var ove=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},rve=cn("find-selection",z.selection,g("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),MQ=cn("find-collapsed",z.chevronRight,g("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),AQ=cn("find-expanded",z.chevronDown,g("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),sve=cn("find-replace",z.replace,g("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),ave=cn("find-replace-all",z.replaceAll,g("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),lve=cn("find-previous-match",z.arrowUp,g("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),cve=cn("find-next-match",z.arrowDown,g("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),dve=g("label.find","Find"),hve=g("placeholder.find","Find"),uve=g("label.previousMatchButton","Previous Match"),fve=g("label.nextMatchButton","Next Match"),gve=g("label.toggleSelectionFind","Find in Selection"),mve=g("label.closeButton","Close"),pve=g("label.replace","Replace"),_ve=g("placeholder.replace","Replace"),bve=g("label.replaceButton","Replace"),vve=g("label.replaceAllButton","Replace All"),wve=g("label.toggleReplaceButton","Toggle Replace"),Cve=g("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",_h),yve=g("label.matchesLocation","{0} of {1}"),FQ=g("label.noResults","No results"),bh=419,Sve=275,Eve=Sve-54,dE=69,xve=33,BQ="ctrlEnterReplaceAll.windows.donotask",jQ=Xe?256:2048,GT=class{constructor(e){this.afterLineNumber=e,this.heightInPx=xve,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}};function WQ(o,e,t){let i=!!e.match(/\n/);if(t&&i&&t.selectionStart>0){o.stopPropagation();return}}function UQ(o,e,t){let i=!!e.match(/\n/);if(t&&i&&t.selectionEnd<t.value.length){o.stopPropagation();return}}var fC=class extends Nn{constructor(e,t,i,n,r,s,a,l,c){super();this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=i,this._contextViewProvider=n,this._keybindingService=r,this._contextKeyService=s,this._storageService=l,this._notificationService=c,this._ctrlEnterReplaceAllWarningPrompted=!!l.getBoolean(BQ,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new Wr(500),this._register(ze(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(d=>this._onStateChanged(d))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(d=>{if(d.hasChanged(80)&&(this._codeEditor.getOption(80)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),d.hasChanged(130)&&this._tryUpdateWidgetWidth(),d.hasChanged(2)&&this.updateAccessibilitySupport(),d.hasChanged(35)){let h=this._codeEditor.getOption(35).addExtraSpaceOnTop;h&&!this._viewZone&&(this._viewZone=new GT(0),this._showViewZone()),!h&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>ove(this,void 0,void 0,function*(){if(this._isVisible){let d=yield this._controller.getGlobalBufferTerm();d&&d!==this._state.searchString&&(this._state.change({searchString:d},!1),this._findInput.select())}}))),this._findInputFocused=hC.bindTo(s),this._findFocusTracker=this._register(bc(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=eE.bindTo(s),this._replaceFocusTracker=this._register(bc(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new GT(0)),this._applyTheme(a.getColorTheme()),this._register(a.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(d=>{if(d.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return fC.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(80)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=Ds(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){let t=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",t),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,ye)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=dE+"px",this._state.matchesCount>=_h?this._matchesCount.title=Cve:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let e;if(this._state.matchesCount>0){let t=String(this._state.matchesCount);this._state.matchesCount>=_h&&(t+="+");let i=String(this._state.matchesPosition);i==="0"&&(i="?"),e=vc(yve,i,t)}else e=FQ;this._matchesCount.appendChild(document.createTextNode(e)),un(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),dE=Math.max(dE,this._matchesCount.clientWidth)}_getAriaLabel(e,t,i){if(e===FQ)return i===""?g("ariaSearchNoResultEmpty","{0} found",e):g("ariaSearchNoResult","{0} found for '{1}'",e,i);if(t){let n=g("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,i,t.startLineNumber+":"+t.startColumn),r=this._codeEditor.getModel();return r&&t.startLineNumber<=r.getLineCount()&&t.startLineNumber>=1?`${r.getLineContent(t.startLineNumber)}, ${n}`:n}return g("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,i)}_updateToggleSelectionFindButton(){let e=this._codeEditor.getSelection(),t=e?e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn:!1,i=this._toggleSelectionFind.checked;this._isVisible&&(i||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let i=!this._codeEditor.getOption(80);this._toggleReplaceBtn.setEnabled(this._isVisible&&i)}_reveal(){if(this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;let e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":let i=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=i;break;default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(35).seedSearchStringFromSelection&&e){let i=this._codeEditor.getDomNode();if(i){let n=Gi(i),r=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),s=n.left+(r?r.left:0),a=r?r.top:0;if(this._viewZone&&a<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);let l=DD(this._domNode).left;s>l&&(t=!1);let c=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());n.left+(c?c.left:0)>l&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._revealTimeouts.forEach(t=>{clearTimeout(t)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(35).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;let i=this._viewZone;this._viewZoneId!==void 0||!i||this._codeEditor.changeViewZones(n=>{i.heightInPx=this._getHeight(),this._viewZoneId=n.addZone(i),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+i.heightInPx)})}_showViewZone(e=!0){if(!this._isVisible||!this._codeEditor.getOption(35).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new GT(0));let i=this._viewZone;this._codeEditor.changeViewZones(n=>{if(this._viewZoneId!==void 0){let r=this._getHeight();if(r===i.heightInPx)return;let s=r-i.heightInPx;i.heightInPx=r,n.layoutZone(this._viewZoneId),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+s);return}else{let r=this._getHeight();if(r-=this._codeEditor.getOption(74).top,r<=0)return;i.heightInPx=r,this._viewZoneId=n.addZone(i),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+r)}})}_removeViewZone(){this._codeEditor.changeViewZones(e=>{this._viewZoneId!==void 0&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(v1),inputActiveOptionBackground:e.getColor(w1),inputActiveOptionForeground:e.getColor(C1),inputBackground:e.getColor(wv),inputForeground:e.getColor(Cv),inputBorder:e.getColor(yv),inputValidationInfoBackground:e.getColor(VL),inputValidationInfoForeground:e.getColor(HL),inputValidationInfoBorder:e.getColor($L),inputValidationWarningBackground:e.getColor(KL),inputValidationWarningForeground:e.getColor(YL),inputValidationWarningBorder:e.getColor(qL),inputValidationErrorBackground:e.getColor(ZL),inputValidationErrorForeground:e.getColor(XL),inputValidationErrorBorder:e.getColor(QL)};this._findInput.style(t),this._replaceInput.style(t),this._toggleSelectionFind.style(t)}_tryUpdateWidgetWidth(){if(!this._isVisible||!xb(this._domNode))return;let e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");let i=e.width,n=e.minimap.minimapWidth,r=!1,s=!1,a=!1;if(this._resized&&Ds(this._domNode)>bh){this._domNode.style.maxWidth=`${i-28-n-15}px`,this._replaceInput.width=Ds(this._findInput.domNode);return}if(bh+28+n>=i&&(s=!0),bh+28+n-dE>=i&&(a=!0),bh+28+n-dE>=i+50&&(r=!0),this._domNode.classList.toggle("collapsed-find-widget",r),this._domNode.classList.toggle("narrow-find-widget",a),this._domNode.classList.toggle("reduced-find-widget",s),!a&&!r&&(this._domNode.style.maxWidth=`${i-28-n-15}px`),this._resized){this._findInput.inputBox.layout();let l=this._findInput.inputBox.element.clientWidth;l>0&&(this._replaceInput.width=l)}else this._isReplaceVisible&&(this._replaceInput.width=Ds(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){let e=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===e?!1:(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let e=this._codeEditor.getSelections();e.map(t=>{t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1)));let i=this._state.currentMatch;return t.startLineNumber!==t.endLineNumber&&!D.equalsRange(t,i)?t:null}).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){if(e.equals(jQ|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(2048|18)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return WQ(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(e.equals(18))return UQ(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(e){if(e.equals(jQ|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{Mi&&Xr&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(g("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(BQ,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(1024|2)){this._findInput.focus(),e.preventDefault();return}if(e.equals(2048|18)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return WQ(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(e.equals(18))return UQ(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){let e=!0,t=!0;this._findInput=this._register(new qT(null,this._contextViewProvider,{width:Eve,label:dve,placeholder:hve,appendCaseSensitiveLabel:this._keybindingLabelFor(Ti.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(Ti.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(Ti.ToggleRegexCommand),validation:l=>{if(l.length===0||!this._findInput.getRegex())return null;try{return new RegExp(l,"gu"),null}catch(c){return{content:c.message}}},flexibleHeight:e,flexibleWidth:t,flexibleMaxHeight:118,showHistoryHint:()=>J8(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(l=>this._onFindInputKeyDown(l))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(l=>{l.equals(1024|2)&&this._isReplaceVisible&&(this._replaceInput.focus(),l.preventDefault())})),this._register(this._findInput.onRegexKeyDown(l=>{l.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),l.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(l=>{this._tryUpdateHeight()&&this._showViewZone()})),rn&&this._register(this._findInput.onMouseDown(l=>this._onFindInputMouseDown(l))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new O_({label:uve+this._keybindingLabelFor(Ti.PreviousMatchFindAction),icon:lve,onTrigger:()=>{this._codeEditor.getAction(Ti.PreviousMatchFindAction).run().then(void 0,ye)}})),this._nextBtn=this._register(new O_({label:fve+this._keybindingLabelFor(Ti.NextMatchFindAction),icon:cve,onTrigger:()=>{this._codeEditor.getAction(Ti.NextMatchFindAction).run().then(void 0,ye)}}));let i=document.createElement("div");i.className="find-part",i.appendChild(this._findInput.domNode);let n=document.createElement("div");n.className="find-actions",i.appendChild(n),n.appendChild(this._matchesCount),n.appendChild(this._prevBtn.domNode),n.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new ef({icon:rve,title:gve+this._keybindingLabelFor(Ti.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let l=this._codeEditor.getSelections();l.map(c=>(c.endColumn===1&&c.endLineNumber>c.startLineNumber&&(c=c.setEndPosition(c.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(c.endLineNumber-1))),c.isEmpty()?null:c)).filter(c=>!!c),l.length&&this._state.change({searchScope:l},!0)}}else this._state.change({searchScope:null},!0)})),n.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new O_({label:mve+this._keybindingLabelFor(Ti.CloseFindWidgetCommand),icon:cI,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:l=>{l.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),l.preventDefault())}})),n.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new ZT(null,void 0,{label:pve,placeholder:_ve,appendPreserveCaseLabel:this._keybindingLabelFor(Ti.TogglePreserveCaseCommand),history:[],flexibleHeight:e,flexibleWidth:t,flexibleMaxHeight:118,showHistoryHint:()=>J8(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(l=>this._onReplaceInputKeyDown(l))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(l=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(l=>{l.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),l.preventDefault())})),this._replaceBtn=this._register(new O_({label:bve+this._keybindingLabelFor(Ti.ReplaceOneAction),icon:sve,onTrigger:()=>{this._controller.replace()},onKeyDown:l=>{l.equals(1024|2)&&(this._closeBtn.focus(),l.preventDefault())}})),this._replaceAllBtn=this._register(new O_({label:vve+this._keybindingLabelFor(Ti.ReplaceAllAction),icon:ave,onTrigger:()=>{this._controller.replaceAll()}}));let r=document.createElement("div");r.className="replace-part",r.appendChild(this._replaceInput.domNode);let s=document.createElement("div");s.className="replace-actions",r.appendChild(s),s.appendChild(this._replaceBtn.domNode),s.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new O_({label:wve,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=Ds(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${bh}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(i),this._domNode.appendChild(r),this._resizeSash=new Vn(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let a=bh;this._register(this._resizeSash.onDidStart(()=>{a=Ds(this._domNode)})),this._register(this._resizeSash.onDidChange(l=>{this._resized=!0;let c=a+l.startX-l.currentX;if(c<bh)return;let d=parseFloat(xD(this._domNode).maxWidth)||0;c>d||(this._domNode.style.width=`${c}px`,this._isReplaceVisible&&(this._replaceInput.width=Ds(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{let l=Ds(this._domNode);if(l<bh)return;let c=bh;if(!this._resized||l===bh){let d=this._codeEditor.getLayoutInfo();c=d.width-28-d.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${c}px`,this._isReplaceVisible&&(this._replaceInput.width=Ds(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){let e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(e!==2)}};fC.ID="editor.contrib.findWidget";var O_=class extends Nn{constructor(e){super();this._opts=e;let t="button";this._opts.className&&(t=t+" "+this._opts.className),this._opts.icon&&(t=t+" "+qt.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,i=>{this._opts.onTrigger(),i.preventDefault()}),this.onkeydown(this._domNode,i=>{if(i.equals(10)||i.equals(3)){this._opts.onTrigger(),i.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(i)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...qt.asClassNameArray(MQ)),this._domNode.classList.add(...qt.asClassNameArray(AQ))):(this._domNode.classList.remove(...qt.asClassNameArray(AQ)),this._domNode.classList.add(...qt.asClassNameArray(MQ)))}};gt((o,e)=>{let t=(p,b)=>{b&&e.addRule(`.monaco-editor ${p} { background-color: ${b}; }`)};t(".findMatch",o.getColor(Bd)),t(".currentFindMatch",o.getColor($z)),t(".findScope",o.getColor(Kz));let i=o.getColor($o);t(".find-widget",i);let n=o.getColor(Wl);n&&e.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${n}; }`);let r=o.getColor(vp);r&&e.addRule(`.monaco-editor .findMatch { border: 1px ${o.type==="hc"?"dotted":"solid"} ${r}; box-sizing: border-box; }`);let s=o.getColor(Yz);s&&e.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${s}; padding: 1px; box-sizing: border-box; }`);let a=o.getColor(qz);a&&e.addRule(`.monaco-editor .findScope { border: 1px ${o.type==="hc"?"dashed":"solid"} ${a}; }`);let l=o.getColor(Oi);l&&e.addRule(`.monaco-editor .find-widget { border: 1px solid ${l}; }`);let c=o.getColor(Ad);c&&e.addRule(`.monaco-editor .find-widget { color: ${c}; }`);let d=o.getColor(Ez);d&&e.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${d}; }`);let h=o.getColor(Rz);if(h)e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${h}; }`);else{let p=o.getColor(su);p&&e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${p}; }`)}let u=o.getColor(ak);u&&e.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${u} !important;
		}
	`);let f=o.getColor(Tc);f&&e.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${f}; }`)});xe();No();_t();dt();var zQ=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},vh=function(o,e){return function(t,i){e(t,i,o)}},T_=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},Dve=524288;function eB(o,e="single",t=!1){if(!o.hasModel())return null;let i=o.getSelection();if(e==="single"&&i.startLineNumber===i.endLineNumber||e==="multiple"){if(i.isEmpty()){let n=o.getConfiguredWordAtPosition(i.getStartPosition());if(n&&t===!1)return n.word}else if(o.getModel().getValueLengthInRange(i)<Dve)return o.getModel().getValueInRange(i)}return null}var _s=class VQ extends ${constructor(e,t,i,n){super();this._editor=e,this._findWidgetVisible=Ju.bindTo(t),this._contextKeyService=t,this._storageService=i,this._clipboardService=n,this._updateHistoryDelayer=new Wr(500),this._state=this._register(new G8),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(r=>this._onStateChanged(r))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let r=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),r&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})}))}get editor(){return this._editor}static get(e){return e.getContribution(VQ.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!hC.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let e=this._editor.getSelections();e.map(t=>(t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._editor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()?null:t)).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=wo(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}_start(e,t){return T_(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let i=Object.assign(Object.assign({},t),{isRevealed:!0});if(e.seedSearchStringFromSelection==="single"){let n=eB(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);n&&(this._state.isRegex?i.searchString=wo(n):i.searchString=n)}else if(e.seedSearchStringFromSelection==="multiple"&&!e.updateSearchScope){let n=eB(this._editor,e.seedSearchStringFromSelection);n&&(i.searchString=n)}if(!i.searchString&&e.seedSearchStringFromGlobalClipboard){let n=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;n&&(i.searchString=n)}if(e.forceRevealReplace||i.isReplaceRevealed?i.isReplaceRevealed=!0:this._findWidgetVisible.get()||(i.isReplaceRevealed=!1),e.updateSearchScope){let n=this._editor.getSelections();n.some(r=>!r.isEmpty())&&(i.searchScope=n)}i.loop=e.loop,this._state.change(i,!1),this._model||(this._model=new I_(this._editor,this._state))})}start(e,t){return this._start(e,t)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return T_(this,void 0,void 0,function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(e){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};_s.ID="editor.contrib.findController";_s=zQ([vh(1,Ce),vh(2,qs),vh(3,Hs)],_s);var tB=class extends _s{constructor(e,t,i,n,r,s,a,l){super(e,i,a,l);this._contextViewService=t,this._keybindingService=n,this._themeService=r,this._notificationService=s,this._widget=null,this._findOptionsWidget=null}_start(e,t){let i=Object.create(null,{_start:{get:()=>super._start}});return T_(this,void 0,void 0,function*(){this._widget||this._createFindWidget();let n=this._editor.getSelection(),r=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":r=!0;break;case"never":r=!1;break;case"multiline":r=!!n&&n.startLineNumber!==n.endLineNumber;break;default:break}e.updateSearchScope=e.updateSearchScope||r,yield i._start.call(this,e,t),this._widget&&(e.shouldFocus===2?this._widget.focusReplaceInput():e.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new fC(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new uC(this._editor,this._state,this._keybindingService,this._themeService))}};tB=zQ([vh(1,pa),vh(2,Ce),vh(3,oi),vh(4,Rt),vh(5,fi),vh(6,qs),vh(7,Hs)],tB);var Lve=qM(new ML({id:Ti.StartFindAction,label:g("startFindAction","Find"),alias:"Find",precondition:pe.or(A.focus,pe.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|36,weight:100},menuOpts:{menuId:De.MenubarEditMenu,group:"3_find",title:g({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));Lve.addImplementation(0,(o,e,t)=>{let i=_s.get(e);return i?i.start({forceRevealReplace:!1,seedSearchStringFromSelection:e.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(35).loop}):!1});var kve={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:g("actions.find.isRegexOverride",`Overrides "Use Regular Expression" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:g("actions.find.wholeWordOverride",`Overrides "Match Whole Word" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:g("actions.find.matchCaseOverride",`Overrides "Math Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:g("actions.find.preserveCaseOverride",`Overrides "Preserve Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},findInSelection:{type:"boolean"}}}}]},HQ=class extends _e{constructor(){super({id:Ti.StartFindWithArgs,label:g("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:kve})}run(e,t,i){return T_(this,void 0,void 0,function*(){let n=_s.get(t);if(n){let r=i?{searchString:i.searchString,replaceString:i.replaceString,isReplaceRevealed:i.replaceString!==void 0,isRegex:i.isRegex,wholeWord:i.matchWholeWord,matchCase:i.isCaseSensitive,preserveCase:i.preserveCase}:{};yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:n.getState().searchString.length===0&&t.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(i==null?void 0:i.findInSelection)||!1,loop:t.getOption(35).loop},r),n.setGlobalBufferTerm(n.getState().searchString)}})}},$Q=class extends _e{constructor(){super({id:Ti.StartFindWithSelection,label:g("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2048|35},weight:100}})}run(e,t){return T_(this,void 0,void 0,function*(){let i=_s.get(t);i&&(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),i.setGlobalBufferTerm(i.getState().searchString))})}},iB=class extends _e{run(e,t){return T_(this,void 0,void 0,function*(){let i=_s.get(t);i&&!this._run(i)&&(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:i.getState().searchString.length===0&&t.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),this._run(i))})}},KQ=class extends iB{constructor(){super({id:Ti.NextMatchFindAction,label:g("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:A.focus,primary:61,mac:{primary:2048|37,secondary:[61]},weight:100},{kbExpr:pe.and(A.focus,hC),primary:3,weight:100}]})}_run(e){return e.moveToNextMatch()?(e.editor.pushUndoStop(),!0):!1}},YQ=class extends iB{constructor(){super({id:Ti.PreviousMatchFindAction,label:g("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:A.focus,primary:1024|61,mac:{primary:2048|1024|37,secondary:[1024|61]},weight:100},{kbExpr:pe.and(A.focus,hC),primary:1024|3,weight:100}]})}_run(e){return e.moveToPrevMatch()}},nB=class extends _e{run(e,t){return T_(this,void 0,void 0,function*(){let i=_s.get(t);if(!i)return;let n=t.getOption(35).seedSearchStringFromSelection==="selection",r=null;t.getOption(35).seedSearchStringFromSelection!=="never"&&(r=eB(t,"single",n)),r&&i.setSearchString(r),this._run(i)||(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:n,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),this._run(i))})}},qQ=class extends nB{constructor(){super({id:Ti.NextSelectionMatchFindAction,label:g("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:A.focus,primary:2048|61,weight:100}})}_run(e){return e.moveToNextMatch()}},ZQ=class extends nB{constructor(){super({id:Ti.PreviousSelectionMatchFindAction,label:g("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:A.focus,primary:2048|1024|61,weight:100}})}_run(e){return e.moveToPrevMatch()}},Ive=qM(new ML({id:Ti.StartFindReplaceAction,label:g("startReplace","Replace"),alias:"Replace",precondition:pe.or(A.focus,pe.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|38,mac:{primary:2048|512|36},weight:100},menuOpts:{menuId:De.MenubarEditMenu,group:"3_find",title:g({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));Ive.addImplementation(0,(o,e,t)=>{if(!e.hasModel()||e.getOption(80))return!1;let i=_s.get(e);if(!i)return!1;let n=e.getSelection(),r=i.isFindInputFocused(),s=!n.isEmpty()&&n.startLineNumber===n.endLineNumber&&e.getOption(35).seedSearchStringFromSelection!=="never"&&!r,a=r||s?2:1;return i.start({forceRevealReplace:!0,seedSearchStringFromSelection:s?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(35).seedSearchStringFromSelection!=="never",shouldFocus:a,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(35).loop})});Qe(_s.ID,tB);le(HQ);le($Q);le(KQ);le(YQ);le(qQ);le(ZQ);var ed=Hi.bindToContribution(_s.get);ue(new ed({id:Ti.CloseFindWidgetCommand,precondition:Ju,handler:o=>o.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:pe.and(A.focus,pe.not("isComposing")),primary:9,secondary:[1024|9]}}));ue(new ed({id:Ti.ToggleCaseSensitiveCommand,precondition:void 0,handler:o=>o.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:A.focus,primary:tE.primary,mac:tE.mac,win:tE.win,linux:tE.linux}}));ue(new ed({id:Ti.ToggleWholeWordCommand,precondition:void 0,handler:o=>o.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:A.focus,primary:iE.primary,mac:iE.mac,win:iE.win,linux:iE.linux}}));ue(new ed({id:Ti.ToggleRegexCommand,precondition:void 0,handler:o=>o.toggleRegex(),kbOpts:{weight:100+5,kbExpr:A.focus,primary:nE.primary,mac:nE.mac,win:nE.win,linux:nE.linux}}));ue(new ed({id:Ti.ToggleSearchScopeCommand,precondition:void 0,handler:o=>o.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:A.focus,primary:oE.primary,mac:oE.mac,win:oE.win,linux:oE.linux}}));ue(new ed({id:Ti.TogglePreserveCaseCommand,precondition:void 0,handler:o=>o.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:A.focus,primary:rE.primary,mac:rE.mac,win:rE.win,linux:rE.linux}}));ue(new ed({id:Ti.ReplaceOneAction,precondition:Ju,handler:o=>o.replace(),kbOpts:{weight:100+5,kbExpr:A.focus,primary:2048|1024|22}}));ue(new ed({id:Ti.ReplaceOneAction,precondition:Ju,handler:o=>o.replace(),kbOpts:{weight:100+5,kbExpr:pe.and(A.focus,eE),primary:3}}));ue(new ed({id:Ti.ReplaceAllAction,precondition:Ju,handler:o=>o.replaceAll(),kbOpts:{weight:100+5,kbExpr:A.focus,primary:2048|512|3}}));ue(new ed({id:Ti.ReplaceAllAction,precondition:Ju,handler:o=>o.replaceAll(),kbOpts:{weight:100+5,kbExpr:pe.and(A.focus,eE),primary:void 0,mac:{primary:2048|3}}}));ue(new ed({id:Ti.SelectAllMatchesAction,precondition:Ju,handler:o=>o.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:A.focus,primary:512|3}}));tt();st();Na();ne();je();di();Wc();Dt();Yi();Tt();zo();Se();var GQ=65535,td=16777215,XQ=4278190080,tf=class{constructor(e,t,i){if(e.length!==t.length||e.length>GQ)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new Uint32Array(Math.ceil(e.length/32)),this._types=i,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let e=[],t=(i,n)=>{let r=e[e.length-1];return this.getStartLineNumber(r)<=i&&this.getEndLineNumber(r)>=n};for(let i=0,n=this._startIndexes.length;i<n;i++){let r=this._startIndexes[i],s=this._endIndexes[i];if(r>td||s>td)throw new Error("startLineNumber or endLineNumber must not exceed "+td);for(;e.length>0&&!t(r,s);)e.pop();let a=e.length>0?e[e.length-1]:-1;e.push(i),this._startIndexes[i]=r+((a&255)<<24),this._endIndexes[i]=s+((a&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return this._startIndexes[e]&td}getEndLineNumber(e){return this._endIndexes[e]&td}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){let t=e/32|0,i=e%32;return(this._collapseStates[t]&1<<i)!==0}setCollapsed(e,t){let i=e/32|0,n=e%32,r=this._collapseStates[i];t?this._collapseStates[i]=r|1<<n:this._collapseStates[i]=r&~(1<<n)}setCollapsedAllOfType(e,t){let i=!1;if(this._types)for(let n=0;n<this._types.length;n++)this._types[n]===e&&(this.setCollapsed(n,t),i=!0);return i}toRegion(e){return new QQ(this,e)}getParentIndex(e){this.ensureParentIndices();let t=((this._startIndexes[e]&XQ)>>>24)+((this._endIndexes[e]&XQ)>>>16);return t===GQ?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,i=this._startIndexes.length;if(i===0)return-1;for(;t<i;){let n=Math.floor((t+i)/2);e<this.getStartLineNumber(n)?i=n:t=n+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);t!==-1;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}toString(){let e=[];for(let t=0;t<this.length;t++)e[t]=`[${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}},QQ=class{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}};var oB=class{constructor(e,t){this._updateEventEmitter=new F,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new tf(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(e){if(!e.length)return;e=e.sort((i,n)=>i.regionIndex-n.regionIndex);let t={};this._decorationProvider.changeDecorations(i=>{let n=0,r=-1,s=-1,a=l=>{for(;n<l;){let c=this._regions.getEndLineNumber(n),d=this._regions.isCollapsed(n);c<=r&&i.changeDecorationOptions(this._editorDecorationIds[n],this._decorationProvider.getDecorationOption(d,c<=s)),d&&c>s&&(s=c),n++}};for(let l of e){let c=l.regionIndex,d=this._editorDecorationIds[c];if(d&&!t[d]){t[d]=!0,a(c);let h=!this._regions.isCollapsed(c);this._regions.setCollapsed(c,h),r=Math.max(r,this._regions.getEndLineNumber(c))}}a(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}update(e,t=[]){let i=[],n=(h,u)=>{for(let f of t)if(h<f&&f<=u)return!0;return!1},r=-1,s=(h,u)=>{let f=e.getStartLineNumber(h),p=e.getEndLineNumber(h);u||(u=e.isCollapsed(h)),u&&n(f,p)&&(u=!1),e.setCollapsed(h,u);let b=this._textModel.getLineMaxColumn(f),v={startLineNumber:f,startColumn:Math.max(b-1,1),endLineNumber:f,endColumn:b};i.push({range:v,options:this._decorationProvider.getDecorationOption(u,p<=r)}),u&&p>r&&(r=p)},a=0,l=()=>{for(;a<this._regions.length;){let h=this._regions.isCollapsed(a);if(a++,h)return a-1}return-1},c=0,d=l();for(;d!==-1&&c<e.length;){let h=this._textModel.getDecorationRange(this._editorDecorationIds[d]);if(h){let u=h.startLineNumber;if(h.startColumn===Math.max(h.endColumn-1,1)&&this._textModel.getLineMaxColumn(u)===h.endColumn)for(;c<e.length;){let f=e.getStartLineNumber(c);if(u>=f)s(c,u===f),c++;else break}}d=l()}for(;c<e.length;)s(c,!1),c++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,i),this._regions=e,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let e=[];for(let t=0;t<this._regions.length;t++)if(this._regions.isCollapsed(t)){let i=this._textModel.getDecorationRange(this._editorDecorationIds[t]);if(i){let n=i.startLineNumber,r=i.endLineNumber+this._regions.getEndLineNumber(t)-this._regions.getStartLineNumber(t);e.push({startLineNumber:n,endLineNumber:r})}}if(e.length>0)return e}applyMemento(e){if(!Array.isArray(e))return;let t=[];for(let i of e){let n=this.getRegionAtLine(i.startLineNumber);n&&!n.isCollapsed&&t.push(n)}this.toggleCollapseState(t)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(e,t){let i=[];if(this._regions){let n=this._regions.findRange(e),r=1;for(;n>=0;){let s=this._regions.toRegion(n);(!t||t(s,r))&&i.push(s),r++,n=s.parentIndex}}return i}getRegionAtLine(e){if(this._regions){let t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){let i=[],n=e?e.regionIndex+1:0,r=e?e.endLineNumber:Number.MAX_VALUE;if(t&&t.length===2){let s=[];for(let a=n,l=this._regions.length;a<l;a++){let c=this._regions.toRegion(a);if(this._regions.getStartLineNumber(a)<r){for(;s.length>0&&!c.containedBy(s[s.length-1]);)s.pop();s.push(c),t(c,s.length)&&i.push(c)}else break}}else for(let s=n,a=this._regions.length;s<a;s++){let l=this._regions.toRegion(s);if(this._regions.getStartLineNumber(s)<r)(!t||t(l))&&i.push(l);else break}return i}};function JQ(o,e,t){let i=[];for(let n of t){let r=o.getRegionAtLine(n);if(r){let s=!r.isCollapsed;if(i.push(r),e>1){let a=o.getRegionsInside(r,(l,c)=>l.isCollapsed!==s&&c<e);i.push(...a)}}}o.toggleCollapseState(i)}function N_(o,e,t=Number.MAX_VALUE,i){let n=[];if(i&&i.length>0)for(let r of i){let s=o.getRegionAtLine(r);if(s&&(s.isCollapsed!==e&&n.push(s),t>1)){let a=o.getRegionsInside(s,(l,c)=>l.isCollapsed!==e&&c<t);n.push(...a)}}else{let r=o.getRegionsInside(null,(s,a)=>s.isCollapsed!==e&&a<t);n.push(...r)}o.toggleCollapseState(n)}function rB(o,e,t,i){let n=[];for(let r of i){let s=o.getAllRegionsAtLine(r,(a,l)=>a.isCollapsed!==e&&l<=t);n.push(...s)}o.toggleCollapseState(n)}function eJ(o,e,t){let i=[];for(let n of t){let r=o.getAllRegionsAtLine(n,s=>s.isCollapsed!==e);r.length>0&&i.push(r[0])}o.toggleCollapseState(i)}function tJ(o,e,t,i){let n=(s,a)=>a===e&&s.isCollapsed!==t&&!i.some(l=>s.containsLine(l)),r=o.getRegionsInside(null,n);o.toggleCollapseState(r)}function sB(o,e,t){let i=[];for(let s of t)i.push(o.getAllRegionsAtLine(s,void 0)[0]);let n=s=>i.every(a=>!a.containedBy(s)&&!s.containedBy(a))&&s.isCollapsed!==e,r=o.getRegionsInside(null,n);o.toggleCollapseState(r)}function XT(o,e,t){let i=o.textModel,n=o.regions,r=[];for(let s=n.length-1;s>=0;s--)if(t!==n.isCollapsed(s)){let a=n.getStartLineNumber(s);e.test(i.getLineContent(a))&&r.push(n.toRegion(s))}o.toggleCollapseState(r)}function QT(o,e,t){let i=o.regions,n=[];for(let r=i.length-1;r>=0;r--)t!==i.isCollapsed(r)&&e===i.getType(r)&&n.push(i.toRegion(r));o.toggleCollapseState(n)}function iJ(o,e){let t=null,i=e.getRegionAtLine(o);if(i!==null&&(t=i.startLineNumber,o===t)){let n=i.parentIndex;n!==-1?t=e.regions.getStartLineNumber(n):t=null}return t}function nJ(o,e){let t=e.getRegionAtLine(o);if(t!==null&&t.startLineNumber===o){if(o!==t.startLineNumber)return t.startLineNumber;{let i=t.parentIndex,n=0;for(i!==-1&&(n=e.regions.getStartLineNumber(t.parentIndex));t!==null;)if(t.regionIndex>0){if(t=e.regions.toRegion(t.regionIndex-1),t.startLineNumber<=n)return null;if(t.parentIndex===i)return t.startLineNumber}else return null}}else if(e.regions.length>0)for(t=e.regions.toRegion(e.regions.length-1);t!==null;){if(t.startLineNumber<o)return t.startLineNumber;t.regionIndex>0?t=e.regions.toRegion(t.regionIndex-1):t=null}return null}function oJ(o,e){let t=e.getRegionAtLine(o);if(t!==null&&t.startLineNumber===o){let i=t.parentIndex,n=0;if(i!==-1)n=e.regions.getEndLineNumber(t.parentIndex);else{if(e.regions.length===0)return null;n=e.regions.getEndLineNumber(e.regions.length-1)}for(;t!==null;)if(t.regionIndex<e.regions.length){if(t=e.regions.toRegion(t.regionIndex+1),t.startLineNumber>=n)return null;if(t.parentIndex===i)return t.startLineNumber}else return null}else if(e.regions.length>0)for(t=e.regions.toRegion(0);t!==null;){if(t.startLineNumber>o)return t.startLineNumber;t.regionIndex<e.regions.length?t=e.regions.toRegion(t.regionIndex+1):t=null}return null}Ut();Se();ve();Fv();var aB=class{constructor(e){this._updateEventEmitter=new F,this._hasLineChanges=!1,this._foldingModel=e,this._foldingModelListener=e.onDidChange(t=>this.updateHiddenRanges()),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(e){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=e.changes.some(t=>t.range.endLineNumber!==t.range.startLineNumber||Mc(t.text)[0]!==0))}updateHiddenRanges(){let e=!1,t=[],i=0,n=0,r=Number.MAX_VALUE,s=-1,a=this._foldingModel.regions;for(;i<a.length;i++){if(!a.isCollapsed(i))continue;let l=a.getStartLineNumber(i)+1,c=a.getEndLineNumber(i);r<=l&&c<=s||(!e&&n<this._hiddenRanges.length&&this._hiddenRanges[n].startLineNumber===l&&this._hiddenRanges[n].endLineNumber===c?(t.push(this._hiddenRanges[n]),n++):(e=!0,t.push(new D(l,1,c,1))),r=l,s=c)}(this._hasLineChanges||e||n<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyMemento(e){if(!Array.isArray(e)||e.length===0)return!1;let t=[];for(let i of e){if(!i.startLineNumber||!i.endLineNumber)return!1;t.push(new D(i.startLineNumber+1,1,i.endLineNumber,1))}return this.applyHiddenRanges(t),!0}getMemento(){return this._hiddenRanges.map(e=>({startLineNumber:e.startLineNumber-1,endLineNumber:e.endLineNumber}))}applyHiddenRanges(e){this._hiddenRanges=e,this._hasLineChanges=!1,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return rJ(this._hiddenRanges,e)!==null}adjustSelections(e){let t=!1,i=this._foldingModel.textModel,n=null,r=s=>((!n||!Ove(s,n))&&(n=rJ(this._hiddenRanges,s)),n?n.startLineNumber-1:null);for(let s=0,a=e.length;s<a;s++){let l=e[s],c=r(l.startLineNumber);c&&(l=l.setStartPosition(c,i.getLineMaxColumn(c)),t=!0);let d=r(l.endLineNumber);d&&(l=l.setEndPosition(d,i.getLineMaxColumn(d)),t=!0),e[s]=l}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}};function Ove(o,e){return o>=e.startLineNumber&&o<=e.endLineNumber}function rJ(o,e){let t=ux(o,i=>e<i.startLineNumber)-1;return t>=0&&o[t].endLineNumber>=e?o[t]:null}Wn();zo();var Tve=5e3,Nve="indent",lB=class{constructor(e){this.editorModel=e,this.id=Nve}dispose(){}compute(e){let t=xt.getFoldingRules(this.editorModel.getLanguageId()),i=t&&!!t.offSide,n=t&&t.markers;return Promise.resolve(Pve(this.editorModel,i,n))}},sJ=class{constructor(e){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}insertFirst(e,t,i){if(e>td||t>td)return;let n=this._length;this._startIndexes[n]=e,this._endIndexes[n]=t,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(e){if(this._length<=this._foldingRangesLimit){let t=new Uint32Array(this._length),i=new Uint32Array(this._length);for(let n=this._length-1,r=0;n>=0;n--,r++)t[r]=this._startIndexes[n],i[r]=this._endIndexes[n];return new tf(t,i)}else{let t=0,i=this._indentOccurrences.length;for(let a=0;a<this._indentOccurrences.length;a++){let l=this._indentOccurrences[a];if(l){if(l+t>this._foldingRangesLimit){i=a;break}t+=l}}let n=e.getOptions().tabSize,r=new Uint32Array(this._foldingRangesLimit),s=new Uint32Array(this._foldingRangesLimit);for(let a=this._length-1,l=0;a>=0;a--){let c=this._startIndexes[a],d=e.getLineContent(c),h=Po.computeIndentLevel(d,n);(h<i||h===i&&t++<this._foldingRangesLimit)&&(r[l]=c,s[l]=this._endIndexes[a],l++)}return new tf(r,s)}}};function Pve(o,e,t,i=Tve){let n=o.getOptions().tabSize,r=new sJ(i),s;t&&(s=new RegExp(`(${t.start.source})|(?:${t.end.source})`));let a=[],l=o.getLineCount()+1;a.push({indent:-1,endAbove:l,line:l});for(let c=o.getLineCount();c>0;c--){let d=o.getLineContent(c),h=Po.computeIndentLevel(d,n),u=a[a.length-1];if(h===-1){e&&(u.endAbove=c);continue}let f;if(s&&(f=d.match(s)))if(f[1]){let p=a.length-1;for(;p>0&&a[p].indent!==-2;)p--;if(p>0){a.length=p+1,u=a[p],r.insertFirst(c,u.line,h),u.line=c,u.indent=h,u.endAbove=c;continue}}else{a.push({indent:-2,endAbove:c,line:c});continue}if(u.indent>h){do a.pop(),u=a[a.length-1];while(u.indent>h);let p=u.endAbove-1;p-c>=1&&r.insertFirst(c,p,h)}u.indent===h?u.endAbove=c:a.push({indent:h,endAbove:c,line:c})}return r.toIndentRanges(o)}st();ne();var Rve=5e3,Mve={},cB="syntax",dB=class{constructor(e,t,i,n=Rve){this.editorModel=e,this.providers=t,this.limit=n,this.id=cB;for(let r of t)typeof r.onDidChange=="function"&&(this.disposables||(this.disposables=new Q),this.disposables.add(r.onDidChange(i)))}compute(e){return Ave(this.providers,this.editorModel,e).then(t=>t?hB(t,this.limit):null)}dispose(){var e;(e=this.disposables)===null||e===void 0||e.dispose()}};function Ave(o,e,t){let i=null,n=o.map((r,s)=>Promise.resolve(r.provideFoldingRanges(e,Mve,t)).then(a=>{if(!t.isCancellationRequested&&Array.isArray(a)){Array.isArray(i)||(i=[]);let l=e.getLineCount();for(let c of a)c.start>0&&c.end>c.start&&c.end<=l&&i.push({start:c.start,end:c.end,rank:s,kind:c.kind})}},Di));return Promise.all(n).then(r=>i)}var aJ=class{constructor(e){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,i,n){if(e>td||t>td)return;let r=this._length;this._startIndexes[r]=e,this._endIndexes[r]=t,this._nestingLevels[r]=n,this._types[r]=i,this._length++,n<30&&(this._nestingLevelCounts[n]=(this._nestingLevelCounts[n]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let i=0;i<this._length;i++)e[i]=this._startIndexes[i],t[i]=this._endIndexes[i];return new tf(e,t,this._types)}else{let e=0,t=this._nestingLevelCounts.length;for(let s=0;s<this._nestingLevelCounts.length;s++){let a=this._nestingLevelCounts[s];if(a){if(a+e>this._foldingRangesLimit){t=s;break}e+=a}}let i=new Uint32Array(this._foldingRangesLimit),n=new Uint32Array(this._foldingRangesLimit),r=[];for(let s=0,a=0;s<this._length;s++){let l=this._nestingLevels[s];(l<t||l===t&&e++<this._foldingRangesLimit)&&(i[a]=this._startIndexes[s],n[a]=this._endIndexes[s],r[a]=this._types[s],a++)}return new tf(i,n,r)}}};function hB(o,e){let t=o.sort((s,a)=>{let l=s.start-a.start;return l===0&&(l=s.rank-a.rank),l}),i=new aJ(e),n,r=[];for(let s of t)if(!n)n=s,i.add(s.start,s.end,s.kind&&s.kind.value,r.length);else if(s.start>n.start)if(s.end<=n.end)r.push(n),n=s,i.add(s.start,s.end,s.kind&&s.kind.value,r.length);else{if(s.start>n.end){do n=r.pop();while(n&&s.start>n.end);n&&r.push(n),n=s}i.add(s.start,s.end,s.kind&&s.kind.value,r.length)}return i.toIndentRanges()}var uB="init",fB=class{constructor(e,t,i,n){if(this.editorModel=e,this.id=uB,t.length){let r=s=>({range:{startLineNumber:s.startLineNumber,startColumn:0,endLineNumber:s.endLineNumber,endColumn:e.getLineLength(s.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=e.deltaDecorations([],t.map(r)),this.timeout=setTimeout(i,n)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(e){let t=[];if(this.decorationIds)for(let i of this.decorationIds){let n=this.editorModel.getDecorationRange(i);n&&t.push({start:n.startLineNumber,end:n.endLineNumber,rank:1})}return Promise.resolve(hB(t,Number.MAX_VALUE))}};xe();_t();yi();dt();en();Wn();xe();dt();var JT=cn("folding-expanded",z.chevronDown,g("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),eN=cn("folding-collapsed",z.chevronRight,g("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),va=class{constructor(e){this.editor=e,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(e,t){return t?va.HIDDEN_RANGE_DECORATION:e?this.showFoldingHighlights?va.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:va.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?va.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:va.EXPANDED_VISUAL_DECORATION}deltaDecorations(e,t){return this.editor.deltaDecorations(e,t)}changeDecorations(e){return this.editor.changeDecorations(e)}};va.COLLAPSED_VISUAL_DECORATION=Ze.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:qt.asClassName(eN)});va.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Ze.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:qt.asClassName(eN)});va.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Ze.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:qt.asClassName(JT)});va.EXPANDED_VISUAL_DECORATION=Ze.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+qt.asClassName(JT)});va.HIDDEN_RANGE_DECORATION=Ze.register({description:"folding-hidden-range-decoration",stickiness:1});var Fve=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},Bve=function(o,e){return function(t,i){e(t,i,o)}},Yr=new be("foldingEnabled",!1),gC=class lJ extends ${constructor(e,t){super();this.contextKeyService=t,this.localToDispose=this._register(new Q),this.editor=e;let i=this.editor.getOptions();this._isEnabled=i.get(37),this._useFoldingProviders=i.get(38)!=="indentation",this._unfoldOnClickAfterEndOfLine=i.get(41),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=i.get(40),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new va(e),this.foldingDecorationProvider.autoHideFoldingControls=i.get(98)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=i.get(39),this.foldingEnabled=Yr.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(n=>{if(n.hasChanged(37)&&(this._isEnabled=this.editor.getOptions().get(37),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),n.hasChanged(98)||n.hasChanged(39)){let r=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=r.get(98)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=r.get(39),this.triggerFoldingModelChanged()}n.hasChanged(38)&&(this._useFoldingProviders=this.editor.getOptions().get(38)!=="indentation",this.onFoldingStrategyChanged()),n.hasChanged(41)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(41)),n.hasChanged(40)&&(this._foldingImportsByDefault=this.editor.getOptions().get(40))})),this.onModelChanged()}static get(e){return e.getContribution(lJ.ID)}saveViewState(){let e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){let t=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),i=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:i,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){let t=this.editor.getModel();if(!t||!this._isEnabled||t.isTooLargeForTokenization()||!this.hiddenRangeModel||!e||e.lineCount!==t.getLineCount()||(this._currentModelHasFoldedImports=!!e.foldedImports,!e.collapsedRegions))return;(e.provider===cB||e.provider===uB)&&(this.foldingStateMemento=e);let i=e.collapsedRegions;if(this.hiddenRangeModel.applyMemento(i)){let n=this.getFoldingModel();n&&n.then(r=>{if(r){this._restoringViewState=!0;try{r.applyMemento(i)}finally{this._restoringViewState=!1}}}).then(void 0,ye)}}onModelChanged(){this.localToDispose.clear();let e=this.editor.getModel();!this._isEnabled||!e||e.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new oB(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new aB(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(t=>this.onHiddenRangesChanges(t))),this.updateScheduler=new Wr(200),this.cursorChangedScheduler=new bt(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(M0.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(t=>this.onDidChangeModelContent(t))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(t=>this.onEditorMouseDown(t))),this.localToDispose.add(this.editor.onMouseUp(t=>this.onEditorMouseUp(t))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new lB(e),this._useFoldingProviders&&this.foldingModel){let t=M0.ordered(this.foldingModel.textModel);if(t.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new fB(e,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);t.length>0&&(this.rangeProvider=new dB(e,t,()=>this.triggerFoldingModelChanged()))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(e){var t;(t=this.hiddenRangeModel)===null||t===void 0||t.notifyChangeModelContent(e),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{let e=this.foldingModel;if(!e)return null;let t=this.getRangeProvider(e.textModel),i=this.foldingRegionPromise=wi(n=>t.compute(n));return i.then(n=>{if(n&&i===this.foldingRegionPromise){let r;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){let l=n.setCollapsedAllOfType(aa.Imports.value,!0);l&&(r=Xa.capture(this.editor),this._currentModelHasFoldedImports=l)}let s=this.editor.getSelections(),a=s?s.map(l=>l.startLineNumber):[];e.update(n,a),r&&r.restore(this.editor)}return e})}).then(void 0,e=>(ye(e),null)))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){let t=this.editor.getSelections();t&&this.hiddenRangeModel.adjustSelections(t)&&this.editor.setSelections(t)}this.editor.setHiddenAreas(e)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){let e=this.getFoldingModel();!e||e.then(t=>{if(t){let i=this.editor.getSelections();if(i&&i.length>0){let n=[];for(let r of i){let s=r.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(s)&&n.push(...t.getAllRegionsAtLine(s,a=>a.isCollapsed&&s>a.startLineNumber))}n.length&&(t.toggleCollapseState(n),this.reveal(i[0].getPosition()))}}}).then(void 0,ye)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range||!e.event.leftButton&&!e.event.middleButton)return;let t=e.target.range,i=!1;switch(e.target.type){case 4:let n=e.target.detail,r=e.target.element.offsetLeft;if(n.offsetX-r<5)return;i=!0;break;case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!e.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let a=this.editor.getModel();if(a&&t.startColumn===a.getLineMaxColumn(t.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:i}}onEditorMouseUp(e){let t=this.getFoldingModel();if(!t||!this.mouseDownInfo||!e.target)return;let i=this.mouseDownInfo.lineNumber,n=this.mouseDownInfo.iconClicked,r=e.target.range;if(!(!r||r.startLineNumber!==i)){if(n){if(e.target.type!==4)return}else{let s=this.editor.getModel();if(!s||r.startColumn!==s.getLineMaxColumn(i))return}t.then(s=>{if(s){let a=s.getRegionAtLine(i);if(a&&a.startLineNumber===i){let l=a.isCollapsed;if(n||l){let c=e.event.altKey,d=[];if(c){let h=f=>!f.containedBy(a)&&!a.containedBy(f),u=s.getRegionsInside(null,h);for(let f of u)f.isCollapsed&&d.push(f);d.length===0&&(d=u)}else{let h=e.event.middleButton||e.event.shiftKey;if(h)for(let u of s.getRegionsInside(a))u.isCollapsed===l&&d.push(u);(l||!h||d.length===0)&&d.push(a)}s.toggleCollapseState(d),this.reveal({lineNumber:i,column:1})}}}}).then(void 0,ye)}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}};gC.ID="editor.contrib.folding";gC=Fve([Bve(1,Ce)],gC);var qr=class extends _e{runEditorCommand(e,t,i){let n=gC.get(t);if(!n)return;let r=n.getFoldingModel();if(r)return this.reportTelemetry(e,t),r.then(s=>{if(s){this.invoke(n,s,t,i);let a=t.getSelection();a&&n.reveal(a.getStartPosition())}})}getSelectedLines(e){let t=e.getSelections();return t?t.map(i=>i.startLineNumber):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map(i=>i+1):this.getSelectedLines(t)}run(e,t){}};function cJ(o){if(!jo(o)){if(!Hn(o))return!1;let e=o;if(!jo(e.levels)&&!_l(e.levels)||!jo(e.direction)&&!Cr(e.direction)||!jo(e.selectionLines)&&(!_x(e.selectionLines)||!e.selectionLines.every(_l)))return!1}return!0}var dJ=class extends qr{constructor(){super({id:"editor.unfold",label:g("unfoldAction.label","Unfold"),alias:"Unfold",precondition:Yr,kbOpts:{kbExpr:A.editorTextFocus,primary:2048|1024|89,mac:{primary:2048|512|89},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:cJ,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,n){let r=n&&n.levels||1,s=this.getLineNumbers(n,i);n&&n.direction==="up"?rB(t,!1,r,s):N_(t,!1,r,s)}},hJ=class extends qr{constructor(){super({id:"editor.unfoldRecursively",label:g("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:Yr,kbOpts:{kbExpr:A.editorTextFocus,primary:Ji(2048|41,2048|89),weight:100}})}invoke(e,t,i,n){N_(t,!1,Number.MAX_VALUE,this.getSelectedLines(i))}},uJ=class extends qr{constructor(){super({id:"editor.fold",label:g("foldAction.label","Fold"),alias:"Fold",precondition:Yr,kbOpts:{kbExpr:A.editorTextFocus,primary:2048|1024|87,mac:{primary:2048|512|87},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:cJ,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,n){let r=this.getLineNumbers(n,i),s=n&&n.levels,a=n&&n.direction;typeof s!="number"&&typeof a!="string"?eJ(t,!0,r):a==="up"?rB(t,!0,s||1,r):N_(t,!0,s||1,r)}},fJ=class extends qr{constructor(){super({id:"editor.toggleFold",label:g("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:Yr,kbOpts:{kbExpr:A.editorTextFocus,primary:Ji(2048|41,2048|42),weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);JQ(t,1,n)}},gJ=class extends qr{constructor(){super({id:"editor.foldRecursively",label:g("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:Yr,kbOpts:{kbExpr:A.editorTextFocus,primary:Ji(2048|41,2048|87),weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);N_(t,!0,Number.MAX_VALUE,n)}},mJ=class extends qr{constructor(){super({id:"editor.foldAllBlockComments",label:g("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:Yr,kbOpts:{kbExpr:A.editorTextFocus,primary:Ji(2048|41,2048|85),weight:100}})}invoke(e,t,i){if(t.regions.hasTypes())QT(t,aa.Comment.value,!0);else{let n=i.getModel();if(!n)return;let r=xt.getComments(n.getLanguageId());if(r&&r.blockCommentStartToken){let s=new RegExp("^\\s*"+wo(r.blockCommentStartToken));XT(t,s,!0)}}}},pJ=class extends qr{constructor(){super({id:"editor.foldAllMarkerRegions",label:g("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:Yr,kbOpts:{kbExpr:A.editorTextFocus,primary:Ji(2048|41,2048|29),weight:100}})}invoke(e,t,i){if(t.regions.hasTypes())QT(t,aa.Region.value,!0);else{let n=i.getModel();if(!n)return;let r=xt.getFoldingRules(n.getLanguageId());if(r&&r.markers&&r.markers.start){let s=new RegExp(r.markers.start);XT(t,s,!0)}}}},_J=class extends qr{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:g("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:Yr,kbOpts:{kbExpr:A.editorTextFocus,primary:Ji(2048|41,2048|30),weight:100}})}invoke(e,t,i){if(t.regions.hasTypes())QT(t,aa.Region.value,!1);else{let n=i.getModel();if(!n)return;let r=xt.getFoldingRules(n.getLanguageId());if(r&&r.markers&&r.markers.start){let s=new RegExp(r.markers.start);XT(t,s,!1)}}}},bJ=class extends qr{constructor(){super({id:"editor.foldAllExcept",label:g("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:Yr,kbOpts:{kbExpr:A.editorTextFocus,primary:Ji(2048|41,2048|83),weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);sB(t,!0,n)}},vJ=class extends qr{constructor(){super({id:"editor.unfoldAllExcept",label:g("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:Yr,kbOpts:{kbExpr:A.editorTextFocus,primary:Ji(2048|41,2048|81),weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);sB(t,!1,n)}},wJ=class extends qr{constructor(){super({id:"editor.foldAll",label:g("foldAllAction.label","Fold All"),alias:"Fold All",precondition:Yr,kbOpts:{kbExpr:A.editorTextFocus,primary:Ji(2048|41,2048|21),weight:100}})}invoke(e,t,i){N_(t,!0)}},CJ=class extends qr{constructor(){super({id:"editor.unfoldAll",label:g("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:Yr,kbOpts:{kbExpr:A.editorTextFocus,primary:Ji(2048|41,2048|40),weight:100}})}invoke(e,t,i){N_(t,!1)}},qg=class extends qr{getFoldingLevel(){return parseInt(this.id.substr(qg.ID_PREFIX.length))}invoke(e,t,i){tJ(t,this.getFoldingLevel(),!0,this.getSelectedLines(i))}};qg.ID_PREFIX="editor.foldLevel";qg.ID=o=>qg.ID_PREFIX+o;var yJ=class extends qr{constructor(){super({id:"editor.gotoParentFold",label:g("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:Yr,kbOpts:{kbExpr:A.editorTextFocus,weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);if(n.length>0){let r=iJ(n[0],t);r!==null&&i.setSelection({startLineNumber:r,startColumn:1,endLineNumber:r,endColumn:1})}}},SJ=class extends qr{constructor(){super({id:"editor.gotoPreviousFold",label:g("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:Yr,kbOpts:{kbExpr:A.editorTextFocus,weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);if(n.length>0){let r=nJ(n[0],t);r!==null&&i.setSelection({startLineNumber:r,startColumn:1,endLineNumber:r,endColumn:1})}}},EJ=class extends qr{constructor(){super({id:"editor.gotoNextFold",label:g("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:Yr,kbOpts:{kbExpr:A.editorTextFocus,weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);if(n.length>0){let r=oJ(n[0],t);r!==null&&i.setSelection({startLineNumber:r,startColumn:1,endLineNumber:r,endColumn:1})}}};Qe(gC.ID,gC);le(dJ);le(hJ);le(uJ);le(gJ);le(wJ);le(CJ);le(mJ);le(pJ);le(_J);le(bJ);le(vJ);le(fJ);le(yJ);le(SJ);le(EJ);for(let o=1;o<=7;o++)AL(new qg({id:qg.ID(o),label:g("foldLevelAction.label","Fold Level {0}",o),alias:`Fold Level ${o}`,precondition:Yr,kbOpts:{kbExpr:A.editorTextFocus,primary:Ji(2048|41,2048|21+o),weight:100}}));var jve=j("editor.foldBackground",{light:Je(Fd,.3),dark:Je(Fd,.3),hc:null},g("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),Wve=j("editorGutter.foldingControlForeground",{dark:UL,light:UL,hc:UL},g("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));gt((o,e)=>{let t=o.getColor(jve);t&&e.addRule(`.monaco-editor .folded-background { background-color: ${t}; }`);let i=o.getColor(Wve);i&&e.addRule(`
		.monaco-editor .cldr${qt.asCSSSelector(JT)},
		.monaco-editor .cldr${qt.asCSSSelector(eN)} {
			color: ${i} !important;
		}
		`)});Dt();xe();var xJ=class extends _e{constructor(){super({id:"editor.action.fontZoomIn",label:g("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(e,t){Wa.setZoomLevel(Wa.getZoomLevel()+1)}},DJ=class extends _e{constructor(){super({id:"editor.action.fontZoomOut",label:g("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(e,t){Wa.setZoomLevel(Wa.getZoomLevel()-1)}},LJ=class extends _e{constructor(){super({id:"editor.action.fontZoomReset",label:g("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(e,t){Wa.setZoomLevel(0)}};le(xJ);le(DJ);le(LJ);var pMt=jE(NJ());Ei();di();Ai();xr();Dc();Ut();Ei();st();Oa();Is();ve();Tt();N0();var R_=class{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(e,t){let i;typeof e=="string"?i=`${t.id}/${e}`:(i=`${t.id}/${e.name}`,t.children.get(i)!==void 0&&(i=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let n=i;for(let r=0;t.children.get(n)!==void 0;r++)n=`${i}_${r}`;return n}static empty(e){return e.children.size===0}},mB=class extends R_{constructor(e,t,i){super();this.id=e,this.parent=t,this.symbol=i,this.children=new Map}},PJ=class extends R_{constructor(e,t,i,n){super();this.id=e,this.parent=t,this.label=i,this.order=n,this.children=new Map}},Pr=class extends R_{constructor(e){super();this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(e,t){let i=this._keys.for(e,!0),n=Pr._requests.get(i);if(!n){let r=new sn;n={promiseCnt:0,source:r,promise:Pr._create(e,r.token),model:void 0},Pr._requests.set(i,n);let s=Date.now();n.promise.then(()=>{this._requestDurations.update(e,Date.now()-s)})}return n.model?Promise.resolve(n.model):(n.promiseCnt+=1,t.onCancellationRequested(()=>{--n.promiseCnt===0&&(n.source.cancel(),Pr._requests.delete(i))}),new Promise((r,s)=>{n.promise.then(a=>{n.model=a,r(a)},a=>{Pr._requests.delete(i),s(a)})}))}static _create(e,t){let i=new sn(t),n=new Pr(e.uri),r=Sc.ordered(e),s=r.map((l,c)=>{var d;let h=R_.findId(`provider_${c}`,n),u=new PJ(h,n,(d=l.displayName)!==null&&d!==void 0?d:"Unknown Outline Provider",c);return Promise.resolve(l.provideDocumentSymbols(e,i.token)).then(f=>{for(let p of f||[])Pr._makeOutlineElement(p,u);return u},f=>(Di(f),u)).then(f=>{R_.empty(f)?f.remove():n._groups.set(h,f)})}),a=Sc.onDidChange(()=>{let l=Sc.ordered(e);eo(l,r)||i.cancel()});return Promise.all(s).then(()=>i.token.isCancellationRequested&&!t.isCancellationRequested?Pr._create(e,t):n._compact()).finally(()=>{a.dispose()})}static _makeOutlineElement(e,t){let i=R_.findId(e,t),n=new mB(i,t,e);if(e.children)for(let r of e.children)Pr._makeOutlineElement(r,n);t.children.set(n.id,n)}_compact(){let e=0;for(let[t,i]of this._groups)i.children.size===0?this._groups.delete(t):e+=1;if(e!==1)this.children=this._groups;else{let t=St.first(this._groups.values());for(let[,i]of t.children)i.parent=this,this.children.set(i.id,i)}return this}getTopLevelSymbols(){let e=[];for(let t of this.children.values())t instanceof mB?e.push(t.symbol):e.push(...St.map(t.children.values(),i=>i.symbol));return e.sort((t,i)=>D.compareRangesUsingStarts(t.range,i.range))}asListOfDocumentSymbols(){let e=this.getTopLevelSymbols(),t=[];return Pr._flattenDocumentSymbols(t,e,""),t.sort((i,n)=>D.compareRangesUsingStarts(i.range,n.range))}static _flattenDocumentSymbols(e,t,i){for(let n of t)e.push({kind:n.kind,tags:n.tags,name:n.name,detail:n.detail,containerName:n.containerName||i,range:n.range,selectionRange:n.selectionRange,children:void 0}),n.children&&Pr._flattenDocumentSymbols(e,n.children,n.name)}};Pr._requestDurations=new jf(Sc,350);Pr._requests=new ks(9,.75);Pr._keys=new class{constructor(){this._counter=1,this._data=new WeakMap}for(o,e){return`${o.id}/${e?o.getVersionId():""}/${this._hash(Sc.all(o))}`}_hash(o){let e="";for(let t of o){let i=this._data.get(t);typeof i=="undefined"&&(i=this._counter++,this._data.set(t,i)),e+=i}return e}};zi();var RJ=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})};function MJ(o,e,t){return RJ(this,void 0,void 0,function*(){let i=yield Pr.create(o,t);return e?i.asListOfDocumentSymbols():i.getTopLevelSymbols()})}rt.registerCommand("_executeDocumentSymbolProvider",function(o,...e){return RJ(this,void 0,void 0,function*(){let[t]=e;$t(Ee.isUri(t));let i=o.get(Ci).getModel(t);if(i)return MJ(i,!1,qe.None);let n=yield o.get(Kn).createModelReference(t);try{return yield MJ(n.object.textEditorModel,!1,qe.None)}finally{n.dispose()}})});ne();je();Dt();Ml();ve();ai();Yi();Wn();zo();xr();function Zr(o,e){let t=0;for(let i=0;i<o.length;i++)o.charAt(i)==="	"?t+=e:t++;return t}function M_(o,e,t){o=o<0?0:o;let i="";if(!t){let n=Math.floor(o/e);o=o%e;for(let r=0;r<n;r++)i+="	"}for(let n=0;n<o;n++)i+=" ";return i}xe();function FJ(o,e,t,i){if(o.getLineCount()===1&&o.getLineMaxColumn(1)===1)return[];let n=xt.getIndentationRules(o.getLanguageId());if(!n)return[];for(t=Math.min(t,o.getLineCount());e<=t&&n.unIndentedLinePattern;){let b=o.getLineContent(e);if(!n.unIndentedLinePattern.test(b))break;e++}if(e>t-1)return[];let{tabSize:r,indentSize:s,insertSpaces:a}=o.getOptions(),l=(b,v)=>(v=v||1,kr.shiftIndent(b,b.length+v,r,s,a)),c=(b,v)=>(v=v||1,kr.unshiftIndent(b,b.length+v,r,s,a)),d=[],h,u=o.getLineContent(e),f=u;if(i!=null){h=i;let b=Qt(u);f=h+u.substring(b.length),n.decreaseIndentPattern&&n.decreaseIndentPattern.test(f)&&(h=c(h),f=h+u.substring(b.length)),u!==f&&d.push(ui.replaceMove(new de(e,1,e,b.length+1),Po.normalizeIndentation(h,s,a)))}else h=Qt(u);let p=h;n.increaseIndentPattern&&n.increaseIndentPattern.test(f)?(p=l(p),h=l(h)):n.indentNextLinePattern&&n.indentNextLinePattern.test(f)&&(p=l(p)),e++;for(let b=e;b<=t;b++){let v=o.getLineContent(b),y=Qt(v),w=p+v.substring(y.length);n.decreaseIndentPattern&&n.decreaseIndentPattern.test(w)&&(p=c(p),h=c(h)),y!==p&&d.push(ui.replaceMove(new de(b,1,b,y.length+1),Po.normalizeIndentation(p,s,a))),!(n.unIndentedLinePattern&&n.unIndentedLinePattern.test(v))&&(n.increaseIndentPattern&&n.increaseIndentPattern.test(w)?(h=l(h),p=h):n.indentNextLinePattern&&n.indentNextLinePattern.test(w)?p=l(p):p=h)}return d}var fE=class extends _e{constructor(){super({id:fE.ID,label:g("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:A.writable})}run(e,t){let i=t.getModel();if(!i)return;let n=i.getOptions(),r=t.getSelection();if(!r)return;let s=new zJ(r,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})}};fE.ID="editor.action.indentationToSpaces";var gE=class extends _e{constructor(){super({id:gE.ID,label:g("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:A.writable})}run(e,t){let i=t.getModel();if(!i)return;let n=i.getOptions(),r=t.getSelection();if(!r)return;let s=new VJ(r,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})}};gE.ID="editor.action.indentationToTabs";var pB=class extends _e{constructor(e,t){super(t);this.insertSpaces=e}run(e,t){let i=e.get(dh),n=e.get(Ci),r=t.getModel();if(!r)return;let s=n.getCreationOptions(r.getLanguageId(),r.uri,r.isForSimpleWidget),a=[1,2,3,4,5,6,7,8].map(c=>({id:c.toString(),label:c.toString(),description:c===s.tabSize?g("configuredTabSize","Configured Tab Size"):void 0})),l=Math.min(r.getOptions().tabSize-1,7);setTimeout(()=>{i.pick(a,{placeHolder:g({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:a[l]}).then(c=>{c&&r&&!r.isDisposed()&&r.updateOptions({tabSize:parseInt(c.label,10),insertSpaces:this.insertSpaces})})},50)}},mE=class extends pB{constructor(){super(!1,{id:mE.ID,label:g("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}};mE.ID="editor.action.indentUsingTabs";var pE=class extends pB{constructor(){super(!0,{id:pE.ID,label:g("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}};pE.ID="editor.action.indentUsingSpaces";var _E=class extends _e{constructor(){super({id:_E.ID,label:g("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){let i=e.get(Ci),n=t.getModel();if(!n)return;let r=i.getCreationOptions(n.getLanguageId(),n.uri,n.isForSimpleWidget);n.detectIndentation(r.insertSpaces,r.tabSize)}};_E.ID="editor.action.detectIndentation";var BJ=class extends _e{constructor(){super({id:"editor.action.reindentlines",label:g("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:A.writable})}run(e,t){let i=t.getModel();if(!i)return;let n=FJ(i,1,i.getLineCount());n.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,n),t.pushUndoStop())}},jJ=class extends _e{constructor(){super({id:"editor.action.reindentselectedlines",label:g("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:A.writable})}run(e,t){let i=t.getModel();if(!i)return;let n=t.getSelections();if(n===null)return;let r=[];for(let s of n){let a=s.startLineNumber,l=s.endLineNumber;if(a!==l&&s.endColumn===1&&l--,a===1){if(a===l)continue}else a--;let c=FJ(i,a,l);r.push(...c)}r.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,r),t.pushUndoStop())}},WJ=class{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(let i of e)i.range&&typeof i.text=="string"&&this._edits.push(i)}getEditOperations(e,t){for(let n of this._edits)t.addEditOperation(D.lift(n.range),n.text);let i=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),i||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}},tN=class{constructor(e){this.callOnDispose=new Q,this.callOnModel=new Q,this.editor=e,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(47))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:e})=>{this.trigger(e)})))}trigger(e){let t=this.editor.getSelections();if(t===null||t.length>1)return;let i=this.editor.getModel();if(!i||!i.isCheapToTokenize(e.getStartPosition().lineNumber))return;let n=this.editor.getOption(9),{tabSize:r,indentSize:s,insertSpaces:a}=i.getOptions(),l=[],c={shiftIndent:f=>kr.shiftIndent(f,f.length+1,r,s,a),unshiftIndent:f=>kr.unshiftIndent(f,f.length+1,r,s,a)},d=e.startLineNumber;for(;d<=e.endLineNumber;){if(this.shouldIgnoreLine(i,d)){d++;continue}break}if(d>e.endLineNumber)return;let h=i.getLineContent(d);if(!/\S/.test(h.substring(0,e.startColumn-1))){let f=xt.getGoodIndentForLine(n,i,i.getLanguageId(),d,c);if(f!==null){let p=Qt(h),b=Zr(f,r),v=Zr(p,r);if(b!==v){let y=M_(b,r,a);l.push({range:new D(d,1,d,p.length+1),text:y}),h=y+h.substr(p.length)}else{let y=xt.getIndentMetadata(i,d);if(y===0||y===8)return}}}let u=d;for(;d<e.endLineNumber;){if(!/\S/.test(i.getLineContent(d+1))){d++;continue}break}if(d!==e.endLineNumber){let f={getLineTokens:b=>i.getLineTokens(b),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(b,v)=>i.getLanguageIdAtPosition(b,v),getLineContent:b=>b===u?h:i.getLineContent(b)},p=xt.getGoodIndentForLine(n,f,i.getLanguageId(),d+1,c);if(p!==null){let b=Zr(p,r),v=Zr(Qt(i.getLineContent(d+1)),r);if(b!==v){let y=b-v;for(let w=d+1;w<=e.endLineNumber;w++){let S=i.getLineContent(w),x=Qt(S),R=Zr(x,r)+y,O=M_(R,r,a);O!==x&&l.push({range:new D(w,1,w,x.length+1),text:O})}}}}if(l.length>0){this.editor.pushUndoStop();let f=new WJ(l,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",f),this.editor.pushUndoStop()}}shouldIgnoreLine(e,t){e.forceTokenization(t);let i=e.getLineFirstNonWhitespaceColumn(t);if(i===0)return!0;let n=e.getLineTokens(t);if(n.getCount()>0){let r=n.findTokenIndexAtOffset(i);if(r>=0&&n.getStandardTokenType(r)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};tN.ID="editor.contrib.autoIndentOnPaste";function UJ(o,e,t,i){if(o.getLineCount()===1&&o.getLineMaxColumn(1)===1)return;let n="";for(let s=0;s<t;s++)n+=" ";let r=new RegExp(n,"gi");for(let s=1,a=o.getLineCount();s<=a;s++){let l=o.getLineFirstNonWhitespaceColumn(s);if(l===0&&(l=o.getLineMaxColumn(s)),l===1)continue;let c=new D(s,1,s,l),d=o.getValueInRange(c),h=i?d.replace(/\t/ig,n):d.replace(r,"	");e.addEditOperation(c,h)}}var zJ=class{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),UJ(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}},VJ=class{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),UJ(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}};Qe(tN.ID,tN);le(fE);le(gE);le(mE);le(pE);le(_E);le(BJ);le(jJ);tt();Ei();st();ne();Is();di();Ai();Dt();An();ot();ve();Tt();N0();Dc();zi();yi();dt();var iN=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},Uve=1500,_B=class{constructor(){this._data=new Fn}push(e,t){let i=this._data.get(e.uri);i===void 0?this._data.set(e.uri,new Set([t])):i.add(t)}pop(e,t){let i=this._data.get(e.uri);i&&(i.delete(t),i.size===0&&this._data.delete(e.uri))}has(e,t){var i;return Boolean((i=this._data.get(e.uri))===null||i===void 0?void 0:i.has(t))}};function HJ(o,e,t,i){return iN(this,void 0,void 0,function*(){let n=[],s=Ec.ordered(o).reverse().map(a=>e.map(l=>iN(this,void 0,void 0,function*(){try{t.push(o,a);let c=yield a.provideInlayHints(o,l,i);(c==null?void 0:c.length)&&n.push(c.filter(d=>l.containsPosition(d.position)))}catch(c){Di(c)}finally{t.pop(o,a)}})));return yield Promise.all(s.flat()),n.flat().sort((a,l)=>H.compare(a.position,l.position))})}var bE=class{constructor(){this._entries=new ks(50)}get(e){let t=bE._key(e);return this._entries.get(t)}set(e,t){let i=bE._key(e);this._entries.set(i,t)}static _key(e){return`${e.uri.toString()}/${e.getVersionId()}`}},A_=class{constructor(e){this._editor=e,this._decorationOwnerId=++A_._decorationOwnerIdPool,this._disposables=new Q,this._sessionDisposables=new Q,this._getInlayHintsDelays=new jf(Ec,25,500),this._cache=new bE,this._decorationsMetadata=new Map,this._ruleFactory=new O1(this._editor),this._disposables.add(Ec.onDidChange(()=>this._update())),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(t=>{t.hasChanged(126)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),this._removeAllDecorations(),!this._editor.getOption(126).enabled)return;let e=this._editor.getModel();if(!e||!Ec.has(e))return;let t=this._cache.get(e);t&&this._updateHintsDecorators([e.getFullModelRange()],t);let i=new _B,n=new bt(()=>iN(this,void 0,void 0,function*(){let s=Date.now(),a=new sn;this._sessionDisposables.add(ze(()=>a.dispose(!0)));let l=this._getHintsRanges(),c=yield HJ(e,l,i,a.token);n.delay=this._getInlayHintsDelays.update(e,Date.now()-s),!a.token.isCancellationRequested&&(this._updateHintsDecorators(l,c),this._cache.set(e,Array.from(this._decorationsMetadata.values()).map(d=>d.hint)))}),this._getInlayHintsDelays.get(e));this._sessionDisposables.add(n),this._sessionDisposables.add(this._editor.onDidChangeModelContent(()=>n.schedule())),this._sessionDisposables.add(this._editor.onDidScrollChange(()=>n.schedule())),n.schedule();let r=new Q;this._sessionDisposables.add(r);for(let s of Ec.all(e))typeof s.onDidChangeInlayHints=="function"&&r.add(s.onDidChangeInlayHints(()=>{i.has(e,s)||n.schedule()}))}_getHintsRanges(){let e=30,t=this._editor.getModel(),i=this._editor.getVisibleRangesPlusViewportAboveBelow(),n=[];for(let r of i.sort(D.compareRangesUsingStarts)){let s=t.validateRange(new D(r.startLineNumber-e,r.startColumn,r.endLineNumber+e,r.endColumn));n.length===0||!D.areIntersectingOrTouching(n[n.length-1],s)?n.push(s):n[n.length-1]=D.plusRange(n[n.length-1],s)}return n}_updateHintsDecorators(e,t){let{fontSize:i,fontFamily:n}=this._getLayoutInfo(),r=this._editor.getModel(),s=[],a="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(a,n);for(let d of t){let{text:h,position:u,whitespaceBefore:f,whitespaceAfter:p}=d,b=f?i/3|0:0,v=p?i/3|0:0,y,w;d.kind===P0.Parameter?(y=Ii(eV),w=Ii(Jz)):d.kind===P0.Type?(y=Ii(Qz),w=Ii(Xz)):(y=Ii(tg),w=Ii(eg));let S=this._ruleFactory.createClassNameRef({fontSize:`${i}px`,margin:`0px ${v}px 0px ${b}px`,fontFamily:`var(${a}), ${In.fontFamily}`,padding:`1px ${Math.max(1,i/4)|0}px`,borderRadius:`${i/4|0}px`,verticalAlign:"middle",backgroundColor:y,color:w}),x="before",k=D.fromPositions(u),R=r.getWordAtPosition(u),O=!1;if(R&&(R.endColumn===u.column?(x="after",O=!0,k=$J(R,u.lineNumber)):R.startColumn===u.column&&(O=!0,k=$J(R,u.lineNumber))),s.push({decoration:{range:k,options:{[x]:{content:zve(h),inlineClassNameAffectsLetterSpacing:!0,inlineClassName:S.className},description:"InlayHint",showIfCollapsed:!O,stickiness:0}},classNameRef:S}),s.length>Uve)break}let l=[];for(let d of e)for(let{id:h}of r.getDecorationsInRange(d,this._decorationOwnerId,!0)){let u=this._decorationsMetadata.get(h);u&&(l.push(h),u.classNameRef.dispose(),this._decorationsMetadata.delete(h))}let c=r.deltaDecorations(l,s.map(d=>d.decoration),this._decorationOwnerId);for(let d=0;d<c.length;d++)this._decorationsMetadata.set(c[d],{hint:t[d],classNameRef:s[d].classNameRef})}_getLayoutInfo(){let e=this._editor.getOption(126),t=this._editor.getOption(45),i=e.fontSize;(!i||i<5||i>t)&&(i=t*.9|0);let n=e.fontFamily||this._editor.getOption(42);return{fontSize:i,fontFamily:n}}_removeAllDecorations(){this._editor.deltaDecorations(Array.from(this._decorationsMetadata.keys()),[]);for(let e of this._decorationsMetadata.values())e.classNameRef.dispose();this._decorationsMetadata.clear()}};A_.ID="editor.contrib.InlayHints";A_._decorationOwnerIdPool=0;function $J(o,e){return new D(e,o.startColumn,e,o.endColumn)}function zve(o){let e="\xA0";return o.replace(/[ \t]/g,e)}Qe(A_.ID,A_);rt.registerCommand("_executeInlayHintProvider",(o,...e)=>iN(void 0,void 0,void 0,function*(){let[t,i]=e;$t(Ee.isUri(t)),$t(D.isIRange(i));let n=yield o.get(Kn).createModelReference(t);try{return yield HJ(n.object.textEditorModel,[D.lift(i)],new _B,qe.None)}finally{n.dispose()}}));var xMt=jE(ZJ());Dt();Yi();xe();var GJ=class extends _e{constructor(){super({id:"expandLineSelection",label:g("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:A.textInputFocus,primary:2048|42}})}run(e,t,i){if(i=i||{},!t.hasModel())return;let n=t._getViewModel();n.model.pushStackElement(),n.setCursorStates(i.source,3,zn.expandLineSelection(n,n.getCursorStates())),n.revealPrimaryCursor(i.source,!0)}};le(GJ);Na();Dt();je();Ml();ve();var wB=class{constructor(e,t){this._selection=e,this._cursors=t,this._selectionId=null}getEditOperations(e,t){let i=$ve(e,this._cursors);for(let n=0,r=i.length;n<r;n++){let s=i[n];t.addEditOperation(s.range,s.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}};function $ve(o,e){e.sort((s,a)=>s.lineNumber===a.lineNumber?s.column-a.column:s.lineNumber-a.lineNumber);for(let s=e.length-2;s>=0;s--)e[s].lineNumber===e[s+1].lineNumber&&e.splice(s,1);let t=[],i=0,n=0,r=e.length;for(let s=1,a=o.getLineCount();s<=a;s++){let l=o.getLineContent(s),c=l.length+1,d=0;if(n<r&&e[n].lineNumber===s&&(d=e[n].column,n++,d===c)||l.length===0)continue;let h=Sr(l),u=0;if(h===-1)u=1;else if(h!==l.length-1)u=h+2;else continue;u=Math.max(d,u),t[i++]=ui.delete(new D(s,u,s,c))}return t}Ml();ot();ve();ai();Yi();ve();ai();var nN=class{constructor(e,t,i){this._selection=e,this._isCopyingDown=t,this._noop=i||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));let n=[];for(let s=i.startLineNumber;s<=i.endLineNumber;s++)n.push(e.getLineContent(s));let r=n.join(`
`);r===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new D(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber+1,1),i.endLineNumber===e.getLineCount()?"":`
`):this._isCopyingDown?t.addEditOperation(new D(i.startLineNumber,1,i.startLineNumber,1),r+`
`):t.addEditOperation(new D(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),`
`+r),this._selectionId=t.trackSelection(i),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let n=i.startLineNumber,r=i.startColumn,s=i.endLineNumber,a=i.endColumn;this._startLineNumberDelta!==0&&(n=n+this._startLineNumberDelta,r=1),this._endLineNumberDelta!==0&&(s=s+this._endLineNumberDelta,a=1),i=de.createWithDirection(n,r,s,a,this._selectionDirection)}return i}};je();ve();ai();Yb();zo();var CB=class{constructor(e,t,i){this._selection=e,this._isMovingDown=t,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){let i=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===i){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let n=this._selection;n.startLineNumber<n.endLineNumber&&n.endColumn===1&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));let{tabSize:r,indentSize:s,insertSpaces:a}=e.getOptions(),l=this.buildIndentConverter(r,s,a),c={getLineTokens:d=>e.getLineTokens(d),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(d,h)=>e.getLanguageIdAtPosition(d,h),getLineContent:null};if(n.startLineNumber===n.endLineNumber&&e.getLineMaxColumn(n.startLineNumber)===1){let d=n.startLineNumber,h=this._isMovingDown?d+1:d-1;e.getLineMaxColumn(h)===1?t.addEditOperation(new D(1,1,1,1),null):(t.addEditOperation(new D(d,1,d,1),e.getLineContent(h)),t.addEditOperation(new D(h,1,h,e.getLineMaxColumn(h)),null)),n=new de(h,1,h,1)}else{let d,h;if(this._isMovingDown){d=n.endLineNumber+1,h=e.getLineContent(d),t.addEditOperation(new D(d-1,e.getLineMaxColumn(d-1),d,e.getLineMaxColumn(d)),null);let u=h;if(this.shouldAutoIndent(e,n)){let f=this.matchEnterRule(e,l,r,d,n.startLineNumber-1);if(f!==null){let b=Qt(e.getLineContent(d)),v=f+Zr(b,r);u=M_(v,r,a)+this.trimLeft(h)}else{c.getLineContent=v=>v===n.startLineNumber?e.getLineContent(d):e.getLineContent(v);let b=xt.getGoodIndentForLine(this._autoIndent,c,e.getLanguageIdAtPosition(d,1),n.startLineNumber,l);if(b!==null){let v=Qt(e.getLineContent(d)),y=Zr(b,r),w=Zr(v,r);y!==w&&(u=M_(y,r,a)+this.trimLeft(h))}}t.addEditOperation(new D(n.startLineNumber,1,n.startLineNumber,1),u+`
`);let p=this.matchEnterRuleMovingDown(e,l,r,n.startLineNumber,d,u);if(p!==null)p!==0&&this.getIndentEditsOfMovingBlock(e,t,n,r,a,p);else{c.getLineContent=v=>v===n.startLineNumber?u:v>=n.startLineNumber+1&&v<=n.endLineNumber+1?e.getLineContent(v-1):e.getLineContent(v);let b=xt.getGoodIndentForLine(this._autoIndent,c,e.getLanguageIdAtPosition(d,1),n.startLineNumber+1,l);if(b!==null){let v=Qt(e.getLineContent(n.startLineNumber)),y=Zr(b,r),w=Zr(v,r);if(y!==w){let S=y-w;this.getIndentEditsOfMovingBlock(e,t,n,r,a,S)}}}}else t.addEditOperation(new D(n.startLineNumber,1,n.startLineNumber,1),u+`
`)}else if(d=n.startLineNumber-1,h=e.getLineContent(d),t.addEditOperation(new D(d,1,d+1,1),null),t.addEditOperation(new D(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),`
`+h),this.shouldAutoIndent(e,n)){c.getLineContent=f=>f===d?e.getLineContent(n.startLineNumber):e.getLineContent(f);let u=this.matchEnterRule(e,l,r,n.startLineNumber,n.startLineNumber-2);if(u!==null)u!==0&&this.getIndentEditsOfMovingBlock(e,t,n,r,a,u);else{let f=xt.getGoodIndentForLine(this._autoIndent,c,e.getLanguageIdAtPosition(n.startLineNumber,1),d,l);if(f!==null){let p=Qt(e.getLineContent(n.startLineNumber)),b=Zr(f,r),v=Zr(p,r);if(b!==v){let y=b-v;this.getIndentEditsOfMovingBlock(e,t,n,r,a,y)}}}}}this._selectionId=t.trackSelection(n)}buildIndentConverter(e,t,i){return{shiftIndent:n=>kr.shiftIndent(n,n.length+1,e,t,i),unshiftIndent:n=>kr.unshiftIndent(n,n.length+1,e,t,i)}}parseEnterResult(e,t,i,n,r){if(r){let s=r.indentation;r.indentAction===dn.None||r.indentAction===dn.Indent?s=r.indentation+r.appendText:r.indentAction===dn.IndentOutdent?s=r.indentation:r.indentAction===dn.Outdent&&(s=t.unshiftIndent(r.indentation)+r.appendText);let a=e.getLineContent(n);if(this.trimLeft(a).indexOf(this.trimLeft(s))>=0){let l=Qt(e.getLineContent(n)),c=Qt(s),d=xt.getIndentMetadata(e,n);d!==null&&d&2&&(c=t.unshiftIndent(c));let h=Zr(c,i),u=Zr(l,i);return h-u}}return null}matchEnterRuleMovingDown(e,t,i,n,r,s){if(Sr(s)>=0){let a=e.getLineMaxColumn(r),l=xt.getEnterAction(this._autoIndent,e,new D(r,a,r,a));return this.parseEnterResult(e,t,i,n,l)}else{let a=n-1;for(;a>=1;){let d=e.getLineContent(a);if(Sr(d)>=0)break;a--}if(a<1||n>e.getLineCount())return null;let l=e.getLineMaxColumn(a),c=xt.getEnterAction(this._autoIndent,e,new D(a,l,a,l));return this.parseEnterResult(e,t,i,n,c)}}matchEnterRule(e,t,i,n,r,s){let a=r;for(;a>=1;){let d;if(a===r&&s!==void 0?d=s:d=e.getLineContent(a),Sr(d)>=0)break;a--}if(a<1||n>e.getLineCount())return null;let l=e.getLineMaxColumn(a),c=xt.getEnterAction(this._autoIndent,e,new D(a,l,a,l));return this.parseEnterResult(e,t,i,n,c)}trimLeft(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4||!e.isCheapToTokenize(t.startLineNumber))return!1;let i=e.getLanguageIdAtPosition(t.startLineNumber,1),n=e.getLanguageIdAtPosition(t.endLineNumber,1);return!(i!==n||xt.getIndentRulesSupport(i)===null)}getIndentEditsOfMovingBlock(e,t,i,n,r,s){for(let a=i.startLineNumber;a<=i.endLineNumber;a++){let l=e.getLineContent(a),c=Qt(l),h=Zr(c,n)+s,u=M_(h,n,r);u!==c&&(t.addEditOperation(new D(a,1,a,c.length+1),u),a===i.endLineNumber&&i.endColumn<=c.length+1&&u===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i}};Ml();ve();var wh=class{constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}static getCollator(){return wh._COLLATOR||(wh._COLLATOR=new Intl.Collator),wh._COLLATOR}getEditOperations(e,t){let i=Kve(e,this.selection,this.descending);i&&t.addEditOperation(i.range,i.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,i){if(e===null)return!1;let n=XJ(e,t,i);if(!n)return!1;for(let r=0,s=n.before.length;r<s;r++)if(n.before[r]!==n.after[r])return!0;return!1}};wh._COLLATOR=null;function XJ(o,e,t){let i=e.startLineNumber,n=e.endLineNumber;if(e.endColumn===1&&n--,i>=n)return null;let r=[];for(let a=i;a<=n;a++)r.push(o.getLineContent(a));let s=r.slice(0);return s.sort(wh.getCollator().compare),t===!0&&(s=s.reverse()),{startLineNumber:i,endLineNumber:n,before:r,after:s}}function Kve(o,e,t){let i=XJ(o,e,t);return i?ui.replace(new D(i.startLineNumber,1,i.endLineNumber,o.getLineMaxColumn(i.endLineNumber)),i.after.join(`
`)):null}xe();No();var yB=class extends _e{constructor(e,t){super(t);this.down=e}run(e,t){if(!t.hasModel())return;let i=t.getSelections().map((s,a)=>({selection:s,index:a,ignore:!1}));i.sort((s,a)=>D.compareRangesUsingStarts(s.selection,a.selection));let n=i[0];for(let s=1;s<i.length;s++){let a=i[s];n.selection.endLineNumber===a.selection.startLineNumber&&(n.index<a.index?a.ignore=!0:(n.ignore=!0,n=a))}let r=[];for(let s of i)r.push(new nN(s.selection,this.down,s.ignore));t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}},QJ=class extends yB{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:g("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:A.writable,kbOpts:{kbExpr:A.editorTextFocus,primary:512|1024|16,linux:{primary:2048|512|1024|16},weight:100},menuOpts:{menuId:De.MenubarSelectionMenu,group:"2_line",title:g({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}},JJ=class extends yB{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:g("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:A.writable,kbOpts:{kbExpr:A.editorTextFocus,primary:512|1024|18,linux:{primary:2048|512|1024|18},weight:100},menuOpts:{menuId:De.MenubarSelectionMenu,group:"2_line",title:g({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}},eee=class extends _e{constructor(){super({id:"editor.action.duplicateSelection",label:g("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:A.writable,menuOpts:{menuId:De.MenubarSelectionMenu,group:"2_line",title:g({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,i){if(!t.hasModel())return;let n=[],r=t.getSelections(),s=t.getModel();for(let a of r)if(a.isEmpty())n.push(new nN(a,!0));else{let l=new de(a.endLineNumber,a.endColumn,a.endLineNumber,a.endColumn);n.push(new p2(l,s.getValueInRange(a)))}t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}},SB=class extends _e{constructor(e,t){super(t);this.down=e}run(e,t){let i=[],n=t.getSelections()||[],r=t.getOption(9);for(let s of n)i.push(new CB(s,this.down,r));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}},tee=class extends SB{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:g("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:A.writable,kbOpts:{kbExpr:A.editorTextFocus,primary:512|16,linux:{primary:512|16},weight:100},menuOpts:{menuId:De.MenubarSelectionMenu,group:"2_line",title:g({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}},iee=class extends SB{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:g("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:A.writable,kbOpts:{kbExpr:A.editorTextFocus,primary:512|18,linux:{primary:512|18},weight:100},menuOpts:{menuId:De.MenubarSelectionMenu,group:"2_line",title:g({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}},EB=class extends _e{constructor(e,t){super(t);this.descending=e}run(e,t){let i=t.getSelections()||[];for(let r of i)if(!wh.canRun(t.getModel(),r,this.descending))return;let n=[];for(let r=0,s=i.length;r<s;r++)n[r]=new wh(i[r],this.descending);t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}},nee=class extends EB{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:g("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:A.writable})}},oee=class extends EB{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:g("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:A.writable})}},ree=class extends _e{constructor(){super({id:"editor.action.removeDuplicateLines",label:g("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:A.writable})}run(e,t){if(!t.hasModel())return;let i=t.getModel();if(i.getLineCount()===1&&i.getLineMaxColumn(1)===1)return;let n=[],r=[],s=0;for(let a of t.getSelections()){let l=new Set,c=[];for(let f=a.startLineNumber;f<=a.endLineNumber;f++){let p=i.getLineContent(f);l.has(p)||(c.push(p),l.add(p))}let d=new de(a.startLineNumber,1,a.endLineNumber,i.getLineMaxColumn(a.endLineNumber)),h=a.startLineNumber-s,u=new de(h,1,h+c.length-1,c[c.length-1].length);n.push(ui.replace(d,c.join(`
`))),r.push(u),s+=a.endLineNumber-a.startLineNumber+1-c.length}t.pushUndoStop(),t.executeEdits(this.id,n,r),t.pushUndoStop()}},wE=class extends _e{constructor(){super({id:wE.ID,label:g("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:A.writable,kbOpts:{kbExpr:A.editorTextFocus,primary:Ji(2048|41,2048|54),weight:100}})}run(e,t,i){let n=[];i.reason==="auto-save"&&(n=(t.getSelections()||[]).map(a=>new H(a.positionLineNumber,a.positionColumn)));let r=t.getSelection();if(r===null)return;let s=new wB(r,n);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop()}};wE.ID="editor.action.trimTrailingWhitespace";var see=class extends _e{constructor(){super({id:"editor.action.deleteLines",label:g("lines.delete","Delete Line"),alias:"Delete Line",precondition:A.writable,kbOpts:{kbExpr:A.textInputFocus,primary:2048|1024|41,weight:100}})}run(e,t){if(!t.hasModel())return;let i=this._getLinesToRemove(t),n=t.getModel();if(n.getLineCount()===1&&n.getLineMaxColumn(1)===1)return;let r=0,s=[],a=[];for(let l=0,c=i.length;l<c;l++){let d=i[l],h=d.startLineNumber,u=d.endLineNumber,f=1,p=n.getLineMaxColumn(u);u<n.getLineCount()?(u+=1,p=1):h>1&&(h-=1,f=n.getLineMaxColumn(h)),s.push(ui.replace(new de(h,f,u,p),"")),a.push(new de(h-r,d.positionColumn,h-r,d.positionColumn)),r+=d.endLineNumber-d.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,s,a),t.pushUndoStop()}_getLinesToRemove(e){let t=e.getSelections().map(r=>{let s=r.endLineNumber;return r.startLineNumber<r.endLineNumber&&r.endColumn===1&&(s-=1),{startLineNumber:r.startLineNumber,selectionStartColumn:r.selectionStartColumn,endLineNumber:s,positionColumn:r.positionColumn}});t.sort((r,s)=>r.startLineNumber===s.startLineNumber?r.endLineNumber-s.endLineNumber:r.startLineNumber-s.startLineNumber);let i=[],n=t[0];for(let r=1;r<t.length;r++)n.endLineNumber+1>=t[r].startLineNumber?n.endLineNumber=t[r].endLineNumber:(i.push(n),n=t[r]);return i.push(n),i}},aee=class extends _e{constructor(){super({id:"editor.action.indentLines",label:g("lines.indent","Indent Line"),alias:"Indent Line",precondition:A.writable,kbOpts:{kbExpr:A.editorTextFocus,primary:2048|89,weight:100}})}run(e,t){let i=t._getViewModel();!i||(t.pushUndoStop(),t.executeCommands(this.id,Ki.indent(i.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}},lee=class extends _e{constructor(){super({id:"editor.action.outdentLines",label:g("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:A.writable,kbOpts:{kbExpr:A.editorTextFocus,primary:2048|87,weight:100}})}run(e,t){mg.Outdent.runEditorCommand(e,t,null)}},cee=class extends _e{constructor(){super({id:"editor.action.insertLineBefore",label:g("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:A.writable,kbOpts:{kbExpr:A.editorTextFocus,primary:2048|1024|3,weight:100}})}run(e,t){let i=t._getViewModel();!i||(t.pushUndoStop(),t.executeCommands(this.id,Ki.lineInsertBefore(i.cursorConfig,t.getModel(),t.getSelections())))}},dee=class extends _e{constructor(){super({id:"editor.action.insertLineAfter",label:g("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:A.writable,kbOpts:{kbExpr:A.editorTextFocus,primary:2048|3,weight:100}})}run(e,t){let i=t._getViewModel();!i||(t.pushUndoStop(),t.executeCommands(this.id,Ki.lineInsertAfter(i.cursorConfig,t.getModel(),t.getSelections())))}},xB=class extends _e{run(e,t){if(!t.hasModel())return;let i=t.getSelection(),n=this._getRangesToDelete(t),r=[];for(let l=0,c=n.length-1;l<c;l++){let d=n[l],h=n[l+1];D.intersectRanges(d,h)===null?r.push(d):n[l+1]=D.plusRange(d,h)}r.push(n[n.length-1]);let s=this._getEndCursorState(i,r),a=r.map(l=>ui.replace(l,""));t.pushUndoStop(),t.executeEdits(this.id,a,s),t.pushUndoStop()}},hee=class extends xB{constructor(){super({id:"deleteAllLeft",label:g("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:A.writable,kbOpts:{kbExpr:A.textInputFocus,primary:0,mac:{primary:2048|1},weight:100}})}_getEndCursorState(e,t){let i=null,n=[],r=0;return t.forEach(s=>{let a;if(s.endColumn===1&&r>0){let l=s.startLineNumber-r;a=new de(l,s.startColumn,l,s.startColumn)}else a=new de(s.startLineNumber,s.startColumn,s.startLineNumber,s.startColumn);r+=s.endLineNumber-s.startLineNumber,s.intersectRanges(e)?i=a:n.push(a)}),i&&n.unshift(i),n}_getRangesToDelete(e){let t=e.getSelections();if(t===null)return[];let i=t,n=e.getModel();return n===null?[]:(i.sort(D.compareRangesUsingStarts),i=i.map(r=>{if(r.isEmpty())if(r.startColumn===1){let s=Math.max(1,r.startLineNumber-1),a=r.startLineNumber===1?1:n.getLineContent(s).length+1;return new D(s,a,r.startLineNumber,1)}else return new D(r.startLineNumber,1,r.startLineNumber,r.startColumn);else return new D(r.startLineNumber,1,r.endLineNumber,r.endColumn)}),i)}},uee=class extends xB{constructor(){super({id:"deleteAllRight",label:g("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:A.writable,kbOpts:{kbExpr:A.textInputFocus,primary:0,mac:{primary:256|41,secondary:[2048|20]},weight:100}})}_getEndCursorState(e,t){let i=null,n=[];for(let r=0,s=t.length,a=0;r<s;r++){let l=t[r],c=new de(l.startLineNumber-a,l.startColumn,l.startLineNumber-a,l.startColumn);l.intersectRanges(e)?i=c:n.push(c)}return i&&n.unshift(i),n}_getRangesToDelete(e){let t=e.getModel();if(t===null)return[];let i=e.getSelections();if(i===null)return[];let n=i.map(r=>{if(r.isEmpty()){let s=t.getLineMaxColumn(r.startLineNumber);return r.startColumn===s?new D(r.startLineNumber,r.startColumn,r.startLineNumber+1,1):new D(r.startLineNumber,r.startColumn,r.startLineNumber,s)}return r});return n.sort(D.compareRangesUsingStarts),n}},fee=class extends _e{constructor(){super({id:"editor.action.joinLines",label:g("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:A.writable,kbOpts:{kbExpr:A.editorTextFocus,primary:0,mac:{primary:256|40},weight:100}})}run(e,t){let i=t.getSelections();if(i===null)return;let n=t.getSelection();if(n===null)return;i.sort(D.compareRangesUsingStarts);let r=[],s=i.reduce((u,f)=>u.isEmpty()?u.endLineNumber===f.startLineNumber?(n.equalsSelection(u)&&(n=f),f):f.startLineNumber>u.endLineNumber+1?(r.push(u),f):new de(u.startLineNumber,u.startColumn,f.endLineNumber,f.endColumn):f.startLineNumber>u.endLineNumber?(r.push(u),f):new de(u.startLineNumber,u.startColumn,f.endLineNumber,f.endColumn));r.push(s);let a=t.getModel();if(a===null)return;let l=[],c=[],d=n,h=0;for(let u=0,f=r.length;u<f;u++){let p=r[u],b=p.startLineNumber,v=1,y=0,w,S,x=a.getLineContent(p.endLineNumber).length-p.endColumn;if(p.isEmpty()||p.startLineNumber===p.endLineNumber){let O=p.getStartPosition();O.lineNumber<a.getLineCount()?(w=b+1,S=a.getLineMaxColumn(w)):(w=O.lineNumber,S=a.getLineMaxColumn(O.lineNumber))}else w=p.endLineNumber,S=a.getLineMaxColumn(w);let k=a.getLineContent(b);for(let O=b+1;O<=w;O++){let N=a.getLineContent(O),W=a.getLineFirstNonWhitespaceColumn(O);if(W>=1){let G=!0;k===""&&(G=!1),G&&(k.charAt(k.length-1)===" "||k.charAt(k.length-1)==="	")&&(G=!1,k=k.replace(/[\s\uFEFF\xA0]+$/g," "));let Y=N.substr(W-1);k+=(G?" ":"")+Y,G?y=Y.length+1:y=Y.length}else y=0}let R=new D(b,v,w,S);if(!R.isEmpty()){let O;p.isEmpty()?(l.push(ui.replace(R,k)),O=new de(R.startLineNumber-h,k.length-y+1,b-h,k.length-y+1)):p.startLineNumber===p.endLineNumber?(l.push(ui.replace(R,k)),O=new de(p.startLineNumber-h,p.startColumn,p.endLineNumber-h,p.endColumn)):(l.push(ui.replace(R,k)),O=new de(p.startLineNumber-h,p.startColumn,p.startLineNumber-h,k.length-x)),D.intersectRanges(R,n)!==null?d=O:c.push(O)}h+=R.endLineNumber-R.startLineNumber}c.unshift(d),t.pushUndoStop(),t.executeEdits(this.id,l,c),t.pushUndoStop()}},gee=class extends _e{constructor(){super({id:"editor.action.transpose",label:g("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:A.writable})}run(e,t){let i=t.getSelections();if(i===null)return;let n=t.getModel();if(n===null)return;let r=[];for(let s=0,a=i.length;s<a;s++){let l=i[s];if(!l.isEmpty())continue;let c=l.getStartPosition(),d=n.getLineMaxColumn(c.lineNumber);if(c.column>=d){if(c.lineNumber===n.getLineCount())continue;let h=new D(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),u=n.getValueInRange(h).split("").reverse().join("");r.push(new Dn(new de(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),u))}else{let h=new D(c.lineNumber,Math.max(1,c.column-1),c.lineNumber,c.column+1),u=n.getValueInRange(h).split("").reverse().join("");r.push(new Dp(h,u,new de(c.lineNumber,c.column+1,c.lineNumber,c.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}},CE=class extends _e{run(e,t){let i=t.getSelections();if(i===null)return;let n=t.getModel();if(n===null)return;let r=t.getOption(116),s=[];for(let a of i)if(a.isEmpty()){let l=a.getStartPosition(),c=t.getConfiguredWordAtPosition(l);if(!c)continue;let d=new D(l.lineNumber,c.startColumn,l.lineNumber,c.endColumn),h=n.getValueInRange(d);s.push(ui.replace(d,this._modifyText(h,r)))}else{let l=n.getValueInRange(a);s.push(ui.replace(a,this._modifyText(l,r)))}t.pushUndoStop(),t.executeEdits(this.id,s),t.pushUndoStop()}},mee=class extends CE{constructor(){super({id:"editor.action.transformToUppercase",label:g("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:A.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}},pee=class extends CE{constructor(){super({id:"editor.action.transformToLowercase",label:g("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:A.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}},oN=class{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}},mC=class extends CE{constructor(){super({id:"editor.action.transformToTitlecase",label:g("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:A.writable})}_modifyText(e,t){let i=mC.titleBoundary.get();return i?e.toLocaleLowerCase().replace(i,n=>n.toLocaleUpperCase()):e}};mC.titleBoundary=new oN("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");var nf=class extends CE{constructor(){super({id:"editor.action.transformToSnakecase",label:g("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:A.writable})}_modifyText(e,t){let i=nf.caseBoundary.get(),n=nf.singleLetters.get();return!i||!n?e:e.replace(i,"$1_$2").replace(n,"$1_$2$3").toLocaleLowerCase()}};nf.caseBoundary=new oN("(\\p{Ll})(\\p{Lu})","gmu");nf.singleLetters=new oN("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");le(QJ);le(JJ);le(eee);le(tee);le(iee);le(nee);le(oee);le(ree);le(wE);le(see);le(aee);le(lee);le(cee);le(dee);le(hee);le(uee);le(fee);le(gee);le(mee);le(pee);nf.caseBoundary.isSupported()&&nf.singleLetters.isSupported()&&le(nf);mC.titleBoundary.isSupported()&&le(mC);Ut();tt();Ei();Yn();st();ne();je();Ai();Dt();_o();ot();ve();Yi();Wn();Tt();zo();xe();_t();yi();dt();var Yve=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},qve=function(o,e){return function(t,i){e(t,i,o)}},DB=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},_ee=new be("LinkedEditingInputVisible",!1),bee="linked-editing-decoration",Gg=class LB extends ${constructor(e,t){super();this._debounceDuration=200,this._localToDispose=this._register(new Q),this._editor=e,this._enabled=!1,this._visibleContextKey=_ee.bindTo(t),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new Q),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(i=>{(i.hasChanged(61)||i.hasChanged(81))&&this.reinitialize(!1)})),this._register(Hb.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(e){return e.getContribution(LB.ID)}reinitialize(e){let t=this._editor.getModel(),i=t!==null&&(this._editor.getOption(61)||this._editor.getOption(81))&&Hb.has(t);if(i===this._enabled&&!e||(this._enabled=i,this.clearRanges(),this._localToDispose.clear(),!i||t===null))return;this._languageWordPattern=xt.getWordDefinition(t.getLanguageId()),this._localToDispose.add(t.onDidChangeLanguageConfiguration(()=>{this._languageWordPattern=xt.getWordDefinition(t.getLanguageId())}));let n=new Wr(this._debounceDuration),r=()=>{this._rangeUpdateTriggerPromise=n.trigger(()=>this.updateRanges(),this._debounceDuration)},s=new Wr(0),a=l=>{this._rangeSyncTriggerPromise=s.trigger(()=>this._syncRanges(l))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{r()})),this._localToDispose.add(this._editor.onDidChangeModelContent(l=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){let c=t.getDecorationRange(this._currentDecorations[0]);if(c&&l.changes.every(d=>c.intersectRanges(d.range))){a(this._currentDecorations);return}}r()})),this._localToDispose.add({dispose:()=>{n.cancel(),s.cancel()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._currentDecorations||e.length===0)return;let t=this._editor.getModel(),i=t.getDecorationRange(e[0]);if(!i||i.startLineNumber!==i.endLineNumber)return this.clearRanges();let n=t.getValueInRange(i);if(this._currentWordPattern){let s=n.match(this._currentWordPattern);if((s?s[0].length:0)!==n.length)return this.clearRanges()}let r=[];for(let s=1,a=e.length;s<a;s++){let l=t.getDecorationRange(e[s]);if(!!l)if(l.startLineNumber!==l.endLineNumber)r.push({range:l,text:n});else{let c=t.getValueInRange(l),d=n,h=l.startColumn,u=l.endColumn,f=wc(c,d);h+=f,c=c.substr(f),d=d.substr(f);let p=Nm(c,d);u-=p,c=c.substr(0,c.length-p),d=d.substr(0,d.length-p),(h!==u||d.length!==0)&&r.push({range:new D(l.startLineNumber,h,l.endLineNumber,u),text:d})}}if(r.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;let s=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",r),this._editor._getViewModel().setPrevEditOperationType(s)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(e=!1){return DB(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}let t=this._editor.getPosition();if(!this._enabled&&!e||this._editor.getSelections().length>1){this.clearRanges();return}let i=this._editor.getModel(),n=i.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===n){if(t.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){let s=i.getDecorationRange(this._currentDecorations[0]);if(s&&s.containsPosition(t))return}}this._currentRequestPosition=t,this._currentRequestModelVersion=n;let r=wi(s=>DB(this,void 0,void 0,function*(){try{let a=yield wee(i,t,s);if(r!==this._currentRequest||(this._currentRequest=null,n!==i.getVersionId()))return;let l=[];(a==null?void 0:a.ranges)&&(l=a.ranges),this._currentWordPattern=(a==null?void 0:a.wordPattern)||this._languageWordPattern;let c=!1;for(let h=0,u=l.length;h<u;h++)if(D.containsPosition(l[h],t)){if(c=!0,h!==0){let f=l[h];l.splice(h,1),l.unshift(f)}break}if(!c){this.clearRanges();return}let d=l.map(h=>({range:h,options:LB.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,d)}catch(a){es(a)||ye(a),(this._currentRequest===r||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=r,r})}};Gg.ID="editor.contrib.linkedEditing";Gg.DECORATION=Ze.register({description:"linked-editing",stickiness:0,className:bee});Gg=Yve([qve(1,Ce)],Gg);var vee=class extends _e{constructor(){super({id:"editor.action.linkedEditing",label:g("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:pe.and(A.writable,A.hasRenameProvider),kbOpts:{kbExpr:A.editorTextFocus,primary:2048|1024|60,weight:100}})}runCommand(e,t){let i=e.get(Ot),[n,r]=Array.isArray(t)&&t||[void 0,void 0];return Ee.isUri(n)&&H.isIPosition(r)?i.openCodeEditor({resource:n},i.getActiveCodeEditor()).then(s=>{!s||(s.setPosition(r),s.invokeWithinContext(a=>(this.reportTelemetry(a,s),this.run(a,s))))},ye):super.runCommand(e,t)}run(e,t){let i=Gg.get(t);return i?Promise.resolve(i.updateRanges(!0)):Promise.resolve()}},Zve=Hi.bindToContribution(Gg.get);ue(new Zve({id:"cancelLinkedEditingInput",precondition:_ee,handler:o=>o.clearRanges(),kbOpts:{kbExpr:A.editorTextFocus,weight:100+99,primary:9,secondary:[1024|9]}}));function wee(o,e,t){let i=Hb.ordered(o);return wD(i.map(n=>()=>DB(this,void 0,void 0,function*(){try{return yield n.provideLinkedEditingRanges(o,e,t)}catch(r){Di(r);return}})),n=>!!n&&kn(n==null?void 0:n.ranges))}var Gve=j("editor.linkedEditingBackground",{dark:Z.fromHex("#f00").transparent(.3),light:Z.fromHex("#f00").transparent(.3),hc:Z.fromHex("#f00").transparent(.3)},g("editorLinkedEditingBackground","Background color when the editor auto renames on type."));gt((o,e)=>{let t=o.getColor(Gve);t&&e.addRule(`.monaco-editor .${bee} { background: ${t}; border-left-color: ${t}; }`)});Fs("_executeLinkedEditingProvider",(o,e)=>wee(o,e,qe.None));Qe(Gg.ID,Gg);le(vee);tt();Ei();st();ne();ns();wt();Er();Ai();Dt();Wn();Tt();Ut();Ei();st();ne();di();Ai();ve();Tt();xr();zi();var Cee=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},yee=class{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(e){return Cee(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,e)).then(t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}},yE=class{constructor(e){this._disposables=new Q;let t=[];for(let[i,n]of e){let r=i.links.map(s=>new yee(s,n));t=yE._union(t,r),pb(i)&&this._disposables.add(i)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){let i=[],n,r,s,a;for(n=0,s=0,r=e.length,a=t.length;n<r&&s<a;){let l=e[n],c=t[s];if(D.areIntersectingOrTouching(l.range,c.range)){n++;continue}D.compareRangesUsingStarts(l.range,c.range)<0?(i.push(l),n++):(i.push(c),s++)}for(;n<r;n++)i.push(e[n]);for(;s<a;s++)i.push(t[s]);return i}};function kB(o,e){let t=[],i=$h.ordered(o).reverse().map((n,r)=>Promise.resolve(n.provideLinks(o,e)).then(s=>{s&&(t[r]=[s,n])},Di));return Promise.all(i).then(()=>{let n=new yE(hd(t));return e.isCancellationRequested?(n.dispose(),new yE([])):n})}rt.registerCommand("_executeLinkProvider",(o,...e)=>Cee(void 0,void 0,void 0,function*(){let[t,i]=e;$t(t instanceof Ee),typeof i!="number"&&(i=0);let n=o.get(Ci).getModel(t);if(!n)return[];let r=yield kB(n,qe.None);if(!r)return[];for(let a=0;a<Math.min(i,r.links.length);a++)yield r.links[a].resolve(qe.None);let s=r.links.slice(0);return r.dispose(),s}));xe();yi();dt();var Xve=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},See=function(o,e){return function(t,i){e(t,i,o)}},Qve=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})};function Jve(o,e){let t=o.url&&/^command:/i.test(o.url.toString()),i=o.tooltip?o.tooltip:t?g("links.navigate.executeCmd","Execute command"):g("links.navigate.follow","Follow link"),n=e?Xe?g("links.navigate.kb.meta.mac","cmd + click"):g("links.navigate.kb.meta","ctrl + click"):Xe?g("links.navigate.kb.alt.mac","option + click"):g("links.navigate.kb.alt","alt + click");if(o.url){let r="";if(/^command:/i.test(o.url.toString())){let a=o.url.toString().match(/^command:([^?#]+)/);if(a){let l=a[1];r=` "${g("tooltip.explanation","Execute command {0}",l)}"`}}return new ps("",!0).appendMarkdown(`[${i}](${o.url.toString(!0).replace(/ /g,"%20")}${r}) (${n})`)}else return new ps().appendText(`${i} (${n})`)}var Eee={general:Ze.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:Ze.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})},F_=class{constructor(e,t){this.link=e,this.decorationId=t}static decoration(e,t){return{range:e.range,options:F_._getOptions(e,t,!1)}}static _getOptions(e,t,i){let n=Object.assign({},i?Eee.active:Eee.general);return n.hoverMessage=Jve(e,t),n}activate(e,t){e.changeDecorationOptions(this.decorationId,F_._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,F_._getOptions(this.link,t,!1))}},B_=class IB{constructor(e,t,i){this.listenersToRemove=new Q,this.editor=e,this.openerService=t,this.notificationService=i;let n=new yS(e);this.listenersToRemove.add(n),this.listenersToRemove.add(n.onMouseMoveOrRelevantKeyDown(([r,s])=>{this._onEditorMouseMove(r,s)})),this.listenersToRemove.add(n.onExecute(r=>{this.onEditorMouseUp(r)})),this.listenersToRemove.add(n.onCancel(r=>{this.cleanUpActiveLinkDecoration()})),this.enabled=e.getOption(62),this.listenersToRemove.add(e.onDidChangeConfiguration(r=>{let s=e.getOption(62);this.enabled!==s&&(this.enabled=s,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(e.onDidChangeModelContent(r=>this.onChange())),this.listenersToRemove.add(e.onDidChangeModel(r=>this.onModelChanged())),this.listenersToRemove.add(e.onDidChangeModelLanguage(r=>this.onModelModeChanged())),this.listenersToRemove.add($h.onDidChange(r=>this.onModelModeChanged())),this.timeout=new Fi,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(e){return e.getContribution(IB.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),IB.RECOMPUTE_TIME)}beginCompute(){return Qve(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.enabled)return;let e=this.editor.getModel();if(!!$h.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=wi(t=>kB(e,t));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(t){ye(t)}finally{this.computePromise=null}}})}updateDecorations(e){let t=this.editor.getOption(69)==="altKey",i=[],n=Object.keys(this.currentOccurrences);for(let a=0,l=n.length;a<l;a++){let c=n[a],d=this.currentOccurrences[c];i.push(d.decorationId)}let r=[];if(e)for(let a of e)r.push(F_.decoration(a,t));let s=this.editor.deltaDecorations(i,r);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let a=0,l=s.length;a<l;a++){let c=new F_(e[a],s[a]);this.currentOccurrences[c.decorationId]=c}}_onEditorMouseMove(e,t){let i=this.editor.getOption(69)==="altKey";if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();let n=this.getLinkOccurrence(e.target.position);n&&this.editor.changeDecorations(r=>{n.activate(r,i),this.activeLinkDecorationId=n.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){let e=this.editor.getOption(69)==="altKey";if(this.activeLinkDecorationId){let t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(i=>{t.deactivate(i,e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;let t=this.getLinkOccurrence(e.target.position);!t||this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,i=!1){if(!this.openerService)return;let{link:n}=e;n.resolve(qe.None).then(r=>{if(typeof r=="string"&&this.editor.hasModel()){let s=this.editor.getModel().uri;if(s.scheme===nt.file&&r.startsWith(`${nt.file}:`)){let a=Ee.parse(r);if(a.scheme===nt.file){let l=Cc(a),c=null;l.startsWith("/./")?c=`.${l.substr(1)}`:l.startsWith("//./")&&(c=`.${l.substr(2)}`),c&&(r=K6(s,c))}}}return this.openerService.open(r,{openToSide:t,fromUserGesture:i,allowContributedOpeners:!0,allowCommands:!0})},r=>{let s=r instanceof Error?r.message:r;s==="invalid"?this.notificationService.warn(g("invalid.url","Failed to open this link because it is not well-formed: {0}",n.url.toString())):s==="missing"?this.notificationService.warn(g("missing.url","Failed to open this link because its target is missing.")):ye(r)})}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;let t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(let i of t){let n=this.currentOccurrences[i.id];if(n)return n}return null}isEnabled(e,t){return Boolean(e.target.type===6&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.timeout.cancel(),this.activeLinksList&&((e=this.activeLinksList)===null||e===void 0||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};B_.ID="editor.linkDetector";B_.RECOMPUTE_TIME=1e3;B_=Xve([See(1,oo),See(2,fi)],B_);var xee=class extends _e{constructor(){super({id:"editor.action.openLink",label:g("label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){let i=B_.get(t);if(!i||!t.hasModel())return;let n=t.getSelections();for(let r of n){let s=i.getLinkOccurrence(r.getEndPosition());s&&i.openLinkOccurrence(s,!1)}}};Qe(B_.ID,B_);le(xee);gt((o,e)=>{let t=o.getColor(nk);t&&e.addRule(`.monaco-editor .detected-link-active { color: ${t} !important; }`)});ls();tt();Na();ne();Dt();ve();ai();Yi();Os();Wn();Tt();xe();No();_t();yi();dt();function pC(o,e){let t=e.filter(i=>!o.find(n=>n.equals(i)));if(t.length>=1){let i=t.map(r=>`line ${r.viewState.position.lineNumber} column ${r.viewState.position.column}`).join(", "),n=t.length===1?g("cursorAdded","Cursor added: {0}",i):g("cursorsAdded","Cursors added: {0}",i);hp(n)}}var Dee=class extends _e{constructor(){super({id:"editor.action.insertCursorAbove",label:g("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:A.editorTextFocus,primary:2048|512|16,linux:{primary:1024|512|16,secondary:[2048|1024|16]},weight:100},menuOpts:{menuId:De.MenubarSelectionMenu,group:"3_multi",title:g({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,i){if(!t.hasModel())return;let n=!0;i&&i.logicalLine===!1&&(n=!1);let r=t._getViewModel();if(r.cursorConfig.readOnly)return;r.pushStackElement();let s=r.getCursorStates();r.setCursorStates(i.source,3,zn.addCursorUp(r,s,n)),r.revealTopMostCursor(i.source),pC(s,r.getCursorStates())}},Lee=class extends _e{constructor(){super({id:"editor.action.insertCursorBelow",label:g("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:A.editorTextFocus,primary:2048|512|18,linux:{primary:1024|512|18,secondary:[2048|1024|18]},weight:100},menuOpts:{menuId:De.MenubarSelectionMenu,group:"3_multi",title:g({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,i){if(!t.hasModel())return;let n=!0;i&&i.logicalLine===!1&&(n=!1);let r=t._getViewModel();if(r.cursorConfig.readOnly)return;r.pushStackElement();let s=r.getCursorStates();r.setCursorStates(i.source,3,zn.addCursorDown(r,s,n)),r.revealBottomMostCursor(i.source),pC(s,r.getCursorStates())}},kee=class extends _e{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:g("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:A.editorTextFocus,primary:1024|512|39,weight:100},menuOpts:{menuId:De.MenubarSelectionMenu,group:"3_multi",title:g({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,i){if(!e.isEmpty()){for(let n=e.startLineNumber;n<e.endLineNumber;n++){let r=t.getLineMaxColumn(n);i.push(new de(n,r,n,r))}e.endColumn>1&&i.push(new de(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;let i=t.getModel(),n=t.getSelections(),r=t._getViewModel(),s=r.getCursorStates(),a=[];n.forEach(l=>this.getCursorsForSelection(l,i,a)),a.length>0&&t.setSelections(a),pC(s,r.getCursorStates())}},Iee=class extends _e{constructor(){super({id:"editor.action.addCursorsToBottom",label:g("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;let i=t.getSelections(),n=t.getModel().getLineCount(),r=[];for(let l=i[0].startLineNumber;l<=n;l++)r.push(new de(l,i[0].startColumn,l,i[0].endColumn));let s=t._getViewModel(),a=s.getCursorStates();r.length>0&&t.setSelections(r),pC(a,s.getCursorStates())}},Oee=class extends _e{constructor(){super({id:"editor.action.addCursorsToTop",label:g("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;let i=t.getSelections(),n=[];for(let a=i[0].startLineNumber;a>=1;a--)n.push(new de(a,i[0].startColumn,a,i[0].endColumn));let r=t._getViewModel(),s=r.getCursorStates();n.length>0&&t.setSelections(n),pC(s,r.getCursorStates())}},SE=class{constructor(e,t,i){this.selections=e,this.revealRange=t,this.revealScrollType=i}},_C=class{constructor(e,t,i,n,r,s,a){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=i,this.searchText=n,this.wholeWord=r,this.matchCase=s,this.currentMatch=a}static create(e,t){if(!e.hasModel())return null;let i=t.getState();if(!e.hasTextFocus()&&i.isRevealed&&i.searchString.length>0)return new _C(e,t,!1,i.searchString,i.wholeWord,i.matchCase,null);let n=!1,r,s,a=e.getSelections();a.length===1&&a[0].isEmpty()?(n=!0,r=!0,s=!0):(r=i.wholeWord,s=i.matchCase);let l=e.getSelection(),c,d=null;if(l.isEmpty()){let h=e.getConfiguredWordAtPosition(l.getStartPosition());if(!h)return null;c=h.word,d=new de(l.startLineNumber,h.startColumn,l.startLineNumber,h.endColumn)}else c=e.getModel().getValueInRange(l).replace(/\r\n/g,`
`);return new _C(e,t,n,c,r,s,d)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;let e=this._getNextMatch();if(!e)return null;let t=this._editor.getSelections();return new SE(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;let e=this._getNextMatch();if(!e)return null;let t=this._editor.getSelections();return new SE(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){let n=this.currentMatch;return this.currentMatch=null,n}this.findController.highlightFindOptions();let e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(116):null,!1);return i?new de(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;let e=this._getPreviousMatch();if(!e)return null;let t=this._editor.getSelections();return new SE(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;let e=this._getPreviousMatch();if(!e)return null;let t=this._editor.getSelections();return new SE(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){let n=this.currentMatch;return this.currentMatch=null,n}this.findController.highlightFindOptions();let e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(116):null,!1);return i?new de(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(116):null,!1,1073741824)):[]}},Xg=class extends ${constructor(e){super();this._sessionDispose=this._register(new Q),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}static get(e){return e.getContribution(Xg.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){let t=_C.create(this._editor,e);if(!t)return;this._session=t;let i={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(i.wholeWordOverride=1,i.matchCaseOverride=1,i.isRegexOverride=2),e.getState().change(i,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(n=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange(n=>{(n.matchCase||n.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){let e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;let i=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return i?new de(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):t}_applySessionResult(e){!e||(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(!!this._editor.hasModel()){if(!this._session){let t=this._editor.getSelections();if(t.length>1){let n=e.getState().matchCase;if(!Bee(this._editor.getModel(),t,n)){let s=this._editor.getModel(),a=[];for(let l=0,c=t.length;l<c;l++)a[l]=this._expandEmptyToWord(s,t[l]);this._editor.setSelections(a);return}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null,i=e.getState();if(i.isRevealed&&i.searchString.length>0&&i.isRegex)t=this._editor.getModel().findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(116):null,!1,1073741824);else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll()}if(i.searchScope){let n=i.searchScope,r=[];t.forEach(s=>{n.forEach(a=>{s.range.endLineNumber<=a.endLineNumber&&s.range.startLineNumber>=a.startLineNumber&&r.push(s)})}),t=r}if(t.length>0){let n=this._editor.getSelection();for(let r=0,s=t.length;r<s;r++){let a=t[r];if(a.range.intersectRanges(n)){t[r]=t[0],t[0]=a;break}}this._setSelections(t.map(r=>new de(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn)))}}};Xg.ID="editor.contrib.multiCursorController";var j_=class extends _e{run(e,t){let i=Xg.get(t);if(!i)return;let n=_s.get(t);if(!n)return;let r=t._getViewModel();if(r){let s=r.getCursorStates();this._run(i,n),pC(s,r.getCursorStates())}}},Tee=class extends j_{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:g("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:A.focus,primary:2048|34,weight:100},menuOpts:{menuId:De.MenubarSelectionMenu,group:"3_multi",title:g({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}},Nee=class extends j_{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:g("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:De.MenubarSelectionMenu,group:"3_multi",title:g({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}},Pee=class extends j_{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:g("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:A.focus,primary:Ji(2048|41,2048|34),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}},Ree=class extends j_{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:g("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}},Mee=class extends j_{constructor(){super({id:"editor.action.selectHighlights",label:g("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:A.focus,primary:2048|1024|42,weight:100},menuOpts:{menuId:De.MenubarSelectionMenu,group:"3_multi",title:g({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}},Aee=class extends j_{constructor(){super({id:"editor.action.changeAll",label:g("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:pe.and(A.writable,A.editorTextFocus),kbOpts:{kbExpr:A.editorTextFocus,primary:2048|60,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}},Fee=class{constructor(e,t,i,n,r){this._model=e,this._searchText=t,this._matchCase=i,this._wordSeparators=n,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,r&&this._model===r._model&&this._searchText===r._searchText&&this._matchCase===r._matchCase&&this._wordSeparators===r._wordSeparators&&this._modelVersionId===r._modelVersionId&&(this._cachedFindMatches=r._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(e=>e.range),this._cachedFindMatches.sort(D.compareRangesUsingStarts)),this._cachedFindMatches}},Ch=class extends ${constructor(e){super();this.editor=e,this._isEnabled=e.getOption(96),this.decorations=[],this.updateSoon=this._register(new bt(()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration(t=>{this._isEnabled=e.getOption(96)})),this._register(e.onDidChangeCursorSelection(t=>{!this._isEnabled||(t.selection.isEmpty()?t.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel(t=>{this._setState(null)})),this._register(e.onDidChangeModelContent(t=>{this._isEnabled&&this.updateSoon.schedule()})),this._register(_s.get(e).getState().onFindReplaceStateChange(t=>{this._update()}))}_update(){this._setState(Ch._createState(this.state,this._isEnabled,this.editor))}static _createState(e,t,i){if(!t||!i.hasModel())return null;let n=i.getSelection();if(n.startLineNumber!==n.endLineNumber)return null;let r=Xg.get(i);if(!r)return null;let s=_s.get(i);if(!s)return null;let a=r.getSession(s);if(!a){let d=i.getSelections();if(d.length>1){let u=s.getState().matchCase;if(!Bee(i.getModel(),d,u))return null}a=_C.create(i,s)}if(!a||a.currentMatch||/^[ \t]+$/.test(a.searchText)||a.searchText.length>200)return null;let l=s.getState(),c=l.matchCase;if(l.isRevealed){let d=l.searchString;c||(d=d.toLowerCase());let h=a.searchText;if(c||(h=h.toLowerCase()),d===h&&a.matchCase===l.matchCase&&a.wholeWord===l.wholeWord&&!l.isRegex)return null}return new Fee(i.getModel(),a.searchText,a.matchCase,a.wholeWord?i.getOption(116):null,e)}_setState(e){if(this.state=e,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(!this.editor.hasModel())return;let t=this.editor.getModel();if(t.isTooLargeForTokenization())return;let i=this.state.findMatches(),n=this.editor.getSelections();n.sort(D.compareRangesUsingStarts);let r=[];for(let l=0,c=0,d=i.length,h=n.length;l<d;){let u=i[l];if(c>=h)r.push(u),l++;else{let f=D.compareRangesUsingStarts(u,n[c]);f<0?((n[c].isEmpty()||!D.areIntersecting(u,n[c]))&&r.push(u),l++):(f>0||l++,c++)}}let s=Ed.has(t)&&this.editor.getOption(71),a=r.map(l=>({range:l,options:s?Ch._SELECTION_HIGHLIGHT:Ch._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,a)}dispose(){this._setState(null),super.dispose()}};Ch.ID="editor.contrib.selectionHighlighter";Ch._SELECTION_HIGHLIGHT_OVERVIEW=Ze.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:Ii(Iv),position:To.Inline},overviewRuler:{color:Ii(lk),position:Oo.Center}});Ch._SELECTION_HIGHLIGHT=Ze.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"});function Bee(o,e,t){let i=jee(o,e[0],!t);for(let n=1,r=e.length;n<r;n++){let s=e[n];if(s.isEmpty())return!1;let a=jee(o,s,!t);if(i!==a)return!1}return!0}function jee(o,e,t){let i=o.getValueInRange(e);return t?i.toLowerCase():i}Qe(Xg.ID,Xg);Qe(Ch.ID,Ch);le(Dee);le(Lee);le(kee);le(Tee);le(Nee);le(Pee);le(Ree);le(Mee);le(Aee);le(Iee);le(Oee);ne();Dt();Yi();Tt();Ei();st();di();Ai();ot();Tt();Dc();zi();_t();var Wee=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},of={Visible:new be("parameterHintsVisible",!1),MultipleSignatures:new be("parameterHintsMultipleSignatures",!1)};function OB(o,e,t,i){return Wee(this,void 0,void 0,function*(){let n=yc.ordered(o);for(let r of n)try{let s=yield r.provideSignatureHelp(o,e,i,t);if(s)return s}catch(s){Di(s)}})}rt.registerCommand("_executeSignatureHelpProvider",(o,...e)=>Wee(void 0,void 0,void 0,function*(){let[t,i,n]=e;$t(Ee.isUri(t)),$t(H.isIPosition(i)),$t(typeof n=="string"||!n);let r=yield o.get(Kn).createModelReference(t);try{let s=yield OB(r.object.textEditorModel,H.lift(i),{triggerKind:Ua.Invoke,isRetrigger:!1,triggerCharacter:n},qe.None);return s?(setTimeout(()=>s.dispose(),0),s.value):void 0}finally{r.dispose()}}));xe();_t();Ge();Me();ls();en();Se();ne();je();di();ar();tt();st();Se();ne();Gm();Tt();var ewe=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},Qg;(function(o){o.Default={type:0};class e{constructor(n,r){this.request=n,this.previouslyActiveHints=r,this.type=2}}o.Pending=e;class t{constructor(n){this.hints=n,this.type=1}}o.Active=t})(Qg||(Qg={}));var bC=class extends ${constructor(e,t=bC.DEFAULT_DELAY){super();this._onChangedHints=this._register(new F),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=Qg.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new _n),this.triggerChars=new Id,this.retriggerChars=new Id,this.triggerId=0,this.editor=e,this.throttledDelayer=new Wr(t),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(i=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(i=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(i=>this.onCursorChange(i))),this._register(this.editor.onDidChangeModelContent(i=>this.onModelContentChange())),this._register(yc.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(i=>this.onDidType(i))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){this._state.type===2&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=Qg.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){let i=this.editor.getModel();if(!i||!yc.has(i))return;let n=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(n),t).catch(ye)}next(){if(this.state.type!==1)return;let e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t%e===e-1,n=this.editor.getOption(75).cycle;if((e<2||i)&&!n){this.cancel();return}this.updateActiveSignature(i&&n?0:t+1)}previous(){if(this.state.type!==1)return;let e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t===0,n=this.editor.getOption(75).cycle;if((e<2||i)&&!n){this.cancel();return}this.updateActiveSignature(i&&n?e-1:t-1)}updateActiveSignature(e){this.state.type===1&&(this.state=new Qg.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return ewe(this,void 0,void 0,function*(){let t=this.state.type===1||this.state.type===2,i=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;let n=this._pendingTriggers.reduce(twe);this._pendingTriggers=[];let r={triggerKind:n.triggerKind,triggerCharacter:n.triggerCharacter,isRetrigger:t,activeSignatureHelp:i};if(!this.editor.hasModel())return!1;let s=this.editor.getModel(),a=this.editor.getPosition();this.state=new Qg.Pending(wi(l=>OB(s,a,r,l)),i);try{let l=yield this.state.request;return e!==this.triggerId?(l==null||l.dispose(),!1):!l||!l.value.signatures||l.value.signatures.length===0?(l==null||l.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new Qg.Active(l.value),this._lastSignatureHelpResult.value=l,this._onChangedHints.fire(this.state.hints),!0)}catch(l){return e===this.triggerId&&(this.state=Qg.Default),ye(l),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new Id,this.retriggerChars=new Id;let e=this.editor.getModel();if(!!e)for(let t of yc.ordered(e)){for(let i of t.signatureHelpTriggerCharacters||[])this.triggerChars.add(i.charCodeAt(0)),this.retriggerChars.add(i.charCodeAt(0));for(let i of t.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(i.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;let t=e.length-1,i=e.charCodeAt(t);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:Ua.TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){e.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:Ua.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:Ua.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(75).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}};bC.DEFAULT_DELAY=120;function twe(o,e){switch(e.triggerKind){case Ua.Invoke:return e;case Ua.ContentChange:return o;case Ua.TriggerCharacter:default:return e}}xe();_t();yi();m1();dt();var iwe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},TB=function(o,e){return function(t,i){e(t,i,o)}},wa=se,nwe=cn("parameter-hints-next",z.chevronDown,g("parameterHintsNextIcon","Icon for show next parameter hint.")),owe=cn("parameter-hints-previous",z.chevronUp,g("parameterHintsPreviousIcon","Icon for show previous parameter hint.")),EE=class Uee extends ${constructor(e,t,i,n){super();this.editor=e,this.renderDisposeables=this._register(new Q),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new Gs({editor:e},n,i)),this.model=this._register(new bC(e)),this.keyVisible=of.Visible.bindTo(t),this.keyMultipleSignatures=of.MultipleSignatures.bindTo(t),this._register(this.model.onChangedHints(r=>{r?(this.show(),this.render(r)):this.hide()}))}createParameterHintDOMNodes(){let e=wa(".editor-widget.parameter-hints-widget"),t=J(e,wa(".phwrapper"));t.tabIndex=-1;let i=J(t,wa(".controls")),n=J(i,wa(".button"+qt.asCSSSelector(owe))),r=J(i,wa(".overloads")),s=J(i,wa(".button"+qt.asCSSSelector(nwe)));this._register(oe(n,"click",u=>{Wt.stop(u),this.previous()})),this._register(oe(s,"click",u=>{Wt.stop(u),this.next()}));let a=wa(".body"),l=new jc(a,{});this._register(l),t.appendChild(l.getDomNode());let c=J(a,wa(".signature")),d=J(a,wa(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:c,overloads:r,docs:d,scrollbar:l},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(u=>{this.visible&&this.editor.layoutContentWidget(this)}));let h=()=>{if(!this.domNodes)return;let u=this.editor.getOption(43);this.domNodes.element.style.fontSize=`${u.fontSize}px`,this.domNodes.element.style.lineHeight=`${u.lineHeight/u.fontSize}`};h(),this._register(we.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(u=>u.hasChanged(43)).on(h,null)),this._register(this.editor.onDidLayoutChange(u=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),!!this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){var t;if(this.renderDisposeables.clear(),!this.domNodes)return;let i=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",i),this.keyMultipleSignatures.set(i),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";let n=e.signatures[e.activeSignature];if(!n)return;let r=J(this.domNodes.signature,wa(".code")),s=this.editor.getOption(43);r.style.fontSize=`${s.fontSize}px`,r.style.fontFamily=s.fontFamily;let a=n.parameters.length>0,l=(t=n.activeParameter)!==null&&t!==void 0?t:e.activeParameter;if(a)this.renderParameters(r,n,l);else{let h=J(r,wa("span"));h.textContent=n.label}let c=n.parameters[l];if(c==null?void 0:c.documentation){let h=wa("span.documentation");if(typeof c.documentation=="string")h.textContent=c.documentation;else{let u=this.renderMarkdownDocs(c.documentation);h.appendChild(u.element)}J(this.domNodes.docs,wa("p",{},h))}if(n.documentation!==void 0)if(typeof n.documentation=="string")J(this.domNodes.docs,wa("p",{},n.documentation));else{let h=this.renderMarkdownDocs(n.documentation);J(this.domNodes.docs,h.element)}let d=this.hasDocs(n,c);if(this.domNodes.signature.classList.toggle("has-docs",d),this.domNodes.docs.classList.toggle("empty",!d),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,c){let h="",u=n.parameters[l];Array.isArray(u.label)?h=n.label.substring(u.label[0],u.label[1]):h=u.label,u.documentation&&(h+=typeof u.documentation=="string"?`, ${u.documentation}`:`, ${u.documentation.value}`),n.documentation&&(h+=typeof n.documentation=="string"?`, ${n.documentation}`:`, ${n.documentation.value}`),this.announcedLabel!==h&&(un(g("hint","{0}, hint",h)),this.announcedLabel=h)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){let t=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var i;(i=this.domNodes)===null||i===void 0||i.scrollbar.scanDomNode()}}));return t.element.classList.add("markdown-docs"),t}hasDocs(e,t){return!!(t&&typeof t.documentation=="string"&&o0(t.documentation).length>0||t&&typeof t.documentation=="object"&&o0(t.documentation).value.length>0||e.documentation&&typeof e.documentation=="string"&&o0(e.documentation).length>0||e.documentation&&typeof e.documentation=="object"&&o0(e.documentation.value).length>0)}renderParameters(e,t,i){let[n,r]=this.getParameterLabelOffsets(t,i),s=document.createElement("span");s.textContent=t.label.substring(0,n);let a=document.createElement("span");a.textContent=t.label.substring(n,r),a.className="parameter active";let l=document.createElement("span");l.textContent=t.label.substring(r),J(e,s,a,l)}getParameterLabelOffsets(e,t){let i=e.parameters[t];if(i){if(Array.isArray(i.label))return i.label;if(i.label.length){let n=new RegExp(`(\\W|^)${wo(i.label)}(?=\\W|$)`,"g");n.test(e.label);let r=n.lastIndex-i.label.length;return r>=0?[r,n.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return Uee.ID}trigger(e){this.model.trigger(e,0)}updateMaxHeight(){if(!this.domNodes)return;let t=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=t;let i=this.domNodes.element.getElementsByClassName("phwrapper");i.length&&(i[0].style.maxHeight=t)}};EE.ID="editor.widget.parameterHintsWidget";EE=iwe([TB(1,Ce),TB(2,oo),TB(3,Pi)],EE);var rwe=j("editorHoverWidget.highlightForeground",{dark:Nc,light:Nc,hc:Nc},g("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));gt((o,e)=>{let t=o.getColor(ik);if(t){let c=o.type===As.HIGH_CONTRAST?2:1;e.addRule(`.monaco-editor .parameter-hints-widget { border: ${c}px solid ${t}; }`),e.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${t.transparent(.5)}; }`)}let i=o.getColor(au);i&&e.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${i}; }`);let n=o.getColor(Qf);n&&e.addRule(`.monaco-editor .parameter-hints-widget a { color: ${n}; }`);let r=o.getColor(Jf);r&&e.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${r}; }`);let s=o.getColor(tk);s&&e.addRule(`.monaco-editor .parameter-hints-widget { color: ${s}; }`);let a=o.getColor(zL);a&&e.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${a}; }`);let l=o.getColor(rwe);l&&e.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${l}}`)});var swe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},awe=function(o,e){return function(t,i){e(t,i,o)}},W_=class zee extends ${constructor(e,t){super();this.editor=e,this.widget=this._register(t.createInstance(EE,this.editor))}static get(e){return e.getContribution(zee.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(e){this.widget.trigger(e)}};W_.ID="editor.controller.parameterHints";W_=swe([awe(1,Ve)],W_);var Vee=class extends _e{constructor(){super({id:"editor.action.triggerParameterHints",label:g("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:A.hasSignatureHelpProvider,kbOpts:{kbExpr:A.editorTextFocus,primary:2048|1024|10,weight:100}})}run(e,t){let i=W_.get(t);i&&i.trigger({triggerKind:Ua.Invoke})}};Qe(W_.ID,W_);le(Vee);var NB=100+75,PB=Hi.bindToContribution(W_.get);ue(new PB({id:"closeParameterHints",precondition:of.Visible,handler:o=>o.cancel(),kbOpts:{weight:NB,kbExpr:A.focus,primary:9,secondary:[1024|9]}}));ue(new PB({id:"showPrevParameterHint",precondition:pe.and(of.Visible,of.MultipleSignatures),handler:o=>o.previous(),kbOpts:{weight:NB,kbExpr:A.focus,primary:16,secondary:[512|16],mac:{primary:16,secondary:[512|16,256|46]}}}));ue(new PB({id:"showNextParameterHint",precondition:pe.and(of.Visible,of.MultipleSignatures),handler:o=>o.next(),kbOpts:{weight:NB,kbExpr:A.focus,primary:18,secondary:[512|18],mac:{primary:18,secondary:[512|18,256|44]}}}));ls();tt();Ei();st();ne();di();Ai();Wc();Dt();_o();ot();ve();Yi();Tt();Y0();xe();rp();_t();Ge();Td();$l();Ur();ne();ot();xe();_t();yi();dt();var lwe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},RB=function(o,e){return function(t,i){e(t,i,o)}},xE=new be("renameInputVisible",!1,g("renameInputVisible","Whether the rename input widget is visible")),rN=class{constructor(e,t,i,n,r){this._editor=e,this._acceptKeybindings=t,this._themeService=i,this._keybindingService=n,this._disposables=new Q,this.allowEditorOverflow=!0,this._visibleContextKey=xE.bindTo(r),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(43)&&this._updateFont()})),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",g("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);let e=()=>{var t,i;let[n,r]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(n),this._label.innerText=g({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(t=this._keybindingService.lookupKeybinding(n))===null||t===void 0?void 0:t.getLabel(),(i=this._keybindingService.lookupKeybinding(r))===null||i===void 0?void 0:i.getLabel())};e(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(e)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(e){var t,i,n,r;if(!this._input||!this._domNode)return;let s=e.getColor(Wl);this._domNode.style.backgroundColor=String((t=e.getColor($o))!==null&&t!==void 0?t:""),this._domNode.style.boxShadow=s?` 0 0 8px 2px ${s}`:"",this._domNode.style.color=String((i=e.getColor(Cv))!==null&&i!==void 0?i:""),this._input.style.backgroundColor=String((n=e.getColor(wv))!==null&&n!==void 0?n:"");let a=e.getColor(yv);this._input.style.borderWidth=a?"1px":"0px",this._input.style.borderStyle=a?"solid":"none",this._input.style.borderColor=(r=a==null?void 0:a.toString())!==null&&r!==void 0?r:"none"}_updateFont(){if(!this._input||!this._label)return;let e=this._editor.getOption(43);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=`${e.fontSize}px`,this._label.style.fontSize=`${e.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(e){e||this.cancelInput(!0)}acceptInput(e){this._currentAcceptInput&&this._currentAcceptInput(e)}cancelInput(e){this._currentCancelInput&&this._currentCancelInput(e)}getInput(e,t,i,n,r,s){this._domNode.classList.toggle("preview",r),this._position=new H(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",i.toString()),this._input.setAttribute("selectionEnd",n.toString()),this._input.size=Math.max((e.endColumn-e.startColumn)*1.1,20);let a=new Q;return new Promise(l=>{this._currentCancelInput=c=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,l(c),!0),this._currentAcceptInput=c=>{if(this._input.value.trim().length===0||this._input.value===t){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,l({newName:this._input.value,wantsPreview:r&&c})},s.onCancellationRequested(()=>this.cancelInput(!0)),a.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{a.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};rN=lwe([RB(2,Rt),RB(3,oi),RB(4,Ce)],rN);var cwe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},vC=function(o,e){return function(t,i){e(t,i,o)}},U_=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},sN=class{constructor(e,t){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=Bm.ordered(e)}hasProvider(){return this._providers.length>0}resolveRenameLocation(e){return U_(this,void 0,void 0,function*(){let t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){let n=this._providers[this._providerRenameIdx];if(!n.resolveRenameLocation)break;let r=yield n.resolveRenameLocation(this.model,this.position,e);if(!!r){if(r.rejectReason){t.push(r.rejectReason);continue}return r}}let i=this.model.getWordAtPosition(this.position);return i?{range:new D(this.position.lineNumber,i.startColumn,this.position.lineNumber,i.endColumn),text:i.word,rejectReason:t.length>0?t.join(`
`):void 0}:{range:D.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join(`
`):void 0}})}provideRenameEdits(e,t){return U_(this,void 0,void 0,function*(){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)})}_provideRenameEdits(e,t,i,n){return U_(this,void 0,void 0,function*(){let r=this._providers[t];if(!r)return{edits:[],rejectReason:i.join(`
`)};let s=yield r.provideRenameEdits(this.model,this.position,e,n);if(s){if(s.rejectReason)return this._provideRenameEdits(e,t+1,i.concat(s.rejectReason),n)}else return this._provideRenameEdits(e,t+1,i.concat(g("no result","No result.")),n);return s})}};function dwe(o,e,t){return U_(this,void 0,void 0,function*(){let i=new sN(o,e),n=yield i.resolveRenameLocation(qe.None);return(n==null?void 0:n.rejectReason)?{edits:[],rejectReason:n.rejectReason}:i.provideRenameEdits(t,qe.None)})}var z_=class Hee{constructor(e,t,i,n,r,s,a){this.editor=e,this._instaService=t,this._notificationService=i,this._bulkEditService=n,this._progressService=r,this._logService=s,this._configService=a,this._dispoableStore=new Q,this._cts=new sn,this._renameInputField=this._dispoableStore.add(new pc(()=>this._dispoableStore.add(this._instaService.createInstance(rN,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(e){return e.getContribution(Hee.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return U_(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;let e=this.editor.getPosition(),t=new sN(this.editor.getModel(),e);if(!t.hasProvider())return;this._cts=new ku(this.editor,4|1);let i;try{let d=t.resolveRenameLocation(this._cts.token);this._progressService.showWhile(d,250),i=yield d}catch(d){Or.get(this.editor).showMessage(d||g("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),e);return}if(!i)return;if(i.rejectReason){Or.get(this.editor).showMessage(i.rejectReason,e);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new ku(this.editor,4|1,i.range);let n=this.editor.getSelection(),r=0,s=i.text.length;!D.isEmpty(n)&&!D.spansMultipleLines(n)&&D.containsRange(i.range,n)&&(r=Math.max(0,n.startColumn-i.range.startColumn),s=Math.min(i.range.endColumn,n.endColumn)-i.range.startColumn);let a=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),l=yield this._renameInputField.value.getInput(i.range,i.text,r,s,a,this._cts.token);if(typeof l=="boolean"){l&&this.editor.focus();return}this.editor.focus();let c=Sb(t.provideRenameEdits(l.newName,this._cts.token),this._cts.token).then(d=>U_(this,void 0,void 0,function*(){if(!(!d||!this.editor.hasModel())){if(d.rejectReason){this._notificationService.info(d.rejectReason);return}this.editor.setSelection(D.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(ip.convert(d),{editor:this.editor,showPreview:l.wantsPreview,label:g("label","Renaming '{0}'",i==null?void 0:i.text),quotableLabel:g("quotableLabel","Renaming {0}",i==null?void 0:i.text)}).then(h=>{h.ariaSummary&&un(g("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",i.text,l.newName,h.ariaSummary))}).catch(h=>{this._notificationService.error(g("rename.failedApply","Rename failed to apply edits")),this._logService.error(h)})}}),d=>{this._notificationService.error(g("rename.failed","Rename failed to compute edits")),this._logService.error(d)});return this._progressService.showWhile(c,250),c})}acceptRenameInput(e){this._renameInputField.value.acceptInput(e)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};z_.ID="editor.contrib.renameController";z_=cwe([vC(1,Ve),vC(2,fi),vC(3,lv),vC(4,Vr),vC(5,cr),vC(6,tv)],z_);var $ee=class extends _e{constructor(){super({id:"editor.action.rename",label:g("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:pe.and(A.writable,A.hasRenameProvider),kbOpts:{kbExpr:A.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){let i=e.get(Ot),[n,r]=Array.isArray(t)&&t||[void 0,void 0];return Ee.isUri(n)&&H.isIPosition(r)?i.openCodeEditor({resource:n},i.getActiveCodeEditor()).then(s=>{!s||(s.setPosition(r),s.invokeWithinContext(a=>(this.reportTelemetry(a,s),this.run(a,s))))},ye):super.runCommand(e,t)}run(e,t){let i=z_.get(t);return i?i.run():Promise.resolve()}};Qe(z_.ID,z_);le($ee);var MB=Hi.bindToContribution(z_.get);ue(new MB({id:"acceptRenameInput",precondition:xE,handler:o=>o.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:A.focus,primary:3}}));ue(new MB({id:"acceptRenameInputWithPreview",precondition:pe.and(xE,pe.has("config.editor.rename.enablePreview")),handler:o=>o.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:A.focus,primary:1024+3}}));ue(new MB({id:"cancelRenameInput",precondition:xE,handler:o=>o.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:A.focus,primary:9,secondary:[1024|9]}}));Fs("_executeDocumentRenameProvider",function(o,e,...t){let[i]=t;return $t(typeof i=="string"),dwe(o,e,i)});Fs("_executePrepareRename",function(o,e){return U_(this,void 0,void 0,function*(){let i=yield new sN(o,e).resolveRenameLocation(qe.None);if(i==null?void 0:i.rejectReason)throw new Error(i.rejectReason);return i})});ki.as(Ha.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:g("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});Ut();Ei();st();Dt();ot();ve();ai();Yi();Tt();je();ve();var AB=class{provideSelectionRanges(e,t){let i=[];for(let n of t){let r=[];i.push(r),this._addInWordRanges(r,e,n),this._addWordRanges(r,e,n),this._addWhitespaceLine(r,e,n),r.push({range:e.getFullModelRange()})}return i}_addInWordRanges(e,t,i){let n=t.getWordAtPosition(i);if(!n)return;let{word:r,startColumn:s}=n,a=i.column-s,l=a,c=a,d=0;for(;l>=0;l--){let h=r.charCodeAt(l);if(l!==a&&(h===95||h===45))break;if(_d(h)&&Aa(d))break;d=h}for(l+=1;c<r.length;c++){let h=r.charCodeAt(c);if(Aa(h)&&_d(d))break;if(h===95||h===45)break;d=h}l<c&&e.push({range:new D(i.lineNumber,s+l,i.lineNumber,s+c)})}_addWordRanges(e,t,i){let n=t.getWordAtPosition(i);n&&e.push({range:new D(i.lineNumber,n.startColumn,i.lineNumber,n.endColumn)})}_addWhitespaceLine(e,t,i){t.getLineLength(i.lineNumber)>0&&t.getLineFirstNonWhitespaceColumn(i.lineNumber)===0&&t.getLineLastNonWhitespaceColumn(i.lineNumber)===0&&e.push({range:new D(i.lineNumber,1,i.lineNumber,t.getLineMaxColumn(i.lineNumber))})}};xe();No();zi();var FB=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},aN=class{constructor(e,t){this.index=e,this.ranges=t}mov(e){let t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;let i=new aN(t,this.ranges);return i.ranges[t].equalsRange(this.ranges[this.index])?i.mov(e):i}},V_=class{constructor(e){this._editor=e,this._ignoreSelection=!1}static get(e){return e.getContribution(V_.ID)}dispose(){var e;(e=this._selectionListener)===null||e===void 0||e.dispose()}run(e){return FB(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;let t=this._editor.getSelections(),i=this._editor.getModel();if(!$b.has(i)||(this._state||(yield qee(i,t.map(r=>r.getPosition()),this._editor.getOption(101),qe.None).then(r=>{var s;if(!(!kn(r)||r.length!==t.length)&&!(!this._editor.hasModel()||!eo(this._editor.getSelections(),t,(a,l)=>a.equalsSelection(l)))){for(let a=0;a<r.length;a++)r[a]=r[a].filter(l=>l.containsPosition(t[a].getStartPosition())&&l.containsPosition(t[a].getEndPosition())),r[a].unshift(t[a]);this._state=r.map(a=>new aN(0,a)),(s=this._selectionListener)===null||s===void 0||s.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var a;this._ignoreSelection||((a=this._selectionListener)===null||a===void 0||a.dispose(),this._state=void 0)})}})),!this._state))return;this._state=this._state.map(r=>r.mov(e));let n=this._state.map(r=>de.fromPositions(r.ranges[r.index].getStartPosition(),r.ranges[r.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(n)}finally{this._ignoreSelection=!1}})}};V_.ID="editor.contrib.smartSelectController";var BB=class extends _e{constructor(e,t){super(t);this._forward=e}run(e,t){return FB(this,void 0,void 0,function*(){let i=V_.get(t);i&&(yield i.run(this._forward))})}},Kee=class extends BB{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:g("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:A.editorTextFocus,primary:1024|512|17,mac:{primary:2048|256|1024|17,secondary:[256|1024|17]},weight:100},menuOpts:{menuId:De.MenubarSelectionMenu,group:"1_basic",title:g({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}};rt.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");var Yee=class extends BB{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:g("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:A.editorTextFocus,primary:1024|512|15,mac:{primary:2048|256|1024|15,secondary:[256|1024|15]},weight:100},menuOpts:{menuId:De.MenubarSelectionMenu,group:"1_basic",title:g({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}};Qe(V_.ID,V_);le(Kee);le(Yee);$b.register("*",new AB);function qee(o,e,t,i){return FB(this,void 0,void 0,function*(){let n=$b.all(o);n.length===1&&n.unshift(new Kr);let r=[],s=[];for(let a of n)r.push(Promise.resolve(a.provideSelectionRanges(o,e,i)).then(l=>{if(kn(l)&&l.length===e.length)for(let c=0;c<e.length;c++){s[c]||(s[c]=[]);for(let d of l[c])D.isIRange(d.range)&&D.containsPosition(d.range,e[c])&&s[c].push(D.lift(d.range))}},Di));return yield Promise.all(r),s.map(a=>{if(a.length===0)return[];a.sort((h,u)=>H.isBefore(h.getStartPosition(),u.getStartPosition())?1:H.isBefore(u.getStartPosition(),h.getStartPosition())||H.isBefore(h.getEndPosition(),u.getEndPosition())?-1:H.isBefore(u.getEndPosition(),h.getEndPosition())?1:0);let l=[],c;for(let h of a)(!c||D.containsRange(h,c)&&!D.equalsRange(h,c))&&(l.push(h),c=h);if(!t.selectLeadingAndTrailingWhitespace)return l;let d=[l[0]];for(let h=1;h<l.length;h++){let u=l[h-1],f=l[h];if(f.startLineNumber!==u.startLineNumber||f.endLineNumber!==u.endLineNumber){let p=new D(u.startLineNumber,o.getLineFirstNonWhitespaceColumn(u.startLineNumber),u.endLineNumber,o.getLineLastNonWhitespaceColumn(u.endLineNumber));p.containsRange(u)&&!p.equalsRange(u)&&f.containsRange(p)&&!f.equalsRange(p)&&d.push(p);let b=new D(u.startLineNumber,1,u.endLineNumber,o.getLineMaxColumn(u.endLineNumber));b.containsRange(u)&&!b.equalsRange(p)&&f.containsRange(b)&&!f.equalsRange(b)&&d.push(b)}d.push(f)}return d})})}vz("_executeSelectionRangeProvider",function(o,...e){let[t]=e;return qee(o,t,{selectLeadingAndTrailingWhitespace:!0},qe.None)});Sf();Dt();xe();var Zee=class extends _e{constructor(){super({id:"editor.action.forceRetokenize",label:g("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(e,t){if(!t.hasModel())return;let i=t.getModel();i.resetTokenization();let n=new nr(!0);i.forceTokenization(i.getLineCount()),n.stop(),console.log(`tokenization took ${n.elapsed()}`)}};le(Zee);ls();Dt();xe();var DE=class extends _e{constructor(){super({id:DE.ID,label:g({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2048|43,mac:{primary:256|1024|43},weight:100}})}run(e,t){let n=!n1.getTabFocusMode();n1.setTabFocusMode(n),n?un(g("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):un(g("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}};DE.ID="editor.action.toggleTabFocusMode";le(DE);ne();Er();Dt();_o();xe();var hwe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},Gee=function(o,e){return function(t,i){e(t,i,o)}},uwe=function(o,e,t,i){function n(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?r(d.value):n(d.value).then(a,l)}c((i=i.apply(o,e||[])).next())})},Xee="ignoreUnusualLineTerminators";function fwe(o,e,t){o.setModelProperty(e.uri,Xee,t)}function gwe(o,e){return o.getModelProperty(e.uri,Xee)}var LE=class extends ${constructor(e,t,i){super();this._editor=e,this._dialogService=t,this._codeEditorService=i,this._config=this._editor.getOption(113),this._register(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(113)&&(this._config=this._editor.getOption(113),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(n=>{n.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return uwe(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;let e=this._editor.getModel();if(!e.mightContainUnusualLineTerminators()||gwe(this._codeEditorService,e)===!0||this._editor.getOption(80))return;if(this._config==="auto"){e.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:g("unusualLineTerminators.title","Unusual Line Terminators"),message:g("unusualLineTerminators.message","Detected unusual line terminators"),detail:g("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",Io(e.uri)),primaryButton:g("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:g("unusualLineTerminators.ignore","Ignore")})).confirmed){fwe(this._codeEditorService,e,!0);return}e.removeUnusualLineTerminators(this._editor.getSelections())})}};LE.ID="editor.contrib.unusualLineTerminatorsDetector";LE=hwe([Gee(1,yw),Gee(2,Ot)],LE);Qe(LE.ID,LE);var WMt=jE(Qee());ls();Ut();tt();Ei();st();ne();Dt();ve();Yi();Os();Wn();Tt();xe();_t();yi();dt();var pwe=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(r=(n<3?s(r):n>3?s(e,t,r):s(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},_we=function(o,e){return function(t,i){e(t,i,o)}},bwe=j("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},g("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),vwe=j("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},g("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),wwe=j("editor.wordHighlightBorder",{light:null,dark:null,hc:qn},g("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),Cwe=j("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:qn},g("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),ywe=j("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},g("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Swe=j("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},g("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),lN=new be("hasWordHighlights",!1);function Jee(o,e,t){let i=Ed.ordered(o);return wD(i.map(n=>()=>Promise.resolve(n.provideDocumentHighlights(o,e,t)).then(void 0,Di)),kn)}var WB=class{constructor(e,t,i){this._wordRange=this._getCurrentWordRange(e,t),this.result=wi(n=>this._compute(e,t,i,n))}_getCurrentWordRange(e,t){let i=e.getWordAtPosition(t.getPosition());return i?new D(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):null}isValid(e,t,i){let n=t.startLineNumber,r=t.startColumn,s=t.endColumn,a=this._getCurrentWordRange(e,t),l=Boolean(this._wordRange&&this._wordRange.equalsRange(a));for(let c=0,d=i.length;!l&&c<d;c++){let h=e.getDecorationRange(i[c]);h&&h.startLineNumber===n&&h.startColumn<=r&&h.endColumn>=s&&(l=!0)}return l}cancel(){this.result.cancel()}},ete=class extends WB{_compute(e,t,i,n){return Jee(e,t.getPosition(),n).then(r=>r||[])}},tte=class extends WB{constructor(e,t,i){super(e,t,i);this._selectionIsEmpty=t.isEmpty()}_compute(e,t,i,n){return El(250,n).then(()=>{if(!t.isEmpty())return[];let r=e.getWordAtPosition(t.getPosition());return!r||r.word.length>1e3?[]:e.findMatches(r.word,!0,!1,!0,i,!1).map(a=>({range:a.range,kind:Vb.Text}))})}isValid(e,t,i){let n=t.isEmpty();return this._selectionIsEmpty!==n?!1:super.isValid(e,t,i)}};function Ewe(o,e,t){return Ed.has(o)?new ete(o,e,t):new tte(o,e,t)}Fs("_executeDocumentHighlights",(o,e)=>Jee(o,e,qe.None));var H_=class{constructor(e,t){this.toUnhook=new Q,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this._hasWordHighlights=lN.bindTo(t),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(71),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition(i=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(i)})),this.toUnhook.add(e.onDidChangeModelContent(i=>{this._stopAll()})),this.toUnhook.add(e.onDidChangeConfiguration(i=>{let n=this.editor.getOption(71);this.occurrencesHighlight!==n&&(this.occurrencesHighlight=n,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return hd(this._decorationIds.map(e=>this.model.getDecorationRange(e)).sort(D.compareRangesUsingStarts))}moveNext(){let e=this._getSortedHighlights(),i=(e.findIndex(r=>r.containsPosition(this.editor.getPosition()))+1)%e.length,n=e[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(n.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(n);let r=this._getWord();if(r){let s=this.editor.getModel().getLineContent(n.startLineNumber);un(`${s}, ${i+1} of ${e.length} for '${r.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let e=this._getSortedHighlights(),i=(e.findIndex(r=>r.containsPosition(this.editor.getPosition()))-1+e.length)%e.length,n=e[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(n.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(n);let r=this._getWord();if(r){let s=this.editor.getModel().getLineContent(n.startLineNumber);un(`${s}, ${i+1} of ${e.length} for '${r.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){if(!this.occurrencesHighlight){this._stopAll();return}if(e.reason!==3){this._stopAll();return}this._run()}_getWord(){let e=this.editor.getSelection(),t=e.startLineNumber,i=e.startColumn;return this.model.getWordAtPosition({lineNumber:t,column:i})}_run(){let e=this.editor.getSelection();if(e.startLineNumber!==e.endLineNumber){this._stopAll();return}let t=e.startColumn,i=e.endColumn,n=this._getWord();if(!n||n.startColumn>t||n.endColumn<i){this._stopAll();return}let r=this.workerRequest&&this.workerRequest.isValid(this.model,e,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),r)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let s=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=Ewe(this.model,this.editor.getSelection(),this.editor.getOption(116)),this.workerRequest.result.then(a=>{s===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=a||[],this._beginRenderDecorations())},ye)}}_beginRenderDecorations(){let e=new Date().getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},t-e)}renderDecorations(){this.renderDecorationsTimer=-1;let e=[];for(let t of this.workerRequestValue)t.range&&e.push({range:t.range,options:H_._getDecorationOptions(t.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,e),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(e){return e===Vb.Write?this._WRITE_OPTIONS:e===Vb.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}};H_._WRITE_OPTIONS=Ze.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:Ii(Swe),position:Oo.Center},minimap:{color:Ii(Iv),position:To.Inline}});H_._TEXT_OPTIONS=Ze.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:Ii(lk),position:Oo.Center},minimap:{color:Ii(Iv),position:To.Inline}});H_._REGULAR_OPTIONS=Ze.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:Ii(ywe),position:Oo.Center},minimap:{color:Ii(Iv),position:To.Inline}});var $_=class ite extends ${constructor(e,t){super();this.wordHighlighter=null;let i=()=>{e.hasModel()&&(this.wordHighlighter=new H_(e,t))};this._register(e.onDidChangeModel(n=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),i()})),i()}static get(e){return e.getContribution(ite.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(e){this.wordHighlighter&&e&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};$_.ID="editor.contrib.wordHighlighter";$_=pwe([_we(1,Ce)],$_);var UB=class extends _e{constructor(e,t){super(t);this._isNext=e}run(e,t){let i=$_.get(t);!i||(this._isNext?i.moveNext():i.moveBack())}},nte=class extends UB{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:g("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:lN,kbOpts:{kbExpr:A.editorTextFocus,primary:65,weight:100}})}},ote=class extends UB{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:g("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:lN,kbOpts:{kbExpr:A.editorTextFocus,primary:1024|65,weight:100}})}},rte=class extends _e{constructor(){super({id:"editor.action.wordHighlight.trigger",label:g("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:lN.toNegated(),kbOpts:{kbExpr:A.editorTextFocus,primary:0,weight:100}})}run(e,t,i){let n=$_.get(t);!n||n.restoreViewState(!0)}};Qe($_.ID,$_);le(nte);le(ote);le(rte);gt((o,e)=>{let t=o.getColor(E1);t&&(e.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${t}; }`),e.addRule(`.monaco-editor .selectionHighlight { background-color: ${t.transparent(.5)}; }`));let i=o.getColor(bwe);i&&e.addRule(`.monaco-editor .wordHighlight { background-color: ${i}; }`);let n=o.getColor(vwe);n&&e.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${n}; }`);let r=o.getColor(Hz);r&&e.addRule(`.monaco-editor .selectionHighlight { border: 1px ${o.type==="hc"?"dotted":"solid"} ${r}; box-sizing: border-box; }`);let s=o.getColor(wwe);s&&e.addRule(`.monaco-editor .wordHighlight { border: 1px ${o.type==="hc"?"dashed":"solid"} ${s}; box-sizing: border-box; }`);let a=o.getColor(Cwe);a&&e.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${o.type==="hc"?"dashed":"solid"} ${a}; box-sizing: border-box; }`)});Dt();An();Qb();ot();ve();ai();Yi();zo();xe();_t();var wC=class extends Hi{constructor(e){super(e);this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){if(!t.hasModel())return;let n=Dr(t.getOption(116)),r=t.getModel(),a=t.getSelections().map(l=>{let c=new H(l.positionLineNumber,l.positionColumn),d=this._move(n,r,c,this._wordNavigationType);return this._moveTo(l,d,this._inSelectionMode)});if(r.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,a.map(l=>Ct.fromModelSelection(l))),a.length===1){let l=new H(a[0].positionLineNumber,a[0].positionColumn);t.revealPosition(l,0)}}_moveTo(e,t,i){return i?new de(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new de(t.lineNumber,t.column,t.lineNumber,t.column)}},rf=class extends wC{_move(e,t,i,n){return Ht.moveWordLeft(e,t,i,n)}},sf=class extends wC{_move(e,t,i,n){return Ht.moveWordRight(e,t,i,n)}},ste=class extends rf{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}},ate=class extends rf{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}},lte=class extends rf{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:pe.and(A.textInputFocus,(e=pe.and(Bp,Yy))===null||e===void 0?void 0:e.negate()),primary:2048|15,mac:{primary:512|15},weight:100}})}},cte=class extends rf{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}},dte=class extends rf{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}},hte=class extends rf{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:pe.and(A.textInputFocus,(e=pe.and(Bp,Yy))===null||e===void 0?void 0:e.negate()),primary:2048|1024|15,mac:{primary:512|1024|15},weight:100}})}},ute=class extends rf{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,i,n){return super._move(Dr(Jr.wordSeparators.defaultValue),t,i,n)}},fte=class extends rf{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,i,n){return super._move(Dr(Jr.wordSeparators.defaultValue),t,i,n)}},gte=class extends sf{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}},mte=class extends sf{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:pe.and(A.textInputFocus,(e=pe.and(Bp,Yy))===null||e===void 0?void 0:e.negate()),primary:2048|17,mac:{primary:512|17},weight:100}})}},pte=class extends sf{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}},_te=class extends sf{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}},bte=class extends sf{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:pe.and(A.textInputFocus,(e=pe.and(Bp,Yy))===null||e===void 0?void 0:e.negate()),primary:2048|1024|17,mac:{primary:512|1024|17},weight:100}})}},vte=class extends sf{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}},wte=class extends sf{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,i,n){return super._move(Dr(Jr.wordSeparators.defaultValue),t,i,n)}},Cte=class extends sf{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,i,n){return super._move(Dr(Jr.wordSeparators.defaultValue),t,i,n)}},CC=class extends Hi{constructor(e){super(e);this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){if(!t.hasModel())return;let n=Dr(t.getOption(116)),r=t.getModel(),s=t.getSelections(),a=t.getOption(5),l=t.getOption(8),c=xt.getAutoClosingPairs(r.getLanguageId()),d=t._getViewModel(),h=s.map(u=>{let f=this._delete({wordSeparators:n,model:r,selection:u,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(6),autoClosingBrackets:a,autoClosingQuotes:l,autoClosingPairs:c,autoClosedCharacters:d.getCursorAutoClosedCharacters()},this._wordNavigationType);return new Dn(f,"")});t.pushUndoStop(),t.executeCommands(this.id,h),t.pushUndoStop()}},cN=class extends CC{_delete(e,t){let i=Ht.deleteWordLeft(e,t);return i||new D(1,1,1,1)}},dN=class extends CC{_delete(e,t){let i=Ht.deleteWordRight(e,t);if(i)return i;let n=e.model.getLineCount(),r=e.model.getLineMaxColumn(n);return new D(n,r,n,r)}},yte=class extends cN{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:A.writable})}},Ste=class extends cN{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:A.writable})}},Ete=class extends cN{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:A.writable,kbOpts:{kbExpr:A.textInputFocus,primary:2048|1,mac:{primary:512|1},weight:100}})}},xte=class extends dN{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:A.writable})}},Dte=class extends dN{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:A.writable})}},Lte=class extends dN{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:A.writable,kbOpts:{kbExpr:A.textInputFocus,primary:2048|20,mac:{primary:512|20},weight:100}})}},kte=class extends _e{constructor(){super({id:"deleteInsideWord",precondition:A.writable,label:g("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(e,t,i){if(!t.hasModel())return;let n=Dr(t.getOption(116)),r=t.getModel(),a=t.getSelections().map(l=>{let c=Ht.deleteInsideWord(n,r,l);return new Dn(c,"")});t.pushUndoStop(),t.executeCommands(this.id,a),t.pushUndoStop()}};ue(new ste);ue(new ate);ue(new lte);ue(new cte);ue(new dte);ue(new hte);ue(new gte);ue(new mte);ue(new pte);ue(new _te);ue(new bte);ue(new vte);ue(new ute);ue(new fte);ue(new wte);ue(new Cte);ue(new yte);ue(new Ste);ue(new Ete);ue(new xte);ue(new Dte);ue(new Lte);le(kte);Dt();ve();Yi();zi();var Ite=class extends CC{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:A.writable,kbOpts:{kbExpr:A.textInputFocus,primary:0,mac:{primary:256|512|1},weight:100}})}_delete(e,t){let i=Xv.deleteWordPartLeft(e);return i||new D(1,1,1,1)}},Ote=class extends CC{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:A.writable,kbOpts:{kbExpr:A.textInputFocus,primary:0,mac:{primary:256|512|20},weight:100}})}_delete(e,t){let i=Xv.deleteWordPartRight(e);if(i)return i;let n=e.model.getLineCount(),r=e.model.getLineMaxColumn(n);return new D(n,r,n,r)}},zB=class extends wC{_move(e,t,i,n){return Xv.moveWordPartLeft(e,t,i)}},Tte=class extends zB{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:A.textInputFocus,primary:0,mac:{primary:256|512|15},weight:100}})}};rt.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");var Nte=class extends zB{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:A.textInputFocus,primary:0,mac:{primary:256|512|1024|15},weight:100}})}};rt.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");var VB=class extends wC{_move(e,t,i,n){return Xv.moveWordPartRight(e,t,i)}},Pte=class extends VB{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:A.textInputFocus,primary:0,mac:{primary:256|512|17},weight:100}})}},Rte=class extends VB{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:A.textInputFocus,primary:0,mac:{primary:256|512|1024|17},weight:100}})}};ue(new Ite);ue(new Ote);ue(new Tte);ue(new Nte);ue(new Pte);ue(new Rte);var Mte=Object.defineProperty,xwe=Object.getOwnPropertyDescriptor,Dwe=Object.getOwnPropertyNames,Lwe=Object.prototype.hasOwnProperty,kwe=o=>Mte(o,"__esModule",{value:!0}),Iwe=(o,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Dwe(e))!Lwe.call(o,i)&&i!=="default"&&Mte(o,i,{get:()=>e[i],enumerable:!(t=xwe(e,i))||t.enumerable});return o},yC={};kwe(yC);Iwe(yC,NO);var Ate={},HB={},Fte=class{static getOrCreate(o){return HB[o]||(HB[o]=new Fte(o)),HB[o]}constructor(o){this._languageId=o,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((e,t)=>{this._lazyLoadPromiseResolve=e,this._lazyLoadPromiseReject=t})}whenLoaded(){return this._lazyLoadPromise}load(){return this._loadingTriggered||(this._loadingTriggered=!0,Ate[this._languageId].loader().then(o=>this._lazyLoadPromiseResolve(o),o=>this._lazyLoadPromiseReject(o))),this._lazyLoadPromise}};function Bte(o){let e=o.id;Ate[e]=o,yC.languages.register(o);let t=Fte.getOrCreate(e);yC.languages.setMonarchTokensProvider(e,t.whenLoaded().then(i=>i.language)),yC.languages.onLanguage(e,()=>{t.load().then(i=>{yC.languages.setLanguageConfiguration(e,i.conf)})})}Bte({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>Promise.resolve().then(()=>(Wte(),jte))});var hN=class{wasm;state;evalCounter=0;constructor(e){this.wasm=e,this.state=this.wasm._artichoke_web_repl_init()}read(e){let t=this.wasm._artichoke_string_getlen(this.state,e),i=new Uint8Array(t);for(let n=0;n<t;n+=1){let r=this.wasm._artichoke_string_getch(this.state,e,n);i[n]=r}return new TextDecoder().decode(i)}write(e){let t=this.wasm._artichoke_string_new(this.state),i=new TextEncoder().encode(e);for(let n of i)this.wasm._artichoke_string_putch(this.state,t,n);return t}evalRuby(e){this.evalCounter+=1;let t=`eval-ffi-${this.evalCounter}`;window.gtag("event","level_start",{level_name:t});let i=this.write(e),n=this.wasm._artichoke_eval(this.state,i),r=this.read(n);return this.wasm._artichoke_string_free(this.state,i),this.wasm._artichoke_string_free(this.state,n),window.gtag("event","level_end",{level_name:t,success:!0}),r}};var uN=class{editor;outputPane;constructor(e,t){this.editor=e,this.outputPane=t}};var fN=class{evalType;chrome;counter=0;constructor(e,t){this.evalType=e,this.chrome=t}makeHandler(e){return()=>{let t=this.counter+1;this.counter=t;let i=`playground-run-${this.evalType}-${t}`;window.gtag("event","level_start",{level_name:i});let r=(this.chrome.editor.getModel()?.getLinesContent()??[]).join(`
`),s=e.evalRuby(r);this.chrome.outputPane.getModel()?.setValue(s),window.gtag("event","level_end",{level_name:i,success:!0})}}};var Vte=jE(Ute());var zte=`# frozen_string_literal: true

require 'forwardable'

class Properties
  extend Forwardable
  def_delegators :@properties, :[], :[]=

  def initialize(name)
    @name = name
    @properties = {}
  end

  def inspect
    @name
  end

  def to_h
    @properties
  end
end

artichoke = Properties.new('Artichoke Ruby')
artichoke[:language] = 'Ruby'
artichoke[:implementation] = 'Artichoke'
artichoke[:target] = 'wasm'
artichoke[:emoji] = '\u{1F48E}'

puts artichoke.inspect if artichoke[:emoji] =~ /\u{1F48E}/

artichoke.to_h
`;self.MonacoEnvironment={getWorkerUrl:function(o,e){return e==="json"?"./json.worker.bundle.js":e==="css"||e==="scss"||e==="less"?"./css.worker.bundle.js":e==="html"||e==="handlebars"||e==="razor"?"./html.worker.bundle.js":e==="typescript"||e==="javascript"?"./ts.worker.bundle.js":"./editor.worker.bundle.js"}};var Hte=zte.trim();window.location.hash&&(Hte=decodeURIComponent(window.location.hash).slice(1));var Pwe=document.getElementById("editor"),mN=TO.create(Pwe,{value:Hte,language:"ruby",theme:"vs-dark",fontSize:14,automaticLayout:!0});mN.getModel()?.onDidChangeContent(()=>{let e=(mN.getModel()?.getLinesContent()??[]).join(`
`),t=encodeURIComponent(e);history.replaceState(void 0,"",`#${t}`)});var Rwe=document.getElementById("output"),Mwe=TO.create(Rwe,{language:"plaintext",theme:"vs-dark",fontSize:14,automaticLayout:!0,lineNumbers:"off",readOnly:!0,wordWrap:"bounded",wordWrapBreakAfterCharacters:"",minimap:{enabled:!1}}),Awe=new URLSearchParams(window.location.search);Awe.has("embed")&&document.getElementById("embeddable")?.setAttribute("style","position: absolute; width: 100%; height: 100%; top:0; left: 0; background-color: white; max-width: 100%");(0,Vte.default)().then(o=>{let e=new uN(mN,Mwe),t="playground-interpreter-init";window.gtag("event","level_start",{level_name:t});let i=new hN(o),n=document.getElementById("artichoke-build-info");n.textContent=i.read(0),document.getElementById("run")?.addEventListener("click",new fN("button",e).makeHandler(i)),mN.addAction({id:"artichoke-playground-run-ruby",label:"Run Ruby source code",keybindings:[A5.CtrlCmd|M5.F8],contextMenuGroupId:"2_playground_eval",run:new fN("code_action",e).makeHandler(i)}),window.gtag("event","level_end",{level_name:t,success:!0})});})();
/*!
  * Bootstrap v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.31.1(337587859b1c171314b40503171188b6cea6a32a)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
